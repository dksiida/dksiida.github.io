var mD=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Bn=(t,e,n)=>(mD(t,e,"read from private field"),n?n.call(t):e.get(t)),Ug=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jg=(t,e,n,r)=>(mD(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function jP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yb(t){var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(e,o);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var zf={exports:{}},Wf={};var FD=Object.getOwnPropertySymbols,$P=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable;function VP(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function GP(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var JT=GP()?Object.assign:function(t,e){for(var n,r=VP(t),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)$P.call(n,a)&&(r[a]=n[a]);if(FD){o=FD(n);for(var l=0;l<o.length;l++)qP.call(n,o[l])&&(r[o[l]]=n[o[l]])}}return r},X={exports:{}},St={};var bb=JT,_c=60103,XT=60106;St.Fragment=60107;St.StrictMode=60108;St.Profiler=60114;var QT=60109,ZT=60110,e8=60112;St.Suspense=60113;var t8=60115,n8=60116;if(typeof Symbol=="function"&&Symbol.for){var vo=Symbol.for;_c=vo("react.element"),XT=vo("react.portal"),St.Fragment=vo("react.fragment"),St.StrictMode=vo("react.strict_mode"),St.Profiler=vo("react.profiler"),QT=vo("react.provider"),ZT=vo("react.context"),e8=vo("react.forward_ref"),St.Suspense=vo("react.suspense"),t8=vo("react.memo"),n8=vo("react.lazy")}var _D=typeof Symbol=="function"&&Symbol.iterator;function KP(t){return t===null||typeof t!="object"?null:(t=_D&&t[_D]||t["@@iterator"],typeof t=="function"?t:null)}function Yf(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o8={};function vc(t,e,n){this.props=t,this.context=e,this.refs=o8,this.updater=n||r8}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Yf(85));this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i8(){}i8.prototype=vc.prototype;function Eb(t,e,n){this.props=t,this.context=e,this.refs=o8,this.updater=n||r8}var wb=Eb.prototype=new i8;wb.constructor=Eb;bb(wb,vc.prototype);wb.isPureReactComponent=!0;var Db={current:null},a8=Object.prototype.hasOwnProperty,s8={key:!0,ref:!0,__self:!0,__source:!0};function l8(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)a8.call(e,r)&&!s8.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:_c,type:t,key:i,ref:a,props:o,_owner:Db.current}}function HP(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kb(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function zP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vD=/\/+/g;function PF(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zP(""+t.key):e.toString(36)}function J1(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _c:case XT:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+PF(a,0):r,Array.isArray(o)?(n="",t!=null&&(n=t.replace(vD,"$&/")+"/"),J1(o,e,n,"",function(d){return d})):o!=null&&(kb(o)&&(o=HP(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(vD,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+PF(i,l);a+=J1(i,e,n,u,o)}else if(u=KP(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+PF(i,l++),a+=J1(i,e,n,u,o);else if(i==="object")throw e=""+t,Error(Yf(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function $g(t,e,n){if(t==null)return t;var r=[],o=0;return J1(t,r,"","",function(i){return e.call(n,i,o++)}),r}function WP(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var u8={current:null};function Wi(){var t=u8.current;if(t===null)throw Error(Yf(321));return t}var YP={ReactCurrentDispatcher:u8,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Db,IsSomeRendererActing:{current:!1},assign:bb};St.Children={map:$g,forEach:function(t,e,n){$g(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $g(t,function(){e++}),e},toArray:function(t){return $g(t,function(e){return e})||[]},only:function(t){if(!kb(t))throw Error(Yf(143));return t}};St.Component=vc;St.PureComponent=Eb;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;St.cloneElement=function(t,e,n){if(t==null)throw Error(Yf(267,t));var r=bb({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Db.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)a8.call(e,u)&&!s8.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:_c,type:t.type,key:o,ref:i,props:r,_owner:a}};St.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:ZT,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:QT,_context:t},t.Consumer=t};St.createElement=l8;St.createFactory=function(t){var e=l8.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:e8,render:t}};St.isValidElement=kb;St.lazy=function(t){return{$$typeof:n8,_payload:{_status:-1,_result:t},_init:WP}};St.memo=function(t,e){return{$$typeof:t8,type:t,compare:e===void 0?null:e}};St.useCallback=function(t,e){return Wi().useCallback(t,e)};St.useContext=function(t,e){return Wi().useContext(t,e)};St.useDebugValue=function(){};St.useEffect=function(t,e){return Wi().useEffect(t,e)};St.useImperativeHandle=function(t,e,n){return Wi().useImperativeHandle(t,e,n)};St.useLayoutEffect=function(t,e){return Wi().useLayoutEffect(t,e)};St.useMemo=function(t,e){return Wi().useMemo(t,e)};St.useReducer=function(t,e,n){return Wi().useReducer(t,e,n)};St.useRef=function(t){return Wi().useRef(t)};St.useState=function(t){return Wi().useState(t)};St.version="17.0.2";(function(t){t.exports=St})(X);const nn=Wp(X.exports);var JP=X.exports,c8=60103;Wf.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var yD=Symbol.for;c8=yD("react.element"),Wf.Fragment=yD("react.fragment")}var XP=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QP=Object.prototype.hasOwnProperty,ZP={key:!0,ref:!0,__self:!0,__source:!0};function d8(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)QP.call(e,r)&&!ZP.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:c8,type:t,key:i,ref:a,props:o,_owner:XP.current}}Wf.jsx=d8;Wf.jsxs=d8;(function(t){t.exports=Wf})(zf);const Qe=zf.exports.Fragment,E=zf.exports.jsx,re=zf.exports.jsxs;var Yp={exports:{}},fo={},h8={exports:{}},f8={};(function(t){var e,n,r,o;if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,d=null,s=function(){if(u!==null)try{var D=t.unstable_now();u(!0,D),u=null}catch(R){throw setTimeout(s,0),R}};e=function(D){u!==null?setTimeout(e,0,D):(u=D,setTimeout(s,0))},n=function(D,R){d=setTimeout(D,R)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,c=window.clearTimeout;if(typeof console<"u"){var h=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof h!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,F=null,m=-1,p=5,f=0;t.unstable_shouldYield=function(){return t.unstable_now()>=f},o=function(){},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<D?Math.floor(1e3/D):5};var v=new MessageChannel,y=v.port2;v.port1.onmessage=function(){if(F!==null){var D=t.unstable_now();f=D+p;try{F(!0,D)?y.postMessage(null):(_=!1,F=null)}catch(R){throw y.postMessage(null),R}}else _=!1},e=function(D){F=D,_||(_=!0,y.postMessage(null))},n=function(D,R){m=g(function(){D(t.unstable_now())},R)},r=function(){c(m),m=-1}}function w(D,R){var B=D.length;D.push(R);e:for(;;){var H=B-1>>>1,Q=D[H];if(Q!==void 0&&0<x(Q,R))D[H]=R,D[B]=Q,B=H;else break e}}function b(D){return D=D[0],D===void 0?null:D}function S(D){var R=D[0];if(R!==void 0){var B=D.pop();if(B!==R){D[0]=B;e:for(var H=0,Q=D.length;H<Q;){var L=2*(H+1)-1,le=D[L],he=L+1,De=D[he];if(le!==void 0&&0>x(le,B))De!==void 0&&0>x(De,le)?(D[H]=De,D[he]=B,H=he):(D[H]=le,D[L]=B,H=L);else if(De!==void 0&&0>x(De,B))D[H]=De,D[he]=B,H=he;else break e}}return R}return null}function x(D,R){var B=D.sortIndex-R.sortIndex;return B!==0?B:D.id-R.id}var N=[],U=[],q=1,P=null,G=3,C=!1,I=!1,M=!1;function A(D){for(var R=b(U);R!==null;){if(R.callback===null)S(U);else if(R.startTime<=D)S(U),R.sortIndex=R.expirationTime,w(N,R);else break;R=b(U)}}function $(D){if(M=!1,A(D),!I)if(b(N)!==null)I=!0,e(Y);else{var R=b(U);R!==null&&n($,R.startTime-D)}}function Y(D,R){I=!1,M&&(M=!1,r()),C=!0;var B=G;try{for(A(R),P=b(N);P!==null&&(!(P.expirationTime>R)||D&&!t.unstable_shouldYield());){var H=P.callback;if(typeof H=="function"){P.callback=null,G=P.priorityLevel;var Q=H(P.expirationTime<=R);R=t.unstable_now(),typeof Q=="function"?P.callback=Q:P===b(N)&&S(N),A(R)}else S(N);P=b(N)}if(P!==null)var L=!0;else{var le=b(U);le!==null&&n($,le.startTime-R),L=!1}return L}finally{P=null,G=B,C=!1}}var T=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){I||C||(I=!0,e(Y))},t.unstable_getCurrentPriorityLevel=function(){return G},t.unstable_getFirstCallbackNode=function(){return b(N)},t.unstable_next=function(D){switch(G){case 1:case 2:case 3:var R=3;break;default:R=G}var B=G;G=R;try{return D()}finally{G=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=T,t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=G;G=D;try{return R()}finally{G=B}},t.unstable_scheduleCallback=function(D,R,B){var H=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,D={id:q++,callback:R,priorityLevel:D,startTime:B,expirationTime:Q,sortIndex:-1},B>H?(D.sortIndex=B,w(U,D),b(N)===null&&D===b(U)&&(M?r():M=!0,n($,B-H))):(D.sortIndex=Q,w(N,D),I||C||(I=!0,e(Y))),D},t.unstable_wrapCallback=function(D){var R=G;return function(){var B=G;G=R;try{return D.apply(this,arguments)}finally{G=B}}}})(f8);(function(t){t.exports=f8})(h8);var Jp=X.exports,zt=JT,vn=h8.exports;function Ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Jp)throw Error(Ge(227));var g8=new Set,af={};function dl(t,e){zu(t,e),zu(t+"Capture",e)}function zu(t,e){for(af[t]=e,t=0;t<e.length;t++)g8.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bD=Object.prototype.hasOwnProperty,ED={},wD={};function tM(t){return bD.call(wD,t)?!0:bD.call(ED,t)?!1:eM.test(t)?wD[t]=!0:(ED[t]=!0,!1)}function nM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rM(t,e,n,r){if(e===null||typeof e>"u"||nM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function xb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sb,xb);In[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sb,xb);In[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sb,xb);In[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cb(t,e,n,r){var o=In.hasOwnProperty(e)?In[e]:null,i=o!==null?o.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");i||(rM(e,n,o,r)&&(n=null),r||o===null?tM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hl=Jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=60103,Ls=60106,Fa=60107,Tb=60108,Sh=60114,Ib=60109,Rb=60110,Xp=60112,xh=60113,E0=60120,Qp=60115,Ab=60116,Ob=60121,Bb=60128,p8=60129,Pb=60130,G2=60131;if(typeof Symbol=="function"&&Symbol.for){var gn=Symbol.for;dh=gn("react.element"),Ls=gn("react.portal"),Fa=gn("react.fragment"),Tb=gn("react.strict_mode"),Sh=gn("react.profiler"),Ib=gn("react.provider"),Rb=gn("react.context"),Xp=gn("react.forward_ref"),xh=gn("react.suspense"),E0=gn("react.suspense_list"),Qp=gn("react.memo"),Ab=gn("react.lazy"),Ob=gn("react.block"),gn("react.scope"),Bb=gn("react.opaque.id"),p8=gn("react.debug_trace_mode"),Pb=gn("react.offscreen"),G2=gn("react.legacy_hidden")}var DD=typeof Symbol=="function"&&Symbol.iterator;function Hc(t){return t===null||typeof t!="object"?null:(t=DD&&t[DD]||t["@@iterator"],typeof t=="function"?t:null)}var MF;function hh(t){if(MF===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);MF=e&&e[1]||""}return`
`+MF+t}var NF=!1;function qg(t,e){if(!t||NF)return"";NF=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l])return`
`+o[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{NF=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hh(t):""}function oM(t){switch(t.tag){case 5:return hh(t.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return t=qg(t.type,!1),t;case 11:return t=qg(t.type.render,!1),t;case 22:return t=qg(t.type._render,!1),t;case 1:return t=qg(t.type,!0),t;default:return""}}function Ru(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fa:return"Fragment";case Ls:return"Portal";case Sh:return"Profiler";case Tb:return"StrictMode";case xh:return"Suspense";case E0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rb:return(t.displayName||"Context")+".Consumer";case Ib:return(t._context.displayName||"Context")+".Provider";case Xp:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Qp:return Ru(t.type);case Ob:return Ru(t._render);case Ab:e=t._payload,t=t._init;try{return Ru(t(e))}catch{}}return null}function Ua(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function m8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iM(t){var e=m8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vg(t){t._valueTracker||(t._valueTracker=iM(t))}function F8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function w0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K2(t,e){var n=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _8(t,e){e=e.checked,e!=null&&Cb(t,"checked",e,!1)}function H2(t,e){_8(t,e);var n=Ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?z2(t,e.type,n):e.hasOwnProperty("defaultValue")&&z2(t,e.type,Ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function z2(t,e,n){(e!=="number"||w0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function aM(t){var e="";return Jp.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function W2(t,e){return t=zt({children:void 0},e),(e=aM(e.children))&&(t.children=e),t}function Au(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ua(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Y2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ge(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ua(n)}}function v8(t,e){var n=Ua(e.value),r=Ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function CD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var J2={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function y8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gg,b8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!==J2.svg||"innerHTML"in t)t.innerHTML=e;else{for(Gg=Gg||document.createElement("div"),Gg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ch={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sM=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(t){sM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ch[e]=Ch[t]})});function E8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ch.hasOwnProperty(t)&&Ch[t]?(""+e).trim():e+"px"}function w8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=E8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var lM=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q2(t,e){if(e){if(lM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function Z2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Mb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,Ou=null,Bu=null;function TD(t){if(t=Xf(t)){if(typeof ev!="function")throw Error(Ge(280));var e=t.stateNode;e&&(e=om(e),ev(t.stateNode,t.type,e))}}function D8(t){Ou?Bu?Bu.push(t):Bu=[t]:Ou=t}function k8(){if(Ou){var t=Ou,e=Bu;if(Bu=Ou=null,TD(t),e)for(t=0;t<e.length;t++)TD(e[t])}}function Nb(t,e){return t(e)}function S8(t,e,n,r,o){return t(e,n,r,o)}function Lb(){}var x8=Nb,Us=!1,LF=!1;function Ub(){(Ou!==null||Bu!==null)&&(Lb(),k8())}function uM(t,e,n){if(LF)return t(e,n);LF=!0;try{return x8(t,e,n)}finally{LF=!1,Ub()}}function lf(t,e){var n=t.stateNode;if(n===null)return null;var r=om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ge(231,e,typeof n));return n}var tv=!1;if(Gi)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){tv=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{tv=!1}function cM(t,e,n,r,o,i,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(s){this.onError(s)}}var Th=!1,D0=null,k0=!1,nv=null,dM={onError:function(t){Th=!0,D0=t}};function hM(t,e,n,r,o,i,a,l,u){Th=!1,D0=null,cM.apply(dM,arguments)}function fM(t,e,n,r,o,i,a,l,u){if(hM.apply(this,arguments),Th){if(Th){var d=D0;Th=!1,D0=null}else throw Error(Ge(198));k0||(k0=!0,nv=d)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ID(t){if(fl(t)!==t)throw Error(Ge(188))}function gM(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(Ge(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ID(o),t;if(i===r)return ID(o),e;i=i.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?t:e}function T8(t){if(t=gM(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function RD(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var I8,jb,R8,A8,rv=!1,ti=[],Ta=null,Ia=null,Ra=null,uf=new Map,cf=new Map,Wc=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(t,e,n,r,o){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function OD(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":uf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(e.pointerId)}}function Yc(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t=ov(e,n,r,o,i),e!==null&&(e=Xf(e),e!==null&&jb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function pM(t,e,n,r,o){switch(e){case"focusin":return Ta=Yc(Ta,t,e,n,r,o),!0;case"dragenter":return Ia=Yc(Ia,t,e,n,r,o),!0;case"mouseover":return Ra=Yc(Ra,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return uf.set(i,Yc(uf.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,cf.set(i,Yc(cf.get(i)||null,t,e,n,r,o)),!0}return!1}function mM(t){var e=js(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=C8(n),e!==null){t.blockedOn=e,A8(t.lanePriority,function(){vn.unstable_runWithPriority(t.priority,function(){R8(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function X1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Xf(n),e!==null&&jb(e),t.blockedOn=n,!1;e.shift()}return!0}function BD(t,e,n){X1(t)&&n.delete(e)}function FM(){for(rv=!1;0<ti.length;){var t=ti[0];if(t.blockedOn!==null){t=Xf(t.blockedOn),t!==null&&I8(t);break}for(var e=t.targetContainers;0<e.length;){var n=Gb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&ti.shift()}Ta!==null&&X1(Ta)&&(Ta=null),Ia!==null&&X1(Ia)&&(Ia=null),Ra!==null&&X1(Ra)&&(Ra=null),uf.forEach(BD),cf.forEach(BD)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,rv||(rv=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,FM)))}function O8(t){function e(o){return Jc(o,t)}if(0<ti.length){Jc(ti[0],t);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&Jc(Ta,t),Ia!==null&&Jc(Ia,t),Ra!==null&&Jc(Ra,t),uf.forEach(e),cf.forEach(e),n=0;n<Wc.length;n++)r=Wc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wc.length&&(n=Wc[0],n.blockedOn===null);)mM(n),n.blockedOn===null&&Wc.shift()}function Kg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fu={animationend:Kg("Animation","AnimationEnd"),animationiteration:Kg("Animation","AnimationIteration"),animationstart:Kg("Animation","AnimationStart"),transitionend:Kg("Transition","TransitionEnd")},UF={},B8={};Gi&&(B8=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Zp(t){if(UF[t])return UF[t];if(!fu[t])return t;var e=fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B8)return UF[t]=e[n];return t}var P8=Zp("animationend"),M8=Zp("animationiteration"),N8=Zp("animationstart"),L8=Zp("transitionend"),U8=new Map,$b=new Map,_M=["abort","abort",P8,"animationEnd",M8,"animationIteration",N8,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",L8,"transitionEnd","waiting","waiting"];function qb(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),$b.set(r,e),U8.set(r,o),dl(o,[r])}}var vM=vn.unstable_now;vM();var Lt=8;function su(t){if(1&t)return Lt=15,1;if(2&t)return Lt=14,2;if(4&t)return Lt=13,4;var e=24&t;return e!==0?(Lt=12,e):t&32?(Lt=11,32):(e=192&t,e!==0?(Lt=10,e):t&256?(Lt=9,256):(e=3584&t,e!==0?(Lt=8,e):t&4096?(Lt=7,4096):(e=4186112&t,e!==0?(Lt=6,e):(e=62914560&t,e!==0?(Lt=5,e):t&67108864?(Lt=4,67108864):t&134217728?(Lt=3,134217728):(e=805306368&t,e!==0?(Lt=2,e):1073741824&t?(Lt=1,1073741824):(Lt=8,t))))))}function yM(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function bM(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ge(358,t))}}function df(t,e){var n=t.pendingLanes;if(n===0)return Lt=0;var r=0,o=0,i=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(i!==0)r=i,o=Lt=15;else if(i=n&134217727,i!==0){var u=i&~a;u!==0?(r=su(u),o=Lt):(l&=i,l!==0&&(r=su(l),o=Lt))}else i=n&~a,i!==0?(r=su(i),o=Lt):l!==0&&(r=su(l),o=Lt);if(r===0)return 0;if(r=31-ja(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&a)){if(su(e),o<=Lt)return e;Lt=o}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ja(e),o=1<<n,r|=t[n],e&=~o;return r}function j8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S0(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=lu(24&~e),t===0?S0(10,e):t;case 10:return t=lu(192&~e),t===0?S0(8,e):t;case 8:return t=lu(3584&~e),t===0&&(t=lu(4186112&~e),t===0&&(t=512)),t;case 2:return e=lu(805306368&~e),e===0&&(e=268435456),e}throw Error(Ge(358,t))}function lu(t){return t&-t}function jF(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function em(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-ja(e),t[e]=n}var ja=Math.clz32?Math.clz32:DM,EM=Math.log,wM=Math.LN2;function DM(t){return t===0?32:31-(EM(t)/wM|0)|0}var kM=vn.unstable_UserBlockingPriority,SM=vn.unstable_runWithPriority,Q1=!0;function xM(t,e,n,r){Us||Lb();var o=Vb,i=Us;Us=!0;try{S8(o,t,e,n,r)}finally{(Us=i)||Ub()}}function CM(t,e,n,r){SM(kM,Vb.bind(null,t,e,n,r))}function Vb(t,e,n,r){if(Q1){var o;if((o=(e&4)===0)&&0<ti.length&&-1<AD.indexOf(t))t=ov(null,t,e,n,r),ti.push(t);else{var i=Gb(t,e,n,r);if(i===null)o&&OD(t,r);else{if(o){if(-1<AD.indexOf(t)){t=ov(i,t,e,n,r),ti.push(t);return}if(pM(i,t,e,n,r))return;OD(t,r)}Z8(t,e,r,null,n)}}}}function Gb(t,e,n,r){var o=Mb(r);if(o=js(o),o!==null){var i=fl(o);if(i===null)o=null;else{var a=i.tag;if(a===13){if(o=C8(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Z8(t,e,r,o,n),null}var ba=null,Kb=null,Z1=null;function $8(){if(Z1)return Z1;var t,e=Kb,n=e.length,r,o="value"in ba?ba.value:ba.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return Z1=o.slice(t,1<r?1-r:void 0)}function e0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hg(){return!0}function PD(){return!1}function Lr(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hg:PD,this.isPropagationStopped=PD,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hg)},persist:function(){},isPersistent:Hg}),e}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=Lr(yc),Jf=zt({},yc,{view:0,detail:0}),TM=Lr(Jf),$F,qF,Xc,tm=zt({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xc&&(Xc&&t.type==="mousemove"?($F=t.screenX-Xc.screenX,qF=t.screenY-Xc.screenY):qF=$F=0,Xc=t),$F)},movementY:function(t){return"movementY"in t?t.movementY:qF}}),MD=Lr(tm),IM=zt({},tm,{dataTransfer:0}),RM=Lr(IM),AM=zt({},Jf,{relatedTarget:0}),VF=Lr(AM),OM=zt({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),BM=Lr(OM),PM=zt({},yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MM=Lr(PM),NM=zt({},yc,{data:0}),ND=Lr(NM),LM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $M(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jM[t])?!!e[t]:!1}function zb(){return $M}var qM=zt({},Jf,{key:function(t){if(t.key){var e=LM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=e0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zb,charCode:function(t){return t.type==="keypress"?e0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?e0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VM=Lr(qM),GM=zt({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LD=Lr(GM),KM=zt({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zb}),HM=Lr(KM),zM=zt({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),WM=Lr(zM),YM=zt({},tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JM=Lr(YM),XM=[9,13,27,32],Wb=Gi&&"CompositionEvent"in window,Ih=null;Gi&&"documentMode"in document&&(Ih=document.documentMode);var QM=Gi&&"TextEvent"in window&&!Ih,q8=Gi&&(!Wb||Ih&&8<Ih&&11>=Ih),UD=String.fromCharCode(32),jD=!1;function V8(t,e){switch(t){case"keyup":return XM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function ZM(t,e){switch(t){case"compositionend":return G8(e);case"keypress":return e.which!==32?null:(jD=!0,UD);case"textInput":return t=e.data,t===UD&&jD?null:t;default:return null}}function eN(t,e){if(gu)return t==="compositionend"||!Wb&&V8(t,e)?(t=$8(),Z1=Kb=ba=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q8&&e.locale!=="ko"?null:e.data;default:return null}}var tN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $D(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tN[t.type]:e==="textarea"}function K8(t,e,n,r){D8(r),e=x0(e,"onChange"),0<e.length&&(n=new Hb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rh=null,hf=null;function nN(t){J8(t,0)}function nm(t){var e=mu(t);if(F8(e))return t}function rN(t,e){if(t==="change")return e}var H8=!1;if(Gi){var GF;if(Gi){var KF="oninput"in document;if(!KF){var qD=document.createElement("div");qD.setAttribute("oninput","return;"),KF=typeof qD.oninput=="function"}GF=KF}else GF=!1;H8=GF&&(!document.documentMode||9<document.documentMode)}function VD(){Rh&&(Rh.detachEvent("onpropertychange",z8),hf=Rh=null)}function z8(t){if(t.propertyName==="value"&&nm(hf)){var e=[];if(K8(e,hf,t,Mb(t)),t=nN,Us)t(e);else{Us=!0;try{Nb(t,e)}finally{Us=!1,Ub()}}}}function oN(t,e,n){t==="focusin"?(VD(),Rh=e,hf=n,Rh.attachEvent("onpropertychange",z8)):t==="focusout"&&VD()}function iN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nm(hf)}function aN(t,e){if(t==="click")return nm(e)}function sN(t,e){if(t==="input"||t==="change")return nm(e)}function lN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var to=typeof Object.is=="function"?Object.is:lN,uN=Object.prototype.hasOwnProperty;function ff(t,e){if(to(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!uN.call(e,n[r])||!to(t[n[r]],e[n[r]]))return!1;return!0}function GD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KD(t,e){var n=GD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GD(n)}}function W8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HD(){for(var t=window,e=w0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=w0(t.document)}return e}function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cN=Gi&&"documentMode"in document&&11>=document.documentMode,pu=null,av=null,Ah=null,sv=!1;function zD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sv||pu==null||pu!==w0(r)||(r=pu,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ah&&ff(Ah,r)||(Ah=r,r=x0(av,"onSelect"),0<r.length&&(e=new Hb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pu)))}qb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);qb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);qb(_M,2);for(var WD="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),HF=0;HF<WD.length;HF++)$b.set(WD[HF],0);zu("onMouseEnter",["mouseout","mouseover"]);zu("onMouseLeave",["mouseout","mouseover"]);zu("onPointerEnter",["pointerout","pointerover"]);zu("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y8=new Set("cancel close invalid load scroll toggle".split(" ").concat(fh));function YD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fM(r,e,void 0,t),t.currentTarget=null}function J8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;YD(o,l,d),i=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;YD(o,l,d),i=u}}}if(k0)throw t=nv,k0=!1,nv=null,t}function jt(t,e){var n=tI(e),r=t+"__bubble";n.has(r)||(Q8(e,t,2,!1),n.add(r))}var JD="_reactListening"+Math.random().toString(36).slice(2);function X8(t){t[JD]||(t[JD]=!0,g8.forEach(function(e){Y8.has(e)||XD(e,!1,t,null),XD(e,!0,t,null)}))}function XD(t,e,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=n;if(t==="selectionchange"&&n.nodeType!==9&&(i=n.ownerDocument),r!==null&&!e&&Y8.has(t)){if(t!=="scroll")return;o|=2,i=r}var a=tI(i),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(o|=4),Q8(i,t,o,e),a.add(l))}function Q8(t,e,n,r){var o=$b.get(e);switch(o===void 0?2:o){case 0:o=xM;break;case 1:o=CM;break;default:o=Vb}n=o.bind(null,e,n,t),o=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Z8(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;l!==null;){if(a=js(l),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}l=l.parentNode}}r=r.return}uM(function(){var d=i,s=Mb(n),g=[];e:{var c=U8.get(t);if(c!==void 0){var h=Hb,_=t;switch(t){case"keypress":if(e0(n)===0)break e;case"keydown":case"keyup":h=VM;break;case"focusin":_="focus",h=VF;break;case"focusout":_="blur",h=VF;break;case"beforeblur":case"afterblur":h=VF;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=MD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=RM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HM;break;case P8:case M8:case N8:h=BM;break;case L8:h=WM;break;case"scroll":h=TM;break;case"wheel":h=JM;break;case"copy":case"cut":case"paste":h=MM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=LD}var F=(e&4)!==0,m=!F&&t==="scroll",p=F?c!==null?c+"Capture":null:c;F=[];for(var f=d,v;f!==null;){v=f;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,p!==null&&(y=lf(f,p),y!=null&&F.push(gf(f,y,v)))),m)break;f=f.return}0<F.length&&(c=new h(c,_,null,n,s),g.push({event:c,listeners:F}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",c&&!(e&16)&&(_=n.relatedTarget||n.fromElement)&&(js(_)||_[bc]))break e;if((h||c)&&(c=s.window===s?s:(c=s.ownerDocument)?c.defaultView||c.parentWindow:window,h?(_=n.relatedTarget||n.toElement,h=d,_=_?js(_):null,_!==null&&(m=fl(_),_!==m||_.tag!==5&&_.tag!==6)&&(_=null)):(h=null,_=d),h!==_)){if(F=MD,y="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(F=LD,y="onPointerLeave",p="onPointerEnter",f="pointer"),m=h==null?c:mu(h),v=_==null?c:mu(_),c=new F(y,f+"leave",h,n,s),c.target=m,c.relatedTarget=v,y=null,js(s)===d&&(F=new F(p,f+"enter",_,n,s),F.target=v,F.relatedTarget=m,y=F),m=y,h&&_)t:{for(F=h,p=_,f=0,v=F;v;v=Il(v))f++;for(v=0,y=p;y;y=Il(y))v++;for(;0<f-v;)F=Il(F),f--;for(;0<v-f;)p=Il(p),v--;for(;f--;){if(F===p||p!==null&&F===p.alternate)break t;F=Il(F),p=Il(p)}F=null}else F=null;h!==null&&QD(g,c,h,F,!1),_!==null&&m!==null&&QD(g,m,_,F,!0)}}e:{if(c=d?mu(d):window,h=c.nodeName&&c.nodeName.toLowerCase(),h==="select"||h==="input"&&c.type==="file")var w=rN;else if($D(c))if(H8)w=sN;else{w=iN;var b=oN}else(h=c.nodeName)&&h.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(w=aN);if(w&&(w=w(t,d))){K8(g,w,n,s);break e}b&&b(t,c,d),t==="focusout"&&(b=c._wrapperState)&&b.controlled&&c.type==="number"&&z2(c,"number",c.value)}switch(b=d?mu(d):window,t){case"focusin":($D(b)||b.contentEditable==="true")&&(pu=b,av=d,Ah=null);break;case"focusout":Ah=av=pu=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,zD(g,n,s);break;case"selectionchange":if(cN)break;case"keydown":case"keyup":zD(g,n,s)}var S;if(Wb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else gu?V8(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(q8&&n.locale!=="ko"&&(gu||x!=="onCompositionStart"?x==="onCompositionEnd"&&gu&&(S=$8()):(ba=s,Kb="value"in ba?ba.value:ba.textContent,gu=!0)),b=x0(d,x),0<b.length&&(x=new ND(x,t,null,n,s),g.push({event:x,listeners:b}),S?x.data=S:(S=G8(n),S!==null&&(x.data=S)))),(S=QM?ZM(t,n):eN(t,n))&&(d=x0(d,"onBeforeInput"),0<d.length&&(s=new ND("onBeforeInput","beforeinput",null,n,s),g.push({event:s,listeners:d}),s.data=S))}J8(g,e)})}function gf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function x0(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=lf(t,n),i!=null&&r.unshift(gf(t,i,o)),i=lf(t,e),i!=null&&r.push(gf(t,i,o))),t=t.return}return r}function Il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QD(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,o?(u=lf(n,i),u!=null&&a.unshift(gf(n,u,l))):o||(u=lf(n,i),u!=null&&a.push(gf(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function C0(){}var zF=null,WF=null;function eI(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function lv(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZD=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0;function Yb(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Pu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function e4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var YF=0;function hN(t){return{$$typeof:Bb,toString:t,valueOf:t}}var rm=Math.random().toString(36).slice(2),Ea="__reactFiber$"+rm,T0="__reactProps$"+rm,bc="__reactContainer$"+rm,t4="__reactEvents$"+rm;function js(t){var e=t[Ea];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bc]||n[Ea]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=e4(t);t!==null;){if(n=t[Ea])return n;t=e4(t)}return e}t=n,n=t.parentNode}return null}function Xf(t){return t=t[Ea]||t[bc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ge(33))}function om(t){return t[T0]||null}function tI(t){var e=t[t4];return e===void 0&&(e=t[t4]=new Set),e}var uv=[],Fu=-1;function Ja(t){return{current:t}}function Gt(t){0>Fu||(t.current=uv[Fu],uv[Fu]=null,Fu--)}function tn(t,e){Fu++,uv[Fu]=t.current,t.current=e}var $a={},Vn=Ja($a),br=Ja(!1),Zs=$a;function Wu(t,e){var n=t.type.contextTypes;if(!n)return $a;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Er(t){return t=t.childContextTypes,t!=null}function I0(){Gt(br),Gt(Vn)}function n4(t,e,n){if(Vn.current!==$a)throw Error(Ge(168));tn(Vn,e),tn(br,n)}function nI(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ge(108,Ru(e)||"Unknown",o));return zt({},n,r)}function t0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$a,Zs=Vn.current,tn(Vn,t),tn(br,br.current),!0}function r4(t,e,n){var r=t.stateNode;if(!r)throw Error(Ge(169));n?(t=nI(t,e,Zs),r.__reactInternalMemoizedMergedChildContext=t,Gt(br),Gt(Vn),tn(Vn,t)):Gt(br),tn(br,n)}var Jb=null,Ws=null,fN=vn.unstable_runWithPriority,Xb=vn.unstable_scheduleCallback,cv=vn.unstable_cancelCallback,gN=vn.unstable_shouldYield,o4=vn.unstable_requestPaint,dv=vn.unstable_now,pN=vn.unstable_getCurrentPriorityLevel,im=vn.unstable_ImmediatePriority,rI=vn.unstable_UserBlockingPriority,oI=vn.unstable_NormalPriority,iI=vn.unstable_LowPriority,aI=vn.unstable_IdlePriority,JF={},mN=o4!==void 0?o4:function(){},Ai=null,n0=null,XF=!1,i4=dv(),jn=1e4>i4?dv:function(){return dv()-i4};function Yu(){switch(pN()){case im:return 99;case rI:return 98;case oI:return 97;case iI:return 96;case aI:return 95;default:throw Error(Ge(332))}}function sI(t){switch(t){case 99:return im;case 98:return rI;case 97:return oI;case 96:return iI;case 95:return aI;default:throw Error(Ge(332))}}function el(t,e){return t=sI(t),fN(t,e)}function pf(t,e,n){return t=sI(t),Xb(t,e,n)}function Fi(){if(n0!==null){var t=n0;n0=null,cv(t)}lI()}function lI(){if(!XF&&Ai!==null){XF=!0;var t=0;try{var e=Ai;el(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Ai=null}catch(n){throw Ai!==null&&(Ai=Ai.slice(t+1)),Xb(im,Fi),n}finally{XF=!1}}}var FN=hl.ReactCurrentBatchConfig;function ko(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var R0=Ja(null),A0=null,_u=null,O0=null;function Qb(){O0=_u=A0=null}function Zb(t){var e=R0.current;Gt(R0),t.type._context._currentValue=e}function uI(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Mu(t,e){A0=t,O0=_u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xo=!0),t.firstContext=null)}function io(t,e){if(O0!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(O0=t,e=1073741823),e={context:t,observedBits:e,next:null},_u===null){if(A0===null)throw Error(Ge(308));_u=e,A0.dependencies={lanes:0,firstContext:e,responders:null}}else _u=_u.next=e;return t._currentValue}var pa=!1;function e3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function cI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Aa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function a4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mf(t,e,n,r){var o=t.updateQueue;pa=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var s=t.alternate;if(s!==null){s=s.updateQueue;var g=s.lastBaseUpdate;g!==a&&(g===null?s.firstBaseUpdate=d:g.next=d,s.lastBaseUpdate=u)}}if(i!==null){g=o.baseState,a=0,s=d=u=null;do{l=i.lane;var c=i.eventTime;if((r&l)===l){s!==null&&(s=s.next={eventTime:c,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=t,_=i;switch(l=e,c=n,_.tag){case 1:if(h=_.payload,typeof h=="function"){g=h.call(c,g,l);break e}g=h;break e;case 3:h.flags=h.flags&-4097|64;case 0:if(h=_.payload,l=typeof h=="function"?h.call(c,g,l):h,l==null)break e;g=zt({},g,l);break e;case 2:pa=!0}}i.callback!==null&&(t.flags|=32,l=o.effects,l===null?o.effects=[i]:l.push(i))}else c={eventTime:c,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},s===null?(d=s=c,u=g):s=s.next=c,a|=l;if(i=i.next,i===null){if(l=o.shared.pending,l===null)break;i=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(1);s===null&&(u=g),o.baseState=u,o.firstBaseUpdate=d,o.lastBaseUpdate=s,Zf|=a,t.lanes=a,t.memoizedState=g}}function s4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ge(191,o));o.call(r)}}}var dI=new Jp.Component().refs;function B0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var am={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),o=Ba(t),i=Aa(r,o);i.payload=e,n!=null&&(i.callback=n),Oa(t,i),Pa(t,o,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),o=Ba(t),i=Aa(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),Oa(t,i),Pa(t,o,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=Ba(t),o=Aa(n,r);o.tag=2,e!=null&&(o.callback=e),Oa(t,o),Pa(t,r,n)}};function l4(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ff(n,r)||!ff(o,i):!0}function hI(t,e,n){var r=!1,o=$a,i=e.contextType;return typeof i=="object"&&i!==null?i=io(i):(o=Er(e)?Zs:Vn.current,r=e.contextTypes,i=(r=r!=null)?Wu(t,o):$a),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=am,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function u4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&am.enqueueReplaceState(e,e.state,null)}function hv(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=dI,e3(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=io(i):(i=Er(e)?Zs:Vn.current,o.context=Wu(t,i)),mf(t,n,o,r),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(B0(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&am.enqueueReplaceState(o,o.state,null),mf(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4)}var zg=Array.isArray;function Qc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,t));var o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=r.refs;a===dI&&(a=r.refs={}),i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,t))}return t}function Wg(t,e){if(t.type!=="textarea")throw Error(Ge(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function fI(t){function e(m,p){if(t){var f=m.lastEffect;f!==null?(f.nextEffect=p,m.lastEffect=p):m.firstEffect=m.lastEffect=p,p.nextEffect=null,p.flags=8}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function o(m,p){return m=Va(m,p),m.index=0,m.sibling=null,m}function i(m,p,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<p?(m.flags=2,p):f):(m.flags=2,p)):p}function a(m){return t&&m.alternate===null&&(m.flags=2),m}function l(m,p,f,v){return p===null||p.tag!==6?(p=n_(f,m.mode,v),p.return=m,p):(p=o(p,f),p.return=m,p)}function u(m,p,f,v){return p!==null&&p.elementType===f.type?(v=o(p,f.props),v.ref=Qc(m,p,f),v.return=m,v):(v=a0(f.type,f.key,f.props,null,m.mode,v),v.ref=Qc(m,p,f),v.return=m,v)}function d(m,p,f,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=r_(f,m.mode,v),p.return=m,p):(p=o(p,f.children||[]),p.return=m,p)}function s(m,p,f,v,y){return p===null||p.tag!==7?(p=ju(f,m.mode,v,y),p.return=m,p):(p=o(p,f),p.return=m,p)}function g(m,p,f){if(typeof p=="string"||typeof p=="number")return p=n_(""+p,m.mode,f),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case dh:return f=a0(p.type,p.key,p.props,null,m.mode,f),f.ref=Qc(m,null,p),f.return=m,f;case Ls:return p=r_(p,m.mode,f),p.return=m,p}if(zg(p)||Hc(p))return p=ju(p,m.mode,f,null),p.return=m,p;Wg(m,p)}return null}function c(m,p,f,v){var y=p!==null?p.key:null;if(typeof f=="string"||typeof f=="number")return y!==null?null:l(m,p,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case dh:return f.key===y?f.type===Fa?s(m,p,f.props.children,v,y):u(m,p,f,v):null;case Ls:return f.key===y?d(m,p,f,v):null}if(zg(f)||Hc(f))return y!==null?null:s(m,p,f,v,null);Wg(m,f)}return null}function h(m,p,f,v,y){if(typeof v=="string"||typeof v=="number")return m=m.get(f)||null,l(p,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dh:return m=m.get(v.key===null?f:v.key)||null,v.type===Fa?s(p,m,v.props.children,y,v.key):u(p,m,v,y);case Ls:return m=m.get(v.key===null?f:v.key)||null,d(p,m,v,y)}if(zg(v)||Hc(v))return m=m.get(f)||null,s(p,m,v,y,null);Wg(p,v)}return null}function _(m,p,f,v){for(var y=null,w=null,b=p,S=p=0,x=null;b!==null&&S<f.length;S++){b.index>S?(x=b,b=null):x=b.sibling;var N=c(m,b,f[S],v);if(N===null){b===null&&(b=x);break}t&&b&&N.alternate===null&&e(m,b),p=i(N,p,S),w===null?y=N:w.sibling=N,w=N,b=x}if(S===f.length)return n(m,b),y;if(b===null){for(;S<f.length;S++)b=g(m,f[S],v),b!==null&&(p=i(b,p,S),w===null?y=b:w.sibling=b,w=b);return y}for(b=r(m,b);S<f.length;S++)x=h(b,m,S,f[S],v),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?S:x.key),p=i(x,p,S),w===null?y=x:w.sibling=x,w=x);return t&&b.forEach(function(U){return e(m,U)}),y}function F(m,p,f,v){var y=Hc(f);if(typeof y!="function")throw Error(Ge(150));if(f=y.call(f),f==null)throw Error(Ge(151));for(var w=y=null,b=p,S=p=0,x=null,N=f.next();b!==null&&!N.done;S++,N=f.next()){b.index>S?(x=b,b=null):x=b.sibling;var U=c(m,b,N.value,v);if(U===null){b===null&&(b=x);break}t&&b&&U.alternate===null&&e(m,b),p=i(U,p,S),w===null?y=U:w.sibling=U,w=U,b=x}if(N.done)return n(m,b),y;if(b===null){for(;!N.done;S++,N=f.next())N=g(m,N.value,v),N!==null&&(p=i(N,p,S),w===null?y=N:w.sibling=N,w=N);return y}for(b=r(m,b);!N.done;S++,N=f.next())N=h(b,m,S,N.value,v),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?S:N.key),p=i(N,p,S),w===null?y=N:w.sibling=N,w=N);return t&&b.forEach(function(q){return e(m,q)}),y}return function(m,p,f,v){var y=typeof f=="object"&&f!==null&&f.type===Fa&&f.key===null;y&&(f=f.props.children);var w=typeof f=="object"&&f!==null;if(w)switch(f.$$typeof){case dh:e:{for(w=f.key,y=p;y!==null;){if(y.key===w){switch(y.tag){case 7:if(f.type===Fa){n(m,y.sibling),p=o(y,f.props.children),p.return=m,m=p;break e}break;default:if(y.elementType===f.type){n(m,y.sibling),p=o(y,f.props),p.ref=Qc(m,y,f),p.return=m,m=p;break e}}n(m,y);break}else e(m,y);y=y.sibling}f.type===Fa?(p=ju(f.props.children,m.mode,v,f.key),p.return=m,m=p):(v=a0(f.type,f.key,f.props,null,m.mode,v),v.ref=Qc(m,p,f),v.return=m,m=v)}return a(m);case Ls:e:{for(y=f.key;p!==null;){if(p.key===y)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(m,p.sibling),p=o(p,f.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=r_(f,m.mode,v),p.return=m,m=p}return a(m)}if(typeof f=="string"||typeof f=="number")return f=""+f,p!==null&&p.tag===6?(n(m,p.sibling),p=o(p,f),p.return=m,m=p):(n(m,p),p=n_(f,m.mode,v),p.return=m,m=p),a(m);if(zg(f))return _(m,p,f,v);if(Hc(f))return F(m,p,f,v);if(w&&Wg(m,f),typeof f>"u"&&!y)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ge(152,Ru(m.type)||"Component"))}return n(m,p)}}var P0=fI(!0),gI=fI(!1),Qf={},ii=Ja(Qf),Ff=Ja(Qf),_f=Ja(Qf);function $s(t){if(t===Qf)throw Error(Ge(174));return t}function fv(t,e){switch(tn(_f,e),tn(Ff,t),tn(ii,Qf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:X2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=X2(e,t)}Gt(ii),tn(ii,e)}function Ju(){Gt(ii),Gt(Ff),Gt(_f)}function c4(t){$s(_f.current);var e=$s(ii.current),n=X2(e,t.type);e!==n&&(tn(Ff,t),tn(ii,n))}function t3(t){Ff.current===t&&(Gt(ii),Gt(Ff))}var en=Ja(0);function M0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ui=null,wa=null,ai=!1;function pI(t,e){var n=no(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function d4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function gv(t){if(ai){var e=wa;if(e){var n=e;if(!d4(t,e)){if(e=Pu(n.nextSibling),!e||!d4(t,e)){t.flags=t.flags&-1025|2,ai=!1,Ui=t;return}pI(Ui,n)}Ui=t,wa=Pu(e.firstChild)}else t.flags=t.flags&-1025|2,ai=!1,Ui=t}}function h4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ui=t}function Yg(t){if(t!==Ui)return!1;if(!ai)return h4(t),ai=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!lv(e,t.memoizedProps))for(e=wa;e;)pI(t,e),e=Pu(e.nextSibling);if(h4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wa=Pu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wa=null}}else wa=Ui?Pu(t.stateNode.nextSibling):null;return!0}function QF(){wa=Ui=null,ai=!1}var Nu=[];function n3(){for(var t=0;t<Nu.length;t++)Nu[t]._workInProgressVersionPrimary=null;Nu.length=0}var Oh=hl.ReactCurrentDispatcher,ro=hl.ReactCurrentBatchConfig,vf=0,on=null,Un=null,Sn=null,N0=!1,Bh=!1;function lr(){throw Error(Ge(321))}function r3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!to(t[n],e[n]))return!1;return!0}function o3(t,e,n,r,o,i){if(vf=i,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oh.current=t===null||t.memoizedState===null?vN:yN,t=n(r,o),Bh){i=0;do{if(Bh=!1,!(25>i))throw Error(Ge(301));i+=1,Sn=Un=null,e.updateQueue=null,Oh.current=bN,t=n(r,o)}while(Bh)}if(Oh.current=$0,e=Un!==null&&Un.next!==null,vf=0,Sn=Un=on=null,N0=!1,e)throw Error(Ge(300));return t}function qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?on.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function gl(){if(Un===null){var t=on.alternate;t=t!==null?t.memoizedState:null}else t=Un.next;var e=Sn===null?on.memoizedState:Sn.next;if(e!==null)Sn=e,Un=t;else{if(t===null)throw Error(Ge(310));Un=t,t={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Sn===null?on.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function ni(t,e){return typeof e=="function"?e(t):e}function Zc(t){var e=gl(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=Un,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var l=a=i=null,u=o;do{var d=u.lane;if((vf&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var s={lane:d,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};l===null?(a=l=s,i=r):l=l.next=s,on.lanes|=d,Zf|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,to(r,e.memoizedState)||(xo=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ed(t){var e=gl(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);to(i,e.memoizedState)||(xo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function f4(t,e,n){var r=e._getVersion;r=r(e._source);var o=e._workInProgressVersionPrimary;if(o!==null?t=o===r:(t=t.mutableReadLanes,(t=(vf&t)===t)&&(e._workInProgressVersionPrimary=r,Nu.push(e))),t)return n(e._source);throw Nu.push(e),Error(Ge(350))}function mI(t,e,n,r){var o=nr;if(o===null)throw Error(Ge(349));var i=e._getVersion,a=i(e._source),l=Oh.current,u=l.useState(function(){return f4(o,e,n)}),d=u[1],s=u[0];u=Sn;var g=t.memoizedState,c=g.refs,h=c.getSnapshot,_=g.source;g=g.subscribe;var F=on;return t.memoizedState={refs:c,source:e,subscribe:r},l.useEffect(function(){c.getSnapshot=n,c.setSnapshot=d;var m=i(e._source);if(!to(a,m)){m=n(e._source),to(s,m)||(d(m),m=Ba(F),o.mutableReadLanes|=m&o.pendingLanes),m=o.mutableReadLanes,o.entangledLanes|=m;for(var p=o.entanglements,f=m;0<f;){var v=31-ja(f),y=1<<v;p[v]|=m,f&=~y}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var m=c.getSnapshot,p=c.setSnapshot;try{p(m(e._source));var f=Ba(F);o.mutableReadLanes|=f&o.pendingLanes}catch(v){p(function(){throw v})}})},[e,r]),to(h,n)&&to(_,e)&&to(g,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ni,lastRenderedState:s},t.dispatch=d=s3.bind(null,on,t),u.queue=t,u.baseQueue=null,s=f4(o,e,n),u.memoizedState=u.baseState=s),s}function FI(t,e,n){var r=gl();return mI(r,t,e,n)}function td(t){var e=qs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},t=t.dispatch=s3.bind(null,on,t),[e.memoizedState,t]}function L0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=on.updateQueue,e===null?(e={lastEffect:null},on.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g4(t){var e=qs();return t={current:t},e.memoizedState=t}function U0(){return gl().memoizedState}function pv(t,e,n,r){var o=qs();on.flags|=t,o.memoizedState=L0(1|e,n,void 0,r===void 0?null:r)}function i3(t,e,n,r){var o=gl();r=r===void 0?null:r;var i=void 0;if(Un!==null){var a=Un.memoizedState;if(i=a.destroy,r!==null&&r3(r,a.deps)){L0(e,n,i,r);return}}on.flags|=t,o.memoizedState=L0(1|e,n,i,r)}function p4(t,e){return pv(516,4,t,e)}function j0(t,e){return i3(516,4,t,e)}function _I(t,e){return i3(4,2,t,e)}function vI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yI(t,e,n){return n=n!=null?n.concat([t]):null,i3(4,2,vI.bind(null,e,t),n)}function a3(){}function bI(t,e){var n=gl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r3(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EI(t,e){var n=gl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r3(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _N(t,e){var n=Yu();el(98>n?98:n,function(){t(!0)}),el(97<n?97:n,function(){var r=ro.transition;ro.transition=1;try{t(!1),e()}finally{ro.transition=r}})}function s3(t,e,n){var r=Mr(),o=Ba(t),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i,a=t.alternate,t===on||a!==null&&a===on)Bh=N0=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,u=a(l,n);if(i.eagerReducer=a,i.eagerState=u,to(u,l))return}catch{}finally{}Pa(t,o,r)}}var $0={readContext:io,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useOpaqueIdentifier:lr,unstable_isNewReconciler:!1},vN={readContext:io,useCallback:function(t,e){return qs().memoizedState=[t,e===void 0?null:e],t},useContext:io,useEffect:p4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pv(4,2,vI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pv(4,2,t,e)},useMemo:function(t,e){var n=qs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=s3.bind(null,on,t),[r.memoizedState,t]},useRef:g4,useState:td,useDebugValue:a3,useDeferredValue:function(t){var e=td(t),n=e[0],r=e[1];return p4(function(){var o=ro.transition;ro.transition=1;try{r(t)}finally{ro.transition=o}},[t]),n},useTransition:function(){var t=td(!1),e=t[0];return t=_N.bind(null,t[1]),g4(t),[t,e]},useMutableSource:function(t,e,n){var r=qs();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},mI(r,t,e,n)},useOpaqueIdentifier:function(){if(ai){var t=!1,e=hN(function(){throw t||(t=!0,n("r:"+(YF++).toString(36))),Error(Ge(355))}),n=td(e)[1];return!(on.mode&2)&&(on.flags|=516,L0(5,function(){n("r:"+(YF++).toString(36))},void 0,null)),e}return e="r:"+(YF++).toString(36),td(e),e},unstable_isNewReconciler:!1},yN={readContext:io,useCallback:bI,useContext:io,useEffect:j0,useImperativeHandle:yI,useLayoutEffect:_I,useMemo:EI,useReducer:Zc,useRef:U0,useState:function(){return Zc(ni)},useDebugValue:a3,useDeferredValue:function(t){var e=Zc(ni),n=e[0],r=e[1];return j0(function(){var o=ro.transition;ro.transition=1;try{r(t)}finally{ro.transition=o}},[t]),n},useTransition:function(){var t=Zc(ni)[0];return[U0().current,t]},useMutableSource:FI,useOpaqueIdentifier:function(){return Zc(ni)[0]},unstable_isNewReconciler:!1},bN={readContext:io,useCallback:bI,useContext:io,useEffect:j0,useImperativeHandle:yI,useLayoutEffect:_I,useMemo:EI,useReducer:ed,useRef:U0,useState:function(){return ed(ni)},useDebugValue:a3,useDeferredValue:function(t){var e=ed(ni),n=e[0],r=e[1];return j0(function(){var o=ro.transition;ro.transition=1;try{r(t)}finally{ro.transition=o}},[t]),n},useTransition:function(){var t=ed(ni)[0];return[U0().current,t]},useMutableSource:FI,useOpaqueIdentifier:function(){return ed(ni)[0]},unstable_isNewReconciler:!1},EN=hl.ReactCurrentOwner,xo=!1;function pr(t,e,n,r){e.child=t===null?gI(e,null,n,r):P0(e,t.child,n,r)}function m4(t,e,n,r,o){n=n.render;var i=e.ref;return Mu(e,o),r=o3(t,e,n,r,i,o),t!==null&&!xo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,ji(t,e,o)):(e.flags|=1,pr(t,e,r,o),e.child)}function F4(t,e,n,r,o,i){if(t===null){var a=n.type;return typeof a=="function"&&!f3(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,wI(t,e,a,r,o,i)):(t=a0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(o&i)&&(o=a.memoizedProps,n=n.compare,n=n!==null?n:ff,n(o,r)&&t.ref===e.ref)?ji(t,e,i):(e.flags|=1,t=Va(a,r),t.ref=e.ref,t.return=e,e.child=t)}function wI(t,e,n,r,o,i){if(t!==null&&ff(t.memoizedProps,r)&&t.ref===e.ref)if(xo=!1,(i&o)!==0)t.flags&16384&&(xo=!0);else return e.lanes=t.lanes,ji(t,e,i);return mv(t,e,n,r,i)}function ZF(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Xg(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},Xg(e,i!==null?i.baseLanes:n);else return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Xg(e,t),null;else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Xg(e,r);return pr(t,e,o,n),e.child}function DI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function mv(t,e,n,r,o){var i=Er(n)?Zs:Vn.current;return i=Wu(e,i),Mu(e,o),n=o3(t,e,n,r,i,o),t!==null&&!xo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,ji(t,e,o)):(e.flags|=1,pr(t,e,n,o),e.child)}function _4(t,e,n,r,o){if(Er(n)){var i=!0;t0(e)}else i=!1;if(Mu(e,o),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),hI(e,n,r),hv(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=io(d):(d=Er(n)?Zs:Vn.current,d=Wu(e,d));var s=n.getDerivedStateFromProps,g=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==d)&&u4(e,a,r,d),pa=!1;var c=e.memoizedState;a.state=c,mf(e,r,a,o),u=e.memoizedState,l!==r||c!==u||br.current||pa?(typeof s=="function"&&(B0(e,n,s,r),u=e.memoizedState),(l=pa||l4(e,n,l,r,c,u,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,cI(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ko(e.type,l),a.props=d,g=e.pendingProps,c=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=io(u):(u=Er(n)?Zs:Vn.current,u=Wu(e,u));var h=n.getDerivedStateFromProps;(s=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||c!==u)&&u4(e,a,r,u),pa=!1,c=e.memoizedState,a.state=c,mf(e,r,a,o);var _=e.memoizedState;l!==g||c!==_||br.current||pa?(typeof h=="function"&&(B0(e,n,h,r),_=e.memoizedState),(d=pa||l4(e,n,d,r,c,_,u))?(s||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),r=!1)}return Fv(t,e,n,r,i,o)}function Fv(t,e,n,r,o,i){DI(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return o&&r4(e,n,!1),ji(t,e,i);r=e.stateNode,EN.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=P0(e,t.child,null,i),e.child=P0(e,null,l,i)):pr(t,e,l,i),e.memoizedState=r.state,o&&r4(e,n,!0),e.child}function v4(t){var e=t.stateNode;e.pendingContext?n4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n4(t,e.context,!1),fv(t,e.containerInfo)}var Jg={dehydrated:null,retryLane:0};function y4(t,e,n){var r=e.pendingProps,o=en.current,i=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),tn(en,o&1),t===null?(r.fallback!==void 0&&gv(e),t=r.children,o=r.fallback,i?(t=b4(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Jg,t):typeof r.unstable_expectedLoadTime=="number"?(t=b4(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Jg,e.lanes=33554432,t):(n=g3({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?i?(r=w4(t,e,r.children,r.fallback,n),i=e.child,o=t.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=t.childLanes&~n,e.memoizedState=Jg,r):(n=E4(t,e,r.children,n),e.memoizedState=null,n):i?(r=w4(t,e,r.children,r.fallback,n),i=e.child,o=t.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=t.childLanes&~n,e.memoizedState=Jg,r):(n=E4(t,e,r.children,n),e.memoizedState=null,n)}function b4(t,e,n,r){var o=t.mode,i=t.child;return e={mode:"hidden",children:e},!(o&2)&&i!==null?(i.childLanes=0,i.pendingProps=e):i=g3(e,o,0,null),n=ju(n,o,r,null),i.return=t,n.return=t,i.sibling=n,t.child=i,n}function E4(t,e,n,r){var o=t.child;return t=o.sibling,n=Va(o,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function w4(t,e,n,r,o){var i=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:n};return!(i&2)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Va(a,l),t!==null?r=Va(t,r):(r=ju(r,i,o,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function D4(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),uI(t.return,e)}function e_(t,e,n,r,o,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function k4(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(pr(t,e,r.children,n),r=en.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D4(t,n);else if(t.tag===19)D4(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tn(en,r),!(e.mode&2))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&M0(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),e_(e,!1,o,n,i,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&M0(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}e_(e,!0,n,null,i,e.lastEffect);break;case"together":e_(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zf|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Ge(153));if(e.child!==null){for(t=e.child,n=Va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var kI,_v,SI,xI;kI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_v=function(){};SI=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,$s(ii.current);var i=null;switch(n){case"input":o=K2(t,o),r=K2(t,r),i=[];break;case"option":o=W2(t,o),r=W2(t,r),i=[];break;case"select":o=zt({},o,{value:void 0}),r=zt({},r,{value:void 0}),i=[];break;case"textarea":o=Y2(t,o),r=Y2(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=C0)}Q2(n,r);var a;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(af.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(af.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&jt("scroll",t),i||l===u||(i=[])):typeof u=="object"&&u!==null&&u.$$typeof===Bb?u.toString():(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};xI=function(t,e,n,r){n!==r&&(e.flags|=4)};function nd(t,e){if(!ai)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wN(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Er(e.type)&&I0(),null;case 3:return Ju(),Gt(br),Gt(Vn),n3(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yg(e)?e.flags|=4:r.hydrate||(e.flags|=256)),_v(e),null;case 5:t3(e);var o=$s(_f.current);if(n=e.type,t!==null&&e.stateNode!=null)SI(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return null}if(t=$s(ii.current),Yg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ea]=e,r[T0]=i,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(t=0;t<fh.length;t++)jt(fh[t],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":kD(r,i),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},jt("invalid",r);break;case"textarea":xD(r,i),jt("invalid",r)}Q2(n,i),t=null;for(var a in i)i.hasOwnProperty(a)&&(o=i[a],a==="children"?typeof o=="string"?r.textContent!==o&&(t=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(t=["children",""+o]):af.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&jt("scroll",r));switch(n){case"input":Vg(r),SD(r,i,!0);break;case"textarea":Vg(r),CD(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=C0)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=o.nodeType===9?o:o.ownerDocument,t===J2.html&&(t=y8(n)),t===J2.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ea]=e,t[T0]=r,kI(t,e,!1,!1),e.stateNode=t,a=Z2(n,r),n){case"dialog":jt("cancel",t),jt("close",t),o=r;break;case"iframe":case"object":case"embed":jt("load",t),o=r;break;case"video":case"audio":for(o=0;o<fh.length;o++)jt(fh[o],t);o=r;break;case"source":jt("error",t),o=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),o=r;break;case"details":jt("toggle",t),o=r;break;case"input":kD(t,r),o=K2(t,r),jt("invalid",t);break;case"option":o=W2(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=zt({},r,{value:void 0}),jt("invalid",t);break;case"textarea":xD(t,r),o=Y2(t,r),jt("invalid",t);break;default:o=r}Q2(n,o);var l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?w8(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&b8(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sf(t,u):typeof u=="number"&&sf(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(af.hasOwnProperty(i)?u!=null&&i==="onScroll"&&jt("scroll",t):u!=null&&Cb(t,i,u,a))}switch(n){case"input":Vg(t),SD(t,r,!1);break;case"textarea":Vg(t),CD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ua(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Au(t,!!r.multiple,i,!1):r.defaultValue!=null&&Au(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=C0)}eI(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)xI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));n=$s(_f.current),$s(ii.current),Yg(e)?(r=e.stateNode,n=e.memoizedProps,r[Ea]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ea]=e,e.stateNode=r)}return null;case 13:return Gt(en),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Yg(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||en.current&1?xn===0&&(xn=3):((xn===0||xn===3)&&(xn=4),nr===null||!(Zf&134217727)&&!(wc&134217727)||Lu(nr,$n))),(r||n)&&(e.flags|=4),null);case 4:return Ju(),_v(e),t===null&&X8(e.stateNode.containerInfo),null;case 10:return Zb(e),null;case 17:return Er(e.type)&&I0(),null;case 19:if(Gt(en),r=e.memoizedState,r===null)return null;if(i=(e.flags&64)!==0,a=r.rendering,a===null)if(i)nd(r,!1);else{if(xn!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=M0(t),a!==null){for(e.flags|=64,nd(r,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tn(en,en.current&1|2),e.child}t=t.sibling}r.tail!==null&&jn()>Dv&&(e.flags|=64,i=!0,nd(r,!1),e.lanes=33554432)}else{if(!i)if(t=M0(a),t!==null){if(e.flags|=64,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ai)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*jn()-r.renderingStartTime>Dv&&n!==1073741824&&(e.flags|=64,i=!0,nd(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=jn(),n.sibling=null,e=en.current,tn(en,i?e&1|2:e&1),n):null;case 23:case 24:return h3(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Ge(156,e.tag))}function DN(t){switch(t.tag){case 1:Er(t.type)&&I0();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ju(),Gt(br),Gt(Vn),n3(),e=t.flags,e&64)throw Error(Ge(285));return t.flags=e&-4097|64,t;case 5:return t3(t),null;case 13:return Gt(en),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Gt(en),null;case 4:return Ju(),null;case 10:return Zb(t),null;case 23:case 24:return h3(),null;default:return null}}function l3(t,e){try{var n="",r=e;do n+=oM(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o}}function vv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kN=typeof WeakMap=="function"?WeakMap:Map;function CI(t,e,n){n=Aa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){V0||(V0=!0,kv=r),vv(t,e)},n}function TI(t,e,n){n=Aa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return vv(t,e),r(o)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this),vv(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var SN=typeof WeakSet=="function"?WeakSet:Set;function S4(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Ma(t,n)}else e.current=null}function xN(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:ko(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Yb(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Ge(163))}function CN(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var o=t;r=o.next,o=o.tag,o&4&&o&1&&(LI(n,t),MN(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:ko(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&s4(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}s4(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&eI(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&O8(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Ge(163))}function x4(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=E8("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function C4(t,e){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Jb,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if(r&4)LI(e,n);else{r=e;try{o()}catch(i){Ma(r,i)}}n=n.next}while(n!==t)}break;case 1:if(S4(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(i){Ma(e,i)}break;case 5:S4(e);break;case 4:II(t,e)}}function T4(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function I4(t){return t.tag===5||t.tag===3||t.tag===4}function R4(t){e:{for(var e=t.return;e!==null;){if(I4(e))break e;e=e.return}throw Error(Ge(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(Ge(161))}n.flags&16&&(sf(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||I4(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?yv(t,n,e):bv(t,n,e)}function yv(t,e,n){var r=t.tag,o=r===5||r===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=C0));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function bv(t,e,n){var r=t.tag,o=r===5||r===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bv(t,e,n),t=t.sibling;t!==null;)bv(t,e,n),t=t.sibling}function II(t,e){for(var n=e,r=!1,o,i;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Ge(160));switch(o=r.stateNode,r.tag){case 5:i=!1;break e;case 3:o=o.containerInfo,i=!0;break e;case 4:o=o.containerInfo,i=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=t,l=n,u=l;;)if(C4(a,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(a=o,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,i=!0,n.child.return=n,n=n.child;continue}}else if(C4(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function t_(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var o=t!==null?t.memoizedProps:r;t=e.type;var i=e.updateQueue;if(e.updateQueue=null,i!==null){for(n[T0]=r,t==="input"&&r.type==="radio"&&r.name!=null&&_8(n,r),Z2(t,o),e=Z2(t,r),o=0;o<i.length;o+=2){var a=i[o],l=i[o+1];a==="style"?w8(n,l):a==="dangerouslySetInnerHTML"?b8(n,l):a==="children"?sf(n,l):Cb(n,a,l,e)}switch(t){case"input":H2(n,r);break;case"textarea":v8(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,i=r.value,i!=null?Au(n,!!r.multiple,i,!1):t!==!!r.multiple&&(r.defaultValue!=null?Au(n,!!r.multiple,r.defaultValue,!0):Au(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Ge(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,O8(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(d3=jn(),x4(e.child,!0)),A4(e);return;case 19:A4(e);return;case 17:return;case 23:case 24:x4(e,e.memoizedState!==null);return}throw Error(Ge(163))}function A4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SN),e.forEach(function(r){var o=UN.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function TN(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var IN=Math.ceil,q0=hl.ReactCurrentDispatcher,u3=hl.ReactCurrentOwner,gt=0,nr=null,hn=null,$n=0,tl=0,Ev=Ja(0),xn=0,sm=null,Ec=0,Zf=0,wc=0,c3=0,wv=null,d3=0,Dv=1/0;function Dc(){Dv=jn()+500}var rt=null,V0=!1,kv=null,ri=null,qa=!1,Ph=null,gh=90,Sv=[],xv=[],qi=null,Mh=0,Cv=null,r0=-1,Li=0,o0=0,Nh=null,i0=!1;function Mr(){return gt&48?jn():r0!==-1?r0:r0=jn()}function Ba(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Yu()===99?1:2;if(Li===0&&(Li=Ec),FN.transition!==0){o0!==0&&(o0=wv!==null?wv.pendingLanes:0),t=Li;var e=4186112&~o0;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Yu(),gt&4&&t===98?t=S0(12,Li):(t=yM(t),t=S0(t,Li)),t}function Pa(t,e,n){if(50<Mh)throw Mh=0,Cv=null,Error(Ge(185));if(t=lm(t,e),t===null)return null;em(t,e,n),t===nr&&(wc|=e,xn===4&&Lu(t,$n));var r=Yu();e===1?gt&8&&!(gt&48)?Tv(t):(ao(t,n),gt===0&&(Dc(),Fi())):(!(gt&4)||r!==98&&r!==99||(qi===null?qi=new Set([t]):qi.add(t)),ao(t,n)),wv=t}function lm(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function ao(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,o=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-ja(a),u=1<<l,d=i[l];if(d===-1){if(!(u&r)||u&o){d=e,su(u);var s=Lt;i[l]=10<=s?d+250:6<=s?d+5e3:-1}}else d<=e&&(t.expiredLanes|=u);a&=~u}if(r=df(t,t===nr?$n:0),e=Lt,r===0)n!==null&&(n!==JF&&cv(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==JF&&cv(n)}e===15?(n=Tv.bind(null,t),Ai===null?(Ai=[n],n0=Xb(im,lI)):Ai.push(n),n=JF):e===14?n=pf(99,Tv.bind(null,t)):(n=bM(e),n=pf(n,RI.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function RI(t){if(r0=-1,o0=Li=0,gt&48)throw Error(Ge(327));var e=t.callbackNode;if(Xa()&&t.callbackNode!==e)return null;var n=df(t,t===nr?$n:0);if(n===0)return null;var r=n,o=gt;gt|=16;var i=PI();(nr!==t||$n!==r)&&(Dc(),Uu(t,r));do try{ON();break}catch(l){BI(t,l)}while(1);if(Qb(),q0.current=i,gt=o,hn!==null?r=0:(nr=null,$n=0,r=xn),Ec&wc)Uu(t,0);else if(r!==0){if(r===2&&(gt|=64,t.hydrate&&(t.hydrate=!1,Yb(t.containerInfo)),n=j8(t),n!==0&&(r=ph(t,n))),r===1)throw e=sm,Uu(t,0),Lu(t,n),ao(t,jn()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(Ge(345));case 2:Cs(t);break;case 3:if(Lu(t,n),(n&62914560)===n&&(r=d3+500-jn(),10<r)){if(df(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){Mr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ZD(Cs.bind(null,t),r);break}Cs(t);break;case 4:if(Lu(t,n),(n&4186112)===n)break;for(r=t.eventTimes,o=-1;0<n;){var a=31-ja(n);i=1<<a,a=r[a],a>o&&(o=a),n&=~i}if(n=o,n=jn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IN(n/1960))-n,10<n){t.timeoutHandle=ZD(Cs.bind(null,t),n);break}Cs(t);break;case 5:Cs(t);break;default:throw Error(Ge(329))}}return ao(t,jn()),t.callbackNode===e?RI.bind(null,t):null}function Lu(t,e){for(e&=~c3,e&=~wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ja(e),r=1<<n;t[n]=-1,e&=~r}}function Tv(t){if(gt&48)throw Error(Ge(327));if(Xa(),t===nr&&t.expiredLanes&$n){var e=$n,n=ph(t,e);Ec&wc&&(e=df(t,e),n=ph(t,e))}else e=df(t,0),n=ph(t,e);if(t.tag!==0&&n===2&&(gt|=64,t.hydrate&&(t.hydrate=!1,Yb(t.containerInfo)),e=j8(t),e!==0&&(n=ph(t,e))),n===1)throw n=sm,Uu(t,0),Lu(t,e),ao(t,jn()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t),ao(t,jn()),null}function RN(){if(qi!==null){var t=qi;qi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ao(e,jn())})}Fi()}function AI(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Dc(),Fi())}}function OI(t,e){var n=gt;gt&=-2,gt|=8;try{return t(e)}finally{gt=n,gt===0&&(Dc(),Fi())}}function Xg(t,e){tn(Ev,tl),tl|=e,Ec|=e}function h3(){tl=Ev.current,Gt(Ev)}function Uu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dN(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&I0();break;case 3:Ju(),Gt(br),Gt(Vn),n3();break;case 5:t3(r);break;case 4:Ju();break;case 13:Gt(en);break;case 19:Gt(en);break;case 10:Zb(r);break;case 23:case 24:h3()}n=n.return}nr=t,hn=Va(t.current,null),$n=tl=Ec=e,xn=0,sm=null,c3=wc=Zf=0}function BI(t,e){do{var n=hn;try{if(Qb(),Oh.current=$0,N0){for(var r=on.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}N0=!1}if(vf=0,Sn=Un=on=null,Bh=!1,u3.current=null,n===null||n.return===null){xn=1,sm=e,hn=null;break}e:{var i=t,a=n.return,l=n,u=e;if(e=$n,l.flags|=2048,l.firstEffect=l.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u;if(!(l.mode&2)){var s=l.alternate;s?(l.updateQueue=s.updateQueue,l.memoizedState=s.memoizedState,l.lanes=s.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(en.current&1)!==0,c=a;do{var h;if(h=c.tag===13){var _=c.memoizedState;if(_!==null)h=_.dehydrated!==null;else{var F=c.memoizedProps;h=F.fallback===void 0?!1:F.unstable_avoidThisFallback!==!0?!0:!g}}if(h){var m=c.updateQueue;if(m===null){var p=new Set;p.add(d),c.updateQueue=p}else m.add(d);if(!(c.mode&2)){if(c.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var f=Aa(-1,1);f.tag=2,Oa(l,f)}l.lanes|=1;break e}u=void 0,l=e;var v=i.pingCache;if(v===null?(v=i.pingCache=new kN,u=new Set,v.set(d,u)):(u=v.get(d),u===void 0&&(u=new Set,v.set(d,u))),!u.has(l)){u.add(l);var y=LN.bind(null,i,d,l);d.then(y,y)}c.flags|=4096,c.lanes=e;break e}c=c.return}while(c!==null);u=Error((Ru(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}xn!==5&&(xn=2),u=l3(u,l),c=a;do{switch(c.tag){case 3:i=u,c.flags|=4096,e&=-e,c.lanes|=e;var w=CI(c,i,e);a4(c,w);break e;case 1:i=u;var b=c.type,S=c.stateNode;if(!(c.flags&64)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ri===null||!ri.has(S)))){c.flags|=4096,e&=-e,c.lanes|=e;var x=TI(c,i,e);a4(c,x);break e}}c=c.return}while(c!==null)}NI(n)}catch(N){e=N,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(1)}function PI(){var t=q0.current;return q0.current=$0,t===null?$0:t}function ph(t,e){var n=gt;gt|=16;var r=PI();nr===t&&$n===e||Uu(t,e);do try{AN();break}catch(o){BI(t,o)}while(1);if(Qb(),gt=n,q0.current=r,hn!==null)throw Error(Ge(261));return nr=null,$n=0,xn}function AN(){for(;hn!==null;)MI(hn)}function ON(){for(;hn!==null&&!gN();)MI(hn)}function MI(t){var e=UI(t.alternate,t,tl);t.memoizedProps=t.pendingProps,e===null?NI(t):hn=e,u3.current=null}function NI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=DN(e),n!==null){n.flags&=2047,hn=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=wN(n,e,tl),n!==null){hn=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||tl&1073741824||!(n.mode&4)){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);xn===0&&(xn=5)}function Cs(t){var e=Yu();return el(99,BN.bind(null,t,e)),null}function BN(t,e){do Xa();while(Ph!==null);if(gt&48)throw Error(Ge(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ge(177));t.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<i;){var u=31-ja(i),d=1<<u;o[u]=0,a[u]=-1,l[u]=-1,i&=~d}if(qi!==null&&!(r&24)&&qi.has(t)&&qi.delete(t),t===nr&&(hn=nr=null,$n=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=gt,gt|=32,u3.current=null,zF=Q1,a=HD(),iv(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&d.rangeCount!==0){l=d.anchorNode,i=d.anchorOffset,u=d.focusNode,d=d.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var s=0,g=-1,c=-1,h=0,_=0,F=a,m=null;t:for(;;){for(var p;F!==l||i!==0&&F.nodeType!==3||(g=s+i),F!==u||d!==0&&F.nodeType!==3||(c=s+d),F.nodeType===3&&(s+=F.nodeValue.length),(p=F.firstChild)!==null;)m=F,F=p;for(;;){if(F===a)break t;if(m===l&&++h===i&&(g=s),m===u&&++_===d&&(c=s),(p=F.nextSibling)!==null)break;F=m,m=F.parentNode}F=p}l=g===-1||c===-1?null:{start:g,end:c}}else l=null;l=l||{start:0,end:0}}else l=null;WF={focusedElem:a,selectionRange:l},Q1=!1,Nh=null,i0=!1,rt=r;do try{PN()}catch(N){if(rt===null)throw Error(Ge(330));Ma(rt,N),rt=rt.nextEffect}while(rt!==null);Nh=null,rt=r;do try{for(a=t;rt!==null;){var f=rt.flags;if(f&16&&sf(rt.stateNode,""),f&128){var v=rt.alternate;if(v!==null){var y=v.ref;y!==null&&(typeof y=="function"?y(null):y.current=null)}}switch(f&1038){case 2:R4(rt),rt.flags&=-3;break;case 6:R4(rt),rt.flags&=-3,t_(rt.alternate,rt);break;case 1024:rt.flags&=-1025;break;case 1028:rt.flags&=-1025,t_(rt.alternate,rt);break;case 4:t_(rt.alternate,rt);break;case 8:l=rt,II(a,l);var w=l.alternate;T4(l),w!==null&&T4(w)}rt=rt.nextEffect}}catch(N){if(rt===null)throw Error(Ge(330));Ma(rt,N),rt=rt.nextEffect}while(rt!==null);if(y=WF,v=HD(),f=y.focusedElem,a=y.selectionRange,v!==f&&f&&f.ownerDocument&&W8(f.ownerDocument.documentElement,f)){for(a!==null&&iv(f)&&(v=a.start,y=a.end,y===void 0&&(y=v),"selectionStart"in f?(f.selectionStart=v,f.selectionEnd=Math.min(y,f.value.length)):(y=(v=f.ownerDocument||document)&&v.defaultView||window,y.getSelection&&(y=y.getSelection(),l=f.textContent.length,w=Math.min(a.start,l),a=a.end===void 0?w:Math.min(a.end,l),!y.extend&&w>a&&(l=a,a=w,w=l),l=KD(f,w),i=KD(f,a),l&&i&&(y.rangeCount!==1||y.anchorNode!==l.node||y.anchorOffset!==l.offset||y.focusNode!==i.node||y.focusOffset!==i.offset)&&(v=v.createRange(),v.setStart(l.node,l.offset),y.removeAllRanges(),w>a?(y.addRange(v),y.extend(i.node,i.offset)):(v.setEnd(i.node,i.offset),y.addRange(v)))))),v=[],y=f;y=y.parentNode;)y.nodeType===1&&v.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<v.length;f++)y=v[f],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}Q1=!!zF,WF=zF=null,t.current=n,rt=r;do try{for(f=t;rt!==null;){var b=rt.flags;if(b&36&&CN(f,rt.alternate,rt),b&128){v=void 0;var S=rt.ref;if(S!==null){var x=rt.stateNode;switch(rt.tag){case 5:v=x;break;default:v=x}typeof S=="function"?S(v):S.current=v}}rt=rt.nextEffect}}catch(N){if(rt===null)throw Error(Ge(330));Ma(rt,N),rt=rt.nextEffect}while(rt!==null);rt=null,mN(),gt=o}else t.current=n;if(qa)qa=!1,Ph=t,gh=e;else for(rt=r;rt!==null;)e=rt.nextEffect,rt.nextEffect=null,rt.flags&8&&(b=rt,b.sibling=null,b.stateNode=null),rt=e;if(r=t.pendingLanes,r===0&&(ri=null),r===1?t===Cv?Mh++:(Mh=0,Cv=t):Mh=0,n=n.stateNode,Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Jb,n,void 0,(n.current.flags&64)===64)}catch{}if(ao(t,jn()),V0)throw V0=!1,t=kv,kv=null,t;return gt&8||Fi(),null}function PN(){for(;rt!==null;){var t=rt.alternate;i0||Nh===null||(rt.flags&8?RD(rt,Nh)&&(i0=!0):rt.tag===13&&TN(t,rt)&&RD(rt,Nh)&&(i0=!0));var e=rt.flags;e&256&&xN(t,rt),!(e&512)||qa||(qa=!0,pf(97,function(){return Xa(),null})),rt=rt.nextEffect}}function Xa(){if(gh!==90){var t=97<gh?97:gh;return gh=90,el(t,NN)}return!1}function MN(t,e){Sv.push(e,t),qa||(qa=!0,pf(97,function(){return Xa(),null}))}function LI(t,e){xv.push(e,t),qa||(qa=!0,pf(97,function(){return Xa(),null}))}function NN(){if(Ph===null)return!1;var t=Ph;if(Ph=null,gt&48)throw Error(Ge(331));var e=gt;gt|=32;var n=xv;xv=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],a=o.destroy;if(o.destroy=void 0,typeof a=="function")try{a()}catch(u){if(i===null)throw Error(Ge(330));Ma(i,u)}}for(n=Sv,Sv=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var l=o.create;o.destroy=l()}catch(u){if(i===null)throw Error(Ge(330));Ma(i,u)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return gt=e,Fi(),!0}function O4(t,e,n){e=l3(n,e),e=CI(t,e,1),Oa(t,e),e=Mr(),t=lm(t,1),t!==null&&(em(t,1,e),ao(t,e))}function Ma(t,e){if(t.tag===3)O4(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){O4(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=l3(e,t);var o=TI(n,t,1);if(Oa(n,o),o=Mr(),n=lm(n,1),n!==null)em(n,1,o),ao(n,o);else if(typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function LN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,nr===t&&($n&n)===n&&(xn===4||xn===3&&($n&62914560)===$n&&500>jn()-d3?Uu(t,0):c3|=n),ao(t,e)}function UN(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Li===0&&(Li=Ec),e=lu(62914560&~Li),e===0&&(e=4194304)):e=Yu()===99?1:2:e=1),n=Mr(),t=lm(t,e),t!==null&&(em(t,e,n),ao(t,n))}var UI;UI=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)xo=!0;else if(n&r)xo=!!(t.flags&16384);else{switch(xo=!1,e.tag){case 3:v4(e),QF();break;case 5:c4(e);break;case 1:Er(e.type)&&t0(e);break;case 4:fv(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var o=e.type._context;tn(R0,o._currentValue),o._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?y4(t,e,n):(tn(en,en.current&1),e=ji(t,e,n),e!==null?e.sibling:null);tn(en,en.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return k4(t,e,n);e.flags|=64}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),tn(en,en.current),r)break;return null;case 23:case 24:return e.lanes=0,ZF(t,e,n)}return ji(t,e,n)}else xo=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=Wu(e,Vn.current),Mu(e,n),o=o3(null,e,r,t,o,n),e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(r)){var i=!0;t0(e)}else i=!1;e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,e3(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&B0(e,r,a,t),o.updater=am,e.stateNode=o,o._reactInternals=e,hv(e,r,t,n),e=Fv(null,e,r,!0,i,n)}else e.tag=0,pr(null,e,o,n),e=e.child;return e;case 16:o=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=$N(o),t=ko(o,t),i){case 0:e=mv(null,e,o,t,n);break e;case 1:e=_4(null,e,o,t,n);break e;case 11:e=m4(null,e,o,t,n);break e;case 14:e=F4(null,e,o,ko(o.type,t),r,n);break e}throw Error(Ge(306,o,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ko(r,o),mv(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ko(r,o),_4(t,e,r,o,n);case 3:if(v4(e),r=e.updateQueue,t===null||r===null)throw Error(Ge(282));if(r=e.pendingProps,o=e.memoizedState,o=o!==null?o.element:null,cI(t,e),mf(e,r,null,n),r=e.memoizedState.element,r===o)QF(),e=ji(t,e,n);else{if(o=e.stateNode,(i=o.hydrate)&&(wa=Pu(e.stateNode.containerInfo.firstChild),Ui=e,i=ai=!0),i){if(t=o.mutableSourceEagerHydrationData,t!=null)for(o=0;o<t.length;o+=2)i=t[o],i._workInProgressVersionPrimary=t[o+1],Nu.push(i);for(n=gI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else pr(t,e,r,n),QF();e=e.child}return e;case 5:return c4(e),t===null&&gv(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,lv(r,o)?a=null:i!==null&&lv(r,i)&&(e.flags|=16),DI(t,e),pr(t,e,a,n),e.child;case 6:return t===null&&gv(e),null;case 13:return y4(t,e,n);case 4:return fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=P0(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ko(r,o),m4(t,e,r,o,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,o=e.pendingProps,a=e.memoizedProps,i=o.value;var l=e.type._context;if(tn(R0,l._currentValue),l._currentValue=i,a!==null)if(l=a.value,i=to(l,i)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,i):1073741823)|0,i===0){if(a.children===o.children&&!br.current){e=ji(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){a=l.child;for(var d=u.firstContext;d!==null;){if(d.context===r&&d.observedBits&i){l.tag===1&&(d=Aa(-1,n&-n),d.tag=2,Oa(l,d)),l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),uI(l.return,n),u.lanes|=n;break}d=d.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}pr(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps,r=i.children,Mu(e,n),o=io(o,i.unstable_observedBits),r=r(o),e.flags|=1,pr(t,e,r,n),e.child;case 14:return o=e.type,i=ko(o,e.pendingProps),i=ko(o.type,i),F4(t,e,o,i,r,n);case 15:return wI(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ko(r,o),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Er(r)?(t=!0,t0(e)):t=!1,Mu(e,n),hI(e,r,o),hv(e,r,o,n),Fv(null,e,r,!0,t,n);case 19:return k4(t,e,n);case 23:return ZF(t,e,n);case 24:return ZF(t,e,n)}throw Error(Ge(156,e.tag))};function jN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function no(t,e,n,r){return new jN(t,e,n,r)}function f3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $N(t){if(typeof t=="function")return f3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xp)return 11;if(t===Qp)return 14}return 2}function Va(t,e){var n=t.alternate;return n===null?(n=no(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function a0(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")f3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fa:return ju(n.children,o,i,e);case p8:a=8,o|=16;break;case Tb:a=8,o|=1;break;case Sh:return t=no(12,n,e,o|8),t.elementType=Sh,t.type=Sh,t.lanes=i,t;case xh:return t=no(13,n,e,o),t.type=xh,t.elementType=xh,t.lanes=i,t;case E0:return t=no(19,n,e,o),t.elementType=E0,t.lanes=i,t;case Pb:return g3(n,o,i,e);case G2:return t=no(24,n,e,o),t.elementType=G2,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ib:a=10;break e;case Rb:a=9;break e;case Xp:a=11;break e;case Qp:a=14;break e;case Ab:a=16,r=null;break e;case Ob:a=22;break e}throw Error(Ge(130,t==null?t:typeof t,""))}return e=no(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function ju(t,e,n,r){return t=no(7,t,r,e),t.lanes=n,t}function g3(t,e,n,r){return t=no(23,t,r,e),t.elementType=Pb,t.lanes=n,t}function n_(t,e,n){return t=no(6,t,null,e),t.lanes=n,t}function r_(t,e,n){return e=no(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qN(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jF(0),this.expirationTimes=jF(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jF(0),this.mutableSourceEagerHydrationData=null}function VN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G0(t,e,n,r){var o=e.current,i=Mr(),a=Ba(o);e:if(n){n=n._reactInternals;t:{if(fl(n)!==n||n.tag!==1)throw Error(Ge(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Er(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(Ge(171))}if(n.tag===1){var u=n.type;if(Er(u)){n=nI(n,u,l);break e}}n=l}else n=$a;return e.context===null?e.context=n:e.pendingContext=n,e=Aa(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Oa(o,e),Pa(o,a,i),a}function o_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p3(t,e){B4(t,e),(t=t.alternate)&&B4(t,e)}function GN(){return null}function m3(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new qN(t,e,n!=null&&n.hydrate===!0),e=no(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,e3(e),t[bc]=n.current,X8(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var o=e._getVersion;o=o(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,o]:n.mutableSourceEagerHydrationData.push(e,o)}this._internalRoot=n}m3.prototype.render=function(t){G0(t,this._internalRoot,null,null)};m3.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;G0(null,t,null,function(){e[bc]=null})};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KN(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new m3(t,0,e?{hydrate:!0}:void 0)}function um(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if(typeof o=="function"){var l=o;o=function(){var d=o_(a);l.call(d)}}G0(e,a,t,o)}else{if(i=n._reactRootContainer=KN(n,r),a=i._internalRoot,typeof o=="function"){var u=o;o=function(){var d=o_(a);u.call(d)}}OI(function(){G0(e,a,t,o)})}return o_(a)}I8=function(t){if(t.tag===13){var e=Mr();Pa(t,4,e),p3(t,4)}};jb=function(t){if(t.tag===13){var e=Mr();Pa(t,67108864,e),p3(t,67108864)}};R8=function(t){if(t.tag===13){var e=Mr(),n=Ba(t);Pa(t,n,e),p3(t,n)}};A8=function(t,e){return e()};ev=function(t,e,n){switch(e){case"input":if(H2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=om(r);if(!o)throw Error(Ge(90));F8(r),H2(r,o)}}}break;case"textarea":v8(t,n);break;case"select":e=n.value,e!=null&&Au(t,!!n.multiple,e,!1)}};Nb=AI;S8=function(t,e,n,r,o){var i=gt;gt|=4;try{return el(98,t.bind(null,e,n,r,o))}finally{gt=i,gt===0&&(Dc(),Fi())}};Lb=function(){!(gt&49)&&(RN(),Xa())};x8=function(t,e){var n=gt;gt|=2;try{return t(e)}finally{gt=n,gt===0&&(Dc(),Fi())}};function jI(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(Ge(200));return VN(t,e,null,n)}var HN={Events:[Xf,mu,om,D8,k8,Xa,{current:!1}]},rd={findFiberByHostInstance:js,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},zN={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=T8(t),t===null?null:t.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||GN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Jb=Qg.inject(zN),Ws=Qg}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN;fo.createPortal=jI;fo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ge(188)):Error(Ge(268,Object.keys(t)));return t=T8(e),t=t===null?null:t.stateNode,t};fo.flushSync=function(t,e){var n=gt;if(n&48)return t(e);gt|=1;try{if(t)return el(99,t.bind(null,e))}finally{gt=n,Fi()}};fo.hydrate=function(t,e,n){if(!eg(e))throw Error(Ge(200));return um(null,t,e,!0,n)};fo.render=function(t,e,n){if(!eg(e))throw Error(Ge(200));return um(null,t,e,!1,n)};fo.unmountComponentAtNode=function(t){if(!eg(t))throw Error(Ge(40));return t._reactRootContainer?(OI(function(){um(null,null,t,!1,function(){t._reactRootContainer=null,t[bc]=null})}),!0):!1};fo.unstable_batchedUpdates=AI;fo.unstable_createPortal=function(t,e){return jI(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};fo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eg(n))throw Error(Ge(200));if(t==null||t._reactInternals===void 0)throw Error(Ge(38));return um(t,e,n,!1,r)};fo.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=fo})(Yp);const WN=Wp(Yp.exports);var Gn={exports:{}},$u=typeof Reflect=="object"?Reflect:null,P4=$u&&typeof $u.apply=="function"?$u.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},s0;$u&&typeof $u.ownKeys=="function"?s0=$u.ownKeys:Object.getOwnPropertySymbols?s0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:s0=function(e){return Object.getOwnPropertyNames(e)};function YN(t){console&&console.warn&&console.warn(t)}var $I=Number.isNaN||function(e){return e!==e};function Mt(){Mt.init.call(this)}Gn.exports=Mt;Gn.exports.once=ZN;Mt.EventEmitter=Mt;Mt.prototype._events=void 0;Mt.prototype._eventsCount=0;Mt.prototype._maxListeners=void 0;var M4=10;function cm(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Mt,"defaultMaxListeners",{enumerable:!0,get:function(){return M4},set:function(t){if(typeof t!="number"||t<0||$I(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");M4=t}});Mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Mt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||$I(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function qI(t){return t._maxListeners===void 0?Mt.defaultMaxListeners:t._maxListeners}Mt.prototype.getMaxListeners=function(){return qI(this)};Mt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var u=i[e];if(u===void 0)return!1;if(typeof u=="function")P4(u,this,n);else for(var d=u.length,s=zI(u,d),r=0;r<d;++r)P4(s[r],this,n);return!0};function VI(t,e,n,r){var o,i,a;if(cm(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),a===void 0)a=i[e]=n,++t._eventsCount;else if(typeof a=="function"?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),o=qI(t),o>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,YN(l)}return t}Mt.prototype.addListener=function(e,n){return VI(this,e,n,!1)};Mt.prototype.on=Mt.prototype.addListener;Mt.prototype.prependListener=function(e,n){return VI(this,e,n,!0)};function JN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function GI(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=JN.bind(r);return o.listener=n,r.wrapFn=o,o}Mt.prototype.once=function(e,n){return cm(n),this.on(e,GI(this,e,n)),this};Mt.prototype.prependOnceListener=function(e,n){return cm(n),this.prependListener(e,GI(this,e,n)),this};Mt.prototype.removeListener=function(e,n){var r,o,i,a,l;if(cm(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){l=r[a].listener,i=a;break}if(i<0)return this;i===0?r.shift():XN(r,i),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Mt.prototype.off=Mt.prototype.removeListener;Mt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),a;for(o=0;o<i.length;++o)a=i[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function KI(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?QN(o):zI(o,o.length)}Mt.prototype.listeners=function(e){return KI(this,e,!0)};Mt.prototype.rawListeners=function(e){return KI(this,e,!1)};Mt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):HI.call(t,e)};Mt.prototype.listenerCount=HI;function HI(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Mt.prototype.eventNames=function(){return this._eventsCount>0?s0(this._events):[]};function zI(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function XN(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function QN(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function ZN(t,e){return new Promise(function(n,r){function o(a){t.removeListener(e,i),r(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}WI(t,e,i,{once:!0}),e!=="error"&&eL(t,o,{once:!0})})}function eL(t,e,n){typeof t.on=="function"&&WI(t,"error",e,n)}function WI(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(i){r.once&&t.removeEventListener(e,o),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}function tL(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!t){var i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;i=new Error(e.replace(/%s/g,function(){return String(r[a++])})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var nL=tL;function Rl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var od=nL,rL="ID_",oL=function(){function t(){Rl(this,"_callbacks",void 0),Rl(this,"_isDispatching",void 0),Rl(this,"_isHandled",void 0),Rl(this,"_isPending",void 0),Rl(this,"_lastID",void 0),Rl(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var e=t.prototype;return e.register=function(r){var o=rL+this._lastID++;return this._callbacks[o]=r,o},e.unregister=function(r){this._callbacks[r]||od(!1),delete this._callbacks[r]},e.waitFor=function(r){this._isDispatching||od(!1);for(var o=0;o<r.length;o++){var i=r[o];if(this._isPending[i]){this._isHandled[i]||od(!1);continue}this._callbacks[i]||od(!1),this._invokeCallback(i)}},e.dispatch=function(r){this._isDispatching&&od(!1),this._startDispatching(r);try{for(var o in this._callbacks)this._isPending[o]||this._invokeCallback(o)}finally{this._stopDispatching()}},e.isDispatching=function(){return this._isDispatching},e._invokeCallback=function(r){this._isPending[r]=!0,this._callbacks[r](this._pendingPayload),this._isHandled[r]=!0},e._startDispatching=function(r){for(var o in this._callbacks)this._isPending[o]=!1,this._isHandled[o]=!1;this._pendingPayload=r,this._isDispatching=!0},e._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}(),iL=oL,aL=iL;const ct=new aL,te={version:"2.2.4",secretKey:{ACCESS_TOKEN:"cinny_access_token",DEVICE_ID:"cinny_device_id",USER_ID:"cinny_user_id",BASE_URL:"cinny_hs_base_url"},DEVICE_DISPLAY_NAME:"Cinny Web",IN_CINNY_SPACES:"in.cinny.spaces",tabs:{HOME:"home",DIRECTS:"dm"},supportEventTypes:["m.room.create","m.room.message","m.room.encrypted","m.room.member","m.sticker"],supportReceiptTypes:["m.read","m.read.private"],notifs:{DEFAULT:"default",ALL_MESSAGES:"all_messages",MENTIONS_AND_KEYWORDS:"mentions_and_keywords",MUTE:"mute"},status:{PRE_FLIGHT:"pre-flight",IN_FLIGHT:"in-flight",SUCCESS:"success",ERROR:"error"},actions:{navigation:{SELECT_TAB:"SELECT_TAB",SELECT_SPACE:"SELECT_SPACE",SELECT_ROOM:"SELECT_ROOM",OPEN_SPACE_SETTINGS:"OPEN_SPACE_SETTINGS",OPEN_SPACE_MANAGE:"OPEN_SPACE_MANAGE",OPEN_SPACE_ADDEXISTING:"OPEN_SPACE_ADDEXISTING",TOGGLE_ROOM_SETTINGS:"TOGGLE_ROOM_SETTINGS",OPEN_SHORTCUT_SPACES:"OPEN_SHORTCUT_SPACES",OPEN_INVITE_LIST:"OPEN_INVITE_LIST",OPEN_PUBLIC_ROOMS:"OPEN_PUBLIC_ROOMS",OPEN_CREATE_ROOM:"OPEN_CREATE_ROOM",OPEN_JOIN_ALIAS:"OPEN_JOIN_ALIAS",OPEN_INVITE_USER:"OPEN_INVITE_USER",OPEN_PROFILE_VIEWER:"OPEN_PROFILE_VIEWER",OPEN_SETTINGS:"OPEN_SETTINGS",OPEN_EMOJIBOARD:"OPEN_EMOJIBOARD",OPEN_READRECEIPTS:"OPEN_READRECEIPTS",OPEN_VIEWSOURCE:"OPEN_VIEWSOURCE",OPEN_TEXTTRANSLATE:"OPEN_TEXTTRANSLATE",CLICK_REPLY_TO:"CLICK_REPLY_TO",OPEN_SEARCH:"OPEN_SEARCH",OPEN_REUSABLE_CONTEXT_MENU:"OPEN_REUSABLE_CONTEXT_MENU",TOGGLE_NAVIGATION:"TOGGLE_NAVIGATION",OPEN_NAVIGATION:"OPEN_NAVIGATION",OPEN_REUSABLE_DIALOG:"OPEN_REUSABLE_DIALOG",OPEN_EMOJI_VERIFICATION:"OPEN_EMOJI_VERIFICATION"},room:{JOIN:"JOIN",LEAVE:"LEAVE",CREATE:"CREATE"},accountData:{CREATE_SPACE_SHORTCUT:"CREATE_SPACE_SHORTCUT",DELETE_SPACE_SHORTCUT:"DELETE_SPACE_SHORTCUT",MOVE_SPACE_SHORTCUTS:"MOVE_SPACE_SHORTCUTS",CATEGORIZE_SPACE:"CATEGORIZE_SPACE",UNCATEGORIZE_SPACE:"UNCATEGORIZE_SPACE"},settings:{TOGGLE_SYSTEM_THEME:"TOGGLE_SYSTEM_THEME",TOGGLE_MARKDOWN:"TOGGLE_MARKDOWN",TOGGLE_PEOPLE_DRAWER:"TOGGLE_PEOPLE_DRAWER",TOGGLE_MEMBERSHIP_EVENT:"TOGGLE_MEMBERSHIP_EVENT",TOGGLE_HIDE_NAVIGATION:"TOGGLE_HIDE_NAVIGATION",TOGGLE_NICKAVATAR_EVENT:"TOGGLE_NICKAVATAR_EVENT",TOGGLE_SELF_TRANSLATE:"TOGGLE_SELF_TRANSLATE",TOGGLE_NOTIFICATIONS:"TOGGLE_NOTIFICATIONS",TOGGLE_NOTIFICATION_SOUNDS:"TOGGLE_NOTIFICATION_SOUNDS",TOGGLE_READ_RECEIPTS:"TOGGLE_READ_RECEIPTS"}},events:{navigation:{TAB_SELECTED:"TAB_SELECTED",SPACE_SELECTED:"SPACE_SELECTED",ROOM_SELECTED:"ROOM_SELECTED",SPACE_SETTINGS_OPENED:"SPACE_SETTINGS_OPENED",SPACE_MANAGE_OPENED:"SPACE_MANAGE_OPENED",SPACE_ADDEXISTING_OPENED:"SPACE_ADDEXISTING_OPENED",ROOM_SETTINGS_TOGGLED:"ROOM_SETTINGS_TOGGLED",NAVIGATION_TOGGLED:"NAVIGATIONS_TOGGLED",SHORTCUT_SPACES_OPENED:"SHORTCUT_SPACES_OPENED",INVITE_LIST_OPENED:"INVITE_LIST_OPENED",PUBLIC_ROOMS_OPENED:"PUBLIC_ROOMS_OPENED",CREATE_ROOM_OPENED:"CREATE_ROOM_OPENED",JOIN_ALIAS_OPENED:"JOIN_ALIAS_OPENED",INVITE_USER_OPENED:"INVITE_USER_OPENED",SETTINGS_OPENED:"SETTINGS_OPENED",PROFILE_VIEWER_OPENED:"PROFILE_VIEWER_OPENED",EMOJIBOARD_OPENED:"EMOJIBOARD_OPENED",READRECEIPTS_OPENED:"READRECEIPTS_OPENED",VIEWSOURCE_OPENED:"VIEWSOURCE_OPENED",TEXTTRANSLATE_OPENED:"TEXTTRANSLATE_OPENED",REPLY_TO_CLICKED:"REPLY_TO_CLICKED",SEARCH_OPENED:"SEARCH_OPENED",REUSABLE_CONTEXT_MENU_OPENED:"REUSABLE_CONTEXT_MENU_OPENED",NAVIGATION_OPENED:"NAVIGATION_OPENED",REUSABLE_DIALOG_OPENED:"REUSABLE_DIALOG_OPENED",EMOJI_VERIFICATION_OPENED:"EMOJI_VERIFICATION_OPENED"},roomList:{ROOMLIST_UPDATED:"ROOMLIST_UPDATED",INVITELIST_UPDATED:"INVITELIST_UPDATED",ROOM_JOINED:"ROOM_JOINED",ROOM_LEAVED:"ROOM_LEAVED",ROOM_CREATED:"ROOM_CREATED",ROOM_PROFILE_UPDATED:"ROOM_PROFILE_UPDATED"},accountData:{SPACE_SHORTCUT_UPDATED:"SPACE_SHORTCUT_UPDATED",CATEGORIZE_SPACE_UPDATED:"CATEGORIZE_SPACE_UPDATED"},notifications:{NOTI_CHANGED:"NOTI_CHANGED",FULL_READ:"FULL_READ",MUTE_TOGGLED:"MUTE_TOGGLED"},roomTimeline:{READY:"READY",EVENT:"EVENT",PAGINATED:"PAGINATED",TYPING_MEMBERS_UPDATED:"TYPING_MEMBERS_UPDATED",LIVE_RECEIPT:"LIVE_RECEIPT",EVENT_REDACTED:"EVENT_REDACTED",AT_BOTTOM:"AT_BOTTOM",SCROLL_TO_LIVE:"SCROLL_TO_LIVE"},roomsInput:{MESSAGE_SENT:"MESSAGE_SENT",ATTACHMENT_SET:"ATTACHMENT_SET",FILE_UPLOADED:"FILE_UPLOADED",UPLOAD_PROGRESS_CHANGES:"UPLOAD_PROGRESS_CHANGES",FILE_UPLOAD_CANCELED:"FILE_UPLOAD_CANCELED",ATTACHMENT_CANCELED:"ATTACHMENT_CANCELED"},settings:{SYSTEM_THEME_TOGGLED:"SYSTEM_THEME_TOGGLED",MARKDOWN_TOGGLED:"MARKDOWN_TOGGLED",PEOPLE_DRAWER_TOGGLED:"PEOPLE_DRAWER_TOGGLED",MEMBERSHIP_EVENTS_TOGGLED:"MEMBERSHIP_EVENTS_TOGGLED",NICKAVATAR_EVENTS_TOGGLED:"NICKAVATAR_EVENTS_TOGGLED",NOTIFICATIONS_TOGGLED:"NOTIFICATIONS_TOGGLED",NOTIFICATION_SOUNDS_TOGGLED:"NOTIFICATION_SOUNDS_TOGGLED",READ_RECEIPTS_TOGGLED:"READ_RECEIPTS_TOGGLED"}}};Object.freeze(te);function Jn(){const t=window.localStorage.getItem("settings");return t===null?null:JSON.parse(t)}function ur(t,e){let n=Jn();n===null&&(n={}),n[t]=e,window.localStorage.setItem("settings",JSON.stringify(n))}let sL=class extends Gn.exports{constructor(){super(),this.themes=["","silver-theme","dark-theme","butter-theme","nga-theme"],this.themeIndex=this.getThemeIndex(),this.translationIndex=this.getTranslationAPIIndex(),this.translationLanguage=this.getTranslationLanguage(),this.translationSelfLanguage=this.getTranslationSelfLanguage(),this.useSystemTheme=this.getUseSystemTheme(),this.isMarkdown=this.getIsMarkdown(),this.hideNavigation=this.getHideNavigation(),this.isPeopleDrawer=this.getIsPeopleDrawer(),this.hideMembershipEvents=this.getHideMembershipEvents(),this.hideNickAvatarEvents=this.getHideNickAvatarEvents(),this.enableSelfTranslate=this.getEnableSelfTranslate(),this._showNotifications=this.getShowNotifications(),this.isNotificationSounds=this.getIsNotificationSounds(),this.sendReadReceipts=this.getSendReadReceipts(),this.isTouchScreenDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}getThemeIndex(){if(typeof this.themeIndex=="number")return this.themeIndex;const e=Jn();return e===null||typeof e.themeIndex>"u"?0:parseInt(e.themeIndex)}getTranslationAPIIndex(){if(typeof this.translationIndex=="number")return this.translationIndex;const e=Jn();return e===null||typeof e.translationIndex>"u"?0:parseInt(e.translationIndex)}getTranslationLanguage(){if(typeof this.translationLanguage=="string")return this.translationLanguage;const e=Jn();return e===null||typeof e.translationLanguage>"u"?"en":e.translationLanguage}getTranslationSelfLanguage(){if(typeof this.translationSelfLanguage=="string")return this.translationSelfLanguage;const e=Jn();return e===null||typeof e.translationSelfLanguage>"u"?"en":e.translationSelfLanguage}getThemeName(){return this.themes[this.themeIndex]}_clearTheme(){document.body.classList.remove("system-theme"),this.themes.forEach(e=>{e!==""&&document.body.classList.remove(e)})}applyTheme(){this._clearTheme(),this.useSystemTheme?document.body.classList.add("system-theme"):this.themes[this.themeIndex]&&document.body.classList.add(this.themes[this.themeIndex])}setTheme(e){this.themeIndex=e,ur("themeIndex",this.themeIndex),this.applyTheme()}setTranslationAPI(e){this.translationIndex=e,ur("translationIndex",this.translationIndex)}setTranslationLanguage(e){this.translationLanguage=e,ur("translationLanguage",this.translationLanguage)}setTranslationSelfLanguage(e){this.translationSelfLanguage=e,ur("translationSelfLanguage",this.translationSelfLanguage)}toggleUseSystemTheme(){this.useSystemTheme=!this.useSystemTheme,ur("useSystemTheme",this.useSystemTheme),this.applyTheme(),this.emit(te.events.settings.SYSTEM_THEME_TOGGLED,this.useSystemTheme)}getUseSystemTheme(){if(typeof this.useSystemTheme=="boolean")return this.useSystemTheme;const e=Jn();return e===null||typeof e.useSystemTheme>"u"?!0:e.useSystemTheme}getHideNavigation(){if(typeof this.hideNavigation=="boolean")return this.hideNavigation;const e=Jn();return e===null||typeof e.hideNavigation>"u"?!1:e.hideNavigation}getIsMarkdown(){if(typeof this.isMarkdown=="boolean")return this.isMarkdown;const e=Jn();return e===null||typeof e.isMarkdown>"u"?!0:e.isMarkdown}getHideMembershipEvents(){if(typeof this.hideMembershipEvents=="boolean")return this.hideMembershipEvents;const e=Jn();return e===null||typeof e.hideMembershipEvents>"u"?!1:e.hideMembershipEvents}getHideNickAvatarEvents(){if(typeof this.hideNickAvatarEvents=="boolean")return this.hideNickAvatarEvents;const e=Jn();return e===null||typeof e.hideNickAvatarEvents>"u"?!0:e.hideNickAvatarEvents}getEnableSelfTranslate(){if(typeof this.enableSelfTranslate=="boolean")return this.enableSelfTranslate;const e=Jn();return e===null||typeof e.enableSelfTranslate>"u"?!1:e.enableSelfTranslate}getIsPeopleDrawer(){if(typeof this.isPeopleDrawer=="boolean")return this.isPeopleDrawer;const e=Jn();return e===null||typeof e.isPeopleDrawer>"u"?!0:e.isPeopleDrawer}get showNotifications(){var e;return((e=window.Notification)==null?void 0:e.permission)!=="granted"?!1:this._showNotifications}getShowNotifications(){if(typeof this._showNotifications=="boolean")return this._showNotifications;const e=Jn();return e===null||typeof e.showNotifications>"u"?!0:e.showNotifications}getIsNotificationSounds(){if(typeof this.isNotificationSounds=="boolean")return this.isNotificationSounds;const e=Jn();return e===null||typeof e.isNotificationSounds>"u"?!0:e.isNotificationSounds}getSendReadReceipts(){if(typeof this.sendReadReceipts=="boolean")return this.sendReadReceipts;const e=Jn();return e===null||typeof e.sendReadReceipts>"u"?!0:e.sendReadReceipts}setter(e){var r;const n={[te.actions.settings.TOGGLE_SYSTEM_THEME]:()=>{this.toggleUseSystemTheme()},[te.actions.settings.TOGGLE_MARKDOWN]:()=>{this.isMarkdown=!this.isMarkdown,ur("isMarkdown",this.isMarkdown),this.emit(te.events.settings.MARKDOWN_TOGGLED,this.isMarkdown)},[te.actions.settings.TOGGLE_PEOPLE_DRAWER]:()=>{this.isPeopleDrawer=!this.isPeopleDrawer,ur("isPeopleDrawer",this.isPeopleDrawer),this.emit(te.events.settings.PEOPLE_DRAWER_TOGGLED,this.isPeopleDrawer)},[te.actions.settings.TOGGLE_MEMBERSHIP_EVENT]:()=>{this.hideMembershipEvents=!this.hideMembershipEvents,ur("hideMembershipEvents",this.hideMembershipEvents),this.emit(te.events.settings.MEMBERSHIP_EVENTS_TOGGLED,this.hideMembershipEvents)},[te.actions.settings.TOGGLE_HIDE_NAVIGATION]:()=>{this.hideNavigation=!this.hideNavigation,ur("hideNavigation",this.hideNavigation),this.emit(te.events.settings.HIDE_NAVIGATION_TOGGLED,this.hideNavigation)},[te.actions.settings.TOGGLE_NICKAVATAR_EVENT]:()=>{this.hideNickAvatarEvents=!this.hideNickAvatarEvents,ur("hideNickAvatarEvents",this.hideNickAvatarEvents),this.emit(te.events.settings.NICKAVATAR_EVENTS_TOGGLED,this.hideNickAvatarEvents)},[te.actions.settings.TOGGLE_SELF_TRANSLATE]:()=>{this.enableSelfTranslate=!this.enableSelfTranslate,ur("enableSelfTranslate",this.enableSelfTranslate),this.emit(te.events.settings.SELF_TRANSLATE_TOGGLED,this.enableSelfTranslate)},[te.actions.settings.TOGGLE_NOTIFICATIONS]:async()=>{var o;((o=window.Notification)==null?void 0:o.permission)!=="granted"?this._showNotifications=!1:this._showNotifications=!this._showNotifications,ur("showNotifications",this._showNotifications),this.emit(te.events.settings.NOTIFICATIONS_TOGGLED,this._showNotifications)},[te.actions.settings.TOGGLE_NOTIFICATION_SOUNDS]:()=>{this.isNotificationSounds=!this.isNotificationSounds,ur("isNotificationSounds",this.isNotificationSounds),this.emit(te.events.settings.NOTIFICATION_SOUNDS_TOGGLED,this.isNotificationSounds)},[te.actions.settings.TOGGLE_READ_RECEIPTS]:()=>{this.sendReadReceipts=!this.sendReadReceipts,ur("sendReadReceipts",this.sendReadReceipts),this.emit(te.events.settings.READ_RECEIPTS_TOGGLED,this.sendReadReceipts)}};(r=n[e.type])==null||r.call(n)}};const at=new sL;ct.register(at.setter.bind(at));var Pi,Mi,Ni;class YI{constructor(e,n){Ug(this,Pi,void 0);Ug(this,Mi,void 0);Ug(this,Ni,void 0);jg(this,Pi,e),jg(this,Mi,n),jg(this,Ni,new Set);for(let r=0;r<Bn(this,Mi).length;r++){let o=Bn(this,Mi).key(r);o.startsWith(`${Bn(this,Pi)}.`)&&Bn(this,Ni).add(o.replace(`${Bn(this,Pi)}.`,""))}}key(e){return Bn(this,Ni)[e]}getItem(e){return Bn(this,Mi).getItem(`${Bn(this,Pi)}.${e}`)}setItem(e,n){Bn(this,Mi).setItem(`${Bn(this,Pi)}.${e}`,n),Bn(this,Ni).add(e)}removeItem(e){Bn(this,Mi).removeItem(`${Bn(this,Pi)}.${e}`),Bn(this,Ni).delete(e)}clear(){for(let e of Bn(this,Ni))this.removeItem(e)}}Pi=new WeakMap,Mi=new WeakMap,Ni=new WeakMap;function mh(t){const e=global.localStorage.getItem("currentUser");return new YI(e,global.localStorage).getItem(t)}const lL=()=>mh(te.secretKey.ACCESS_TOKEN)!==null,Zg={accessToken:mh(te.secretKey.ACCESS_TOKEN),deviceId:mh(te.secretKey.DEVICE_ID),userId:mh(te.secretKey.USER_ID),baseUrl:mh(te.secretKey.BASE_URL)};var J={exports:{}},uL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cL=uL,dL=cL;function JI(){}function XI(){}XI.resetWarningCache=JI;var hL=function(){function t(r,o,i,a,l,u){if(u!==dL){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XI,resetWarningCache:JI};return n.PropTypes=n,n};J.exports=hL();function Iv(){return Iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function fL(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function e1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var dm=function(t){gL(e,t);function e(){var r;return r=t.call(this)||this,r.handleExpired=r.handleExpired.bind(e1(r)),r.handleErrored=r.handleErrored.bind(e1(r)),r.handleChange=r.handleChange.bind(e1(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(e1(r)),r}var n=e.prototype;return n.getValue=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this.props.grecaptcha.getResponse(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var o=this.props.grecaptcha;if(o&&this._widgetId!==void 0)return o.execute(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var o=this;return new Promise(function(i,a){o.executionResolve=i,o.executionReject=a,o.execute()})},n.reset=function(){this.props.grecaptcha&&this._widgetId!==void 0&&this.props.grecaptcha.reset(this._widgetId)},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(o){this.props.onChange&&this.props.onChange(o),this.executionResolve&&(this.executionResolve(o),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&this._widgetId===void 0){var o=document.createElement("div");this._widgetId=this.props.grecaptcha.render(o,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(o)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.componentWillUnmount=function(){this._widgetId!==void 0&&(this.delayOfCaptchaIframeRemoving(),this.reset())},n.delayOfCaptchaIframeRemoving=function(){var o=document.createElement("div");for(document.body.appendChild(o),o.style.display="none";this.captcha.firstChild;)o.appendChild(this.captcha.firstChild);setTimeout(function(){document.body.removeChild(o)},5e3)},n.handleRecaptchaRef=function(o){this.captcha=o},n.render=function(){var o=this.props;o.sitekey,o.onChange,o.theme,o.type,o.tabindex,o.onExpired,o.onErrored,o.size,o.stoken,o.grecaptcha,o.badge,o.hl;var i=fL(o,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]);return nn.createElement("div",Iv({},i,{ref:this.handleRecaptchaRef}))},e}(nn.Component);dm.displayName="ReCAPTCHA";dm.propTypes={sitekey:J.exports.string.isRequired,onChange:J.exports.func,grecaptcha:J.exports.object,theme:J.exports.oneOf(["dark","light"]),type:J.exports.oneOf(["image","audio"]),tabindex:J.exports.number,onExpired:J.exports.func,onErrored:J.exports.func,size:J.exports.oneOf(["compact","normal","invisible"]),stoken:J.exports.string,hl:J.exports.string,badge:J.exports.oneOf(["bottomright","bottomleft","inline"])};dm.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var QI={exports:{}},At={};var bn=typeof Symbol=="function"&&Symbol.for,F3=bn?Symbol.for("react.element"):60103,_3=bn?Symbol.for("react.portal"):60106,hm=bn?Symbol.for("react.fragment"):60107,fm=bn?Symbol.for("react.strict_mode"):60108,gm=bn?Symbol.for("react.profiler"):60114,pm=bn?Symbol.for("react.provider"):60109,mm=bn?Symbol.for("react.context"):60110,v3=bn?Symbol.for("react.async_mode"):60111,Fm=bn?Symbol.for("react.concurrent_mode"):60111,_m=bn?Symbol.for("react.forward_ref"):60112,vm=bn?Symbol.for("react.suspense"):60113,pL=bn?Symbol.for("react.suspense_list"):60120,ym=bn?Symbol.for("react.memo"):60115,bm=bn?Symbol.for("react.lazy"):60116,mL=bn?Symbol.for("react.block"):60121,FL=bn?Symbol.for("react.fundamental"):60117,_L=bn?Symbol.for("react.responder"):60118,vL=bn?Symbol.for("react.scope"):60119;function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F3:switch(t=t.type,t){case v3:case Fm:case hm:case gm:case fm:case vm:return t;default:switch(t=t&&t.$$typeof,t){case mm:case _m:case bm:case ym:case pm:return t;default:return e}}case _3:return e}}}function ZI(t){return Ur(t)===Fm}At.AsyncMode=v3;At.ConcurrentMode=Fm;At.ContextConsumer=mm;At.ContextProvider=pm;At.Element=F3;At.ForwardRef=_m;At.Fragment=hm;At.Lazy=bm;At.Memo=ym;At.Portal=_3;At.Profiler=gm;At.StrictMode=fm;At.Suspense=vm;At.isAsyncMode=function(t){return ZI(t)||Ur(t)===v3};At.isConcurrentMode=ZI;At.isContextConsumer=function(t){return Ur(t)===mm};At.isContextProvider=function(t){return Ur(t)===pm};At.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F3};At.isForwardRef=function(t){return Ur(t)===_m};At.isFragment=function(t){return Ur(t)===hm};At.isLazy=function(t){return Ur(t)===bm};At.isMemo=function(t){return Ur(t)===ym};At.isPortal=function(t){return Ur(t)===_3};At.isProfiler=function(t){return Ur(t)===gm};At.isStrictMode=function(t){return Ur(t)===fm};At.isSuspense=function(t){return Ur(t)===vm};At.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hm||t===Fm||t===gm||t===fm||t===vm||t===pL||typeof t=="object"&&t!==null&&(t.$$typeof===bm||t.$$typeof===ym||t.$$typeof===pm||t.$$typeof===mm||t.$$typeof===_m||t.$$typeof===FL||t.$$typeof===_L||t.$$typeof===vL||t.$$typeof===mL)};At.typeOf=Ur;(function(t){t.exports=At})(QI);var y3=QI.exports,yL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},EL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b3={};b3[y3.ForwardRef]=EL;b3[y3.Memo]=eR;function N4(t){return y3.isMemo(t)?eR:b3[t.$$typeof]||yL}var wL=Object.defineProperty,DL=Object.getOwnPropertyNames,L4=Object.getOwnPropertySymbols,kL=Object.getOwnPropertyDescriptor,SL=Object.getPrototypeOf,U4=Object.prototype;function tR(t,e,n){if(typeof e!="string"){if(U4){var r=SL(e);r&&r!==U4&&tR(t,r,n)}var o=DL(e);L4&&(o=o.concat(L4(e)));for(var i=N4(t),a=N4(e),l=0;l<o.length;++l){var u=o[l];if(!bL[u]&&!(n&&n[u])&&!(a&&a[u])&&!(i&&i[u])){var d=kL(e,u);try{wL(t,u,d)}catch{}}}}return t}var xL=tR;function Rv(){return Rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function CL(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function TL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var yo={},IL=0;function RL(t,e){return e=e||{},function(r){var o=r.displayName||r.name||"Component",i=function(l){TL(u,l);function u(s,g){var c;return c=l.call(this,s,g)||this,c.state={},c.__scriptURL="",c}var d=u.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+IL++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(g){var c=this;this.setState(g,function(){return c.props.asyncScriptOnLoad&&c.props.asyncScriptOnLoad(c.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var g=yo[this.__scriptURL];if(!g||!g.loaded)throw new Error("Script is not loaded.");for(var c in g.observers)g.observers[c](g);delete window[e.callbackName]},d.componentDidMount=function(){var g=this,c=this.setupScriptURL(),h=this.asyncScriptLoaderGetScriptLoaderID(),_=e,F=_.globalName,m=_.callbackName,p=_.scriptId;if(F&&typeof window[F]<"u"&&(yo[c]={loaded:!0,observers:{}}),yo[c]){var f=yo[c];if(f&&(f.loaded||f.errored)){this.asyncScriptLoaderHandleLoad(f);return}f.observers[h]=function(S){return g.asyncScriptLoaderHandleLoad(S)};return}var v={};v[h]=function(S){return g.asyncScriptLoaderHandleLoad(S)},yo[c]={loaded:!1,observers:v};var y=document.createElement("script");y.src=c,y.async=!0;for(var w in e.attributes)y.setAttribute(w,e.attributes[w]);p&&(y.id=p);var b=function(x){if(yo[c]){var N=yo[c],U=N.observers;for(var q in U)x(U[q])&&delete U[q]}};m&&typeof window<"u"&&(window[m]=function(){return g.asyncScriptLoaderTriggerOnScriptLoaded()}),y.onload=function(){var S=yo[c];S&&(S.loaded=!0,b(function(x){return m?!1:(x(S),!0)}))},y.onerror=function(){var S=yo[c];S&&(S.errored=!0,b(function(x){return x(S),!0}))},document.body.appendChild(y)},d.componentWillUnmount=function(){var g=this.__scriptURL;if(e.removeOnUnmount===!0)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h+=1)c[h].src.indexOf(g)>-1&&c[h].parentNode&&c[h].parentNode.removeChild(c[h]);var _=yo[g];_&&(delete _.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete yo[g])},d.render=function(){var g=e.globalName,c=this.props;c.asyncScriptOnLoad;var h=c.forwardedRef,_=CL(c,["asyncScriptOnLoad","forwardedRef"]);return g&&typeof window<"u"&&(_[g]=typeof window[g]<"u"?window[g]:void 0),_.ref=h,X.exports.createElement(r,_)},u}(X.exports.Component),a=X.exports.forwardRef(function(l,u){return X.exports.createElement(i,Rv({},l,{forwardedRef:u}))});return a.displayName="AsyncScriptLoader("+o+")",a.propTypes={asyncScriptOnLoad:J.exports.func},xL(a,r)}}var nR="onloadcallback",AL="grecaptcha";function OL(){return typeof window<"u"&&window.recaptchaOptions||{}}function BL(){var t=OL(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return"https://"+e+"/recaptcha/api.js?onload="+nR+"&render=explicit"}const PL=RL(BL,{callbackName:nR,globalName:AL})(dm);var j4=Array.isArray,$4=Object.keys,ML=Object.prototype.hasOwnProperty,NL=typeof Element<"u";function Av(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=j4(t),r=j4(e),o,i,a;if(n&&r){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!Av(t[o],e[o]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,u=e instanceof Date;if(l!=u)return!1;if(l&&u)return t.getTime()==e.getTime();var d=t instanceof RegExp,s=e instanceof RegExp;if(d!=s)return!1;if(d&&s)return t.toString()==e.toString();var g=$4(t);if(i=g.length,i!==$4(e).length)return!1;for(o=i;o--!==0;)if(!ML.call(e,g[o]))return!1;if(NL&&t instanceof Element&&e instanceof Element)return t===e;for(o=i;o--!==0;)if(a=g[o],!(a==="_owner"&&t.$$typeof)&&!Av(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}var ma=function(e,n){try{return Av(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},LL=function(e){return UL(e)&&!jL(e)};function UL(t){return!!t&&typeof t=="object"}function jL(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||VL(t)}var $L=typeof Symbol=="function"&&Symbol.for,qL=$L?Symbol.for("react.element"):60103;function VL(t){return t.$$typeof===qL}function GL(t){return Array.isArray(t)?[]:{}}function K0(t,e){return e.clone!==!1&&e.isMergeableObject(t)?yf(GL(t),t,e):t}function KL(t,e,n){return t.concat(e).map(function(r){return K0(r,n)})}function HL(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(o){r[o]=K0(t[o],n)}),Object.keys(e).forEach(function(o){!n.isMergeableObject(e[o])||!t[o]?r[o]=K0(e[o],n):r[o]=yf(t[o],e[o],n)}),r}function yf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||KL,n.isMergeableObject=n.isMergeableObject||LL;var r=Array.isArray(e),o=Array.isArray(t),i=r===o;return i?r?n.arrayMerge(t,e,n):HL(t,e,n):K0(e,n)}yf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,o){return yf(r,o,n)},{})};var Ov=yf,zL=typeof global=="object"&&global&&global.Object===Object&&global;const rR=zL;var WL=typeof self=="object"&&self&&self.Object===Object&&self,YL=rR||WL||Function("return this")();const _i=YL;var JL=_i.Symbol;const Ga=JL;var oR=Object.prototype,XL=oR.hasOwnProperty,QL=oR.toString,id=Ga?Ga.toStringTag:void 0;function ZL(t){var e=XL.call(t,id),n=t[id];try{t[id]=void 0;var r=!0}catch{}var o=QL.call(t);return r&&(e?t[id]=n:delete t[id]),o}var eU=Object.prototype,tU=eU.toString;function nU(t){return tU.call(t)}var rU="[object Null]",oU="[object Undefined]",q4=Ga?Ga.toStringTag:void 0;function pl(t){return t==null?t===void 0?oU:rU:q4&&q4 in Object(t)?ZL(t):nU(t)}function iR(t,e){return function(n){return t(e(n))}}var iU=iR(Object.getPrototypeOf,Object);const E3=iU;function ml(t){return t!=null&&typeof t=="object"}var aU="[object Object]",sU=Function.prototype,lU=Object.prototype,aR=sU.toString,uU=lU.hasOwnProperty,cU=aR.call(Object);function V4(t){if(!ml(t)||pl(t)!=aU)return!1;var e=E3(t);if(e===null)return!0;var n=uU.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&aR.call(n)==cU}function dU(){this.__data__=[],this.size=0}function sR(t,e){return t===e||t!==t&&e!==e}function Em(t,e){for(var n=t.length;n--;)if(sR(t[n][0],e))return n;return-1}var hU=Array.prototype,fU=hU.splice;function gU(t){var e=this.__data__,n=Em(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fU.call(e,n,1),--this.size,!0}function pU(t){var e=this.__data__,n=Em(e,t);return n<0?void 0:e[n][1]}function mU(t){return Em(this.__data__,t)>-1}function FU(t,e){var n=this.__data__,r=Em(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Yi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yi.prototype.clear=dU;Yi.prototype.delete=gU;Yi.prototype.get=pU;Yi.prototype.has=mU;Yi.prototype.set=FU;function _U(){this.__data__=new Yi,this.size=0}function vU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function yU(t){return this.__data__.get(t)}function bU(t){return this.__data__.has(t)}function tg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var EU="[object AsyncFunction]",wU="[object Function]",DU="[object GeneratorFunction]",kU="[object Proxy]";function lR(t){if(!tg(t))return!1;var e=pl(t);return e==wU||e==DU||e==EU||e==kU}var SU=_i["__core-js_shared__"];const i_=SU;var G4=function(){var t=/[^.]+$/.exec(i_&&i_.keys&&i_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xU(t){return!!G4&&G4 in t}var CU=Function.prototype,TU=CU.toString;function Fl(t){if(t!=null){try{return TU.call(t)}catch{}try{return t+""}catch{}}return""}var IU=/[\\^$.*+?()[\]{}|]/g,RU=/^\[object .+?Constructor\]$/,AU=Function.prototype,OU=Object.prototype,BU=AU.toString,PU=OU.hasOwnProperty,MU=RegExp("^"+BU.call(PU).replace(IU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NU(t){if(!tg(t)||xU(t))return!1;var e=lR(t)?MU:RU;return e.test(Fl(t))}function LU(t,e){return t==null?void 0:t[e]}function _l(t,e){var n=LU(t,e);return NU(n)?n:void 0}var UU=_l(_i,"Map");const bf=UU;var jU=_l(Object,"create");const Ef=jU;function $U(){this.__data__=Ef?Ef(null):{},this.size=0}function qU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var VU="__lodash_hash_undefined__",GU=Object.prototype,KU=GU.hasOwnProperty;function HU(t){var e=this.__data__;if(Ef){var n=e[t];return n===VU?void 0:n}return KU.call(e,t)?e[t]:void 0}var zU=Object.prototype,WU=zU.hasOwnProperty;function YU(t){var e=this.__data__;return Ef?e[t]!==void 0:WU.call(e,t)}var JU="__lodash_hash_undefined__";function XU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ef&&e===void 0?JU:e,this}function nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nl.prototype.clear=$U;nl.prototype.delete=qU;nl.prototype.get=HU;nl.prototype.has=YU;nl.prototype.set=XU;function QU(){this.size=0,this.__data__={hash:new nl,map:new(bf||Yi),string:new nl}}function ZU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wm(t,e){var n=t.__data__;return ZU(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ej(t){var e=wm(this,t).delete(t);return this.size-=e?1:0,e}function tj(t){return wm(this,t).get(t)}function nj(t){return wm(this,t).has(t)}function rj(t,e){var n=wm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qa.prototype.clear=QU;Qa.prototype.delete=ej;Qa.prototype.get=tj;Qa.prototype.has=nj;Qa.prototype.set=rj;var oj=200;function ij(t,e){var n=this.__data__;if(n instanceof Yi){var r=n.__data__;if(!bf||r.length<oj-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qa(r)}return n.set(t,e),this.size=n.size,this}function kc(t){var e=this.__data__=new Yi(t);this.size=e.size}kc.prototype.clear=_U;kc.prototype.delete=vU;kc.prototype.get=yU;kc.prototype.has=bU;kc.prototype.set=ij;function aj(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var sj=function(){try{var t=_l(Object,"defineProperty");return t({},"",{}),t}catch{}}();const K4=sj;function uR(t,e,n){e=="__proto__"&&K4?K4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var lj=Object.prototype,uj=lj.hasOwnProperty;function cR(t,e,n){var r=t[e];(!(uj.call(t,e)&&sR(r,n))||n===void 0&&!(e in t))&&uR(t,e,n)}function Dm(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],u=r?r(n[l],t[l],l,n,t):void 0;u===void 0&&(u=t[l]),o?uR(n,l,u):cR(n,l,u)}return n}function cj(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dj="[object Arguments]";function H4(t){return ml(t)&&pl(t)==dj}var dR=Object.prototype,hj=dR.hasOwnProperty,fj=dR.propertyIsEnumerable,gj=H4(function(){return arguments}())?H4:function(t){return ml(t)&&hj.call(t,"callee")&&!fj.call(t,"callee")};const pj=gj;var mj=Array.isArray;const ng=mj;function Fj(){return!1}var hR=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z4=hR&&typeof module=="object"&&module&&!module.nodeType&&module,_j=z4&&z4.exports===hR,W4=_j?_i.Buffer:void 0,vj=W4?W4.isBuffer:void 0,yj=vj||Fj;const fR=yj;var bj=9007199254740991,Ej=/^(?:0|[1-9]\d*)$/;function wj(t,e){var n=typeof t;return e=e??bj,!!e&&(n=="number"||n!="symbol"&&Ej.test(t))&&t>-1&&t%1==0&&t<e}var Dj=9007199254740991;function gR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dj}var kj="[object Arguments]",Sj="[object Array]",xj="[object Boolean]",Cj="[object Date]",Tj="[object Error]",Ij="[object Function]",Rj="[object Map]",Aj="[object Number]",Oj="[object Object]",Bj="[object RegExp]",Pj="[object Set]",Mj="[object String]",Nj="[object WeakMap]",Lj="[object ArrayBuffer]",Uj="[object DataView]",jj="[object Float32Array]",$j="[object Float64Array]",qj="[object Int8Array]",Vj="[object Int16Array]",Gj="[object Int32Array]",Kj="[object Uint8Array]",Hj="[object Uint8ClampedArray]",zj="[object Uint16Array]",Wj="[object Uint32Array]",qt={};qt[jj]=qt[$j]=qt[qj]=qt[Vj]=qt[Gj]=qt[Kj]=qt[Hj]=qt[zj]=qt[Wj]=!0;qt[kj]=qt[Sj]=qt[Lj]=qt[xj]=qt[Uj]=qt[Cj]=qt[Tj]=qt[Ij]=qt[Rj]=qt[Aj]=qt[Oj]=qt[Bj]=qt[Pj]=qt[Mj]=qt[Nj]=!1;function Yj(t){return ml(t)&&gR(t.length)&&!!qt[pl(t)]}function w3(t){return function(e){return t(e)}}var pR=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lh=pR&&typeof module=="object"&&module&&!module.nodeType&&module,Jj=Lh&&Lh.exports===pR,a_=Jj&&rR.process,Xj=function(){try{var t=Lh&&Lh.require&&Lh.require("util").types;return t||a_&&a_.binding&&a_.binding("util")}catch{}}();const Xu=Xj;var Y4=Xu&&Xu.isTypedArray,Qj=Y4?w3(Y4):Yj;const Zj=Qj;var e$=Object.prototype,t$=e$.hasOwnProperty;function mR(t,e){var n=ng(t),r=!n&&pj(t),o=!n&&!r&&fR(t),i=!n&&!r&&!o&&Zj(t),a=n||r||o||i,l=a?cj(t.length,String):[],u=l.length;for(var d in t)(e||t$.call(t,d))&&!(a&&(d=="length"||o&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||wj(d,u)))&&l.push(d);return l}var n$=Object.prototype;function D3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||n$;return t===n}var r$=iR(Object.keys,Object);const o$=r$;var i$=Object.prototype,a$=i$.hasOwnProperty;function s$(t){if(!D3(t))return o$(t);var e=[];for(var n in Object(t))a$.call(t,n)&&n!="constructor"&&e.push(n);return e}function FR(t){return t!=null&&gR(t.length)&&!lR(t)}function k3(t){return FR(t)?mR(t):s$(t)}function l$(t,e){return t&&Dm(e,k3(e),t)}function u$(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var c$=Object.prototype,d$=c$.hasOwnProperty;function h$(t){if(!tg(t))return u$(t);var e=D3(t),n=[];for(var r in t)r=="constructor"&&(e||!d$.call(t,r))||n.push(r);return n}function S3(t){return FR(t)?mR(t,!0):h$(t)}function f$(t,e){return t&&Dm(e,S3(e),t)}var _R=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J4=_R&&typeof module=="object"&&module&&!module.nodeType&&module,g$=J4&&J4.exports===_R,X4=g$?_i.Buffer:void 0,Q4=X4?X4.allocUnsafe:void 0;function p$(t,e){if(e)return t.slice();var n=t.length,r=Q4?Q4(n):new t.constructor(n);return t.copy(r),r}function vR(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function m$(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function yR(){return[]}var F$=Object.prototype,_$=F$.propertyIsEnumerable,Z4=Object.getOwnPropertySymbols,v$=Z4?function(t){return t==null?[]:(t=Object(t),m$(Z4(t),function(e){return _$.call(t,e)}))}:yR;const x3=v$;function y$(t,e){return Dm(t,x3(t),e)}function bR(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var b$=Object.getOwnPropertySymbols,E$=b$?function(t){for(var e=[];t;)bR(e,x3(t)),t=E3(t);return e}:yR;const ER=E$;function w$(t,e){return Dm(t,ER(t),e)}function wR(t,e,n){var r=e(t);return ng(t)?r:bR(r,n(t))}function D$(t){return wR(t,k3,x3)}function k$(t){return wR(t,S3,ER)}var S$=_l(_i,"DataView");const Bv=S$;var x$=_l(_i,"Promise");const Pv=x$;var C$=_l(_i,"Set");const Mv=C$;var T$=_l(_i,"WeakMap");const Nv=T$;var ek="[object Map]",I$="[object Object]",tk="[object Promise]",nk="[object Set]",rk="[object WeakMap]",ok="[object DataView]",R$=Fl(Bv),A$=Fl(bf),O$=Fl(Pv),B$=Fl(Mv),P$=Fl(Nv),Ts=pl;(Bv&&Ts(new Bv(new ArrayBuffer(1)))!=ok||bf&&Ts(new bf)!=ek||Pv&&Ts(Pv.resolve())!=tk||Mv&&Ts(new Mv)!=nk||Nv&&Ts(new Nv)!=rk)&&(Ts=function(t){var e=pl(t),n=e==I$?t.constructor:void 0,r=n?Fl(n):"";if(r)switch(r){case R$:return ok;case A$:return ek;case O$:return tk;case B$:return nk;case P$:return rk}return e});const C3=Ts;var M$=Object.prototype,N$=M$.hasOwnProperty;function L$(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&N$.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var U$=_i.Uint8Array;const ik=U$;function T3(t){var e=new t.constructor(t.byteLength);return new ik(e).set(new ik(t)),e}function j$(t,e){var n=e?T3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var $$=/\w*$/;function q$(t){var e=new t.constructor(t.source,$$.exec(t));return e.lastIndex=t.lastIndex,e}var ak=Ga?Ga.prototype:void 0,sk=ak?ak.valueOf:void 0;function V$(t){return sk?Object(sk.call(t)):{}}function G$(t,e){var n=e?T3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var K$="[object Boolean]",H$="[object Date]",z$="[object Map]",W$="[object Number]",Y$="[object RegExp]",J$="[object Set]",X$="[object String]",Q$="[object Symbol]",Z$="[object ArrayBuffer]",eq="[object DataView]",tq="[object Float32Array]",nq="[object Float64Array]",rq="[object Int8Array]",oq="[object Int16Array]",iq="[object Int32Array]",aq="[object Uint8Array]",sq="[object Uint8ClampedArray]",lq="[object Uint16Array]",uq="[object Uint32Array]";function cq(t,e,n){var r=t.constructor;switch(e){case Z$:return T3(t);case K$:case H$:return new r(+t);case eq:return j$(t,n);case tq:case nq:case rq:case oq:case iq:case aq:case sq:case lq:case uq:return G$(t,n);case z$:return new r;case W$:case X$:return new r(t);case Y$:return q$(t);case J$:return new r;case Q$:return V$(t)}}var lk=Object.create,dq=function(){function t(){}return function(e){if(!tg(e))return{};if(lk)return lk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const hq=dq;function fq(t){return typeof t.constructor=="function"&&!D3(t)?hq(E3(t)):{}}var gq="[object Map]";function pq(t){return ml(t)&&C3(t)==gq}var uk=Xu&&Xu.isMap,mq=uk?w3(uk):pq;const Fq=mq;var _q="[object Set]";function vq(t){return ml(t)&&C3(t)==_q}var ck=Xu&&Xu.isSet,yq=ck?w3(ck):vq;const bq=yq;var Eq=1,wq=2,Dq=4,DR="[object Arguments]",kq="[object Array]",Sq="[object Boolean]",xq="[object Date]",Cq="[object Error]",kR="[object Function]",Tq="[object GeneratorFunction]",Iq="[object Map]",Rq="[object Number]",SR="[object Object]",Aq="[object RegExp]",Oq="[object Set]",Bq="[object String]",Pq="[object Symbol]",Mq="[object WeakMap]",Nq="[object ArrayBuffer]",Lq="[object DataView]",Uq="[object Float32Array]",jq="[object Float64Array]",$q="[object Int8Array]",qq="[object Int16Array]",Vq="[object Int32Array]",Gq="[object Uint8Array]",Kq="[object Uint8ClampedArray]",Hq="[object Uint16Array]",zq="[object Uint32Array]",Nt={};Nt[DR]=Nt[kq]=Nt[Nq]=Nt[Lq]=Nt[Sq]=Nt[xq]=Nt[Uq]=Nt[jq]=Nt[$q]=Nt[qq]=Nt[Vq]=Nt[Iq]=Nt[Rq]=Nt[SR]=Nt[Aq]=Nt[Oq]=Nt[Bq]=Nt[Pq]=Nt[Gq]=Nt[Kq]=Nt[Hq]=Nt[zq]=!0;Nt[Cq]=Nt[kR]=Nt[Mq]=!1;function Uh(t,e,n,r,o,i){var a,l=e&Eq,u=e&wq,d=e&Dq;if(n&&(a=o?n(t,r,o,i):n(t)),a!==void 0)return a;if(!tg(t))return t;var s=ng(t);if(s){if(a=L$(t),!l)return vR(t,a)}else{var g=C3(t),c=g==kR||g==Tq;if(fR(t))return p$(t,l);if(g==SR||g==DR||c&&!o){if(a=u||c?{}:fq(t),!l)return u?w$(t,f$(a,t)):y$(t,l$(a,t))}else{if(!Nt[g])return o?t:{};a=cq(t,g,l)}}i||(i=new kc);var h=i.get(t);if(h)return h;i.set(t,a),bq(t)?t.forEach(function(m){a.add(Uh(m,e,n,m,t,i))}):Fq(t)&&t.forEach(function(m,p){a.set(p,Uh(m,e,n,p,t,i))});var _=d?u?k$:D$:u?S3:k3,F=s?void 0:_(t);return aj(F||t,function(m,p){F&&(p=m,m=t[p]),cR(a,p,Uh(m,e,n,p,t,i))}),a}var Wq=4;function dk(t){return Uh(t,Wq)}function xR(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var Yq="[object Symbol]";function I3(t){return typeof t=="symbol"||ml(t)&&pl(t)==Yq}var Jq="Expected a function";function R3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Jq);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(R3.Cache||Qa),n}R3.Cache=Qa;var Xq=500;function Qq(t){var e=R3(t,function(r){return n.size===Xq&&n.clear(),r}),n=e.cache;return e}var Zq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eV=/\\(\\)?/g,tV=Qq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zq,function(n,r,o,i){e.push(o?i.replace(eV,"$1"):r||n)}),e});const nV=tV;var rV=1/0;function oV(t){if(typeof t=="string"||I3(t))return t;var e=t+"";return e=="0"&&1/t==-rV?"-0":e}var iV=1/0,hk=Ga?Ga.prototype:void 0,fk=hk?hk.toString:void 0;function CR(t){if(typeof t=="string")return t;if(ng(t))return xR(t,CR)+"";if(I3(t))return fk?fk.call(t):"";var e=t+"";return e=="0"&&1/t==-iV?"-0":e}function aV(t){return t==null?"":CR(t)}function TR(t){return ng(t)?xR(t,oV):I3(t)?[t]:vR(nV(aV(t)))}var sV=!0;function lV(t,e){if(!sV){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var uV=1,cV=4;function dV(t){return Uh(t,uV|cV)}function sn(){return sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function hV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function A3(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function gk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pk=function(e){return Array.isArray(e)&&e.length===0},Ar=function(e){return typeof e=="function"},km=function(e){return e!==null&&typeof e=="object"},fV=function(e){return String(Math.floor(Number(e)))===e},s_=function(e){return Object.prototype.toString.call(e)==="[object String]"},IR=function(e){return X.exports.Children.count(e)===0},l_=function(e){return km(e)&&Ar(e.then)};function kn(t,e,n,r){r===void 0&&(r=0);for(var o=TR(e);t&&r<o.length;)t=t[o[r++]];return t===void 0?n:t}function si(t,e,n){for(var r=dk(t),o=r,i=0,a=TR(e);i<a.length-1;i++){var l=a[i],u=kn(t,a.slice(0,i+1));if(u&&(km(u)||Array.isArray(u)))o=o[l]=dk(u);else{var d=a[i+1];o=o[l]=fV(d)&&Number(d)>=0?[]:{}}}return(i===0?t:o)[a[i]]===n?t:(n===void 0?delete o[a[i]]:o[a[i]]=n,i===0&&n===void 0&&delete r[a[i]],r)}function RR(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var o=0,i=Object.keys(t);o<i.length;o++){var a=i[o],l=t[a];km(l)?n.get(l)||(n.set(l,!0),r[a]=Array.isArray(l)?[]:{},RR(l,e,n,r[a])):r[a]=e}return r}var Sm=X.exports.createContext(void 0);Sm.displayName="FormikContext";var gV=Sm.Provider;Sm.Consumer;function pV(){var t=X.exports.useContext(Sm);return t||lV(!1),t}function mV(t,e){switch(e.type){case"SET_VALUES":return sn({},t,{values:e.payload});case"SET_TOUCHED":return sn({},t,{touched:e.payload});case"SET_ERRORS":return ma(t.errors,e.payload)?t:sn({},t,{errors:e.payload});case"SET_STATUS":return sn({},t,{status:e.payload});case"SET_ISSUBMITTING":return sn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return sn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return sn({},t,{values:si(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return sn({},t,{touched:si(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return sn({},t,{errors:si(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return sn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return sn({},t,{touched:RR(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return sn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return sn({},t,{isSubmitting:!1});default:return t}}var ls={},t1={};function FV(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,o=r===void 0?!0:r,i=t.validateOnMount,a=i===void 0?!1:i,l=t.isInitialValid,u=t.enableReinitialize,d=u===void 0?!1:u,s=t.onSubmit,g=A3(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),c=sn({validateOnChange:n,validateOnBlur:o,validateOnMount:a,onSubmit:s},g),h=X.exports.useRef(c.initialValues),_=X.exports.useRef(c.initialErrors||ls),F=X.exports.useRef(c.initialTouched||t1),m=X.exports.useRef(c.initialStatus),p=X.exports.useRef(!1),f=X.exports.useRef({});X.exports.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var v=X.exports.useReducer(mV,{values:c.initialValues,errors:c.initialErrors||ls,touched:c.initialTouched||t1,status:c.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),y=v[0],w=v[1],b=X.exports.useCallback(function(de,fe){return new Promise(function(Se,Ee){var ye=c.validate(de,fe);ye==null?Se(ls):l_(ye)?ye.then(function(Te){Se(Te||ls)},function(Te){Ee(Te)}):Se(ye)})},[c.validate]),S=X.exports.useCallback(function(de,fe){var Se=c.validationSchema,Ee=Ar(Se)?Se(fe):Se,ye=fe&&Ee.validateAt?Ee.validateAt(fe,de):vV(de,Ee);return new Promise(function(Te,Ne){ye.then(function(){Te(ls)},function(ne){ne.name==="ValidationError"?Te(_V(ne)):Ne(ne)})})},[c.validationSchema]),x=X.exports.useCallback(function(de,fe){return new Promise(function(Se){return Se(f.current[de].validate(fe))})},[]),N=X.exports.useCallback(function(de){var fe=Object.keys(f.current).filter(function(Ee){return Ar(f.current[Ee].validate)}),Se=fe.length>0?fe.map(function(Ee){return x(Ee,kn(de,Ee))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Se).then(function(Ee){return Ee.reduce(function(ye,Te,Ne){return Te==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Te&&(ye=si(ye,fe[Ne],Te)),ye},{})})},[x]),U=X.exports.useCallback(function(de){return Promise.all([N(de),c.validationSchema?S(de):{},c.validate?b(de):{}]).then(function(fe){var Se=fe[0],Ee=fe[1],ye=fe[2],Te=Ov.all([Se,Ee,ye],{arrayMerge:yV});return Te})},[c.validate,c.validationSchema,N,b,S]),q=$r(function(de){return de===void 0&&(de=y.values),w({type:"SET_ISVALIDATING",payload:!0}),U(de).then(function(fe){return p.current&&(w({type:"SET_ISVALIDATING",payload:!1}),w({type:"SET_ERRORS",payload:fe})),fe})});X.exports.useEffect(function(){a&&p.current===!0&&ma(h.current,c.initialValues)&&q(h.current)},[a,q]);var P=X.exports.useCallback(function(de){var fe=de&&de.values?de.values:h.current,Se=de&&de.errors?de.errors:_.current?_.current:c.initialErrors||{},Ee=de&&de.touched?de.touched:F.current?F.current:c.initialTouched||{},ye=de&&de.status?de.status:m.current?m.current:c.initialStatus;h.current=fe,_.current=Se,F.current=Ee,m.current=ye;var Te=function(){w({type:"RESET_FORM",payload:{isSubmitting:!!de&&!!de.isSubmitting,errors:Se,touched:Ee,status:ye,values:fe,isValidating:!!de&&!!de.isValidating,submitCount:de&&de.submitCount&&typeof de.submitCount=="number"?de.submitCount:0}})};if(c.onReset){var Ne=c.onReset(y.values,W);l_(Ne)?Ne.then(Te):Te()}else Te()},[c.initialErrors,c.initialStatus,c.initialTouched]);X.exports.useEffect(function(){p.current===!0&&!ma(h.current,c.initialValues)&&(d&&(h.current=c.initialValues,P()),a&&q(h.current))},[d,c.initialValues,P,a,q]),X.exports.useEffect(function(){d&&p.current===!0&&!ma(_.current,c.initialErrors)&&(_.current=c.initialErrors||ls,w({type:"SET_ERRORS",payload:c.initialErrors||ls}))},[d,c.initialErrors]),X.exports.useEffect(function(){d&&p.current===!0&&!ma(F.current,c.initialTouched)&&(F.current=c.initialTouched||t1,w({type:"SET_TOUCHED",payload:c.initialTouched||t1}))},[d,c.initialTouched]),X.exports.useEffect(function(){d&&p.current===!0&&!ma(m.current,c.initialStatus)&&(m.current=c.initialStatus,w({type:"SET_STATUS",payload:c.initialStatus}))},[d,c.initialStatus,c.initialTouched]);var G=$r(function(de){if(f.current[de]&&Ar(f.current[de].validate)){var fe=kn(y.values,de),Se=f.current[de].validate(fe);return l_(Se)?(w({type:"SET_ISVALIDATING",payload:!0}),Se.then(function(Ee){return Ee}).then(function(Ee){w({type:"SET_FIELD_ERROR",payload:{field:de,value:Ee}}),w({type:"SET_ISVALIDATING",payload:!1})})):(w({type:"SET_FIELD_ERROR",payload:{field:de,value:Se}}),Promise.resolve(Se))}else if(c.validationSchema)return w({type:"SET_ISVALIDATING",payload:!0}),S(y.values,de).then(function(Ee){return Ee}).then(function(Ee){w({type:"SET_FIELD_ERROR",payload:{field:de,value:Ee[de]}}),w({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),C=X.exports.useCallback(function(de,fe){var Se=fe.validate;f.current[de]={validate:Se}},[]),I=X.exports.useCallback(function(de){delete f.current[de]},[]),M=$r(function(de,fe){w({type:"SET_TOUCHED",payload:de});var Se=fe===void 0?o:fe;return Se?q(y.values):Promise.resolve()}),A=X.exports.useCallback(function(de){w({type:"SET_ERRORS",payload:de})},[]),$=$r(function(de,fe){var Se=Ar(de)?de(y.values):de;w({type:"SET_VALUES",payload:Se});var Ee=fe===void 0?n:fe;return Ee?q(Se):Promise.resolve()}),Y=X.exports.useCallback(function(de,fe){w({type:"SET_FIELD_ERROR",payload:{field:de,value:fe}})},[]),T=$r(function(de,fe,Se){w({type:"SET_FIELD_VALUE",payload:{field:de,value:fe}});var Ee=Se===void 0?n:Se;return Ee?q(si(y.values,de,fe)):Promise.resolve()}),D=X.exports.useCallback(function(de,fe){var Se=fe,Ee=de,ye;if(!s_(de)){de.persist&&de.persist();var Te=de.target?de.target:de.currentTarget,Ne=Te.type,ne=Te.name,j=Te.id,V=Te.value,ie=Te.checked,pe=Te.outerHTML,be=Te.options,xe=Te.multiple;Se=fe||ne||j,Ee=/number|range/.test(Ne)?(ye=parseFloat(V),isNaN(ye)?"":ye):/checkbox/.test(Ne)?EV(kn(y.values,Se),ie,V):be&&xe?bV(be):V}Se&&T(Se,Ee)},[T,y.values]),R=$r(function(de){if(s_(de))return function(fe){return D(fe,de)};D(de)}),B=$r(function(de,fe,Se){fe===void 0&&(fe=!0),w({type:"SET_FIELD_TOUCHED",payload:{field:de,value:fe}});var Ee=Se===void 0?o:Se;return Ee?q(y.values):Promise.resolve()}),H=X.exports.useCallback(function(de,fe){de.persist&&de.persist();var Se=de.target,Ee=Se.name,ye=Se.id,Te=Se.outerHTML,Ne=fe||Ee||ye;B(Ne,!0)},[B]),Q=$r(function(de){if(s_(de))return function(fe){return H(fe,de)};H(de)}),L=X.exports.useCallback(function(de){Ar(de)?w({type:"SET_FORMIK_STATE",payload:de}):w({type:"SET_FORMIK_STATE",payload:function(){return de}})},[]),le=X.exports.useCallback(function(de){w({type:"SET_STATUS",payload:de})},[]),he=X.exports.useCallback(function(de){w({type:"SET_ISSUBMITTING",payload:de})},[]),De=$r(function(){return w({type:"SUBMIT_ATTEMPT"}),q().then(function(de){var fe=de instanceof Error,Se=!fe&&Object.keys(de).length===0;if(Se){var Ee;try{if(Ee=z(),Ee===void 0)return}catch(ye){throw ye}return Promise.resolve(Ee).then(function(ye){return p.current&&w({type:"SUBMIT_SUCCESS"}),ye}).catch(function(ye){if(p.current)throw w({type:"SUBMIT_FAILURE"}),ye})}else if(p.current&&(w({type:"SUBMIT_FAILURE"}),fe))throw de})}),ke=$r(function(de){de&&de.preventDefault&&Ar(de.preventDefault)&&de.preventDefault(),de&&de.stopPropagation&&Ar(de.stopPropagation)&&de.stopPropagation(),De().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),W={resetForm:P,validateForm:q,validateField:G,setErrors:A,setFieldError:Y,setFieldTouched:B,setFieldValue:T,setStatus:le,setSubmitting:he,setTouched:M,setValues:$,setFormikState:L,submitForm:De},z=$r(function(){return s(y.values,W)}),oe=$r(function(de){de&&de.preventDefault&&Ar(de.preventDefault)&&de.preventDefault(),de&&de.stopPropagation&&Ar(de.stopPropagation)&&de.stopPropagation(),P()}),ce=X.exports.useCallback(function(de){return{value:kn(y.values,de),error:kn(y.errors,de),touched:!!kn(y.touched,de),initialValue:kn(h.current,de),initialTouched:!!kn(F.current,de),initialError:kn(_.current,de)}},[y.errors,y.touched,y.values]),_e=X.exports.useCallback(function(de){return{setValue:function(Se,Ee){return T(de,Se,Ee)},setTouched:function(Se,Ee){return B(de,Se,Ee)},setError:function(Se){return Y(de,Se)}}},[T,B,Y]),we=X.exports.useCallback(function(de){var fe=km(de),Se=fe?de.name:de,Ee=kn(y.values,Se),ye={name:Se,value:Ee,onChange:R,onBlur:Q};if(fe){var Te=de.type,Ne=de.value,ne=de.as,j=de.multiple;Te==="checkbox"?Ne===void 0?ye.checked=!!Ee:(ye.checked=!!(Array.isArray(Ee)&&~Ee.indexOf(Ne)),ye.value=Ne):Te==="radio"?(ye.checked=Ee===Ne,ye.value=Ne):ne==="select"&&j&&(ye.value=ye.value||[],ye.multiple=!0)}return ye},[Q,R,y.values]),Oe=X.exports.useMemo(function(){return!ma(h.current,y.values)},[h.current,y.values]),Le=X.exports.useMemo(function(){return typeof l<"u"?Oe?y.errors&&Object.keys(y.errors).length===0:l!==!1&&Ar(l)?l(c):l:y.errors&&Object.keys(y.errors).length===0},[l,Oe,y.errors,c]),Ue=sn({},y,{initialValues:h.current,initialErrors:_.current,initialTouched:F.current,initialStatus:m.current,handleBlur:Q,handleChange:R,handleReset:oe,handleSubmit:ke,resetForm:P,setErrors:A,setFormikState:L,setFieldTouched:B,setFieldValue:T,setFieldError:Y,setStatus:le,setSubmitting:he,setTouched:M,setValues:$,submitForm:De,validateForm:q,validateField:G,isValid:Le,dirty:Oe,unregisterField:I,registerField:C,getFieldProps:we,getFieldMeta:ce,getFieldHelpers:_e,validateOnBlur:o,validateOnChange:n,validateOnMount:a});return Ue}function O3(t){var e=FV(t),n=t.component,r=t.children,o=t.render,i=t.innerRef;return X.exports.useImperativeHandle(i,function(){return e}),X.exports.createElement(gV,{value:e},n?X.exports.createElement(n,e):o?o(e):r?Ar(r)?r(e):IR(r)?null:X.exports.Children.only(r):null)}function _V(t){var e={};if(t.inner){if(t.inner.length===0)return si(e,t.path,t.message);for(var o=t.inner,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var i;if(n){if(r>=o.length)break;i=o[r++]}else{if(r=o.next(),r.done)break;i=r.value}var a=i;kn(e,a.path)||(e=si(e,a.path,a.message))}}return e}function vV(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var o=Lv(t);return e[n?"validateSync":"validate"](o,{abortEarly:!1,context:r})}function Lv(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(o){return Array.isArray(o)===!0||V4(o)?Lv(o):o!==""?o:void 0}):V4(t[r])?e[r]=Lv(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function yV(t,e,n){var r=t.slice();return e.forEach(function(i,a){if(typeof r[a]>"u"){var l=n.clone!==!1,u=l&&n.isMergeableObject(i);r[a]=u?Ov(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[a]=Ov(t[a],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function bV(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function EV(t,e,n){if(typeof t=="boolean")return Boolean(e);var r=[],o=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),o=i>=0;else if(!n||n=="true"||n=="false")return Boolean(e);return e&&n&&!o?r.concat(n):o?r.slice(0,i).concat(r.slice(i+1)):r}var wV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?X.exports.useLayoutEffect:X.exports.useEffect;function $r(t){var e=X.exports.useRef(t);return wV(function(){e.current=t}),X.exports.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current.apply(void 0,r)},[])}var DV=X.exports.forwardRef(function(t,e){var n=t.action,r=A3(t,["action"]),o=n??"#",i=pV(),a=i.handleReset,l=i.handleSubmit;return X.exports.createElement("form",Object.assign({onSubmit:l,ref:e,onReset:a,action:o},r))});DV.displayName="Form";var kV=function(e,n,r){var o=Qu(e),i=o[n];return o.splice(n,1),o.splice(r,0,i),o},SV=function(e,n,r){var o=Qu(e),i=o[n];return o[n]=o[r],o[r]=i,o},u_=function(e,n,r){var o=Qu(e);return o.splice(n,0,r),o},xV=function(e,n,r){var o=Qu(e);return o[n]=r,o},Qu=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,o){return o>r?o:r},0);return Array.from(sn({},e,{length:n+1}))}else return[]},CV=function(t){hV(e,t);function e(r){var o;return o=t.call(this,r)||this,o.updateArrayField=function(i,a,l){var u=o.props,d=u.name,s=u.formik.setFormikState;s(function(g){var c=typeof l=="function"?l:i,h=typeof a=="function"?a:i,_=si(g.values,d,i(kn(g.values,d))),F=l?c(kn(g.errors,d)):void 0,m=a?h(kn(g.touched,d)):void 0;return pk(F)&&(F=void 0),pk(m)&&(m=void 0),sn({},g,{values:_,errors:l?si(g.errors,d,F):g.errors,touched:a?si(g.touched,d,m):g.touched})})},o.push=function(i){return o.updateArrayField(function(a){return[].concat(Qu(a),[dV(i)])},!1,!1)},o.handlePush=function(i){return function(){return o.push(i)}},o.swap=function(i,a){return o.updateArrayField(function(l){return SV(l,i,a)},!0,!0)},o.handleSwap=function(i,a){return function(){return o.swap(i,a)}},o.move=function(i,a){return o.updateArrayField(function(l){return kV(l,i,a)},!0,!0)},o.handleMove=function(i,a){return function(){return o.move(i,a)}},o.insert=function(i,a){return o.updateArrayField(function(l){return u_(l,i,a)},function(l){return u_(l,i,null)},function(l){return u_(l,i,null)})},o.handleInsert=function(i,a){return function(){return o.insert(i,a)}},o.replace=function(i,a){return o.updateArrayField(function(l){return xV(l,i,a)},!1,!1)},o.handleReplace=function(i,a){return function(){return o.replace(i,a)}},o.unshift=function(i){var a=-1;return o.updateArrayField(function(l){var u=l?[i].concat(l):[i];return a<0&&(a=u.length),u},function(l){var u=l?[null].concat(l):[null];return a<0&&(a=u.length),u},function(l){var u=l?[null].concat(l):[null];return a<0&&(a=u.length),u}),a},o.handleUnshift=function(i){return function(){return o.unshift(i)}},o.handleRemove=function(i){return function(){return o.remove(i)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(gk(o)),o.pop=o.pop.bind(gk(o)),o}var n=e.prototype;return n.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ma(kn(o.formik.values,o.name),kn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(o){var i;return this.updateArrayField(function(a){var l=a?Qu(a):[];return i||(i=l[o]),Ar(l.splice)&&l.splice(o,1),l},!0,!0),i},n.pop=function(){var o;return this.updateArrayField(function(i){var a=i;return o||(o=a&&a.pop&&a.pop()),a},!0,!0),o},n.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,a=i.component,l=i.render,u=i.children,d=i.name,s=i.formik,g=A3(s,["validate","validationSchema"]),c=sn({},o,{form:g,name:d});return a?X.exports.createElement(a,c):l?l(c):u?typeof u=="function"?u(c):IR(u)?null:X.exports.Children.only(u):null},e}(X.exports.Component);CV.defaultProps={validateOnChange:!0};var jh={},AR={},Sc={},ze={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ze);var c_={exports:{}},d_={exports:{}},h_={exports:{}},mk;function OR(){return mk||(mk=1,function(t){function e(n){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(h_)),h_.exports}var f_={exports:{}},Fk;function TV(){return Fk||(Fk=1,function(t){var e=OR().default;function n(r,o){if(e(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,o||"default");if(e(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(f_)),f_.exports}var _k;function IV(){return _k||(_k=1,function(t){var e=OR().default,n=TV();function r(o){var i=n(o,"string");return e(i)==="symbol"?i:String(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(d_)),d_.exports}var vk;function Je(){return vk||(vk=1,function(t){var e=IV();function n(r,o,i){return o=e(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(c_)),c_.exports}var ad={},g_={exports:{}},yk;function RV(){return yk||(yk=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Pe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function i(F,m){var p=F[m];if(typeof p.bind=="function")return p.bind(F);try{return Function.prototype.bind.call(p,F)}catch{return function(){return Function.prototype.apply.apply(p,[F,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(F){return F==="debug"&&(F="log"),typeof console===n?!1:F==="trace"&&r?a:console[F]!==void 0?i(console,F):console.log!==void 0?i(console,"log"):e}function u(F,m){for(var p=0;p<o.length;p++){var f=o[p];this[f]=p<F?e:this.methodFactory(f,F,m)}this.log=this.debug}function d(F,m,p){return function(){typeof console!==n&&(u.call(this,m,p),this[F].apply(this,arguments))}}function s(F,m,p){return l(F)||d.apply(this,arguments)}function g(F,m,p){var f=this,v;m=m??"WARN";var y="loglevel";typeof F=="string"?y+=":"+F:typeof F=="symbol"&&(y=void 0);function w(N){var U=(o[N]||"silent").toUpperCase();if(!(typeof window===n||!y)){try{window.localStorage[y]=U;return}catch{}try{window.document.cookie=encodeURIComponent(y)+"="+U+";"}catch{}}}function b(){var N;if(!(typeof window===n||!y)){try{N=window.localStorage[y]}catch{}if(typeof N===n)try{var U=window.document.cookie,q=U.indexOf(encodeURIComponent(y)+"=");q!==-1&&(N=/^([^;]+)/.exec(U.slice(q))[1])}catch{}return f.levels[N]===void 0&&(N=void 0),N}}function S(){if(!(typeof window===n||!y)){try{window.localStorage.removeItem(y);return}catch{}try{window.document.cookie=encodeURIComponent(y)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}f.name=F,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=p||s,f.getLevel=function(){return v},f.setLevel=function(N,U){if(typeof N=="string"&&f.levels[N.toUpperCase()]!==void 0&&(N=f.levels[N.toUpperCase()]),typeof N=="number"&&N>=0&&N<=f.levels.SILENT){if(v=N,U!==!1&&w(N),u.call(f,N,F),typeof console===n&&N<f.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+N},f.setDefaultLevel=function(N){m=N,b()||f.setLevel(N,!1)},f.resetLevel=function(){f.setLevel(m,!1),S()},f.enableAll=function(N){f.setLevel(f.levels.TRACE,N)},f.disableAll=function(N){f.setLevel(f.levels.SILENT,N)};var x=b();x==null&&(x=m),f.setLevel(x,!1)}var c=new g,h={};c.getLogger=function(m){if(typeof m!="symbol"&&typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");var p=h[m];return p||(p=h[m]=new g(m,c.getLevel(),c.methodFactory)),p};var _=typeof window!==n?window.log:void 0;return c.noConflict=function(){return typeof window!==n&&window.log===c&&(window.log=_),c},c.getLoggers=function(){return h},c.default=c,c})}(g_)),g_.exports}var bk;function lt(){if(bk)return ad;bk=1;var t=ze.exports;Object.defineProperty(ad,"__esModule",{value:!0}),ad.logger=void 0;var e=t(RV());const n="matrix";e.default.methodFactory=function(a,l,u){return function(...d){return this.prefix&&d.unshift(this.prefix),a==="error"||a==="warn"||a==="trace"||a==="info"?console[a](...d):console.log(...d)}};const r=e.default.getLogger(n);ad.logger=r,r.setLevel(e.default.levels.DEBUG,!1);function o(a){a.withPrefix=function(l){const u=this.prefix||"";return i(u+l)}}o(r);function i(a){const l=e.default.getLogger(`${n}-${a}`);return l.prefix!==a&&(o(l),l.prefix=a,l.setLevel(e.default.levels.DEBUG,!1)),l}return ad}var tt={};const AV="l",OV="rn",BV={0:"O",1:"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:"",:"",:"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","\u2028":" ","\u2029":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"_","":"_","":"_","":"_","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-.","":"","":",","":",","":",","":",","":",","":"","":"","":";","":"","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":",:":","":":","":"::=","":":","":"!",:"!","":"!","":"!!","":"!?",:"?","":"?","":"?",:"?","":"?","":"?!","":"??","":"","":".","":".","":".","":".","":".","":".","":".","":".","":".","":".,","":"..","":"..","":"...","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"<","":">",:">",:">",:"4",:"b",:"b",:"d",:"J",:"L",:"P",:"U",:"V",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","`":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'","":"'",:"'",:"'",:"'",:"'","":"'",:"'","":"'","":"'",:"'",:"'","":"'","":"'","":"''",'"':"''","":"''","":"''","":"''","":"''","":"''","":"''","":"''","":"''","":"''","":"''","":"''",:"''",:"''","":"'''","":"'''","":"''''",:"'B",:"'D",:"'n",:"'P",:"'T",:"'Y","":"(","":"(","":"(","":"(","":"(","":"((","":"()","":"(2)","":"(2O)","":"(3)","":"(4)","":"(5)","":"(6)","":"(7)","":"(8)","":"(9)","":"(a)","":"(A)","":"(b)","":"(B)","":"(c)","":"(C)","":"(d)","":"(D)","":"(e)","":"(E)","":"(f)","":"(F)","":"(g)","":"(G)","":"(h)","":"(H)","":"(i)","":"(j)","":"(J)","":"(k)","":"(K)","":"(l)","":"(l)","":"(l)","":"(L)","":"(l2)","":"(l3)","":"(l4)","":"(l5)","":"(l6)","":"(l7)","":"(l8)","":"(l9)","":"(ll)","":"(lO)","":"(M)","":"(n)","":"(N)","":"(o)","":"(O)","":"(p)","":"(P)","":"(q)","":"(Q)","":"(r)","":"(R)","":"(rn)","":"(s)","":"(S)","":"(S)","":"(t)","":"(T)","":"(u)","":"(U)","":"(v)","":"(V)","":"(w)","":"(W)","":"(x)","":"(X)","":"(y)","":"(Y)","":"(z)","":"(Z)","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":")","":")","":")","":")","":")","":"))","":"{","":"{","":"}","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"*","":"*","":"*","":"*","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/",:"/","":"/",:"/",:"/","":"/","":"/","":"//","":"///","":"\\","":"\\","":"\\","":"\\","":"\\","":"\\","":"\\","":"\\","":"\\",:"\\","":"\\","":"\\\\","":"\\\\","":"\\","":"&","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"^","":"^","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"b","":"bi","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"C","":"F","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"","":"<","":"<","":"<","":"<",:"<",:"<","":"<","":"<",:"<","":"<<","":"<<<","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"==","":"===","":"=","":">","":">","":">","":">",:">","":">",:">","":"><","":">>","":">>","":">>>","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"",:"","":"","":"","":"","":"",:"",:"",:"",:"","":"$","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"2","":"2","":"2","":"2","":"2","":"2","":"2",:"2",:"2","":"2",:"2","":"2","":"","":"","":"","":"","":"","":"",:"2","":"2,","":"2.","":"22","":"22","":"23","":"23","":"24","":"24","":"25","":"26","":"27","":"28","":"29","":"2l","":"2l","":"2O.","":"2O","":"2O","":"","":"","":"2","":"2","":"2","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3",:"3",:"3","":"3","":"3",:"3",:"3","":"3","":"3","":"","":"","":"","":"",:"3","":"3,","":"3.","":"3l","":"3O","":"3","":"3","":"3","":"4","":"4","":"4","":"4","":"4","":"4",:"4","":"4","":"","":"","":"","":"4,","":"4.",:"4","":"4","":"4","":"4","":"5","":"5","":"5","":"5","":"5","":"5",:"5","":"5","":"","":"5,","":"5.","":"5","":"5","":"5","":"6","":"6","":"6","":"6","":"6","":"6","":"6",:"6",:"6","":"6","":"","":"","":"","":"6,","":"6.","":"6","":"6","":"6","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"","":"7,","":"7.","":"7","":"7","":"7","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8",:"8",:"8","":"8","":"","":"","":"8,","":"8.","":"8","":"8","":"8","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"","":"","":"","":"","":"","":"9,","":"9.","":"9","":"9","":"9","":"a",:"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a",:"a",:"a","":"a","":"a","":"a","":"a","":"a",:"a","":"",:"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A",:"A","":"A","":"A","":"A","":"A","":"A",:"A",:"A",:"A","":"A","":"A","":"A","":"a",:"",:"",:"",:"",:"","":"a/c","":"a/s","":"aa","":"AA",:"ae",:"ae",:"AE",:"AE","":"ao","":"AO","":"AR","":"au","":"AU","":"av","":"av","":"AV","":"AV","":"ay","":"AY","":"","":"","":"",:"","":"","":"","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b",:"b",:"b",:"b",:"b",:"b",:"B",:"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B",:"B","":"B","":"B","":"B","":"B","":"B",:"B",:"B",:"B","":"B","":"B","":"B","":"B",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b'",:"bl",:"","":"",:"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c",:"c","":"c",:"c","":"c","":"c","":"","":"C","":"C","":"C",:"C","":"C",:"C",:"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C",:"C",:"C","":"C","":"C","":"C","":"C","":"C","":"c","":"c","":"C","":"C",:"c",:"c",:"C",:"C",:"C'","":"c/o","":"c/u","":"	","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d",:"d",:"d","":"d","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D",:"D",:"D",:"D","":"D",:"d",:"d",:"d",:"d",:"D",:"D",:"D","":"d","":"",:"d",:"d'",:"d",:"dz",:"dz",:"Dz",:"DZ",:"d",:"D",:"D",:"d","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"e",:"e",:"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e",:"e",:"e","":"","":"E",:"E",:"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E",:"E","":"E","":"E","":"E","":"E","":"E",:"E","":"E",:"E","":"E","":"E","":"E","":"E",:"",:"","":"e","":"E",:"e","":"",:"",:"","":"","":"","":"",:"","":"o","":"o","":"o",:"","":"",:"","":"",:"","":"","":"","":"","":"",:"",:"","":"","":"","":"","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f",:"f","":"f",:"f","":"F",:"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F",:"F","":"F",:"F","":"F","":"F","":"F","":"F","":"F","":"F",:"f",:"F","":"f","":"FAX",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"f",:"","":"","":"",:"",:"g",:"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g",:"g","":"g",:"g",:"g","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G",:"G",:"G","":"G","":"",:"g",:"",:"",:"",:"g",:"G",:"G'","":"","":"","":"",:"h",:"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h",:"h",:"h",:"h",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H",:"H","":"H","":"H","":"H","":"H","":"H","":"H",:"H",:"H",:"H","":"H","":"H","":"",:"h","":"h",:"h","":"H",:"H",:"h",:"h",:"h",:"H","":"H",:"H",:"","":"",:"","":"",:"","":"","":"","":"",:"",:"","":"","":"","":"i","":"i",:"i","":"i",:"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i",:"i","":"i",:"i",:"i",:"i",:"i",:"i","":"i","":"i","":"i","":"i","":"i",:"i","":"i","":"i","":"i",:"i","":"i","":"","":"i",:"",:"",:"i","":"i","":"i","":"ii","":"iii",:"ij","":"iv","":"ix",:"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j",:"j",:"j",:"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J",:"J",:"J",:"J","":"J","":"j","":"J",:"J","":"",:"","":"","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K",:"K","":"K","":"K","":"K","":"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"k","":"K",:"K","":"K","":"K",:"K",:"K'","":"l","|":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l",I:AV,:"l","":"l",:"l",:"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l",:"l",:"l","":"l",:"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l",:"l",:"l","":"l","":"l","":"l","":"l","":"l","":"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l",:"l",:"l","":"l","":"l",:"l","":"l","":"l","":"l","":"l","":"L","":"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"l",:"l",:"l",:"L",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l,","":"l.",:"l'","":"l2.","":"l2","":"l2","":"l2","":"l3.","":"l3","":"l3","":"l4.","":"l4","":"l4","":"l5.","":"l5","":"l5","":"l6.","":"l6","":"l6","":"l7.","":"l7","":"l7","":"l8.","":"l8","":"l8","":"l9.","":"l9","":"l9",:"lj",:"lJ",:"Lj",:"LJ","":"ll","":"ll","":"ll",:"ll",:"ll","":"ll","":"ll.","":"lll","":"llS","":"ll","":"ll","":"ll",:"lO","":"lO.","":"lO","":"lO","":"lO",:"ls","":"lt","":"lV","":"lX",:"l",:"lz",:"l",:"l",:"l",:"l",:"l",:"l",:"lo","":"l","":"l","":"l","":"","":"","":"",:"M","":"M",:"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M",:"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M",:"M",:"M",:"M",:"M","":"M","":"M","":"M","":"M","":"MB","":"","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n",:"n",:"n",:"N",:"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N",:"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N",:"n",:"n",:"n","":"n","":"n","":"n","":"n","":"n",:"N","":"n",:"nj",:"Nj",:"NJ","":"No","":"",:"","":"",:"","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o",:"o",:"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o",:"o","":"o","":"o","":"o","":"o","":"o",:"o","":"o","":"o","":"o","":"o","":"o","":"o",:"o","":"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O",:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O",:"O","":"O","":"O","":"O","":"O","":"O","":"O",:"O",:"O","":"O",:"O",:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"","":"",:"",:"","":"o",:"",:"o","":"o",:"O","":"O",:"O",:"o","":"o",:"o",:"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O",:"O","":"O",:"O",:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O",:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O",:"O",:"O","":"O",:"O",:"O","":"o",:"o","":"O,","":"O.",:"o'",:"O'",:"O'","%":"/","":"/","":"/","":"/","":"/","":"/","":"/",:"oe",:"OE",:"o","":"oo","":"oo","":"oo","":"OO","":"OO",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"oo",:"o","":"O","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p",:"p",:"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p",:"p",:"P",:"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P",:"P","":"P","":"P","":"P","":"P","":"P","":"P",:"P",:"P",:"P","":"P","":"P",:"p","":"p",:"p",:"P'","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q",:"q",:"q",:"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q",:"q","":"QE","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r",:"r","":"r","":"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R",:"R",:"R",:"R","":"R",:"R","":"R","":"R",:"r",:"r","":"r",:"r","":"r",:"r'","":"rn",m:OV,"":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn",:"rn","":"rn","":"Rs","":"","":"",:"","":"","":"",:"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s",:"s",:"s","":"s","":"s","":"s",:"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"S",:"s","":"s","":"",:"",:"","":"","":"","":"","":"","":"",:"","":"sss",:"st","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"T","":"T","":"T",:"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T",:"T","":"T","":"T","":"T","":"T","":"T","":"T",:"T",:"T","":"T","":"T","":"T","":"T","":"T","":"T",:"t","":"T","":"T",:"",:"T",:"T","":"T",:"t",:"T","":"t",:"","":"T3",:"t","":"TEL","":"tf",:"ts",:"t","":"t",:"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:"",:"","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u",:"u",:"u","":"u","":"u","":"u","":"u","":"u",:"u","":"u","":"u","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",:"U",:"U","":"U",:"U","":"U","":"U","":"U",:"",:"","":"u","":"u","":"U",:"U",:"U",:"U'","":"ue","":"uo",:"",:"",:"","":"",:"",:"","":"","":"v","":"v",:"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v",:"v","":"v","":"v","":"v","":"v","":"v",:"v",:"v","":"v","":"v","":"v","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V",:"V","":"V",:"V",:"V","":"V","":"V","":"V","":"V","":"V","":"V",:"V","":"VB","":"vi","":"vii","":"viii","":"Vl","":"Vll","":"Vlll","":"V","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w",:"w","":"w",:"w","":"w","":"w","":"w","":"w","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W",:"W",:"W","":"W",:"w","":"w","":"W","":"w","":"",:"","":"","":"","":"x","":"x","":"x","":"x","":"x",:"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x",:"x",:"x",:"x","":"","":"X","":"X","":"X","":"X",:"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X",:"X","":"X","":"X","":"X","":"X","":"X","":"X",:"X","":"X",:"X","":"X","":"X","":"X","":"X","":"X","":"x",:"X","":"X","":"xi","":"xii","":"Xl","":"Xll",:"y","":"y",:"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y",:"y","":"y","":"y",:"y","":"y","":"y","":"y","":"y","":"y","":"y",:"y",:"y",:"y","":"y",:"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y",:"Y",:"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Y","":"Y",:"y","":"y",:"y","":"Y","":"Y",:"Y",:"","":"","":"",:"",:"","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"Z","":"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z",:"Z","":"Z","":"Z","":"Z","":"Z","":"Z",:"Z","":"Z","":"Z",:"z",:"z",:"Z",:"z",:"Z","":"z",:"","":"","":"","":"","":"","":"",:"","":"",:"","":"",:"i","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"",:"",:"",:"'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"",:"",:"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"",:"",:"",:"","":"","":"","":"l","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"",:"","":"",:"",:"'",:"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"","":"","":"","":"",:"o",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"o",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:" lo",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"",:"","":"l","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"","":"",:"o",:"o",:"o",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:" lo o ",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"l",:"l",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"l",:"l",:"l",:"l",:"l",:"l",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"","":"","":"",:"l",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"","":"","":"",:"o",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"","":"","":"",:"",:"","":"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"","":"","":"","":"",:"",:"",:"o",:"o",:"o",:"",:"",:"",:"",:"",:"",:"l",:"l",:"o",:"o",:"o",:"o",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"","":"","":"","":"",:"",:"",:"","":"","":"",:"",:"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"",:"",:"",:"",:"",:"",:"","":"","":"",:"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"","":"","":"",:"",:"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"",:"","":"","":"",:"",:"'","":"/","":"",:"","":"","":"",:"",:"'",:"",:"",:"'",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"<",:"b",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"b",:"b",:"d",:"P",:"",:"",:"",:"",:"",:"","":"","":"",:"","":"","":"",:"J",:"",:"",:"",:"",:"",:"",:"",:"J",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"","":"","":"",:"","":"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"","":"",:"","":"",:"",:"","":"",:"",:"","":"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"",:"","":"","":"",:"",:"","":"",:"",:"","":"",:"",:"","":"",:"",:"",:"","":"","":"",:"",:"",:"",:"","":"","":"",:"",:"","":"","":"",:"",:"","":"",:"","":"",:"","":"",:"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"","":"",:"",:"","":"",:"",:"","":"",:"","":"","":"","":"",:"","":"",:"",:"",:"","":"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"","":"","":"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"","":"",:"",:"",:"",:"",:"","":"",:"","":"","":"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"",:"",:"","":"","":"","":"",:"",:"",:"",:"","":"",:"","":"",:"",:"","":"",:"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"","":"","":"",:"",:"",:"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"",:"",:"","":"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"","":"","":"",:"",:"","":"","":"",:"",:"",:"",:"","":"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"",:"",:"","":"",:"",:"","":"",:"",:"",:"",:"","":"","":"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"",:"","":"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"","":"",:"","":"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"",:"",:"","":"","":"","":"","":"",:"","":"","":"",:"","":"",:"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"",:"","":"","":"","":"",:"","":"",:"","":"",:"","":"",:"","":"",:"","":"","":"",:"",:"","":"","":"","":"",:"",:"",:"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"",:"","":"","":"","":"","":"",:"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"",:"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"",:"",:"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"",:"","":"",:"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"",:"",:"",:"","":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"",:"","":"","":"","":"",:"","":"","":"",:"",:"","":"","":"","":"",:"","":"","":"","":"",:"",:"",:"",:"",:"",:"","":"","":"",:"","":"","":"",:"",:"","":"",:"","":"","":"",:"","":"","":"","":"","":"",:"",:"","":"",:"","":"","":"",:"","":"",:"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"",:"",:"","":"","":"",:"",:"",:"",:"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"",:"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"",:"","":"","":"",:"",:"","":"",:"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"",:"","":"","":"",:"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"",:"","":"","":"",:"",:"","":"","":"","":"","":"",:"","":"","":"",:"",:"",:"","":"","":"","":"",:"","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"",:"","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"",:"","":"","":"",:"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"",:"","":"","":"",:"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"",:"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"",:"",:"",:"",:"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"",:"",:"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"",:"",:"","":"",:"",:"","":"",:"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"",:"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":"","":"",:"",:"","":"","":"",:"",:"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"",:"",:"","":"",:"","":"",:"","":"","":"",:"",:"",:"","":"","":"",:"",:"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"",:"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"",:"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"","":"",:"",:"","":"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"",:"",:"","":"","":"",:"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"",:"",:"","":"",:"","":"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"","":"","":"",:"",:"","":"","":"","":"","":""};var p_,Ek;function PV(){if(Ek)return p_;Ek=1;var t=BV;function e(i){return i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var n=RegExp(Object.keys(t).map(e).join("|"),"g");function r(i){return t[i]}function o(i){return i.replace(n,r)}return p_=o,p_}var sd={exports:{}},m_={exports:{}},F_={},__,wk;function MV(){if(wk)return __;wk=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return __=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,o=0;o<this._errors.length;o++){var i=this._errors[o],a=i.message,l=(e[a]||0)+1;e[a]=l,l>=r&&(n=i,r=l)}return n},__}var Dk;function NV(){return Dk||(Dk=1,function(t){var e=MV();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in n)r[o]=n[o];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],a=0;a<r.retries;a++)i.push(this.createTimeout(a,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(a,r)),i.sort(function(l,u){return l-u}),i},t.createTimeout=function(n,r){var o=r.randomize?Math.random()+1:1,i=Math.round(o*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},t.wrap=function(n,r,o){if(r instanceof Array&&(o=r,r=null),!o){o=[];for(var i in n)typeof n[i]=="function"&&o.push(i)}for(var a=0;a<o.length;a++){var l=o[a],u=n[l];n[l]=function(s){var g=t.operation(r),c=Array.prototype.slice.call(arguments,1),h=c.pop();c.push(function(_){g.retry(_)||(_&&(arguments[0]=g.mainError()),h.apply(this,arguments))}),g.attempt(function(){s.apply(n,c)})}.bind(n,u),n[l].options=r}}}(F_)),F_}var kk;function LV(){return kk||(kk=1,function(t){t.exports=NV()}(m_)),m_.exports}var Sk;function BR(){if(Sk)return sd.exports;Sk=1;const t=LV(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(l){super(),l instanceof Error?(this.originalError=l,{message:l}=l):(this.originalError=new Error(l),this.originalError.stack=this.stack),this.name="AbortError",this.message=l}}const r=(a,l,u)=>{const d=u.retries-(l-1);return a.attemptNumber=l,a.retriesLeft=d,a},o=a=>e.includes(a),i=(a,l)=>new Promise((u,d)=>{l={onFailedAttempt:()=>{},retries:10,...l};const s=t.operation(l);s.attempt(async g=>{try{u(await a(g))}catch(c){if(!(c instanceof Error)){d(new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`));return}if(c instanceof n)s.stop(),d(c.originalError);else if(c instanceof TypeError&&!o(c.message))s.stop(),d(c);else{r(c,g,l);try{await l.onFailedAttempt(c)}catch(h){d(h);return}s.retry(c)||d(s.mainError())}}})});return sd.exports=i,sd.exports.default=i,sd.exports.AbortError=n,sd.exports}var qr={},qn={},UV=ze.exports;Object.defineProperty(qn,"__esModule",{value:!0});qn.UnstableValue=qn.ServerControlledNamespacedValue=qn.NamespacedValue=void 0;var jV=UV(Je());let B3=class{constructor(e,n){if(this.stable=e,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}get name(){return this.stable?this.stable:this.unstable}get altName(){return this.stable?this.unstable:null}get names(){const e=[this.name],n=this.altName;return n&&e.push(n),e}matches(e){return this.name===e||this.altName===e}findIn(e){let n;return this.name&&(n=e==null?void 0:e[this.name]),!n&&this.altName&&(n=e==null?void 0:e[this.altName]),n}includedIn(e){let n=!1;return this.name&&(n=e.includes(this.name)),!n&&this.altName&&(n=e.includes(this.altName)),n}};qn.NamespacedValue=B3;class $V extends B3{constructor(...e){super(...e),(0,jV.default)(this,"preferUnstable",!1)}setPreferUnstable(e){this.preferUnstable=e}get name(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}qn.ServerControlledNamespacedValue=$V;class qV extends B3{constructor(e,n){if(super(e,n),!this.unstable)throw new Error("Unstable value must be supplied")}get name(){return this.unstable}get altName(){return this.stable}}qn.UnstableValue=qV;var ld={},xk;function PR(){if(xk)return ld;xk=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.TEXT_NODE_TYPE=void 0;var t=qn;const e=new t.UnstableValue("m.text","org.matrix.msc1767.text");return ld.TEXT_NODE_TYPE=e,ld}var Ck;function MR(){if(Ck)return qr;Ck=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.M_TIMESTAMP=qr.M_LOCATION=qr.M_ASSET=qr.LocationAssetType=void 0;var t=qn;PR();let e;qr.LocationAssetType=e,function(i){i.Self="m.self",i.Pin="m.pin"}(e||(qr.LocationAssetType=e={}));const n=new t.UnstableValue("m.asset","org.matrix.msc3488.asset");qr.M_ASSET=n;const r=new t.UnstableValue("m.ts","org.matrix.msc3488.ts");qr.M_TIMESTAMP=r;const o=new t.UnstableValue("m.location","org.matrix.msc3488.location");return qr.M_LOCATION=o,qr}var Xi={},Tk;function xc(){if(Tk)return Xi;Tk=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.ReceiptType=Xi.MAIN_ROOM_TIMELINE=void 0;let t;Xi.ReceiptType=t,function(n){n.Read="m.read",n.FullyRead="m.fully_read",n.ReadPrivate="m.read.private"}(t||(Xi.ReceiptType=t={}));const e="main";return Xi.MAIN_ROOM_TIMELINE=e,Xi}var P3=ze.exports;Object.defineProperty(tt,"__esModule",{value:!0});tt.DEFAULT_ALPHABET=void 0;tt.alphabetPad=jv;tt.averageBetweenStrings=pG;tt.baseToString=Zu;tt.checkObjectHasKeys=eG;tt.chunkPromises=fG;tt.compare=vG;tt.decodeParams=JV;tt.deepCompare=Uv;tt.deepCopy=tG;tt.deepSortedObjectEntries=NR;tt.defer=cG;tt.encodeParams=WV;tt.encodeUri=XV;tt.ensureNoTrailingSlash=sG;tt.escapeRegExp=UR;tt.globToRegexp=aG;tt.internaliseString=zV;tt.isFunction=ZV;tt.isNullOrUndefined=uG;tt.isNumber=nG;tt.isSupportedReceiptType=bG;tt.lexicographicCompare=jR;tt.mapsEqual=EG;tt.nextString=mG;tt.normalize=oG;tt.prevString=FG;tt.promiseMapSeries=dG;tt.promiseTry=hG;tt.recursivelyAssign=$R;tt.removeDirectionOverrideChars=rG;tt.removeElement=QV;tt.removeHiddenChars=LR;tt.replaceParam=YV;tt.simpleRetryOperation=gG;tt.sleep=lG;tt.sortEventsByLatestContentTimestamp=yG;tt.stringToBase=wf;var VV=P3(Je()),GV=P3(PV()),KV=P3(BR()),HV=MR(),Ik=xc();function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){(0,VV.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const v_=new Map;function zV(t){return t instanceof String&&(t=t.toString()),v_.has(t)||v_.set(t,t),v_.get(t)}function WV(t,e){const n=e??new URLSearchParams;for(const[r,o]of Object.entries(t))o!=null&&(Array.isArray(o)?o.forEach(i=>{n.append(r,String(i))}):n.append(r,String(o)));return n}function YV(t,e,n){const r=Ak(Ak({},n),{},{[e]:n[t]});return delete r[t],r}function JV(t){const e={},n=new URLSearchParams(t);for(const r of n.keys()){const o=n.getAll(r);e[r]=o.length===1?o[0]:o}return e}function XV(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];r!=null&&(t=t.replace(n,encodeURIComponent(r)))}return t}function QV(t,e,n){let r;if(n){for(r=t.length-1;r>=0;r--)if(e(t[r],r,t))return t.splice(r,1),!0}else for(r=0;r<t.length;r++)if(e(t[r],r,t))return t.splice(r,1),!0;return!1}function ZV(t){return Object.prototype.toString.call(t)==="[object Function]"}function eG(t,e){for(const n of e)if(!t.hasOwnProperty(n))throw new Error("Missing required key: "+n)}function tG(t){return JSON.parse(JSON.stringify(t))}function Uv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="number"&&isNaN(t)&&isNaN(e))return!0;if(t===null||e===null)return t===e;if(!(t instanceof Object)||t.constructor!==e.constructor||t.prototype!==e.prototype)return!1;if(t instanceof RegExp||t instanceof Date)return t.toString()===e.toString();if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Uv(t[n],e[n]))return!1}else{for(const n in e)if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;for(const n in t)if(e.hasOwnProperty(n)!==t.hasOwnProperty(n)||!Uv(t[n],e[n]))return!1}return!0}function NR(t){if(typeof t!="object"||t==null||Array.isArray(t))return t;const e=[];for(const[n,r]of Object.entries(t))e.push([n,NR(r)]);return e.sort((n,r)=>jR(n[0],r[0])),e}function nG(t){return typeof t=="number"&&isFinite(t)}function LR(t){return typeof t=="string"?(0,GV.default)(t.normalize("NFD").replace(iG,"")):""}function rG(t){return typeof t=="string"?t.replace(/[\u202d-\u202e]/g,""):""}function oG(t){return LR(t.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()}const iG=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\u2800\u2062-\u2063\s]/g;function UR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aG(t,e=!1){const n=[[/\\\*/g,".*"],[/\?/g,"."]];return e||n.push([/\\\[(!|)(.*)\\]/g,(r,o,i)=>["[",o?"^":"",i.replace(/\\-/,"-"),"]"].join("")]),n.reduce((r,o)=>o?r.replace(o[0],o[1]):r,UR(t))}function sG(t){return t!=null&&t.endsWith("/")?t.slice(0,-1):t}function lG(t,e){return new Promise(n=>{setTimeout(n,t,e)})}function uG(t){return t==null}function cG(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return{resolve:t,reject:e,promise:n}}async function dG(t,e){for(const n of t)await e(await n)}function hG(t){return Promise.resolve(t())}async function fG(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(...await Promise.all(t.slice(r,r+e).map(o=>o())));return n}function gG(t){return(0,KV.default)(e=>t(e),{forever:!0,factor:2,minTimeout:3e3,maxTimeout:15e3})}const vl=(()=>{let t="";for(let e=32;e<=126;e++)t+=String.fromCharCode(e);return t})();tt.DEFAULT_ALPHABET=vl;function jv(t,e,n=vl){return t.padEnd(e,n[0])}function Zu(t,e=vl){const n=BigInt(e.length);if(t<=n){var r;return(r=e[Number(t)-1])!==null&&r!==void 0?r:""}let o=t/n,i=Number(t%n)-1;return i<0&&(o-=BigInt(Math.abs(i)),i=Number(n)-1),Zu(o,e)+e[i]}function wf(t,e=vl){const n=BigInt(e.length);let r=BigInt(0);for(let o=t.length-1,i=BigInt(0);o>=0;o--,i++){const a=t.charCodeAt(o)-e.charCodeAt(0);r+=BigInt(1+a)*n**i}return r}function pG(t,e,n=vl){const r=Math.max(t.length,e.length),o=wf(jv(t,r,n),n),i=wf(jv(e,r,n),n),a=(o+i)/BigInt(2);return a===o||a==i?Zu(a,n)+n[0]:Zu(a,n)}function mG(t,e=vl){return Zu(wf(t,e)+BigInt(1),e)}function FG(t,e=vl){return Zu(wf(t,e)-BigInt(1),e)}function jR(t,e){return t<e?-1:t>e?1:0}const _G=new Intl.Collator;function vG(t,e){return _G.compare(t,e)}function $R(t,e,n=!1){for(const[r,o]of Object.entries(e)){if(t[r]instanceof Object&&o){$R(t[r],o);continue}if(o!=null||!n){t[r]=o;continue}}return t}function Ok(t){var e;return(e=HV.M_TIMESTAMP.findIn(t.getContent()))!==null&&e!==void 0?e:-1}function yG(t,e){return Ok(e)-Ok(t)}function bG(t){return[Ik.ReceiptType.Read,Ik.ReceiptType.ReadPrivate].includes(t)}function EG(t,e,n=(r,o)=>r===o){if(t.size!==e.size)return!1;for(const[r,o]of t){const i=e.get(r);if(i===void 0||!n(o,i))return!1}return!0}var wG=ze.exports;Object.defineProperty(Sc,"__esModule",{value:!0});Sc.MemoryCryptoStore=void 0;var Xn=wG(Je()),n1=lt(),Bk=DG(tt);function qR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(qR=function(r){return r?n:e})(t)}function DG(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=qR(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){(0,Xn.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class kG{constructor(){(0,Xn.default)(this,"outgoingRoomKeyRequests",[]),(0,Xn.default)(this,"account",null),(0,Xn.default)(this,"crossSigningKeys",null),(0,Xn.default)(this,"privateKeys",{}),(0,Xn.default)(this,"sessions",{}),(0,Xn.default)(this,"sessionProblems",{}),(0,Xn.default)(this,"notifiedErrorDevices",{}),(0,Xn.default)(this,"inboundGroupSessions",{}),(0,Xn.default)(this,"inboundGroupSessionsWithheld",{}),(0,Xn.default)(this,"deviceData",null),(0,Xn.default)(this,"rooms",{}),(0,Xn.default)(this,"sessionsNeedingBackup",{}),(0,Xn.default)(this,"sharedHistoryInboundGroupSessions",{}),(0,Xn.default)(this,"parkedSharedHistory",new Map)}async startup(){return this}deleteAllData(){return Promise.resolve()}getOrAddOutgoingRoomKeyRequest(e){const n=e.requestBody;return Bk.promiseTry(()=>{const r=this._getOutgoingRoomKeyRequest(n);return r?(n1.logger.log(`already have key request outstanding for ${n.room_id} / ${n.session_id}: not sending another`),r):(n1.logger.log(`enqueueing key request for ${n.room_id} / `+n.session_id),this.outgoingRoomKeyRequests.push(e),e)})}getOutgoingRoomKeyRequest(e){return Promise.resolve(this._getOutgoingRoomKeyRequest(e))}_getOutgoingRoomKeyRequest(e){for(const n of this.outgoingRoomKeyRequests)if(Bk.deepCompare(n.requestBody,e))return n;return null}getOutgoingRoomKeyRequestByState(e){for(const n of this.outgoingRoomKeyRequests)for(const r of e)if(n.state===r)return Promise.resolve(n);return Promise.resolve(null)}getAllOutgoingRoomKeyRequestsByState(e){return Promise.resolve(this.outgoingRoomKeyRequests.filter(n=>n.state==e))}getOutgoingRoomKeyRequestsByTarget(e,n,r){const o=[];for(const i of this.outgoingRoomKeyRequests)for(const a of r)i.state===a&&i.recipients.some(l=>l.userId===e&&l.deviceId===n)&&o.push(i);return Promise.resolve(o)}updateOutgoingRoomKeyRequest(e,n,r){for(const o of this.outgoingRoomKeyRequests)if(o.requestId===e)return o.state!==n?(n1.logger.warn(`Cannot update room key request from ${n} as it was already updated to ${o.state}`),Promise.resolve(null)):(Object.assign(o,r),Promise.resolve(o));return Promise.resolve(null)}deleteOutgoingRoomKeyRequest(e,n){for(let r=0;r<this.outgoingRoomKeyRequests.length;r++){const o=this.outgoingRoomKeyRequests[r];if(o.requestId===e)return o.state!=n?(n1.logger.warn(`Cannot delete room key request in state ${o.state} (expected ${n})`),Promise.resolve(null)):(this.outgoingRoomKeyRequests.splice(r,1),Promise.resolve(o))}return Promise.resolve(null)}getAccount(e,n){n(this.account)}storeAccount(e,n){this.account=n}getCrossSigningKeys(e,n){n(this.crossSigningKeys)}getSecretStorePrivateKey(e,n,r){const o=this.privateKeys[r];n(o||null)}storeCrossSigningKeys(e,n){this.crossSigningKeys=n}storeSecretStorePrivateKey(e,n,r){this.privateKeys[n]=r}countEndToEndSessions(e,n){n(Object.keys(this.sessions).length)}getEndToEndSession(e,n,r,o){const i=this.sessions[e]||{};o(i[n]||null)}getEndToEndSessions(e,n,r){r(this.sessions[e]||{})}getAllEndToEndSessions(e,n){Object.entries(this.sessions).forEach(([r,o])=>{Object.entries(o).forEach(([i,a])=>{n(Mk(Mk({},a),{},{deviceKey:r,sessionId:i}))})})}storeEndToEndSession(e,n,r,o){let i=this.sessions[e];i===void 0&&(i={},this.sessions[e]=i),i[n]=r}async storeEndToEndSessionProblem(e,n,r){const o=this.sessionProblems[e]=this.sessionProblems[e]||[];o.push({type:n,fixed:r,time:Date.now()}),o.sort((i,a)=>i.time-a.time)}async getEndToEndSessionProblem(e,n){const r=this.sessionProblems[e]||[];if(!r.length)return null;const o=r[r.length-1];for(const i of r)if(i.time>n)return Object.assign({},i,{fixed:o.fixed});return o.fixed?null:o}async filterOutNotifiedErrorDevices(e){const n=this.notifiedErrorDevices,r=[];for(const o of e){const{userId:i,deviceInfo:a}=o;i in n?a.deviceId in n[i]||(r.push(o),n[i][a.deviceId]=!0):(r.push(o),n[i]={[a.deviceId]:!0})}return r}getEndToEndInboundGroupSession(e,n,r,o){const i=e+"/"+n;o(this.inboundGroupSessions[i]||null,this.inboundGroupSessionsWithheld[i]||null)}getAllEndToEndInboundGroupSessions(e,n){for(const r of Object.keys(this.inboundGroupSessions))n({senderKey:r.slice(0,43),sessionId:r.slice(44),sessionData:this.inboundGroupSessions[r]});n(null)}addEndToEndInboundGroupSession(e,n,r,o){const i=e+"/"+n;this.inboundGroupSessions[i]===void 0&&(this.inboundGroupSessions[i]=r)}storeEndToEndInboundGroupSession(e,n,r,o){this.inboundGroupSessions[e+"/"+n]=r}storeEndToEndInboundGroupSessionWithheld(e,n,r,o){const i=e+"/"+n;this.inboundGroupSessionsWithheld[i]=r}getEndToEndDeviceData(e,n){n(this.deviceData)}storeEndToEndDeviceData(e,n){this.deviceData=e}storeEndToEndRoom(e,n,r){this.rooms[e]=n}getEndToEndRooms(e,n){n(this.rooms)}getSessionsNeedingBackup(e){const n=[];for(const r in this.sessionsNeedingBackup)if(this.inboundGroupSessions[r]&&(n.push({senderKey:r.slice(0,43),sessionId:r.slice(44),sessionData:this.inboundGroupSessions[r]}),e&&r.length>=e))break;return Promise.resolve(n)}countSessionsNeedingBackup(){return Promise.resolve(Object.keys(this.sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(e){for(const n of e){const r=n.senderKey+"/"+n.sessionId;delete this.sessionsNeedingBackup[r]}return Promise.resolve()}markSessionsNeedingBackup(e){for(const n of e){const r=n.senderKey+"/"+n.sessionId;this.sessionsNeedingBackup[r]=!0}return Promise.resolve()}addSharedHistoryInboundGroupSession(e,n,r){const o=this.sharedHistoryInboundGroupSessions[e]||[];o.push([n,r]),this.sharedHistoryInboundGroupSessions[e]=o}getSharedHistoryInboundGroupSessions(e){return Promise.resolve(this.sharedHistoryInboundGroupSessions[e]||[])}addParkedSharedHistory(e,n){var r;const o=(r=this.parkedSharedHistory.get(e))!==null&&r!==void 0?r:[];o.push(n),this.parkedSharedHistory.set(e,o)}takeParkedSharedHistory(e){var n;const r=(n=this.parkedSharedHistory.get(e))!==null&&n!==void 0?n:[];return this.parkedSharedHistory.delete(e),Promise.resolve(r)}doTxn(e,n,r){return Promise.resolve(r(null))}}Sc.MemoryCryptoStore=kG;var rg={},so={},Qi={},Nk;function un(){if(Nk)return Qi;Nk=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.TypedEventEmitter=Qi.EventEmitterEvents=void 0;var t=Gn.exports;let e;Qi.EventEmitterEvents=e,function(r){r.NewListener="newListener",r.RemoveListener="removeListener",r.Error="error"}(e||(Qi.EventEmitterEvents=e={}));class n extends t.EventEmitter{addListener(o,i){return super.addListener(o,i)}emit(o,...i){return super.emit(o,...i)}eventNames(){return super.eventNames()}listenerCount(o){return super.listenerCount(o)}listeners(o){return super.listeners(o)}off(o,i){return super.off(o,i)}on(o,i){return super.on(o,i)}once(o,i){return super.once(o,i)}prependListener(o,i){return super.prependListener(o,i)}prependOnceListener(o,i){return super.prependOnceListener(o,i)}removeAllListeners(o){return super.removeAllListeners(o)}removeListener(o,i){return super.removeListener(o,i)}rawListeners(o){return super.rawListeners(o)}}return Qi.TypedEventEmitter=n,Qi}var SG=ze.exports;Object.defineProperty(so,"__esModule",{value:!0});so.UserEvent=so.User=void 0;var jo=SG(Je()),xG=un();let _a;so.UserEvent=_a;(function(t){t.DisplayName="User.displayName",t.AvatarUrl="User.avatarUrl",t.Presence="User.presence",t.CurrentlyActive="User.currentlyActive",t.LastPresenceTs="User.lastPresenceTs"})(_a||(so.UserEvent=_a={}));class CG extends xG.TypedEventEmitter{constructor(e){super(),this.userId=e,(0,jo.default)(this,"modified",-1),(0,jo.default)(this,"displayName",void 0),(0,jo.default)(this,"rawDisplayName",void 0),(0,jo.default)(this,"avatarUrl",void 0),(0,jo.default)(this,"presenceStatusMsg",void 0),(0,jo.default)(this,"presence","offline"),(0,jo.default)(this,"lastActiveAgo",0),(0,jo.default)(this,"lastPresenceTs",0),(0,jo.default)(this,"currentlyActive",!1),(0,jo.default)(this,"events",{}),this.displayName=e,this.rawDisplayName=e,this.updateModifiedTime()}setPresenceEvent(e){if(e.getType()!=="m.presence")return;const n=this.events.presence===null;this.events.presence=e;const r=[];(e.getContent().presence!==this.presence||n)&&r.push(_a.Presence),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&r.push(_a.AvatarUrl),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&r.push(_a.DisplayName),e.getContent().currently_active!==void 0&&e.getContent().currently_active!==this.currentlyActive&&r.push(_a.CurrentlyActive),this.presence=e.getContent().presence,r.push(_a.LastPresenceTs),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this.updateModifiedTime();for(const o of r)this.emit(o,e,this)}setDisplayName(e){const n=this.displayName;this.displayName=e,e!==n&&this.updateModifiedTime()}setRawDisplayName(e){this.rawDisplayName=e}setAvatarUrl(e){const n=this.avatarUrl;this.avatarUrl=e,e!==n&&this.updateModifiedTime()}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getLastActiveTs(){return this.lastPresenceTs-this.lastActiveAgo}}so.User=CG;var Zi={},lo={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.getHttpUriForMxc=RG;var TG=IG(tt);function VR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(VR=function(r){return r?n:e})(t)}function IG(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=VR(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function RG(t,e,n,r,o,i=!1){if(typeof e!="string"||!e)return"";if(e.indexOf("mxc://")!==0)return i?e:"";let a=e.slice(6),l="/_matrix/media/r0/download/";const u={};n&&(u.width=Math.round(n).toString()),r&&(u.height=Math.round(r).toString()),o&&(u.method=o),Object.keys(u).length>0&&(l="/_matrix/media/r0/thumbnail/");const d=a.indexOf("#");let s="";d>=0&&(s=a.slice(d),a=a.slice(0,d));const g=Object.keys(u).length===0?"":"?"+TG.encodeParams(u);return t+l+a+g+s}var et={};Object.defineProperty(et,"__esModule",{value:!0});et.UNSTABLE_MSC3089_TREE_SUBTYPE=et.UNSTABLE_MSC3089_LEAF=et.UNSTABLE_MSC3089_BRANCH=et.UNSTABLE_MSC3088_PURPOSE=et.UNSTABLE_MSC3088_ENABLED=et.UNSTABLE_MSC2716_MARKER=et.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=et.RoomType=et.RoomCreateTypeField=et.RelationType=et.PUSHER_ENABLED=et.PUSHER_DEVICE_ID=et.MsgType=et.LOCAL_NOTIFICATION_SETTINGS_PREFIX=et.EventType=et.EVENT_VISIBILITY_CHANGE_TYPE=void 0;var Ao=qn;let $v;et.EventType=$v;(function(t){t.RoomCanonicalAlias="m.room.canonical_alias",t.RoomCreate="m.room.create",t.RoomJoinRules="m.room.join_rules",t.RoomMember="m.room.member",t.RoomThirdPartyInvite="m.room.third_party_invite",t.RoomPowerLevels="m.room.power_levels",t.RoomName="m.room.name",t.RoomTopic="m.room.topic",t.RoomAvatar="m.room.avatar",t.RoomPinnedEvents="m.room.pinned_events",t.RoomEncryption="m.room.encryption",t.RoomHistoryVisibility="m.room.history_visibility",t.RoomGuestAccess="m.room.guest_access",t.RoomServerAcl="m.room.server_acl",t.RoomTombstone="m.room.tombstone",t.SpaceChild="m.space.child",t.SpaceParent="m.space.parent",t.RoomRedaction="m.room.redaction",t.RoomMessage="m.room.message",t.RoomMessageEncrypted="m.room.encrypted",t.Sticker="m.sticker",t.CallInvite="m.call.invite",t.CallCandidates="m.call.candidates",t.CallAnswer="m.call.answer",t.CallHangup="m.call.hangup",t.CallReject="m.call.reject",t.CallSelectAnswer="m.call.select_answer",t.CallNegotiate="m.call.negotiate",t.CallSDPStreamMetadataChanged="m.call.sdp_stream_metadata_changed",t.CallSDPStreamMetadataChangedPrefix="org.matrix.call.sdp_stream_metadata_changed",t.CallReplaces="m.call.replaces",t.CallAssertedIdentity="m.call.asserted_identity",t.CallAssertedIdentityPrefix="org.matrix.call.asserted_identity",t.KeyVerificationRequest="m.key.verification.request",t.KeyVerificationStart="m.key.verification.start",t.KeyVerificationCancel="m.key.verification.cancel",t.KeyVerificationMac="m.key.verification.mac",t.KeyVerificationDone="m.key.verification.done",t.KeyVerificationKey="m.key.verification.key",t.KeyVerificationAccept="m.key.verification.accept",t.KeyVerificationReady="m.key.verification.ready",t.RoomMessageFeedback="m.room.message.feedback",t.Reaction="m.reaction",t.Typing="m.typing",t.Receipt="m.receipt",t.Presence="m.presence",t.FullyRead="m.fully_read",t.Tag="m.tag",t.SpaceOrder="org.matrix.msc3230.space_order",t.PushRules="m.push_rules",t.Direct="m.direct",t.IgnoredUserList="m.ignored_user_list",t.RoomKey="m.room_key",t.RoomKeyRequest="m.room_key_request",t.ForwardedRoomKey="m.forwarded_room_key",t.Dummy="m.dummy",t.GroupCallPrefix="org.matrix.msc3401.call",t.GroupCallMemberPrefix="org.matrix.msc3401.call.member"})($v||(et.EventType=$v={}));let qv;et.RelationType=qv;(function(t){t.Annotation="m.annotation",t.Replace="m.replace",t.Reference="m.reference",t.Thread="m.thread"})(qv||(et.RelationType=qv={}));let Vv;et.MsgType=Vv;(function(t){t.Text="m.text",t.Emote="m.emote",t.Notice="m.notice",t.Image="m.image",t.File="m.file",t.Audio="m.audio",t.Location="m.location",t.Video="m.video",t.KeyVerificationRequest="m.key.verification.request"})(Vv||(et.MsgType=Vv={}));const AG="type";et.RoomCreateTypeField=AG;let Gv;et.RoomType=Gv;(function(t){t.Space="m.space",t.UnstableCall="org.matrix.msc3417.call",t.ElementVideo="io.element.video"})(Gv||(et.RoomType=Gv={}));const OG=new Ao.UnstableValue("m.room.purpose","org.matrix.msc3088.purpose");et.UNSTABLE_MSC3088_PURPOSE=OG;const BG=new Ao.UnstableValue("m.enabled","org.matrix.msc3088.enabled");et.UNSTABLE_MSC3088_ENABLED=BG;const PG=new Ao.UnstableValue("m.data_tree","org.matrix.msc3089.data_tree");et.UNSTABLE_MSC3089_TREE_SUBTYPE=PG;const MG=new Ao.UnstableValue("m.leaf","org.matrix.msc3089.leaf");et.UNSTABLE_MSC3089_LEAF=MG;const NG=new Ao.UnstableValue("m.branch","org.matrix.msc3089.branch");et.UNSTABLE_MSC3089_BRANCH=NG;const LG=new Ao.UnstableValue("m.room.marker","org.matrix.msc2716.marker");et.UNSTABLE_MSC2716_MARKER=LG;const UG=new Ao.UnstableValue("io.element.functional_members","io.element.functional_members");et.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=UG;const jG=new Ao.UnstableValue("m.visibility","org.matrix.msc3531.visibility");et.EVENT_VISIBILITY_CHANGE_TYPE=jG;const $G=new Ao.UnstableValue("enabled","org.matrix.msc3881.enabled");et.PUSHER_ENABLED=$G;const qG=new Ao.UnstableValue("device_id","org.matrix.msc3881.device_id");et.PUSHER_DEVICE_ID=qG;const VG=new Ao.UnstableValue("m.local_notification_settings","org.matrix.msc3890.local_notification_settings");et.LOCAL_NOTIFICATION_SETTINGS_PREFIX=VG;var GG=ze.exports;Object.defineProperty(lo,"__esModule",{value:!0});lo.RoomMemberEvent=lo.RoomMember=void 0;var Vr=GG(Je()),KG=Cc,qu=WG(tt),HG=lt(),zG=un(),Lk=et;function GR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(GR=function(r){return r?n:e})(t)}function WG(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=GR(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Vs;lo.RoomMemberEvent=Vs;(function(t){t.Membership="RoomMember.membership",t.Name="RoomMember.name",t.PowerLevel="RoomMember.powerLevel",t.Typing="RoomMember.typing"})(Vs||(lo.RoomMemberEvent=Vs={}));class YG extends zG.TypedEventEmitter{constructor(e,n){super(),this.roomId=e,this.userId=n,(0,Vr.default)(this,"_isOutOfBand",!1),(0,Vr.default)(this,"modified",-1),(0,Vr.default)(this,"requestedProfileInfo",!1),(0,Vr.default)(this,"typing",!1),(0,Vr.default)(this,"name",void 0),(0,Vr.default)(this,"rawDisplayName",void 0),(0,Vr.default)(this,"powerLevel",0),(0,Vr.default)(this,"powerLevelNorm",0),(0,Vr.default)(this,"user",void 0),(0,Vr.default)(this,"membership",void 0),(0,Vr.default)(this,"disambiguate",!1),(0,Vr.default)(this,"events",{}),this.name=n,this.rawDisplayName=n,this.updateModifiedTime()}markOutOfBand(){this._isOutOfBand=!0}isOutOfBand(){return this._isOutOfBand}setMembershipEvent(e,n){var r,o;const i=(r=e.getDirectionalContent().displayname)!==null&&r!==void 0?r:"";if(e.getType()!==Lk.EventType.RoomMember)return;this._isOutOfBand=!1,this.events.member=e;const a=this.membership;this.membership=e.getDirectionalContent().membership,this.membership===void 0&&HG.logger.trace(`membership event with membership undefined (forwardLooking: ${e.forwardLooking})!`,e.getContent(),"prevcontent is ",e.getPrevContent()),this.disambiguate=QG(this.userId,i,n);const l=this.name;this.name=ZG(this.userId,i,this.disambiguate),this.rawDisplayName=qu.removeDirectionOverrideChars((o=e.getDirectionalContent().displayname)!==null&&o!==void 0?o:""),(!this.rawDisplayName||!qu.removeHiddenChars(this.rawDisplayName))&&(this.rawDisplayName=this.userId),a!==this.membership&&(this.updateModifiedTime(),this.emit(Vs.Membership,e,this,a)),l!==this.name&&(this.updateModifiedTime(),this.emit(Vs.Name,e,this,l))}setPowerLevelEvent(e){if(e.getType()!==Lk.EventType.RoomPowerLevels||e.getStateKey()!=="")return;const n=e.getDirectionalContent();let r=n.users_default||0;const o=n.users||{};Object.values(o).forEach(l=>{r=Math.max(r,l)});const i=this.powerLevel,a=this.powerLevelNorm;o[this.userId]!==void 0&&Number.isInteger(o[this.userId])?this.powerLevel=o[this.userId]:n.users_default!==void 0?this.powerLevel=n.users_default:this.powerLevel=0,this.powerLevelNorm=0,r>0&&(this.powerLevelNorm=this.powerLevel*100/r),(i!==this.powerLevel||a!==this.powerLevelNorm)&&(this.updateModifiedTime(),this.emit(Vs.PowerLevel,e,this))}setTypingEvent(e){if(e.getType()!=="m.typing")return;const n=this.typing;this.typing=!1;const r=e.getContent().user_ids;Array.isArray(r)&&(r.indexOf(this.userId)!==-1&&(this.typing=!0),n!==this.typing&&(this.updateModifiedTime(),this.emit(Vs.Typing,e,this)))}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}isKicked(){return this.membership==="leave"&&this.events.member!==void 0&&this.events.member.getSender()!==this.events.member.getStateKey()}getDMInviter(){if(this.events.member){const e=this.events.member;let n=e.getContent(),r=e.getSender();if(n.membership==="join"&&(n=e.getPrevContent(),r=e.getUnsigned().prev_sender),n.membership==="invite"&&n.is_direct)return r}}getAvatarUrl(e,n,r,o,i=!0,a){const l=this.getMxcAvatarUrl();if(!l&&!i)return null;const u=(0,KG.getHttpUriForMxc)(e,l,n,r,o,a);return u||null}getMxcAvatarUrl(){if(this.events.member)return this.events.member.getDirectionalContent().avatar_url;if(this.user)return this.user.avatarUrl}}lo.RoomMember=YG;const JG=/@.+:.+/,XG=/[\u200E\u200F\u202A-\u202F]/;function QG(t,e,n){return!e||e===t||!qu.removeHiddenChars(e)||!n?!1:!!(JG.test(e)||XG.test(e)||n.getUserIdsWithDisplayName(e).some(o=>o!==t))}function ZG(t,e,n){return!e||e===t?t:n?qu.removeDirectionOverrideChars(e)+" ("+t+")":qu.removeHiddenChars(e)?qu.removeDirectionOverrideChars(e):t}var y_={},b_={},ud={},cd={},Uk;function KR(){if(Uk)return cd;Uk=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.NamespacedMap=void 0;function t(u,d){var s=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!s){if(Array.isArray(u)||(s=e(u))||d&&u&&typeof u.length=="number"){s&&(u=s);var g=0,c=function(){};return{s:c,n:function(){return g>=u.length?{done:!0}:{done:!1,value:u[g++]}},e:function(p){throw p},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,_=!1,F;return{s:function(){s=s.call(u)},n:function(){var p=s.next();return h=p.done,p},e:function(p){_=!0,F=p},f:function(){try{!h&&s.return!=null&&s.return()}finally{if(_)throw F}}}}function e(u,d){if(u){if(typeof u=="string")return n(u,d);var s=Object.prototype.toString.call(u).slice(8,-1);if(s==="Object"&&u.constructor&&(s=u.constructor.name),s==="Map"||s==="Set")return Array.from(u);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(u,d)}}function n(u,d){(d==null||d>u.length)&&(d=u.length);for(var s=0,g=new Array(d);s<d;s++)g[s]=u[s];return g}function r(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function o(u,d){for(var s=0;s<d.length;s++){var g=d[s];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function i(u,d,s){return d&&o(u.prototype,d),s&&o(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}function a(u,d,s){return d in u?Object.defineProperty(u,d,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[d]=s,u}var l=function(){function u(d){if(r(this,u),a(this,"internalMap",new Map),d){var s=t(d),g;try{for(s.s();!(g=s.n()).done;){var c=g.value;this.set(c[0],c[1])}}catch(h){s.e(h)}finally{s.f()}}}return i(u,[{key:"get",value:function(s){return s.name&&this.internalMap.has(s.name)?this.internalMap.get(s.name):s.altName&&this.internalMap.has(s.altName)?this.internalMap.get(s.altName):null}},{key:"set",value:function(s,g){s.name&&this.internalMap.set(s.name,g),s.altName&&this.internalMap.set(s.altName,g)}},{key:"has",value:function(s){return!!this.get(s)}},{key:"delete",value:function(s){s.name&&this.internalMap.delete(s.name),s.altName&&this.internalMap.delete(s.altName)}},{key:"hasNamespaced",value:function(s){return this.internalMap.has(s)}},{key:"getNamespaced",value:function(s){return this.internalMap.get(s)}}]),u}();return cd.NamespacedMap=l,cd}var dd={},jk;function Tc(){if(jk)return dd;jk=1;function t(F){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(F)}Object.defineProperty(dd,"__esModule",{value:!0}),dd.InvalidEventError=void 0;function e(F,m){for(var p=0;p<m.length;p++){var f=m[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}function n(F,m,p){return m&&e(F.prototype,m),p&&e(F,p),Object.defineProperty(F,"prototype",{writable:!1}),F}function r(F,m){if(!(F instanceof m))throw new TypeError("Cannot call a class as a function")}function o(F,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(m&&m.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),m&&c(F,m)}function i(F){var m=s();return function(){var f=h(F),v;if(m){var y=h(this).constructor;v=Reflect.construct(f,arguments,y)}else v=f.apply(this,arguments);return a(this,v)}}function a(F,m){if(m&&(t(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(F)}function l(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function u(F){var m=typeof Map=="function"?new Map:void 0;return u=function(f){if(f===null||!g(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(typeof m<"u"){if(m.has(f))return m.get(f);m.set(f,v)}function v(){return d(f,arguments,h(this).constructor)}return v.prototype=Object.create(f.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),c(v,f)},u(F)}function d(F,m,p){return s()?d=Reflect.construct:d=function(v,y,w){var b=[null];b.push.apply(b,y);var S=Function.bind.apply(v,b),x=new S;return w&&c(x,w.prototype),x},d.apply(null,arguments)}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function c(F,m){return c=Object.setPrototypeOf||function(f,v){return f.__proto__=v,f},c(F,m)}function h(F){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},h(F)}var _=function(F){o(p,F);var m=i(p);function p(f){return r(this,p),m.call(this,f)}return n(p)}(u(Error));return dd.InvalidEventError=_,dd}var Al={},hd={},fd={},$k;function og(){if($k)return fd;$k=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.ExtensibleEvent=void 0;function t(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function e(o,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}function n(o,i,a){return i&&e(o.prototype,i),a&&e(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}var r=function(){function o(i){t(this,o),this.wireFormat=i}return n(o,[{key:"wireContent",get:function(){return this.wireFormat.content}}]),o}();return fd.ExtensibleEvent=r,fd}var gd={},qk;function HR(){if(qk)return gd;qk=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.isOptionalAString=t,gd.isProvided=e;function t(n){return e(n)&&typeof n=="string"}function e(n){return n!=null}return gd}var xr={},us={},Vk;function Ic(){if(Vk)return us;Vk=1;function t(h){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(h)}Object.defineProperty(us,"__esModule",{value:!0}),us.UnstableValue=us.NamespacedValue=void 0;function e(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),_&&n(h,_)}function n(h,_){return n=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m},n(h,_)}function r(h){var _=a();return function(){var m=l(h),p;if(_){var f=l(this).constructor;p=Reflect.construct(m,arguments,f)}else p=m.apply(this,arguments);return o(this,p)}}function o(h,_){if(_&&(t(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(h)}function i(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(h){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},l(h)}function u(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function d(h,_){for(var F=0;F<_.length;F++){var m=_[F];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}function s(h,_,F){return _&&d(h.prototype,_),F&&d(h,F),Object.defineProperty(h,"prototype",{writable:!1}),h}var g=function(){function h(_,F){if(u(this,h),this.stable=_,this.unstable=F,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return s(h,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(F){return!!this.name&&this.name===F||!!this.altName&&this.altName===F}},{key:"findIn",value:function(F){var m;return this.name&&(m=F==null?void 0:F[this.name]),!m&&this.altName&&(m=F==null?void 0:F[this.altName]),m}},{key:"includedIn",value:function(F){var m=!1;return this.name&&(m=F.includes(this.name)),!m&&this.altName&&(m=F.includes(this.altName)),m}}]),h}();us.NamespacedValue=g;var c=function(h){e(F,h);var _=r(F);function F(m,p){var f;if(u(this,F),f=_.call(this,m,p),!f.unstable)throw new Error("Unstable value must be supplied");return f}return s(F,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),F}(g);return us.UnstableValue=c,us}var Gk;function vi(){if(Gk)return xr;Gk=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.M_TEXT=xr.M_NOTICE=xr.M_MESSAGE=xr.M_HTML=xr.M_EMOTE=void 0;var t=Ic(),e=new t.UnstableValue("m.message","org.matrix.msc1767.message");xr.M_MESSAGE=e;var n=new t.UnstableValue("m.text","org.matrix.msc1767.text");xr.M_TEXT=n;var r=new t.UnstableValue("m.html","org.matrix.msc1767.html");xr.M_HTML=r;var o=new t.UnstableValue("m.emote","org.matrix.msc1767.emote");xr.M_EMOTE=o;var i=new t.UnstableValue("m.notice","org.matrix.msc1767.notice");return xr.M_NOTICE=i,xr}var r1={},Kk;function yl(){if(Kk)return r1;Kk=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.isEventTypeSame=t;function t(e,n){if(typeof e=="string")return typeof n=="string"?n===e:n.matches(e);if(typeof n=="string")return e.matches(n);var r=n,o=e;return r.matches(o.name)||r.matches(o.altName)}return r1}var Hk;function bl(){if(Hk)return hd;Hk=1;function t(y){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(y)}Object.defineProperty(hd,"__esModule",{value:!0}),hd.MessageEvent=void 0;var e=og(),n=HR(),r=Tc(),o=vi(),i=yl();function a(y,w){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);w&&(S=S.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),b.push.apply(b,S)}return b}function l(y){for(var w=1;w<arguments.length;w++){var b=arguments[w]!=null?arguments[w]:{};w%2?a(Object(b),!0).forEach(function(S){f(y,S,b[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):a(Object(b)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(b,S))})}return y}function u(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){for(var b=0;b<w.length;b++){var S=w[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}function s(y,w,b){return w&&d(y.prototype,w),b&&d(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function g(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),w&&c(y,w)}function c(y,w){return c=Object.setPrototypeOf||function(S,x){return S.__proto__=x,S},c(y,w)}function h(y){var w=m();return function(){var S=p(y),x;if(w){var N=p(this).constructor;x=Reflect.construct(S,arguments,N)}else x=S.apply(this,arguments);return _(this,x)}}function _(y,w){if(w&&(t(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(y)}function F(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(y){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},p(y)}function f(y,w,b){return w in y?Object.defineProperty(y,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[w]=b,y}var v=function(y){g(b,y);var w=h(b);function b(S){var x;u(this,b),x=w.call(this,S),f(F(x),"text",void 0),f(F(x),"html",void 0),f(F(x),"renderings",void 0);var N=o.M_MESSAGE.findIn(x.wireContent),U=o.M_TEXT.findIn(x.wireContent),q=o.M_HTML.findIn(x.wireContent);if((0,n.isProvided)(N)){if(!Array.isArray(N))throw new r.InvalidEventError("m.message contents must be an array");var P=N.find(function(C){return!(0,n.isProvided)(C.mimetype)||C.mimetype==="text/plain"}),G=N.find(function(C){return C.mimetype==="text/html"});if(!P)throw new r.InvalidEventError("m.message is missing a plain text representation");x.text=P.body,x.html=G==null?void 0:G.body,x.renderings=N}else if((0,n.isOptionalAString)(U))x.text=U,x.html=q,x.renderings=[{body:U,mimetype:"text/plain"}],x.html&&x.renderings.push({body:x.html,mimetype:"text/html"});else throw new r.InvalidEventError("Missing textual representation for event");return x}return s(b,[{key:"isEmote",get:function(){return o.M_EMOTE.matches(this.wireFormat.type)||(0,n.isProvided)(o.M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return o.M_NOTICE.matches(this.wireFormat.type)||(0,n.isProvided)(o.M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(x){return(0,i.isEventTypeSame)(x,o.M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var x=f({},o.M_MESSAGE.name,this.renderings);if(this.renderings.length===1){var N=this.renderings[0].mimetype;(N===void 0||N==="text/plain")&&(x=f({},o.M_TEXT.name,this.renderings[0].body))}return x}},{key:"serialize",value:function(){var x;return{type:"m.room.message",content:l(l({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:(x=this.html)!==null&&x!==void 0?x:void 0})}}}],[{key:"from",value:function(x,N){var U;return new b({type:o.M_MESSAGE.name,content:(U={},f(U,o.M_TEXT.name,x),f(U,o.M_HTML.name,N),U)})}}]),b}(e.ExtensibleEvent);return hd.MessageEvent=v,hd}var pd={},zk;function M3(){if(zk)return pd;zk=1;function t(f){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(f)}Object.defineProperty(pd,"__esModule",{value:!0}),pd.NoticeEvent=void 0;var e=bl(),n=vi(),r=yl();function o(f,v,y){return v in f?Object.defineProperty(f,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[v]=y,f}function i(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function a(f,v){for(var y=0;y<v.length;y++){var w=v[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}function l(f,v,y){return v&&a(f.prototype,v),y&&a(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function u(){return typeof Reflect<"u"&&Reflect.get?u=Reflect.get:u=function(v,y,w){var b=d(v,y);if(b){var S=Object.getOwnPropertyDescriptor(b,y);return S.get?S.get.call(arguments.length<3?v:w):S.value}},u.apply(this,arguments)}function d(f,v){for(;!Object.prototype.hasOwnProperty.call(f,v)&&(f=m(f),f!==null););return f}function s(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&g(f,v)}function g(f,v){return g=Object.setPrototypeOf||function(w,b){return w.__proto__=b,w},g(f,v)}function c(f){var v=F();return function(){var w=m(f),b;if(v){var S=m(this).constructor;b=Reflect.construct(w,arguments,S)}else b=w.apply(this,arguments);return h(this,b)}}function h(f,v){if(v&&(t(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(f)}function _(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(f){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},m(f)}var p=function(f){s(y,f);var v=c(y);function y(w){return i(this,y),v.call(this,w)}return l(y,[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(b){return(0,r.isEventTypeSame)(b,n.M_NOTICE)||u(m(y.prototype),"isEquivalentTo",this).call(this,b)}},{key:"serialize",value:function(){var b=u(m(y.prototype),"serialize",this).call(this);return b.content.msgtype="m.notice",b}}],[{key:"from",value:function(b,S){var x;return new y({type:n.M_NOTICE.name,content:(x={},o(x,n.M_TEXT.name,b),o(x,n.M_HTML.name,S),x)})}}]),y}(e.MessageEvent);return pd.NoticeEvent=p,pd}var md={},Wk;function N3(){if(Wk)return md;Wk=1;function t(f){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(f)}Object.defineProperty(md,"__esModule",{value:!0}),md.EmoteEvent=void 0;var e=bl(),n=vi(),r=yl();function o(f,v,y){return v in f?Object.defineProperty(f,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[v]=y,f}function i(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function a(f,v){for(var y=0;y<v.length;y++){var w=v[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}function l(f,v,y){return v&&a(f.prototype,v),y&&a(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function u(){return typeof Reflect<"u"&&Reflect.get?u=Reflect.get:u=function(v,y,w){var b=d(v,y);if(b){var S=Object.getOwnPropertyDescriptor(b,y);return S.get?S.get.call(arguments.length<3?v:w):S.value}},u.apply(this,arguments)}function d(f,v){for(;!Object.prototype.hasOwnProperty.call(f,v)&&(f=m(f),f!==null););return f}function s(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&g(f,v)}function g(f,v){return g=Object.setPrototypeOf||function(w,b){return w.__proto__=b,w},g(f,v)}function c(f){var v=F();return function(){var w=m(f),b;if(v){var S=m(this).constructor;b=Reflect.construct(w,arguments,S)}else b=w.apply(this,arguments);return h(this,b)}}function h(f,v){if(v&&(t(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(f)}function _(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(f){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},m(f)}var p=function(f){s(y,f);var v=c(y);function y(w){return i(this,y),v.call(this,w)}return l(y,[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(b){return(0,r.isEventTypeSame)(b,n.M_EMOTE)||u(m(y.prototype),"isEquivalentTo",this).call(this,b)}},{key:"serialize",value:function(){var b=u(m(y.prototype),"serialize",this).call(this);return b.content.msgtype="m.emote",b}}],[{key:"from",value:function(b,S){var x;return new y({type:n.M_EMOTE.name,content:(x={},o(x,n.M_TEXT.name,b),o(x,n.M_HTML.name,S),x)})}}]),y}(e.MessageEvent);return md.EmoteEvent=p,md}var Yk;function zR(){if(Yk)return Al;Yk=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.LEGACY_M_ROOM_MESSAGE=void 0,Al.parseMRoomMessage=d;var t=bl(),e=M3(),n=N3(),r=Ic(),o=vi();function i(s,g){var c=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);g&&(h=h.filter(function(_){return Object.getOwnPropertyDescriptor(s,_).enumerable})),c.push.apply(c,h)}return c}function a(s){for(var g=1;g<arguments.length;g++){var c=arguments[g]!=null?arguments[g]:{};g%2?i(Object(c),!0).forEach(function(h){l(s,h,c[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(c,h))})}return s}function l(s,g,c){return g in s?Object.defineProperty(s,g,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[g]=c,s}var u=new r.NamespacedValue("m.room.message");Al.LEGACY_M_ROOM_MESSAGE=u;function d(s){var g,c,h;if(o.M_MESSAGE.findIn(s.content)||o.M_TEXT.findIn(s.content))return new t.MessageEvent(s);var _=(g=s.content)===null||g===void 0?void 0:g.msgtype,F=(c=s.content)===null||c===void 0?void 0:c.body,m=((h=s.content)===null||h===void 0?void 0:h.format)==="org.matrix.custom.html"?s.content.formatted_body:null;if(_==="m.text"){var p;return new t.MessageEvent(a(a({},s),{},{content:a(a({},s.content),{},(p={},l(p,o.M_TEXT.name,F),l(p,o.M_HTML.name,m),p))}))}else if(_==="m.notice"){var f;return new e.NoticeEvent(a(a({},s),{},{content:a(a({},s.content),{},(f={},l(f,o.M_TEXT.name,F),l(f,o.M_HTML.name,m),f))}))}else if(_==="m.emote"){var v;return new n.EmoteEvent(a(a({},s),{},{content:a(a({},s.content),{},(v={},l(v,o.M_TEXT.name,F),l(v,o.M_HTML.name,m),v))}))}else return null}return Al}var o1={},Jk;function WR(){if(Jk)return o1;Jk=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.parseMMessage=o;var t=bl(),e=vi(),n=N3(),r=M3();function o(i){return e.M_EMOTE.matches(i.type)?new n.EmoteEvent(i):e.M_NOTICE.matches(i.type)?new r.NoticeEvent(i):new t.MessageEvent(i)}return o1}var Cr={},Xk;function Rc(){if(Xk)return Cr;Xk=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.M_POLL_START=Cr.M_POLL_RESPONSE=Cr.M_POLL_KIND_UNDISCLOSED=Cr.M_POLL_KIND_DISCLOSED=Cr.M_POLL_END=void 0;var t=Ic(),e=new t.UnstableValue("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");Cr.M_POLL_KIND_DISCLOSED=e;var n=new t.UnstableValue("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");Cr.M_POLL_KIND_UNDISCLOSED=n;var r=new t.UnstableValue("m.poll.start","org.matrix.msc3381.poll.start");Cr.M_POLL_START=r;var o=new t.UnstableValue("m.poll.response","org.matrix.msc3381.poll.response");Cr.M_POLL_RESPONSE=o;var i=new t.UnstableValue("m.poll.end","org.matrix.msc3381.poll.end");return Cr.M_POLL_END=i,Cr}var i1={},cs={},Qk;function YR(){if(Qk)return cs;Qk=1;function t(I){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(I)}Object.defineProperty(cs,"__esModule",{value:!0}),cs.PollStartEvent=cs.PollAnswerSubevent=void 0;var e=Rc(),n=bl(),r=vi(),o=Tc(),i=Ic(),a=yl(),l=og();function u(I){return c(I)||g(I)||s(I)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(I,M){if(I){if(typeof I=="string")return h(I,M);var A=Object.prototype.toString.call(I).slice(8,-1);if(A==="Object"&&I.constructor&&(A=I.constructor.name),A==="Map"||A==="Set")return Array.from(I);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return h(I,M)}}function g(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function c(I){if(Array.isArray(I))return h(I)}function h(I,M){(M==null||M>I.length)&&(M=I.length);for(var A=0,$=new Array(M);A<M;A++)$[A]=I[A];return $}function _(I,M){var A=Object.keys(I);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(I);M&&($=$.filter(function(Y){return Object.getOwnPropertyDescriptor(I,Y).enumerable})),A.push.apply(A,$)}return A}function F(I){for(var M=1;M<arguments.length;M++){var A=arguments[M]!=null?arguments[M]:{};M%2?_(Object(A),!0).forEach(function($){U(I,$,A[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(A)):_(Object(A)).forEach(function($){Object.defineProperty(I,$,Object.getOwnPropertyDescriptor(A,$))})}return I}function m(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function p(I,M){for(var A=0;A<M.length;A++){var $=M[A];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}function f(I,M,A){return M&&p(I.prototype,M),A&&p(I,A),Object.defineProperty(I,"prototype",{writable:!1}),I}function v(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),M&&y(I,M)}function y(I,M){return y=Object.setPrototypeOf||function($,Y){return $.__proto__=Y,$},y(I,M)}function w(I){var M=x();return function(){var $=N(I),Y;if(M){var T=N(this).constructor;Y=Reflect.construct($,arguments,T)}else Y=$.apply(this,arguments);return b(this,Y)}}function b(I,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(I)}function S(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(I){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},N(I)}function U(I,M,A){return M in I?Object.defineProperty(I,M,{value:A,enumerable:!0,configurable:!0,writable:!0}):I[M]=A,I}var q=function(I){v(A,I);var M=w(A);function A($){var Y;m(this,A),Y=M.call(this,$),U(S(Y),"id",void 0);var T=$.content.id;if(!T||typeof T!="string")throw new o.InvalidEventError("Answer ID must be a non-empty string");return Y.id=T,Y}return f(A,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:F({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(Y,T){return new A({type:"org.matrix.sdk.poll.answer",content:U({id:Y},r.M_TEXT.name,T)})}}]),A}(n.MessageEvent);cs.PollAnswerSubevent=q;var P=function(I){v(A,I);var M=w(A);function A($){var Y;m(this,A),Y=M.call(this,$),U(S(Y),"question",void 0),U(S(Y),"kind",void 0),U(S(Y),"rawKind",void 0),U(S(Y),"maxSelections",void 0),U(S(Y),"answers",void 0);var T=e.M_POLL_START.findIn(Y.wireContent);if(!T.question)throw new o.InvalidEventError("A question is required");if(Y.question=new n.MessageEvent({type:"org.matrix.sdk.poll.question",content:T.question}),Y.rawKind=T.kind,e.M_POLL_KIND_DISCLOSED.matches(Y.rawKind)?Y.kind=e.M_POLL_KIND_DISCLOSED:Y.kind=e.M_POLL_KIND_UNDISCLOSED,Y.maxSelections=Number.isFinite(T.max_selections)&&T.max_selections>0?T.max_selections:1,!Array.isArray(T.answers))throw new o.InvalidEventError("Poll answers must be an array");var D=T.answers.slice(0,20).map(function(R){return new q({type:"org.matrix.sdk.poll.answer",content:R})});if(D.length<=0)throw new o.InvalidEventError("No answers available");return Y.answers=D,Y}return f(A,[{key:"isEquivalentTo",value:function(Y){return(0,a.isEventTypeSame)(Y,e.M_POLL_START)}},{key:"serialize",value:function(){var Y;return{type:e.M_POLL_START.name,content:(Y={},U(Y,e.M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map(function(T){return T.serialize().content})}),U(Y,r.M_TEXT.name,"".concat(this.question.text,`
`).concat(this.answers.map(function(T,D){return"".concat(D+1,". ").concat(T.text)}).join(`
`))),Y)}}}],[{key:"from",value:function(Y,T,D){var R,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;return new A({type:e.M_POLL_START.name,content:(R={},U(R,r.M_TEXT.name,Y),U(R,e.M_POLL_START.name,{question:U({},r.M_TEXT.name,Y),kind:D instanceof i.NamespacedValue?D.name:D,max_selections:B,answers:T.map(function(H){return U({id:C()},r.M_TEXT.name,H)})}),R)})}}]),A}(l.ExtensibleEvent);cs.PollStartEvent=P;var G="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function C(){return u(Array(16)).map(function(){return G.charAt(Math.floor(Math.random()*G.length))}).join("")}return cs}var Fd={},_d={},Zk;function L3(){if(Zk)return _d;Zk=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.REFERENCE_RELATION=void 0;var t=Ic(),e=new t.NamespacedValue("m.reference");return _d.REFERENCE_RELATION=e,_d}var e6;function JR(){if(e6)return Fd;e6=1;function t(f){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(f)}Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.PollResponseEvent=void 0;var e=og(),n=Rc(),r=Tc(),o=L3(),i=yl();function a(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function l(f,v){for(var y=0;y<v.length;y++){var w=v[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}function u(f,v,y){return v&&l(f.prototype,v),y&&l(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function d(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&s(f,v)}function s(f,v){return s=Object.setPrototypeOf||function(w,b){return w.__proto__=b,w},s(f,v)}function g(f){var v=_();return function(){var w=F(f),b;if(v){var S=F(this).constructor;b=Reflect.construct(w,arguments,S)}else b=w.apply(this,arguments);return c(this,b)}}function c(f,v){if(v&&(t(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(f)}function h(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(f){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},F(f)}function m(f,v,y){return v in f?Object.defineProperty(f,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[v]=y,f}var p=function(f){d(y,f);var v=g(y);function y(w){var b;a(this,y),b=v.call(this,w),m(h(b),"internalAnswerIds",void 0),m(h(b),"internalSpoiled",void 0),m(h(b),"pollEventId",void 0);var S=b.wireContent["m.relates_to"];if(!o.REFERENCE_RELATION.matches(S==null?void 0:S.rel_type)||typeof(S==null?void 0:S.event_id)!="string")throw new r.InvalidEventError("Relationship must be a reference to an event");return b.pollEventId=S.event_id,b.validateAgainst(null),b}return u(y,[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(b){var S=n.M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(S==null?void 0:S.answers)){this.internalSpoiled=!0,this.internalAnswerIds=[];return}var x=S.answers;if(x.some(function(N){return typeof N!="string"})||x.length===0){this.internalSpoiled=!0,this.internalAnswerIds=[];return}if(b){if(x.some(function(N){return!b.answers.some(function(U){return U.id===N})})){this.internalSpoiled=!0,this.internalAnswerIds=[];return}x=x.slice(0,b.maxSelections)}this.internalAnswerIds=x,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(b){return(0,i.isEventTypeSame)(b,n.M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:n.M_POLL_RESPONSE.name,content:m({"m.relates_to":{rel_type:o.REFERENCE_RELATION.name,event_id:this.pollEventId}},n.M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}],[{key:"from",value:function(b,S){return new y({type:n.M_POLL_RESPONSE.name,content:m({"m.relates_to":{rel_type:o.REFERENCE_RELATION.name,event_id:S}},n.M_POLL_RESPONSE.name,{answers:b})})}}]),y}(e.ExtensibleEvent);return Fd.PollResponseEvent=p,Fd}var vd={},t6;function XR(){if(t6)return vd;t6=1;function t(b){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(b)}Object.defineProperty(vd,"__esModule",{value:!0}),vd.PollEndEvent=void 0;var e=Rc(),n=Tc(),r=L3(),o=bl(),i=vi(),a=yl(),l=og();function u(b,S){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(b);S&&(N=N.filter(function(U){return Object.getOwnPropertyDescriptor(b,U).enumerable})),x.push.apply(x,N)}return x}function d(b){for(var S=1;S<arguments.length;S++){var x=arguments[S]!=null?arguments[S]:{};S%2?u(Object(x),!0).forEach(function(N){y(b,N,x[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(N){Object.defineProperty(b,N,Object.getOwnPropertyDescriptor(x,N))})}return b}function s(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function g(b,S){for(var x=0;x<S.length;x++){var N=S[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}function c(b,S,x){return S&&g(b.prototype,S),x&&g(b,x),Object.defineProperty(b,"prototype",{writable:!1}),b}function h(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),S&&_(b,S)}function _(b,S){return _=Object.setPrototypeOf||function(N,U){return N.__proto__=U,N},_(b,S)}function F(b){var S=f();return function(){var N=v(b),U;if(S){var q=v(this).constructor;U=Reflect.construct(N,arguments,q)}else U=N.apply(this,arguments);return m(this,U)}}function m(b,S){if(S&&(t(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(b)}function p(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(b){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},v(b)}function y(b,S,x){return S in b?Object.defineProperty(b,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[S]=x,b}var w=function(b){h(x,b);var S=F(x);function x(N){var U;s(this,x),U=S.call(this,N),y(p(U),"pollEventId",void 0),y(p(U),"closingMessage",void 0);var q=U.wireContent["m.relates_to"];if(!r.REFERENCE_RELATION.matches(q==null?void 0:q.rel_type)||typeof(q==null?void 0:q.event_id)!="string")throw new n.InvalidEventError("Relationship must be a reference to an event");return U.pollEventId=q.event_id,U.closingMessage=new o.MessageEvent(U.wireFormat),U}return c(x,[{key:"isEquivalentTo",value:function(U){return(0,a.isEventTypeSame)(U,e.M_POLL_END)}},{key:"serialize",value:function(){return{type:e.M_POLL_END.name,content:d(y({"m.relates_to":{rel_type:r.REFERENCE_RELATION.name,event_id:this.pollEventId}},e.M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}],[{key:"from",value:function(U,q){var P;return new x({type:e.M_POLL_END.name,content:(P={"m.relates_to":{rel_type:r.REFERENCE_RELATION.name,event_id:U}},y(P,e.M_POLL_END.name,{}),y(P,i.M_TEXT.name,q),P)})}}]),x}(l.ExtensibleEvent);return vd.PollEndEvent=w,vd}var n6;function QR(){if(n6)return i1;n6=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.parseMPoll=o;var t=Rc(),e=YR(),n=JR(),r=XR();function o(i){return t.M_POLL_START.matches(i.type)?new e.PollStartEvent(i):t.M_POLL_RESPONSE.matches(i.type)?new n.PollResponseEvent(i):t.M_POLL_END.matches(i.type)?new r.PollEndEvent(i):null}return i1}var r6;function eK(){if(r6)return ud;r6=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.ExtensibleEvents=void 0;var t=KR(),e=Tc(),n=zR(),r=WR(),o=vi(),i=Rc(),a=QR();function l(F,m){var p=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!p){if(Array.isArray(F)||(p=u(F))||m&&F&&typeof F.length=="number"){p&&(F=p);var f=0,v=function(){};return{s:v,n:function(){return f>=F.length?{done:!0}:{done:!1,value:F[f++]}},e:function(x){throw x},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,w=!1,b;return{s:function(){p=p.call(F)},n:function(){var x=p.next();return y=x.done,x},e:function(x){w=!0,b=x},f:function(){try{!y&&p.return!=null&&p.return()}finally{if(w)throw b}}}}function u(F,m){if(F){if(typeof F=="string")return d(F,m);var p=Object.prototype.toString.call(F).slice(8,-1);if(p==="Object"&&F.constructor&&(p=F.constructor.name),p==="Map"||p==="Set")return Array.from(F);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return d(F,m)}}function d(F,m){(m==null||m>F.length)&&(m=F.length);for(var p=0,f=new Array(m);p<m;p++)f[p]=F[p];return f}function s(F,m){if(!(F instanceof m))throw new TypeError("Cannot call a class as a function")}function g(F,m){for(var p=0;p<m.length;p++){var f=m[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}function c(F,m,p){return m&&g(F.prototype,m),p&&g(F,p),Object.defineProperty(F,"prototype",{writable:!1}),F}function h(F,m,p){return m in F?Object.defineProperty(F,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):F[m]=p,F}var _=function(){function F(){s(this,F),h(this,"interpreters",new t.NamespacedMap([[n.LEGACY_M_ROOM_MESSAGE,n.parseMRoomMessage],[o.M_MESSAGE,r.parseMMessage],[o.M_EMOTE,r.parseMMessage],[o.M_NOTICE,r.parseMMessage],[i.M_POLL_START,a.parseMPoll],[i.M_POLL_RESPONSE,a.parseMPoll],[i.M_POLL_END,a.parseMPoll]])),h(this,"_unknownInterpretOrder",[o.M_MESSAGE])}return c(F,[{key:"unknownInterpretOrder",get:function(){var p;return(p=this._unknownInterpretOrder)!==null&&p!==void 0?p:[]},set:function(p){this._unknownInterpretOrder=p}},{key:"registerInterpreter",value:function(p,f){this.interpreters.set(p,f)}},{key:"parse",value:function(p){try{if(this.interpreters.hasNamespaced(p.type))return this.interpreters.getNamespaced(p.type)(p);var f=l(this.unknownInterpretOrder),v;try{for(f.s();!(v=f.n()).done;){var y=v.value;if(this.interpreters.has(y)){var w=this.interpreters.get(y)(p);if(w)return w}}}catch(b){f.e(b)}finally{f.f()}return null}catch(b){if(b instanceof e.InvalidEventError)return null;throw b}}}],[{key:"defaultInstance",get:function(){return F._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return F.defaultInstance.unknownInterpretOrder},set:function(p){F.defaultInstance.unknownInterpretOrder=p}},{key:"registerInterpreter",value:function(p,f){F.defaultInstance.registerInterpreter(p,f)}},{key:"parse",value:function(p){return F.defaultInstance.parse(p)}}]),F}();return ud.ExtensibleEvents=_,h(_,"_defaultInstance",new _),ud}var E_={},o6;function tK(){return o6||(o6=1,Object.defineProperty(E_,"__esModule",{value:!0})),E_}var ds={},i6;function nK(){if(i6)return ds;i6=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.LegacyMsgType=void 0,ds.isEventLike=n;var t=vi(),e;ds.LegacyMsgType=e,function(r){r.Text="m.text",r.Notice="m.notice",r.Emote="m.emote"}(e||(ds.LegacyMsgType=e={}));function n(r,o){var i=r.content;return o===e.Text?t.M_MESSAGE.matches(r.type)||r.type==="m.room.message"&&(i==null?void 0:i.msgtype)==="m.text":o===e.Emote?t.M_EMOTE.matches(r.type)||r.type==="m.room.message"&&(i==null?void 0:i.msgtype)==="m.emote":o===e.Notice?t.M_NOTICE.matches(r.type)||r.type==="m.room.message"&&(i==null?void 0:i.msgtype)==="m.notice":!1}return ds}var a6;function xm(){return a6||(a6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=eK();Object.keys(e).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===e[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return e[b]}})});var n=tK();Object.keys(n).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===n[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return n[b]}})});var r=Tc();Object.keys(r).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===r[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return r[b]}})});var o=Ic();Object.keys(o).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===o[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return o[b]}})});var i=KR();Object.keys(i).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===i[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return i[b]}})});var a=HR();Object.keys(a).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===a[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return a[b]}})});var l=nK();Object.keys(l).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===l[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return l[b]}})});var u=yl();Object.keys(u).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===u[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return u[b]}})});var d=zR();Object.keys(d).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===d[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return d[b]}})});var s=WR();Object.keys(s).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===s[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return s[b]}})});var g=QR();Object.keys(g).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===g[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return g[b]}})});var c=L3();Object.keys(c).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===c[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return c[b]}})});var h=og();Object.keys(h).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===h[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return h[b]}})});var _=vi();Object.keys(_).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===_[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return _[b]}})});var F=bl();Object.keys(F).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===F[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return F[b]}})});var m=N3();Object.keys(m).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===m[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return m[b]}})});var p=M3();Object.keys(p).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===p[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return p[b]}})});var f=Rc();Object.keys(f).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===f[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return f[b]}})});var v=YR();Object.keys(v).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===v[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return v[b]}})});var y=JR();Object.keys(y).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===y[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return y[b]}})});var w=XR();Object.keys(w).forEach(function(b){b==="default"||b==="__esModule"||b in t&&t[b]===w[b]||Object.defineProperty(t,b,{enumerable:!0,get:function(){return w[b]}})})}(b_)),b_}var Qt={},hs={},s6;function El(){if(s6)return hs;s6=1;var t=ze.exports;Object.defineProperty(hs,"__esModule",{value:!0}),hs.TypedReEmitter=hs.ReEmitter=void 0;var e=t(Je());let n=class{constructor(i){this.target=i,(0,e.default)(this,"reEmitters",new Map)}reEmit(i,a){let l=this.reEmitters.get(i);l||(l=new Map,this.reEmitters.set(i,l));for(const u of a){const d=(...s)=>{u==="error"&&this.target.listenerCount("error")===0||this.target.emit(u,...s,i)};i.on(u,d),l.set(u,d)}}stopReEmitting(i,a){const l=this.reEmitters.get(i);if(l){for(const u of a)i.off(u,l.get(u)),l.delete(u);l.size===0&&this.reEmitters.delete(i)}}};hs.ReEmitter=n;class r extends n{constructor(i){super(i)}reEmit(i,a){super.reEmit(i,a)}stopReEmitting(i,a){super.stopReEmitting(i,a)}}return hs.TypedReEmitter=r,hs}var ea={},l6;function Oo(){if(l6)return ea;l6=1;var t=ze.exports;Object.defineProperty(ea,"__esModule",{value:!0}),ea.EventTimeline=ea.Direction=void 0;var e=t(Je()),n=lt(),r=Za(),o=et;let i;ea.Direction=i,function(l){l.Backward="b",l.Forward="f"}(i||(ea.Direction=i={}));class a{static setEventMetadata(u,d,s){var g,c,h,_;(g=u.sender)!==null&&g!==void 0&&(c=g.events)!==null&&c!==void 0&&c.member||(u.sender=d.getSentinelMember(u.getSender())),!((h=u.target)!==null&&h!==void 0&&(_=h.events)!==null&&_!==void 0&&_.member)&&u.getType()===o.EventType.RoomMember&&(u.target=d.getSentinelMember(u.getStateKey())),u.isState()&&s&&(u.forwardLooking=!1)}constructor(u){var d,s;this.eventTimelineSet=u,(0,e.default)(this,"roomId",void 0),(0,e.default)(this,"name",void 0),(0,e.default)(this,"events",[]),(0,e.default)(this,"baseIndex",0),(0,e.default)(this,"startState",void 0),(0,e.default)(this,"endState",void 0),(0,e.default)(this,"startToken",null),(0,e.default)(this,"endToken",null),(0,e.default)(this,"prevTimeline",null),(0,e.default)(this,"nextTimeline",null),(0,e.default)(this,"paginationRequests",{[i.Backward]:null,[i.Forward]:null}),this.roomId=(d=(s=u.room)===null||s===void 0?void 0:s.roomId)!==null&&d!==void 0?d:null,this.roomId&&(this.startState=new r.RoomState(this.roomId),this.endState=new r.RoomState(this.roomId)),this.paginationRequests={b:null,f:null},this.name=this.roomId+":"+new Date().toISOString()}initialiseState(u,{timelineWasEmpty:d}={}){var s,g;if(this.events.length>0)throw new Error("Cannot initialise state after events are added");(s=this.startState)===null||s===void 0||s.setStateEvents(u,{timelineWasEmpty:d}),(g=this.endState)===null||g===void 0||g.setStateEvents(u,{timelineWasEmpty:d})}forkLive(u){const d=this.getState(u),s=new a(this.eventTimelineSet);return s.startState=d==null?void 0:d.clone(),s.endState=d,this.endState=d==null?void 0:d.clone(),s}fork(u){const d=this.getState(u),s=new a(this.eventTimelineSet);return s.startState=d==null?void 0:d.clone(),s.endState=d==null?void 0:d.clone(),s}getRoomId(){return this.roomId}getFilter(){return this.eventTimelineSet.getFilter()}getTimelineSet(){return this.eventTimelineSet}getBaseIndex(){return this.baseIndex}getEvents(){return this.events}getState(u){if(u==a.BACKWARDS)return this.startState;if(u==a.FORWARDS)return this.endState;throw new Error("Invalid direction '"+u+"'")}getPaginationToken(u){return this.roomId?this.getState(u).paginationToken:u===i.Backward?this.startToken:this.endToken}setPaginationToken(u,d){this.roomId?this.getState(d).paginationToken=u:d===i.Backward?this.startToken=u:this.endToken=u}getNeighbouringTimeline(u){if(u==a.BACKWARDS)return this.prevTimeline;if(u==a.FORWARDS)return this.nextTimeline;throw new Error("Invalid direction '"+u+"'")}setNeighbouringTimeline(u,d){if(this.getNeighbouringTimeline(d))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+d+")");if(d==a.BACKWARDS)this.prevTimeline=u;else if(d==a.FORWARDS)this.nextTimeline=u;else throw new Error("Invalid direction '"+d+"'");this.setPaginationToken(null,d)}addEvent(u,d,s){let g=!!d,c;typeof d=="object"?{toStartOfTimeline:g,roomState:s,timelineWasEmpty:c}=d:d!==void 0&&n.logger.warn("Overload deprecated: `EventTimeline.addEvent(event, toStartOfTimeline, roomState?)` is deprecated in favor of the overload with `EventTimeline.addEvent(event, IAddEventOptions)`"),s||(s=g?this.startState:this.endState);const h=this.getTimelineSet();if(h.room&&(a.setEventMetadata(u,s,g),u.isState()&&h.room.getUnfilteredTimelineSet()===h)){var _;(_=s)===null||_===void 0||_.setStateEvents([u],{timelineWasEmpty:c}),(!u.sender||u.getType()===o.EventType.RoomMember&&!g)&&a.setEventMetadata(u,s,g)}let F;g?F=0:F=this.events.length,this.events.splice(F,0,u),g&&this.baseIndex++}removeEvent(u){for(let d=this.events.length-1;d>=0;d--){const s=this.events[d];if(s.getId()==u)return this.events.splice(d,1),d<this.baseIndex&&this.baseIndex--,s}return null}toString(){return this.name}}return ea.EventTimeline=a,(0,e.default)(a,"BACKWARDS",i.Backward),(0,e.default)(a,"FORWARDS",i.Forward),ea}var ta={},Pn={},Ol={},u6;function ZR(){if(u6)return Ol;u6=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.EventStatus=void 0;let t;return Ol.EventStatus=t,function(e){e.NOT_SENT="not_sent",e.ENCRYPTING="encrypting",e.SENDING="sending",e.QUEUED="queued",e.SENT="sent",e.CANCELLED="cancelled"}(t||(Ol.EventStatus=t={})),Ol}var ig={};Object.defineProperty(ig,"__esModule",{value:!0});ig.RoomSummary=void 0;class rK{constructor(e,n){this.roomId=e}}ig.RoomSummary=rK;var rn={},w_={exports:{}},D_={exports:{}},c6;function oK(){return c6||(c6=1,function(t){function e(n,r){if(n==null)return{};var o={},i=Object.keys(n),a,l;for(l=0;l<i.length;l++)a=i[l],!(r.indexOf(a)>=0)&&(o[a]=n[a]);return o}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(D_)),D_.exports}var d6;function iK(){return d6||(d6=1,function(t){var e=oK();function n(r,o){if(r==null)return{};var i=e(r,o),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(l=0;l<u.length;l++)a=u[l],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(w_)),w_.exports}var Di={},yd={},bd={},h6;function Cm(){if(h6)return bd;h6=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.UNREAD_THREAD_NOTIFICATIONS=void 0;var t=qn;const e=new t.ServerControlledNamespacedValue("unread_thread_notifications","org.matrix.msc3773.unread_thread_notifications");return bd.UNREAD_THREAD_NOTIFICATIONS=e,bd}var Ed={},f6;function aK(){if(f6)return Ed;f6=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.FilterComponent=void 0;var t=Mm();function e(r,o){if(o.endsWith("*")){const i=o.slice(0,-1);return r.slice(0,i.length)===i}else return r===o}class n{constructor(o,i){this.filterJson=o,this.userId=i}check(o){var i,a;const l=((i=o.getUnsigned())===null||i===void 0?void 0:i["m.relations"])||{},u=Object.keys(l),d=[];return this.userId&&l!==null&&l!==void 0&&(a=l[t.THREAD_RELATION_TYPE.name])!==null&&a!==void 0&&a.current_user_participated&&d.push(this.userId),this.checkFields(o.getRoomId(),o.getSender(),o.getType(),o.getContent()?o.getContent().url!==void 0:!1,u,d)}toJSON(){return{types:this.filterJson.types||null,not_types:this.filterJson.not_types||[],rooms:this.filterJson.rooms||null,not_rooms:this.filterJson.not_rooms||[],senders:this.filterJson.senders||null,not_senders:this.filterJson.not_senders||[],contains_url:this.filterJson.contains_url||null,[t.FILTER_RELATED_BY_SENDERS.name]:this.filterJson[t.FILTER_RELATED_BY_SENDERS.name]||[],[t.FILTER_RELATED_BY_REL_TYPES.name]:this.filterJson[t.FILTER_RELATED_BY_REL_TYPES.name]||[]}}checkFields(o,i,a,l,u,d){const s={rooms:function(_){return o===_},senders:function(_){return i===_},types:function(_){return e(a,_)}};for(const _ in s){const F=s[_],m="not_"+_,p=this.filterJson[m];if(p!=null&&p.some(F))return!1;const f=this.filterJson[_];if(f&&!f.some(F))return!1}const g=this.filterJson.contains_url;if(g!==void 0&&g!==l)return!1;const c=this.filterJson[t.FILTER_RELATED_BY_REL_TYPES.name];if(c!==void 0&&!this.arrayMatchesFilter(c,u))return!1;const h=this.filterJson[t.FILTER_RELATED_BY_SENDERS.name];return!(h!==void 0&&!this.arrayMatchesFilter(h,d))}arrayMatchesFilter(o,i){return i.length>0&&o.every(a=>i.includes(a))}filter(o){return o.filter(this.check,this)}limit(){return this.filterJson.limit!==void 0?this.filterJson.limit:10}}return Ed.FilterComponent=n,Ed}var g6;function Tm(){if(g6)return yd;g6=1;var t=ze.exports;Object.defineProperty(yd,"__esModule",{value:!0}),yd.Filter=void 0;var e=t(Je()),n=Cm(),r=aK();function o(u,d){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(u);d&&(g=g.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),s.push.apply(s,g)}return s}function i(u){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?o(Object(s),!0).forEach(function(g){(0,e.default)(u,g,s[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(s,g))})}return u}function a(u,d,s){const g=d.split(".");let c=u;for(let h=0;h<g.length-1;h++)c[g[h]]||(c[g[h]]={}),c=c[g[h]];c[g[g.length-1]]=s}class l{static fromJson(d,s,g){const c=new l(d,s);return c.setDefinition(g),c}constructor(d,s){this.userId=d,this.filterId=s,(0,e.default)(this,"definition",{}),(0,e.default)(this,"roomFilter",void 0),(0,e.default)(this,"roomTimelineFilter",void 0)}getFilterId(){return this.filterId}getDefinition(){return this.definition}setDefinition(d){this.definition=d;const s=d.room,g={};s&&(s.rooms&&(g.rooms=s.rooms),s.rooms&&(g.not_rooms=s.not_rooms)),this.roomFilter=new r.FilterComponent(g,this.userId),this.roomTimelineFilter=new r.FilterComponent((s==null?void 0:s.timeline)||{},this.userId)}getRoomTimelineFilterComponent(){return this.roomTimelineFilter}filterRoomTimeline(d){return this.roomFilter&&(d=this.roomFilter.filter(d)),this.roomTimelineFilter&&(d=this.roomTimelineFilter.filter(d)),d}setTimelineLimit(d){a(this.definition,"room.timeline.limit",d)}setUnreadThreadNotifications(d){var s,g,c;this.definition=i(i({},this.definition),{},{room:i(i({},(s=this.definition)===null||s===void 0?void 0:s.room),{},{timeline:i(i({},(g=this.definition)===null||g===void 0||(c=g.room)===null||c===void 0?void 0:c.timeline),{},{[n.UNREAD_THREAD_NOTIFICATIONS.name]:d})})})}setLazyLoadMembers(d){a(this.definition,"room.state.lazy_load_members",d)}setIncludeLeaveRooms(d){a(this.definition,"room.include_leave",d)}}return yd.Filter=l,(0,e.default)(l,"LAZY_LOADING_MESSAGES_FILTER",{lazy_load_members:!0}),yd}var wd={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.TweakName=Vt.RuleId=Vt.PushRuleKind=Vt.PushRuleActionName=Vt.DMMemberCountCondition=Vt.ConditionOperator=Vt.ConditionKind=void 0;Vt.isDmMemberCountCondition=lK;let Kv;Vt.PushRuleActionName=Kv;(function(t){t.DontNotify="dont_notify",t.Notify="notify",t.Coalesce="coalesce"})(Kv||(Vt.PushRuleActionName=Kv={}));let Hv;Vt.TweakName=Hv;(function(t){t.Highlight="highlight",t.Sound="sound"})(Hv||(Vt.TweakName=Hv={}));let zv;Vt.ConditionOperator=zv;(function(t){t.ExactEquals="==",t.LessThan="<",t.GreaterThan=">",t.GreaterThanOrEqual=">=",t.LessThanOrEqual="<="})(zv||(Vt.ConditionOperator=zv={}));const sK="2";Vt.DMMemberCountCondition=sK;function lK(t){return t==="==2"||t==="2"}let Wv;Vt.ConditionKind=Wv;(function(t){t.EventMatch="event_match",t.ContainsDisplayName="contains_display_name",t.RoomMemberCount="room_member_count",t.SenderNotificationPermission="sender_notification_permission",t.CallStarted="call_started",t.CallStartedPrefix="org.matrix.msc3914.call_started"})(Wv||(Vt.ConditionKind=Wv={}));let Yv;Vt.PushRuleKind=Yv;(function(t){t.Override="override",t.ContentSpecific="content",t.RoomSpecific="room",t.SenderSpecific="sender",t.Underride="underride"})(Yv||(Vt.PushRuleKind=Yv={}));let Jv;Vt.RuleId=Jv;(function(t){t.Master=".m.rule.master",t.ContainsDisplayName=".m.rule.contains_display_name",t.ContainsUserName=".m.rule.contains_user_name",t.AtRoomNotification=".m.rule.roomnotif",t.DM=".m.rule.room_one_to_one",t.EncryptedDM=".m.rule.encrypted_room_one_to_one",t.Message=".m.rule.message",t.EncryptedMessage=".m.rule.encrypted",t.InviteToSelf=".m.rule.invite_for_me",t.MemberEvent=".m.rule.member_event",t.IncomingCall=".m.rule.call",t.SuppressNotices=".m.rule.suppress_notices",t.Tombstone=".m.rule.tombstone"})(Jv||(Vt.RuleId=Jv={}));var p6;function U3(){if(p6)return wd;p6=1;var t=ze.exports;Object.defineProperty(wd,"__esModule",{value:!0}),wd.PushProcessor=void 0;var e=t(Je()),n=tt,r=lt(),o=Vt,i=et;function a(c,h){var _=Object.keys(c);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(c);h&&(F=F.filter(function(m){return Object.getOwnPropertyDescriptor(c,m).enumerable})),_.push.apply(_,F)}return _}function l(c){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?a(Object(_),!0).forEach(function(F){(0,e.default)(c,F,_[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(_)):a(Object(_)).forEach(function(F){Object.defineProperty(c,F,Object.getOwnPropertyDescriptor(_,F))})}return c}const u=[o.PushRuleKind.Override,o.PushRuleKind.ContentSpecific,o.PushRuleKind.RoomSpecific,o.PushRuleKind.SenderSpecific,o.PushRuleKind.Underride],d=[{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:o.ConditionKind.EventMatch,key:"type",pattern:"m.reaction"}],actions:[o.PushRuleActionName.DontNotify]},{rule_id:".org.matrix.msc3786.rule.room.server_acl",default:!0,enabled:!0,conditions:[{kind:o.ConditionKind.EventMatch,key:"type",pattern:i.EventType.RoomServerAcl},{kind:o.ConditionKind.EventMatch,key:"state_key",pattern:""}],actions:[]}],s=[{rule_id:".org.matrix.msc3914.rule.room.call",default:!0,enabled:!0,conditions:[{kind:o.ConditionKind.EventMatch,key:"type",pattern:"org.matrix.msc3401.call"},{kind:o.ConditionKind.CallStarted}],actions:[o.PushRuleActionName.Notify,{set_tweak:o.TweakName.Sound,value:"default"}]}];class g{constructor(h){this.client=h}static actionListToActionsObject(h){const _={notify:!1,tweaks:{}};for(const F of h)F===o.PushRuleActionName.Notify?_.notify=!0:typeof F=="object"&&(F.value===void 0&&(F.value=!0),_.tweaks[F.set_tweak]=F.value);return _}static rewriteDefaultRules(h){var _;let F=JSON.parse(JSON.stringify(h));F||(F={}),F.global||(F.global={}),F.global.override||(F.global.override=[]),F.global.override||(F.global.underride=[]);const m=F.global.override;for(const f of d){const v=m.find(y=>y.rule_id===f.rule_id);if(v)v.default=f.default,v.conditions=f.conditions,v.actions=f.actions;else{const y=f.rule_id;r.logger.warn(`Adding default global override for ${y}`),m.push(f)}}const p=(_=F.global.underride)!==null&&_!==void 0?_:[];for(const f of s){const v=p.find(y=>y.rule_id===f.rule_id);if(v)v.default=f.default,v.conditions=f.conditions,v.actions=f.actions;else{const y=f.rule_id;r.logger.warn(`Adding default global underride for ${y}`),p.push(f)}}return F}matchingRuleFromKindSet(h,_){for(const F of u){const m=_[F];if(m)for(const p of m){if(!p.enabled)continue;const f=this.templateRuleToRaw(F,p);if(f&&this.ruleMatchesEvent(f,h))return l(l({},p),{},{kind:F})}}return null}templateRuleToRaw(h,_){const F={rule_id:_.rule_id,actions:_.actions,conditions:[]};switch(h){case o.PushRuleKind.Underride:case o.PushRuleKind.Override:F.conditions=_.conditions;break;case o.PushRuleKind.RoomSpecific:if(!_.rule_id)return null;F.conditions.push({kind:o.ConditionKind.EventMatch,key:"room_id",value:_.rule_id});break;case o.PushRuleKind.SenderSpecific:if(!_.rule_id)return null;F.conditions.push({kind:o.ConditionKind.EventMatch,key:"user_id",value:_.rule_id});break;case o.PushRuleKind.ContentSpecific:if(!_.pattern)return null;F.conditions.push({kind:o.ConditionKind.EventMatch,key:"content.body",pattern:_.pattern});break}return F}eventFulfillsCondition(h,_){switch(h.kind){case o.ConditionKind.EventMatch:return this.eventFulfillsEventMatchCondition(h,_);case o.ConditionKind.ContainsDisplayName:return this.eventFulfillsDisplayNameCondition(h,_);case o.ConditionKind.RoomMemberCount:return this.eventFulfillsRoomMemberCountCondition(h,_);case o.ConditionKind.SenderNotificationPermission:return this.eventFulfillsSenderNotifPermCondition(h,_);case o.ConditionKind.CallStarted:case o.ConditionKind.CallStartedPrefix:return this.eventFulfillsCallStartedCondition(h,_)}return!1}eventFulfillsSenderNotifPermCondition(h,_){const F=h.key;if(!F)return!1;const m=this.client.getRoom(_.getRoomId());return m!=null&&m.currentState?m.currentState.mayTriggerNotifOfType(F,_.getSender()):!1}eventFulfillsRoomMemberCountCondition(h,_){if(!h.is)return!1;const F=this.client.getRoom(_.getRoomId());if(!F||!F.currentState||!F.currentState.members)return!1;const m=F.currentState.getJoinedMemberCount(),p=h.is.match(/^([=<>]*)(\d*)$/);if(!p)return!1;const f=p[1],v=parseInt(p[2]);if(isNaN(v))return!1;switch(f){case"":case"==":return m==v;case"<":return m<v;case">":return m>v;case"<=":return m<=v;case">=":return m>=v;default:return!1}}eventFulfillsDisplayNameCondition(h,_){var F;let m=_.getContent();if(_.isEncrypted()&&_.getClearContent()&&(m=_.getClearContent()),!m||!m.body||typeof m.body!="string")return!1;const p=this.client.getRoom(_.getRoomId()),f=p==null||(F=p.currentState)===null||F===void 0?void 0:F.getMember(this.client.credentials.userId);if(!f)return!1;const v=f.name,y=new RegExp("(^|\\W)"+(0,n.escapeRegExp)(v)+"(\\W|$)","i");return m.body.search(y)>-1}eventFulfillsEventMatchCondition(h,_){if(!h.key)return!1;const F=this.valueForDottedKey(h.key,_);if(typeof F!="string")return!1;if(h.value)return h.value===F;if(typeof h.pattern!="string")return!1;const m=h.key==="content.body"?this.createCachedRegex("(^|\\W)",h.pattern,"(\\W|$)"):this.createCachedRegex("^",h.pattern,"$");return!!F.match(m)}eventFulfillsCallStartedCondition(h,_){return["m.ring","m.prompt"].includes(_.getContent()["m.intent"])&&!("m.terminated"in _.getContent())&&(_.getPrevContent()["m.terminated"]!==_.getContent()["m.terminated"]||(0,n.deepCompare)(_.getPrevContent(),{}))}createCachedRegex(h,_,F){return g.cachedGlobToRegex[_]||(g.cachedGlobToRegex[_]=new RegExp(h+(0,n.globToRegexp)(_)+F,"i")),g.cachedGlobToRegex[_]}valueForDottedKey(h,_){const F=h.split(".");let m;const p=F[0];for(p==="content"?(m=_.getContent(),F.shift()):p==="type"?(m=_.getType(),F.shift()):m=_.event;F.length>0;){const f=F.shift();if((0,n.isNullOrUndefined)(m[f]))return null;m=m[f]}return m}matchingRuleForEventWithRulesets(h,_){return!_||h.getSender()===this.client.credentials.userId?null:this.matchingRuleFromKindSet(h,_.global)}pushActionsForEventAndRulesets(h,_){const F=this.matchingRuleForEventWithRulesets(h,_);if(!F)return{};const m=g.actionListToActionsObject(F.actions);return m.tweaks.highlight===void 0&&(m.tweaks.highlight=F.kind==o.PushRuleKind.ContentSpecific),m}ruleMatchesEvent(h,_){var F;return!((F=h.conditions)!==null&&F!==void 0&&F.some(m=>!this.eventFulfillsCondition(m,_)))}actionsForEvent(h){return this.pushActionsForEventAndRulesets(h,this.client.pushRules)}getPushRuleById(h){for(const F of["global"]){var _;if(((_=this.client.pushRules)===null||_===void 0?void 0:_[F])!==void 0){for(const m of u)if(this.client.pushRules[F][m]!==void 0){for(const p of this.client.pushRules[F][m])if(p.rule_id===h)return p}}}return null}}return wd.PushProcessor=g,(0,e.default)(g,"cachedGlobToRegex",{}),wd}var Cn={},uK=ze.exports;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.KeySignatureUploadError=Cn.InvalidStoreState=Cn.InvalidStoreError=Cn.InvalidCryptoStoreState=Cn.InvalidCryptoStoreError=void 0;var eA=uK(Je());let H0;Cn.InvalidStoreState=H0;(function(t){t[t.ToggledLazyLoading=0]="ToggledLazyLoading"})(H0||(Cn.InvalidStoreState=H0={}));class tA extends Error{constructor(e,n){const r=`Store is invalid because ${e}, please stop the client, delete all data and start the client again`;super(r),this.reason=e,this.value=n,this.name="InvalidStoreError"}}Cn.InvalidStoreError=tA;(0,eA.default)(tA,"TOGGLED_LAZY_LOADING",H0.ToggledLazyLoading);let z0;Cn.InvalidCryptoStoreState=z0;(function(t){t.TooNew="TOO_NEW"})(z0||(Cn.InvalidCryptoStoreState=z0={}));class nA extends Error{constructor(e){const n=`Crypto store is invalid because ${e}, please stop the client, delete all data and start the client again`;super(n),this.reason=e,this.name="InvalidCryptoStoreError"}}Cn.InvalidCryptoStoreError=nA;(0,eA.default)(nA,"TOO_NEW",z0.TooNew);class cK extends Error{constructor(e,n){super(e),this.value=n}}Cn.KeySignatureUploadError=cK;var Bo={},Dd={},Bl={},m6;function rA(){if(m6)return Bl;m6=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.Method=void 0;let t;return Bl.Method=t,function(e){e.Get="GET",e.Put="PUT",e.Post="POST",e.Delete="DELETE"}(t||(Bl.Method=t={})),Bl}var ki={},F6;function j3(){if(F6)return ki;F6=1;var t=ze.exports;Object.defineProperty(ki,"__esModule",{value:!0}),ki.MatrixError=ki.HTTPError=ki.ConnectionError=void 0;var e=t(Je());class n extends Error{constructor(a,l){super(a),this.httpStatus=l}}ki.HTTPError=n;class r extends n{constructor(a={},l,u,d){let s=a.error||"Unknown message";l&&(s=`[${l}] ${s}`),u&&(s=`${s} (${u})`),super(`MatrixError: ${s}`,l),this.httpStatus=l,this.url=u,this.event=d,(0,e.default)(this,"errcode",void 0),(0,e.default)(this,"data",void 0),this.errcode=a.errcode,this.name=a.errcode||"Unknown error code",this.data=a}}ki.MatrixError=r;class o extends Error{constructor(a,l){super(a+(l?`: ${l.message}`:""))}get name(){return"ConnectionError"}}return ki.ConnectionError=o,ki}var Pl={},_6;function oA(){if(_6)return Pl;_6=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.HttpApiEvent=void 0;let t;return Pl.HttpApiEvent=t,function(e){e.SessionLoggedOut="Session.logged_out",e.NoConsent="no_consent"}(t||(Pl.HttpApiEvent=t={})),Pl}var fs={},a1={};var v6;function dK(){if(v6)return a1;v6=1;var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,e=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,r=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;a1.format=a,a1.parse=l;function a(g){if(!g||typeof g!="object")throw new TypeError("argument obj is required");var c=g.parameters,h=g.type;if(!h||!i.test(h))throw new TypeError("invalid type");var _=h;if(c&&typeof c=="object")for(var F,m=Object.keys(c).sort(),p=0;p<m.length;p++){if(F=m[p],!n.test(F))throw new TypeError("invalid parameter name");_+="; "+F+"="+d(c[F])}return _}function l(g){if(!g)throw new TypeError("argument string is required");var c=typeof g=="object"?u(g):g;if(typeof c!="string")throw new TypeError("argument string is required to be a string");var h=c.indexOf(";"),_=h!==-1?c.substr(0,h).trim():c.trim();if(!i.test(_))throw new TypeError("invalid media type");var F=new s(_.toLowerCase());if(h!==-1){var m,p,f;for(t.lastIndex=h;p=t.exec(c);){if(p.index!==h)throw new TypeError("invalid parameter format");h+=p[0].length,m=p[1].toLowerCase(),f=p[2],f[0]==='"'&&(f=f.substr(1,f.length-2).replace(r,"$1")),F.parameters[m]=f}if(h!==c.length)throw new TypeError("invalid parameter format")}return F}function u(g){var c;if(typeof g.getHeader=="function"?c=g.getHeader("content-type"):typeof g.headers=="object"&&(c=g.headers&&g.headers["content-type"]),typeof c!="string")throw new TypeError("content-type header is missing from object");return c}function d(g){var c=String(g);if(n.test(c))return c;if(c.length>0&&!e.test(c))throw new TypeError("invalid parameter value");return'"'+c.replace(o,"\\$1")+'"'}function s(g){this.parameters=Object.create(null),this.type=g}return a1}var y6;function iA(){if(y6)return fs;y6=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.anySignal=i,fs.parseErrorResponse=a,fs.retryNetworkOperation=d,fs.timeoutSignal=o;var t=dK(),e=lt(),n=tt,r=j3();function o(s){const g=new AbortController;return setTimeout(()=>{g.abort()},s),g.signal}function i(s){const g=new AbortController;function c(){for(const _ of s)_.removeEventListener("abort",h)}function h(){g.abort(),c()}for(const _ of s){if(_.aborted){h();break}_.addEventListener("abort",h)}return{signal:g.signal,cleanup:c}}function a(s,g){var c,h;let _;try{_=u(s)}catch(F){return F}return((c=_)===null||c===void 0?void 0:c.type)==="application/json"&&g?new r.MatrixError(JSON.parse(g),s.status,l(s)?s.responseURL:s.url):((h=_)===null||h===void 0?void 0:h.type)==="text/plain"?new r.HTTPError(`Server returned ${s.status} error: ${g}`,s.status):new r.HTTPError(`Server returned ${s.status} error`,s.status)}function l(s){return"getResponseHeader"in s}function u(s){let g;if(l(s)?g=s.getResponseHeader("Content-Type"):g=s.headers.get("Content-Type"),!g)return null;try{return(0,t.parse)(g)}catch(c){throw new Error(`Error parsing Content-Type '${g}': ${c}`)}}async function d(s,g){let c=0,h=null;for(;c<s;)try{if(c>0){const _=1e3*Math.pow(2,c);e.logger.log(`network operation failed ${c} times, retrying in ${_}ms...`),await(0,n.sleep)(_)}return await g()}catch(_){if(_ instanceof r.ConnectionError)c+=1,h=_;else throw _}throw h}return fs}var b6;function hK(){if(b6)return Dd;b6=1;var t=ze.exports;Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.FetchHttpApi=void 0;var e=t(Je()),n=u(tt),r=rA(),o=j3(),i=oA(),a=iA();function l(s){if(typeof WeakMap!="function")return null;var g=new WeakMap,c=new WeakMap;return(l=function(h){return h?c:g})(s)}function u(s,g){if(!g&&s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var c=l(g);if(c&&c.has(s))return c.get(s);var h={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in s)if(F!=="default"&&Object.prototype.hasOwnProperty.call(s,F)){var m=_?Object.getOwnPropertyDescriptor(s,F):null;m&&(m.get||m.set)?Object.defineProperty(h,F,m):h[F]=s[F]}return h.default=s,c&&c.set(s,h),h}class d{constructor(g,c){var h;this.eventEmitter=g,this.opts=c,(0,e.default)(this,"abortController",new AbortController),n.checkObjectHasKeys(c,["baseUrl","prefix"]),c.onlyData=!!c.onlyData,c.useAuthorizationHeader=(h=c.useAuthorizationHeader)!==null&&h!==void 0?h:!0}abort(){this.abortController.abort(),this.abortController=new AbortController}fetch(g,c){return this.opts.fetchFn?this.opts.fetchFn(g,c):Pe.fetch(g,c)}setIdBaseUrl(g){this.opts.idBaseUrl=g}idServerRequest(g,c,h,_,F){if(!this.opts.idBaseUrl)throw new Error("No identity server base URL set");let m,p;g===r.Method.Get?m=h:p=h;const f=this.getUrl(c,m,_,this.opts.idBaseUrl),v={json:!0,headers:{}};return F&&(v.headers.Authorization=`Bearer ${F}`),this.requestOtherUrl(g,f,p,v)}authedRequest(g,c,h,_,F={}){h||(h={}),this.opts.accessToken&&(this.opts.useAuthorizationHeader?(F.headers||(F.headers={}),F.headers.Authorization||(F.headers.Authorization="Bearer "+this.opts.accessToken),h.access_token&&delete h.access_token):h.access_token||(h.access_token=this.opts.accessToken));const m=this.request(g,c,h,_,F);return m.catch(p=>{p.errcode=="M_UNKNOWN_TOKEN"&&!(F!=null&&F.inhibitLogoutEmit)?this.eventEmitter.emit(i.HttpApiEvent.SessionLoggedOut,p):p.errcode=="M_CONSENT_NOT_GIVEN"&&this.eventEmitter.emit(i.HttpApiEvent.NoConsent,p.message,p.data.consent_uri)}),m}request(g,c,h,_,F){const m=this.getUrl(c,h,F==null?void 0:F.prefix,F==null?void 0:F.baseUrl);return this.requestOtherUrl(g,m,_,F)}async requestOtherUrl(g,c,h,_={}){var F,m,p,f;const v=Object.assign({},_.headers||{}),y=(F=_.json)!==null&&F!==void 0?F:!0,w=y&&(h==null||(m=h.constructor)===null||m===void 0?void 0:m.name)===Object.name;y&&(w&&!v["Content-Type"]&&(v["Content-Type"]="application/json"),v.Accept||(v.Accept="application/json"));const b=(p=_.localTimeoutMs)!==null&&p!==void 0?p:this.opts.localTimeoutMs,S=(f=_.keepAlive)!==null&&f!==void 0?f:!1,x=[this.abortController.signal];b!==void 0&&x.push((0,a.timeoutSignal)(b)),_.abortSignal&&x.push(_.abortSignal);let N;w?N=JSON.stringify(h):N=h;const{signal:U,cleanup:q}=(0,a.anySignal)(x);let P;try{P=await this.fetch(c,{signal:U,method:g,body:N,headers:v,mode:"cors",redirect:"follow",referrer:"",referrerPolicy:"no-referrer",cache:"no-cache",credentials:"omit",keepalive:S})}catch(G){throw G.name==="AbortError"?G:new o.ConnectionError("fetch failed",G)}finally{q()}if(!P.ok)throw(0,a.parseErrorResponse)(P,await P.text());return this.opts.onlyData?y?P.json():P.text():P}getUrl(g,c,h,_){const F=new URL((_??this.opts.baseUrl)+(h??this.opts.prefix)+g);return c&&n.encodeParams(c,F.searchParams),F}}return Dd.FetchHttpApi=d,Dd}var Gr={},E6;function fK(){if(E6)return Gr;E6=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.MediaPrefix=Gr.IdentityPrefix=Gr.ClientPrefix=void 0;let t;Gr.ClientPrefix=t,function(r){r.R0="/_matrix/client/r0",r.V1="/_matrix/client/v1",r.V3="/_matrix/client/v3",r.Unstable="/_matrix/client/unstable"}(t||(Gr.ClientPrefix=t={}));let e;Gr.IdentityPrefix=e,function(r){r.V1="/_matrix/identity/api/v1",r.V2="/_matrix/identity/v2"}(e||(Gr.IdentityPrefix=e={}));let n;return Gr.MediaPrefix=n,function(r){r.R0="/_matrix/media/r0"}(n||(Gr.MediaPrefix=n={})),Gr}var kd={},w6;function gK(){if(w6)return kd;w6=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.clearTimeout=l,kd.setTimeout=a;var t=lt();const e=1e3;let n=0,r;const o=[],i=function(...g){};function a(g,c,...h){c=c||0,c<0&&(c=0);const _=Date.now()+c,F=n++,m={runAt:_,func:g,params:h,key:F},p=s(o,function(f){return f.runAt-_});return o.splice(p,0,m),u(),F}function l(g){if(o.length===0)return;let c;for(c=0;c<o.length;c++)if(o[c].key==g){o.splice(c,1);break}c===0&&u()}function u(){r&&Pe.clearTimeout(r);const g=o[0];if(!g)return;const c=Date.now(),h=Math.min(g.runAt-c,e);r=Pe.setTimeout(d,h)}function d(){const g=Date.now(),c=[];for(;;){const h=o[0];if(!h||h.runAt>g)break;const _=o.shift();i("runCallbacks: popping",_.key),c.push(_)}u();for(const h of c)try{h.func.apply(Pe,h.params)}catch(_){t.logger.error("Uncaught exception in callback function",_)}}function s(g,c){let h=0,_=g.length;for(;h<_;){const F=h+_>>1;c(g[F])>0?_=F:h=F+1}return h}return kd}(function(t){var e=ze.exports;Object.defineProperty(t,"__esModule",{value:!0});var n={MatrixHttpApi:!0};t.MatrixHttpApi=void 0;var r=e(Je()),o=hK(),i=fK();Object.keys(i).forEach(function(F){F==="default"||F==="__esModule"||Object.prototype.hasOwnProperty.call(n,F)||F in t&&t[F]===i[F]||Object.defineProperty(t,F,{enumerable:!0,get:function(){return i[F]}})});var a=h(tt),l=h(gK()),u=rA();Object.keys(u).forEach(function(F){F==="default"||F==="__esModule"||Object.prototype.hasOwnProperty.call(n,F)||F in t&&t[F]===u[F]||Object.defineProperty(t,F,{enumerable:!0,get:function(){return u[F]}})});var d=j3();Object.keys(d).forEach(function(F){F==="default"||F==="__esModule"||Object.prototype.hasOwnProperty.call(n,F)||F in t&&t[F]===d[F]||Object.defineProperty(t,F,{enumerable:!0,get:function(){return d[F]}})});var s=iA();Object.keys(s).forEach(function(F){F==="default"||F==="__esModule"||Object.prototype.hasOwnProperty.call(n,F)||F in t&&t[F]===s[F]||Object.defineProperty(t,F,{enumerable:!0,get:function(){return s[F]}})});var g=oA();Object.keys(g).forEach(function(F){F==="default"||F==="__esModule"||Object.prototype.hasOwnProperty.call(n,F)||F in t&&t[F]===g[F]||Object.defineProperty(t,F,{enumerable:!0,get:function(){return g[F]}})});function c(F){if(typeof WeakMap!="function")return null;var m=new WeakMap,p=new WeakMap;return(c=function(f){return f?p:m})(F)}function h(F,m){if(!m&&F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var p=c(m);if(p&&p.has(F))return p.get(F);var f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in F)if(y!=="default"&&Object.prototype.hasOwnProperty.call(F,y)){var w=v?Object.getOwnPropertyDescriptor(F,y):null;w&&(w.get||w.set)?Object.defineProperty(f,y,w):f[y]=F[y]}return f.default=F,p&&p.set(F,f),f}class _ extends o.FetchHttpApi{constructor(...m){super(...m),(0,r.default)(this,"uploads",[])}uploadContent(m,p={}){var f,v,y,w,b;const S=(f=p.includeFilename)!==null&&f!==void 0?f:!0,x=(v=p.abortController)!==null&&v!==void 0?v:new AbortController,N=(y=(w=p.type)!==null&&w!==void 0?w:m.type)!==null&&y!==void 0?y:"application/octet-stream",U=(b=p.name)!==null&&b!==void 0?b:m.name,q={loaded:0,total:0,abortController:x},P=a.defer();if(Pe.XMLHttpRequest){const G=new Pe.XMLHttpRequest,C=function(){G.abort(),P.reject(new Error("Timeout"))};let I=l.setTimeout(C,3e4);G.onreadystatechange=function(){switch(G.readyState){case Pe.XMLHttpRequest.DONE:l.clearTimeout(I);try{if(G.status===0)throw new DOMException(G.statusText,"AbortError");if(!G.responseText)throw new Error("No response body.");G.status>=400?P.reject((0,s.parseErrorResponse)(G,G.responseText)):P.resolve(JSON.parse(G.responseText))}catch(A){if(A.name==="AbortError"){P.reject(A);return}P.reject(new d.ConnectionError("request failed",A))}break}},G.upload.onprogress=A=>{var $;l.clearTimeout(I),q.loaded=A.loaded,q.total=A.total,I=l.setTimeout(C,3e4),($=p.progressHandler)===null||$===void 0||$.call(p,{loaded:A.loaded,total:A.total})};const M=this.getUrl("/upload",void 0,i.MediaPrefix.R0);S&&U&&M.searchParams.set("filename",encodeURIComponent(U)),!this.opts.useAuthorizationHeader&&this.opts.accessToken&&M.searchParams.set("access_token",encodeURIComponent(this.opts.accessToken)),G.open(u.Method.Post,M.href),this.opts.useAuthorizationHeader&&this.opts.accessToken&&G.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),G.setRequestHeader("Content-Type",N),G.send(m),x.signal.addEventListener("abort",()=>{G.abort()})}else{const G={};S&&U&&(G.filename=U);const C={"Content-Type":N};this.authedRequest(u.Method.Post,"/upload",G,m,{prefix:i.MediaPrefix.R0,headers:C,abortSignal:x.signal}).then(I=>this.opts.onlyData?I:I.json()).then(P.resolve,P.reject)}return q.promise=P.promise.finally(()=>{a.removeElement(this.uploads,G=>G===q)}),x.signal.addEventListener("abort",()=>{a.removeElement(this.uploads,G=>G===q),P.reject(new DOMException("Aborted","AbortError"))}),this.uploads.push(q),q.promise}cancelUpload(m){const p=this.uploads.find(f=>f.promise===m);return p?(p.abortController.abort(),!0):!1}getCurrentUploads(){return this.uploads}getContentUri(){return{base:this.opts.baseUrl,path:i.MediaPrefix.R0+"/upload",params:{access_token:this.opts.accessToken}}}}t.MatrixHttpApi=_})(Bo);var yr={},Pt={},Sd={},D6;function pK(){if(D6)return Sd;D6=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.M_TOPIC=void 0;var t=qn;const e=new t.UnstableValue("m.topic","org.matrix.msc3765.topic");return Sd.M_TOPIC=e,Sd}var mK=ze.exports;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.makeBeaconInfoContent=Pt.makeBeaconContent=Pt.getTextForLocationEvent=void 0;Pt.makeEmoteMessage=DK;Pt.makeHtmlEmote=bK;Pt.makeHtmlMessage=vK;Pt.makeHtmlNotice=yK;Pt.makeLocationContent=void 0;Pt.makeNotice=wK;Pt.makeTextMessage=EK;Pt.parseTopicContent=Pt.parseLocationEvent=Pt.parseBeaconInfoContent=Pt.parseBeaconContent=Pt.makeTopicContent=void 0;var FK=mK(Je()),$3=xm(),wl=et,aA=PR(),dn=MR(),sA=pK();function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){(0,FK.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vK(t,e){return{msgtype:wl.MsgType.Text,format:"org.matrix.custom.html",body:t,formatted_body:e}}function yK(t,e){return{msgtype:wl.MsgType.Notice,format:"org.matrix.custom.html",body:t,formatted_body:e}}function bK(t,e){return{msgtype:wl.MsgType.Emote,format:"org.matrix.custom.html",body:t,formatted_body:e}}function EK(t){return{msgtype:wl.MsgType.Text,body:t}}function wK(t){return{msgtype:wl.MsgType.Notice,body:t}}function DK(t){return{msgtype:wl.MsgType.Emote,body:t}}const lA=(t,e,n,r)=>{const o=`at ${new Date(n).toISOString()}`,i=e===dn.LocationAssetType.Self?"User":void 0,a=r?`"${r}"`:void 0;return[i,"Location",a,t,o].filter(Boolean).join(" ")};Pt.getTextForLocationEvent=lA;const uA=(t,e,n,r,o)=>{const i=t??lA(e,o||dn.LocationAssetType.Self,n,r),a=n?{[dn.M_TIMESTAMP.name]:n}:{};return _K({msgtype:wl.MsgType.Location,body:i,geo_uri:e,[dn.M_LOCATION.name]:{description:r,uri:e},[dn.M_ASSET.name]:{type:o||dn.LocationAssetType.Self},[aA.TEXT_NODE_TYPE.name]:i},a)};Pt.makeLocationContent=uA;const kK=t=>{var e,n;const r=dn.M_LOCATION.findIn(t),o=dn.M_ASSET.findIn(t),i=dn.M_TIMESTAMP.findIn(t),a=aA.TEXT_NODE_TYPE.findIn(t),l=(e=r==null?void 0:r.uri)!==null&&e!==void 0?e:t==null?void 0:t.geo_uri,u=r==null?void 0:r.description,d=(n=o==null?void 0:o.type)!==null&&n!==void 0?n:dn.LocationAssetType.Self,s=a??t.body;return uA(s,l,i??void 0,u,d)};Pt.parseLocationEvent=kK;const SK=(t,e)=>{const n=[{body:t,mimetype:"text/plain"}];return(0,$3.isProvided)(e)&&n.push({body:e,mimetype:"text/html"}),{topic:t,[sA.M_TOPIC.name]:n}};Pt.makeTopicContent=SK;const xK=t=>{var e,n,r;const o=sA.M_TOPIC.findIn(t),i=(e=o==null||(n=o.find(l=>!(0,$3.isProvided)(l.mimetype)||l.mimetype==="text/plain"))===null||n===void 0?void 0:n.body)!==null&&e!==void 0?e:t.topic,a=o==null||(r=o.find(l=>l.mimetype==="text/html"))===null||r===void 0?void 0:r.body;return{text:i,html:a}};Pt.parseTopicContent=xK;const CK=(t,e,n,r,o)=>({description:n,timeout:t,live:e,[dn.M_TIMESTAMP.name]:o||Date.now(),[dn.M_ASSET.name]:{type:r??dn.LocationAssetType.Self}});Pt.makeBeaconInfoContent=CK;const TK=t=>{var e;const{description:n,timeout:r,live:o}=t,i=(e=dn.M_TIMESTAMP.findIn(t))!==null&&e!==void 0?e:void 0,a=dn.M_ASSET.findIn(t);return{description:n,timeout:r,live:o,assetType:a==null?void 0:a.type,timestamp:i}};Pt.parseBeaconInfoContent=TK;const IK=(t,e,n,r)=>({[dn.M_LOCATION.name]:{description:r,uri:t},[dn.M_TIMESTAMP.name]:e,"m.relates_to":{rel_type:$3.REFERENCE_RELATION.name,event_id:n}});Pt.makeBeaconContent=IK;const RK=t=>{var e;const n=dn.M_LOCATION.findIn(t),r=(e=dn.M_TIMESTAMP.findIn(t))!==null&&e!==void 0?e:void 0;return{description:n==null?void 0:n.description,uri:n==null?void 0:n.uri,timestamp:r}};Pt.parseBeaconContent=RK;var AK=ze.exports;Object.defineProperty(yr,"__esModule",{value:!0});yr.isTimestampInDuration=yr.getBeaconInfoIdentifier=yr.BeaconEvent=yr.Beacon=void 0;var Ml=AK(Je()),k_=Pt,OK=tt,BK=un();let va;yr.BeaconEvent=va;(function(t){t.New="Beacon.new",t.Update="Beacon.update",t.LivenessChange="Beacon.LivenessChange",t.Destroy="Beacon.Destroy",t.LocationUpdate="Beacon.LocationUpdate"})(va||(yr.BeaconEvent=va={}));const Xv=(t,e,n)=>n>=t&&t+e>=n;yr.isTimestampInDuration=Xv;const Qv=t=>`${t.getRoomId()}_${t.getStateKey()}`;yr.getBeaconInfoIdentifier=Qv;class PK extends BK.TypedEventEmitter{constructor(e){super(),this.rootEvent=e,(0,Ml.default)(this,"roomId",void 0),(0,Ml.default)(this,"_beaconInfo",void 0),(0,Ml.default)(this,"_isLive",void 0),(0,Ml.default)(this,"livenessWatchTimeout",void 0),(0,Ml.default)(this,"_latestLocationEvent",void 0),(0,Ml.default)(this,"clearLatestLocation",()=>{this._latestLocationEvent=void 0,this.emit(va.LocationUpdate,this.latestLocationState)}),this.setBeaconInfo(this.rootEvent),this.roomId=this.rootEvent.getRoomId()}get isLive(){return!!this._isLive}get identifier(){return Qv(this.rootEvent)}get beaconInfoId(){return this.rootEvent.getId()}get beaconInfoOwner(){return this.rootEvent.getStateKey()}get beaconInfoEventType(){return this.rootEvent.getType()}get beaconInfo(){return this._beaconInfo}get latestLocationState(){return this._latestLocationEvent&&(0,k_.parseBeaconContent)(this._latestLocationEvent.getContent())}get latestLocationEvent(){return this._latestLocationEvent}update(e){if(Qv(e)!==this.identifier)throw new Error("Invalid updating event");e.getTs()<this.rootEvent.getTs()||(this.rootEvent=e,this.setBeaconInfo(this.rootEvent),this.emit(va.Update,e,this),this.clearLatestLocation())}destroy(){this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this._isLive=!1,this.emit(va.Destroy,this.identifier)}monitorLiveness(){if(this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this.checkLiveness(),!!this.beaconInfo)if(this.isLive){const e=this.beaconInfo.timestamp+this.beaconInfo.timeout-Date.now();e>1&&(this.livenessWatchTimeout=setTimeout(()=>{this.monitorLiveness()},e))}else this.beaconInfo.timestamp>Date.now()&&(this.livenessWatchTimeout=setTimeout(()=>{this.monitorLiveness()},this.beaconInfo.timestamp-Date.now()))}addLocations(e){var n;if(!this.isLive)return;const o=(n=e.filter(i=>{const a=i.getContent(),l=(0,k_.parseBeaconContent)(a);if(!l.uri||!l.timestamp)return!1;const{timestamp:u}=l;return this._beaconInfo.timestamp&&Xv(this._beaconInfo.timestamp,this._beaconInfo.timeout,u)&&(!this.latestLocationState||u>this.latestLocationState.timestamp)}).sort(OK.sortEventsByLatestContentTimestamp))===null||n===void 0?void 0:n[0];o&&(this._latestLocationEvent=o,this.emit(va.LocationUpdate,this.latestLocationState))}setBeaconInfo(e){this._beaconInfo=(0,k_.parseBeaconInfoContent)(e.getContent()),this.checkLiveness()}checkLiveness(){var e,n;const r=this.isLive;if(!this.beaconInfo)return;const o=this.beaconInfo.timestamp>Date.now()?this.beaconInfo.timestamp-36e4:this.beaconInfo.timestamp;this._isLive=!!((e=this._beaconInfo)!==null&&e!==void 0&&e.live)&&!!o&&Xv(o,(n=this._beaconInfo)===null||n===void 0?void 0:n.timeout,Date.now()),r!==this.isLive&&this.emit(va.LivenessChange,this.isLive,this)}}yr.Beacon=PK;var $o={},S6;function q3(){if(S6)return $o;S6=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.ServerSupport=$o.Feature=void 0,$o.buildFeatureSupportMap=r;let t;$o.ServerSupport=t,function(o){o[o.Stable=0]="Stable",o[o.Unstable=1]="Unstable",o[o.Unsupported=2]="Unsupported"}(t||($o.ServerSupport=t={}));let e;$o.Feature=e,function(o){o.Thread="Thread",o.ThreadUnreadNotifications="ThreadUnreadNotifications",o.LoginTokenRequest="LoginTokenRequest"}(e||($o.Feature=e={}));const n={[e.Thread]:{unstablePrefixes:["org.matrix.msc3440"],matrixVersion:"v1.3"},[e.ThreadUnreadNotifications]:{unstablePrefixes:["org.matrix.msc3771","org.matrix.msc3773"],matrixVersion:"v1.4"},[e.LoginTokenRequest]:{unstablePrefixes:["org.matrix.msc3882"]}};async function r(o){const i=new Map;for(const[s,g]of Object.entries(n)){var a,l,u,d;const c=(a=(l=o.versions)===null||l===void 0?void 0:l.includes(g.matrixVersion||""))!==null&&a!==void 0?a:!1,h=(u=(d=g.unstablePrefixes)===null||d===void 0?void 0:d.every(_=>{var F;return((F=o.unstable_features)===null||F===void 0?void 0:F[_])===!0}))!==null&&u!==void 0?u:!1;c?i.set(s,t.Stable):h?i.set(s,t.Unstable):i.set(s,t.Unsupported)}return i}return $o}var x6;function Im(){if(x6)return Di;x6=1;var t=ze.exports;Object.defineProperty(Di,"__esModule",{value:!0}),Di.SyncState=Di.SyncApi=void 0,Di._createAndReEmitRoom=G;var e=t(Je()),n=so,r=Ji(),o=v(tt),i=Tm(),a=Oo(),l=U3(),u=lt(),d=Cn,s=Mo(),g=Bo,c=et,h=Za(),_=lo,F=yr,m=Cm(),p=q3();function f(C){if(typeof WeakMap!="function")return null;var I=new WeakMap,M=new WeakMap;return(f=function(A){return A?M:I})(C)}function v(C,I){if(!I&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var M=f(I);if(M&&M.has(C))return M.get(C);var A={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in C)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(C,Y)){var T=$?Object.getOwnPropertyDescriptor(C,Y):null;T&&(T.get||T.set)?Object.defineProperty(A,Y,T):A[Y]=C[Y]}return A.default=C,M&&M.set(C,A),A}const y=80*1e3,w=3;let b;Di.SyncState=b,function(C){C.Error="ERROR",C.Prepared="PREPARED",C.Stopped="STOPPED",C.Syncing="SYNCING",C.Catchup="CATCHUP",C.Reconnecting="RECONNECTING"}(b||(Di.SyncState=b={}));const S=["org.matrix.msc2716v3"];function x(C,I){return`FILTER_SYNC_${C}`+(I?"_"+I:"")}function N(...C){u.logger.log(...C)}var U;(function(C){C.Offline="offline",C.Online="online",C.Unavailable="unavailable"})(U||(U={}));class q{constructor(I,M={}){var A;this.client=I,this.opts=M,(0,e.default)(this,"_peekRoom",null),(0,e.default)(this,"currentSyncRequest",void 0),(0,e.default)(this,"abortController",void 0),(0,e.default)(this,"syncState",null),(0,e.default)(this,"syncStateData",void 0),(0,e.default)(this,"catchingUp",!1),(0,e.default)(this,"running",!1),(0,e.default)(this,"keepAliveTimer",void 0),(0,e.default)(this,"connectionReturnedDefer",void 0),(0,e.default)(this,"notifEvents",[]),(0,e.default)(this,"failedSyncCount",0),(0,e.default)(this,"storeIsInvalid",!1),(0,e.default)(this,"getPushRules",async()=>{try{N("Getting push rules...");const $=await this.client.getPushRules();N("Got push rules"),this.client.pushRules=$}catch($){return u.logger.error("Getting push rules failed",$),this.shouldAbortSync($)?void 0:(N("Waiting for saved sync before retrying push rules..."),await this.recoverFromSyncStartupError(this.savedSyncPromise,$),this.getPushRules())}}),(0,e.default)(this,"buildDefaultFilter",()=>{const $=new i.Filter(this.client.credentials.userId);return this.client.canSupport.get(p.Feature.ThreadUnreadNotifications)!==p.ServerSupport.Unsupported&&$.setUnreadThreadNotifications(!0),$}),(0,e.default)(this,"checkLazyLoadStatus",async()=>{if(N("Checking lazy load status..."),this.opts.lazyLoadMembers&&this.client.isGuest()&&(this.opts.lazyLoadMembers=!1),this.opts.lazyLoadMembers&&(N("Checking server lazy load support..."),await this.client.doesServerSupportLazyLoading()?(N("Enabling lazy load on sync filter..."),this.opts.filter||(this.opts.filter=this.buildDefaultFilter()),this.opts.filter.setLazyLoadMembers(!0)):(N("LL: lazy loading requested but not supported by server, so disabling"),this.opts.lazyLoadMembers=!1)),N("Checking whether lazy loading has changed in store..."),await this.wasLazyLoadingToggled(this.opts.lazyLoadMembers)){this.storeIsInvalid=!0;const T=new d.InvalidStoreError(d.InvalidStoreState.ToggledLazyLoading,!!this.opts.lazyLoadMembers);this.updateSyncState(b.Error,{error:T}),u.logger.warn("InvalidStoreError: store is not usable: stopping sync.");return}if(this.opts.lazyLoadMembers){var Y;(Y=this.opts.crypto)===null||Y===void 0||Y.enableLazyLoading()}try{N("Storing client options..."),await this.client.storeClientOptions(),N("Stored client options")}catch(T){throw u.logger.error("Storing client options failed",T),T}}),(0,e.default)(this,"getFilter",async()=>{N("Getting filter...");let $;this.opts.filter?$=this.opts.filter:$=this.buildDefaultFilter();let Y;try{Y=await this.client.getOrCreateFilter(x(this.client.credentials.userId),$)}catch(T){return u.logger.error("Getting filter failed",T),this.shouldAbortSync(T)?{}:(N("Waiting for saved sync before retrying filter..."),await this.recoverFromSyncStartupError(this.savedSyncPromise,T),this.getFilter())}return{filter:$,filterId:Y}}),(0,e.default)(this,"savedSyncPromise",void 0),(0,e.default)(this,"onOnline",()=>{N("Browser thinks we are back online"),this.startKeepAlives(0)}),this.opts.initialSyncLimit=(A=this.opts.initialSyncLimit)!==null&&A!==void 0?A:8,this.opts.resolveInvitesToProfiles=this.opts.resolveInvitesToProfiles||!1,this.opts.pollTimeout=this.opts.pollTimeout||30*1e3,this.opts.pendingEventOrdering=this.opts.pendingEventOrdering||s.PendingEventOrdering.Chronological,this.opts.experimentalThreadSupport=this.opts.experimentalThreadSupport===!0,M.canResetEntireTimeline||(M.canResetEntireTimeline=$=>!1),I.getNotifTimelineSet()&&I.reEmitter.reEmit(I.getNotifTimelineSet(),[r.RoomEvent.Timeline,r.RoomEvent.TimelineReset])}createRoom(I){const M=G(this.client,I,this.opts);return M.on(h.RoomStateEvent.Marker,(A,$)=>{this.onMarkerStateEvent(M,A,$)}),M}onMarkerStateEvent(I,M,{timelineWasEmpty:A}={}){if(A){u.logger.debug(`MarkerState: Ignoring markerEventId=${M.getId()} in roomId=${I.roomId} because the timeline was empty before the marker arrived which means there is nothing to refresh.`);return}S.includes(I.getVersion())||M.getSender()===I.getCreator()?(u.logger.debug(`MarkerState: Timeline needs to be refreshed because a new markerEventId=${M.getId()} was sent in roomId=${I.roomId}`),I.setTimelineNeedsRefresh(!0),I.emit(r.RoomEvent.HistoryImportedWithinTimeline,M,I)):u.logger.debug(`MarkerState: Ignoring markerEventId=${M.getId()} in roomId=${I.roomId} because MSC2716 is not supported in the room version or for any room version, the marker wasn't sent by the room creator.`)}async syncLeftRooms(){var I;const M=this.client,A=new i.Filter(this.client.credentials.userId);A.setTimelineLimit(1),A.setIncludeLeaveRooms(!0);const $=this.opts.pollTimeout+y,T={timeout:0,filter:await M.getOrCreateFilter(x(M.credentials.userId,"LEFT_ROOMS"),A)},D=await M.http.authedRequest(g.Method.Get,"/sync",T,void 0,{localTimeoutMs:$});let R=[];return(I=D.rooms)!==null&&I!==void 0&&I.leave&&(R=this.mapSyncResponseToRoomArray(D.rooms.leave)),(await Promise.all(R.map(async H=>{const Q=H.room;if(!H.isBrandNewRoom)return;H.timeline=H.timeline||{prev_batch:null,events:[]};const L=this.mapSyncEventsFormat(H.timeline,Q),le=this.mapSyncEventsFormat(H.state,Q);return Q.getLiveTimeline().setPaginationToken(H.timeline.prev_batch,a.EventTimeline.BACKWARDS),await this.injectRoomEvents(Q,le,L),Q.recalculate(),M.store.storeRoom(Q),M.emit(s.ClientEvent.Room,Q),this.processEventsForNotifs(Q,L),Q}))).filter(Boolean)}peek(I){var M;if(((M=this._peekRoom)===null||M===void 0?void 0:M.roomId)===I)return Promise.resolve(this._peekRoom);const A=this.client;return this._peekRoom=this.createRoom(I),this.client.roomInitialSync(I,20).then($=>{$.messages=$.messages||{chunk:[]},$.messages.chunk=$.messages.chunk||[],$.state=$.state||[];const Y=o.deepCopy($.state).map(A.getEventMapper()),T=$.state.map(A.getEventMapper()),D=$.messages.chunk.map(A.getEventMapper());return Array.isArray($.presence)&&$.presence.map(A.getEventMapper()).forEach(function(R){let B=A.store.getUser(R.getContent().user_id);B?B.setPresenceEvent(R):(B=P(A,R.getContent().user_id),B.setPresenceEvent(R),A.store.storeUser(B)),A.emit(s.ClientEvent.Event,R)}),$.messages.start&&(this._peekRoom.oldState.paginationToken=$.messages.start),this._peekRoom.oldState.setStateEvents(Y),this._peekRoom.currentState.setStateEvents(T),this.resolveInvites(this._peekRoom),this._peekRoom.recalculate(),this._peekRoom.addEventsToTimeline(D.reverse(),!0,this._peekRoom.getLiveTimeline(),$.messages.start),A.store.storeRoom(this._peekRoom),A.emit(s.ClientEvent.Room,this._peekRoom),this.peekPoll(this._peekRoom),this._peekRoom})}stopPeeking(){this._peekRoom=null}peekPoll(I,M){var A;if(this._peekRoom!==I){N("Stopped peeking in room %s",I.roomId);return}this.client.http.authedRequest(g.Method.Get,"/events",{room_id:I.roomId,timeout:String(30*1e3),from:M},void 0,{localTimeoutMs:50*1e3,abortSignal:(A=this.abortController)===null||A===void 0?void 0:A.signal}).then($=>{if(this._peekRoom!==I){N("Stopped peeking in room %s",I.roomId);return}$.chunk.filter(function(T){return T.type==="m.presence"}).map(this.client.getEventMapper()).forEach(T=>{let D=this.client.store.getUser(T.getContent().user_id);D?D.setPresenceEvent(T):(D=P(this.client,T.getContent().user_id),D.setPresenceEvent(T),this.client.store.storeUser(D)),this.client.emit(s.ClientEvent.Event,T)});const Y=$.chunk.filter(function(T){return T.room_id===I.roomId&&T.event_id}).map(this.client.getEventMapper());I.addLiveEvents(Y),this.peekPoll(I,$.end)},$=>{u.logger.error("[%s] Peek poll failed: %s",I.roomId,$),setTimeout(()=>{this.peekPoll(I,M)},30*1e3)})}getSyncState(){return this.syncState}getSyncStateData(){var I;return(I=this.syncStateData)!==null&&I!==void 0?I:null}async recoverFromSyncStartupError(I,M){await I;const A=this.startKeepAlives();this.updateSyncState(b.Error,{error:M}),await A}async wasLazyLoadingToggled(I=!1){let M=!1;if(!await this.client.store.isNewlyCreated()){const $=await this.client.store.getClientOptions();return $&&(M=!!$.lazyLoadMembers),M!==I}return!1}shouldAbortSync(I){return I.errcode==="M_UNKNOWN_TOKEN"?(u.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(b.Error,{error:I}),!0):!1}async sync(){var I,M;if(this.running=!0,this.abortController=new AbortController,(I=Pe.window)===null||I===void 0||(M=I.addEventListener)===null||M===void 0||M.call(I,"online",this.onOnline,!1),this.client.isGuest())return this.doSync({});N("Getting saved sync token...");const A=this.client.store.getSavedSyncToken().then(T=>(N("Got saved sync token"),T));this.savedSyncPromise=this.client.store.getSavedSync().then(T=>{if(N(`Got reply from saved sync, exists? ${!!T}`),T)return this.syncFromCache(T)}).catch(T=>{u.logger.error("Getting saved sync failed",T)}),await this.getPushRules(),await this.checkLazyLoadStatus();const{filterId:$,filter:Y}=await this.getFilter();if(Y){if(this.client.resetNotifTimelineSet(),!this.currentSyncRequest){let T=$;const D=await A;if(D)N("Sending first sync request...");else{N("Sending initial sync request...");const R=this.buildDefaultFilter();R.setDefinition(Y.getDefinition()),R.setTimelineLimit(this.opts.initialSyncLimit),T=JSON.stringify(R.getDefinition())}this.currentSyncRequest=this.doSyncRequest({filter:T},D)}return N("Waiting for saved sync before starting sync processing..."),await this.savedSyncPromise,this.doSync({filter:$})}}stop(){var I,M,A;N("SyncApi.stop"),(I=Pe.window)===null||I===void 0||(M=I.removeEventListener)===null||M===void 0||M.call(I,"online",this.onOnline,!1),this.running=!1,(A=this.abortController)===null||A===void 0||A.abort(),this.keepAliveTimer&&(clearTimeout(this.keepAliveTimer),this.keepAliveTimer=void 0)}retryImmediately(){return this.connectionReturnedDefer?(this.startKeepAlives(0),!0):!1}async syncFromCache(I){N("sync(): not doing HTTP hit, instead returning stored /sync data");const M=I.nextBatch;this.client.store.setSyncToken(M);const A={nextSyncToken:M,catchingUp:!1,fromCache:!0},$={next_batch:M,rooms:I.roomsData,account_data:{events:I.accountData}};try{await this.processSyncResponse(A,$)}catch(Y){u.logger.error("Error processing cached sync",Y)}this.storeIsInvalid||this.updateSyncState(b.Prepared,A)}async doSync(I){for(;this.running;){const M=this.client.store.getSyncToken();let A;try{this.currentSyncRequest||(this.currentSyncRequest=this.doSyncRequest(I,M)),A=await this.currentSyncRequest}catch(Y){if(await this.onSyncError(Y))return;continue}finally{this.currentSyncRequest=void 0}this.client.store.setSyncToken(A.next_batch),this.failedSyncCount=0,await this.client.store.setSyncData(A);const $={oldSyncToken:M??void 0,nextSyncToken:A.next_batch,catchingUp:this.catchingUp};this.opts.crypto&&await this.opts.crypto.onSyncWillProcess($);try{await this.processSyncResponse($,A)}catch(Y){u.logger.error("Caught /sync error",Y),this.client.emit(s.ClientEvent.SyncUnexpectedError,Y)}$.catchingUp=this.catchingUp,I.hasSyncedBefore||(this.updateSyncState(b.Prepared,$),I.hasSyncedBefore=!0),this.opts.crypto&&await this.opts.crypto.onSyncCompleted($),this.updateSyncState(b.Syncing,$),this.client.store.wantsSave()&&(this.opts.crypto&&await this.opts.crypto.saveDeviceList(0),this.client.store.save())}this.running||(N("Sync no longer running: exiting."),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=void 0),this.updateSyncState(b.Stopped))}doSyncRequest(I,M){var A;const $=this.getSyncParams(I,M);return this.client.http.authedRequest(g.Method.Get,"/sync",$,void 0,{localTimeoutMs:$.timeout+y,abortSignal:(A=this.abortController)===null||A===void 0?void 0:A.signal})}getSyncParams(I,M){let A=this.opts.pollTimeout;(this.getSyncState()!==b.Syncing||this.catchingUp)&&(this.catchingUp=!0,A=0);let $=I.filter;this.client.isGuest()&&!$&&($=this.getGuestFilter());const Y={filter:$,timeout:A};return this.opts.disablePresence&&(Y.set_presence=U.Offline),M?Y.since=M:Y._cacheBuster=Date.now(),[b.Reconnecting,b.Error].includes(this.getSyncState())&&(Y.timeout=0),Y}async onSyncError(I){if(!this.running)return N("Sync no longer running: exiting"),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=void 0),this.updateSyncState(b.Stopped),!0;if(u.logger.error("/sync error %s",I),this.shouldAbortSync(I))return!0;this.failedSyncCount++,u.logger.log("Number of consecutive failed sync requests:",this.failedSyncCount),N("Starting keep-alive");const M=this.startKeepAlives();return this.currentSyncRequest=void 0,this.updateSyncState(this.failedSyncCount>=w?b.Error:b.Reconnecting,{error:I}),await M&&this.getSyncState()===b.Error&&this.updateSyncState(b.Catchup,{catchingUp:!0}),!1}async processSyncResponse(I,M){var A,$,Y;const T=this.client;if(Array.isArray((A=M.presence)===null||A===void 0?void 0:A.events)&&M.presence.events.map(T.getEventMapper()).forEach(function(H){let Q=T.store.getUser(H.getSender());Q?Q.setPresenceEvent(H):(Q=P(T,H.getSender()),Q.setPresenceEvent(H),T.store.storeUser(Q)),T.emit(s.ClientEvent.Event,H)}),Array.isArray(($=M.account_data)===null||$===void 0?void 0:$.events)){const H=M.account_data.events.map(T.getEventMapper()),Q=H.reduce((L,le)=>(L[le.getType()]=T.store.getAccountData(le.getType()),L),{});T.store.storeAccountDataEvents(H),H.forEach(function(L){if(L.getType()===c.EventType.PushRules){const he=L.getContent();T.pushRules=l.PushProcessor.rewriteDefaultRules(he)}const le=Q[L.getType()];return T.emit(s.ClientEvent.AccountData,L,le),L})}if(Array.isArray((Y=M.to_device)===null||Y===void 0?void 0:Y.events)&&M.to_device.events.length>0){const H=[];M.to_device.events.filter(Q=>{var L;return Q.type===c.EventType.RoomMessageEncrypted&&!["m.olm.v1.curve25519-aes-sha2"].includes((L=Q.content)===null||L===void 0?void 0:L.algorithm)?(u.logger.log("Ignoring invalid encrypted to-device event from "+Q.sender),!1):!0}).map(T.getEventMapper({toDevice:!0})).map(Q=>{if(Q.getType()==="m.key.verification.cancel"){const L=Q.getContent().transaction_id;L&&H.push(L)}return Q}).forEach(function(Q){const L=Q.getContent();if(Q.getType()=="m.room.message"&&L.msgtype=="m.bad.encrypted"){u.logger.log("Ignoring undecryptable to-device event from "+Q.getSender());return}if(Q.getType()==="m.key.verification.start"||Q.getType()==="m.key.verification.request"){const le=L.transaction_id;H.includes(le)&&Q.flagCancelled()}T.emit(s.ClientEvent.ToDeviceEvent,Q)})}else this.catchingUp=!1;let D=[],R=[],B=[];if(M.rooms&&(M.rooms.invite&&(D=this.mapSyncResponseToRoomArray(M.rooms.invite)),M.rooms.join&&(R=this.mapSyncResponseToRoomArray(M.rooms.join)),M.rooms.leave&&(B=this.mapSyncResponseToRoomArray(M.rooms.leave))),this.notifEvents=[],await o.promiseMapSeries(D,async H=>{var Q;const L=H.room,le=this.mapSyncEventsFormat(H.invite_state,L);await this.injectRoomEvents(L,le);const he=(Q=L.currentState.getStateEvents(c.EventType.RoomMember,T.getUserId()))===null||Q===void 0?void 0:Q.getSender();if(T.isCryptoEnabled()){const De=await T.crypto.cryptoStore.takeParkedSharedHistory(L.roomId);for(const ke of De)ke.senderId===he&&await T.crypto.olmDevice.addInboundGroupSession(L.roomId,ke.senderKey,ke.forwardingCurve25519KeyChain,ke.sessionId,ke.sessionKey,ke.keysClaimed,!0,{sharedHistory:!0,untrusted:!0})}H.isBrandNewRoom?(L.recalculate(),T.store.storeRoom(L),T.emit(s.ClientEvent.Room,L)):L.recalculate(),le.forEach(function(De){T.emit(s.ClientEvent.Event,De)})}),await o.promiseMapSeries(R,async H=>{var Q;const L=H.room,le=this.mapSyncEventsFormat(H.state,L),he=this.mapSyncEventsFormat(H.timeline,L,!1),De=this.mapSyncEventsFormat(H.ephemeral),ke=this.mapSyncEventsFormat(H.account_data),W=T.isRoomEncrypted(L.roomId);if(H.unread_notifications){var z;if(L.setUnreadNotificationCount(r.NotificationCountType.Total,(z=H.unread_notifications.notification_count)!==null&&z!==void 0?z:0),!W||L.getUnreadNotificationCount(r.NotificationCountType.Highlight)<=0){var oe;L.setUnreadNotificationCount(r.NotificationCountType.Highlight,(oe=H.unread_notifications.highlight_count)!==null&&oe!==void 0?oe:0)}}const ce=(Q=H[m.UNREAD_THREAD_NOTIFICATIONS.name])!==null&&Q!==void 0?Q:H[m.UNREAD_THREAD_NOTIFICATIONS.altName];if(ce){L.resetThreadUnreadNotificationCount(Object.keys(ce));for(const[Ue,de]of Object.entries(ce)){var _e;L.setThreadUnreadNotificationCount(Ue,r.NotificationCountType.Total,(_e=de.notification_count)!==null&&_e!==void 0?_e:0);const fe=L.getThreadUnreadNotificationCount(Ue,r.NotificationCountType.Highlight)<=0;if(!W||W&&fe){var we;L.setThreadUnreadNotificationCount(Ue,r.NotificationCountType.Highlight,(we=de.highlight_count)!==null&&we!==void 0?we:0)}}}else L.resetThreadUnreadNotificationCount();if(H.timeline=H.timeline||{},H.isBrandNewRoom)H.timeline.prev_batch!==null&&L.getLiveTimeline().setPaginationToken(H.timeline.prev_batch,a.EventTimeline.BACKWARDS);else if(H.timeline.limited){let Ue=!0;for(let de=he.length-1;de>=0;de--){const fe=he[de].getId();if(L.getTimelineForEvent(fe)){N(`Already have event ${fe} in limited sync - not resetting`),Ue=!1,he.splice(0,de);break}}if(Ue){var Oe;L.resetLiveTimeline(H.timeline.prev_batch,this.opts.canResetEntireTimeline(L.roomId)?null:(Oe=I.oldSyncToken)!==null&&Oe!==void 0?Oe:null),T.resetNotifTimelineSet()}}try{await this.injectRoomEvents(L,le,he,I.fromCache)}catch(Ue){u.logger.error(`Failed to process events on room ${L.roomId}:`,Ue)}H.summary&&L.setSummary(H.summary),L.addEphemeralEvents(De),L.addAccountData(ke),L.recalculate(),H.isBrandNewRoom&&(T.store.storeRoom(L),T.emit(s.ClientEvent.Room,L)),this.processEventsForNotifs(L,he);const Le=async Ue=>{T.emit(s.ClientEvent.Event,Ue),Ue.isState()&&Ue.getType()=="m.room.encryption"&&this.opts.crypto&&await this.opts.crypto.onCryptoEvent(Ue)};await o.promiseMapSeries(le,Le),await o.promiseMapSeries(he,Le),De.forEach(function(Ue){T.emit(s.ClientEvent.Event,Ue)}),ke.forEach(function(Ue){T.emit(s.ClientEvent.Event,Ue)}),L.decryptCriticalEvents()}),await o.promiseMapSeries(B,async H=>{const Q=H.room,L=this.mapSyncEventsFormat(H.state,Q),le=this.mapSyncEventsFormat(H.timeline,Q),he=this.mapSyncEventsFormat(H.account_data);await this.injectRoomEvents(Q,L,le),Q.addAccountData(he),Q.recalculate(),H.isBrandNewRoom&&(T.store.storeRoom(Q),T.emit(s.ClientEvent.Room,Q)),this.processEventsForNotifs(Q,le),L.forEach(function(De){T.emit(s.ClientEvent.Event,De)}),le.forEach(function(De){T.emit(s.ClientEvent.Event,De)}),he.forEach(function(De){T.emit(s.ClientEvent.Event,De)})}),I.oldSyncToken&&this.notifEvents.length&&(this.notifEvents.sort(function(H,Q){return H.getTs()-Q.getTs()}),this.notifEvents.forEach(function(H){var Q;(Q=T.getNotifTimelineSet())===null||Q===void 0||Q.addLiveEvent(H)})),M.device_lists&&this.opts.crypto&&await this.opts.crypto.handleDeviceListChanges(I,M.device_lists),this.opts.crypto&&M.device_one_time_keys_count){const H=M.device_one_time_keys_count.signed_curve25519||0;this.opts.crypto.updateOneTimeKeyCount(H)}if(this.opts.crypto&&(M.device_unused_fallback_key_types||M["org.matrix.msc2732.device_unused_fallback_key_types"])){const H=M.device_unused_fallback_key_types||M["org.matrix.msc2732.device_unused_fallback_key_types"];this.opts.crypto.setNeedsNewFallback(Array.isArray(H)&&!H.includes("signed_curve25519"))}}startKeepAlives(I){return I===void 0&&(I=2e3+Math.floor(Math.random()*5e3)),this.keepAliveTimer!==null&&clearTimeout(this.keepAliveTimer),I>0?this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this),I):this.pokeKeepAlive(),this.connectionReturnedDefer||(this.connectionReturnedDefer=o.defer()),this.connectionReturnedDefer.promise}pokeKeepAlive(I=!1){var M;const A=()=>{clearTimeout(this.keepAliveTimer),this.connectionReturnedDefer&&(this.connectionReturnedDefer.resolve(I),this.connectionReturnedDefer=void 0)};this.client.http.request(g.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15*1e3,abortSignal:(M=this.abortController)===null||M===void 0?void 0:M.signal}).then(()=>{A()},$=>{$.httpStatus==400||$.httpStatus==404?this.keepAliveTimer=setTimeout(A,2e3):(I=!0,this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this,I),5e3+Math.floor(Math.random()*5e3)),this.updateSyncState(b.Error,{error:$}))})}mapSyncResponseToRoomArray(I){const M=this.client;return Object.keys(I).map(A=>{const $=I[A];let Y=M.store.getRoom(A),T=!1;return Y||(Y=this.createRoom(A),T=!0),$.room=Y,$.isBrandNewRoom=T,$})}mapSyncEventsFormat(I,M,A=!0){if(!I||!Array.isArray(I.events))return[];const $=this.client.getEventMapper({decrypt:A});return I.events.map(function(Y){return M&&(Y.room_id=M.roomId),$(Y)})}resolveInvites(I){if(!I||!this.opts.resolveInvitesToProfiles)return;const M=this.client;I.getMembersWithMembership("invite").forEach(function(A){if(A.requestedProfileInfo)return;A.requestedProfileInfo=!0;const $=M.getUser(A.userId);let Y;$?Y=Promise.resolve({avatar_url:$.avatarUrl,displayname:$.displayName}):Y=M.getProfileInfo(A.userId),Y.then(function(T){const D=A.events.member;(D==null?void 0:D.getContent().membership)==="invite"&&(D.getContent().avatar_url=T.avatar_url,D.getContent().displayname=T.displayname,A.setMembershipEvent(D,I.currentState))},function(T){})})}async injectRoomEvents(I,M,A,$=!1){const Y=I.getLiveTimeline(),T=Y.getEvents().length==0;if(T){for(const D of M)this.client.getPushActionsForEvent(D);Y.initialiseState(M,{timelineWasEmpty:T})}this.resolveInvites(I),I.recalculate(),T||(I.oldState.setStateEvents(M||[]),I.currentState.setStateEvents(M||[])),I.addLiveEvents(A||[],{fromCache:$,timelineWasEmpty:T}),this.client.processBeaconEvents(I,A)}processEventsForNotifs(I,M){if(this.client.getNotifTimelineSet())for(const $ of M){var A;const Y=this.client.getPushActionsForEvent($);Y!=null&&Y.notify&&(A=Y.tweaks)!==null&&A!==void 0&&A.highlight&&this.notifEvents.push($)}}getGuestFilter(){return"{}"}updateSyncState(I,M){const A=this.syncState;this.syncState=I,this.syncStateData=M,this.client.emit(s.ClientEvent.Sync,this.syncState,A,M)}}Di.SyncApi=q;function P(C,I){const M=new n.User(I);return C.reEmitter.reEmit(M,[n.UserEvent.AvatarUrl,n.UserEvent.DisplayName,n.UserEvent.Presence,n.UserEvent.CurrentlyActive,n.UserEvent.LastPresenceTs]),M}function G(C,I,M){const{timelineSupport:A}=C,$=new r.Room(I,C,C.getUserId(),{lazyLoadMembers:M.lazyLoadMembers,pendingEventOrdering:M.pendingEventOrdering,timelineSupport:A});return C.reEmitter.reEmit($,[r.RoomEvent.Name,r.RoomEvent.Redaction,r.RoomEvent.RedactionCancelled,r.RoomEvent.Receipt,r.RoomEvent.Tags,r.RoomEvent.LocalEchoUpdated,r.RoomEvent.AccountData,r.RoomEvent.MyMembership,r.RoomEvent.Timeline,r.RoomEvent.TimelineReset,h.RoomStateEvent.Events,h.RoomStateEvent.Members,h.RoomStateEvent.NewMember,h.RoomStateEvent.Update,F.BeaconEvent.New,F.BeaconEvent.Update,F.BeaconEvent.Destroy,F.BeaconEvent.LivenessChange]),$.on(h.RoomStateEvent.NewMember,(Y,T,D)=>{var R;D.user=(R=C.getUser(D.userId))!==null&&R!==void 0?R:void 0,C.reEmitter.reEmit(D,[_.RoomMemberEvent.Name,_.RoomMemberEvent.Typing,_.RoomMemberEvent.PowerLevel,_.RoomMemberEvent.Membership])}),$}return Di}var xd={},C6;function MK(){if(C6)return xd;C6=1;var t=ze.exports;Object.defineProperty(xd,"__esModule",{value:!0}),xd.StubStore=void 0;var e=t(Je());class n{constructor(){(0,e.default)(this,"accountData",{}),(0,e.default)(this,"fromToken",null)}isNewlyCreated(){return Promise.resolve(!0)}getSyncToken(){return this.fromToken}setSyncToken(o){this.fromToken=o}storeRoom(o){}getRoom(o){return null}getRooms(){return[]}removeRoom(o){}getRoomSummaries(){return[]}storeUser(o){}getUser(o){return null}getUsers(){return[]}scrollback(o,i){return[]}storeEvents(o,i,a,l){}storeFilter(o){}getFilter(o,i){return null}getFilterIdByName(o){return null}setFilterIdByName(o,i){}storeAccountDataEvents(o){}getAccountData(o){}setSyncData(o){return Promise.resolve()}wantsSave(){return!1}save(){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return Promise.resolve()}getOutOfBandMembers(){return Promise.resolve(null)}setOutOfBandMembers(o,i){return Promise.resolve()}clearOutOfBandMembers(){return Promise.resolve()}getClientOptions(){return Promise.resolve(void 0)}storeClientOptions(o){return Promise.resolve()}async getPendingEvents(o){return[]}setPendingEvents(o,i){return Promise.resolve()}async saveToDeviceBatches(o){return Promise.resolve()}getOldestToDeviceBatch(){return Promise.resolve(null)}async removeToDeviceBatch(o){return Promise.resolve()}}return xd.StubStore=n,xd}var Ct={},qo={},S_={},x_={exports:{}},T6;function cA(){if(T6)return x_.exports;T6=1;var t=x_.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=e.raddr!=null?" raddr %s rport %d":"%v%v",n+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(n+=" generation %d"),n+=e["network-id"]!=null?" network-id %d":"%v",n+=e["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var n="ssrc:%d";return e.attribute!=null&&(n+=" %s",e.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var n="mediaclk:";return n+=e.id!=null?"id=%s %s":"%v%s",n+=e.mediaClockValue!=null?"=%s":"",n+=e.rateNumerator!=null?" rate=%s":"",n+=e.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(t).forEach(function(e){var n=t[e];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),x_.exports}var I6;function NK(){return I6||(I6=1,function(t){var e=function(l){return String(Number(l))===l?Number(l):l},n=function(l,u,d,s){if(s&&!d)u[s]=e(l[1]);else for(var g=0;g<d.length;g+=1)l[g+1]!=null&&(u[d[g]]=e(l[g+1]))},r=function(l,u,d){var s=l.name&&l.names;l.push&&!u[l.push]?u[l.push]=[]:s&&!u[l.name]&&(u[l.name]={});var g=l.push?{}:s?u[l.name]:u;n(d.match(l.reg),g,l.names,l.name),l.push&&u[l.push].push(g)},o=cA(),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(l){var u={},d=[],s=u;return l.split(/(\r\n|\r|\n)/).filter(i).forEach(function(g){var c=g[0],h=g.slice(2);c==="m"&&(d.push({rtp:[],fmtp:[]}),s=d[d.length-1]);for(var _=0;_<(o[c]||[]).length;_+=1){var F=o[c][_];if(F.reg.test(h))return r(F,s,h)}}),u.media=d,u};var a=function(l,u){var d=u.split(/=(.+)/,2);return d.length===2?l[d[0]]=e(d[1]):d.length===1&&u.length>1&&(l[d[0]]=void 0),l};t.parseParams=function(l){return l.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(l){return l.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(l){for(var u=[],d=l.split(" ").map(e),s=0;s<d.length;s+=3)u.push({component:d[s],ip:d[s+1],port:d[s+2]});return u},t.parseImageAttributes=function(l){return l.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(a,{})})},t.parseSimulcastStreamList=function(l){return l.split(";").map(function(u){return u.split(",").map(function(d){var s,g=!1;return d[0]!=="~"?s=e(d):(s=e(d.substring(1,d.length)),g=!0),{scid:s,paused:g}})})}}(S_)),S_}var C_,R6;function LK(){if(R6)return C_;R6=1;var t=cA(),e=/%[sdv%]/g,n=function(a){var l=1,u=arguments,d=u.length;return a.replace(e,function(s){if(l>=d)return s;var g=u[l];switch(l+=1,s){case"%%":return"%";case"%s":return String(g);case"%d":return Number(g);case"%v":return""}})},r=function(a,l,u){var d=l.format instanceof Function?l.format(l.push?u:u[l.name]):l.format,s=[a+"="+d];if(l.names)for(var g=0;g<l.names.length;g+=1){var c=l.names[g];l.name?s.push(u[l.name][c]):s.push(u[l.names[g]])}else s.push(u[l.name]);return n.apply(null,s)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],i=["i","c","b","a"];return C_=function(a,l){l=l||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(g){g.payloads==null&&(g.payloads="")});var u=l.outerOrder||o,d=l.innerOrder||i,s=[];return u.forEach(function(g){t[g].forEach(function(c){c.name in a&&a[c.name]!=null?s.push(r(g,c,a)):c.push in a&&a[c.push]!=null&&a[c.push].forEach(function(h){s.push(r(g,c,h))})})}),a.media.forEach(function(g){s.push(r("m",t.m[0],g)),d.forEach(function(c){t[c].forEach(function(h){h.name in g&&g[h.name]!=null?s.push(r(c,h,g)):h.push in g&&g[h.push]!=null&&g[h.push].forEach(function(_){s.push(r(c,h,_))})})})}),s.join(`\r
`)+`\r
`},C_}var A6;function UK(){if(A6)return qo;A6=1;var t=NK(),e=LK();return qo.write=e,qo.parse=t.parse,qo.parseParams=t.parseParams,qo.parseFmtpConfig=t.parseFmtpConfig,qo.parsePayloads=t.parsePayloads,qo.parseRemoteCandidates=t.parseRemoteCandidates,qo.parseImageAttributes=t.parseImageAttributes,qo.parseSimulcastStreamList=t.parseSimulcastStreamList,qo}var Nl={},O6;function ag(){if(O6)return Nl;O6=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.randomLowercaseString=o,Nl.randomString=r,Nl.randomUppercaseString=i;const t="abcdefghijklmnopqrstuvwxyz",e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789";function r(l){return a(l,e+t+n)}function o(l){return a(l,t)}function i(l){return a(l,e)}function a(l,u){let d="";for(let s=0;s<l;++s)d+=u.charAt(Math.floor(Math.random()*u.length));return d}return Nl}var na={},B6;function V3(){if(B6)return na;B6=1,Object.defineProperty(na,"__esModule",{value:!0}),na.SDPStreamMetadataPurpose=na.SDPStreamMetadataKey=void 0;const t="org.matrix.msc3077.sdp_stream_metadata";na.SDPStreamMetadataKey=t;let e;return na.SDPStreamMetadataPurpose=e,function(n){n.Usermedia="m.usermedia",n.Screenshare="m.screenshare"}(e||(na.SDPStreamMetadataPurpose=e={})),na}var Vo={},gs={},P6;function jK(){if(P6)return gs;P6=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.releaseContext=gs.acquireContext=void 0;let t=null,e=0;const n=()=>(t===null&&(t=new AudioContext),e++,t);gs.acquireContext=n;const r=()=>{if(e--,e===0){var o;(o=t)===null||o===void 0||o.close(),t=null}};return gs.releaseContext=r,gs}var M6;function dA(){if(M6)return Vo;M6=1;var t=ze.exports;Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.SPEAKING_THRESHOLD=Vo.CallFeedEvent=Vo.CallFeed=void 0;var e=t(Je()),n=V3(),r=jK(),o=lt(),i=un();const a=200,l=-60;Vo.SPEAKING_THRESHOLD=l;const u=8;let d;Vo.CallFeedEvent=d,function(g){g.NewStream="new_stream",g.MuteStateChanged="mute_state_changed",g.LocalVolumeChanged="local_volume_changed",g.VolumeChanged="volume_changed",g.Speaking="speaking",g.Disposed="disposed"}(d||(Vo.CallFeedEvent=d={}));class s extends i.TypedEventEmitter{constructor(c){super(),(0,e.default)(this,"stream",void 0),(0,e.default)(this,"sdpMetadataStreamId",void 0),(0,e.default)(this,"userId",void 0),(0,e.default)(this,"deviceId",void 0),(0,e.default)(this,"purpose",void 0),(0,e.default)(this,"speakingVolumeSamples",void 0),(0,e.default)(this,"client",void 0),(0,e.default)(this,"roomId",void 0),(0,e.default)(this,"audioMuted",void 0),(0,e.default)(this,"videoMuted",void 0),(0,e.default)(this,"localVolume",1),(0,e.default)(this,"measuringVolumeActivity",!1),(0,e.default)(this,"audioContext",void 0),(0,e.default)(this,"analyser",void 0),(0,e.default)(this,"frequencyBinCount",void 0),(0,e.default)(this,"speakingThreshold",l),(0,e.default)(this,"speaking",!1),(0,e.default)(this,"volumeLooperTimeout",void 0),(0,e.default)(this,"_disposed",!1),(0,e.default)(this,"onAddTrack",()=>{this.emit(d.NewStream,this.stream)}),(0,e.default)(this,"volumeLooper",()=>{if(!this.analyser||!this.measuringVolumeActivity)return;this.analyser.getFloatFrequencyData(this.frequencyBinCount);let h=-1/0;for(const F of this.frequencyBinCount)F>h&&(h=F);this.speakingVolumeSamples.shift(),this.speakingVolumeSamples.push(h),this.emit(d.VolumeChanged,h);let _=!1;for(const F of this.speakingVolumeSamples)if(F>this.speakingThreshold){_=!0;break}this.speaking!==_&&(this.speaking=_,this.emit(d.Speaking,this.speaking)),this.volumeLooperTimeout=setTimeout(this.volumeLooper,a)}),this.client=c.client,this.roomId=c.roomId,this.userId=c.userId,this.deviceId=c.deviceId,this.purpose=c.purpose,this.audioMuted=c.audioMuted,this.videoMuted=c.videoMuted,this.speakingVolumeSamples=new Array(u).fill(-1/0),this.sdpMetadataStreamId=c.stream.id,this.updateStream(null,c.stream),this.stream=c.stream,this.hasAudioTrack&&this.initVolumeMeasuring()}get hasAudioTrack(){return this.stream.getAudioTracks().length>0}updateStream(c,h){h!==c&&(c&&(c.removeEventListener("addtrack",this.onAddTrack),this.measureVolumeActivity(!1)),this.stream=h,h.addEventListener("addtrack",this.onAddTrack),this.hasAudioTrack?this.initVolumeMeasuring():this.measureVolumeActivity(!1),this.emit(d.NewStream,this.stream))}initVolumeMeasuring(){if(!this.hasAudioTrack)return;this.audioContext||(this.audioContext=(0,r.acquireContext)()),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.1,this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser),this.frequencyBinCount=new Float32Array(this.analyser.frequencyBinCount)}getMember(){var c;const h=this.client.getRoom(this.roomId);return(c=h==null?void 0:h.getMember(this.userId))!==null&&c!==void 0?c:null}isLocal(){return this.userId===this.client.getUserId()&&(this.deviceId===void 0||this.deviceId===this.client.getDeviceId())}isAudioMuted(){return this.stream.getAudioTracks().length===0||this.audioMuted}isVideoMuted(){return this.stream.getVideoTracks().length===0||this.videoMuted}isSpeaking(){return this.speaking}setNewStream(c){this.updateStream(this.stream,c)}setAudioVideoMuted(c,h){c!==null&&(this.audioMuted!==c&&this.speakingVolumeSamples.fill(-1/0),this.audioMuted=c),h!==null&&(this.videoMuted=h),this.emit(d.MuteStateChanged,this.audioMuted,this.videoMuted)}measureVolumeActivity(c){if(c){if(!this.analyser||!this.frequencyBinCount||!this.hasAudioTrack)return;this.measuringVolumeActivity=!0,this.volumeLooper()}else this.measuringVolumeActivity=!1,this.speakingVolumeSamples.fill(-1/0),this.emit(d.VolumeChanged,-1/0)}setSpeakingThreshold(c){this.speakingThreshold=c}clone(){const c=this.client.getMediaHandler(),h=this.stream.clone();return o.logger.log(`callFeed cloning stream ${this.stream.id} newStream ${h.id}`),this.purpose===n.SDPStreamMetadataPurpose.Usermedia?c.userMediaStreams.push(h):c.screensharingStreams.push(h),new s({client:this.client,roomId:this.roomId,userId:this.userId,deviceId:this.deviceId,stream:h,purpose:this.purpose,audioMuted:this.audioMuted,videoMuted:this.videoMuted})}dispose(){var c;clearTimeout(this.volumeLooperTimeout),(c=this.stream)===null||c===void 0||c.removeEventListener("addtrack",this.onAddTrack),this.audioContext&&(this.audioContext=void 0,this.analyser=void 0,(0,r.releaseContext)()),this._disposed=!0,this.emit(d.Disposed)}get disposed(){return this._disposed}set disposed(c){this._disposed=c}getLocalVolume(){return this.localVolume}setLocalVolume(c){this.localVolume=c,this.emit(d.LocalVolumeChanged,c)}}return Vo.CallFeed=s,Vo}var Cd={},N6;function sg(){if(N6)return Cd;N6=1;var t=ze.exports;Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.DeviceInfo=void 0;var e=t(Je()),n;(function(o){o[o.Blocked=-1]="Blocked",o[o.Unverified=0]="Unverified",o[o.Verified=1]="Verified"})(n||(n={}));class r{static fromStorage(i,a){const l=new r(a);for(const u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);return l}constructor(i){this.deviceId=i,(0,e.default)(this,"algorithms",[]),(0,e.default)(this,"keys",{}),(0,e.default)(this,"verified",n.Unverified),(0,e.default)(this,"known",!1),(0,e.default)(this,"unsigned",{}),(0,e.default)(this,"signatures",{})}toStorage(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}}getFingerprint(){return this.keys["ed25519:"+this.deviceId]}getIdentityKey(){return this.keys["curve25519:"+this.deviceId]}getDisplayName(){return this.unsigned.device_display_name||null}isBlocked(){return this.verified==n.Blocked}isVerified(){return this.verified==n.Verified}isUnverified(){return this.verified==n.Unverified}isKnown(){return this.known===!0}}return Cd.DeviceInfo=r,(0,e.default)(r,"DeviceVerification",{VERIFIED:n.Verified,UNVERIFIED:n.Unverified,BLOCKED:n.Blocked}),Cd}var Tt={},ra={},L6;function hA(){if(L6)return ra;L6=1;var t=ze.exports;Object.defineProperty(ra,"__esModule",{value:!0}),ra.CallEventHandlerEvent=ra.CallEventHandler=void 0;var e=t(Je()),n=lt(),r=Rm(),o=et,i=Mo(),a=Ac(),l=Ji();const u=3e3;let d;ra.CallEventHandlerEvent=d,function(g){g.Incoming="Call.incoming"}(d||(ra.CallEventHandlerEvent=d={}));class s{constructor(c){(0,e.default)(this,"calls",void 0),(0,e.default)(this,"callEventBuffer",void 0),(0,e.default)(this,"nextSeqByCall",new Map),(0,e.default)(this,"toDeviceEventBuffers",new Map),(0,e.default)(this,"client",void 0),(0,e.default)(this,"candidateEventsByCall",void 0),(0,e.default)(this,"eventBufferPromiseChain",void 0),(0,e.default)(this,"onSync",()=>{const h=this.callEventBuffer;this.callEventBuffer=[],this.eventBufferPromiseChain?this.eventBufferPromiseChain=this.eventBufferPromiseChain.then(()=>this.evaluateEventBuffer(h)):this.eventBufferPromiseChain=this.evaluateEventBuffer(h)}),(0,e.default)(this,"onRoomTimeline",h=>{this.callEventBuffer.push(h)}),(0,e.default)(this,"onToDeviceEvent",h=>{const _=h.getContent();if(!_.call_id){this.callEventBuffer.push(h);return}if(this.nextSeqByCall.has(_.call_id)||this.nextSeqByCall.set(_.call_id,0),_.seq===void 0){this.callEventBuffer.push(h);return}const F=this.nextSeqByCall.get(_.call_id)||0;if(_.seq!==F){this.toDeviceEventBuffers.has(_.call_id)||this.toDeviceEventBuffers.set(_.call_id,[]);const m=this.toDeviceEventBuffers.get(_.call_id),p=m.findIndex(f=>f.getContent().seq>_.seq);p===-1?m.push(h):m.splice(p,0,h)}else{const m=_.call_id;this.callEventBuffer.push(h),this.nextSeqByCall.set(m,_.seq+1);const p=this.toDeviceEventBuffers.get(m);let f=p&&p.shift();for(;f&&f.getContent().seq===this.nextSeqByCall.get(m);)this.callEventBuffer.push(f),this.nextSeqByCall.set(m,f.getContent().seq+1),f=p.shift()}}),this.client=c,this.calls=new Map,this.callEventBuffer=[],this.candidateEventsByCall=new Map}start(){this.client.on(i.ClientEvent.Sync,this.onSync),this.client.on(l.RoomEvent.Timeline,this.onRoomTimeline),this.client.on(i.ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}stop(){this.client.removeListener(i.ClientEvent.Sync,this.onSync),this.client.removeListener(l.RoomEvent.Timeline,this.onRoomTimeline),this.client.removeListener(i.ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}async evaluateEventBuffer(c){await Promise.all(c.map(F=>this.client.decryptEventIfNeeded(F)));const h=c.filter(F=>{const m=F.getType();return m.startsWith("m.call.")||m.startsWith("org.matrix.call.")}),_=new Set;for(const F of h){const m=F.getType();(m===o.EventType.CallAnswer||m===o.EventType.CallHangup)&&_.add(F.getContent().call_id)}for(const F of h){const m=F.getType(),p=F.getContent().call_id;if(!(m===o.EventType.CallInvite&&_.has(p)))try{await this.handleCallEvent(F)}catch(f){n.logger.error("Caught exception handling call event",f)}}}async handleCallEvent(c){var h,_;this.client.emit(i.ClientEvent.ReceivedVoipEvent,c);const F=c.getContent(),m=c.getRoomId()||((h=this.client.groupCallEventHandler.getGroupCallById(F.conf_id))===null||h===void 0||(_=h.room)===null||_===void 0?void 0:_.roomId),p=F.conf_id,f=c.getType(),v=c.getSender();let y=F.call_id?this.calls.get(F.call_id):void 0,w,b;if(p){if(b=this.client.groupCallEventHandler.getGroupCallById(p),!b){n.logger.warn(`Cannot find a group call ${p} for event ${f}. Ignoring event.`);return}if(w=F.device_id,!w){n.logger.warn(`Cannot find a device id for ${v}. Ignoring event.`),b.emit(a.GroupCallEvent.Error,new a.GroupCallUnknownDeviceError(v));return}if(F.dest_session_id!==this.client.getSessionId()){n.logger.warn("Call event does not match current session id, ignoring.");return}}const S=v===this.client.credentials.userId&&(w===void 0||w===this.client.getDeviceId());if(m){if(f===o.EventType.CallInvite){var x,N;if(S||c.getLocalAge()>F.lifetime-u||y&&y.state===r.CallState.Ended||(y&&n.logger.log(`WARN: Already have a MatrixCall with id ${F.call_id} but got an invite. Clobbering.`),F.invitee&&F.invitee!==this.client.getUserId()))return;const G=((x=this.client.getTurnServersExpiry())!==null&&x!==void 0?x:0)-Date.now();if(n.logger.info("Current turn creds expire in "+G+" ms"),y=(N=(0,r.createNewMatrixCall)(this.client,m,{forceTURN:this.client.forceTURN,opponentDeviceId:w,groupCallId:p,opponentSessionId:F.sender_session_id}))!==null&&N!==void 0?N:void 0,!y){n.logger.log("Incoming call ID "+F.call_id+" but this client doesn't support WebRTC");return}y.callId=F.call_id;try{await y.initWithInvite(c)}catch(I){if(I instanceof r.CallError)if(I.code===a.GroupCallErrorCode.UnknownDevice){var U;(U=b)===null||U===void 0||U.emit(a.GroupCallEvent.Error,I)}else n.logger.error(I)}if(this.calls.set(y.callId,y),this.candidateEventsByCall.get(y.callId))for(const I of this.candidateEventsByCall.get(y.callId))y.onRemoteIceCandidatesReceived(I);let C;for(const I of this.calls.values()){var q;const M=[r.CallState.WaitLocalMedia,r.CallState.CreateOffer,r.CallState.InviteSent].includes(I.state);if(y.roomId===I.roomId&&I.direction===r.CallDirection.Outbound&&((q=y.getOpponentMember())===null||q===void 0?void 0:q.userId)===I.invitee&&M){C=I;break}}C?C.callId>y.callId?(n.logger.log("Glare detected: answering incoming call "+y.callId+" and canceling outgoing call "+C.callId),C.replacedBy(y)):(n.logger.log("Glare detected: rejecting incoming call "+y.callId+" and keeping outgoing call "+C.callId),y.hangup(r.CallErrorCode.Replaced,!0)):this.client.emit(d.Incoming,y);return}else if(f===o.EventType.CallCandidates){if(S)return;y?y.onRemoteIceCandidatesReceived(c):(this.candidateEventsByCall.has(F.call_id)||this.candidateEventsByCall.set(F.call_id,[]),this.candidateEventsByCall.get(F.call_id).push(c));return}else if([o.EventType.CallHangup,o.EventType.CallReject].includes(f)){if(y)y.state!==r.CallState.Ended&&(f===o.EventType.CallHangup?y.onHangupReceived(F):y.onRejectReceived(F),y.state===r.CallState.Ended&&this.calls.delete(F.call_id));else{var P;y=(P=(0,r.createNewMatrixCall)(this.client,m,{opponentDeviceId:w,opponentSessionId:F.sender_session_id}))!==null&&P!==void 0?P:void 0,y&&(y.callId=F.call_id,y.initWithHangup(c),this.calls.set(F.call_id,y))}return}if(!y||!y.hasPeerConnection){n.logger.info(`Discarding possible call event ${c.getId()} as we don't have a call/peerConn`,f);return}if(c.getContent().party_id!==y.ourPartyId)switch(f){case o.EventType.CallAnswer:S?y.state===r.CallState.Ringing&&y.onAnsweredElsewhere(F):y.onAnswerReceived(c);break;case o.EventType.CallSelectAnswer:y.onSelectAnswerReceived(c);break;case o.EventType.CallNegotiate:y.onNegotiateReceived(c);break;case o.EventType.CallAssertedIdentity:case o.EventType.CallAssertedIdentityPrefix:y.onAssertedIdentityReceived(c);break;case o.EventType.CallSDPStreamMetadataChanged:case o.EventType.CallSDPStreamMetadataChangedPrefix:y.onSDPStreamMetadataChangedReceived(c);break}}}}return ra.CallEventHandler=s,ra}var oa={},U6;function fA(){if(U6)return oa;U6=1;var t=ze.exports;Object.defineProperty(oa,"__esModule",{value:!0}),oa.GroupCallEventHandlerEvent=oa.GroupCallEventHandler=void 0;var e=t(Je()),n=Mo(),r=Ac(),o=Za(),i=lt(),a=et,l=Im();let u;oa.GroupCallEventHandlerEvent=u,function(s){s.Incoming="GroupCall.incoming",s.Outgoing="GroupCall.outgoing",s.Ended="GroupCall.ended",s.Participants="GroupCall.participants"}(u||(oa.GroupCallEventHandlerEvent=u={}));class d{constructor(g){this.client=g,(0,e.default)(this,"groupCalls",new Map),(0,e.default)(this,"roomDeferreds",new Map),(0,e.default)(this,"onRoomsChanged",c=>{this.createGroupCallForRoom(c)}),(0,e.default)(this,"onRoomStateChanged",(c,h)=>{if(c.getType()===a.EventType.GroupCallPrefix){const F=c.getStateKey(),m=c.getContent(),p=this.groupCalls.get(h.roomId);!p&&!m["m.terminated"]?this.createGroupCallFromRoomStateEvent(c):p&&p.groupCallId===F?m["m.terminated"]?p.terminate(!1):m["m.type"]!==p.type&&i.logger.warn(`The group call type changed for room: ${h.roomId}. Changing the group call type is currently unsupported.`):p&&p.groupCallId!==F&&i.logger.warn(`Multiple group calls detected for room: ${h.roomId}. Multiple group calls are currently unsupported.`)}})}async start(){this.client.getSyncState()!==l.SyncState.Syncing&&(i.logger.debug("Waiting for client to start syncing..."),await new Promise(c=>{const h=()=>{if(this.client.getSyncState()===l.SyncState.Syncing)return this.client.off(n.ClientEvent.Sync,h),c()};this.client.on(n.ClientEvent.Sync,h)}));const g=this.client.getRooms();for(const c of g)this.createGroupCallForRoom(c);this.client.on(n.ClientEvent.Room,this.onRoomsChanged),this.client.on(o.RoomStateEvent.Events,this.onRoomStateChanged)}stop(){this.client.removeListener(o.RoomStateEvent.Events,this.onRoomStateChanged)}getRoomDeferred(g){let c=this.roomDeferreds.get(g);if(c===void 0){let h;c={prom:new Promise(_=>{h=_})},c.resolve=h,this.roomDeferreds.set(g,c)}return c}waitUntilRoomReadyForGroupCalls(g){return this.getRoomDeferred(g).prom}getGroupCallById(g){return[...this.groupCalls.values()].find(c=>c.groupCallId===g)}createGroupCallForRoom(g){const c=g.currentState.getStateEvents(a.EventType.GroupCallPrefix),h=c.sort((_,F)=>F.getTs()-_.getTs());for(const _ of h)if(!_.getContent()["m.terminated"]){i.logger.debug(`Choosing group call ${_.getStateKey()} with TS ${_.getTs()} for room ${g.roomId} from ${c.length} possible calls.`),this.createGroupCallFromRoomStateEvent(_);break}i.logger.info("Group call event handler processed room",g.roomId),this.getRoomDeferred(g.roomId).resolve()}createGroupCallFromRoomStateEvent(g){const c=g.getRoomId(),h=g.getContent(),_=this.client.getRoom(c);if(!_){i.logger.warn(`Couldn't find room ${c} for GroupCall`);return}const F=g.getStateKey(),m=h["m.type"];if(!Object.values(r.GroupCallType).includes(m)){i.logger.warn(`Received invalid group call type ${m} for room ${c}.`);return}const p=h["m.intent"];if(!Object.values(r.GroupCallIntent).includes(p)){i.logger.warn(`Received invalid group call intent ${m} for room ${c}.`);return}const f=Boolean(h["io.element.ptt"]);let v;if(h!=null&&h.dataChannelsEnabled&&h!==null&&h!==void 0&&h.dataChannelOptions){const{ordered:w,maxPacketLifeTime:b,maxRetransmits:S,protocol:x}=h.dataChannelOptions;v={ordered:w,maxPacketLifeTime:b,maxRetransmits:S,protocol:x}}const y=new r.GroupCall(this.client,_,m,f,p,F,h==null?void 0:h.dataChannelsEnabled,v);return this.groupCalls.set(_.roomId,y),this.client.emit(u.Incoming,y),y}}return oa.GroupCallEventHandler=d,oa}var j6;function Ac(){if(j6)return Tt;j6=1;var t=ze.exports;Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.OtherUserSpeakingError=Tt.GroupCallUnknownDeviceError=Tt.GroupCallType=Tt.GroupCallTerminationReason=Tt.GroupCallState=Tt.GroupCallIntent=Tt.GroupCallEvent=Tt.GroupCallErrorCode=Tt.GroupCallError=Tt.GroupCall=void 0;var e=t(Je()),n=un(),r=dA(),o=Rm(),i=Za(),a=lt(),l=El(),u=V3(),d=et,s=hA(),g=fA(),c=tt;function h(q,P){var G=Object.keys(q);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(q);P&&(C=C.filter(function(I){return Object.getOwnPropertyDescriptor(q,I).enumerable})),G.push.apply(G,C)}return G}function _(q){for(var P=1;P<arguments.length;P++){var G=arguments[P]!=null?arguments[P]:{};P%2?h(Object(G),!0).forEach(function(C){(0,e.default)(q,C,G[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(G)):h(Object(G)).forEach(function(C){Object.defineProperty(q,C,Object.getOwnPropertyDescriptor(G,C))})}return q}let F;Tt.GroupCallIntent=F,function(q){q.Ring="m.ring",q.Prompt="m.prompt",q.Room="m.room"}(F||(Tt.GroupCallIntent=F={}));let m;Tt.GroupCallType=m,function(q){q.Video="m.video",q.Voice="m.voice"}(m||(Tt.GroupCallType=m={}));let p;Tt.GroupCallTerminationReason=p,function(q){q.CallEnded="call_ended"}(p||(Tt.GroupCallTerminationReason=p={}));let f;Tt.GroupCallEvent=f,function(q){q.GroupCallStateChanged="group_call_state_changed",q.ActiveSpeakerChanged="active_speaker_changed",q.CallsChanged="calls_changed",q.UserMediaFeedsChanged="user_media_feeds_changed",q.ScreenshareFeedsChanged="screenshare_feeds_changed",q.LocalScreenshareStateChanged="local_screenshare_state_changed",q.LocalMuteStateChanged="local_mute_state_changed",q.ParticipantsChanged="participants_changed",q.Error="error"}(f||(Tt.GroupCallEvent=f={}));let v;Tt.GroupCallErrorCode=v,function(q){q.NoUserMedia="no_user_media",q.UnknownDevice="unknown_device",q.PlaceCallFailed="place_call_failed"}(v||(Tt.GroupCallErrorCode=v={}));class y extends Error{constructor(P,G,C){C?(super(G+": "+C),(0,e.default)(this,"code",void 0)):(super(G),(0,e.default)(this,"code",void 0)),this.code=P}}Tt.GroupCallError=y;class w extends y{constructor(P){super(v.UnknownDevice,"No device found for "+P),this.userId=P}}Tt.GroupCallUnknownDeviceError=w;class b extends Error{constructor(){super("Cannot unmute: another user is speaking")}}Tt.OtherUserSpeakingError=b;let S;Tt.GroupCallState=S,function(q){q.LocalCallFeedUninitialized="local_call_feed_uninitialized",q.InitializingLocalCallFeed="initializing_local_call_feed",q.LocalCallFeedInitialized="local_call_feed_initialized",q.Entered="entered",q.Ended="ended"}(S||(Tt.GroupCallState=S={}));const x=1e3*60*60;function N(q){var P;return((P=q.getOpponentMember())===null||P===void 0?void 0:P.userId)||q.invitee||null}class U extends n.TypedEventEmitter{constructor(P,G,C,I,M,A,$,Y){var T,D;super(),this.client=P,this.room=G,this.type=C,this.isPtt=I,this.intent=M,this.dataChannelsEnabled=$,this.dataChannelOptions=Y,(0,e.default)(this,"activeSpeakerInterval",1e3),(0,e.default)(this,"retryCallInterval",5e3),(0,e.default)(this,"participantTimeout",1e3*15),(0,e.default)(this,"pttMaxTransmitTime",1e3*20),(0,e.default)(this,"activeSpeaker",void 0),(0,e.default)(this,"localCallFeed",void 0),(0,e.default)(this,"localScreenshareFeed",void 0),(0,e.default)(this,"localDesktopCapturerSourceId",void 0),(0,e.default)(this,"calls",new Map),(0,e.default)(this,"userMediaFeeds",[]),(0,e.default)(this,"screenshareFeeds",[]),(0,e.default)(this,"groupCallId",void 0),(0,e.default)(this,"callHandlers",new Map),(0,e.default)(this,"activeSpeakerLoopInterval",void 0),(0,e.default)(this,"retryCallLoopInterval",void 0),(0,e.default)(this,"retryCallCounts",new Map),(0,e.default)(this,"reEmitter",void 0),(0,e.default)(this,"transmitTimer",null),(0,e.default)(this,"participantsExpirationTimer",null),(0,e.default)(this,"resendMemberStateTimer",null),(0,e.default)(this,"initWithAudioMuted",!1),(0,e.default)(this,"initWithVideoMuted",!1),(0,e.default)(this,"_state",S.LocalCallFeedUninitialized),(0,e.default)(this,"_participants",new Map),(0,e.default)(this,"_creationTs",null),(0,e.default)(this,"_enteredViaAnotherSession",!1),(0,e.default)(this,"onIncomingCall",R=>{var B;if(R.roomId!==this.room.roomId)return;if(R.state!==o.CallState.Ringing){a.logger.warn("Incoming call no longer in ringing state. Ignoring.");return}if(!R.groupCallId||R.groupCallId!==this.groupCallId){a.logger.log(`Incoming call with groupCallId ${R.groupCallId} ignored because it doesn't match the current group call`),R.reject();return}const H=R.getOpponentMember();if(H===void 0){a.logger.warn("Incoming call with no member. Ignoring.");return}const Q=(B=this.calls.get(H))!==null&&B!==void 0?B:new Map,L=Q.get(R.getOpponentDeviceId());(L==null?void 0:L.callId)!==R.callId&&(a.logger.log(`GroupCall: incoming call from ${H.userId} with ID ${R.callId}`),L&&this.disposeCall(L,o.CallErrorCode.Replaced),this.initCall(R),R.answerWithCallFeeds(this.getLocalFeeds().map(le=>le.clone())),Q.set(R.getOpponentDeviceId(),R),this.calls.set(H,Q),this.emit(f.CallsChanged,this.calls))}),(0,e.default)(this,"onRetryCallLoop",()=>{let R=!1;for(const[Q,L]of this.participants){const le=this.calls.get(Q);let he=this.retryCallCounts.get(Q);for(const[De,ke]of L){var B,H;const W=le==null?void 0:le.get(De),z=(B=(H=he)===null||H===void 0?void 0:H.get(De))!==null&&B!==void 0?B:0;(W==null?void 0:W.getOpponentSessionId())!==ke.sessionId&&this.wantsOutgoingCall(Q.userId,De)&&z<3&&(he===void 0&&(he=new Map,this.retryCallCounts.set(Q,he)),he.set(De,z+1),R=!0)}}R&&this.placeOutgoingCalls()}),(0,e.default)(this,"onCallFeedsChanged",R=>{const B=N(R),H=R.getOpponentDeviceId();if(!B)throw new Error("Cannot change call feeds without user id");const Q=this.getUserMediaFeed(B,H),L=R.remoteUsermediaFeed;L!==Q&&(!Q&&L?this.addUserMediaFeed(L):Q&&L?this.replaceUserMediaFeed(Q,L):Q&&!L&&this.removeUserMediaFeed(Q));const he=this.getScreenshareFeed(B,H),De=R.remoteScreensharingFeed;De!==he&&(!he&&De?this.addScreenshareFeed(De):he&&De?this.replaceScreenshareFeed(he,De):he&&!De&&this.removeScreenshareFeed(he))}),(0,e.default)(this,"onCallStateChanged",(R,B,H)=>{const Q=this.localCallFeed.isAudioMuted();R.localUsermediaStream&&R.isMicrophoneMuted()!==Q&&R.setMicrophoneMuted(Q);const L=this.localCallFeed.isVideoMuted();if(R.localUsermediaStream&&R.isLocalVideoMuted()!==L&&R.setLocalVideoMuted(L),B===o.CallState.Connected){const le=R.getOpponentMember(),he=this.retryCallCounts.get(le);he==null||he.delete(R.getOpponentDeviceId()),(he==null?void 0:he.size)===0&&this.retryCallCounts.delete(le)}}),(0,e.default)(this,"onCallHangup",R=>{var B;if(R.hangupReason===o.CallErrorCode.Replaced)return;const H=(B=R.getOpponentMember())!==null&&B!==void 0?B:this.room.getMember(R.invitee),Q=this.calls.get(H);(Q==null?void 0:Q.get(R.getOpponentDeviceId()))===R&&(this.disposeCall(R,R.hangupReason),Q.delete(R.getOpponentDeviceId()),Q.size===0&&this.calls.delete(H),this.emit(f.CallsChanged,this.calls))}),(0,e.default)(this,"onCallReplaced",(R,B)=>{const H=R.getOpponentMember();let Q=this.calls.get(H);Q===void 0&&(Q=new Map,this.calls.set(H,Q)),this.disposeCall(R,o.CallErrorCode.Replaced),this.initCall(B),Q.set(R.getOpponentDeviceId(),B),this.emit(f.CallsChanged,this.calls)}),(0,e.default)(this,"onActiveSpeakerLoop",()=>{let R,B;for(const H of this.userMediaFeeds){if(H.isLocal()&&this.userMediaFeeds.length>1)continue;const L=H.speakingVolumeSamples.reduce((le,he)=>le+Math.max(he,r.SPEAKING_THRESHOLD))/H.speakingVolumeSamples.length;(!R||L>R)&&(R=L,B=H)}B&&this.activeSpeaker!==B&&R&&R>r.SPEAKING_THRESHOLD&&(this.activeSpeaker=B,this.emit(f.ActiveSpeakerChanged,this.activeSpeaker))}),(0,e.default)(this,"onRoomState",()=>this.updateParticipants()),(0,e.default)(this,"onParticipantsChanged",()=>{this.state===S.Entered&&this.placeOutgoingCalls()}),(0,e.default)(this,"onStateChanged",(R,B)=>{(R===S.Entered||B===S.Entered||R===S.Ended)&&(this.updateParticipants(),this.updateMemberState().catch(H=>a.logger.error("Failed to update member state devices",H)))}),(0,e.default)(this,"onLocalFeedsChanged",()=>{this.state===S.Entered&&this.updateMemberState().catch(R=>a.logger.error("Failed to update member state feeds",R))}),this.reEmitter=new l.ReEmitter(this),this.groupCallId=A??(0,o.genCallID)(),this.creationTs=(T=(D=G.currentState.getStateEvents(d.EventType.GroupCallPrefix,this.groupCallId))===null||D===void 0?void 0:D.getTs())!==null&&T!==void 0?T:null,this.updateParticipants(),G.on(i.RoomStateEvent.Update,this.onRoomState),this.on(f.ParticipantsChanged,this.onParticipantsChanged),this.on(f.GroupCallStateChanged,this.onStateChanged),this.on(f.LocalScreenshareStateChanged,this.onLocalFeedsChanged)}async create(){return this.creationTs=Date.now(),this.client.groupCallEventHandler.groupCalls.set(this.room.roomId,this),this.client.emit(g.GroupCallEventHandlerEvent.Outgoing,this),await this.client.sendStateEvent(this.room.roomId,d.EventType.GroupCallPrefix,{"m.intent":this.intent,"m.type":this.type,"io.element.ptt":this.isPtt,dataChannelsEnabled:this.dataChannelsEnabled,dataChannelOptions:this.dataChannelOptions},this.groupCallId),this}get state(){return this._state}set state(P){const G=this._state;P!==G&&(this._state=P,this.emit(f.GroupCallStateChanged,P,G))}get participants(){return this._participants}set participants(P){const G=this._participants,C=(M,A)=>M.sessionId===A.sessionId&&M.screensharing===A.screensharing,I=(M,A)=>(0,c.mapsEqual)(M,A,C);(0,c.mapsEqual)(P,G,I)||(this._participants=P,this.emit(f.ParticipantsChanged,P))}get creationTs(){return this._creationTs}set creationTs(P){this._creationTs=P}get enteredViaAnotherSession(){return this._enteredViaAnotherSession}set enteredViaAnotherSession(P){this._enteredViaAnotherSession=P,this.updateParticipants()}forEachCall(P){for(const G of this.calls.values())for(const C of G.values())P(C)}getLocalFeeds(){const P=[];return this.localCallFeed&&P.push(this.localCallFeed),this.localScreenshareFeed&&P.push(this.localScreenshareFeed),P}hasLocalParticipant(){var P,G;return(P=(G=this.participants.get(this.room.getMember(this.client.getUserId())))===null||G===void 0?void 0:G.has(this.client.getDeviceId()))!==null&&P!==void 0?P:!1}async initLocalCallFeed(){if(a.logger.log(`groupCall ${this.groupCallId} initLocalCallFeed`),this.state!==S.LocalCallFeedUninitialized)throw new Error(`Cannot initialize local call feed in the "${this.state}" state.`);this.state=S.InitializingLocalCallFeed;let P,G=!1;const C=M=>{M===S.LocalCallFeedUninitialized&&(G=!0)};this.on(f.GroupCallStateChanged,C);try{P=await this.client.getMediaHandler().getUserMediaStream(!0,this.type===m.Video)}catch(M){throw this.state=S.LocalCallFeedUninitialized,M}finally{this.off(f.GroupCallStateChanged,C)}if(G)throw new Error("Group call disposed");const I=new r.CallFeed({client:this.client,roomId:this.room.roomId,userId:this.client.getUserId(),deviceId:this.client.getDeviceId(),stream:P,purpose:u.SDPStreamMetadataPurpose.Usermedia,audioMuted:this.initWithAudioMuted||P.getAudioTracks().length===0||this.isPtt,videoMuted:this.initWithVideoMuted||P.getVideoTracks().length===0});return(0,o.setTracksEnabled)(P.getAudioTracks(),!I.isAudioMuted()),(0,o.setTracksEnabled)(P.getVideoTracks(),!I.isVideoMuted()),this.localCallFeed=I,this.addUserMediaFeed(I),this.state=S.LocalCallFeedInitialized,I}async updateLocalUsermediaStream(P){if(this.localCallFeed){const G=this.localCallFeed.stream;this.localCallFeed.setNewStream(P);const C=this.localCallFeed.isAudioMuted(),I=this.localCallFeed.isVideoMuted();a.logger.log(`groupCall ${this.groupCallId} updateLocalUsermediaStream oldStream ${G.id} newStream ${P.id} micShouldBeMuted ${C} vidShouldBeMuted ${I}`),(0,o.setTracksEnabled)(P.getAudioTracks(),!C),(0,o.setTracksEnabled)(P.getVideoTracks(),!I),this.client.getMediaHandler().stopUserMediaStream(G)}}async enter(){if(this.state===S.LocalCallFeedUninitialized)await this.initLocalCallFeed();else if(this.state!==S.LocalCallFeedInitialized)throw new Error(`Cannot enter call in the "${this.state}" state`);a.logger.log(`Entered group call ${this.groupCallId}`),this.state=S.Entered,this.client.on(s.CallEventHandlerEvent.Incoming,this.onIncomingCall);for(const P of this.client.callEventHandler.calls.values())this.onIncomingCall(P);this.retryCallLoopInterval=setInterval(this.onRetryCallLoop,this.retryCallInterval),this.activeSpeaker=void 0,this.onActiveSpeakerLoop(),this.activeSpeakerLoopInterval=setInterval(this.onActiveSpeakerLoop,this.activeSpeakerInterval)}dispose(){this.localCallFeed&&(this.removeUserMediaFeed(this.localCallFeed),this.localCallFeed=void 0),this.localScreenshareFeed&&(this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0),this.client.getMediaHandler().stopAllStreams(),this.transmitTimer!==null&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),this.retryCallLoopInterval!==void 0&&(clearInterval(this.retryCallLoopInterval),this.retryCallLoopInterval=void 0),this.state===S.Entered&&(this.forEachCall(P=>this.disposeCall(P,o.CallErrorCode.UserHangup)),this.calls.clear(),this.activeSpeaker=void 0,clearInterval(this.activeSpeakerLoopInterval),this.retryCallCounts.clear(),clearInterval(this.retryCallLoopInterval),this.client.removeListener(s.CallEventHandlerEvent.Incoming,this.onIncomingCall))}leave(){this.dispose(),this.state=S.LocalCallFeedUninitialized}async terminate(P=!0){if(this.dispose(),this.room.off(i.RoomStateEvent.Update,this.onRoomState),this.client.groupCallEventHandler.groupCalls.delete(this.room.roomId),this.client.emit(g.GroupCallEventHandlerEvent.Ended,this),this.state=S.Ended,P){const G=this.room.currentState.getStateEvents(d.EventType.GroupCallPrefix,this.groupCallId);await this.client.sendStateEvent(this.room.roomId,d.EventType.GroupCallPrefix,_(_({},G.getContent()),{},{"m.terminated":p.CallEnded}),this.groupCallId)}}isLocalVideoMuted(){return this.localCallFeed?this.localCallFeed.isVideoMuted():!0}isMicrophoneMuted(){return this.localCallFeed?this.localCallFeed.isAudioMuted():!0}async setMicrophoneMuted(P){if(!P&&!await this.client.getMediaHandler().hasAudioDevice())return!1;const G=!P&&this.isPtt;this.isPtt&&(!P&&this.isMicrophoneMuted()?this.transmitTimer=setTimeout(()=>{this.setMicrophoneMuted(!0)},this.pttMaxTransmitTime):P&&!this.isMicrophoneMuted()&&(this.transmitTimer!==null&&clearTimeout(this.transmitTimer),this.transmitTimer=null)),this.forEachCall(I=>{var M;return(M=I.localUsermediaFeed)===null||M===void 0?void 0:M.setAudioVideoMuted(P,null)});const C=async()=>{const I=[];this.forEachCall(M=>I.push(M.sendMetadataUpdate())),await Promise.all(I).catch(M=>a.logger.info("Failed to send some metadata updates",M))};return G&&await C(),this.localCallFeed?(a.logger.log(`groupCall ${this.groupCallId} setMicrophoneMuted stream ${this.localCallFeed.stream.id} muted ${P}`),this.localCallFeed.setAudioVideoMuted(P,null),(0,o.setTracksEnabled)(this.localCallFeed.stream.getAudioTracks(),!P)):(a.logger.log(`groupCall ${this.groupCallId} setMicrophoneMuted no stream muted ${P}`),this.initWithAudioMuted=P),this.forEachCall(I=>(0,o.setTracksEnabled)(I.localUsermediaFeed.stream.getAudioTracks(),!P)),this.emit(f.LocalMuteStateChanged,P,this.isLocalVideoMuted()),G||await C(),!0}async setLocalVideoMuted(P){if(!P&&!await this.client.getMediaHandler().hasVideoDevice())return!1;this.localCallFeed?(a.logger.log(`groupCall ${this.groupCallId} setLocalVideoMuted stream ${this.localCallFeed.stream.id} muted ${P}`),this.localCallFeed.setAudioVideoMuted(null,P),(0,o.setTracksEnabled)(this.localCallFeed.stream.getVideoTracks(),!P)):(a.logger.log(`groupCall ${this.groupCallId} setLocalVideoMuted no stream muted ${P}`),this.initWithVideoMuted=P);const G=[];return this.forEachCall(C=>G.push(C.setLocalVideoMuted(P))),await Promise.all(G),this.emit(f.LocalMuteStateChanged,this.isMicrophoneMuted(),P),!0}async setScreensharingEnabled(P,G={}){if(P===this.isScreensharing())return P;if(P)try{a.logger.log("Asking for screensharing permissions...");const C=await this.client.getMediaHandler().getScreensharingStream(G);for(const I of C.getTracks()){const M=()=>{this.setScreensharingEnabled(!1),I.removeEventListener("ended",M)};I.addEventListener("ended",M)}return a.logger.log("Screensharing permissions granted. Setting screensharing enabled on all calls"),this.localDesktopCapturerSourceId=G.desktopCapturerSourceId,this.localScreenshareFeed=new r.CallFeed({client:this.client,roomId:this.room.roomId,userId:this.client.getUserId(),deviceId:this.client.getDeviceId(),stream:C,purpose:u.SDPStreamMetadataPurpose.Screenshare,audioMuted:!1,videoMuted:!1}),this.addScreenshareFeed(this.localScreenshareFeed),this.emit(f.LocalScreenshareStateChanged,!0,this.localScreenshareFeed,this.localDesktopCapturerSourceId),this.forEachCall(I=>I.pushLocalFeed(this.localScreenshareFeed.clone())),!0}catch(C){if(G.throwOnFail)throw C;return a.logger.error("Enabling screensharing error",C),this.emit(f.Error,new y(v.NoUserMedia,"Failed to get screen-sharing stream: ",C)),!1}else return this.forEachCall(C=>{C.localScreensharingFeed&&C.removeLocalFeed(C.localScreensharingFeed)}),this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0,this.emit(f.LocalScreenshareStateChanged,!1,void 0,void 0),!1}isScreensharing(){return!!this.localScreenshareFeed}wantsOutgoingCall(P,G){const C=this.client.getUserId(),I=this.client.getDeviceId();return P>=C&&(P!==C||G>I)}placeOutgoingCalls(){let P=!1;for(const[C,I]of this.participants){var G;const M=(G=this.calls.get(C))!==null&&G!==void 0?G:new Map;for(const[A,$]of I){const Y=M.get(A);if((Y==null?void 0:Y.getOpponentSessionId())!==$.sessionId&&this.wantsOutgoingCall(C.userId,A)){P=!0,Y!==void 0&&(a.logger.debug(`Replacing call ${Y.callId} to ${C.userId} ${A}`),this.disposeCall(Y,o.CallErrorCode.NewSession));const T=(0,o.createNewMatrixCall)(this.client,this.room.roomId,{invitee:C.userId,opponentDeviceId:A,opponentSessionId:$.sessionId,groupCallId:this.groupCallId});T===null?(a.logger.error(`Failed to create call with ${C.userId} ${A}`),M.delete(A)):(this.initCall(T),M.set(A,T),a.logger.debug(`Placing call to ${C.userId} ${A} (session ${$.sessionId})`),T.placeCallWithCallFeeds(this.getLocalFeeds().map(D=>D.clone()),$.screensharing).then(()=>{this.dataChannelsEnabled&&T.createDataChannel("datachannel",this.dataChannelOptions)}).catch(D=>{a.logger.warn(`Failed to place call to ${C.userId}`,D),D instanceof o.CallError&&D.code===v.UnknownDevice?this.emit(f.Error,D):this.emit(f.Error,new y(v.PlaceCallFailed,`Failed to place call to ${C.userId}`)),this.disposeCall(T,o.CallErrorCode.SignallingFailed),M.get(A)===T&&M.delete(A)}))}}M.size>0?this.calls.set(C,M):this.calls.delete(C)}P&&this.emit(f.CallsChanged,this.calls)}getMemberStateEvents(P){return P===void 0?this.room.currentState.getStateEvents(d.EventType.GroupCallMemberPrefix):this.room.currentState.getStateEvents(d.EventType.GroupCallMemberPrefix,P)}initCall(P){const G=N(P);if(!G)throw new Error("Cannot init call without user id");const C=()=>this.onCallFeedsChanged(P),I=(Y,T)=>this.onCallStateChanged(P,Y,T),M=this.onCallHangup,A=Y=>this.onCallReplaced(P,Y);let $=this.callHandlers.get(G);$===void 0&&($=new Map,this.callHandlers.set(G,$)),$.set(P.getOpponentDeviceId(),{onCallFeedsChanged:C,onCallStateChanged:I,onCallHangup:M,onCallReplaced:A}),P.on(o.CallEvent.FeedsChanged,C),P.on(o.CallEvent.State,I),P.on(o.CallEvent.Hangup,M),P.on(o.CallEvent.Replaced,A),P.isPtt=this.isPtt,this.reEmitter.reEmit(P,Object.values(o.CallEvent)),C()}disposeCall(P,G){const C=N(P),I=P.getOpponentDeviceId();if(!C)throw new Error("Cannot dispose call without user id");const M=this.callHandlers.get(C),{onCallFeedsChanged:A,onCallStateChanged:$,onCallHangup:Y,onCallReplaced:T}=M.get(I);if(P.removeListener(o.CallEvent.FeedsChanged,A),P.removeListener(o.CallEvent.State,$),P.removeListener(o.CallEvent.Hangup,Y),P.removeListener(o.CallEvent.Replaced,T),M.delete(C),M.size===0&&this.callHandlers.delete(C),P.hangupReason===o.CallErrorCode.Replaced)return;P.state!==o.CallState.Ended&&P.hangup(G,!1);const D=this.getUserMediaFeed(C,I);D&&this.removeUserMediaFeed(D);const R=this.getScreenshareFeed(C,I);R&&this.removeScreenshareFeed(R)}getUserMediaFeed(P,G){return this.userMediaFeeds.find(C=>C.userId===P&&C.deviceId===G)}addUserMediaFeed(P){this.userMediaFeeds.push(P),P.measureVolumeActivity(!0),this.emit(f.UserMediaFeedsChanged,this.userMediaFeeds)}replaceUserMediaFeed(P,G){const C=this.userMediaFeeds.findIndex(I=>I.userId===P.userId&&I.deviceId===P.deviceId);if(C===-1)throw new Error("Couldn't find user media feed to replace");this.userMediaFeeds.splice(C,1,G),P.dispose(),G.measureVolumeActivity(!0),this.emit(f.UserMediaFeedsChanged,this.userMediaFeeds)}removeUserMediaFeed(P){const G=this.userMediaFeeds.findIndex(C=>C.userId===P.userId&&C.deviceId===P.deviceId);if(G===-1)throw new Error("Couldn't find user media feed to remove");this.userMediaFeeds.splice(G,1),P.dispose(),this.emit(f.UserMediaFeedsChanged,this.userMediaFeeds),this.activeSpeaker===P&&(this.activeSpeaker=this.userMediaFeeds[0],this.emit(f.ActiveSpeakerChanged,this.activeSpeaker))}getScreenshareFeed(P,G){return this.screenshareFeeds.find(C=>C.userId===P&&C.deviceId===G)}addScreenshareFeed(P){this.screenshareFeeds.push(P),this.emit(f.ScreenshareFeedsChanged,this.screenshareFeeds)}replaceScreenshareFeed(P,G){const C=this.screenshareFeeds.findIndex(I=>I.userId===P.userId&&I.deviceId===P.deviceId);if(C===-1)throw new Error("Couldn't find screenshare feed to replace");this.screenshareFeeds.splice(C,1,G),P.dispose(),this.emit(f.ScreenshareFeedsChanged,this.screenshareFeeds)}removeScreenshareFeed(P){const G=this.screenshareFeeds.findIndex(C=>C.userId===P.userId&&C.deviceId===P.deviceId);if(G===-1)throw new Error("Couldn't find screenshare feed to remove");this.screenshareFeeds.splice(G,1),P.dispose(),this.emit(f.ScreenshareFeedsChanged,this.screenshareFeeds)}updateParticipants(){if(this.participantsExpirationTimer!==null&&(clearTimeout(this.participantsExpirationTimer),this.participantsExpirationTimer=null),this.state===S.Ended){this.participants=new Map;return}const P=new Map,G=Date.now(),C=this.state===S.Entered||this.enteredViaAnotherSession;let I=1/0;for(const M of this.getMemberStateEvents()){const A=this.room.getMember(M.getStateKey()),$=M.getContent(),T=(Array.isArray($["m.calls"])?$["m.calls"]:[]).find(B=>B["m.call_id"]===this.groupCallId);let R=(Array.isArray(T==null?void 0:T["m.devices"])?T["m.devices"]:[]).filter(B=>typeof B.device_id=="string"&&typeof B.session_id=="string"&&typeof B.expires_ts=="number"&&B.expires_ts>G&&Array.isArray(B.feeds));if(!C&&(A==null?void 0:A.userId)===this.client.getUserId()&&(R=R.filter(B=>B.device_id!==this.client.getDeviceId())),R.length>0&&(A==null?void 0:A.membership)==="join"){const B=new Map;P.set(A,B);for(const H of R)B.set(H.device_id,{sessionId:H.session_id,screensharing:H.feeds.some(Q=>Q.purpose===u.SDPStreamMetadataPurpose.Screenshare)}),H.expires_ts<I&&(I=H.expires_ts)}}if(C){const M=this.room.getMember(this.client.getUserId());let A=P.get(M);A===void 0&&(A=new Map,P.set(M,A)),A.has(this.client.getDeviceId())||A.set(this.client.getDeviceId(),{sessionId:this.client.getSessionId(),screensharing:this.getLocalFeeds().some($=>$.purpose===u.SDPStreamMetadataPurpose.Screenshare)})}this.participants=P,I<1/0&&(this.participantsExpirationTimer=setTimeout(()=>this.updateParticipants(),I-G))}async updateDevices(P,G=!1){var C;const I=Date.now(),M=this.client.getUserId(),A=this.getMemberStateEvents(M),$=(C=A==null?void 0:A.getContent())!==null&&C!==void 0?C:{},Y=Array.isArray($["m.calls"])?$["m.calls"]:[];let T=null;const D=[];for(const le of Y)le["m.call_id"]===this.groupCallId?T=le:D.push(le);T===null&&(T={});const B=(Array.isArray(T["m.devices"])?T["m.devices"]:[]).filter(le=>typeof le.device_id=="string"&&typeof le.session_id=="string"&&typeof le.expires_ts=="number"&&le.expires_ts>I&&Array.isArray(le.feeds)),H=P(B);if(H===null)return;const Q=[...D];H.length>0&&Q.push(_(_({},T),{},{"m.call_id":this.groupCallId,"m.devices":H}));const L={"m.calls":Q};await this.client.sendStateEvent(this.room.roomId,d.EventType.GroupCallMemberPrefix,L,M,{keepAlive:G})}async addDeviceToMemberState(){await this.updateDevices(P=>[...P.filter(G=>G.device_id!==this.client.getDeviceId()),{device_id:this.client.getDeviceId(),session_id:this.client.getSessionId(),expires_ts:Date.now()+x,feeds:this.getLocalFeeds().map(G=>({purpose:G.purpose}))}])}async updateMemberState(){this.resendMemberStateTimer!==null&&(clearInterval(this.resendMemberStateTimer),this.resendMemberStateTimer=null),this.state===S.Entered?(await this.addDeviceToMemberState(),this.resendMemberStateTimer=setInterval(async()=>{a.logger.log("Resending call member state");try{await this.addDeviceToMemberState()}catch(P){a.logger.error("Failed to resend call member state",P)}},x*3/4)):await this.updateDevices(P=>P.filter(G=>G.device_id!==this.client.getDeviceId()),!0)}async cleanMemberState(){const{devices:P}=await this.client.getDevices(),G=new Map(P.map(C=>[C.device_id,C]));await this.updateDevices(C=>{const I=C.filter(M=>{const A=G.get(M.device_id);return(A==null?void 0:A.last_seen_ts)!==void 0&&!(M.device_id===this.client.getDeviceId()&&this.state!==S.Entered&&!this.enteredViaAnotherSession)});return I.length===C.length?null:I})}}return Tt.GroupCall=U,Tt}var $6;function Rm(){if($6)return Ct;$6=1;var t=ze.exports;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.MatrixCall=Ct.CallType=Ct.CallState=Ct.CallParty=Ct.CallEvent=Ct.CallErrorCode=Ct.CallError=Ct.CallDirection=void 0,Ct.createNewMatrixCall=Y,Ct.genCallID=G,Ct.setTracksEnabled=A,Ct.supportsMatrixCall=$;var e=t(Je()),n=UK(),r=lt(),o=_(tt),i=et,a=ag(),l=V3(),u=dA(),d=un(),s=sg(),g=Ac(),c=Bo;function h(T){if(typeof WeakMap!="function")return null;var D=new WeakMap,R=new WeakMap;return(h=function(B){return B?R:D})(T)}function _(T,D){if(!D&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var R=h(D);if(R&&R.has(T))return R.get(T);var B={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in T)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(T,Q)){var L=H?Object.getOwnPropertyDescriptor(T,Q):null;L&&(L.get||L.set)?Object.defineProperty(B,Q,L):B[Q]=T[Q]}return B.default=T,R&&R.set(T,B),B}function F(T,D){var R=Object.keys(T);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(T);D&&(B=B.filter(function(H){return Object.getOwnPropertyDescriptor(T,H).enumerable})),R.push.apply(R,B)}return R}function m(T){for(var D=1;D<arguments.length;D++){var R=arguments[D]!=null?arguments[D]:{};D%2?F(Object(R),!0).forEach(function(B){(0,e.default)(T,B,R[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(R)):F(Object(R)).forEach(function(B){Object.defineProperty(T,B,Object.getOwnPropertyDescriptor(R,B))})}return T}var p;(function(T){T.AUDIO="audio",T.VIDEO="video"})(p||(p={}));var f;(function(T){T.OPUS="opus"})(f||(f={}));let v;Ct.CallState=v,function(T){T.Fledgling="fledgling",T.InviteSent="invite_sent",T.WaitLocalMedia="wait_local_media",T.CreateOffer="create_offer",T.CreateAnswer="create_answer",T.Connecting="connecting",T.Connected="connected",T.Ringing="ringing",T.Ended="ended"}(v||(Ct.CallState=v={}));let y;Ct.CallType=y,function(T){T.Voice="voice",T.Video="video"}(y||(Ct.CallType=y={}));let w;Ct.CallDirection=w,function(T){T.Inbound="inbound",T.Outbound="outbound"}(w||(Ct.CallDirection=w={}));let b;Ct.CallParty=b,function(T){T.Local="local",T.Remote="remote"}(b||(Ct.CallParty=b={}));let S;Ct.CallEvent=S,function(T){T.Hangup="hangup",T.State="state",T.Error="error",T.Replaced="replaced",T.LocalHoldUnhold="local_hold_unhold",T.RemoteHoldUnhold="remote_hold_unhold",T.HoldUnhold="hold_unhold",T.FeedsChanged="feeds_changed",T.AssertedIdentityChanged="asserted_identity_changed",T.LengthChanged="length_changed",T.DataChannel="datachannel",T.SendVoipEvent="send_voip_event"}(S||(Ct.CallEvent=S={}));let x;Ct.CallErrorCode=x,function(T){T.UserHangup="user_hangup",T.LocalOfferFailed="local_offer_failed",T.NoUserMedia="no_user_media",T.UnknownDevices="unknown_devices",T.SendInvite="send_invite",T.CreateAnswer="create_answer",T.CreateOffer="create_offer",T.SendAnswer="send_answer",T.SetRemoteDescription="set_remote_description",T.SetLocalDescription="set_local_description",T.AnsweredElsewhere="answered_elsewhere",T.IceFailed="ice_failed",T.InviteTimeout="invite_timeout",T.Replaced="replaced",T.SignallingFailed="signalling_timeout",T.UserBusy="user_busy",T.Transfered="transferred",T.NewSession="new_session"}(x||(Ct.CallErrorCode=x={}));const N="1",U="stun:turn.matrix.org",q=6e4;class P extends Error{constructor(D,R,B){super(R+": "+B),(0,e.default)(this,"code",void 0),this.code=D}}Ct.CallError=P;function G(){return Date.now().toString()+(0,a.randomString)(16)}function C(T){return[{mediaType:"audio",codec:"opus",enableDtx:!0,maxAverageBitrate:T?12e3:void 0}]}function I(T,D){return T+":"+D}class M extends d.TypedEventEmitter{constructor(D){var R;if(super(),(0,e.default)(this,"roomId",void 0),(0,e.default)(this,"callId",void 0),(0,e.default)(this,"invitee",void 0),(0,e.default)(this,"state",v.Fledgling),(0,e.default)(this,"hangupParty",void 0),(0,e.default)(this,"hangupReason",void 0),(0,e.default)(this,"direction",void 0),(0,e.default)(this,"ourPartyId",void 0),(0,e.default)(this,"peerConn",void 0),(0,e.default)(this,"toDeviceSeq",0),(0,e.default)(this,"isPtt",!1),(0,e.default)(this,"client",void 0),(0,e.default)(this,"forceTURN",void 0),(0,e.default)(this,"turnServers",void 0),(0,e.default)(this,"candidateSendQueue",[]),(0,e.default)(this,"candidateSendTries",0),(0,e.default)(this,"candidatesEnded",!1),(0,e.default)(this,"feeds",[]),(0,e.default)(this,"transceivers",new Map),(0,e.default)(this,"inviteOrAnswerSent",!1),(0,e.default)(this,"waitForLocalAVStream",!1),(0,e.default)(this,"successor",void 0),(0,e.default)(this,"opponentMember",void 0),(0,e.default)(this,"opponentVersion",void 0),(0,e.default)(this,"opponentPartyId",void 0),(0,e.default)(this,"opponentCaps",void 0),(0,e.default)(this,"iceDisconnectedTimeout",void 0),(0,e.default)(this,"inviteTimeout",void 0),(0,e.default)(this,"removeTrackListeners",new Map),(0,e.default)(this,"remoteOnHold",!1),(0,e.default)(this,"callStatsAtEnd",void 0),(0,e.default)(this,"makingOffer",!1),(0,e.default)(this,"ignoreOffer",!1),(0,e.default)(this,"responsePromiseChain",void 0),(0,e.default)(this,"remoteCandidateBuffer",new Map),(0,e.default)(this,"remoteAssertedIdentity",void 0),(0,e.default)(this,"remoteSDPStreamMetadata",void 0),(0,e.default)(this,"callLengthInterval",void 0),(0,e.default)(this,"callLength",0),(0,e.default)(this,"opponentDeviceId",void 0),(0,e.default)(this,"opponentDeviceInfo",void 0),(0,e.default)(this,"opponentSessionId",void 0),(0,e.default)(this,"groupCallId",void 0),(0,e.default)(this,"gotLocalIceCandidate",B=>{if(B.candidate){if(this.candidatesEnded){r.logger.warn("Got candidate after candidates have ended - ignoring!");return}if(r.logger.debug("Call "+this.callId+" got local ICE "+B.candidate.sdpMid+" candidate: "+B.candidate.candidate),this.callHasEnded())return;B.candidate.candidate===""?this.queueCandidate(null):this.queueCandidate(B.candidate)}}),(0,e.default)(this,"onIceGatheringStateChange",B=>{var H;r.logger.debug(`Call ${this.callId} ice gathering state changed to  ${this.peerConn.iceGatheringState}`),((H=this.peerConn)===null||H===void 0?void 0:H.iceGatheringState)==="complete"&&this.queueCandidate(null)}),(0,e.default)(this,"getLocalOfferFailed",B=>{r.logger.error(`Call ${this.callId} Failed to get local offer`,B),this.emit(S.Error,new P(x.LocalOfferFailed,"Failed to get local offer!",B)),this.terminate(b.Local,x.LocalOfferFailed,!1)}),(0,e.default)(this,"getUserMediaFailed",B=>{if(this.successor){this.successor.getUserMediaFailed(B);return}r.logger.warn(`Failed to get user media - ending call ${this.callId}`,B),this.emit(S.Error,new P(x.NoUserMedia,"Couldn't start capturing media! Is your microphone set up and does this app have permission?",B)),this.terminate(b.Local,x.NoUserMedia,!1)}),(0,e.default)(this,"onIceConnectionStateChanged",()=>{var B,H,Q,L,le;if(!this.callHasEnded()){if(r.logger.debug("Call ID "+this.callId+": ICE connection state changed to: "+((B=this.peerConn)===null||B===void 0?void 0:B.iceConnectionState)),["connected","completed"].includes((H=(Q=this.peerConn)===null||Q===void 0?void 0:Q.iceConnectionState)!==null&&H!==void 0?H:""))clearTimeout(this.iceDisconnectedTimeout),this.setState(v.Connected),this.callLengthInterval||(this.callLengthInterval=setInterval(()=>{this.callLength++,this.emit(S.LengthChanged,this.callLength)},1e3));else if(((L=this.peerConn)===null||L===void 0?void 0:L.iceConnectionState)=="failed"){var he;(he=this.peerConn)!==null&&he!==void 0&&he.restartIce?(this.candidatesEnded=!1,this.peerConn.restartIce()):(r.logger.info(`Hanging up call ${this.callId} (ICE failed and no ICE restart method)`),this.hangup(x.IceFailed,!1))}else((le=this.peerConn)===null||le===void 0?void 0:le.iceConnectionState)=="disconnected"&&(this.iceDisconnectedTimeout=setTimeout(()=>{r.logger.info(`Hanging up call ${this.callId} (ICE disconnected for too long)`),this.hangup(x.IceFailed,!1)},30*1e3),this.setState(v.Connecting));if(this.isPtt&&["failed","disconnected"].includes(this.peerConn.iceConnectionState))for(const De of this.getRemoteFeeds())De.setAudioVideoMuted(!0,!0)}}),(0,e.default)(this,"onSignallingStateChanged",()=>{var B;r.logger.debug(`call ${this.callId}: Signalling state changed to: ${(B=this.peerConn)===null||B===void 0?void 0:B.signalingState}`)}),(0,e.default)(this,"onTrack",B=>{if(B.streams.length===0){r.logger.warn(`Call ${this.callId} Streamless ${B.track.kind} found: ignoring.`);return}const H=B.streams[0];if(this.pushRemoteFeed(H),!this.removeTrackListeners.has(H)){const Q=()=>{H.getTracks().length===0&&(r.logger.info(`Call ${this.callId} removing track streamId: ${H.id}`),this.deleteFeedByStream(H),H.removeEventListener("removetrack",Q),this.removeTrackListeners.delete(H))};H.addEventListener("removetrack",Q),this.removeTrackListeners.set(H,Q)}}),(0,e.default)(this,"onDataChannel",B=>{this.emit(S.DataChannel,B.channel)}),(0,e.default)(this,"onNegotiationNeeded",async()=>{if(r.logger.info(`Call ${this.callId} Negotiation is needed!`),this.state!==v.CreateOffer&&this.opponentVersion===0){r.logger.info(`Call ${this.callId} Opponent does not support renegotiation: ignoring negotiationneeded event`);return}this.queueGotLocalOffer()}),(0,e.default)(this,"onHangupReceived",B=>{r.logger.debug("Hangup received for call ID "+this.callId),this.partyIdMatches(B)||this.state===v.Ringing?this.terminate(b.Remote,B.reason||x.UserHangup,!0):r.logger.info(`Call ${this.callId} Ignoring message from party ID ${B.party_id}: our partner is ${this.opponentPartyId}`)}),(0,e.default)(this,"onRejectReceived",B=>{r.logger.debug("Reject received for call ID "+this.callId),[v.InviteSent,v.Ringing].includes(this.state)||this.state===v.Fledgling&&this.direction===w.Inbound?this.terminate(b.Remote,B.reason||x.UserHangup,!0):r.logger.debug(`Call ${this.callId} is in state: ${this.state}: ignoring reject`)}),(0,e.default)(this,"onAnsweredElsewhere",B=>{r.logger.debug("Call "+this.callId+" answered elsewhere"),this.terminate(b.Remote,x.AnsweredElsewhere,!0)}),this.roomId=D.roomId,this.invitee=D.invitee,this.client=D.client,!this.client.deviceId)throw new Error("Client must have a device ID to start calls");this.forceTURN=(R=D.forceTURN)!==null&&R!==void 0?R:!1,this.ourPartyId=this.client.deviceId,this.opponentDeviceId=D.opponentDeviceId,this.opponentSessionId=D.opponentSessionId,this.groupCallId=D.groupCallId,this.turnServers=D.turnServers||[],this.turnServers.length===0&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[U]});for(const B of this.turnServers)o.checkObjectHasKeys(B,["urls"]);this.callId=G()}async placeVoiceCall(){await this.placeCall(!0,!1)}async placeVideoCall(){await this.placeCall(!0,!0)}createDataChannel(D,R){const B=this.peerConn.createDataChannel(D,R);return this.emit(S.DataChannel,B),B}getOpponentMember(){return this.opponentMember}getOpponentDeviceId(){return this.opponentDeviceId}getOpponentSessionId(){return this.opponentSessionId}opponentCanBeTransferred(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.transferee"])}opponentSupportsDTMF(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.dtmf"])}getRemoteAssertedIdentity(){return this.remoteAssertedIdentity}get type(){return this.hasLocalUserMediaVideoTrack||this.hasRemoteUserMediaVideoTrack?y.Video:y.Voice}get hasLocalUserMediaVideoTrack(){var D;return!!((D=this.localUsermediaStream)!==null&&D!==void 0&&D.getVideoTracks().length)}get hasRemoteUserMediaVideoTrack(){return this.getRemoteFeeds().some(D=>{var R;return D.purpose===l.SDPStreamMetadataPurpose.Usermedia&&((R=D.stream)===null||R===void 0?void 0:R.getVideoTracks().length)})}get hasLocalUserMediaAudioTrack(){var D;return!!((D=this.localUsermediaStream)!==null&&D!==void 0&&D.getAudioTracks().length)}get hasRemoteUserMediaAudioTrack(){return this.getRemoteFeeds().some(D=>{var R;return D.purpose===l.SDPStreamMetadataPurpose.Usermedia&&!!((R=D.stream)!==null&&R!==void 0&&R.getAudioTracks().length)})}get localUsermediaFeed(){return this.getLocalFeeds().find(D=>D.purpose===l.SDPStreamMetadataPurpose.Usermedia)}get localScreensharingFeed(){return this.getLocalFeeds().find(D=>D.purpose===l.SDPStreamMetadataPurpose.Screenshare)}get localUsermediaStream(){var D;return(D=this.localUsermediaFeed)===null||D===void 0?void 0:D.stream}get localScreensharingStream(){var D;return(D=this.localScreensharingFeed)===null||D===void 0?void 0:D.stream}get remoteUsermediaFeed(){return this.getRemoteFeeds().find(D=>D.purpose===l.SDPStreamMetadataPurpose.Usermedia)}get remoteScreensharingFeed(){return this.getRemoteFeeds().find(D=>D.purpose===l.SDPStreamMetadataPurpose.Screenshare)}get remoteUsermediaStream(){var D;return(D=this.remoteUsermediaFeed)===null||D===void 0?void 0:D.stream}get remoteScreensharingStream(){var D;return(D=this.remoteScreensharingFeed)===null||D===void 0?void 0:D.stream}getFeedByStreamId(D){return this.getFeeds().find(R=>R.stream.id===D)}getFeeds(){return this.feeds}getLocalFeeds(){return this.feeds.filter(D=>D.isLocal())}getRemoteFeeds(){return this.feeds.filter(D=>!D.isLocal())}async initOpponentCrypto(){var D;if(!this.opponentDeviceId||!this.client.getUseE2eForGroupCall())return;if(!this.client.isCryptoEnabled()){this.opponentDeviceInfo=new s.DeviceInfo(this.opponentDeviceId);return}if(!this.client.crypto)throw new Error("Crypto is not initialised.");const R=this.invitee||((D=this.getOpponentMember())===null||D===void 0?void 0:D.userId);if(!R)throw new Error("Couldn't find opponent user ID to init crypto");const B=await this.client.crypto.deviceList.downloadKeys([R],!1);if(this.opponentDeviceInfo=B[R][this.opponentDeviceId],this.opponentDeviceInfo===void 0)throw new g.GroupCallUnknownDeviceError(R)}getLocalSDPStreamMetadata(D=!1){const R={};for(const B of this.getLocalFeeds())D&&(B.sdpMetadataStreamId=B.stream.id),R[B.sdpMetadataStreamId]={purpose:B.purpose,audio_muted:B.isAudioMuted(),video_muted:B.isVideoMuted()};return R}noIncomingFeeds(){return!this.feeds.some(D=>!D.isLocal())}pushRemoteFeed(D){if(!this.opponentSupportsSDPStreamMetadata()){this.pushRemoteFeedWithoutMetadata(D);return}const R=this.getOpponentMember().userId,B=this.remoteSDPStreamMetadata[D.id].purpose,H=this.remoteSDPStreamMetadata[D.id].audio_muted,Q=this.remoteSDPStreamMetadata[D.id].video_muted;if(!B){r.logger.warn(`Call ${this.callId} Ignoring stream with id ${D.id} because we didn't get any metadata about it`);return}if(this.getFeedByStreamId(D.id)){r.logger.warn(`Ignoring stream with id ${D.id} because we already have a feed for it`);return}this.feeds.push(new u.CallFeed({client:this.client,roomId:this.roomId,userId:R,deviceId:this.getOpponentDeviceId(),stream:D,purpose:B,audioMuted:H,videoMuted:Q})),this.emit(S.FeedsChanged,this.feeds),r.logger.info(`Call ${this.callId} pushed remote stream (id="${D.id}", active="${D.active}", purpose=${B})`)}pushRemoteFeedWithoutMetadata(D){var R;const B=this.getOpponentMember().userId,H=l.SDPStreamMetadataPurpose.Usermedia,Q=(R=this.feeds.find(L=>!L.isLocal()))===null||R===void 0?void 0:R.stream;if(Q&&D.id!==Q.id){r.logger.warn(`Call ${this.callId} Ignoring new stream ID ${D.id}: we already have stream ID ${Q.id}`);return}if(this.getFeedByStreamId(D.id)){r.logger.warn(`Ignoring stream with id ${D.id} because we already have a feed for it`);return}this.feeds.push(new u.CallFeed({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:B,deviceId:this.getOpponentDeviceId(),stream:D,purpose:H})),this.emit(S.FeedsChanged,this.feeds),r.logger.info(`Call ${this.callId} pushed remote stream (id="${D.id}", active="${D.active}")`)}pushNewLocalFeed(D,R,B=!0){const H=this.client.getUserId();if(A(D.getAudioTracks(),!0),A(D.getVideoTracks(),!0),this.getFeedByStreamId(D.id)){r.logger.warn(`Ignoring stream with id ${D.id} because we already have a feed for it`);return}this.pushLocalFeed(new u.CallFeed({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:H,deviceId:this.getOpponentDeviceId(),stream:D,purpose:R}),B)}pushLocalFeed(D,R=!0){if(this.feeds.some(B=>D.stream.id===B.stream.id)){r.logger.info(`Ignoring duplicate local stream ${D.stream.id} in call ${this.callId}`);return}if(this.feeds.push(D),R)for(const B of D.stream.getTracks()){r.logger.info(`Call ${this.callId} Adding track (id="${B.id}", kind="${B.kind}", streamId="${D.stream.id}", streamPurpose="${D.purpose}", enabled=${B.enabled}) to peer connection`);const H=I(D.purpose,B.kind);if(this.transceivers.has(H)){const Q=this.transceivers.get(H);Q.sender.setStreams&&Q.sender.setStreams(D.stream),Q.sender.replaceTrack(B),Q.direction=Q.direction==="inactive"?"sendonly":"sendrecv"}else{const Q=this.peerConn.addTrack(B,D.stream),L=this.peerConn.getTransceivers().find(le=>le.sender===Q);L?this.transceivers.set(H,L):r.logger.warn("Didn't find a matching transceiver after adding track!")}}r.logger.info(`Call ${this.callId} Pushed local stream (id="${D.stream.id}", active="${D.stream.active}", purpose="${D.purpose}")`),this.emit(S.FeedsChanged,this.feeds)}removeLocalFeed(D){const R=I(D.purpose,"audio"),B=I(D.purpose,"video");for(const H of[R,B])if(this.transceivers.has(H)){const Q=this.transceivers.get(H);Q.sender&&this.peerConn.removeTrack(Q.sender)}D.purpose===l.SDPStreamMetadataPurpose.Screenshare&&this.client.getMediaHandler().stopScreensharingStream(D.stream),this.deleteFeed(D)}deleteAllFeeds(){for(const D of this.feeds)(!D.isLocal()||!this.groupCallId)&&D.dispose();this.feeds=[],this.emit(S.FeedsChanged,this.feeds)}deleteFeedByStream(D){const R=this.getFeedByStreamId(D.id);if(!R){r.logger.warn(`Call ${this.callId} Didn't find the feed with stream id ${D.id} to delete`);return}this.deleteFeed(R)}deleteFeed(D){D.dispose(),this.feeds.splice(this.feeds.indexOf(D),1),this.emit(S.FeedsChanged,this.feeds)}async getCurrentCallStats(){return this.callHasEnded()?this.callStatsAtEnd:this.collectCallStats()}async collectCallStats(){if(!this.peerConn)return;const D=await this.peerConn.getStats(),R=[];return D.forEach(B=>{R.push(B)}),R}async initWithInvite(D){var R;const B=D.getContent();this.direction=w.Inbound,await this.client.checkTurnServers()||r.logger.warn(`Call ${this.callId} Failed to get TURN credentials! Proceeding with call anyway...`);const Q=B[l.SDPStreamMetadataKey];Q?this.updateRemoteSDPStreamMetadata(Q):r.logger.debug(`Call ${this.callId} did not get any SDPStreamMetadata! Can not send/receive multiple streams`),this.peerConn=this.createPeerConnection(),this.chooseOpponent(D),await this.initOpponentCrypto();try{await this.peerConn.setRemoteDescription(B.offer),await this.addBufferedIceCandidates()}catch(le){r.logger.debug(`Call ${this.callId} failed to set remote description`,le),this.terminate(b.Local,x.SetRemoteDescription,!1);return}const L=(R=this.feeds.find(le=>!le.isLocal()))===null||R===void 0?void 0:R.stream;if(!L||L.getTracks().length===0){r.logger.error(`Call ${this.callId} no remote stream or no tracks after setting remote description!`),this.terminate(b.Local,x.SetRemoteDescription,!1);return}if(this.setState(v.Ringing),D.getLocalAge()){const le=setTimeout(()=>{this.state==v.Ringing&&(r.logger.debug(`Call ${this.callId} invite has expired. Hanging up.`),this.hangupParty=b.Remote,this.setState(v.Ended),this.stopAllMedia(),this.peerConn.signalingState!="closed"&&this.peerConn.close(),this.emit(S.Hangup,this))},B.lifetime-D.getLocalAge()),he=De=>{De!==v.Ringing&&(clearTimeout(le),this.off(S.State,he))};this.on(S.State,he)}}initWithHangup(D){this.setState(v.Ended)}shouldAnswerWithMediaType(D,R,B){return D&&!R?(r.logger.warn(`Call ${this.callId} Unable to answer with ${B} because the other side isn't sending it either.`),!1):!o.isNullOrUndefined(D)&&D!==R&&!this.opponentSupportsSDPStreamMetadata()?(r.logger.warn(`Call ${this.callId} Unable to answer with ${B}=${D} because the other side doesn't support it. Answering with ${B}=${R}.`),R):D??R}async answer(D,R){if(!this.inviteOrAnswerSent){if(D===!1&&R===!1)throw new Error("You CANNOT answer a call without media");if(!this.localUsermediaStream&&!this.waitForLocalAVStream){const H=this.state,Q=this.shouldAnswerWithMediaType(D,this.hasRemoteUserMediaAudioTrack,"audio"),L=this.shouldAnswerWithMediaType(R,this.hasRemoteUserMediaVideoTrack,"video");this.setState(v.WaitLocalMedia),this.waitForLocalAVStream=!0;try{var B;const le=await this.client.getMediaHandler().getUserMediaStream(Q,L);this.waitForLocalAVStream=!1;const De=[new u.CallFeed({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),deviceId:(B=this.client.getDeviceId())!==null&&B!==void 0?B:void 0,stream:le,purpose:l.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1})];this.localScreensharingFeed&&De.push(this.localScreensharingFeed),this.answerWithCallFeeds(De)}catch(le){if(L)r.logger.warn(`Call ${this.callId} Failed to getUserMedia(), trying to getUserMedia() without video`),this.setState(H),this.waitForLocalAVStream=!1,await this.answer(Q,!1);else{this.getUserMediaFailed(le);return}}}else this.waitForLocalAVStream&&this.setState(v.WaitLocalMedia)}}answerWithCallFeeds(D){this.inviteOrAnswerSent||this.queueGotCallFeedsForAnswer(D)}replacedBy(D){r.logger.debug(`Call ${this.callId} replaced by ${D.callId}`),this.state===v.WaitLocalMedia?(r.logger.debug(`Call ${this.callId} telling new call ${D.callId} to wait for local media`),D.waitForLocalAVStream=!0):[v.CreateOffer,v.InviteSent].includes(this.state)&&(D.direction===w.Outbound?D.queueGotCallFeedsForAnswer([]):(r.logger.debug(`Call ${this.callId} handing local stream to new call ${D.callId}`),D.queueGotCallFeedsForAnswer(this.getLocalFeeds().map(R=>R.clone())))),this.successor=D,this.emit(S.Replaced,D),this.hangup(x.Replaced,!0)}hangup(D,R){if(this.callHasEnded()||(r.logger.debug(`Ending call ${this.callId} with reason ${D}`),this.terminate(b.Local,D,!R),[v.Fledgling,v.WaitLocalMedia].includes(this.state)))return;const B={};(this.opponentVersion&&this.opponentVersion!==0||D!==x.UserHangup)&&(B.reason=D),this.sendVoipEvent(i.EventType.CallHangup,B)}reject(){if(this.state!==v.Ringing)throw Error("Call must be in 'ringing' state to reject!");if(this.opponentVersion===0){r.logger.info(`Call ${this.callId} Opponent version is less than 1 (${this.opponentVersion}): sending hangup instead of reject`),this.hangup(x.UserHangup,!0);return}r.logger.debug("Rejecting call: "+this.callId),this.terminate(b.Local,x.UserHangup,!0),this.sendVoipEvent(i.EventType.CallReject,{})}async upgradeCall(D,R){if(!(!D&&!R)&&this.opponentSupportsSDPStreamMetadata())try{r.logger.debug(`Upgrading call ${this.callId}: audio?=${D} video?=${R}`);const B=D||this.hasLocalUserMediaAudioTrack,H=R||this.hasLocalUserMediaVideoTrack,Q=await this.client.getMediaHandler().getUserMediaStream(B,H,!1);await this.updateLocalUsermediaStream(Q,D,R)}catch(B){r.logger.error(`Call ${this.callId} Failed to upgrade the call`,B),this.emit(S.Error,new P(x.NoUserMedia,"Failed to get camera access: ",B))}}opponentSupportsSDPStreamMetadata(){return Boolean(this.remoteSDPStreamMetadata)}isScreensharing(){return Boolean(this.localScreensharingStream)}async setScreensharingEnabled(D,R){if(D&&this.isScreensharing())return r.logger.warn(`Call ${this.callId} There is already a screensharing stream - there is nothing to do!`),!0;if(!D&&!this.isScreensharing())return r.logger.warn(`Call ${this.callId} There already isn't a screensharing stream - there is nothing to do!`),!1;if(!this.opponentSupportsSDPStreamMetadata())return this.setScreensharingEnabledWithoutMetadataSupport(D,R);if(r.logger.debug(`Call ${this.callId} set screensharing enabled? ${D}`),D)try{const B=await this.client.getMediaHandler().getScreensharingStream(R);return B?(this.pushNewLocalFeed(B,l.SDPStreamMetadataPurpose.Screenshare),!0):!1}catch(B){return r.logger.error(`Call ${this.callId} Failed to get screen-sharing stream:`,B),!1}else{const B=this.transceivers.get(I(l.SDPStreamMetadataPurpose.Screenshare,"audio")),H=this.transceivers.get(I(l.SDPStreamMetadataPurpose.Screenshare,"video"));for(const Q of[B,H])Q&&Q.sender&&this.peerConn.removeTrack(Q.sender);return this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}}async setScreensharingEnabledWithoutMetadataSupport(D,R){if(r.logger.debug(`Call ${this.callId} Set screensharing enabled? ${D} using replaceTrack()`),D)try{var B;const L=await this.client.getMediaHandler().getScreensharingStream(R);if(!L)return!1;const le=L.getTracks().find(De=>De.kind==="video"),he=(B=this.transceivers.get(I(l.SDPStreamMetadataPurpose.Usermedia,"video")))===null||B===void 0?void 0:B.sender;return he==null||he.replaceTrack(le??null),this.pushNewLocalFeed(L,l.SDPStreamMetadataPurpose.Screenshare,!1),!0}catch(L){return r.logger.error(`Call ${this.callId} Failed to get screen-sharing stream:`,L),!1}else{var H,Q;const L=(H=this.localUsermediaStream)===null||H===void 0?void 0:H.getTracks().find(he=>he.kind==="video"),le=(Q=this.transceivers.get(I(l.SDPStreamMetadataPurpose.Usermedia,"video")))===null||Q===void 0?void 0:Q.sender;return le==null||le.replaceTrack(L??null),this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}}async updateLocalUsermediaStream(D,R=!1,B=!1){const H=this.localUsermediaFeed,Q=R||!H.isAudioMuted()&&!this.remoteOnHold,L=B||!H.isVideoMuted()&&!this.remoteOnHold;r.logger.log(`call ${this.callId} updateLocalUsermediaStream stream ${D.id} audioEnabled ${Q} videoEnabled ${L}`),A(D.getAudioTracks(),Q),A(D.getVideoTracks(),L);for(const he of this.localUsermediaStream.getTracks())this.localUsermediaStream.removeTrack(he),he.stop();for(const he of D.getTracks())this.localUsermediaStream.addTrack(he);for(const he of D.getTracks()){var le;const De=I(l.SDPStreamMetadataPurpose.Usermedia,he.kind),ke=(le=this.transceivers.get(De))===null||le===void 0?void 0:le.sender;let W=!1;if(ke)try{r.logger.info(`Call ${this.callId} Replacing track (id="${he.id}", kind="${he.kind}", streamId="${D.id}", streamPurpose="${H.purpose}") to peer connection`),await ke.replaceTrack(he),W=!0}catch(z){r.logger.warn("replaceTrack failed: adding new transceiver instead",z)}if(!W){r.logger.info(`Call ${this.callId} Adding track (id="${he.id}", kind="${he.kind}", streamId="${D.id}", streamPurpose="${H.purpose}") to peer connection`);const z=this.peerConn.addTrack(he,this.localUsermediaStream),oe=this.peerConn.getTransceivers().find(ce=>ce.sender===z);oe?this.transceivers.set(De,oe):r.logger.warn("Couldn't find matching transceiver for newly added track!")}}}async setLocalVideoMuted(D){var R;return r.logger.log(`call ${this.callId} setLocalVideoMuted ${D}`),await this.client.getMediaHandler().hasVideoDevice()?!this.hasLocalUserMediaVideoTrack&&!D?(await this.upgradeCall(!1,!0),this.isLocalVideoMuted()):((R=this.localUsermediaFeed)===null||R===void 0||R.setAudioVideoMuted(null,D),this.updateMuteStatus(),await this.sendMetadataUpdate(),this.isLocalVideoMuted()):this.isLocalVideoMuted()}isLocalVideoMuted(){var D,R;return(D=(R=this.localUsermediaFeed)===null||R===void 0?void 0:R.isVideoMuted())!==null&&D!==void 0?D:!1}async setMicrophoneMuted(D){var R;return r.logger.log(`call ${this.callId} setMicrophoneMuted ${D}`),await this.client.getMediaHandler().hasAudioDevice()?!this.hasLocalUserMediaAudioTrack&&!D?(await this.upgradeCall(!0,!1),this.isMicrophoneMuted()):((R=this.localUsermediaFeed)===null||R===void 0||R.setAudioVideoMuted(D,null),this.updateMuteStatus(),await this.sendMetadataUpdate(),this.isMicrophoneMuted()):this.isMicrophoneMuted()}isMicrophoneMuted(){var D,R;return(D=(R=this.localUsermediaFeed)===null||R===void 0?void 0:R.isAudioMuted())!==null&&D!==void 0?D:!1}isRemoteOnHold(){return this.remoteOnHold}setRemoteOnHold(D){if(this.isRemoteOnHold()!==D){this.remoteOnHold=D;for(const R of this.peerConn.getTransceivers())R.direction=D?"sendonly":"sendrecv";this.updateMuteStatus(),this.sendMetadataUpdate(),this.emit(S.RemoteHoldUnhold,this.remoteOnHold)}}isLocalOnHold(){if(this.state!==v.Connected)return!1;let D=!0;for(const R of this.peerConn.getTransceivers())["inactive","recvonly"].includes(R.currentDirection)||(D=!1);return D}sendDtmfDigit(D){for(const B of this.peerConn.getSenders()){var R;if(((R=B.track)===null||R===void 0?void 0:R.kind)==="audio"&&B.dtmf){B.dtmf.insertDTMF(D);return}}throw new Error("Unable to find a track to send DTMF on")}updateMuteStatus(){const D=this.isMicrophoneMuted()||this.remoteOnHold,R=this.isLocalVideoMuted()||this.remoteOnHold;r.logger.log(`call ${this.callId} updateMuteStatus stream ${this.localUsermediaStream.id} micShouldBeMuted ${D} vidShouldBeMuted ${R}`),A(this.localUsermediaStream.getAudioTracks(),!D),A(this.localUsermediaStream.getVideoTracks(),!R)}async sendMetadataUpdate(){await this.sendVoipEvent(i.EventType.CallSDPStreamMetadataChangedPrefix,{[l.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata()})}gotCallFeedsForInvite(D,R=!1){if(this.successor){this.successor.queueGotCallFeedsForAnswer(D);return}if(this.callHasEnded()){this.stopAllMedia();return}for(const B of D)this.pushLocalFeed(B);R&&this.peerConn.addTransceiver("video",{direction:"recvonly"}),this.setState(v.CreateOffer),r.logger.debug(`Call ${this.callId} gotUserMediaForInvite`)}async sendAnswer(){const D={answer:{sdp:this.peerConn.localDescription.sdp,type:this.peerConn.localDescription.type},[l.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata(!0)};D.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1};const R=this.discardDuplicateCandidates();r.logger.info(`Call ${this.callId} Discarding ${R} candidates that will be sent in answer`);try{await this.sendVoipEvent(i.EventType.CallAnswer,D),this.inviteOrAnswerSent=!0}catch(B){this.setState(v.Ringing),B instanceof c.MatrixError&&B.event&&this.client.cancelPendingEvent(B.event);let H=x.SendAnswer,Q="Failed to send answer";throw B.name=="UnknownDeviceError"&&(H=x.UnknownDevices,Q="Unknown devices present in the room"),this.emit(S.Error,new P(H,Q,B)),B}this.sendCandidateQueue()}queueGotCallFeedsForAnswer(D){this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(()=>this.gotCallFeedsForAnswer(D)):this.responsePromiseChain=this.gotCallFeedsForAnswer(D)}mungeSdp(D,R){const B=(0,n.parse)(D.sdp);B.media.forEach(H=>{const Q=new Map,L=new Map;for(const le of H.rtp)Q.set(le.payload,le.codec),L.set(le.codec,le.payload);for(const le of R){if(le.mediaType!==H.type)continue;if(!L.has(le.codec)){r.logger.info(`Ignoring SDP modifications for ${le.codec} as it's not present.`);continue}const he=[];le.enableDtx!==void 0&&he.push(`usedtx=${le.enableDtx?"1":"0"}`),le.maxAverageBitrate!==void 0&&he.push(`maxaveragebitrate=${le.maxAverageBitrate}`);let De=!1;for(const ke of H.fmtp)Q.get(ke.payload)===le.codec&&(De=!0,ke.config+=";"+he.join(";"));De||H.fmtp.push({payload:L.get(le.codec),config:he.join(";")})}}),D.sdp=(0,n.write)(B)}async createOffer(){const D=await this.peerConn.createOffer();return this.mungeSdp(D,C(this.isPtt)),D}async createAnswer(){const D=await this.peerConn.createAnswer();return this.mungeSdp(D,C(this.isPtt)),D}async gotCallFeedsForAnswer(D){if(this.callHasEnded())return;this.waitForLocalAVStream=!1;for(const B of D)this.pushLocalFeed(B);this.setState(v.CreateAnswer);let R;try{this.getRidOfRTXCodecs(),R=await this.createAnswer()}catch(B){r.logger.debug(`Call ${this.callId} Failed to create answer: `,B),this.terminate(b.Local,x.CreateAnswer,!0);return}try{if(await this.peerConn.setLocalDescription(R),this.callHasEnded()||(this.setState(v.Connecting),await new Promise(B=>{setTimeout(B,200)}),this.callHasEnded()))return;this.sendAnswer()}catch(B){r.logger.debug(`Call ${this.callId} Error setting local description!`,B),this.terminate(b.Local,x.SetLocalDescription,!0);return}}async onRemoteIceCandidatesReceived(D){if(this.callHasEnded())return;const R=D.getContent(),B=R.candidates;if(!B){r.logger.info(`Call ${this.callId} Ignoring candidates event with no candidates!`);return}const H=R.version===0?null:R.party_id||null;if(this.opponentPartyId===void 0){if(H){r.logger.info(`Call ${this.callId} Buffering ${B.length} candidates until we pick an opponent`);const Q=this.remoteCandidateBuffer.get(H)||[];Q.push(...B),this.remoteCandidateBuffer.set(H,Q)}return}if(!this.partyIdMatches(R)){r.logger.info(`Call ${this.callId} Ignoring candidates from party ID ${R.party_id}: we have chosen party ID ${this.opponentPartyId}`);return}await this.addIceCandidates(B)}async onAnswerReceived(D){const R=D.getContent();if(r.logger.debug(`Got answer for call ID ${this.callId} from party ID ${R.party_id}`),this.callHasEnded()){r.logger.debug(`Ignoring answer because call ID ${this.callId} has ended`);return}if(this.opponentPartyId!==void 0){r.logger.info(`Call ${this.callId} Ignoring answer from party ID ${R.party_id}: we already have an answer/reject from ${this.opponentPartyId}`);return}this.chooseOpponent(D),await this.addBufferedIceCandidates(),this.setState(v.Connecting);const B=R[l.SDPStreamMetadataKey];B?this.updateRemoteSDPStreamMetadata(B):r.logger.warn(`Call ${this.callId} Did not get any SDPStreamMetadata! Can not send/receive multiple streams`);try{await this.peerConn.setRemoteDescription(R.answer)}catch(H){r.logger.debug(`Call ${this.callId} Failed to set remote description`,H),this.terminate(b.Local,x.SetRemoteDescription,!1);return}if(this.opponentPartyId!==null)try{await this.sendVoipEvent(i.EventType.CallSelectAnswer,{selected_party_id:this.opponentPartyId})}catch(H){r.logger.warn(`Call ${this.callId} Failed to send select_answer event`,H)}}async onSelectAnswerReceived(D){if(this.direction!==w.Inbound){r.logger.warn(`Call ${this.callId} Got select_answer for an outbound call: ignoring`);return}const R=D.getContent().selected_party_id;if(R==null){r.logger.warn(`Call ${this.callId} Got nonsensical select_answer with null/undefined selected_party_id: ignoring`);return}R!==this.ourPartyId&&(r.logger.info(`Call ${this.callId} Got select_answer for party ID ${R}: we are party ID ${this.ourPartyId}.`),await this.terminate(b.Remote,x.AnsweredElsewhere,!0))}async onNegotiateReceived(D){const R=D.getContent(),B=R.description;if(!B||!B.sdp||!B.type){r.logger.info(`Call ${this.callId} Ignoring invalid m.call.negotiate event`);return}const H=this.direction===w.Inbound,Q=B.type==="offer"&&(this.makingOffer||this.peerConn.signalingState!=="stable");if(this.ignoreOffer=!H&&Q,this.ignoreOffer){r.logger.info(`Call ${this.callId} Ignoring colliding negotiate event because we're impolite`);return}const L=this.isLocalOnHold(),le=R[l.SDPStreamMetadataKey];le?this.updateRemoteSDPStreamMetadata(le):r.logger.warn(`Call ${this.callId} Received negotiation event without SDPStreamMetadata!`);try{if(await this.peerConn.setRemoteDescription(B),B.type==="offer"){var he;let ke;try{this.getRidOfRTXCodecs(),ke=await this.createAnswer()}catch(W){r.logger.debug(`Call ${this.callId} Failed to create answer: `,W),this.terminate(b.Local,x.CreateAnswer,!0);return}await this.peerConn.setLocalDescription(ke),this.sendVoipEvent(i.EventType.CallNegotiate,{description:(he=this.peerConn.localDescription)===null||he===void 0?void 0:he.toJSON(),[l.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata(!0)})}}catch(ke){r.logger.warn(`Call ${this.callId} Failed to complete negotiation`,ke)}const De=this.isLocalOnHold();L!==De&&(this.emit(S.LocalHoldUnhold,De),this.emit(S.HoldUnhold,De))}updateRemoteSDPStreamMetadata(D){this.remoteSDPStreamMetadata=o.recursivelyAssign(this.remoteSDPStreamMetadata||{},D,!0);for(const B of this.getRemoteFeeds()){var R;const H=B.stream.id,Q=this.remoteSDPStreamMetadata[H];B.setAudioVideoMuted(Q==null?void 0:Q.audio_muted,Q==null?void 0:Q.video_muted),B.purpose=(R=this.remoteSDPStreamMetadata[H])===null||R===void 0?void 0:R.purpose}}onSDPStreamMetadataChangedReceived(D){const B=D.getContent()[l.SDPStreamMetadataKey];this.updateRemoteSDPStreamMetadata(B)}async onAssertedIdentityReceived(D){const R=D.getContent();R.asserted_identity&&(this.remoteAssertedIdentity={id:R.asserted_identity.id,displayName:R.asserted_identity.display_name},this.emit(S.AssertedIdentityChanged))}callHasEnded(){return this.state===v.Ended}queueGotLocalOffer(){this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(()=>this.wrappedGotLocalOffer()):this.responsePromiseChain=this.wrappedGotLocalOffer()}async wrappedGotLocalOffer(){this.makingOffer=!0;try{await this.gotLocalOffer()}catch(D){this.getLocalOfferFailed(D);return}finally{this.makingOffer=!1}}async gotLocalOffer(){if(r.logger.debug(`Call ${this.callId} Setting local description`),this.callHasEnded()){r.logger.debug("Ignoring newly created offer on call ID "+this.callId+" because the call has ended");return}let D;try{this.getRidOfRTXCodecs(),D=await this.createOffer()}catch(le){r.logger.debug(`Call ${this.callId} Failed to create offer: `,le),this.terminate(b.Local,x.CreateOffer,!0);return}try{await this.peerConn.setLocalDescription(D)}catch(le){r.logger.debug(`Call ${this.callId} Error setting local description!`,le),this.terminate(b.Local,x.SetLocalDescription,!0);return}if(this.peerConn.iceGatheringState==="gathering"&&await new Promise(le=>{setTimeout(le,200)}),this.callHasEnded())return;const R=this.state===v.CreateOffer?i.EventType.CallInvite:i.EventType.CallNegotiate,B={lifetime:q};if(R===i.EventType.CallInvite&&this.invitee&&(B.invitee=this.invitee),this.state===v.CreateOffer){var H;B.offer=(H=this.peerConn.localDescription)===null||H===void 0?void 0:H.toJSON()}else{var Q;B.description=(Q=this.peerConn.localDescription)===null||Q===void 0?void 0:Q.toJSON()}B.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1},B[l.SDPStreamMetadataKey]=this.getLocalSDPStreamMetadata(!0);const L=this.discardDuplicateCandidates();r.logger.info(`Call ${this.callId} Discarding ${L} candidates that will be sent in offer`);try{await this.sendVoipEvent(R,B)}catch(le){r.logger.error(`Call ${this.callId} Failed to send invite`,le),le instanceof c.MatrixError&&le.event&&this.client.cancelPendingEvent(le.event);let he=x.SignallingFailed,De="Signalling failed";this.state===v.CreateOffer&&(he=x.SendInvite,De="Failed to send invite"),le.name=="UnknownDeviceError"&&(he=x.UnknownDevices,De="Unknown devices present in the room"),this.emit(S.Error,new P(he,De,le)),this.terminate(b.Local,he,!1);return}this.sendCandidateQueue(),this.state===v.CreateOffer&&(this.inviteOrAnswerSent=!0,this.setState(v.InviteSent),this.inviteTimeout=setTimeout(()=>{this.inviteTimeout=void 0,this.state===v.InviteSent&&this.hangup(x.InviteTimeout,!1)},q))}getRidOfRTXCodecs(){if(!RTCRtpReceiver.getCapabilities||!RTCRtpSender.getCapabilities)return;const D=RTCRtpReceiver.getCapabilities("video").codecs,B=[...RTCRtpSender.getCapabilities("video").codecs,...D];for(const Q of B)if(Q.mimeType==="video/rtx"){const L=B.indexOf(Q);B.splice(L,1)}const H=this.transceivers.get(I(l.SDPStreamMetadataPurpose.Screenshare,"video"));H&&H.setCodecPreferences(B)}setState(D){const R=this.state;this.state=D,this.emit(S.State,D,R)}async sendVoipEvent(D,R){const B=Object.assign({},R,{version:N,call_id:this.callId,party_id:this.ourPartyId,conf_id:this.groupCallId});if(this.opponentDeviceId){var H;const L=this.toDeviceSeq++,le=m(m({},B),{},{device_id:this.client.deviceId,sender_session_id:this.client.getSessionId(),dest_session_id:this.opponentSessionId,seq:L});this.emit(S.SendVoipEvent,{type:"toDevice",eventType:D,userId:this.invitee||((H=this.getOpponentMember())===null||H===void 0?void 0:H.userId),opponentDeviceId:this.opponentDeviceId,content:le});const he=this.invitee||this.getOpponentMember().userId;this.client.getUseE2eForGroupCall()?await this.client.encryptAndSendToDevices([{userId:he,deviceInfo:this.opponentDeviceInfo}],{type:D,content:le}):await this.client.sendToDevice(D,{[he]:{[this.opponentDeviceId]:le}})}else{var Q;this.emit(S.SendVoipEvent,{type:"sendEvent",eventType:D,roomId:this.roomId,content:B,userId:this.invitee||((Q=this.getOpponentMember())===null||Q===void 0?void 0:Q.userId)}),await this.client.sendEvent(this.roomId,D,B)}}queueCandidate(D){if(D?this.candidateSendQueue.push(D):this.candidatesEnded=!0,this.state===v.Ringing||!this.inviteOrAnswerSent)return;const R=this.direction===w.Inbound?500:2e3;this.candidateSendTries===0&&setTimeout(()=>{this.sendCandidateQueue()},R)}discardDuplicateCandidates(){let D=0;const R=[];for(let B=0;B<this.candidateSendQueue.length;B++){const H=this.candidateSendQueue[B];H.candidate===""?R.push(H):D++}return this.candidateSendQueue=R,D}async transfer(D){const R=await this.client.getProfileInfo(D),B=G(),H={replacement_id:G(),target_user:{id:D,display_name:R.displayname,avatar_url:R.avatar_url},create_call:B};await this.sendVoipEvent(i.EventType.CallReplaces,H),await this.terminate(b.Local,x.Transfered,!0)}async transferToCall(D){var R,B;const H=(R=D.getOpponentMember())===null||R===void 0?void 0:R.userId,Q=H?await this.client.getProfileInfo(H):void 0,L=(B=this.getOpponentMember())===null||B===void 0?void 0:B.userId,le=L?await this.client.getProfileInfo(L):void 0,he=G(),De={replacement_id:G(),target_user:{id:L,display_name:le==null?void 0:le.displayname,avatar_url:le==null?void 0:le.avatar_url},await_call:he};await D.sendVoipEvent(i.EventType.CallReplaces,De);const ke={replacement_id:G(),target_user:{id:H,display_name:Q==null?void 0:Q.displayname,avatar_url:Q==null?void 0:Q.avatar_url},create_call:he};await this.sendVoipEvent(i.EventType.CallReplaces,ke),await this.terminate(b.Local,x.Transfered,!0),await D.terminate(b.Local,x.Transfered,!0)}async terminate(D,R,B){if(!this.callHasEnded()){this.hangupParty=D,this.hangupReason=R,this.setState(v.Ended),this.inviteTimeout&&(clearTimeout(this.inviteTimeout),this.inviteTimeout=void 0),this.callLengthInterval&&(clearInterval(this.callLengthInterval),this.callLengthInterval=void 0);for(const[H,Q]of this.removeTrackListeners)H.removeEventListener("removetrack",Q);this.removeTrackListeners.clear(),this.callStatsAtEnd=await this.collectCallStats(),this.stopAllMedia(),this.deleteAllFeeds(),this.peerConn&&this.peerConn.signalingState!=="closed"&&this.peerConn.close(),B&&this.emit(S.Hangup,this),this.client.callEventHandler.calls.delete(this.callId)}}stopAllMedia(){r.logger.debug(this.groupCallId?`Call ${this.callId} stopping all media except local feeds`:`Call ${this.callId} stopping all media`);for(const D of this.feeds)if(D.isLocal()&&D.purpose===l.SDPStreamMetadataPurpose.Usermedia&&!this.groupCallId)this.client.getMediaHandler().stopUserMediaStream(D.stream);else if(D.isLocal()&&D.purpose===l.SDPStreamMetadataPurpose.Screenshare&&!this.groupCallId)this.client.getMediaHandler().stopScreensharingStream(D.stream);else if(!D.isLocal()||!this.groupCallId){r.logger.debug("Stopping remote stream",D.stream.id);for(const R of D.stream.getTracks())R.stop()}}checkForErrorListener(){if(this.listeners(d.EventEmitterEvents.Error).length===0)throw new Error("You MUST attach an error listener using call.on('error', function() {})")}async sendCandidateQueue(){if(this.candidateSendQueue.length===0||this.callHasEnded())return;const D=this.candidateSendQueue;this.candidateSendQueue=[],++this.candidateSendTries;const R={candidates:D.map(B=>B.toJSON())};this.candidatesEnded&&R.candidates.push({candidate:""}),r.logger.debug(`Call ${this.callId} attempting to send ${D.length} candidates`);try{await this.sendVoipEvent(i.EventType.CallCandidates,R),this.candidateSendTries=0,this.sendCandidateQueue()}catch(B){if(B instanceof c.MatrixError&&B.event&&this.client.cancelPendingEvent(B.event),this.candidateSendQueue.push(...D),this.candidateSendTries>5){r.logger.debug(`Call ${this.callId} failed to send candidates on attempt ${this.candidateSendTries}. Giving up on this call.`,B);const Q=x.SignallingFailed,L="Signalling failed";this.emit(S.Error,new P(Q,L,B)),this.hangup(Q,!1);return}const H=500*Math.pow(2,this.candidateSendTries);++this.candidateSendTries,r.logger.debug(`Call ${this.callId} failed to send candidates. Retrying in ${H}ms`,B),setTimeout(()=>{this.sendCandidateQueue()},H)}}async placeCall(D,R){if(!D)throw new Error("You CANNOT start a call without audio");this.setState(v.WaitLocalMedia);try{var B;const H=await this.client.getMediaHandler().getUserMediaStream(D,R);A(H.getAudioTracks(),!0),A(H.getVideoTracks(),!0);const Q=new u.CallFeed({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),deviceId:(B=this.client.getDeviceId())!==null&&B!==void 0?B:void 0,stream:H,purpose:l.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1});await this.placeCallWithCallFeeds([Q])}catch(H){this.getUserMediaFailed(H);return}}async placeCallWithCallFeeds(D,R=!1){this.checkForErrorListener(),this.direction=w.Outbound,await this.initOpponentCrypto(),this.client.callEventHandler.calls.set(this.callId,this),await this.client.checkTurnServers()||r.logger.warn(`Call ${this.callId} Failed to get TURN credentials! Proceeding with call anyway...`),this.peerConn=this.createPeerConnection(),this.gotCallFeedsForInvite(D,R)}createPeerConnection(){const D=new window.RTCPeerConnection({iceTransportPolicy:this.forceTURN?"relay":void 0,iceServers:this.turnServers,iceCandidatePoolSize:this.client.iceCandidatePoolSize,bundlePolicy:"max-bundle"});return D.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChanged),D.addEventListener("signalingstatechange",this.onSignallingStateChanged),D.addEventListener("icecandidate",this.gotLocalIceCandidate),D.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),D.addEventListener("track",this.onTrack),D.addEventListener("negotiationneeded",this.onNegotiationNeeded),D.addEventListener("datachannel",this.onDataChannel),D}partyIdMatches(D){return(D.version===0?null:D.party_id||null)===this.opponentPartyId}chooseOpponent(D){var R;const B=D.getContent();r.logger.debug(`Call ${this.callId} choosing opponent party ID ${B.party_id}`),this.opponentVersion=B.version,this.opponentVersion===0?this.opponentPartyId=null:this.opponentPartyId=B.party_id||null,this.opponentCaps=B.capabilities||{},this.opponentMember=(R=this.client.getRoom(this.roomId).getMember(D.getSender()))!==null&&R!==void 0?R:void 0}async addBufferedIceCandidates(){const D=this.remoteCandidateBuffer.get(this.opponentPartyId);D&&(r.logger.info(`Call ${this.callId} Adding ${D.length} buffered candidates for opponent ${this.opponentPartyId}`),await this.addIceCandidates(D)),this.remoteCandidateBuffer.clear()}async addIceCandidates(D){for(const R of D){(R.sdpMid===null||R.sdpMid===void 0)&&(R.sdpMLineIndex===null||R.sdpMLineIndex===void 0)?r.logger.debug(`Call ${this.callId} got remote ICE end-of-candidates`):r.logger.debug(`Call ${this.callId} got remote ICE ${R.sdpMid} candidate: ${R.candidate}`);try{await this.peerConn.addIceCandidate(R)}catch(B){this.ignoreOffer||r.logger.info(`Call ${this.callId} failed to add remote ICE candidate`,B)}}}get hasPeerConnection(){return Boolean(this.peerConn)}}Ct.MatrixCall=M;function A(T,D){for(const R of T)R.enabled=D}function $(){if(typeof window>"u"||typeof document>"u")return!1;try{if(!Boolean(window.RTCPeerConnection||window.RTCSessionDescription||window.RTCIceCandidate||navigator.mediaDevices))return r.logger.error("WebRTC is not supported in this browser / environment"),!1}catch(T){return r.logger.error("Exception thrown when trying to access WebRTC",T),!1}return!0}function Y(T,D,R){if(!$())return null;const B=R?R.forceTURN:!1,H={client:T,roomId:D,invitee:R==null?void 0:R.invitee,turnServers:T.getTurnServers(),forceTURN:T.forceTURN||B,opponentDeviceId:R==null?void 0:R.opponentDeviceId,opponentSessionId:R==null?void 0:R.opponentSessionId,groupCallId:R==null?void 0:R.groupCallId},Q=new M(H);return T.reEmitter.reEmit(Q,Object.values(S)),Q}return Ct}var Ka={},$K=ze.exports;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.AutoDiscoveryAction=Ka.AutoDiscovery=void 0;var ar=$K(Je()),Go=lt(),q6=Bo;let er;Ka.AutoDiscoveryAction=er;(function(t){t.SUCCESS="SUCCESS",t.IGNORE="IGNORE",t.PROMPT="PROMPT",t.FAIL_PROMPT="FAIL_PROMPT",t.FAIL_ERROR="FAIL_ERROR"})(er||(Ka.AutoDiscoveryAction=er={}));var uo;(function(t){t.Invalid="Invalid homeserver discovery response",t.GenericFailure="Failed to get autodiscovery configuration from server",t.InvalidHsBaseUrl="Invalid base_url for m.homeserver",t.InvalidHomeserver="Homeserver URL does not appear to be a valid Matrix homeserver",t.InvalidIsBaseUrl="Invalid base_url for m.identity_server",t.InvalidIdentityServer="Identity server URL does not appear to be a valid identity server",t.InvalidIs="Invalid identity server discovery response",t.MissingWellknown="No .well-known JSON file found",t.InvalidJson="Invalid JSON"})(uo||(uo={}));class Ft{static async fromDiscoveryConfig(e){const n={"m.homeserver":{state:Ft.FAIL_ERROR,error:Ft.ERROR_INVALID,base_url:null},"m.identity_server":{state:Ft.PROMPT,error:null,base_url:null}};if(!e||!e["m.homeserver"])return Go.logger.error("No m.homeserver key in config"),n["m.homeserver"].state=Ft.FAIL_PROMPT,n["m.homeserver"].error=Ft.ERROR_INVALID,Promise.resolve(n);if(!e["m.homeserver"].base_url)return Go.logger.error("No m.homeserver base_url in config"),n["m.homeserver"].state=Ft.FAIL_PROMPT,n["m.homeserver"].error=Ft.ERROR_INVALID_HS_BASE_URL,Promise.resolve(n);const r=this.sanitizeWellKnownUrl(e["m.homeserver"].base_url);if(!r)return Go.logger.error("Invalid base_url for m.homeserver"),n["m.homeserver"].error=Ft.ERROR_INVALID_HS_BASE_URL,Promise.resolve(n);const o=await this.fetchWellKnownObject(`${r}/_matrix/client/versions`);if(!o||!o.raw.versions)return Go.logger.error("Invalid /versions response"),n["m.homeserver"].error=Ft.ERROR_INVALID_HOMESERVER,n["m.homeserver"].base_url=r,Promise.resolve(n);n["m.homeserver"]={state:Ft.SUCCESS,error:null,base_url:r};let i="";if(e["m.identity_server"]){const a={"m.homeserver":n["m.homeserver"],"m.identity_server":{state:Ft.FAIL_PROMPT,error:Ft.ERROR_INVALID_IS,base_url:null}};if(i=this.sanitizeWellKnownUrl(e["m.identity_server"].base_url),!i)return Go.logger.error("Invalid base_url for m.identity_server"),a["m.identity_server"].error=Ft.ERROR_INVALID_IS_BASE_URL,Promise.resolve(a);const l=await this.fetchWellKnownObject(`${i}/_matrix/identity/api/v1`);if(!l||!l.raw||l.action!==er.SUCCESS)return Go.logger.error("Invalid /api/v1 response"),a["m.identity_server"].error=Ft.ERROR_INVALID_IDENTITY_SERVER,a["m.identity_server"].base_url=i,Promise.resolve(a)}return i&&i.toString().length>0&&(n["m.identity_server"]={state:Ft.SUCCESS,error:null,base_url:i}),Object.keys(e).forEach(a=>{if(a==="m.homeserver"||a==="m.identity_server"){const l=["error","state","base_url"];for(const u of Object.keys(e[a]))l.includes(u)||(n[a][u]=e[a][u])}else n[a]=e[a]}),Promise.resolve(n)}static async findClientConfig(e){if(!e||typeof e!="string"||e.length===0)throw new Error("'domain' must be a string of non-zero length");const n={"m.homeserver":{state:Ft.FAIL_ERROR,error:Ft.ERROR_INVALID,base_url:null},"m.identity_server":{state:Ft.PROMPT,error:null,base_url:null}},r=await this.fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return!r||r.action!==er.SUCCESS?(Go.logger.error("No response or error when parsing .well-known"),r.reason&&Go.logger.error(r.reason),r.action===er.IGNORE?n["m.homeserver"]={state:Ft.PROMPT,error:null,base_url:null}:(n["m.homeserver"].state=Ft.FAIL_PROMPT,n["m.homeserver"].error=Ft.ERROR_INVALID),Promise.resolve(n)):Ft.fromDiscoveryConfig(r.raw)}static async getRawClientConfig(e){if(!e||typeof e!="string"||e.length===0)throw new Error("'domain' must be a string of non-zero length");const n=await this.fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return n?n.raw||{}:{}}static sanitizeWellKnownUrl(e){if(!e)return!1;try{var n;let r;try{r=new URL(e)}catch(l){Go.logger.error("Could not parse url",l)}if(!((n=r)!==null&&n!==void 0&&n.hostname)||r.protocol!=="http:"&&r.protocol!=="https:")return!1;const o=r.port?`:${r.port}`:"",i=r.pathname?r.pathname:"";let a=`${r.protocol}//${r.hostname}${o}${i}`;return a.endsWith("/")&&(a=a.substring(0,a.length-1)),a}catch(r){return Go.logger.error(r),!1}}static fetch(e,n){return this.fetchFn?this.fetchFn(e,n):Pe.fetch(e,n)}static setFetchFn(e){Ft.fetchFn=e}static async fetchWellKnownObject(e){let n;try{if(n=await Ft.fetch(e,{method:q6.Method.Get,signal:(0,q6.timeoutSignal)(5e3)}),n.status===404)return{raw:{},action:er.IGNORE,reason:Ft.ERROR_MISSING_WELLKNOWN};if(!n.ok)return{raw:{},action:er.FAIL_PROMPT,reason:"General failure"}}catch(r){const o=r;let i="";return typeof o=="object"&&(i=o==null?void 0:o.message),{error:o,raw:{},action:er.FAIL_PROMPT,reason:i||"General failure"}}try{return{raw:await n.json(),action:er.SUCCESS}}catch(r){const o=r;return{error:o,raw:{},action:er.FAIL_PROMPT,reason:(o==null?void 0:o.name)==="SyntaxError"?Ft.ERROR_INVALID_JSON:Ft.ERROR_INVALID}}}}Ka.AutoDiscovery=Ft;(0,ar.default)(Ft,"ERROR_INVALID",uo.Invalid);(0,ar.default)(Ft,"ERROR_GENERIC_FAILURE",uo.GenericFailure);(0,ar.default)(Ft,"ERROR_INVALID_HS_BASE_URL",uo.InvalidHsBaseUrl);(0,ar.default)(Ft,"ERROR_INVALID_HOMESERVER",uo.InvalidHomeserver);(0,ar.default)(Ft,"ERROR_INVALID_IS_BASE_URL",uo.InvalidIsBaseUrl);(0,ar.default)(Ft,"ERROR_INVALID_IDENTITY_SERVER",uo.InvalidIdentityServer);(0,ar.default)(Ft,"ERROR_INVALID_IS",uo.InvalidIs);(0,ar.default)(Ft,"ERROR_MISSING_WELLKNOWN",uo.MissingWellknown);(0,ar.default)(Ft,"ERROR_INVALID_JSON",uo.InvalidJson);(0,ar.default)(Ft,"ALL_ERRORS",Object.keys(uo));(0,ar.default)(Ft,"FAIL_ERROR",er.FAIL_ERROR);(0,ar.default)(Ft,"FAIL_PROMPT",er.FAIL_PROMPT);(0,ar.default)(Ft,"PROMPT",er.PROMPT);(0,ar.default)(Ft,"SUCCESS",er.SUCCESS);(0,ar.default)(Ft,"fetchFn",void 0);var Wt={},Am={};Am.byteLength=GK;Am.toByteArray=HK;Am.fromByteArray=YK;var ei=[],Xr=[],qK=typeof Uint8Array<"u"?Uint8Array:Array,T_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ll=0,VK=T_.length;Ll<VK;++Ll)ei[Ll]=T_[Ll],Xr[T_.charCodeAt(Ll)]=Ll;Xr["-".charCodeAt(0)]=62;Xr["_".charCodeAt(0)]=63;function gA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function GK(t){var e=gA(t),n=e[0],r=e[1];return(n+r)*3/4-r}function KK(t,e,n){return(e+n)*3/4-n}function HK(t){var e,n=gA(t),r=n[0],o=n[1],i=new qK(KK(t,r,o)),a=0,l=o>0?r-4:r,u;for(u=0;u<l;u+=4)e=Xr[t.charCodeAt(u)]<<18|Xr[t.charCodeAt(u+1)]<<12|Xr[t.charCodeAt(u+2)]<<6|Xr[t.charCodeAt(u+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=Xr[t.charCodeAt(u)]<<2|Xr[t.charCodeAt(u+1)]>>4,i[a++]=e&255),o===1&&(e=Xr[t.charCodeAt(u)]<<10|Xr[t.charCodeAt(u+1)]<<4|Xr[t.charCodeAt(u+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function zK(t){return ei[t>>18&63]+ei[t>>12&63]+ei[t>>6&63]+ei[t&63]}function WK(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(zK(r));return o.join("")}function YK(t){for(var e,n=t.length,r=n%3,o=[],i=16383,a=0,l=n-r;a<l;a+=i)o.push(WK(t,a,a+i>l?l:a+i));return r===1?(e=t[n-1],o.push(ei[e>>2]+ei[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],o.push(ei[e>>10]+ei[e>>4&63]+ei[e<<2&63]+"=")),o.join("")}var G3={};G3.read=function(t,e,n,r,o){var i,a,l=o*8-r-1,u=(1<<l)-1,d=u>>1,s=-7,g=n?o-1:0,c=n?-1:1,h=t[e+g];for(g+=c,i=h&(1<<-s)-1,h>>=-s,s+=l;s>0;i=i*256+t[e+g],g+=c,s-=8);for(a=i&(1<<-s)-1,i>>=-s,s+=r;s>0;a=a*256+t[e+g],g+=c,s-=8);if(i===0)i=1-d;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-d}return(h?-1:1)*a*Math.pow(2,i-r)};G3.write=function(t,e,n,r,o,i){var a,l,u,d=i*8-o-1,s=(1<<d)-1,g=s>>1,c=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,_=r?1:-1,F=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=s):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=c/u:e+=c*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=s?(l=0,a=s):a+g>=1?(l=(e*u-1)*Math.pow(2,o),a=a+g):(l=e*Math.pow(2,g-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=l&255,h+=_,l/=256,o-=8);for(a=a<<o|l,d+=o;d>0;t[n+h]=a&255,h+=_,a/=256,d-=8);t[n+h-_]|=F*128};(function(t){const e=Am,n=G3,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=f,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const ne=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(ne,j),ne.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(ne){if(ne>o)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const j=new Uint8Array(ne);return Object.setPrototypeOf(j,l.prototype),j}function l(ne,j,V){if(typeof ne=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(ne)}return u(ne,j,V)}l.poolSize=8192;function u(ne,j,V){if(typeof ne=="string")return c(ne,j);if(ArrayBuffer.isView(ne))return _(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(Se(ne,ArrayBuffer)||ne&&Se(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(ne,SharedArrayBuffer)||ne&&Se(ne.buffer,SharedArrayBuffer)))return F(ne,j,V);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=ne.valueOf&&ne.valueOf();if(ie!=null&&ie!==ne)return l.from(ie,j,V);const pe=m(ne);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return l.from(ne[Symbol.toPrimitive]("string"),j,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}l.from=function(ne,j,V){return u(ne,j,V)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function s(ne,j,V){return d(ne),ne<=0?a(ne):j!==void 0?typeof V=="string"?a(ne).fill(j,V):a(ne).fill(j):a(ne)}l.alloc=function(ne,j,V){return s(ne,j,V)};function g(ne){return d(ne),a(ne<0?0:p(ne)|0)}l.allocUnsafe=function(ne){return g(ne)},l.allocUnsafeSlow=function(ne){return g(ne)};function c(ne,j){if((typeof j!="string"||j==="")&&(j="utf8"),!l.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const V=v(ne,j)|0;let ie=a(V);const pe=ie.write(ne,j);return pe!==V&&(ie=ie.slice(0,pe)),ie}function h(ne){const j=ne.length<0?0:p(ne.length)|0,V=a(j);for(let ie=0;ie<j;ie+=1)V[ie]=ne[ie]&255;return V}function _(ne){if(Se(ne,Uint8Array)){const j=new Uint8Array(ne);return F(j.buffer,j.byteOffset,j.byteLength)}return h(ne)}function F(ne,j,V){if(j<0||ne.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<j+(V||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return j===void 0&&V===void 0?ie=new Uint8Array(ne):V===void 0?ie=new Uint8Array(ne,j):ie=new Uint8Array(ne,j,V),Object.setPrototypeOf(ie,l.prototype),ie}function m(ne){if(l.isBuffer(ne)){const j=p(ne.length)|0,V=a(j);return V.length===0||ne.copy(V,0,0,j),V}if(ne.length!==void 0)return typeof ne.length!="number"||Ee(ne.length)?a(0):h(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return h(ne.data)}function p(ne){if(ne>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return ne|0}function f(ne){return+ne!=ne&&(ne=0),l.alloc(+ne)}l.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==l.prototype},l.compare=function(j,V){if(Se(j,Uint8Array)&&(j=l.from(j,j.offset,j.byteLength)),Se(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),!l.isBuffer(j)||!l.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===V)return 0;let ie=j.length,pe=V.length;for(let be=0,xe=Math.min(ie,pe);be<xe;++be)if(j[be]!==V[be]){ie=j[be],pe=V[be];break}return ie<pe?-1:pe<ie?1:0},l.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(j,V){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return l.alloc(0);let ie;if(V===void 0)for(V=0,ie=0;ie<j.length;++ie)V+=j[ie].length;const pe=l.allocUnsafe(V);let be=0;for(ie=0;ie<j.length;++ie){let xe=j[ie];if(Se(xe,Uint8Array))be+xe.length>pe.length?(l.isBuffer(xe)||(xe=l.from(xe)),xe.copy(pe,be)):Uint8Array.prototype.set.call(pe,xe,be);else if(l.isBuffer(xe))xe.copy(pe,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=xe.length}return pe};function v(ne,j){if(l.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||Se(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const V=ne.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&V===0)return 0;let pe=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return Oe(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return de(ne).length;default:if(pe)return ie?-1:Oe(ne).length;j=(""+j).toLowerCase(),pe=!0}}l.byteLength=v;function y(ne,j,V){let ie=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,j>>>=0,V<=j))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return Y(this,j,V);case"utf8":case"utf-8":return C(this,j,V);case"ascii":return A(this,j,V);case"latin1":case"binary":return $(this,j,V);case"base64":return G(this,j,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,j,V);default:if(ie)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ie=!0}}l.prototype._isBuffer=!0;function w(ne,j,V){const ie=ne[j];ne[j]=ne[V],ne[V]=ie}l.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<j;V+=2)w(this,V,V+1);return this},l.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<j;V+=4)w(this,V,V+3),w(this,V+1,V+2);return this},l.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<j;V+=8)w(this,V,V+7),w(this,V+1,V+6),w(this,V+2,V+5),w(this,V+3,V+4);return this},l.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?C(this,0,j):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(j){if(!l.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:l.compare(this,j)===0},l.prototype.inspect=function(){let j="";const V=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(j+=" ... "),"<Buffer "+j+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(j,V,ie,pe,be){if(Se(j,Uint8Array)&&(j=l.from(j,j.offset,j.byteLength)),!l.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(V===void 0&&(V=0),ie===void 0&&(ie=j?j.length:0),pe===void 0&&(pe=0),be===void 0&&(be=this.length),V<0||ie>j.length||pe<0||be>this.length)throw new RangeError("out of range index");if(pe>=be&&V>=ie)return 0;if(pe>=be)return-1;if(V>=ie)return 1;if(V>>>=0,ie>>>=0,pe>>>=0,be>>>=0,this===j)return 0;let xe=be-pe,me=ie-V;const k=Math.min(xe,me),O=this.slice(pe,be),K=j.slice(V,ie);for(let Z=0;Z<k;++Z)if(O[Z]!==K[Z]){xe=O[Z],me=K[Z];break}return xe<me?-1:me<xe?1:0};function b(ne,j,V,ie,pe){if(ne.length===0)return-1;if(typeof V=="string"?(ie=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,Ee(V)&&(V=pe?0:ne.length-1),V<0&&(V=ne.length+V),V>=ne.length){if(pe)return-1;V=ne.length-1}else if(V<0)if(pe)V=0;else return-1;if(typeof j=="string"&&(j=l.from(j,ie)),l.isBuffer(j))return j.length===0?-1:S(ne,j,V,ie,pe);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(ne,j,V):Uint8Array.prototype.lastIndexOf.call(ne,j,V):S(ne,[j],V,ie,pe);throw new TypeError("val must be string, number or Buffer")}function S(ne,j,V,ie,pe){let be=1,xe=ne.length,me=j.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(ne.length<2||j.length<2)return-1;be=2,xe/=2,me/=2,V/=2}function k(K,Z){return be===1?K[Z]:K.readUInt16BE(Z*be)}let O;if(pe){let K=-1;for(O=V;O<xe;O++)if(k(ne,O)===k(j,K===-1?0:O-K)){if(K===-1&&(K=O),O-K+1===me)return K*be}else K!==-1&&(O-=O-K),K=-1}else for(V+me>xe&&(V=xe-me),O=V;O>=0;O--){let K=!0;for(let Z=0;Z<me;Z++)if(k(ne,O+Z)!==k(j,Z)){K=!1;break}if(K)return O}return-1}l.prototype.includes=function(j,V,ie){return this.indexOf(j,V,ie)!==-1},l.prototype.indexOf=function(j,V,ie){return b(this,j,V,ie,!0)},l.prototype.lastIndexOf=function(j,V,ie){return b(this,j,V,ie,!1)};function x(ne,j,V,ie){V=Number(V)||0;const pe=ne.length-V;ie?(ie=Number(ie),ie>pe&&(ie=pe)):ie=pe;const be=j.length;ie>be/2&&(ie=be/2);let xe;for(xe=0;xe<ie;++xe){const me=parseInt(j.substr(xe*2,2),16);if(Ee(me))return xe;ne[V+xe]=me}return xe}function N(ne,j,V,ie){return fe(Oe(j,ne.length-V),ne,V,ie)}function U(ne,j,V,ie){return fe(Le(j),ne,V,ie)}function q(ne,j,V,ie){return fe(de(j),ne,V,ie)}function P(ne,j,V,ie){return fe(Ue(j,ne.length-V),ne,V,ie)}l.prototype.write=function(j,V,ie,pe){if(V===void 0)pe="utf8",ie=this.length,V=0;else if(ie===void 0&&typeof V=="string")pe=V,ie=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(ie)?(ie=ie>>>0,pe===void 0&&(pe="utf8")):(pe=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-V;if((ie===void 0||ie>be)&&(ie=be),j.length>0&&(ie<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let xe=!1;for(;;)switch(pe){case"hex":return x(this,j,V,ie);case"utf8":case"utf-8":return N(this,j,V,ie);case"ascii":case"latin1":case"binary":return U(this,j,V,ie);case"base64":return q(this,j,V,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,j,V,ie);default:if(xe)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),xe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(ne,j,V){return j===0&&V===ne.length?e.fromByteArray(ne):e.fromByteArray(ne.slice(j,V))}function C(ne,j,V){V=Math.min(ne.length,V);const ie=[];let pe=j;for(;pe<V;){const be=ne[pe];let xe=null,me=be>239?4:be>223?3:be>191?2:1;if(pe+me<=V){let k,O,K,Z;switch(me){case 1:be<128&&(xe=be);break;case 2:k=ne[pe+1],(k&192)===128&&(Z=(be&31)<<6|k&63,Z>127&&(xe=Z));break;case 3:k=ne[pe+1],O=ne[pe+2],(k&192)===128&&(O&192)===128&&(Z=(be&15)<<12|(k&63)<<6|O&63,Z>2047&&(Z<55296||Z>57343)&&(xe=Z));break;case 4:k=ne[pe+1],O=ne[pe+2],K=ne[pe+3],(k&192)===128&&(O&192)===128&&(K&192)===128&&(Z=(be&15)<<18|(k&63)<<12|(O&63)<<6|K&63,Z>65535&&Z<1114112&&(xe=Z))}}xe===null?(xe=65533,me=1):xe>65535&&(xe-=65536,ie.push(xe>>>10&1023|55296),xe=56320|xe&1023),ie.push(xe),pe+=me}return M(ie)}const I=4096;function M(ne){const j=ne.length;if(j<=I)return String.fromCharCode.apply(String,ne);let V="",ie=0;for(;ie<j;)V+=String.fromCharCode.apply(String,ne.slice(ie,ie+=I));return V}function A(ne,j,V){let ie="";V=Math.min(ne.length,V);for(let pe=j;pe<V;++pe)ie+=String.fromCharCode(ne[pe]&127);return ie}function $(ne,j,V){let ie="";V=Math.min(ne.length,V);for(let pe=j;pe<V;++pe)ie+=String.fromCharCode(ne[pe]);return ie}function Y(ne,j,V){const ie=ne.length;(!j||j<0)&&(j=0),(!V||V<0||V>ie)&&(V=ie);let pe="";for(let be=j;be<V;++be)pe+=ye[ne[be]];return pe}function T(ne,j,V){const ie=ne.slice(j,V);let pe="";for(let be=0;be<ie.length-1;be+=2)pe+=String.fromCharCode(ie[be]+ie[be+1]*256);return pe}l.prototype.slice=function(j,V){const ie=this.length;j=~~j,V=V===void 0?ie:~~V,j<0?(j+=ie,j<0&&(j=0)):j>ie&&(j=ie),V<0?(V+=ie,V<0&&(V=0)):V>ie&&(V=ie),V<j&&(V=j);const pe=this.subarray(j,V);return Object.setPrototypeOf(pe,l.prototype),pe};function D(ne,j,V){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+j>V)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(j,V,ie){j=j>>>0,V=V>>>0,ie||D(j,V,this.length);let pe=this[j],be=1,xe=0;for(;++xe<V&&(be*=256);)pe+=this[j+xe]*be;return pe},l.prototype.readUintBE=l.prototype.readUIntBE=function(j,V,ie){j=j>>>0,V=V>>>0,ie||D(j,V,this.length);let pe=this[j+--V],be=1;for(;V>0&&(be*=256);)pe+=this[j+--V]*be;return pe},l.prototype.readUint8=l.prototype.readUInt8=function(j,V){return j=j>>>0,V||D(j,1,this.length),this[j]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(j,V){return j=j>>>0,V||D(j,2,this.length),this[j]|this[j+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(j,V){return j=j>>>0,V||D(j,2,this.length),this[j]<<8|this[j+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(j,V){return j=j>>>0,V||D(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(j,V){return j=j>>>0,V||D(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},l.prototype.readBigUInt64LE=Te(function(j){j=j>>>0,oe(j,"offset");const V=this[j],ie=this[j+7];(V===void 0||ie===void 0)&&ce(j,this.length-8);const pe=V+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,be=this[++j]+this[++j]*2**8+this[++j]*2**16+ie*2**24;return BigInt(pe)+(BigInt(be)<<BigInt(32))}),l.prototype.readBigUInt64BE=Te(function(j){j=j>>>0,oe(j,"offset");const V=this[j],ie=this[j+7];(V===void 0||ie===void 0)&&ce(j,this.length-8);const pe=V*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],be=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ie;return(BigInt(pe)<<BigInt(32))+BigInt(be)}),l.prototype.readIntLE=function(j,V,ie){j=j>>>0,V=V>>>0,ie||D(j,V,this.length);let pe=this[j],be=1,xe=0;for(;++xe<V&&(be*=256);)pe+=this[j+xe]*be;return be*=128,pe>=be&&(pe-=Math.pow(2,8*V)),pe},l.prototype.readIntBE=function(j,V,ie){j=j>>>0,V=V>>>0,ie||D(j,V,this.length);let pe=V,be=1,xe=this[j+--pe];for(;pe>0&&(be*=256);)xe+=this[j+--pe]*be;return be*=128,xe>=be&&(xe-=Math.pow(2,8*V)),xe},l.prototype.readInt8=function(j,V){return j=j>>>0,V||D(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},l.prototype.readInt16LE=function(j,V){j=j>>>0,V||D(j,2,this.length);const ie=this[j]|this[j+1]<<8;return ie&32768?ie|4294901760:ie},l.prototype.readInt16BE=function(j,V){j=j>>>0,V||D(j,2,this.length);const ie=this[j+1]|this[j]<<8;return ie&32768?ie|4294901760:ie},l.prototype.readInt32LE=function(j,V){return j=j>>>0,V||D(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},l.prototype.readInt32BE=function(j,V){return j=j>>>0,V||D(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},l.prototype.readBigInt64LE=Te(function(j){j=j>>>0,oe(j,"offset");const V=this[j],ie=this[j+7];(V===void 0||ie===void 0)&&ce(j,this.length-8);const pe=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ie<<24);return(BigInt(pe)<<BigInt(32))+BigInt(V+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),l.prototype.readBigInt64BE=Te(function(j){j=j>>>0,oe(j,"offset");const V=this[j],ie=this[j+7];(V===void 0||ie===void 0)&&ce(j,this.length-8);const pe=(V<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(pe)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ie)}),l.prototype.readFloatLE=function(j,V){return j=j>>>0,V||D(j,4,this.length),n.read(this,j,!0,23,4)},l.prototype.readFloatBE=function(j,V){return j=j>>>0,V||D(j,4,this.length),n.read(this,j,!1,23,4)},l.prototype.readDoubleLE=function(j,V){return j=j>>>0,V||D(j,8,this.length),n.read(this,j,!0,52,8)},l.prototype.readDoubleBE=function(j,V){return j=j>>>0,V||D(j,8,this.length),n.read(this,j,!1,52,8)};function R(ne,j,V,ie,pe,be){if(!l.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>pe||j<be)throw new RangeError('"value" argument is out of bounds');if(V+ie>ne.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(j,V,ie,pe){if(j=+j,V=V>>>0,ie=ie>>>0,!pe){const me=Math.pow(2,8*ie)-1;R(this,j,V,ie,me,0)}let be=1,xe=0;for(this[V]=j&255;++xe<ie&&(be*=256);)this[V+xe]=j/be&255;return V+ie},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(j,V,ie,pe){if(j=+j,V=V>>>0,ie=ie>>>0,!pe){const me=Math.pow(2,8*ie)-1;R(this,j,V,ie,me,0)}let be=ie-1,xe=1;for(this[V+be]=j&255;--be>=0&&(xe*=256);)this[V+be]=j/xe&255;return V+ie},l.prototype.writeUint8=l.prototype.writeUInt8=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,1,255,0),this[V]=j&255,V+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,2,65535,0),this[V]=j&255,this[V+1]=j>>>8,V+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,2,65535,0),this[V]=j>>>8,this[V+1]=j&255,V+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,4,4294967295,0),this[V+3]=j>>>24,this[V+2]=j>>>16,this[V+1]=j>>>8,this[V]=j&255,V+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,4,4294967295,0),this[V]=j>>>24,this[V+1]=j>>>16,this[V+2]=j>>>8,this[V+3]=j&255,V+4};function B(ne,j,V,ie,pe){z(j,ie,pe,ne,V,7);let be=Number(j&BigInt(4294967295));ne[V++]=be,be=be>>8,ne[V++]=be,be=be>>8,ne[V++]=be,be=be>>8,ne[V++]=be;let xe=Number(j>>BigInt(32)&BigInt(4294967295));return ne[V++]=xe,xe=xe>>8,ne[V++]=xe,xe=xe>>8,ne[V++]=xe,xe=xe>>8,ne[V++]=xe,V}function H(ne,j,V,ie,pe){z(j,ie,pe,ne,V,7);let be=Number(j&BigInt(4294967295));ne[V+7]=be,be=be>>8,ne[V+6]=be,be=be>>8,ne[V+5]=be,be=be>>8,ne[V+4]=be;let xe=Number(j>>BigInt(32)&BigInt(4294967295));return ne[V+3]=xe,xe=xe>>8,ne[V+2]=xe,xe=xe>>8,ne[V+1]=xe,xe=xe>>8,ne[V]=xe,V+8}l.prototype.writeBigUInt64LE=Te(function(j,V=0){return B(this,j,V,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Te(function(j,V=0){return H(this,j,V,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(j,V,ie,pe){if(j=+j,V=V>>>0,!pe){const k=Math.pow(2,8*ie-1);R(this,j,V,ie,k-1,-k)}let be=0,xe=1,me=0;for(this[V]=j&255;++be<ie&&(xe*=256);)j<0&&me===0&&this[V+be-1]!==0&&(me=1),this[V+be]=(j/xe>>0)-me&255;return V+ie},l.prototype.writeIntBE=function(j,V,ie,pe){if(j=+j,V=V>>>0,!pe){const k=Math.pow(2,8*ie-1);R(this,j,V,ie,k-1,-k)}let be=ie-1,xe=1,me=0;for(this[V+be]=j&255;--be>=0&&(xe*=256);)j<0&&me===0&&this[V+be+1]!==0&&(me=1),this[V+be]=(j/xe>>0)-me&255;return V+ie},l.prototype.writeInt8=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,1,127,-128),j<0&&(j=255+j+1),this[V]=j&255,V+1},l.prototype.writeInt16LE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,2,32767,-32768),this[V]=j&255,this[V+1]=j>>>8,V+2},l.prototype.writeInt16BE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,2,32767,-32768),this[V]=j>>>8,this[V+1]=j&255,V+2},l.prototype.writeInt32LE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,4,2147483647,-2147483648),this[V]=j&255,this[V+1]=j>>>8,this[V+2]=j>>>16,this[V+3]=j>>>24,V+4},l.prototype.writeInt32BE=function(j,V,ie){return j=+j,V=V>>>0,ie||R(this,j,V,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[V]=j>>>24,this[V+1]=j>>>16,this[V+2]=j>>>8,this[V+3]=j&255,V+4},l.prototype.writeBigInt64LE=Te(function(j,V=0){return B(this,j,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Te(function(j,V=0){return H(this,j,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(ne,j,V,ie,pe,be){if(V+ie>ne.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function L(ne,j,V,ie,pe){return j=+j,V=V>>>0,pe||Q(ne,j,V,4),n.write(ne,j,V,ie,23,4),V+4}l.prototype.writeFloatLE=function(j,V,ie){return L(this,j,V,!0,ie)},l.prototype.writeFloatBE=function(j,V,ie){return L(this,j,V,!1,ie)};function le(ne,j,V,ie,pe){return j=+j,V=V>>>0,pe||Q(ne,j,V,8),n.write(ne,j,V,ie,52,8),V+8}l.prototype.writeDoubleLE=function(j,V,ie){return le(this,j,V,!0,ie)},l.prototype.writeDoubleBE=function(j,V,ie){return le(this,j,V,!1,ie)},l.prototype.copy=function(j,V,ie,pe){if(!l.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!pe&&pe!==0&&(pe=this.length),V>=j.length&&(V=j.length),V||(V=0),pe>0&&pe<ie&&(pe=ie),pe===ie||j.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),j.length-V<pe-ie&&(pe=j.length-V+ie);const be=pe-ie;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,ie,pe):Uint8Array.prototype.set.call(j,this.subarray(ie,pe),V),be},l.prototype.fill=function(j,V,ie,pe){if(typeof j=="string"){if(typeof V=="string"?(pe=V,V=0,ie=this.length):typeof ie=="string"&&(pe=ie,ie=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!l.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(j.length===1){const xe=j.charCodeAt(0);(pe==="utf8"&&xe<128||pe==="latin1")&&(j=xe)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(V<0||this.length<V||this.length<ie)throw new RangeError("Out of range index");if(ie<=V)return this;V=V>>>0,ie=ie===void 0?this.length:ie>>>0,j||(j=0);let be;if(typeof j=="number")for(be=V;be<ie;++be)this[be]=j;else{const xe=l.isBuffer(j)?j:l.from(j,pe),me=xe.length;if(me===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(be=0;be<ie-V;++be)this[be+V]=xe[be%me]}return this};const he={};function De(ne,j,V){he[ne]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}De("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),De("ERR_INVALID_ARG_TYPE",function(ne,j){return`The "${ne}" argument must be of type number. Received type ${typeof j}`},TypeError),De("ERR_OUT_OF_RANGE",function(ne,j,V){let ie=`The value of "${ne}" is out of range.`,pe=V;return Number.isInteger(V)&&Math.abs(V)>2**32?pe=ke(String(V)):typeof V=="bigint"&&(pe=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(pe=ke(pe)),pe+="n"),ie+=` It must be ${j}. Received ${pe}`,ie},RangeError);function ke(ne){let j="",V=ne.length;const ie=ne[0]==="-"?1:0;for(;V>=ie+4;V-=3)j=`_${ne.slice(V-3,V)}${j}`;return`${ne.slice(0,V)}${j}`}function W(ne,j,V){oe(j,"offset"),(ne[j]===void 0||ne[j+V]===void 0)&&ce(j,ne.length-(V+1))}function z(ne,j,V,ie,pe,be){if(ne>V||ne<j){const xe=typeof j=="bigint"?"n":"";let me;throw be>3?j===0||j===BigInt(0)?me=`>= 0${xe} and < 2${xe} ** ${(be+1)*8}${xe}`:me=`>= -(2${xe} ** ${(be+1)*8-1}${xe}) and < 2 ** ${(be+1)*8-1}${xe}`:me=`>= ${j}${xe} and <= ${V}${xe}`,new he.ERR_OUT_OF_RANGE("value",me,ne)}W(ie,pe,be)}function oe(ne,j){if(typeof ne!="number")throw new he.ERR_INVALID_ARG_TYPE(j,"number",ne)}function ce(ne,j,V){throw Math.floor(ne)!==ne?(oe(ne,V),new he.ERR_OUT_OF_RANGE(V||"offset","an integer",ne)):j<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${j}`,ne)}const _e=/[^+/0-9A-Za-z-_]/g;function we(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(_e,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Oe(ne,j){j=j||1/0;let V;const ie=ne.length;let pe=null;const be=[];for(let xe=0;xe<ie;++xe){if(V=ne.charCodeAt(xe),V>55295&&V<57344){if(!pe){if(V>56319){(j-=3)>-1&&be.push(239,191,189);continue}else if(xe+1===ie){(j-=3)>-1&&be.push(239,191,189);continue}pe=V;continue}if(V<56320){(j-=3)>-1&&be.push(239,191,189),pe=V;continue}V=(pe-55296<<10|V-56320)+65536}else pe&&(j-=3)>-1&&be.push(239,191,189);if(pe=null,V<128){if((j-=1)<0)break;be.push(V)}else if(V<2048){if((j-=2)<0)break;be.push(V>>6|192,V&63|128)}else if(V<65536){if((j-=3)<0)break;be.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((j-=4)<0)break;be.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return be}function Le(ne){const j=[];for(let V=0;V<ne.length;++V)j.push(ne.charCodeAt(V)&255);return j}function Ue(ne,j){let V,ie,pe;const be=[];for(let xe=0;xe<ne.length&&!((j-=2)<0);++xe)V=ne.charCodeAt(xe),ie=V>>8,pe=V%256,be.push(pe),be.push(ie);return be}function de(ne){return e.toByteArray(we(ne))}function fe(ne,j,V,ie){let pe;for(pe=0;pe<ie&&!(pe+V>=j.length||pe>=ne.length);++pe)j[pe+V]=ne[pe];return pe}function Se(ne,j){return ne instanceof j||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===j.name}function Ee(ne){return ne!==ne}const ye=function(){const ne="0123456789abcdef",j=new Array(256);for(let V=0;V<16;++V){const ie=V*16;for(let pe=0;pe<16;++pe)j[ie+pe]=ne[V]+ne[pe]}return j}();function Te(ne){return typeof BigInt>"u"?Ne:ne}function Ne(){throw new Error("BigInt not supported")}})(Wt);var cn={},I_,V6;function Om(){if(V6)return I_;V6=1;for(var t=/[\\\"\x00-\x1F]/g,e={},n=0;n<32;++n)e[String.fromCharCode(n)]="\\U"+("0000"+n.toString(16)).slice(-4).toUpperCase();e["\b"]="\\b",e["	"]="\\t",e[`
`]="\\n",e["\f"]="\\f",e["\r"]="\\r",e['"']='\\"',e["\\"]="\\\\";function r(l){return t.lastIndex=0,l.replace(t,function(u){return e[u]})}function o(l){switch(typeof l){case"string":return'"'+r(l)+'"';case"number":return isFinite(l)?l:"null";case"boolean":return l;case"object":return l===null?"null":Array.isArray(l)?i(l):a(l);default:throw new Error("Cannot stringify: "+typeof l)}}function i(l){for(var u="[",d="",s=0;s<l.length;++s)d+=u,u=",",d+=o(l[s]);return u!=","?"[]":d+"]"}function a(l){var u="{",d="",s=Object.keys(l);s.sort();for(var g=0;g<s.length;++g){var c=s[g];d+=u+'"'+r(c)+'":',u=",",d+=o(l[c])}return u!=","?"{}":d+"}"}return I_={stringify:o},I_}var G6;function Po(){if(G6)return cn;G6=1;var t=ze.exports;Object.defineProperty(cn,"__esModule",{value:!0}),cn.OLM_ALGORITHM=cn.MEGOLM_BACKUP_ALGORITHM=cn.MEGOLM_ALGORITHM=void 0,cn.decodeBase64=f,cn.encodeBase64=m,cn.encodeUnpaddedBase64=p,cn.encryptMessageForDevice=u,cn.ensureOlmSessionsForDevices=s,cn.getExistingOlmSessions=d,cn.isOlmEncrypted=F,cn.pkSign=h,cn.pkVerify=_,cn.verifySignature=c;var e=t(Om()),n=lt(),r=et,o;(function(v){v.Olm="m.olm.v1.curve25519-aes-sha2",v.Megolm="m.megolm.v1.aes-sha2",v.MegolmBackup="m.megolm_backup.v1.curve25519-aes-sha2"})(o||(o={}));const i=o.Olm;cn.OLM_ALGORITHM=i;const a=o.Megolm;cn.MEGOLM_ALGORITHM=a;const l=o.MegolmBackup;cn.MEGOLM_BACKUP_ALGORITHM=l;async function u(v,y,w,b,S,x,N){const U=x.getIdentityKey(),q=await b.getSessionIdForDevice(U);if(q===null){n.logger.log(`[olmlib.encryptMessageForDevice] Unable to find Olm session for device ${S}:${x.deviceId}`);return}n.logger.log(`[olmlib.encryptMessageForDevice] Using Olm session ${q} for device ${S}:${x.deviceId}`);const P={sender:y,sender_device:w,keys:{ed25519:b.deviceEd25519Key},recipient:S,recipient_keys:{ed25519:x.getFingerprint()}};Object.assign(P,N),v[U]=await b.encryptMessage(U,q,JSON.stringify(P))}async function d(v,y,w){const b={},S={},x=[];for(const[N,U]of Object.entries(w))for(const q of U){const P=q.deviceId,G=q.getIdentityKey();x.push((async()=>{const C=await v.getSessionIdForDevice(G,!0);C===null?(b[N]=b[N]||[],b[N].push(q)):(S[N]=S[N]||{},S[N][P]={device:q,sessionId:C})})())}return await Promise.all(x),[b,S]}async function s(v,y,w,b=!1,S,x,N=n.logger){const U=[],q={},P={};for(const[,$]of Object.entries(w))for(const Y of $){const T=Y.getIdentityKey();T!==v.deviceCurve25519Key&&(v.sessionsInProgress[T]||(v.sessionsInProgress[T]=new Promise(D=>{P[T]=R=>{delete v.sessionsInProgress[T],D(R)}})))}for(const[$,Y]of Object.entries(w)){q[$]={};for(const T of Y){const D=T.deviceId,R=T.getIdentityKey();if(R===v.deviceCurve25519Key){N.info("Attempted to start session with ourself! Ignoring"),q[$][D]={device:T,sessionId:null};continue}const B=`for ${R} (${$}:${D})`,H=await v.getSessionIdForDevice(R,!!P[R],N);H!==null&&P[R]&&P[R](),(H===null||b)&&(b?N.info(`Forcing new Olm session ${B}`):N.info(`Making new Olm session ${B}`),U.push([$,D])),q[$][D]={device:T,sessionId:H}}}if(U.length===0)return q;const G="signed_curve25519";let C,I=`one-time keys for ${U.length} devices`;try{N.debug(`Claiming ${I}`),C=await y.claimOneTimeKeys(U,G,S),N.debug(`Claimed ${I}`)}catch($){for(const Y of Object.values(P))Y();throw N.log(`Failed to claim ${I}`,$,U),$}x&&"failures"in C&&x.push(...Object.keys(C.failures));const M=C.one_time_keys||{},A=[];for(const[$,Y]of Object.entries(w)){const T=M[$]||{};for(const D of Y){const R=D.deviceId,B=D.getIdentityKey();if(B===v.deviceCurve25519Key||q[$][R].sessionId&&!b)continue;const H=T[R]||{};let Q=null;for(const L in H)L.indexOf(G+":")===0&&(Q=H[L]);if(!Q){N.warn(`No one-time keys (alg=${G}) for device ${$}:${R}`),P[B]&&P[B]();continue}A.push(g(v,Q,$,D).then(L=>{P[B]&&P[B](L??void 0),q[$][R].sessionId=L},L=>{throw P[B]&&P[B](),L}))}}return I=`Olm sessions for ${A.length} devices`,N.debug(`Starting ${I}`),await Promise.all(A),N.debug(`Started ${I}`),q}async function g(v,y,w,b){const S=b.deviceId;try{await c(v,y,w,S,b.getFingerprint())}catch(N){return n.logger.error("Unable to verify signature on one-time key for device "+w+":"+S+":",N),null}let x;try{x=await v.createOutboundSession(b.getIdentityKey(),y.key)}catch(N){return n.logger.error("Error starting olm session with device "+w+":"+S+": "+N),null}return n.logger.log("Started new olm sessionid "+x+" for device "+w+":"+S),x}async function c(v,y,w,b,S){const x="ed25519:"+b,q=((y.signatures||{})[w]||{})[x];if(!q)throw Error("No signature");const P=Object.assign({},y);"unsigned"in P&&delete P.unsigned,delete P.signatures;const G=e.default.stringify(P);v.verifySignature(S,G,q)}function h(v,y,w,b){let S=!1;if(y instanceof Uint8Array){const U=new Pe.Olm.PkSigning;b=U.init_with_seed(y),y=U,S=!0}const x=v.signatures||{};delete v.signatures;const N=v.unsigned;v.unsigned&&delete v.unsigned;try{const U=x[w]||{};return x[w]=U,U["ed25519:"+b]=y.sign(e.default.stringify(v))}finally{v.signatures=x,N&&(v.unsigned=N),S&&y.free()}}function _(v,y,w){const b="ed25519:"+y;if(!(v.signatures&&v.signatures[w]&&v.signatures[w][b]))throw new Error("No signature");const S=v.signatures[w][b],x=new Pe.Olm.Utility,N=v.signatures;delete v.signatures;const U=v.unsigned;v.unsigned&&delete v.unsigned;try{x.ed25519_verify(y,e.default.stringify(v),S)}finally{v.signatures=N,U&&(v.unsigned=U),x.free()}}function F(v){return v.getSenderKey()?v.getWireType()!==r.EventType.RoomMessageEncrypted||!["m.olm.v1.curve25519-aes-sha2"].includes(v.getWireContent().algorithm)?(n.logger.error("Event was not encrypted using an appropriate algorithm"),!1):!0:(n.logger.error("Event has no sender key (not encrypted?)"),!1)}function m(v){return Wt.Buffer.from(v).toString("base64")}function p(v){return m(v).replace(/=+$/g,"")}function f(v){return Wt.Buffer.from(v,"base64")}return cn}var Td={},go={},Id={},K6;function JK(){if(K6)return Id;K6=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.LocalStorageCryptoStore=void 0;var t=lt(),e=Sc;const n="crypto.",r=n+"account",o=n+"cross_signing_keys",i=n+"notified_error_devices",a=n+"device_data",l=n+"inboundgroupsessions/",u=n+"inboundgroupsessions.withheld/",d=n+"rooms/",s=n+"sessionsneedingbackup";function g(v){return n+"sessions/"+v}function c(v){return n+"session.problems/"+v}function h(v,y){return l+v+"/"+y}function _(v,y){return u+v+"/"+y}function F(v){return d+v}class m extends e.MemoryCryptoStore{static exists(y){const w=y.length;for(let S=0;S<w;S++){var b;if((b=y.key(S))!==null&&b!==void 0&&b.startsWith(n))return!0}return!1}constructor(y){super(),this.store=y}countEndToEndSessions(y,w){let b=0;for(let x=0;x<this.store.length;++x){var S;(S=this.store.key(x))!==null&&S!==void 0&&S.startsWith(g(""))&&++b}w(b)}_getEndToEndSessions(y){const w=p(this.store,g(y)),b={};for(const[S,x]of Object.entries(w||{}))typeof x=="string"?b[S]={session:x}:b[S]=x;return b}getEndToEndSession(y,w,b,S){const x=this._getEndToEndSessions(y);S(x[w]||{})}getEndToEndSessions(y,w,b){b(this._getEndToEndSessions(y)||{})}getAllEndToEndSessions(y,w){for(let S=0;S<this.store.length;++S){var b;if((b=this.store.key(S))!==null&&b!==void 0&&b.startsWith(g(""))){const x=this.store.key(S).split("/")[1];for(const N of Object.values(this._getEndToEndSessions(x)))w(N)}}}storeEndToEndSession(y,w,b,S){const x=this._getEndToEndSessions(y)||{};x[w]=b,f(this.store,g(y),x)}async storeEndToEndSessionProblem(y,w,b){const S=c(y),x=p(this.store,S)||[];x.push({type:w,fixed:b,time:Date.now()}),x.sort((N,U)=>N.time-U.time),f(this.store,S,x)}async getEndToEndSessionProblem(y,w){const b=c(y),S=p(this.store,b)||[];if(!S.length)return null;const x=S[S.length-1];for(const N of S)if(N.time>w)return Object.assign({},N,{fixed:x.fixed});return x.fixed?null:x}async filterOutNotifiedErrorDevices(y){const w=p(this.store,i)||{},b=[];for(const S of y){const{userId:x,deviceInfo:N}=S;x in w?N.deviceId in w[x]||(b.push(S),w[x][N.deviceId]=!0):(b.push(S),w[x]={[N.deviceId]:!0})}return f(this.store,i,w),b}getEndToEndInboundGroupSession(y,w,b,S){S(p(this.store,h(y,w)),p(this.store,_(y,w)))}getAllEndToEndInboundGroupSessions(y,w){for(let b=0;b<this.store.length;++b){const S=this.store.key(b);S!=null&&S.startsWith(l)&&w({senderKey:S.slice(l.length,l.length+43),sessionId:S.slice(l.length+44),sessionData:p(this.store,S)})}w(null)}addEndToEndInboundGroupSession(y,w,b,S){p(this.store,h(y,w))||this.storeEndToEndInboundGroupSession(y,w,b,S)}storeEndToEndInboundGroupSession(y,w,b,S){f(this.store,h(y,w),b)}storeEndToEndInboundGroupSessionWithheld(y,w,b,S){f(this.store,_(y,w),b)}getEndToEndDeviceData(y,w){w(p(this.store,a))}storeEndToEndDeviceData(y,w){f(this.store,a,y)}storeEndToEndRoom(y,w,b){f(this.store,F(y),w)}getEndToEndRooms(y,w){const b={},S=F("");for(let x=0;x<this.store.length;++x){const N=this.store.key(x);if(N!=null&&N.startsWith(S)){const U=N.slice(S.length);b[U]=p(this.store,N)}}w(b)}getSessionsNeedingBackup(y){const w=p(this.store,s)||{},b=[];for(const S in w)if(Object.prototype.hasOwnProperty.call(w,S)){const x=S.slice(0,43),N=S.slice(44);if(this.getEndToEndInboundGroupSession(x,N,null,U=>{b.push({senderKey:x,sessionId:N,sessionData:U})}),y&&b.length>=y)break}return Promise.resolve(b)}countSessionsNeedingBackup(){const y=p(this.store,s)||{};return Promise.resolve(Object.keys(y).length)}unmarkSessionsNeedingBackup(y){const w=p(this.store,s)||{};for(const b of y)delete w[b.senderKey+"/"+b.sessionId];return f(this.store,s,w),Promise.resolve()}markSessionsNeedingBackup(y){const w=p(this.store,s)||{};for(const b of y)w[b.senderKey+"/"+b.sessionId]=!0;return f(this.store,s,w),Promise.resolve()}deleteAllData(){return this.store.removeItem(r),Promise.resolve()}getAccount(y,w){const b=p(this.store,r);w(b)}storeAccount(y,w){f(this.store,r,w)}getCrossSigningKeys(y,w){const b=p(this.store,o);w(b)}getSecretStorePrivateKey(y,w,b){const S=p(this.store,n+`ssss_cache.${b}`);w(S)}storeCrossSigningKeys(y,w){f(this.store,o,w)}storeSecretStorePrivateKey(y,w,b){f(this.store,n+`ssss_cache.${w}`,b)}doTxn(y,w,b){return Promise.resolve(b(null))}}Id.LocalStorageCryptoStore=m;function p(v,y){try{return JSON.parse(v.getItem(y))}catch(w){t.logger.log("Error: Failed to get key %s: %s",y,w.message),t.logger.log(w.stack)}return null}function f(v,y,w){v.setItem(y,JSON.stringify(w))}return Id}var ia={},H6;function XK(){if(H6)return ia;H6=1;var t=ze.exports;Object.defineProperty(ia,"__esModule",{value:!0}),ia.VERSION=ia.Backend=void 0,ia.upgradeDatabase=d;var e=t(Je()),n=lt(),r=i(tt);function o(h){if(typeof WeakMap!="function")return null;var _=new WeakMap,F=new WeakMap;return(o=function(m){return m?F:_})(h)}function i(h,_){if(!_&&h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var F=o(_);if(F&&F.has(h))return F.get(h);var m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in h)if(f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)){var v=p?Object.getOwnPropertyDescriptor(h,f):null;v&&(v.get||v.set)?Object.defineProperty(m,f,v):m[f]=h[f]}return m.default=h,F&&F.set(h,m),m}class a{constructor(_){this.db=_,(0,e.default)(this,"nextTxnId",0),_.onversionchange=()=>{n.logger.log(`versionchange for indexeddb ${this.db.name}: closing`),_.close()}}async startup(){return this}async deleteAllData(){throw Error("This is not implemented, call IDBFactory::deleteDatabase(dbName) instead.")}getOrAddOutgoingRoomKeyRequest(_){const F=_.requestBody;return new Promise((m,p)=>{const f=this.db.transaction("outgoingRoomKeyRequests","readwrite");f.onerror=p,this._getOutgoingRoomKeyRequest(f,F,v=>{if(v){n.logger.log(`already have key request outstanding for ${F.room_id} / ${F.session_id}: not sending another`),m(v);return}n.logger.log(`enqueueing key request for ${F.room_id} / `+F.session_id),f.oncomplete=()=>{m(_)},f.objectStore("outgoingRoomKeyRequests").add(_)})})}getOutgoingRoomKeyRequest(_){return new Promise((F,m)=>{const p=this.db.transaction("outgoingRoomKeyRequests","readonly");p.onerror=m,this._getOutgoingRoomKeyRequest(p,_,f=>{F(f)})})}_getOutgoingRoomKeyRequest(_,F,m){const v=_.objectStore("outgoingRoomKeyRequests").index("session").openCursor([F.room_id,F.session_id]);v.onsuccess=()=>{const y=v.result;if(!y){m(null);return}const w=y.value;if(r.deepCompare(w.requestBody,F)){m(w);return}y.continue()}}getOutgoingRoomKeyRequestByState(_){if(_.length===0)return Promise.resolve(null);let F=0,m;function p(){const b=this.result;if(b){m=b.value;return}if(F++,F>=_.length)return;const S=_[F],x=this.source.openCursor(S);x.onsuccess=p}const f=this.db.transaction("outgoingRoomKeyRequests","readonly"),v=f.objectStore("outgoingRoomKeyRequests"),y=_[F],w=v.index("state").openCursor(y);return w.onsuccess=p,c(f).then(()=>m)}getAllOutgoingRoomKeyRequestsByState(_){return new Promise((F,m)=>{const y=this.db.transaction("outgoingRoomKeyRequests","readonly").objectStore("outgoingRoomKeyRequests").index("state").getAll(_);y.onsuccess=()=>F(y.result),y.onerror=()=>m(y.error)})}getOutgoingRoomKeyRequestsByTarget(_,F,m){let p=0;const f=[];function v(){const x=this.result;if(x){const N=x.value;N.recipients.some(U=>U.userId===_&&U.deviceId===F)&&f.push(N),x.continue()}else{if(p++,p>=m.length)return;const N=m[p],U=this.source.openCursor(N);U.onsuccess=v}}const y=this.db.transaction("outgoingRoomKeyRequests","readonly"),w=y.objectStore("outgoingRoomKeyRequests"),b=m[p],S=w.index("state").openCursor(b);return S.onsuccess=v,c(y).then(()=>f)}updateOutgoingRoomKeyRequest(_,F,m){let p=null;function f(){const w=this.result;if(!w)return;const b=w.value;if(b.state!=F){n.logger.warn(`Cannot update room key request from ${F} as it was already updated to ${b.state}`);return}Object.assign(b,m),w.update(b),p=b}const v=this.db.transaction("outgoingRoomKeyRequests","readwrite"),y=v.objectStore("outgoingRoomKeyRequests").openCursor(_);return y.onsuccess=f,c(v).then(()=>p)}deleteOutgoingRoomKeyRequest(_,F){const m=this.db.transaction("outgoingRoomKeyRequests","readwrite"),p=m.objectStore("outgoingRoomKeyRequests").openCursor(_);return p.onsuccess=()=>{const f=p.result;if(!f)return;const v=f.value;if(v.state!=F){n.logger.warn(`Cannot delete room key request in state ${v.state} (expected ${F})`);return}f.delete()},c(m)}getAccount(_,F){const p=_.objectStore("account").get("-");p.onsuccess=function(){try{F(p.result||null)}catch(f){g(_,f)}}}storeAccount(_,F){_.objectStore("account").put(F,"-")}getCrossSigningKeys(_,F){const p=_.objectStore("account").get("crossSigningKeys");p.onsuccess=function(){try{F(p.result||null)}catch(f){g(_,f)}}}getSecretStorePrivateKey(_,F,m){const f=_.objectStore("account").get(`ssss_cache:${m}`);f.onsuccess=function(){try{F(f.result||null)}catch(v){g(_,v)}}}storeCrossSigningKeys(_,F){_.objectStore("account").put(F,"crossSigningKeys")}storeSecretStorePrivateKey(_,F,m){_.objectStore("account").put(m,`ssss_cache:${F}`)}countEndToEndSessions(_,F){const p=_.objectStore("sessions").count();p.onsuccess=function(){try{F(p.result)}catch(f){g(_,f)}}}getEndToEndSessions(_,F,m){const v=F.objectStore("sessions").index("deviceKey").openCursor(_),y={};v.onsuccess=function(){const w=v.result;if(w)y[w.value.sessionId]={session:w.value.session,lastReceivedMessageTs:w.value.lastReceivedMessageTs},w.continue();else try{m(y)}catch(b){g(F,b)}}}getEndToEndSession(_,F,m,p){const v=m.objectStore("sessions").get([_,F]);v.onsuccess=function(){try{v.result?p({session:v.result.session,lastReceivedMessageTs:v.result.lastReceivedMessageTs}):p(null)}catch(y){g(m,y)}}}getAllEndToEndSessions(_,F){const p=_.objectStore("sessions").openCursor();p.onsuccess=function(){try{const f=p.result;f?(F(f.value),f.continue()):F(null)}catch(f){g(_,f)}}}storeEndToEndSession(_,F,m,p){p.objectStore("sessions").put({deviceKey:_,sessionId:F,session:m.session,lastReceivedMessageTs:m.lastReceivedMessageTs})}async storeEndToEndSessionProblem(_,F,m){const p=this.db.transaction("session_problems","readwrite");p.objectStore("session_problems").put({deviceKey:_,type:F,fixed:m,time:Date.now()}),await c(p)}async getEndToEndSessionProblem(_,F){let m=null;const p=this.db.transaction("session_problems","readwrite"),y=p.objectStore("session_problems").index("deviceKey").getAll(_);return y.onsuccess=()=>{const w=y.result;if(!w.length){m=null;return}w.sort((S,x)=>S.time-x.time);const b=w[w.length-1];for(const S of w)if(S.time>F){m=Object.assign({},S,{fixed:b.fixed});return}b.fixed?m=null:m=b},await c(p),m}async filterOutNotifiedErrorDevices(_){const m=this.db.transaction("notified_error_devices","readwrite").objectStore("notified_error_devices"),p=[];return await Promise.all(_.map(f=>new Promise(v=>{const{userId:y,deviceInfo:w}=f,b=m.get([y,w.deviceId]);b.onsuccess=function(){b.result||(m.put({userId:y,deviceId:w.deviceId}),p.push(f)),v()}}))),p}getEndToEndInboundGroupSession(_,F,m,p){let f=!1,v=!1;const w=m.objectStore("inbound_group_sessions").get([_,F]);w.onsuccess=function(){try{w.result?f=w.result.session:f=null,v!==!1&&p(f,v)}catch(x){g(m,x)}};const S=m.objectStore("inbound_group_sessions_withheld").get([_,F]);S.onsuccess=function(){try{S.result?v=S.result.session:v=null,f!==!1&&p(f,v)}catch(x){g(m,x)}}}getAllEndToEndInboundGroupSessions(_,F){const p=_.objectStore("inbound_group_sessions").openCursor();p.onsuccess=function(){const f=p.result;if(f){try{F({senderKey:f.value.senderCurve25519Key,sessionId:f.value.sessionId,sessionData:f.value.session})}catch(v){g(_,v)}f.continue()}else try{F(null)}catch(v){g(_,v)}}}addEndToEndInboundGroupSession(_,F,m,p){const v=p.objectStore("inbound_group_sessions").add({senderCurve25519Key:_,sessionId:F,session:m});v.onerror=y=>{var w;((w=v.error)===null||w===void 0?void 0:w.name)==="ConstraintError"?(y.stopPropagation(),y.preventDefault(),n.logger.log("Ignoring duplicate inbound group session: "+_+" / "+F)):g(p,new Error("Failed to add inbound group session: "+v.error))}}storeEndToEndInboundGroupSession(_,F,m,p){p.objectStore("inbound_group_sessions").put({senderCurve25519Key:_,sessionId:F,session:m})}storeEndToEndInboundGroupSessionWithheld(_,F,m,p){p.objectStore("inbound_group_sessions_withheld").put({senderCurve25519Key:_,sessionId:F,session:m})}getEndToEndDeviceData(_,F){const p=_.objectStore("device_data").get("-");p.onsuccess=function(){try{F(p.result||null)}catch(f){g(_,f)}}}storeEndToEndDeviceData(_,F){F.objectStore("device_data").put(_,"-")}storeEndToEndRoom(_,F,m){m.objectStore("rooms").put(F,_)}getEndToEndRooms(_,F){const m={},f=_.objectStore("rooms").openCursor();f.onsuccess=function(){const v=f.result;if(v)m[v.key]=v.value,v.continue();else try{F(m)}catch(y){g(_,y)}}}getSessionsNeedingBackup(_){return new Promise((F,m)=>{const p=[],f=this.db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");f.onerror=m,f.oncomplete=function(){F(p)};const v=f.objectStore("sessions_needing_backup"),y=f.objectStore("inbound_group_sessions"),w=v.openCursor();w.onsuccess=function(){const b=w.result;if(b){const S=y.get(b.key);S.onsuccess=function(){p.push({senderKey:S.result.senderCurve25519Key,sessionId:S.result.sessionId,sessionData:S.result.session})},(!_||p.length<_)&&b.continue()}}})}countSessionsNeedingBackup(_){_||(_=this.db.transaction("sessions_needing_backup","readonly"));const F=_.objectStore("sessions_needing_backup");return new Promise((m,p)=>{const f=F.count();f.onerror=p,f.onsuccess=()=>m(f.result)})}async unmarkSessionsNeedingBackup(_,F){F||(F=this.db.transaction("sessions_needing_backup","readwrite"));const m=F.objectStore("sessions_needing_backup");await Promise.all(_.map(p=>new Promise((f,v)=>{const y=m.delete([p.senderKey,p.sessionId]);y.onsuccess=f,y.onerror=v})))}async markSessionsNeedingBackup(_,F){F||(F=this.db.transaction("sessions_needing_backup","readwrite"));const m=F.objectStore("sessions_needing_backup");await Promise.all(_.map(p=>new Promise((f,v)=>{const y=m.put({senderCurve25519Key:p.senderKey,sessionId:p.sessionId});y.onsuccess=f,y.onerror=v})))}addSharedHistoryInboundGroupSession(_,F,m,p){p||(p=this.db.transaction("shared_history_inbound_group_sessions","readwrite"));const f=p.objectStore("shared_history_inbound_group_sessions"),v=f.get([_]);v.onsuccess=()=>{const{sessions:y}=v.result||{sessions:[]};y.push([F,m]),f.put({roomId:_,sessions:y})}}getSharedHistoryInboundGroupSessions(_,F){F||(F=this.db.transaction("shared_history_inbound_group_sessions","readonly"));const p=F.objectStore("shared_history_inbound_group_sessions").get([_]);return new Promise((f,v)=>{p.onsuccess=()=>{const{sessions:y}=p.result||{sessions:[]};f(y)},p.onerror=v})}addParkedSharedHistory(_,F,m){m||(m=this.db.transaction("parked_shared_history","readwrite"));const p=m.objectStore("parked_shared_history"),f=p.get([_]);f.onsuccess=()=>{const{parked:v}=f.result||{parked:[]};v.push(F),p.put({roomId:_,parked:v})}}takeParkedSharedHistory(_,F){F||(F=this.db.transaction("parked_shared_history","readwrite"));const m=F.objectStore("parked_shared_history").openCursor(_);return new Promise((p,f)=>{m.onsuccess=()=>{const v=m.result;if(!v){p([]);return}const y=v.value;v.delete(),p(y)},m.onerror=f})}doTxn(_,F,m,p=n.logger){const f=this.db.transaction(F,_),v=c(f),y=m(f);return v.then(()=>y)}}ia.Backend=a;const l=[h=>{s(h)},h=>{h.createObjectStore("account")},h=>{h.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")},h=>{h.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]})},h=>{h.createObjectStore("device_data")},h=>{h.createObjectStore("rooms")},h=>{h.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]})},h=>{h.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]})},h=>{h.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),h.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})},h=>{h.createObjectStore("shared_history_inbound_group_sessions",{keyPath:["roomId"]})},h=>{h.createObjectStore("parked_shared_history",{keyPath:["roomId"]})}],u=l.length;ia.VERSION=u;function d(h,_){n.logger.log(`Upgrading IndexedDBCryptoStore from version ${_} to ${u}`),l.forEach((F,m)=>{_<=m&&F(h)})}function s(h){const _=h.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});_.createIndex("session",["requestBody.room_id","requestBody.session_id"]),_.createIndex("state","state")}function g(h,_){h._mx_abortexception=_;try{h.abort()}catch{}}function c(h){return new Promise((_,F)=>{h.oncomplete=()=>{h._mx_abortexception!==void 0&&F(h._mx_abortexception),_(null)},h.onerror=m=>{h._mx_abortexception!==void 0?F(h._mx_abortexception):(n.logger.log("Error performing indexeddb txn",m),F(h.error))},h.onabort=m=>{h._mx_abortexception!==void 0?F(h._mx_abortexception):(n.logger.log("Error performing indexeddb txn",m),F(h.error))}})}return ia}var s1={},z6;function pA(){if(z6)return s1;z6=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.exists=t;function t(e,n){return new Promise((r,o)=>{let i=!0;const a=e.open(n);a.onupgradeneeded=()=>{i=!1},a.onblocked=()=>o(a.error),a.onsuccess=()=>{a.result.close(),i||e.deleteDatabase(n),r(i)},a.onerror=()=>o(a.error)})}return s1}var QK=ze.exports;Object.defineProperty(go,"__esModule",{value:!0});go.IndexedDBCryptoStore=void 0;var Ro=QK(Je()),Kr=lt(),ZK=JK(),eH=Sc,R_=FA(XK()),W6=Cn,tH=FA(pA());function mA(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(mA=function(r){return r?n:e})(t)}function FA(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=mA(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}class Nr{static exists(e,n){return tH.exists(e,n)}constructor(e,n){this.indexedDB=e,this.dbName=n,(0,Ro.default)(this,"backendPromise",void 0),(0,Ro.default)(this,"backend",void 0)}startup(){return this.backendPromise?this.backendPromise:(this.backendPromise=new Promise((e,n)=>{if(!this.indexedDB){n(new Error("no indexeddb support available"));return}Kr.logger.log(`connecting to indexeddb ${this.dbName}`);const r=this.indexedDB.open(this.dbName,R_.VERSION);r.onupgradeneeded=o=>{const i=r.result,a=o.oldVersion;R_.upgradeDatabase(i,a)},r.onblocked=()=>{Kr.logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},r.onerror=o=>{Kr.logger.log("Error connecting to indexeddb",o),n(r.error)},r.onsuccess=()=>{const o=r.result;Kr.logger.log(`connected to indexeddb ${this.dbName}`),e(new R_.Backend(o))}}).then(e=>e.doTxn("readonly",[Nr.STORE_INBOUND_GROUP_SESSIONS,Nr.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],n=>{e.getEndToEndInboundGroupSession("","",n,()=>{})}).then(()=>e)).catch(e=>{if(e.name==="VersionError")throw Kr.logger.warn("Crypto DB is too new for us to use!",e),new W6.InvalidCryptoStoreError(W6.InvalidCryptoStoreState.TooNew);Kr.logger.warn(`unable to connect to indexeddb ${this.dbName}: falling back to localStorage store: ${e}`);try{return new ZK.LocalStorageCryptoStore(Pe.localStorage)}catch(n){return Kr.logger.warn(`unable to open localStorage: falling back to in-memory store: ${n}`),new eH.MemoryCryptoStore}}).then(e=>(this.backend=e,e)),this.backendPromise)}deleteAllData(){return new Promise((e,n)=>{if(!this.indexedDB){n(new Error("no indexeddb support available"));return}Kr.logger.log(`Removing indexeddb instance: ${this.dbName}`);const r=this.indexedDB.deleteDatabase(this.dbName);r.onblocked=()=>{Kr.logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},r.onerror=o=>{Kr.logger.log("Error deleting data from indexeddb",o),n(r.error)},r.onsuccess=()=>{Kr.logger.log(`Removed indexeddb instance: ${this.dbName}`),e()}}).catch(e=>{Kr.logger.warn(`unable to delete IndexedDBCryptoStore: ${e}`)})}getOrAddOutgoingRoomKeyRequest(e){return this.backend.getOrAddOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequest(e){return this.backend.getOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequestByState(e){return this.backend.getOutgoingRoomKeyRequestByState(e)}getAllOutgoingRoomKeyRequestsByState(e){return this.backend.getAllOutgoingRoomKeyRequestsByState(e)}getOutgoingRoomKeyRequestsByTarget(e,n,r){return this.backend.getOutgoingRoomKeyRequestsByTarget(e,n,r)}updateOutgoingRoomKeyRequest(e,n,r){return this.backend.updateOutgoingRoomKeyRequest(e,n,r)}deleteOutgoingRoomKeyRequest(e,n){return this.backend.deleteOutgoingRoomKeyRequest(e,n)}getAccount(e,n){this.backend.getAccount(e,n)}storeAccount(e,n){this.backend.storeAccount(e,n)}getCrossSigningKeys(e,n){this.backend.getCrossSigningKeys(e,n)}getSecretStorePrivateKey(e,n,r){this.backend.getSecretStorePrivateKey(e,n,r)}storeCrossSigningKeys(e,n){this.backend.storeCrossSigningKeys(e,n)}storeSecretStorePrivateKey(e,n,r){this.backend.storeSecretStorePrivateKey(e,n,r)}countEndToEndSessions(e,n){this.backend.countEndToEndSessions(e,n)}getEndToEndSession(e,n,r,o){this.backend.getEndToEndSession(e,n,r,o)}getEndToEndSessions(e,n,r){this.backend.getEndToEndSessions(e,n,r)}getAllEndToEndSessions(e,n){this.backend.getAllEndToEndSessions(e,n)}storeEndToEndSession(e,n,r,o){this.backend.storeEndToEndSession(e,n,r,o)}storeEndToEndSessionProblem(e,n,r){return this.backend.storeEndToEndSessionProblem(e,n,r)}getEndToEndSessionProblem(e,n){return this.backend.getEndToEndSessionProblem(e,n)}filterOutNotifiedErrorDevices(e){return this.backend.filterOutNotifiedErrorDevices(e)}getEndToEndInboundGroupSession(e,n,r,o){this.backend.getEndToEndInboundGroupSession(e,n,r,o)}getAllEndToEndInboundGroupSessions(e,n){this.backend.getAllEndToEndInboundGroupSessions(e,n)}addEndToEndInboundGroupSession(e,n,r,o){this.backend.addEndToEndInboundGroupSession(e,n,r,o)}storeEndToEndInboundGroupSession(e,n,r,o){this.backend.storeEndToEndInboundGroupSession(e,n,r,o)}storeEndToEndInboundGroupSessionWithheld(e,n,r,o){this.backend.storeEndToEndInboundGroupSessionWithheld(e,n,r,o)}storeEndToEndDeviceData(e,n){this.backend.storeEndToEndDeviceData(e,n)}getEndToEndDeviceData(e,n){this.backend.getEndToEndDeviceData(e,n)}storeEndToEndRoom(e,n,r){this.backend.storeEndToEndRoom(e,n,r)}getEndToEndRooms(e,n){this.backend.getEndToEndRooms(e,n)}getSessionsNeedingBackup(e){return this.backend.getSessionsNeedingBackup(e)}countSessionsNeedingBackup(e){return this.backend.countSessionsNeedingBackup(e)}unmarkSessionsNeedingBackup(e,n){return this.backend.unmarkSessionsNeedingBackup(e,n)}markSessionsNeedingBackup(e,n){return this.backend.markSessionsNeedingBackup(e,n)}addSharedHistoryInboundGroupSession(e,n,r,o){this.backend.addSharedHistoryInboundGroupSession(e,n,r,o)}getSharedHistoryInboundGroupSessions(e,n){return this.backend.getSharedHistoryInboundGroupSessions(e,n)}addParkedSharedHistory(e,n,r){this.backend.addParkedSharedHistory(e,n,r)}takeParkedSharedHistory(e,n){return this.backend.takeParkedSharedHistory(e,n)}doTxn(e,n,r,o){return this.backend.doTxn(e,n,r,o)}}go.IndexedDBCryptoStore=Nr;(0,Ro.default)(Nr,"STORE_ACCOUNT","account");(0,Ro.default)(Nr,"STORE_SESSIONS","sessions");(0,Ro.default)(Nr,"STORE_INBOUND_GROUP_SESSIONS","inbound_group_sessions");(0,Ro.default)(Nr,"STORE_INBOUND_GROUP_SESSIONS_WITHHELD","inbound_group_sessions_withheld");(0,Ro.default)(Nr,"STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS","shared_history_inbound_group_sessions");(0,Ro.default)(Nr,"STORE_PARKED_SHARED_HISTORY","parked_shared_history");(0,Ro.default)(Nr,"STORE_DEVICE_DATA","device_data");(0,Ro.default)(Nr,"STORE_ROOMS","rooms");(0,Ro.default)(Nr,"STORE_BACKUP","sessions_needing_backup");var Y6;function nH(){if(Y6)return Td;Y6=1;var t=ze.exports;Object.defineProperty(Td,"__esModule",{value:!0}),Td.RoomList=void 0;var e=t(Je()),n=go;class r{constructor(i){this.cryptoStore=i,(0,e.default)(this,"roomEncryption",{})}async init(){await this.cryptoStore.doTxn("readwrite",[n.IndexedDBCryptoStore.STORE_ROOMS],i=>{this.cryptoStore.getEndToEndRooms(i,a=>{this.roomEncryption=a})})}getRoomEncryption(i){return this.roomEncryption[i]||null}isRoomEncrypted(i){return Boolean(this.getRoomEncryption(i))}async setRoomEncryption(i,a){this.roomEncryption[i]=a,await this.cryptoStore.doTxn("readwrite",[n.IndexedDBCryptoStore.STORE_ROOMS],l=>{this.cryptoStore.storeEndToEndRoom(i,a,l)})}}return Td.RoomList=r,Td}var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.SERVICE_TYPES=void 0;let Zv;Oc.SERVICE_TYPES=Zv;(function(t){t.IS="SERVICE_TYPE_IS",t.IM="SERVICE_TYPE_IM"})(Zv||(Oc.SERVICE_TYPES=Zv={}));var cr={},ps={},A_={},J6={},Mn={},X6;function K3(){if(X6)return Mn;X6=1;var t=ze.exports;Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.UnknownDeviceError=Mn.EncryptionAlgorithm=Mn.ENCRYPTION_CLASSES=Mn.DecryptionError=Mn.DecryptionAlgorithm=Mn.DECRYPTION_CLASSES=void 0,Mn.registerAlgorithm=d;var e=t(Je());const n=new Map;Mn.ENCRYPTION_CLASSES=n;const r=new Map;Mn.DECRYPTION_CLASSES=r;class o{constructor(g){(0,e.default)(this,"userId",void 0),(0,e.default)(this,"deviceId",void 0),(0,e.default)(this,"crypto",void 0),(0,e.default)(this,"olmDevice",void 0),(0,e.default)(this,"baseApis",void 0),(0,e.default)(this,"roomId",void 0),this.userId=g.userId,this.deviceId=g.deviceId,this.crypto=g.crypto,this.olmDevice=g.olmDevice,this.baseApis=g.baseApis,this.roomId=g.roomId}prepareToEncrypt(g){}onRoomMembership(g,c,h){}}Mn.EncryptionAlgorithm=o;class i{constructor(g){(0,e.default)(this,"userId",void 0),(0,e.default)(this,"crypto",void 0),(0,e.default)(this,"olmDevice",void 0),(0,e.default)(this,"baseApis",void 0),(0,e.default)(this,"roomId",void 0),this.userId=g.userId,this.crypto=g.crypto,this.olmDevice=g.olmDevice,this.baseApis=g.baseApis,this.roomId=g.roomId}async onRoomKeyEvent(g){}async importRoomKey(g,c){}hasKeysForKeyRequest(g){return Promise.resolve(!1)}shareKeysWithDevice(g){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}async retryDecryptionFromSender(g){return!1}}Mn.DecryptionAlgorithm=i;class a extends Error{constructor(g,c,h){super(c),this.code=g,(0,e.default)(this,"detailedString",void 0),this.code=g,this.name="DecryptionError",this.detailedString=l(this,h)}}Mn.DecryptionError=a;function l(s,g){let c=s.name+"[msg: "+s.message;return g&&(c+=", "+Object.keys(g).map(h=>h+": "+g[h]).join(", ")),c+="]",c}class u extends Error{constructor(g,c,h){super(g),this.devices=c,this.event=h,this.name="UnknownDeviceError",this.devices=c}}Mn.UnknownDeviceError=u;function d(s,g,c){n.set(s,g),r.set(s,c)}return Mn}var Q6;function rH(){if(Q6)return J6;Q6=1;var t=ze.exports,e=t(Je()),n=lt(),r=l(Po()),o=sg(),i=K3();function a(g){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(a=function(_){return _?h:c})(g)}function l(g,c){if(!c&&g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var h=a(c);if(h&&h.has(g))return h.get(g);var _={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)){var p=F?Object.getOwnPropertyDescriptor(g,m):null;p&&(p.get||p.set)?Object.defineProperty(_,m,p):_[m]=g[m]}return _.default=g,h&&h.set(g,_),_}const u=o.DeviceInfo.DeviceVerification;class d extends i.EncryptionAlgorithm{constructor(...c){super(...c),(0,e.default)(this,"sessionPrepared",!1),(0,e.default)(this,"prepPromise",null)}ensureSession(c){return this.prepPromise?this.prepPromise:this.sessionPrepared?Promise.resolve():(this.prepPromise=this.crypto.downloadKeys(c).then(()=>this.crypto.ensureOlmSessionsForUsers(c)).then(()=>{this.sessionPrepared=!0}).finally(()=>{this.prepPromise=null}),this.prepPromise)}async encryptMessage(c,h,_){const m=(await c.getEncryptionTargetMembers()).map(function(y){return y.userId});await this.ensureSession(m);const p={room_id:c.roomId,type:h,content:_},f={algorithm:r.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}},v=[];for(const y of m){const w=this.crypto.getStoredDevicesForUser(y)||[];for(const b of w)b.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&b.verified!=u.BLOCKED&&v.push(r.encryptMessageForDevice(f.ciphertext,this.userId,this.deviceId,this.olmDevice,y,b,p))}return Promise.all(v).then(()=>f)}}class s extends i.DecryptionAlgorithm{async decryptEvent(c){const h=c.getWireContent(),_=h.sender_key,F=h.ciphertext;if(!F)throw new i.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(this.olmDevice.deviceCurve25519Key in F))throw new i.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");const m=F[this.olmDevice.deviceCurve25519Key];let p;try{p=await this.decryptMessage(_,m)}catch(w){throw new i.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:_,err:w})}const f=JSON.parse(p);if(f.recipient!=this.userId)throw new i.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+f.recipient);if(f.recipient_keys.ed25519!=this.olmDevice.deviceEd25519Key)throw new i.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:f.recipient_keys.ed25519,our_key:this.olmDevice.deviceEd25519Key});await this.crypto.deviceList.downloadKeys([c.getSender()],!1);const v=this.crypto.deviceList.getUserByIdentityKey(r.OLM_ALGORITHM,_);if(v!==c.getSender()&&v!=null)throw new i.DecryptionError("OLM_BAD_SENDER","Message claimed to be from "+c.getSender(),{real_sender:v});if(f.sender!=c.getSender())throw new i.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+f.sender,{reported_sender:c.getSender()});if(f.room_id!==c.getRoomId())throw new i.DecryptionError("OLM_BAD_ROOM","Message intended for room "+f.room_id,{reported_room:c.getRoomId()||"ROOM_ID_UNDEFINED"});const y=f.keys||{};return{clearEvent:f,senderCurve25519Key:_,claimedEd25519Key:y.ed25519||null}}decryptMessage(c,h){if(h.type!==0)return this.reallyDecryptMessage(c,h);{const _=this.olmDevice.olmPrekeyPromise.then(()=>this.reallyDecryptMessage(c,h));return this.olmDevice.olmPrekeyPromise=_.catch(()=>{}),_}}async reallyDecryptMessage(c,h){const _=await this.olmDevice.getSessionIdsForDevice(c),F={};for(const p of _)try{const f=await this.olmDevice.decryptMessage(c,p,h.type,h.body);return n.logger.log("Decrypted Olm message from "+c+" with session "+p),f}catch(f){if(await this.olmDevice.matchesSession(c,p,h.type,h.body))throw new Error("Error decrypting prekey message with existing session id "+p+": "+f.message);F[p]=f.message}if(h.type!==0)throw _.length===0?new Error("No existing sessions"):new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(F));let m;try{m=await this.olmDevice.createInboundSession(c,h.type,h.body)}catch(p){throw F["(new)"]=p.message,new Error("Error decrypting prekey message: "+JSON.stringify(F))}return n.logger.log("created new inbound Olm session ID "+m.session_id+" with "+c),m.payload}}return(0,i.registerAlgorithm)(r.OLM_ALGORITHM,d,s),J6}var l1={},aa={},Z6;function _A(){if(Z6)return aa;Z6=1;var t=ze.exports;Object.defineProperty(aa,"__esModule",{value:!0}),aa.RoomKeyRequestState=aa.OutgoingRoomKeyRequestManager=void 0;var e=t(Je()),n=lt(),r=et;const o=500;let i;aa.RoomKeyRequestState=i,function(d){d[d.Unsent=0]="Unsent",d[d.Sent=1]="Sent",d[d.CancellationPending=2]="CancellationPending",d[d.CancellationPendingAndWillResend=3]="CancellationPendingAndWillResend"}(i||(aa.RoomKeyRequestState=i={}));let a=class{constructor(s,g,c){this.baseApis=s,this.deviceId=g,this.cryptoStore=c,(0,e.default)(this,"sendOutgoingRoomKeyRequestsTimer",void 0),(0,e.default)(this,"sendOutgoingRoomKeyRequestsRunning",!1),(0,e.default)(this,"clientRunning",!0)}stop(){n.logger.log("stopping OutgoingRoomKeyRequestManager"),this.clientRunning=!1}sendQueuedRequests(){this.startTimer()}async queueRoomKeyRequest(s,g,c=!1){const h=await this.cryptoStore.getOutgoingRoomKeyRequest(s);if(!h)await this.cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:s,recipients:g,requestId:this.baseApis.makeTxnId(),state:i.Unsent});else switch(h.state){case i.CancellationPendingAndWillResend:case i.Unsent:return;case i.CancellationPending:{const _=c?i.CancellationPendingAndWillResend:i.Sent;await this.cryptoStore.updateOutgoingRoomKeyRequest(h.requestId,i.CancellationPending,{state:_,cancellationTxnId:this.baseApis.makeTxnId()});break}case i.Sent:{if(c){const _=i.CancellationPendingAndWillResend,F=await this.cryptoStore.updateOutgoingRoomKeyRequest(h.requestId,i.Sent,{state:_,cancellationTxnId:this.baseApis.makeTxnId(),requestTxnId:this.baseApis.makeTxnId()});if(!F)return this.queueRoomKeyRequest(s,g,c);try{await this.sendOutgoingRoomKeyRequestCancellation(F,!0)}catch(m){n.logger.error("Error sending room key request cancellation; will retry later.",m)}}break}default:throw new Error("unhandled state: "+h.state)}}cancelRoomKeyRequest(s){return this.cryptoStore.getOutgoingRoomKeyRequest(s).then(g=>{if(g)switch(g.state){case i.CancellationPending:case i.CancellationPendingAndWillResend:return;case i.Unsent:return n.logger.log("deleting unnecessary room key request for "+l(s)),this.cryptoStore.deleteOutgoingRoomKeyRequest(g.requestId,i.Unsent);case i.Sent:return this.cryptoStore.updateOutgoingRoomKeyRequest(g.requestId,i.Sent,{state:i.CancellationPending,cancellationTxnId:this.baseApis.makeTxnId()}).then(c=>{if(!c){n.logger.log("Tried to cancel room key request for "+l(s)+" but it was already cancelled in another tab");return}this.sendOutgoingRoomKeyRequestCancellation(c).catch(h=>{n.logger.error("Error sending room key request cancellation; will retry later.",h),this.startTimer()})});default:throw new Error("unhandled state: "+g.state)}})}getOutgoingSentRoomKeyRequest(s,g){return this.cryptoStore.getOutgoingRoomKeyRequestsByTarget(s,g,[i.Sent])}async cancelAndResendAllOutgoingRequests(){const s=await this.cryptoStore.getAllOutgoingRoomKeyRequestsByState(i.Sent);return Promise.all(s.map(({requestBody:g,recipients:c})=>this.queueRoomKeyRequest(g,c,!0)))}startTimer(){if(this.sendOutgoingRoomKeyRequestsTimer)return;const s=()=>{if(this.sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");this.sendOutgoingRoomKeyRequestsRunning=!0,this.sendOutgoingRoomKeyRequests().finally(()=>{this.sendOutgoingRoomKeyRequestsRunning=!1}).catch(g=>{n.logger.warn(`error in OutgoingRoomKeyRequestManager: ${g}`)})};this.sendOutgoingRoomKeyRequestsTimer=setTimeout(s,o)}async sendOutgoingRoomKeyRequests(){if(!this.clientRunning){this.sendOutgoingRoomKeyRequestsTimer=void 0;return}const s=await this.cryptoStore.getOutgoingRoomKeyRequestByState([i.CancellationPending,i.CancellationPendingAndWillResend,i.Unsent]);if(!s){this.sendOutgoingRoomKeyRequestsTimer=void 0;return}try{switch(s.state){case i.Unsent:await this.sendOutgoingRoomKeyRequest(s);break;case i.CancellationPending:await this.sendOutgoingRoomKeyRequestCancellation(s);break;case i.CancellationPendingAndWillResend:await this.sendOutgoingRoomKeyRequestCancellation(s,!0);break}return this.sendOutgoingRoomKeyRequests()}catch(g){n.logger.error("Error sending room key request; will retry later.",g),this.sendOutgoingRoomKeyRequestsTimer=void 0}}sendOutgoingRoomKeyRequest(s){n.logger.log(`Requesting keys for ${l(s.requestBody)} from ${u(s.recipients)}(id ${s.requestId})`);const g={action:"request",requesting_device_id:this.deviceId,request_id:s.requestId,body:s.requestBody};return this.sendMessageToDevices(g,s.recipients,s.requestTxnId||s.requestId).then(()=>this.cryptoStore.updateOutgoingRoomKeyRequest(s.requestId,i.Unsent,{state:i.Sent}))}sendOutgoingRoomKeyRequestCancellation(s,g=!1){n.logger.log(`Sending cancellation for key request for ${l(s.requestBody)} to ${u(s.recipients)} (cancellation id ${s.cancellationTxnId})`);const c={action:"request_cancellation",requesting_device_id:this.deviceId,request_id:s.requestId};return this.sendMessageToDevices(c,s.recipients,s.cancellationTxnId).then(()=>g?this.cryptoStore.updateOutgoingRoomKeyRequest(s.requestId,i.CancellationPendingAndWillResend,{state:i.Unsent}):this.cryptoStore.deleteOutgoingRoomKeyRequest(s.requestId,i.CancellationPending))}sendMessageToDevices(s,g,c){const h={};for(const _ of g)h[_.userId]||(h[_.userId]={}),h[_.userId][_.deviceId]=s;return this.baseApis.sendToDevice(r.EventType.RoomKeyRequest,h,c)}};aa.OutgoingRoomKeyRequestManager=a;function l(d){return d.room_id+" / "+d.session_id}function u(d){return`[${d.map(s=>`${s.userId}:${s.deviceId}`).join(",")}]`}return aa}var eS;function vA(){if(eS)return l1;eS=1;var t=ze.exports;Object.defineProperty(l1,"__esModule",{value:!0}),l1.isRoomSharedHistory=s;var e=t(Je()),n=lt(),r=d(Po()),o=K3(),i=bA(),a=et,l=_A();function u(F){if(typeof WeakMap!="function")return null;var m=new WeakMap,p=new WeakMap;return(u=function(f){return f?p:m})(F)}function d(F,m){if(!m&&F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var p=u(m);if(p&&p.has(F))return p.get(F);var f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in F)if(y!=="default"&&Object.prototype.hasOwnProperty.call(F,y)){var w=v?Object.getOwnPropertyDescriptor(F,y):null;w&&(w.get||w.set)?Object.defineProperty(f,y,w):f[y]=F[y]}return f.default=F,p&&p.set(F,f),f}function s(F){var m,p;const f=F==null||(m=F.currentState)===null||m===void 0?void 0:m.getStateEvents("m.room.history_visibility",""),v=f==null||(p=f.getContent())===null||p===void 0?void 0:p.history_visibility;return["world_readable","shared"].includes(v)}class g{constructor(m,p=!1){this.sessionId=m,this.sharedHistory=p,(0,e.default)(this,"useCount",0),(0,e.default)(this,"creationTime",void 0),(0,e.default)(this,"sharedWithDevices",{}),(0,e.default)(this,"blockedDevicesNotified",{}),this.creationTime=new Date().getTime()}needsRotation(m,p){const f=new Date().getTime()-this.creationTime;return this.useCount>=m||f>=p?(n.logger.log("Rotating megolm session after "+this.useCount+" messages, "+f+"ms"),!0):!1}markSharedWithDevice(m,p,f,v){this.sharedWithDevices[m]||(this.sharedWithDevices[m]={}),this.sharedWithDevices[m][p]={deviceKey:f,messageIndex:v}}markNotifiedBlockedDevice(m,p){this.blockedDevicesNotified[m]||(this.blockedDevicesNotified[m]={}),this.blockedDevicesNotified[m][p]=!0}sharedWithTooManyDevices(m){for(const p in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(p)){if(!m.hasOwnProperty(p))return n.logger.log("Starting new megolm session because we shared with "+p),!0;for(const f in this.sharedWithDevices[p])if(this.sharedWithDevices[p].hasOwnProperty(f)&&!m[p].hasOwnProperty(f))return n.logger.log("Starting new megolm session because we shared with "+p+":"+f),!0}return!1}}class c extends o.EncryptionAlgorithm{constructor(m){var p,f,v,y;super(m),(0,e.default)(this,"setupPromise",Promise.resolve(null)),(0,e.default)(this,"outboundSessions",{}),(0,e.default)(this,"sessionRotationPeriodMsgs",void 0),(0,e.default)(this,"sessionRotationPeriodMs",void 0),(0,e.default)(this,"encryptionPreparation",void 0),(0,e.default)(this,"roomId",void 0),this.roomId=m.roomId,this.sessionRotationPeriodMsgs=(p=(f=m.config)===null||f===void 0?void 0:f.rotation_period_msgs)!==null&&p!==void 0?p:100,this.sessionRotationPeriodMs=(v=(y=m.config)===null||y===void 0?void 0:y.rotation_period_ms)!==null&&v!==void 0?v:7*24*3600*1e3}async ensureOutboundSession(m,p,f,v=!1){const y=async b=>{const S=s(m),x=await this.prepareSession(p,S,b);try{await this.shareSession(p,S,v,f,x)}catch(N){n.logger.error(`Failed to ensure outbound session in ${this.roomId}`,N)}return x},w=this.setupPromise.then(y);return w.catch(b=>{n.logger.error(`Failed to setup outbound session in ${this.roomId}`,b)}),this.setupPromise=w,w}async prepareSession(m,p,f){var v,y;return f&&p!==f.sharedHistory&&(f=null),(v=f)!==null&&v!==void 0&&v.needsRotation(this.sessionRotationPeriodMsgs,this.sessionRotationPeriodMs)&&(n.logger.log("Starting new megolm session because we need to rotate."),f=null),(y=f)!==null&&y!==void 0&&y.sharedWithTooManyDevices(m)&&(f=null),f||(n.logger.log(`Starting new megolm session for room ${this.roomId}`),f=await this.prepareNewSession(p),n.logger.log(`Started new megolm session ${f.sessionId} for room ${this.roomId}`),this.outboundSessions[f.sessionId]=f),f}async shareSession(m,p,f,v,y){const w={};for(const[U,q]of Object.entries(m))for(const[P,G]of Object.entries(q))G.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&(!y.sharedWithDevices[U]||y.sharedWithDevices[U][P]===void 0)&&(w[U]=w[U]||[],w[U].push(G));const b=this.olmDevice.getOutboundGroupSessionKey(y.sessionId),S={type:"m.room_key",content:{algorithm:r.MEGOLM_ALGORITHM,room_id:this.roomId,session_id:y.sessionId,session_key:b.key,chain_index:b.chain_index,"org.matrix.msc3061.shared_history":p}},[x,N]=await r.getExistingOlmSessions(this.olmDevice,this.baseApis,w);await Promise.all([(async()=>{n.logger.debug(`Sharing keys with existing Olm sessions in ${this.roomId}`,N),await this.shareKeyWithOlmSessions(y,b,S,N),n.logger.debug(`Shared keys with existing Olm sessions in ${this.roomId}`)})(),(async()=>{n.logger.debug(`Sharing keys (start phase 1) with new Olm sessions in ${this.roomId}`,x);const U=[],q=Date.now(),P=[];await this.shareKeyWithDevices(y,b,S,x,U,f?1e4:2e3,P),n.logger.debug(`Shared keys (end phase 1) with new Olm sessions in ${this.roomId}`),!f&&Date.now()-q<1e4?(async()=>{const G={},C=new Set;for(const M of P)C.add(M);const I=[];for(const{userId:M,deviceInfo:A}of U){const $=M.slice(M.indexOf(":")+1);C.has($)?(G[M]=G[M]||[],G[M].push(A)):I.push({userId:M,deviceInfo:A})}n.logger.debug(`Sharing keys (start phase 2) with new Olm sessions in ${this.roomId}`),await this.shareKeyWithDevices(y,b,S,G,I,3e4),n.logger.debug(`Shared keys (end phase 2) with new Olm sessions in ${this.roomId}`),await this.notifyFailedOlmDevices(y,b,I)})():await this.notifyFailedOlmDevices(y,b,U),n.logger.debug(`Shared keys (all phases done) with new Olm sessions in ${this.roomId}`)})(),(async()=>{n.logger.debug(`There are ${Object.entries(v).length} blocked devices in ${this.roomId}`,Object.entries(v)),n.logger.debug(`Notifying newly blocked devices in ${this.roomId}`);const U={};let q=0;for(const[P,G]of Object.entries(v))for(const[C,I]of Object.entries(G))(!y.blockedDevicesNotified[P]||y.blockedDevicesNotified[P][C]===void 0)&&(U[P]=U[P]||{},U[P][C]={device:I},q++);await this.notifyBlockedDevices(y,U),n.logger.debug(`Notified ${q} newly blocked devices in ${this.roomId}`,U)})()])}async prepareNewSession(m){const p=this.olmDevice.createOutboundGroupSession(),f=this.olmDevice.getOutboundGroupSessionKey(p);return await this.olmDevice.addInboundGroupSession(this.roomId,this.olmDevice.deviceCurve25519Key,[],p,f.key,{ed25519:this.olmDevice.deviceEd25519Key},!1,{sharedHistory:m}),this.crypto.backupManager.backupGroupSession(this.olmDevice.deviceCurve25519Key,p),new g(p,m)}getDevicesWithoutSessions(m,p,f=[]){for(const[v,y]of Object.entries(p)){const w=m[v];for(const b of y){const S=b.deviceId;if(!w[S].sessionId){f.push({userId:v,deviceInfo:b}),delete w[S];continue}}}return f}splitDevices(m){let f=[];const v=[f];for(const[y,w]of Object.entries(m)){for(const b of Object.values(w))f.push({userId:y,deviceInfo:b.device});f.length>20&&(f=[],v.push(f))}return f.length===0&&v.pop(),v}encryptAndSendKeysToDevices(m,p,f,v){return this.crypto.encryptAndSendToDevices(f,v).then(()=>{for(const y of f)m.markSharedWithDevice(y.userId,y.deviceInfo.deviceId,y.deviceInfo.getIdentityKey(),p)}).catch(y=>{throw n.logger.error("failed to encryptAndSendToDevices",y),y})}async sendBlockedNotificationsToDevices(m,p,f){const v={};for(const y of p){const w=y.userId,b=y.deviceInfo,x=b.deviceInfo.deviceId,N=Object.assign({},f);N.code=b.code,N.reason=b.reason,N.code==="m.no_olm"&&(delete N.room_id,delete N.session_id),v[w]||(v[w]={}),v[w][x]=N}await this.baseApis.sendToDevice("m.room_key.withheld",v);for(const y of Object.keys(v))for(const w of Object.keys(v[y]))m.markNotifiedBlockedDevice(y,w)}async reshareKeyWithDevice(m,p,f,v){const y=this.outboundSessions[p];if(!y){n.logger.debug(`megolm session ${m}|${p} not found: not re-sharing keys`);return}if(y.sharedWithDevices[f]===void 0){n.logger.debug(`megolm session ${m}|${p} never shared with user ${f}`);return}const w=y.sharedWithDevices[f][v.deviceId];if(w===void 0){n.logger.debug(`megolm session ${m}|${p} never shared with device ${f}:${v.deviceId}`);return}if(w.deviceKey!==v.getIdentityKey()){n.logger.warn(`Megolm session ${m}|${p} has been shared with device ${v.deviceId} but with identity key ${w.deviceKey}. Key is now ${v.getIdentityKey()}!`);return}const b=await this.olmDevice.getInboundGroupSessionKey(this.roomId,m,p,w.messageIndex);if(!b){n.logger.warn(`No inbound session key found for megolm session ${m}|${p}: not re-sharing keys`);return}await r.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[f]:[v]});const S={type:"m.forwarded_room_key",content:{algorithm:r.MEGOLM_ALGORITHM,room_id:this.roomId,session_id:p,session_key:b.key,chain_index:b.chain_index,sender_key:m,sender_claimed_ed25519_key:b.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:b.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":b.shared_history||!1}},x={algorithm:r.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await r.encryptMessageForDevice(x.ciphertext,this.userId,this.deviceId,this.olmDevice,f,v,S),await this.baseApis.sendToDevice("m.room.encrypted",{[f]:{[v.deviceId]:x}}),n.logger.debug(`Re-shared key for megolm session ${m}|${p} with ${f}:${v.deviceId}`)}async shareKeyWithDevices(m,p,f,v,y,w,b){var S;n.logger.debug(`Ensuring Olm sessions for devices in ${this.roomId}`);const x=await r.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,v,!1,w,b,(S=n.logger.withPrefix)===null||S===void 0?void 0:S.call(n.logger,`[${this.roomId}]`));n.logger.debug(`Ensured Olm sessions for devices in ${this.roomId}`),this.getDevicesWithoutSessions(x,v,y),n.logger.debug(`Sharing keys with newly created Olm sessions in ${this.roomId}`),await this.shareKeyWithOlmSessions(m,p,f,x),n.logger.debug(`Shared keys with newly created Olm sessions in ${this.roomId}`)}async shareKeyWithOlmSessions(m,p,f,v){const y=this.splitDevices(v);for(let w=0;w<y.length;w++){const b=`megolm keys for ${m.sessionId} in ${this.roomId} (slice ${w+1}/${y.length})`;try{n.logger.debug(`Sharing ${b}`,y[w].map(S=>`${S.userId}/${S.deviceInfo.deviceId}`)),await this.encryptAndSendKeysToDevices(m,p.chain_index,y[w],f),n.logger.debug(`Shared ${b}`)}catch(S){throw n.logger.error(`Failed to share ${b}`),S}}}async notifyFailedOlmDevices(m,p,f){n.logger.debug(`Notifying ${f.length} devices we failed to create Olm sessions in ${this.roomId}`);for(const{userId:w,deviceInfo:b}of f){const S=b.deviceId;m.markSharedWithDevice(w,S,b.getIdentityKey(),p.chain_index)}const v=await this.olmDevice.filterOutNotifiedErrorDevices(f);n.logger.debug(`Need to notify ${v.length} failed devices which haven't been notified before in ${this.roomId}`);const y={};for(const{userId:w,deviceInfo:b}of v)y[w]=y[w]||{},y[w][b.deviceId]={device:{code:"m.no_olm",reason:i.WITHHELD_MESSAGES["m.no_olm"],deviceInfo:b}};await this.notifyBlockedDevices(m,y),n.logger.debug(`Notified ${v.length} devices we failed to create Olm sessions in ${this.roomId}`)}async notifyBlockedDevices(m,p){const f={room_id:this.roomId,session_id:m.sessionId,algorithm:r.MEGOLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key},v=this.splitDevices(p);for(let y=0;y<v.length;y++)try{await this.sendBlockedNotificationsToDevices(m,v[y],f),n.logger.log(`Completed blacklist notification for ${m.sessionId} in ${this.roomId} (slice ${y+1}/${v.length})`)}catch(w){throw n.logger.log(`blacklist notification for ${m.sessionId} in ${this.roomId} (slice ${y+1}/${v.length}) failed`),w}}prepareToEncrypt(m){if(this.encryptionPreparation!=null){const p=Date.now()-this.encryptionPreparation.startTime;n.logger.debug(`Already started preparing to encrypt for ${this.roomId} ${p} ms ago, skipping`);return}n.logger.debug(`Preparing to encrypt events for ${this.roomId}`),this.encryptionPreparation={startTime:Date.now(),promise:(async()=>{try{n.logger.debug(`Getting devices in ${this.roomId}`);const[p,f]=await this.getDevicesInRoom(m);this.crypto.globalErrorOnUnknownDevices&&this.removeUnknownDevices(p),n.logger.debug(`Ensuring outbound session in ${this.roomId}`),await this.ensureOutboundSession(m,p,f,!0),n.logger.debug(`Ready to encrypt events for ${this.roomId}`)}catch(p){n.logger.error(`Failed to prepare to encrypt events for ${this.roomId}`,p)}finally{delete this.encryptionPreparation}})()}}async encryptMessage(m,p,f){if(n.logger.log(`Starting to encrypt event for ${this.roomId}`),this.encryptionPreparation!=null)try{await this.encryptionPreparation.promise}catch{}const v=this.isVerificationEvent(p,f),[y,w]=await this.getDevicesInRoom(m,v);this.crypto.globalErrorOnUnknownDevices&&this.checkForUnknownDevices(y);const b=await this.ensureOutboundSession(m,y,w),S={room_id:this.roomId,type:p,content:f},x=this.olmDevice.encryptGroupMessage(b.sessionId,JSON.stringify(S)),N={algorithm:r.MEGOLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:x,session_id:b.sessionId,device_id:this.deviceId};return b.useCount++,N}isVerificationEvent(m,p){switch(m){case a.EventType.KeyVerificationCancel:case a.EventType.KeyVerificationDone:case a.EventType.KeyVerificationMac:case a.EventType.KeyVerificationStart:case a.EventType.KeyVerificationKey:case a.EventType.KeyVerificationReady:case a.EventType.KeyVerificationAccept:return!0;case a.EventType.RoomMessage:return p.msgtype===a.MsgType.KeyVerificationRequest;default:return!1}}forceDiscardSession(){this.setupPromise=this.setupPromise.then(()=>null)}checkForUnknownDevices(m){const p={};if(Object.keys(m).forEach(f=>{Object.keys(m[f]).forEach(v=>{const y=m[f][v];y.isUnverified()&&!y.isKnown()&&(p[f]||(p[f]={}),p[f][v]=y)})}),Object.keys(p).length)throw new o.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",p)}removeUnknownDevices(m){for(const[p,f]of Object.entries(m)){for(const[v,y]of Object.entries(f))y.isUnverified()&&!y.isKnown()&&delete f[v];Object.keys(f).length===0&&delete m[p]}}async getDevicesInRoom(m,p=!1){const v=(await m.getEncryptionTargetMembers()).map(function(x){return x.userId});let y=this.crypto.globalBlacklistUnverifiedDevices;const w=m.getBlacklistUnverifiedDevices();typeof w=="boolean"&&(y=w);const b=await this.crypto.downloadKeys(v,!1),S={};for(const x in b){if(!b.hasOwnProperty(x))continue;const N=b[x];for(const U in N){if(!N.hasOwnProperty(U))continue;const q=this.crypto.checkDeviceTrust(x,U);if(N[U].isBlocked()||!q.isVerified()&&y&&!p){S[x]||(S[x]={});const P=N[U].isBlocked();S[x][U]={code:P?"m.blacklisted":"m.unverified",reason:i.WITHHELD_MESSAGES[P?"m.blacklisted":"m.unverified"],deviceInfo:N[U]},delete N[U]}}}return[b,S]}}class h extends o.DecryptionAlgorithm{constructor(m){super(m),(0,e.default)(this,"pendingEvents",new Map),(0,e.default)(this,"olmlib",r),(0,e.default)(this,"roomId",void 0),this.roomId=m.roomId}async decryptEvent(m){const p=m.getWireContent();if(!p.sender_key||!p.session_id||!p.ciphertext)throw new o.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");this.addEventToPendingList(m);let f;try{f=await this.olmDevice.decryptGroupMessage(m.getRoomId(),p.sender_key,p.session_id,p.ciphertext,m.getId(),m.getTs())}catch(y){if(y.name==="DecryptionError")throw y;let w="OLM_DECRYPT_GROUP_MESSAGE_ERROR";throw(y==null?void 0:y.message)==="OLM.UNKNOWN_MESSAGE_INDEX"&&(this.requestKeysForEvent(m),w="OLM_UNKNOWN_MESSAGE_INDEX"),new o.DecryptionError(w,y?y.toString():"Unknown Error: Error is undefined",{session:p.sender_key+"|"+p.session_id})}if(f===null){this.crypto.backupManager.queryKeyBackupRateLimited(m.getRoomId(),p.session_id).catch(()=>{}),this.requestKeysForEvent(m);const y=await this.olmDevice.sessionMayHaveProblems(p.sender_key,m.getTs()-12e4);if(y){n.logger.info(`When handling UISI from ${m.getSender()} (sender key ${p.sender_key}): recent session problem with that sender: ${y}`);let w=_[y.type]||_.unknown;throw y.fixed&&(w+=" Trying to create a new secure channel and re-requesting the keys."),new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",w,{session:p.sender_key+"|"+p.session_id})}throw new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:p.sender_key+"|"+p.session_id})}f.untrusted||this.removeEventFromPendingList(m);const v=JSON.parse(f.result);if(v.room_id!==m.getRoomId())throw new o.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+v.room_id);return{clearEvent:v,senderCurve25519Key:f.senderKey,claimedEd25519Key:f.keysClaimed.ed25519,forwardingCurve25519KeyChain:f.forwardingCurve25519KeyChain,untrusted:f.untrusted}}requestKeysForEvent(m){const p=m.getWireContent(),f=m.getKeyRequestRecipients(this.userId);this.crypto.requestRoomKey({room_id:m.getRoomId(),algorithm:p.algorithm,sender_key:p.sender_key,session_id:p.session_id},f)}addEventToPendingList(m){var p;const f=m.getWireContent(),v=f.sender_key,y=f.session_id;this.pendingEvents.has(v)||this.pendingEvents.set(v,new Map);const w=this.pendingEvents.get(v);w.has(y)||w.set(y,new Set),(p=w.get(y))===null||p===void 0||p.add(m)}removeEventFromPendingList(m){const p=m.getWireContent(),f=p.sender_key,v=p.session_id,y=this.pendingEvents.get(f),w=y==null?void 0:y.get(v);w&&(w.delete(m),w.size===0&&y.delete(v),y.size===0&&this.pendingEvents.delete(f))}async onRoomKeyEvent(m){const p=m.getContent();let f=m.getSenderKey(),v=[],y=!1,w;const b={};if(!p.room_id||!p.session_key||!p.session_id||!p.algorithm){n.logger.error("key event is missing fields");return}if(!r.isOlmEncrypted(m)){n.logger.error("key event not properly encrypted");return}if(p["org.matrix.msc3061.shared_history"]&&(b.sharedHistory=!0),m.getType()=="m.forwarded_room_key"){var S,x,N,U;const q=this.crypto.deviceList.getDeviceByIdentityKey(r.OLM_ALGORITHM,f);if(this.baseApis.crypto.deviceList.getUserByIdentityKey(r.OLM_ALGORITHM,f)!==m.getSender()){n.logger.error("sending device does not belong to the user it claims to be from");return}const C=(q?await this.crypto.cryptoStore.getOutgoingRoomKeyRequestsByTarget(m.getSender(),q.deviceId,[l.RoomKeyRequestState.Sent]):[]).some(R=>R.requestBody.room_id===p.room_id&&R.requestBody.session_id===p.session_id),I=this.baseApis.getRoom(p.room_id),M=I==null||(S=I.getMember(this.userId))===null||S===void 0?void 0:S.events.member,A=(M==null?void 0:M.getSender())===m.getSender()||(M==null||(x=M.getUnsigned())===null||x===void 0?void 0:x.prev_sender)===m.getSender()&&(M==null||(N=M.getPrevContent())===null||N===void 0?void 0:N.membership)==="invite",$=m.getSender()===this.baseApis.getUserId();if(!C&&!$){if(!b.sharedHistory){n.logger.log("forwarded key not shared history - ignoring");return}if(I&&!A){n.logger.log("forwarded key not from inviter or from us - ignoring");return}}if(y=!0,v=Array.isArray(p.forwarding_curve25519_key_chain)?p.forwarding_curve25519_key_chain:[],v=v.slice(),v.push(f),!p.sender_key){n.logger.error("forwarded_room_key event is missing sender_key field");return}const Y=p.sender_claimed_ed25519_key;if(!Y){n.logger.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");return}if(w={ed25519:Y},!I){const R={senderId:m.getSender(),senderKey:p.sender_key,sessionId:p.session_id,sessionKey:p.session_key,keysClaimed:w,forwardingCurve25519KeyChain:v};await this.crypto.cryptoStore.doTxn("readwrite",["parked_shared_history"],B=>this.crypto.cryptoStore.addParkedSharedHistory(p.room_id,R,B),n.logger.withPrefix("[addParkedSharedHistory]"));return}const T=(U=this.crypto.deviceList.getDeviceByIdentityKey(r.OLM_ALGORITHM,f))!==null&&U!==void 0?U:void 0,D=this.crypto.checkDeviceInfoTrust(m.getSender(),T);if($&&!D.isVerified())return;b.untrusted=!0,f=p.sender_key}else w=m.getKeysClaimed();p["org.matrix.msc3061.shared_history"]&&(b.sharedHistory=!0);try{await this.olmDevice.addInboundGroupSession(p.room_id,f,v,p.session_id,p.session_key,w,y,b),await this.retryDecryption(f,p.session_id,!b.untrusted)&&this.crypto.cancelRoomKeyRequest({algorithm:p.algorithm,room_id:p.room_id,session_id:p.session_id,sender_key:f}),await this.crypto.backupManager.backupGroupSession(f,p.session_id)}catch(q){n.logger.error(`Error handling m.room_key_event: ${q}`)}}async onRoomKeyWithheldEvent(m){const p=m.getContent(),f=p.sender_key;if(p.code==="m.no_olm"){const v=m.getSender();if(n.logger.warn(`${v}:${f} was unable to establish an olm session with us`),await this.olmDevice.getSessionIdForDevice(f)){n.logger.debug("New session already created.  Not creating a new one."),await this.olmDevice.recordSessionProblem(f,"no_olm",!0),this.retryDecryptionFromSender(f);return}let y=this.crypto.deviceList.getDeviceByIdentityKey(p.algorithm,f);if(!y&&(await this.crypto.downloadKeys([v],!1),y=this.crypto.deviceList.getDeviceByIdentityKey(p.algorithm,f),!y)){n.logger.info("Couldn't find device for identity key "+f+": not establishing session"),await this.olmDevice.recordSessionProblem(f,"no_olm",!1),this.retryDecryptionFromSender(f);return}await r.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[v]:[y]},!1);const w={algorithm:r.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await r.encryptMessageForDevice(w.ciphertext,this.userId,void 0,this.olmDevice,v,y,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(f,"no_olm",!0),this.retryDecryptionFromSender(f),await this.baseApis.sendToDevice("m.room.encrypted",{[v]:{[y.deviceId]:w}})}else await this.olmDevice.addInboundGroupSessionWithheld(p.room_id,f,p.session_id,p.code,p.reason)}hasKeysForKeyRequest(m){const p=m.requestBody;return this.olmDevice.hasInboundSessionKeys(p.room_id,p.sender_key,p.session_id)}shareKeysWithDevice(m){const p=m.userId,f=m.deviceId,v=this.crypto.getStoredDevice(p,f),y=m.requestBody;this.olmlib.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[p]:[v]}).then(w=>w[p][f].sessionId?(n.logger.log("sharing keys for session "+y.sender_key+"|"+y.session_id+" with device "+p+":"+f),this.buildKeyForwardingMessage(y.room_id,y.sender_key,y.session_id)):null).then(w=>{const b={algorithm:r.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};return this.olmlib.encryptMessageForDevice(b.ciphertext,this.userId,void 0,this.olmDevice,p,v,w).then(()=>{const S={[p]:{[f]:b}};return this.baseApis.sendToDevice("m.room.encrypted",S)})})}async buildKeyForwardingMessage(m,p,f){const v=await this.olmDevice.getInboundGroupSessionKey(m,p,f);return{type:"m.forwarded_room_key",content:{algorithm:r.MEGOLM_ALGORITHM,room_id:m,sender_key:p,sender_claimed_ed25519_key:v.sender_claimed_ed25519_key,session_id:f,session_key:v.key,chain_index:v.chain_index,forwarding_curve25519_key_chain:v.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":v.shared_history||!1}}}importRoomKey(m,p={}){const f={};return(p.untrusted||m.untrusted)&&(f.untrusted=!0),m["org.matrix.msc3061.shared_history"]&&(f.sharedHistory=!0),this.olmDevice.addInboundGroupSession(m.room_id,m.sender_key,m.forwarding_curve25519_key_chain,m.session_id,m.session_key,m.sender_claimed_keys,!0,f).then(()=>{p.source!=="backup"&&this.crypto.backupManager.backupGroupSession(m.sender_key,m.session_id).catch(v=>{n.logger.log("Failed to back up megolm session",v)}),this.retryDecryption(m.sender_key,m.session_id,!f.untrusted)})}async retryDecryption(m,p,f){var v;const y=this.pendingEvents.get(m);if(!y)return!0;const w=y.get(p);return w?(n.logger.debug("Retrying decryption on events",[...w]),await Promise.all([...w].map(async b=>{try{await b.attemptDecryption(this.crypto,{isRetry:!0,forceRedecryptIfUntrusted:f})}catch{}})),!((v=this.pendingEvents.get(m))!==null&&v!==void 0&&v.has(p))):!0}async retryDecryptionFromSender(m){const p=this.pendingEvents.get(m);return p?(this.pendingEvents.delete(m),await Promise.all([...p].map(async([f,v])=>{await Promise.all([...v].map(async y=>{try{await y.attemptDecryption(this.crypto)}catch{}}))})),!this.pendingEvents.has(m)):!0}async sendSharedHistoryInboundSessions(m){await r.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,m);const p=await this.olmDevice.getSharedHistoryInboundGroupSessions(this.roomId);n.logger.log(`Sharing history in ${this.roomId} with users ${Object.keys(m)}`,p.map(([f,v])=>`${f}|${v}`));for(const[f,v]of p){const y=await this.buildKeyForwardingMessage(this.roomId,f,v),w=[],b={};for(const[S,x]of Object.entries(m)){b[S]={};for(const N of x){const U={algorithm:r.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};b[S][N.deviceId]=U,w.push(r.encryptMessageForDevice(U.ciphertext,this.userId,void 0,this.olmDevice,S,N,y))}}await Promise.all(w);for(const S of Object.keys(b)){for(const x of Object.keys(b[S]))Object.keys(b[S][x].ciphertext).length===0&&(n.logger.log("No ciphertext for device "+S+":"+x+": pruning"),delete b[S][x]);Object.keys(b[S]).length===0&&(n.logger.log("Pruned all devices for user "+S),delete b[S])}if(Object.keys(b).length===0){n.logger.log("No users left to send to: aborting");return}await this.baseApis.sendToDevice("m.room.encrypted",b)}}}const _={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};return(0,o.registerAlgorithm)(r.MEGOLM_ALGORITHM,c,h),l1}var tS;function yA(){return tS||(tS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),rH(),vA();var e=K3();Object.keys(e).forEach(function(n){n==="default"||n==="__esModule"||n in t&&t[n]===e[n]||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})}(A_)),A_}var nS;function bA(){if(nS)return ps;nS=1;var t=ze.exports;Object.defineProperty(ps,"__esModule",{value:!0}),ps.WITHHELD_MESSAGES=ps.OlmDevice=void 0;var e=t(Je()),n=lt(),r=go,o=a(yA());function i(c){if(typeof WeakMap!="function")return null;var h=new WeakMap,_=new WeakMap;return(i=function(F){return F?_:h})(c)}function a(c,h){if(!h&&c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var _=i(h);if(_&&_.has(c))return _.get(c);var F={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in c)if(p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)){var f=m?Object.getOwnPropertyDescriptor(c,p):null;f&&(f.get||f.set)?Object.defineProperty(F,p,f):F[p]=c[p]}return F.default=c,_&&_.set(c,F),F}const l=65536*3/4;function u(c){if(c===void 0)throw new Error("payloadString undefined");if(c.length>l){const h=new Error("Message too long ("+c.length+" bytes). The maximum for an encrypted message is "+l+" bytes.");throw h.data={errcode:"M_TOO_LARGE",error:"Payload too large for encrypted message"},h}}let d=class{constructor(h){this.cryptoStore=h,(0,e.default)(this,"pickleKey","DEFAULT_KEY"),(0,e.default)(this,"deviceCurve25519Key",null),(0,e.default)(this,"deviceEd25519Key",null),(0,e.default)(this,"maxOneTimeKeys",null),(0,e.default)(this,"outboundGroupSessionStore",{}),(0,e.default)(this,"inboundGroupSessionMessageIndexes",{}),(0,e.default)(this,"sessionsInProgress",{}),(0,e.default)(this,"olmPrekeyPromise",Promise.resolve())}static getOlmVersion(){return Pe.Olm.get_library_version()}async init({pickleKey:h,fromExportedDevice:_}={}){let F;const m=new Pe.Olm.Account;try{_?(h&&n.logger.warn("ignoring opts.pickleKey because opts.fromExportedDevice is present."),this.pickleKey=_.pickleKey,await this.initialiseFromExportedDevice(_,m)):(h&&(this.pickleKey=h),await this.initialiseAccount(m)),F=JSON.parse(m.identity_keys()),this.maxOneTimeKeys=m.max_number_of_one_time_keys()}finally{m.free()}this.deviceCurve25519Key=F.curve25519,this.deviceEd25519Key=F.ed25519}async initialiseFromExportedDevice(h,_){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT,r.IndexedDBCryptoStore.STORE_SESSIONS],F=>{this.cryptoStore.storeAccount(F,h.pickledAccount),h.sessions.forEach(m=>{const{deviceKey:p,sessionId:f}=m,v={session:m.session,lastReceivedMessageTs:m.lastReceivedMessageTs};this.cryptoStore.storeEndToEndSession(p,f,v,F)})}),_.unpickle(this.pickleKey,h.pickledAccount)}async initialiseAccount(h){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT],_=>{this.cryptoStore.getAccount(_,F=>{F!==null?h.unpickle(this.pickleKey,F):(h.create(),F=h.pickle(this.pickleKey),this.cryptoStore.storeAccount(_,F))})})}getAccount(h,_){this.cryptoStore.getAccount(h,F=>{const m=new Pe.Olm.Account;try{m.unpickle(this.pickleKey,F),_(m)}finally{m.free()}})}storeAccount(h,_){this.cryptoStore.storeAccount(h,_.pickle(this.pickleKey))}async export(){const h={pickleKey:this.pickleKey};return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_ACCOUNT,r.IndexedDBCryptoStore.STORE_SESSIONS],_=>{this.cryptoStore.getAccount(_,F=>{h.pickledAccount=F}),h.sessions=[],this.cryptoStore.getAllEndToEndSessions(_,F=>{h.sessions.push(F)})}),h}getSession(h,_,F,m){this.cryptoStore.getEndToEndSession(h,_,F,p=>{this.unpickleSession(p,m)})}unpickleSession(h,_){const F=new Pe.Olm.Session;try{F.unpickle(this.pickleKey,h.session);const m=Object.assign({},h,{session:F});_(m)}finally{F.free()}}saveSession(h,_,F){const m=_.session.session_id(),p=Object.assign(_,{session:_.session.pickle(this.pickleKey)});this.cryptoStore.storeEndToEndSession(h,m,p,F)}getUtility(h){const _=new Pe.Olm.Utility;try{return h(_)}finally{_.free()}}async sign(h){let _;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_ACCOUNT],F=>{this.getAccount(F,m=>{_=m.sign(h)})}),_}async getOneTimeKeys(){let h;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_ACCOUNT],_=>{this.getAccount(_,F=>{h=JSON.parse(F.one_time_keys())})}),h}maxNumberOfOneTimeKeys(){var h;return(h=this.maxOneTimeKeys)!==null&&h!==void 0?h:-1}async markKeysAsPublished(){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT],h=>{this.getAccount(h,_=>{_.mark_keys_as_published(),this.storeAccount(h,_)})})}generateOneTimeKeys(h){return this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT],_=>{this.getAccount(_,F=>{F.generate_one_time_keys(h),this.storeAccount(_,F)})})}async generateFallbackKey(){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT],h=>{this.getAccount(h,_=>{_.generate_fallback_key(),this.storeAccount(h,_)})})}async getFallbackKey(){let h;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_ACCOUNT],_=>{this.getAccount(_,F=>{h=JSON.parse(F.unpublished_fallback_key())})}),h}async forgetOldFallbackKey(){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT],h=>{this.getAccount(h,_=>{_.forget_old_fallback_key(),this.storeAccount(h,_)})})}async createOutboundSession(h,_){let F;return await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT,r.IndexedDBCryptoStore.STORE_SESSIONS],m=>{this.getAccount(m,p=>{const f=new Pe.Olm.Session;try{f.create_outbound(p,h,_),F=f.session_id(),this.storeAccount(m,p);const v={session:f,lastReceivedMessageTs:Date.now()};this.saveSession(h,v,m)}finally{f.free()}})},n.logger.withPrefix("[createOutboundSession]")),F}async createInboundSession(h,_,F){if(_!==0)throw new Error("Need messageType == 0 to create inbound session");let m;return await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_ACCOUNT,r.IndexedDBCryptoStore.STORE_SESSIONS],p=>{this.getAccount(p,f=>{const v=new Pe.Olm.Session;try{v.create_inbound_from(f,h,F),f.remove_one_time_keys(v),this.storeAccount(p,f);const y=v.decrypt(_,F),w={session:v,lastReceivedMessageTs:Date.now()};this.saveSession(h,w,p),m={payload:y,session_id:v.session_id()}}finally{v.free()}})},n.logger.withPrefix("[createInboundSession]")),m}async getSessionIdsForDevice(h){const _=n.logger.withPrefix("[getSessionIdsForDevice]");if(h in this.sessionsInProgress){_.debug(`Waiting for Olm session for ${h} to be created`);try{await this.sessionsInProgress[h]}catch{}}let F;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_SESSIONS],m=>{this.cryptoStore.getEndToEndSessions(h,m,p=>{F=Object.keys(p)})},_),F}async getSessionIdForDevice(h,_=!1,F){const m=await this.getSessionInfoForDevice(h,_,F);if(m.length===0)return null;let p=0;for(let f=1;f<m.length;f++){const v=m[f],y=v.lastReceivedMessageTs===void 0?0:v.lastReceivedMessageTs,w=m[p],b=w.lastReceivedMessageTs===void 0?0:w.lastReceivedMessageTs;(y>b||y===b&&v.sessionId<w.sessionId)&&(p=f)}return m[p].sessionId}async getSessionInfoForDevice(h,_=!1,F=n.logger){if(F=F.withPrefix("[getSessionInfoForDevice]"),h in this.sessionsInProgress&&!_){F.debug(`Waiting for Olm session for ${h} to be created`);try{await this.sessionsInProgress[h]}catch{}}const m=[];return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_SESSIONS],p=>{this.cryptoStore.getEndToEndSessions(h,p,f=>{const v=Object.keys(f).sort();for(const y of v)this.unpickleSession(f[y],w=>{m.push({lastReceivedMessageTs:w.lastReceivedMessageTs,hasReceivedMessage:w.session.has_received_message(),sessionId:y})})})},F),m}async encryptMessage(h,_,F){u(F);let m;return await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_SESSIONS],p=>{this.getSession(h,_,p,f=>{const v=f.session.describe();n.logger.log("encryptMessage: Olm Session ID "+_+" to "+h+": "+v),m=f.session.encrypt(F),this.saveSession(h,f,p)})},n.logger.withPrefix("[encryptMessage]")),m}async decryptMessage(h,_,F,m){let p;return await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_SESSIONS],f=>{this.getSession(h,_,f,v=>{const y=v.session.describe();n.logger.log("decryptMessage: Olm Session ID "+_+" from "+h+": "+y),p=v.session.decrypt(F,m),v.lastReceivedMessageTs=Date.now(),this.saveSession(h,v,f)})},n.logger.withPrefix("[decryptMessage]")),p}async matchesSession(h,_,F,m){if(F!==0)return!1;let p;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_SESSIONS],f=>{this.getSession(h,_,f,v=>{p=v.session.matches_inbound(m)})},n.logger.withPrefix("[matchesSession]")),p}async recordSessionProblem(h,_,F){n.logger.info(`Recording problem on olm session with ${h} of type ${_}. Recreating: ${F}`),await this.cryptoStore.storeEndToEndSessionProblem(h,_,F)}sessionMayHaveProblems(h,_){return this.cryptoStore.getEndToEndSessionProblem(h,_)}filterOutNotifiedErrorDevices(h){return this.cryptoStore.filterOutNotifiedErrorDevices(h)}saveOutboundGroupSession(h){this.outboundGroupSessionStore[h.session_id()]=h.pickle(this.pickleKey)}getOutboundGroupSession(h,_){const F=this.outboundGroupSessionStore[h];if(F===void 0)throw new Error("Unknown outbound group session "+h);const m=new Pe.Olm.OutboundGroupSession;try{return m.unpickle(this.pickleKey,F),_(m)}finally{m.free()}}createOutboundGroupSession(){const h=new Pe.Olm.OutboundGroupSession;try{return h.create(),this.saveOutboundGroupSession(h),h.session_id()}finally{h.free()}}encryptGroupMessage(h,_){return n.logger.log(`encrypting msg with megolm session ${h}`),u(_),this.getOutboundGroupSession(h,F=>{const m=F.encrypt(_);return this.saveOutboundGroupSession(F),m})}getOutboundGroupSessionKey(h){return this.getOutboundGroupSession(h,function(_){return{chain_index:_.message_index(),key:_.session_key()}})}unpickleInboundGroupSession(h,_){const F=new Pe.Olm.InboundGroupSession;try{return F.unpickle(this.pickleKey,h.session),_(F)}finally{F.free()}}getInboundGroupSession(h,_,F,m,p){this.cryptoStore.getEndToEndInboundGroupSession(_,F,m,(f,v)=>{if(f===null){p(null,null,v);return}if(h!==null&&h!==f.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+f.room_id+", was "+h+")");this.unpickleInboundGroupSession(f,y=>{p(y,f,v)})})}async addInboundGroupSession(h,_,F,m,p,f,v,y={}){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD,r.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],w=>{this.getInboundGroupSession(h,_,m,w,(b,S)=>{const x=new Pe.Olm.InboundGroupSession;try{if(v?x.import_session(p):x.create(p),m!=x.session_id())throw new Error("Mismatched group session ID from senderKey: "+_);if(b&&(n.logger.log(`Update for megolm session ${_}|${m}`),b.first_known_index()<=x.first_known_index())){if(!S.untrusted||y.untrusted){n.logger.log(`Keeping existing megolm session ${_}|${m}`);return}if(b.first_known_index()<x.first_known_index()){b.export_session(x.first_known_index())===x.export_session(x.first_known_index())?(n.logger.info(`Upgrading trust of existing megolm session ${_}|${m} based on newly-received trusted session`),S.untrusted=!1,this.cryptoStore.storeEndToEndInboundGroupSession(_,m,S,w)):n.logger.warn(`Newly-received megolm session ${_}|$sessionId} does not match existing session! Keeping existing session`);return}}n.logger.info(`Storing megolm session ${_}|${m} with first index `+x.first_known_index());const N=Object.assign({},y,{room_id:h,session:x.pickle(this.pickleKey),keysClaimed:f,forwardingCurve25519KeyChain:F});this.cryptoStore.storeEndToEndInboundGroupSession(_,m,N,w),!b&&y.sharedHistory&&this.cryptoStore.addSharedHistoryInboundGroupSession(h,_,m,w)}finally{x.free()}})},n.logger.withPrefix("[addInboundGroupSession]"))}async addInboundGroupSessionWithheld(h,_,F,m,p){await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],f=>{this.cryptoStore.storeEndToEndInboundGroupSessionWithheld(_,F,{room_id:h,code:m,reason:p},f)})}async decryptGroupMessage(h,_,F,m,p,f){let v=null,y;if(await this.cryptoStore.doTxn("readwrite",[r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],w=>{this.getInboundGroupSession(h,_,F,w,(b,S,x)=>{if(b===null||S===null){x&&(y=new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",g(x),{session:_+"|"+F})),v=null;return}let N;try{N=b.decrypt(m)}catch(q){(q==null?void 0:q.message)==="OLM.UNKNOWN_MESSAGE_INDEX"&&x?y=new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",g(x),{session:_+"|"+F}):y=q;return}let U=N.plaintext;if(U===void 0)U=N;else{const q=_+"|"+F+"|"+N.message_index;if(q in this.inboundGroupSessionMessageIndexes){const P=this.inboundGroupSessionMessageIndexes[q];if(P.id!==p||P.timestamp!==f){y=new Error("Duplicate message index, possible replay attack: "+q);return}}this.inboundGroupSessionMessageIndexes[q]={id:p,timestamp:f}}S.session=b.pickle(this.pickleKey),this.cryptoStore.storeEndToEndInboundGroupSession(_,F,S,w),v={result:U,keysClaimed:S.keysClaimed||{},senderKey:_,forwardingCurve25519KeyChain:S.forwardingCurve25519KeyChain||[],untrusted:!!S.untrusted}})},n.logger.withPrefix("[decryptGroupMessage]")),y)throw y;return v}async hasInboundSessionKeys(h,_,F){let m;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],p=>{this.cryptoStore.getEndToEndInboundGroupSession(_,F,p,f=>{if(f===null){m=!1;return}h!==f.room_id?(n.logger.warn(`requested keys for inbound group session ${_}|${F}, with incorrect room_id (expected ${f.room_id}, was ${h})`),m=!1):m=!0})},n.logger.withPrefix("[hasInboundSessionKeys]")),m}async getInboundGroupSessionKey(h,_,F,m){let p=null;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,r.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],f=>{this.getInboundGroupSession(h,_,F,f,(v,y)=>{if(v===null||y===null){p=null;return}m===void 0&&(m=v.first_known_index());const w=v.export_session(m),S=(y.keysClaimed||{}).ed25519||null,x=y.forwardingCurve25519KeyChain||[],N="untrusted"in y?y.untrusted:x.length>0;p={chain_index:m,key:w,forwarding_curve25519_key_chain:x,sender_claimed_ed25519_key:S,shared_history:y.sharedHistory||!1,untrusted:N}})},n.logger.withPrefix("[getInboundGroupSessionKey]")),p}exportInboundGroupSession(h,_,F){return this.unpickleInboundGroupSession(F,m=>{const p=m.first_known_index();return{sender_key:h,sender_claimed_keys:F.keysClaimed,room_id:F.room_id,session_id:_,session_key:m.export_session(p),forwarding_curve25519_key_chain:F.forwardingCurve25519KeyChain||[],first_known_index:m.first_known_index(),"org.matrix.msc3061.shared_history":F.sharedHistory||!1}})}async getSharedHistoryInboundGroupSessions(h){let _;return await this.cryptoStore.doTxn("readonly",[r.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],F=>{_=this.cryptoStore.getSharedHistoryInboundGroupSessions(h,F)},n.logger.withPrefix("[getSharedHistoryInboundGroupSessionsForRoom]")),_}verifySignature(h,_,F){this.getUtility(function(m){m.ed25519_verify(h,_,F)})}};ps.OlmDevice=d;const s={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};ps.WITHHELD_MESSAGES=s;function g(c){return c.code&&c.code in s?s[c.code]:c.reason?c.reason:"decryption key withheld"}return ps}var sa={},dr={},Ul={},En={};const oH={},iH=Object.freeze(Object.defineProperty({__proto__:null,default:oH},Symbol.toStringTag,{value:"Module"})),Tn=yb(iH);var rS;function H3(){if(rS)return En;rS=1,Object.defineProperty(En,"__esModule",{value:!0}),En.crypto=En.TextEncoder=void 0,En.setCrypto=c,En.setTextEncoder=h,En.subtleCrypto=void 0;var t=lt(),e,n,r,o,i,a,l;let u=(e=Pe.window)===null||e===void 0?void 0:e.crypto;En.crypto=u;let d=(n=(r=Pe.window)===null||r===void 0||(o=r.crypto)===null||o===void 0?void 0:o.subtle)!==null&&n!==void 0?n:(i=Pe.window)===null||i===void 0||(a=i.crypto)===null||a===void 0?void 0:a.webkitSubtle;En.subtleCrypto=d;let s=(l=Pe.window)===null||l===void 0?void 0:l.TextEncoder;if(En.TextEncoder=s,!u)try{En.crypto=u=Tn.webcrypto}catch(_){t.logger.error("Failed to load webcrypto",_)}if(!d){var g;En.subtleCrypto=d=(g=u)===null||g===void 0?void 0:g.subtle}if(!s)try{En.TextEncoder=s=Tn.TextEncoder}catch(_){t.logger.error("Failed to load TextEncoder util",_)}function c(_){var F;En.crypto=u=_,En.subtleCrypto=d=(F=_.subtle)!==null&&F!==void 0?F:_.webkitSubtle}function h(_){En.TextEncoder=s=_}return En}var oS;function lg(){if(oS)return Ul;oS=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.calculateKeyCheck=l,Ul.decryptAES=o,Ul.encryptAES=r;var t=Po(),e=H3();const n=new Uint8Array(8);async function r(u,d,s,g){let c;g?c=(0,t.decodeBase64)(g):(c=new Uint8Array(16),e.crypto.getRandomValues(c),c[8]&=127);const[h,_]=await i(d,s),F=new e.TextEncoder().encode(u),m=await e.subtleCrypto.encrypt({name:"AES-CTR",counter:c,length:64},h,F),p=await e.subtleCrypto.sign({name:"HMAC"},_,m);return{iv:(0,t.encodeBase64)(c),ciphertext:(0,t.encodeBase64)(m),mac:(0,t.encodeBase64)(p)}}async function o(u,d,s){const[g,c]=await i(d,s),h=(0,t.decodeBase64)(u.ciphertext);if(!await e.subtleCrypto.verify({name:"HMAC"},c,(0,t.decodeBase64)(u.mac),h))throw new Error(`Error decrypting secret ${s}: bad MAC`);const _=await e.subtleCrypto.decrypt({name:"AES-CTR",counter:(0,t.decodeBase64)(u.iv),length:64},g,h);return new TextDecoder().decode(new Uint8Array(_))}async function i(u,d){const s=await e.subtleCrypto.importKey("raw",u,{name:"HKDF"},!1,["deriveBits"]),g=await e.subtleCrypto.deriveBits({name:"HKDF",salt:n,info:new e.TextEncoder().encode(d),hash:"SHA-256"},s,512),c=g.slice(0,32),h=g.slice(32),_=e.subtleCrypto.importKey("raw",c,{name:"AES-CTR"},!1,["encrypt","decrypt"]),F=e.subtleCrypto.importKey("raw",h,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);return Promise.all([_,F])}const a="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function l(u,d){return r(a,u,"",d)}return Ul}var iS;function Bm(){if(iS)return dr;iS=1;var t=ze.exports;Object.defineProperty(dr,"__esModule",{value:!0}),dr.UserTrustLevel=dr.DeviceTrustLevel=dr.CrossSigningLevel=dr.CrossSigningInfo=void 0,dr.createCryptoStoreCacheCallbacks=h,dr.requestKeysDuringVerification=_;var e=t(Je()),n=Po(),r=lt(),o=go,i=lg();const a=1e3*60;function l(F){return Object.values(F.keys)[0]}class u{constructor(m,p={},f={}){this.userId=m,this.callbacks=p,this.cacheCallbacks=f,(0,e.default)(this,"keys",{}),(0,e.default)(this,"firstUse",!0),(0,e.default)(this,"crossSigningVerifiedBefore",!1)}static fromStorage(m,p){const f=new u(p);for(const v in m)m.hasOwnProperty(v)&&(f[v]=m[v]);return f}toStorage(){return{keys:this.keys,firstUse:this.firstUse,crossSigningVerifiedBefore:this.crossSigningVerifiedBefore}}async getCrossSigningKey(m,p){const f=["master","self_signing","user_signing"].indexOf(m)>=0;if(!this.callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");p===void 0&&(p=this.getId(m));function v(S){if(!S)return;const x=new Pe.Olm.PkSigning,N=x.init_with_seed(S);if(N===p)return[N,x];x.free()}let y=null;this.cacheCallbacks.getCrossSigningKeyCache&&f&&(y=await this.cacheCallbacks.getCrossSigningKeyCache(m,p));const w=v(y);if(w)return w;y=await this.callbacks.getCrossSigningKey(m,p);const b=v(y);if(b)return this.cacheCallbacks.storeCrossSigningKeyCache&&f&&await this.cacheCallbacks.storeCrossSigningKeyCache(m,y),b;throw y?new Error("Key type "+m+" from getCrossSigningKey callback did not match"):new Error("getCrossSigningKey callback for "+m+" returned falsey")}async isStoredInSecretStorage(m){const p=await m.isStored("m.cross_signing.master")||{};function f(v){for(const y of Object.keys(p))v[y]||delete p[y]}for(const v of["self_signing","user_signing"])f(await m.isStored(`m.cross_signing.${v}`)||{});return Object.keys(p).length?p:null}static async storeInSecretStorage(m,p){for(const[f,v]of m){const y=(0,n.encodeBase64)(v);await p.store(`m.cross_signing.${f}`,y)}}static async getFromSecretStorage(m,p){const f=await p.get(`m.cross_signing.${m}`);return f?(0,n.decodeBase64)(f):null}async isStoredInKeyCache(m){const p=this.cacheCallbacks;if(!p)return!1;const f=m?[m]:["master","self_signing","user_signing"];for(const y of f){var v;if(!await((v=p.getCrossSigningKeyCache)===null||v===void 0?void 0:v.call(p,y)))return!1}return!0}async getCrossSigningKeysFromCache(){const m=new Map,p=this.cacheCallbacks;if(!p)return m;for(const v of["master","self_signing","user_signing"]){var f;const y=await((f=p.getCrossSigningKeyCache)===null||f===void 0?void 0:f.call(p,v));y&&m.set(v,y)}return m}getId(m="master"){if(!this.keys[m])return null;const p=this.keys[m];return l(p)}async resetKeys(m){if(!this.callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(m===void 0||m&s.MASTER||!this.keys.master)m=s.MASTER|s.USER_SIGNING|s.SELF_SIGNING;else if(m===0)return;const p={},f={};let v,y;try{if(m&s.MASTER?(v=new Pe.Olm.PkSigning,p.master=v.generate_seed(),y=v.init_with_seed(p.master),f.master={user_id:this.userId,usage:["master"],keys:{["ed25519:"+y]:y}}):[y,v]=await this.getCrossSigningKey("master"),m&s.SELF_SIGNING){const w=new Pe.Olm.PkSigning;try{p.self_signing=w.generate_seed();const b=w.init_with_seed(p.self_signing);f.self_signing={user_id:this.userId,usage:["self_signing"],keys:{["ed25519:"+b]:b}},(0,n.pkSign)(f.self_signing,v,this.userId,y)}finally{w.free()}}if(m&s.USER_SIGNING){const w=new Pe.Olm.PkSigning;try{p.user_signing=w.generate_seed();const b=w.init_with_seed(p.user_signing);f.user_signing={user_id:this.userId,usage:["user_signing"],keys:{["ed25519:"+b]:b}},(0,n.pkSign)(f.user_signing,v,this.userId,y)}finally{w.free()}}Object.assign(this.keys,f),this.callbacks.saveCrossSigningKeys(p)}finally{v&&v.free()}}clearKeys(){this.keys={}}setKeys(m){const p={};if(m.master){if(m.master.user_id!==this.userId){const v="Mismatched user ID "+m.master.user_id+" in master key from "+this.userId;throw r.logger.error(v),new Error(v)}this.keys.master?l(m.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,p.master=m.master}else if(this.keys.master)p.master=this.keys.master;else throw new Error("Tried to set cross-signing keys without a master key");const f=l(p.master);if(m.user_signing){if(m.user_signing.user_id!==this.userId){const v="Mismatched user ID "+m.master.user_id+" in user_signing key from "+this.userId;throw r.logger.error(v),new Error(v)}try{(0,n.pkVerify)(m.user_signing,f,this.userId)}catch(v){throw r.logger.error("invalid signature on user-signing key"),v}}if(m.self_signing){if(m.self_signing.user_id!==this.userId){const v="Mismatched user ID "+m.master.user_id+" in self_signing key from "+this.userId;throw r.logger.error(v),new Error(v)}try{(0,n.pkVerify)(m.self_signing,f,this.userId)}catch(v){throw r.logger.error("invalid signature on self-signing key"),v}}m.master&&(this.keys.master=m.master,delete this.keys.self_signing,delete this.keys.user_signing),m.self_signing&&(this.keys.self_signing=m.self_signing),m.user_signing&&(this.keys.user_signing=m.user_signing)}updateCrossSigningVerifiedBefore(m){!this.crossSigningVerifiedBefore&&m&&(this.crossSigningVerifiedBefore=!0)}async signObject(m,p){if(!this.keys[p])throw new Error("Attempted to sign with "+p+" key but no such key present");const[f,v]=await this.getCrossSigningKey(p);try{return(0,n.pkSign)(m,v,this.userId,f),m}finally{v.free()}}async signUser(m){if(!this.keys.user_signing){r.logger.info("No user signing key: not signing user");return}return this.signObject(m.keys.master,"user_signing")}async signDevice(m,p){if(m!==this.userId)throw new Error(`Trying to sign ${m}'s device; can only sign our own device`);if(!this.keys.self_signing){r.logger.info("No self signing key: not signing device");return}return this.signObject({algorithms:p.algorithms,keys:p.keys,device_id:p.deviceId,user_id:m},"self_signing")}checkUserTrust(m){if(this.userId===m.userId&&this.getId()&&this.getId()===m.getId()&&this.getId("self_signing")&&this.getId("self_signing")===m.getId("self_signing"))return new g(!0,!0,this.firstUse);if(!this.keys.user_signing)return new g(!1,!1,m.firstUse);let p;const f=m.keys.master,v=this.getId("user_signing");try{(0,n.pkVerify)(f,v,this.userId),p=!0}catch{p=!1}return new g(p,m.crossSigningVerifiedBefore,m.firstUse)}checkDeviceTrust(m,p,f,v){const y=this.checkUserTrust(m),w=m.keys.self_signing;if(!w)return new c(!1,!1,f,v);const b=d(p,m.userId);try{return(0,n.pkVerify)(w,m.getId(),m.userId),(0,n.pkVerify)(b,l(w),m.userId),c.fromUserTrustLevel(y,f,v)}catch{return new c(!1,!1,f,v)}}getCacheCallbacks(){return this.cacheCallbacks}}dr.CrossSigningInfo=u;function d(F,m){return{algorithms:F.algorithms,keys:F.keys,device_id:F.deviceId,user_id:m,signatures:F.signatures}}let s;dr.CrossSigningLevel=s,function(F){F[F.MASTER=4]="MASTER",F[F.USER_SIGNING=2]="USER_SIGNING",F[F.SELF_SIGNING=1]="SELF_SIGNING"}(s||(dr.CrossSigningLevel=s={}));class g{constructor(m,p,f){this.crossSigningVerified=m,this.crossSigningVerifiedBefore=p,this.tofu=f}isVerified(){return this.isCrossSigningVerified()}isCrossSigningVerified(){return this.crossSigningVerified}wasCrossSigningVerified(){return this.crossSigningVerifiedBefore}isTofu(){return this.tofu}}dr.UserTrustLevel=g;class c{constructor(m,p,f,v){this.crossSigningVerified=m,this.tofu=p,this.localVerified=f,this.trustCrossSignedDevices=v}static fromUserTrustLevel(m,p,f){return new c(m.isCrossSigningVerified(),m.isTofu(),p,f)}isVerified(){return Boolean(this.isLocallyVerified()||this.trustCrossSignedDevices&&this.isCrossSigningVerified())}isCrossSigningVerified(){return this.crossSigningVerified}isLocallyVerified(){return this.localVerified}isTofu(){return this.tofu}}dr.DeviceTrustLevel=c;function h(F,m){return{getCrossSigningKeyCache:async function(p,f){const v=await new Promise(y=>F.doTxn("readonly",[o.IndexedDBCryptoStore.STORE_ACCOUNT],w=>{F.getSecretStorePrivateKey(w,y,p)}));if(v&&v.ciphertext){const y=Wt.Buffer.from(m.pickleKey),w=await(0,i.decryptAES)(v,y,p);return(0,n.decodeBase64)(w)}else return v},storeCrossSigningKeyCache:async function(p,f){if(!(f instanceof Uint8Array))throw new Error(`storeCrossSigningKeyCache expects Uint8Array, got ${f}`);const v=Wt.Buffer.from(m.pickleKey),y=await(0,i.encryptAES)((0,n.encodeBase64)(f),v,p);return F.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ACCOUNT],w=>{F.storeSecretStorePrivateKey(w,p,y)})}}}async function _(F,m,p){if(F.getUserId()===m)return r.logger.log("Cross-signing: Self-verification done; requesting keys"),new Promise((f,v)=>{const y=F,w=y.crypto.crossSigningInfo,b=new u(w.userId,{getCrossSigningKey:async N=>{r.logger.debug("Cross-signing: requesting secret",N,p);const{promise:U}=y.requestSecret(`m.cross_signing.${N}`,[p]),q=await U,P=(0,n.decodeBase64)(q);return Uint8Array.from(P)}},w.getCacheCallbacks());b.keys=w.keys;const S=new Promise(N=>{setTimeout(N,a,new Error("Timeout"))}),x=(async()=>{if(!await y.crypto.getSessionBackupPrivateKey()){r.logger.info("No cached backup key found. Requesting...");const q=await y.requestSecret("m.megolm_backup.v1",[p]).promise;r.logger.info("Got key backup key, decoding...");const P=(0,n.decodeBase64)(q);r.logger.info("Decoded backup key, storing..."),await y.crypto.storeSessionBackupPrivateKey(Uint8Array.from(P)),r.logger.info("Backup key stored. Starting backup restore...");const G=await y.getKeyBackupVersion();y.restoreKeyBackupWithCache(void 0,void 0,G).then(()=>{r.logger.info("Backup restored.")})}})();return Promise.race([Promise.all([b.getCrossSigningKey("master"),b.getCrossSigningKey("self_signing"),b.getCrossSigningKey("user_signing"),x]),S]).then(f,v)}).catch(f=>{r.logger.warn("Cross-signing: failure while requesting keys:",f)})}return dr}var aS;function aH(){if(aS)return sa;aS=1;var t=ze.exports;Object.defineProperty(sa,"__esModule",{value:!0}),sa.TrackingStatus=sa.DeviceList=void 0;var e=t(Je()),n=lt(),r=sg(),o=Bm(),i=g(Po()),a=go,l=tt,u=un(),d=J3();function s(p){if(typeof WeakMap!="function")return null;var f=new WeakMap,v=new WeakMap;return(s=function(y){return y?v:f})(p)}function g(p,f){if(!f&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var v=s(f);if(v&&v.has(p))return v.get(p);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in p)if(b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)){var S=w?Object.getOwnPropertyDescriptor(p,b):null;S&&(S.get||S.set)?Object.defineProperty(y,b,S):y[b]=p[b]}return y.default=p,v&&v.set(p,y),y}let c;sa.TrackingStatus=c,function(p){p[p.NotTracked=0]="NotTracked",p[p.PendingDownload=1]="PendingDownload",p[p.DownloadInProgress=2]="DownloadInProgress",p[p.UpToDate=3]="UpToDate"}(c||(sa.TrackingStatus=c={}));let h=class extends u.TypedEventEmitter{constructor(f,v,y,w=250){super(),this.cryptoStore=v,this.keyDownloadChunkSize=w,(0,e.default)(this,"devices",{}),(0,e.default)(this,"crossSigningInfo",{}),(0,e.default)(this,"userByIdentityKey",{}),(0,e.default)(this,"deviceTrackingStatus",{}),(0,e.default)(this,"syncToken",null),(0,e.default)(this,"keyDownloadsInProgressByUser",new Map),(0,e.default)(this,"dirty",!1),(0,e.default)(this,"savePromise",null),(0,e.default)(this,"resolveSavePromise",null),(0,e.default)(this,"savePromiseTime",null),(0,e.default)(this,"saveTimer",null),(0,e.default)(this,"hasFetched",null),(0,e.default)(this,"serialiser",void 0),this.serialiser=new _(f,y,this)}async load(){await this.cryptoStore.doTxn("readonly",[a.IndexedDBCryptoStore.STORE_DEVICE_DATA],f=>{this.cryptoStore.getEndToEndDeviceData(f,v=>{var y;this.hasFetched=Boolean(v&&v.devices),this.devices=v?v.devices:{},this.crossSigningInfo=v?v.crossSigningInfo||{}:{},this.deviceTrackingStatus=v?v.trackingStatus:{},this.syncToken=(y=v==null?void 0:v.syncToken)!==null&&y!==void 0?y:null,this.userByIdentityKey={};for(const w of Object.keys(this.devices)){const b=this.devices[w];for(const S of Object.keys(b)){const x=b[S].keys["curve25519:"+S];x!==void 0&&(this.userByIdentityKey[x]=w)}}})});for(const f of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[f]==c.DownloadInProgress&&(this.deviceTrackingStatus[f]=c.PendingDownload)}stop(){this.saveTimer!==null&&clearTimeout(this.saveTimer)}async saveIfDirty(f=500){if(!this.dirty)return Promise.resolve(!1);const v=Date.now()+f;this.savePromiseTime&&v<this.savePromiseTime&&(clearTimeout(this.saveTimer),this.saveTimer=null,this.savePromiseTime=null);let y=this.savePromise;if(y===null&&(y=new Promise(w=>{this.resolveSavePromise=w}),this.savePromise=y),this.saveTimer===null){const w=this.resolveSavePromise;this.savePromiseTime=v,this.saveTimer=setTimeout(()=>{n.logger.log("Saving device tracking data",this.syncToken),this.savePromiseTime=null,this.saveTimer=null,this.savePromise=null,this.resolveSavePromise=null,this.cryptoStore.doTxn("readwrite",[a.IndexedDBCryptoStore.STORE_DEVICE_DATA],b=>{var S;this.cryptoStore.storeEndToEndDeviceData({devices:this.devices,crossSigningInfo:this.crossSigningInfo,trackingStatus:this.deviceTrackingStatus,syncToken:(S=this.syncToken)!==null&&S!==void 0?S:void 0},b)}).then(()=>{this.dirty=!1,w==null||w(!0)},b=>{n.logger.error("Failed to save device tracking data",this.syncToken),n.logger.error(b)})},f)}return y}getSyncToken(){return this.syncToken}setSyncToken(f){this.syncToken=f}downloadKeys(f,v){const y=[],w=[];if(f.forEach(b=>{const S=this.deviceTrackingStatus[b];this.keyDownloadsInProgressByUser.has(b)?(n.logger.log(`downloadKeys: already have a download in progress for ${b}: awaiting its result`),w.push(this.keyDownloadsInProgressByUser.get(b))):(v||S!=c.UpToDate)&&y.push(b)}),y.length!=0){n.logger.log("downloadKeys: downloading for",y);const b=this.doKeyDownload(y);w.push(b)}return w.length===0&&n.logger.log("downloadKeys: already have all necessary keys"),Promise.all(w).then(()=>this.getDevicesFromStore(f))}getDevicesFromStore(f){const v={};return f.forEach(y=>{v[y]={},(this.getStoredDevicesForUser(y)||[]).forEach(function(b){v[y][b.deviceId]=b})}),v}getKnownUserIds(){return Object.keys(this.devices)}getStoredDevicesForUser(f){const v=this.devices[f];if(!v)return null;const y=[];for(const w in v)v.hasOwnProperty(w)&&y.push(r.DeviceInfo.fromStorage(v[w],w));return y}getRawStoredDevicesForUser(f){return this.devices[f]}getStoredCrossSigningForUser(f){return this.crossSigningInfo[f]?o.CrossSigningInfo.fromStorage(this.crossSigningInfo[f],f):null}storeCrossSigningForUser(f,v){this.crossSigningInfo[f]=v,this.dirty=!0}getStoredDevice(f,v){const y=this.devices[f];if(y!=null&&y[v])return r.DeviceInfo.fromStorage(y[v],v)}getUserByIdentityKey(f,v){return f!==i.OLM_ALGORITHM&&f!==i.MEGOLM_ALGORITHM?null:this.userByIdentityKey[v]}getDeviceByIdentityKey(f,v){const y=this.getUserByIdentityKey(f,v);if(!y)return null;const w=this.devices[y];if(!w)return null;for(const b in w){if(!w.hasOwnProperty(b))continue;const S=w[b];for(const x in S.keys){if(!S.keys.hasOwnProperty(x)||x.indexOf("curve25519:")!==0)continue;if(S.keys[x]==v)return r.DeviceInfo.fromStorage(S,b)}}return null}storeDevicesForUser(f,v){this.setRawStoredDevicesForUser(f,v),this.dirty=!0}startTrackingDeviceList(f){if(typeof f!="string")throw new Error("userId must be a string; was "+f);this.deviceTrackingStatus[f]||(n.logger.log("Now tracking device list for "+f),this.deviceTrackingStatus[f]=c.PendingDownload,this.dirty=!0)}stopTrackingDeviceList(f){this.deviceTrackingStatus[f]&&(n.logger.log("No longer tracking device list for "+f),this.deviceTrackingStatus[f]=c.NotTracked,this.dirty=!0)}stopTrackingAllDeviceLists(){for(const f of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[f]=c.NotTracked;this.dirty=!0}invalidateUserDeviceList(f){this.deviceTrackingStatus[f]&&(n.logger.log("Marking device list outdated for",f),this.deviceTrackingStatus[f]=c.PendingDownload,this.dirty=!0)}refreshOutdatedDeviceLists(){this.saveIfDirty();const f=[];for(const v of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[v]==c.PendingDownload&&f.push(v);return this.doKeyDownload(f)}setRawStoredDevicesForUser(f,v){if(this.devices[f]!==void 0)for(const[y,w]of Object.entries(this.devices[f])){const b=w.keys["curve25519:"+y];delete this.userByIdentityKey[b]}this.devices[f]=v;for(const[y,w]of Object.entries(v)){const b=w.keys["curve25519:"+y];this.userByIdentityKey[b]=f}}setRawStoredCrossSigningForUser(f,v){this.crossSigningInfo[f]=v}doKeyDownload(f){if(f.length===0)return Promise.resolve();const v=this.serialiser.updateDevicesForUsers(f,this.syncToken).then(()=>{y(!0)},w=>{throw n.logger.error("Error downloading keys for "+f+":",w),y(!1),w});f.forEach(w=>{this.keyDownloadsInProgressByUser.set(w,v),this.deviceTrackingStatus[w]==c.PendingDownload&&(this.deviceTrackingStatus[w]=c.DownloadInProgress)});const y=w=>{this.emit(d.CryptoEvent.WillUpdateDevices,f,!this.hasFetched),f.forEach(b=>{if(this.dirty=!0,this.keyDownloadsInProgressByUser.get(b)!==v){n.logger.log("Another update in the queue for",b,"- not marking up-to-date");return}this.keyDownloadsInProgressByUser.delete(b),this.deviceTrackingStatus[b]==c.DownloadInProgress&&(w?(this.deviceTrackingStatus[b]=c.UpToDate,n.logger.log("Device list for",b,"now up to date")):this.deviceTrackingStatus[b]=c.PendingDownload)}),this.saveIfDirty(),this.emit(d.CryptoEvent.DevicesUpdated,f,!this.hasFetched),this.hasFetched=!0};return v}};sa.DeviceList=h;class _{constructor(f,v,y){this.baseApis=f,this.olmDevice=v,this.deviceList=y,(0,e.default)(this,"downloadInProgress",!1),(0,e.default)(this,"keyDownloadsQueuedByUser",{}),(0,e.default)(this,"queuedQueryDeferred",void 0),(0,e.default)(this,"syncToken",void 0)}updateDevicesForUsers(f,v){return f.forEach(y=>{this.keyDownloadsQueuedByUser[y]=!0}),this.queuedQueryDeferred||(this.queuedQueryDeferred=(0,l.defer)()),this.syncToken=v,this.downloadInProgress?(n.logger.log("Queued key download for",f),this.queuedQueryDeferred.promise):this.doQueuedQueries()}doQueuedQueries(){if(this.downloadInProgress)throw new Error("DeviceListUpdateSerialiser.doQueuedQueries called with request active");const f=Object.keys(this.keyDownloadsQueuedByUser);this.keyDownloadsQueuedByUser={};const v=this.queuedQueryDeferred;this.queuedQueryDeferred=void 0,n.logger.log("Starting key download for",f),this.downloadInProgress=!0;const y={};this.syncToken&&(y.token=this.syncToken);const w=[];for(let b=0;b<f.length;b+=this.deviceList.keyDownloadChunkSize){const S=f.slice(b,b+this.deviceList.keyDownloadChunkSize);w.push(()=>this.baseApis.downloadKeysForUsers(S,y))}return(0,l.chunkPromises)(w,3).then(async b=>{const S=Object.assign({},...b.map(q=>q.device_keys||{})),x=Object.assign({},...b.map(q=>q.master_keys||{})),N=Object.assign({},...b.map(q=>q.self_signing_keys||{})),U=Object.assign({},...b.map(q=>q.user_signing_keys||{}));for(const q of f){await(0,l.sleep)(5);try{await this.processQueryResponseForUser(q,S[q],{master:x==null?void 0:x[q],self_signing:N==null?void 0:N[q],user_signing:U==null?void 0:U[q]})}catch(P){n.logger.error(`Error processing keys for ${q}:`,P)}}}).then(()=>{n.logger.log("Completed key download for "+f),this.downloadInProgress=!1,v==null||v.resolve(),this.queuedQueryDeferred&&this.doQueuedQueries()},b=>{n.logger.warn("Error downloading keys for "+f+":",b),this.downloadInProgress=!1,v==null||v.reject(b)}),v.promise}async processQueryResponseForUser(f,v,y){n.logger.log("got device keys for "+f+":",v),n.logger.log("got cross-signing keys for "+f+":",y);{const w={},b=this.deviceList.getRawStoredDevicesForUser(f);b&&Object.keys(b).forEach(x=>{const N=r.DeviceInfo.fromStorage(b[x],x);w[x]=N}),await F(this.olmDevice,f,w,v||{},this.baseApis.getUserId(),this.baseApis.deviceId);const S={};Object.keys(w).forEach(x=>{S[x]=w[x].toStorage()}),this.deviceList.setRawStoredDevicesForUser(f,S)}if(y&&(y.master||y.self_signing||y.user_signing)){const w=this.deviceList.getStoredCrossSigningForUser(f)||new o.CrossSigningInfo(f);w.setKeys(y),this.deviceList.setRawStoredCrossSigningForUser(f,w.toStorage()),this.deviceList.emit(d.CryptoEvent.UserCrossSigningUpdated,f)}}}async function F(p,f,v,y,w,b){let S=!1;for(const x in v)if(v.hasOwnProperty(x)&&!(x in y)){if(f===w&&x===b){n.logger.warn(`Local device ${x} missing from sync, skipping removal`);continue}n.logger.log("Device "+f+":"+x+" has been removed"),delete v[x],S=!0}for(const x in y){if(!y.hasOwnProperty(x))continue;const N=y[x];if(N.user_id!==f){n.logger.warn("Mismatched user_id "+N.user_id+" in keys from "+f+":"+x);continue}if(N.device_id!==x){n.logger.warn("Mismatched device_id "+N.device_id+" in keys from "+f+":"+x);continue}await m(p,v,N)&&(S=!0)}return S}async function m(p,f,v){if(!v.keys)return!1;const y=v.device_id,w=v.user_id,b="ed25519:"+y,S=v.keys[b];if(!S)return n.logger.warn("Device "+w+":"+y+" has no ed25519 key"),!1;const x=v.unsigned||{},N=v.signatures||{};try{await i.verifySignature(p,v,w,y,S)}catch(q){return n.logger.warn("Unable to verify signature on device "+w+":"+y+":"+q),!1}let U;if(y in f){if(U=f[y],U.getFingerprint()!=S)return n.logger.warn("Ed25519 key for device "+w+":"+y+" has changed"),!1}else f[y]=U=new r.DeviceInfo(y);return U.keys=v.keys||{},U.algorithms=v.algorithms||[],U.unsigned=x,U.signatures=N,!0}return sa}var ms={},sS;function sH(){if(sS)return ms;sS=1;var t=ze.exports;Object.defineProperty(ms,"__esModule",{value:!0}),ms.EncryptionSetupOperation=ms.EncryptionSetupBuilder=void 0;var e=t(Je()),n=lt(),r=Kn(),o=Bm(),i=go,a=Bo,l=Mo(),u=un();class d{constructor(F,m){(0,e.default)(this,"accountDataClientAdapter",void 0),(0,e.default)(this,"crossSigningCallbacks",void 0),(0,e.default)(this,"ssssCryptoCallbacks",void 0),(0,e.default)(this,"crossSigningKeys",void 0),(0,e.default)(this,"keySignatures",void 0),(0,e.default)(this,"keyBackupInfo",void 0),(0,e.default)(this,"sessionBackupPrivateKey",void 0),this.accountDataClientAdapter=new g(F),this.crossSigningCallbacks=new c,this.ssssCryptoCallbacks=new h(m)}addCrossSigningKeys(F,m){this.crossSigningKeys={authUpload:F,keys:m}}addSessionBackup(F){this.keyBackupInfo=F}addSessionBackupPrivateKeyToCache(F){this.sessionBackupPrivateKey=F}addKeySignature(F,m,p){this.keySignatures||(this.keySignatures={});const f=this.keySignatures[F]||{};this.keySignatures[F]=f,f[m]=p}async setAccountData(F,m){await this.accountDataClientAdapter.setAccountData(F,m)}buildOperation(){const F=this.accountDataClientAdapter.values;return new s(F,this.crossSigningKeys,this.keyBackupInfo,this.keySignatures)}async persist(F){if(this.crossSigningKeys){const p=(0,o.createCryptoStoreCacheCallbacks)(F.cryptoStore,F.olmDevice);for(const f of["master","self_signing","user_signing"]){var m;n.logger.log(`Cache ${f} cross-signing private key locally`);const v=this.crossSigningCallbacks.privateKeys.get(f);await((m=p.storeCrossSigningKeyCache)===null||m===void 0?void 0:m.call(p,f,v))}await F.cryptoStore.doTxn("readwrite",[i.IndexedDBCryptoStore.STORE_ACCOUNT],f=>{F.cryptoStore.storeCrossSigningKeys(f,this.crossSigningKeys.keys)})}this.sessionBackupPrivateKey&&await F.storeSessionBackupPrivateKey(this.sessionBackupPrivateKey)}}ms.EncryptionSetupBuilder=d;class s{constructor(F,m,p,f){this.accountData=F,this.crossSigningKeys=m,this.keyBackupInfo=p,this.keySignatures=f}async apply(F){const m=F.baseApis;if(this.crossSigningKeys){var p,f;const v={};for(const[y,w]of Object.entries(this.crossSigningKeys.keys))v[y+"_key"]=w;await((p=(f=this.crossSigningKeys).authUpload)===null||p===void 0?void 0:p.call(f,y=>m.uploadDeviceSigningKeys(y,v))),F.crossSigningInfo.setKeys(this.crossSigningKeys.keys)}if(this.accountData)for(const[v,y]of this.accountData)await m.setAccountData(v,y);this.keySignatures&&await m.uploadKeySignatures(this.keySignatures),this.keyBackupInfo&&(this.keyBackupInfo.version?await m.http.authedRequest(a.Method.Put,"/room_keys/version/"+this.keyBackupInfo.version,void 0,{algorithm:this.keyBackupInfo.algorithm,auth_data:this.keyBackupInfo.auth_data},{prefix:a.ClientPrefix.V3}):await m.http.authedRequest(a.Method.Post,"/room_keys/version",void 0,this.keyBackupInfo,{prefix:a.ClientPrefix.V3}))}}ms.EncryptionSetupOperation=s;class g extends u.TypedEventEmitter{constructor(F){super(),this.existingValues=F,(0,e.default)(this,"values",new Map)}getAccountDataFromServer(F){return Promise.resolve(this.getAccountData(F))}getAccountData(F){const m=this.values.get(F);if(m)return m;const p=this.existingValues[F];return p?p.getContent():null}setAccountData(F,m){const p=this.values.get(F);return this.values.set(F,m),Promise.resolve().then(()=>{const f=new r.MatrixEvent({type:F,content:m});return this.emit(l.ClientEvent.AccountData,f,p),{}})}}class c{constructor(){(0,e.default)(this,"privateKeys",new Map)}getCrossSigningKeyCache(F,m){return this.getCrossSigningKey(F,m)}storeCrossSigningKeyCache(F,m){return this.privateKeys.set(F,m),Promise.resolve()}getCrossSigningKey(F,m){var p;return Promise.resolve((p=this.privateKeys.get(F))!==null&&p!==void 0?p:null)}saveCrossSigningKeys(F){for(const[m,p]of Object.entries(F))this.privateKeys.set(m,p)}}class h{constructor(F){this.delegateCryptoCallbacks=F,(0,e.default)(this,"privateKeys",new Map)}async getSecretStorageKey({keys:F},m){var p;for(const f of Object.keys(F)){const v=this.privateKeys.get(f);if(v)return[f,v]}if(this!==null&&this!==void 0&&(p=this.delegateCryptoCallbacks)!==null&&p!==void 0&&p.getSecretStorageKey){const f=await this.delegateCryptoCallbacks.getSecretStorageKey({keys:F},m);if(f){const[v,y]=f;this.privateKeys.set(v,y)}return f}return null}addPrivateKey(F,m,p){var f,v;this.privateKeys.set(F,p),(f=this.delegateCryptoCallbacks)===null||f===void 0||(v=f.cacheSecretStorageKey)===null||v===void 0||v.call(f,F,m,p)}}return ms}var Fs={},lS;function lH(){if(lS)return Fs;lS=1;var t=ze.exports;Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.SecretStorage=Fs.SECRET_STORAGE_ALGORITHM_V1_AES=void 0;var e=t(Je()),n=lt(),r=d(Po()),o=ag(),i=lg(),a=Mo(),l=tt;function u(c){if(typeof WeakMap!="function")return null;var h=new WeakMap,_=new WeakMap;return(u=function(F){return F?_:h})(c)}function d(c,h){if(!h&&c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var _=u(h);if(_&&_.has(c))return _.get(c);var F={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in c)if(p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)){var f=m?Object.getOwnPropertyDescriptor(c,p):null;f&&(f.get||f.set)?Object.defineProperty(F,p,f):F[p]=c[p]}return F.default=c,_&&_.set(c,F),F}const s="m.secret_storage.v1.aes-hmac-sha2";Fs.SECRET_STORAGE_ALGORITHM_V1_AES=s;let g=class{constructor(h,_,F){this.accountDataAdapter=h,this.cryptoCallbacks=_,this.baseApis=F,(0,e.default)(this,"requests",new Map)}async getDefaultKeyId(){const h=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.default_key");return h?h.key:null}setDefaultKeyId(h){return new Promise((_,F)=>{const m=p=>{p.getType()==="m.secret_storage.default_key"&&p.getContent().key===h&&(this.accountDataAdapter.removeListener(a.ClientEvent.AccountData,m),_())};this.accountDataAdapter.on(a.ClientEvent.AccountData,m),this.accountDataAdapter.setAccountData("m.secret_storage.default_key",{key:h}).catch(p=>{this.accountDataAdapter.removeListener(a.ClientEvent.AccountData,m),F(p)})})}async addKey(h,_={},F){const m={algorithm:h};if(_.name&&(m.name=_.name),h===s){if(_.passphrase&&(m.passphrase=_.passphrase),_.key){const{iv:p,mac:f}=await(0,i.calculateKeyCheck)(_.key);m.iv=p,m.mac=f}}else throw new Error(`Unknown key algorithm ${h}`);if(!F)do F=(0,o.randomString)(32);while(await this.accountDataAdapter.getAccountDataFromServer(`m.secret_storage.key.${F}`));return await this.accountDataAdapter.setAccountData(`m.secret_storage.key.${F}`,m),{keyId:F,keyInfo:m}}async getKey(h){if(h||(h=await this.getDefaultKeyId()),!h)return null;const _=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+h);return _?[h,_]:null}async hasKey(h){return Boolean(await this.getKey(h))}async checkKey(h,_){if(_.algorithm===s)if(_.mac){const{mac:F}=await(0,i.calculateKeyCheck)(h,_.iv);return _.mac.replace(/=+$/g,"")===F.replace(/=+$/g,"")}else return!0;else throw new Error("Unknown algorithm")}async store(h,_,F){const m={};if(!F){const p=await this.getDefaultKeyId();if(!p)throw new Error("No keys specified and no default key present");F=[p]}if(F.length===0)throw new Error("Zero keys given to encrypt with!");for(const p of F){const f=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+p);if(!f)throw new Error("Unknown key: "+p);if(f.algorithm===s){const v={[p]:f},[,y]=await this.getSecretStorageKey(v,h);m[p]=await y.encrypt(_)}else n.logger.warn("unknown algorithm for secret storage key "+p+": "+f.algorithm)}await this.accountDataAdapter.setAccountData(h,{encrypted:m})}async get(h){const _=await this.accountDataAdapter.getAccountDataFromServer(h);if(!_)return;if(!_.encrypted)throw new Error("Content is not encrypted!");const F={};for(const f of Object.keys(_.encrypted)){const v=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+f),y=_.encrypted[f];v.algorithm===s&&y.iv&&y.ciphertext&&y.mac&&(F[f]=v)}if(Object.keys(F).length===0)throw new Error(`Could not decrypt ${h} because none of the keys it is encrypted with are for a supported algorithm`);let m,p;try{[m,p]=await this.getSecretStorageKey(F,h);const f=_.encrypted[m];return f.passthrough?(0,r.encodeBase64)(p.get_private_key()):p.decrypt(f)}finally{p&&p.free&&p.free()}}async isStored(h){const _=await this.accountDataAdapter.getAccountDataFromServer(h);if(!(_!=null&&_.encrypted))return null;const F={};for(const m of Object.keys(_.encrypted)){const p=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+m);if(!p)continue;const f=_.encrypted[m];p.algorithm===s&&f.iv&&f.ciphertext&&f.mac&&(F[m]=p)}return Object.keys(F).length?F:null}request(h,_){const F=this.baseApis.makeTxnId(),m=(0,l.defer)();this.requests.set(F,{name:h,devices:_,deferred:m});const p=y=>{const w={action:"request_cancellation",requesting_device_id:this.baseApis.deviceId,request_id:F},b={};for(const S of _)b[S]=w;this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:b}),m.reject(new Error(y||"Cancelled"))},f={name:h,action:"request",requesting_device_id:this.baseApis.deviceId,request_id:F},v={};for(const y of _)v[y]=f;return n.logger.info(`Request secret ${h} from ${_}, id ${F}`),this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:v}),{requestId:F,promise:m.promise,cancel:p}}async onRequestReceived(h){const _=h.getSender(),F=h.getContent();if(_!==this.baseApis.getUserId()||!(F.name&&F.action&&F.requesting_device_id&&F.request_id))return;const m=F.requesting_device_id;if(F.action!=="request_cancellation"){if(F.action==="request"){if(m===this.baseApis.deviceId||(n.logger.info("received request for secret ("+_+", "+m+", "+F.request_id+")"),!this.cryptoCallbacks.onSecretRequested))return;const p=await this.cryptoCallbacks.onSecretRequested(_,m,F.request_id,F.name,this.baseApis.checkDeviceTrust(_,m));if(p){n.logger.info(`Preparing ${F.name} secret for ${m}`);const f={type:"m.secret.send",content:{request_id:F.request_id,secret:p}},v={algorithm:r.OLM_ALGORITHM,sender_key:this.baseApis.crypto.olmDevice.deviceCurve25519Key,ciphertext:{}};await r.ensureOlmSessionsForDevices(this.baseApis.crypto.olmDevice,this.baseApis,{[_]:[this.baseApis.getStoredDevice(_,m)]}),await r.encryptMessageForDevice(v.ciphertext,this.baseApis.getUserId(),this.baseApis.deviceId,this.baseApis.crypto.olmDevice,_,this.baseApis.getStoredDevice(_,m),f);const y={[_]:{[m]:v}};n.logger.info(`Sending ${F.name} secret for ${m}`),this.baseApis.sendToDevice("m.room.encrypted",y)}else n.logger.info(`Request denied for ${F.name} secret for ${m}`)}}}onSecretReceived(h){if(h.getSender()!==this.baseApis.getUserId())return;if(!r.isOlmEncrypted(h)){n.logger.error("secret event not properly encrypted");return}const _=h.getContent();if(this.baseApis.crypto.deviceList.getUserByIdentityKey(r.OLM_ALGORITHM,h.getSenderKey()||"")!==h.getSender()){n.logger.error("sending device does not belong to the user it claims to be from");return}n.logger.log("got secret share for request",_.request_id);const m=this.requests.get(_.request_id);if(m){const p=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(r.OLM_ALGORITHM,h.getSenderKey());if(!p){n.logger.log("secret share from unknown device with key",h.getSenderKey());return}if(!m.devices.includes(p.deviceId)){n.logger.log("unsolicited secret share from device",p.deviceId);return}if(!this.baseApis.crypto.checkDeviceInfoTrust(h.getSender(),p).isVerified()){n.logger.log("secret share from unverified device");return}n.logger.log(`Successfully received secret ${m.name} from ${p.deviceId}`),m.deferred.resolve(_.secret)}}async getSecretStorageKey(h,_){if(!this.cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");const F=await this.cryptoCallbacks.getSecretStorageKey({keys:h},_);if(!F)throw new Error("getSecretStorageKey callback returned falsey");if(F.length<2)throw new Error("getSecretStorageKey callback returned invalid data");const[m,p]=F;if(!h[m])throw new Error("App returned unknown key from getSecretStorageKey!");if(h[m].algorithm===s)return[m,{encrypt:function(v){return(0,i.encryptAES)(v,p,_)},decrypt:function(v){return(0,i.decryptAES)(v,p,_)}}];throw new Error("Unknown key type: "+h[m].algorithm)}};return Fs.SecretStorage=g,Fs}var hr={},Ko={},pn={},uS;function ug(){if(uS)return pn;uS=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.errorFactory=r,pn.errorFromEvent=s,pn.newUserCancelledError=pn.newUnknownMethodError=pn.newUnexpectedMessageError=pn.newTimeoutError=pn.newKeyMismatchError=pn.newInvalidMessageError=void 0,pn.newVerificationError=n;var t=Kn(),e=et;function n(g,c,h){const _=Object.assign({},{code:g,reason:c},h);return new t.MatrixEvent({type:e.EventType.KeyVerificationCancel,content:_})}function r(g,c){return function(h){return n(g,c,h)}}const o=r("m.user","Cancelled by user");pn.newUserCancelledError=o;const i=r("m.timeout","Timed out");pn.newTimeoutError=i;const a=r("m.unknown_method","Unknown method");pn.newUnknownMethodError=a;const l=r("m.unexpected_message","Unexpected message");pn.newUnexpectedMessageError=l;const u=r("m.key_mismatch","Key mismatch");pn.newKeyMismatchError=u;const d=r("m.invalid_message","Invalid message");pn.newInvalidMessageError=d;function s(g){const c=g.getContent();if(c){const{code:h,reason:_}=c;return{code:h,reason:_}}else return{code:"Unknown error",reason:"m.unknown"}}return pn}var cS;function z3(){if(cS)return Ko;cS=1;var t=ze.exports;Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.VerificationEvent=Ko.VerificationBase=Ko.SwitchStartEventError=void 0;var e=t(Je()),n=Kn(),r=et,o=lt(),i=sg(),a=ug(),l=Bm(),u=un();const d=new Error("Verification timed out");class s extends Error{constructor(_){super(),this.startEvent=_}}Ko.SwitchStartEventError=s;let g;Ko.VerificationEvent=g,function(h){h.Cancel="cancel"}(g||(Ko.VerificationEvent=g={}));class c extends u.TypedEventEmitter{constructor(_,F,m,p,f,v){super(),this.channel=_,this.baseApis=F,this.userId=m,this.deviceId=p,this.startEvent=f,this.request=v,(0,e.default)(this,"cancelled",!1),(0,e.default)(this,"_done",!1),(0,e.default)(this,"promise",null),(0,e.default)(this,"transactionTimeoutTimer",null),(0,e.default)(this,"expectedEvent",void 0),(0,e.default)(this,"resolve",void 0),(0,e.default)(this,"reject",void 0),(0,e.default)(this,"resolveEvent",void 0),(0,e.default)(this,"rejectEvent",void 0),(0,e.default)(this,"started",void 0),(0,e.default)(this,"doVerification",void 0)}get initiatedByMe(){if(!this.startEvent)return!0;const _=this.startEvent.getSender(),F=this.startEvent.getContent();return _===this.baseApis.getUserId()&&F.from_device===this.baseApis.getDeviceId()}get hasBeenCancelled(){return this.cancelled}resetTimer(){o.logger.info("Refreshing/starting the verification transaction timeout timer"),this.transactionTimeoutTimer!==null&&clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=setTimeout(()=>{!this._done&&!this.cancelled&&(o.logger.info("Triggering verification timeout"),this.cancel(d))},10*60*1e3)}endTimer(){this.transactionTimeoutTimer!==null&&(clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=null)}send(_,F){return this.channel.send(_,F)}waitForEvent(_){if(this._done)return Promise.reject(new Error("Verification is already done"));const F=this.request.getEventFromOtherParty(_);return F?Promise.resolve(F):(this.expectedEvent=_,new Promise((m,p)=>{this.resolveEvent=m,this.rejectEvent=p}))}canSwitchStartEvent(_){return!1}switchStartEvent(_){if(this.canSwitchStartEvent(_))if(o.logger.log("Verification Base: switching verification start event",{restartingFlow:!!this.rejectEvent}),this.rejectEvent){const F=this.rejectEvent;this.rejectEvent=void 0,F(new s(_))}else this.startEvent=_}handleEvent(_){if(!this._done){if(_.getType()===this.expectedEvent){if(this.expectedEvent!==r.EventType.KeyVerificationDone){var F;this.expectedEvent=void 0,this.rejectEvent=void 0,this.resetTimer(),(F=this.resolveEvent)===null||F===void 0||F.call(this,_)}}else if(_.getType()===r.EventType.KeyVerificationCancel){const m=this.reject;if(this.reject=void 0,m){const p=_.getContent(),{reason:f,code:v}=p;m(new Error(`Other side cancelled verification because ${f} (${v})`))}}else if(this.expectedEvent){const m=new Error("Unexpected message: expecting "+this.expectedEvent+" but got "+_.getType());if(this.expectedEvent=void 0,this.rejectEvent){const p=this.rejectEvent;this.rejectEvent=void 0,p(m)}this.cancel(m)}}}async done(){if(this.endTimer(),!this._done){var _;return this.request.onVerifierFinished(),(_=this.resolve)===null||_===void 0||_.call(this),(0,l.requestKeysDuringVerification)(this.baseApis,this.userId,this.deviceId)}}cancel(_){if(this.endTimer(),!this._done){if(this.cancelled=!0,this.request.onVerifierCancelled(),this.userId&&this.deviceId)if(_===d){const F=(0,a.newTimeoutError)();this.send(F.getType(),F.getContent())}else if(_ instanceof n.MatrixEvent){if(_.getSender()!==this.userId){const m=_.getContent();_.getType()===r.EventType.KeyVerificationCancel?(m.code=m.code||"m.unknown",m.reason=m.reason||m.body||"Unknown reason",this.send(r.EventType.KeyVerificationCancel,m)):this.send(r.EventType.KeyVerificationCancel,{code:"m.unknown",reason:m.body||"Unknown reason"})}}else this.send(r.EventType.KeyVerificationCancel,{code:"m.unknown",reason:_.toString()});this.promise!==null?this.reject&&this.reject(_):this.promise=Promise.reject(_),this.emit(g.Cancel,_)}}verify(){return this.promise?this.promise:(this.promise=new Promise((_,F)=>{this.resolve=(...m)=>{this._done=!0,this.endTimer(),_(...m)},this.reject=m=>{this._done=!0,this.endTimer(),F(m)}}),this.doVerification&&!this.started&&(this.started=!0,this.resetTimer(),new Promise((_,F)=>{var m;((m=this.baseApis.crypto.deviceList.getStoredCrossSigningForUser(this.userId))===null||m===void 0?void 0:m.getId())===this.deviceId&&F(new Error("Device ID is the same as the cross-signing ID")),_()}).then(()=>this.doVerification()).then(this.done.bind(this),this.cancel.bind(this))),this.promise)}async verifyKeys(_,F,m){const p=[];for(const[f,v]of Object.entries(F)){const y=f.split(":",2)[1],w=this.baseApis.getStoredDevice(_,y);if(w)m(f,w,v),p.push([y,f,w.keys[f]]);else{const b=this.baseApis.crypto.deviceList.getStoredCrossSigningForUser(_);b&&b.getId()===y?(m(f,i.DeviceInfo.fromStorage({keys:{[f]:y}},y),v),p.push([y,f,y])):o.logger.warn(`verification: Could not find device ${y} to verify`)}}if(!p.length)throw new Error("No devices could be verified");o.logger.info("Verification completed! Marking devices verified: ",p);for(const[f,v,y]of p)await this.baseApis.crypto.setDeviceVerification(_,f,!0,null,null,{[v]:y});_==this.baseApis.credentials.userId&&await this.baseApis.checkKeyBackup()}get events(){}}return Ko.VerificationBase=c,Ko}var dS;function EA(){if(dS)return hr;dS=1;var t=ze.exports;Object.defineProperty(hr,"__esModule",{value:!0}),hr.SHOW_QR_CODE_METHOD=hr.SCAN_QR_CODE_METHOD=hr.ReciprocateQRCode=hr.QrCodeEvent=hr.QRCodeData=void 0;var e=t(Je()),n=z3(),r=ug(),o=Po(),i=lt();const a="m.qr_code.show.v1";hr.SHOW_QR_CODE_METHOD=a;const l="m.qr_code.scan.v1";hr.SCAN_QR_CODE_METHOD=l;let u;hr.QrCodeEvent=u,function(_){_.ShowReciprocateQr="show_reciprocate_qr"}(u||(hr.QrCodeEvent=u={}));class d extends n.VerificationBase{constructor(...F){super(...F),(0,e.default)(this,"reciprocateQREvent",void 0),(0,e.default)(this,"doVerification",async()=>{if(!this.startEvent)throw new Error("It is not currently possible to start verificationwith this method yet.");const{qrCodeData:m}=this.request;if(this.startEvent.getContent().secret!==(m==null?void 0:m.encodedSharedSecret))throw(0,r.newKeyMismatchError)();await new Promise((f,v)=>{this.reciprocateQREvent={confirm:f,cancel:()=>v((0,r.newUserCancelledError)())},this.emit(u.ShowReciprocateQr,this.reciprocateQREvent)});const p={};switch(m==null?void 0:m.mode){case c.VerifyOtherUser:{const f=m.otherUserMasterKey;p[`ed25519:${f}`]=f;break}case c.VerifySelfTrusted:{const f=this.request.targetDevice.deviceId;p[`ed25519:${f}`]=m.otherDeviceKey;break}case c.VerifySelfUntrusted:{const f=m.myMasterKey;p[`ed25519:${f}`]=f;break}}await this.verifyKeys(this.userId,p,(f,v,y)=>{const w=p[f];if(!w)throw(0,r.newKeyMismatchError)();if(y!==w)throw i.logger.error("key ID from key info does not match"),(0,r.newKeyMismatchError)();for(const b in v.keys){if(!b.startsWith("ed25519"))continue;const S=p[b];if(!S)throw(0,r.newKeyMismatchError)();if(v.keys[b]!==S)throw i.logger.error("master key does not match"),(0,r.newKeyMismatchError)()}})})}static factory(F,m,p,f,v,y){return new d(F,m,p,f,v,y)}static get NAME(){return"m.reciprocate.v1"}}hr.ReciprocateQRCode=d;const s=2,g="MATRIX";var c;(function(_){_[_.VerifyOtherUser=0]="VerifyOtherUser",_[_.VerifySelfTrusted=1]="VerifySelfTrusted",_[_.VerifySelfUntrusted=2]="VerifySelfUntrusted"})(c||(c={}));class h{constructor(F,m,p,f,v,y){this.mode=F,this.sharedSecret=m,this.otherUserMasterKey=p,this.otherDeviceKey=f,this.myMasterKey=v,this.buffer=y}static async create(F,m){const p=h.generateSharedSecret(),f=h.determineMode(F,m);let v=null,y=null,w=null;if(f===c.VerifyOtherUser)v=m.getStoredCrossSigningForUser(F.otherUserId).getId("master");else if(f===c.VerifySelfTrusted)y=await h.getOtherDeviceKey(F,m);else if(f===c.VerifySelfUntrusted){const x=m.getUserId();w=m.getStoredCrossSigningForUser(x).getId("master")}const b=h.generateQrData(F,m,f,p,v,y,w),S=h.generateBuffer(b);return new h(f,p,v,y,w,S)}get encodedSharedSecret(){return this.sharedSecret}getBuffer(){return this.buffer}static generateSharedSecret(){const F=new Uint8Array(11);return Pe.crypto.getRandomValues(F),(0,o.encodeUnpaddedBase64)(F)}static async getOtherDeviceKey(F,m){const p=m.getUserId(),f=F.targetDevice,v=f.deviceId?m.getStoredDevice(p,f.deviceId):void 0;if(!v)throw new Error("could not find device "+(f==null?void 0:f.deviceId));return v.getFingerprint()}static determineMode(F,m){const p=m.getUserId(),f=F.otherUserId;let v=c.VerifyOtherUser;return p===f&&(m.checkUserTrust(p).isCrossSigningVerified()?v=c.VerifySelfTrusted:v=c.VerifySelfUntrusted),v}static generateQrData(F,m,p,f,v,y,w){const b=m.getUserId(),S=F.channel.transactionId,x={prefix:g,version:s,mode:p,transactionId:S,firstKeyB64:"",secondKeyB64:"",secretB64:f},N=m.getStoredCrossSigningForUser(b);return p===c.VerifyOtherUser?(x.firstKeyB64=N.getId("master"),x.secondKeyB64=v):p===c.VerifySelfTrusted?(x.firstKeyB64=N.getId("master"),x.secondKeyB64=y):p===c.VerifySelfUntrusted&&(x.firstKeyB64=m.getDeviceEd25519Key(),x.secondKeyB64=w),x}static generateBuffer(F){let m=Wt.Buffer.alloc(0);const p=w=>{const b=Wt.Buffer.from([w]);m=Wt.Buffer.concat([m,b])},f=w=>{const b=Wt.Buffer.alloc(2);b.writeInt16BE(w,0),m=Wt.Buffer.concat([m,b])},v=(w,b,S=!0)=>{const x=Wt.Buffer.from(w,b);S&&f(x.byteLength),m=Wt.Buffer.concat([m,x])},y=w=>{const b=(0,o.decodeBase64)(w),S=Wt.Buffer.from(b);m=Wt.Buffer.concat([m,S])};return v(F.prefix,"ascii",!1),p(F.version),p(F.mode),v(F.transactionId,"utf-8"),y(F.firstKeyB64),y(F.secondKeyB64),y(F.secretB64),m}}return hr.QRCodeData=h,hr}var la={},u1={},hS;function uH(){if(hS)return u1;hS=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.generateDecimalSas=t;function t(e){return[(e[0]<<5|e[1]>>3)+1e3,((e[1]&7)<<10|e[2]<<2|e[3]>>6)+1e3,((e[3]&63)<<7|e[4]>>1)+1e3]}return u1}var fS;function cH(){if(fS)return la;fS=1;var t=ze.exports;Object.defineProperty(la,"__esModule",{value:!0}),la.SasEvent=la.SAS=void 0;var e=t(Je()),n=t(Om()),r=z3(),o=ug(),i=lt(),a=uH(),l=et;const u=l.EventType.KeyVerificationStart,d=[l.EventType.KeyVerificationAccept,l.EventType.KeyVerificationKey,l.EventType.KeyVerificationMac];let s;const g=(0,o.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),c=(0,o.errorFactory)("m.mismatched_commitment","Mismatched commitment"),h=[["","dog"],["","cat"],["","lion"],["","horse"],["","unicorn"],["","pig"],["","elephant"],["","rabbit"],["","panda"],["","rooster"],["","penguin"],["","turtle"],["","fish"],["","octopus"],["","butterfly"],["","flower"],["","tree"],["","cactus"],["","mushroom"],["","globe"],["","moon"],["","cloud"],["","fire"],["","banana"],["","apple"],["","strawberry"],["","corn"],["","pizza"],["","cake"],["","heart"],["","smiley"],["","robot"],["","hat"],["","glasses"],["","spanner"],["","santa"],["","thumbs up"],["","umbrella"],["","hourglass"],["","clock"],["","gift"],["","light bulb"],["","book"],["","pencil"],["","paperclip"],["","scissors"],["","lock"],["","key"],["","hammer"],["","telephone"],["","flag"],["","train"],["","bicycle"],["","aeroplane"],["","rocket"],["","trophy"],["","ball"],["","guitar"],["","trumpet"],["","bell"],["","anchor"],["","headphones"],["","folder"],["","pin"]];function _(I){return[I[0]>>2,(I[0]&3)<<4|I[1]>>4,(I[1]&15)<<2|I[2]>>6,I[2]&63,I[3]>>2,(I[3]&3)<<4|I[4]>>4,(I[4]&15)<<2|I[5]>>6].map(A=>h[A])}const F={decimal:a.generateDecimalSas,emoji:_};function m(I,M){const A={};for(const $ of M)$ in F&&(A[$]=F[$](I));return A}const p={"hkdf-hmac-sha256":"calculate_mac","org.matrix.msc3783.hkdf-hmac-sha256":"calculate_mac_fixed_base64","hmac-sha256":"calculate_mac_long_kdf"};function f(I,M){return function(...A){const Y=I[p[M]].apply(I,A);return i.logger.log("SAS calculateMAC:",M,A,Y),Y}}const v={"curve25519-hkdf-sha256":function(I,M,A){const $=`${I.baseApis.getUserId()}|${I.baseApis.deviceId}|${I.ourSASPubKey}|`,Y=`${I.userId}|${I.deviceId}|${I.theirSASPubKey}|`,T="MATRIX_KEY_VERIFICATION_SAS|"+(I.initiatedByMe?$+Y:Y+$)+I.channel.transactionId;return M.generate_bytes(T,A)},curve25519:function(I,M,A){const $=`${I.baseApis.getUserId()}${I.baseApis.deviceId}`,Y=`${I.userId}${I.deviceId}`,T="MATRIX_KEY_VERIFICATION_SAS"+(I.initiatedByMe?$+Y:Y+$)+I.channel.transactionId;return M.generate_bytes(T,A)}},y=["curve25519-hkdf-sha256","curve25519"],w=["sha256"],b=["org.matrix.msc3783.hkdf-hmac-sha256","hkdf-hmac-sha256","hmac-sha256"],S=Object.keys(F),x=new Set(y),N=new Set(w),U=new Set(b),q=new Set(S);function P(I,M){return Array.isArray(I)?I.filter(A=>M.has(A)):[]}let G;la.SasEvent=G,function(I){I.ShowSas="show_sas"}(G||(la.SasEvent=G={}));let C=class extends r.VerificationBase{constructor(...M){super(...M),(0,e.default)(this,"waitingForAccept",void 0),(0,e.default)(this,"ourSASPubKey",void 0),(0,e.default)(this,"theirSASPubKey",void 0),(0,e.default)(this,"sasEvent",void 0),(0,e.default)(this,"doVerification",async()=>{await Pe.Olm.init(),s=s||new Pe.Olm.Utility,await this.baseApis.downloadKeys([this.userId]);let A=!1;do try{return this.initiatedByMe?await this.doSendVerification():await this.doRespondVerification()}catch($){if($ instanceof r.SwitchStartEventError)this.startEvent=$.startEvent,A=!0;else throw $}while(A)})}static get NAME(){return"m.sas.v1"}get events(){return d}canSwitchStartEvent(M){if(M.getType()!==u)return!1;const A=M.getContent();return(A==null?void 0:A.method)===C.NAME&&!!this.waitingForAccept}async sendStart(){const M=this.channel.completeContent(u,{method:C.NAME,from_device:this.baseApis.deviceId,key_agreement_protocols:y,hashes:w,message_authentication_codes:b,short_authentication_string:S});return await this.channel.sendCompleted(u,M),M}async verifyAndCheckMAC(M,A,$,Y){const T=v[M](this,$,6),D=new Promise((H,Q)=>{this.sasEvent={sas:m(T,A),confirm:async()=>{try{await this.sendMAC($,Y),H()}catch(L){Q(L)}},cancel:()=>Q((0,o.newUserCancelledError)()),mismatch:()=>Q(g())},this.emit(G.ShowSas,this.sasEvent)}),[R]=await Promise.all([this.waitForEvent(l.EventType.KeyVerificationMac).then(H=>(this.expectedEvent=l.EventType.KeyVerificationDone,H)),D]),B=R.getContent();await this.checkMAC($,B,Y)}async doSendVerification(){this.waitingForAccept=!0;let M;if(this.startEvent?M=this.channel.completedContentFromEvent(this.startEvent):M=await this.sendStart(),!this.initiatedByMe)throw new r.SwitchStartEventError(this.startEvent);let A;try{A=await this.waitForEvent(l.EventType.KeyVerificationAccept)}finally{this.waitingForAccept=!1}let $=A.getContent();const Y=P($.short_authentication_string,q);if(!(x.has($.key_agreement_protocol)&&N.has($.hash)&&U.has($.message_authentication_code)&&Y.length))throw(0,o.newUnknownMethodError)();if(typeof $.commitment!="string")throw(0,o.newInvalidMessageError)();const T=$.key_agreement_protocol,D=$.message_authentication_code,R=$.commitment,B=new Pe.Olm.SAS;try{this.ourSASPubKey=B.get_pubkey(),await this.send(l.EventType.KeyVerificationKey,{key:this.ourSASPubKey}),A=await this.waitForEvent(l.EventType.KeyVerificationKey),$=A.getContent();const H=$.key+n.default.stringify(M);if(s.sha256(H)!==R)throw c();this.theirSASPubKey=$.key,B.set_their_key($.key),await this.verifyAndCheckMAC(T,Y,B,D)}finally{B.free()}}async doRespondVerification(){let M=this.channel.completedContentFromEvent(this.startEvent);const A=P(y,new Set(M.key_agreement_protocols))[0],$=P(w,new Set(M.hashes))[0],Y=P(b,new Set(M.message_authentication_codes))[0],T=P(M.short_authentication_string,q);if(!(A!==void 0&&$!==void 0&&Y!==void 0&&T.length))throw(0,o.newUnknownMethodError)();const D=new Pe.Olm.SAS;try{const R=D.get_pubkey()+n.default.stringify(M);await this.send(l.EventType.KeyVerificationAccept,{key_agreement_protocol:A,hash:$,message_authentication_code:Y,short_authentication_string:T,commitment:s.sha256(R)}),M=(await this.waitForEvent(l.EventType.KeyVerificationKey)).getContent(),this.theirSASPubKey=M.key,D.set_their_key(M.key),this.ourSASPubKey=D.get_pubkey(),await this.send(l.EventType.KeyVerificationKey,{key:this.ourSASPubKey}),await this.verifyAndCheckMAC(A,T,D,Y)}finally{D.free()}}sendMAC(M,A){const $={},Y=[],T="MATRIX_KEY_VERIFICATION_MAC"+this.baseApis.getUserId()+this.baseApis.deviceId+this.userId+this.deviceId+this.channel.transactionId,D=`ed25519:${this.baseApis.deviceId}`;$[D]=f(M,A)(this.baseApis.getDeviceEd25519Key(),T+D),Y.push(D);const R=this.baseApis.getCrossSigningId();if(R){const H=`ed25519:${R}`;$[H]=f(M,A)(R,T+H),Y.push(H)}const B=f(M,A)(Y.sort().join(","),T+"KEY_IDS");return this.send(l.EventType.KeyVerificationMac,{mac:$,keys:B})}async checkMAC(M,A,$){const Y="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this.baseApis.getUserId()+this.baseApis.deviceId+this.channel.transactionId;if(A.keys!==f(M,$)(Object.keys(A.mac).sort().join(","),Y+"KEY_IDS"))throw(0,o.newKeyMismatchError)();await this.verifyKeys(this.userId,A.mac,(T,D,R)=>{if(R!==f(M,$)(D.keys[T],Y+T))throw(0,o.newKeyMismatchError)()})}};return la.SAS=C,la}var jl={},gS;function Pm(){if(gS)return jl;gS=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.deriveKey=a,jl.keyFromAuthData=o,jl.keyFromPassphrase=i;var t=ag(),e=H3();const n=5e5,r=256;function o(l,u){if(!Pe.Olm)throw new Error("Olm is not available");if(!l.private_key_salt||!l.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return a(u,l.private_key_salt,l.private_key_iterations,l.private_key_bits||r)}async function i(l){if(!Pe.Olm)throw new Error("Olm is not available");const u=(0,t.randomString)(32);return{key:await a(l,u,n,r),salt:u,iterations:n}}async function a(l,u,d,s=r){if(!e.subtleCrypto||!e.TextEncoder)throw new Error("Password-based backup is not available on this platform");const g=await e.subtleCrypto.importKey("raw",new e.TextEncoder().encode(l),{name:"PBKDF2"},!1,["deriveBits"]),c=await e.subtleCrypto.deriveBits({name:"PBKDF2",salt:new e.TextEncoder().encode(u),iterations:d,hash:"SHA-512"},g,s);return new Uint8Array(c)}return jl}var Rd={},O_,pS;function dH(){if(pS)return O_;pS=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=o}var l=e.length,u=e.charAt(0),d=Math.log(l)/Math.log(256),s=Math.log(256)/Math.log(l);function g(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var F=0,m=0,p=0,f=_.length;p!==f&&_[p]===0;)p++,F++;for(var v=(f-p)*s+1>>>0,y=new Uint8Array(v);p!==f;){for(var w=_[p],b=0,S=v-1;(w!==0||b<m)&&S!==-1;S--,b++)w+=256*y[S]>>>0,y[S]=w%l>>>0,w=w/l>>>0;if(w!==0)throw new Error("Non-zero carry");m=b,p++}for(var x=v-m;x!==v&&y[x]===0;)x++;for(var N=u.repeat(F);x<v;++x)N+=e.charAt(y[x]);return N}function c(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var F=0,m=0,p=0;_[F]===u;)m++,F++;for(var f=(_.length-F)*d+1>>>0,v=new Uint8Array(f);_[F];){var y=n[_.charCodeAt(F)];if(y===255)return;for(var w=0,b=f-1;(y!==0||w<p)&&b!==-1;b--,w++)y+=l*v[b]>>>0,v[b]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");p=w,F++}for(var S=f-p;S!==f&&v[S]===0;)S++;for(var x=new Uint8Array(m+(f-S)),N=m;S!==f;)x[N++]=v[S++];return x}function h(_){var F=c(_);if(F)return F;throw new Error("Non-base"+l+" character")}return{encode:g,decodeUnsafe:c,decode:h}}return O_=t,O_}var B_,mS;function hH(){return mS||(mS=1,B_=dH()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),B_}var FS;function W3(){if(FS)return Rd;FS=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.decodeRecoveryKey=i,Rd.encodeRecoveryKey=o;var t=n(hH());function e(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,u=new WeakMap;return(e=function(d){return d?u:l})(a)}function n(a,l){if(!l&&a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var u=e(l);if(u&&u.has(a))return u.get(a);var d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var c=s?Object.getOwnPropertyDescriptor(a,g):null;c&&(c.get||c.set)?Object.defineProperty(d,g,c):d[g]=a[g]}return d.default=a,u&&u.set(a,d),d}const r=[139,1];function o(a){var l;const u=Wt.Buffer.alloc(r.length+a.length+1);u.set(r,0),u.set(a,r.length);let d=0;for(let g=0;g<u.length-1;++g)d^=u[g];return u[u.length-1]=d,(l=t.encode(u).match(/.{1,4}/g))===null||l===void 0?void 0:l.join(" ")}function i(a){const l=t.decode(a.replace(/ /g,""));let u=0;for(const d of l)u^=d;if(u!==0)throw new Error("Incorrect parity");for(let d=0;d<r.length;++d)if(l[d]!==r[d])throw new Error("Incorrect prefix");if(l.length!==r.length+Pe.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return Uint8Array.from(l.slice(r.length,r.length+Pe.Olm.PRIVATE_KEY_LENGTH))}return Rd}var Dt={},_S;function Y3(){if(_S)return Dt;_S=1;var t=ze.exports;Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.VerificationRequestEvent=Dt.VerificationRequest=Dt.START_TYPE=Dt.REQUEST_TYPE=Dt.READY_TYPE=Dt.Phase=Dt.PHASE_UNSENT=Dt.PHASE_STARTED=Dt.PHASE_REQUESTED=Dt.PHASE_READY=Dt.PHASE_DONE=Dt.PHASE_CANCELLED=Dt.EVENT_PREFIX=Dt.DONE_TYPE=Dt.CANCEL_TYPE=void 0;var e=t(Je()),n=lt(),r=ug(),o=EA(),i=et,a=un();const l=10*60*1e3,u=2*60*1e3,d=3*1e3,s="m.key.verification.";Dt.EVENT_PREFIX=s;const g=s+"request";Dt.REQUEST_TYPE=g;const c=s+"start";Dt.START_TYPE=c;const h=s+"cancel";Dt.CANCEL_TYPE=h;const _=s+"done";Dt.DONE_TYPE=_;const F=s+"ready";Dt.READY_TYPE=F;let m;Dt.Phase=m,function(N){N[N.Unsent=1]="Unsent",N[N.Requested=2]="Requested",N[N.Ready=3]="Ready",N[N.Started=4]="Started",N[N.Cancelled=5]="Cancelled",N[N.Done=6]="Done"}(m||(Dt.Phase=m={}));const p=m.Unsent;Dt.PHASE_UNSENT=p;const f=m.Requested;Dt.PHASE_REQUESTED=f;const v=m.Ready;Dt.PHASE_READY=v;const y=m.Started;Dt.PHASE_STARTED=y;const w=m.Cancelled;Dt.PHASE_CANCELLED=w;const b=m.Done;Dt.PHASE_DONE=b;let S;Dt.VerificationRequestEvent=S,function(N){N.Change="change"}(S||(Dt.VerificationRequestEvent=S={}));let x=class extends a.TypedEventEmitter{constructor(U,q,P){super(),this.channel=U,this.verificationMethods=q,this.client=P,(0,e.default)(this,"eventsByUs",new Map),(0,e.default)(this,"eventsByThem",new Map),(0,e.default)(this,"_observeOnly",!1),(0,e.default)(this,"timeoutTimer",null),(0,e.default)(this,"_accepting",!1),(0,e.default)(this,"_declining",!1),(0,e.default)(this,"verifierHasFinished",!1),(0,e.default)(this,"_cancelled",!1),(0,e.default)(this,"_chosenMethod",null),(0,e.default)(this,"_qrCodeData",null),(0,e.default)(this,"requestReceivedAt",null),(0,e.default)(this,"commonMethods",[]),(0,e.default)(this,"_phase",void 0),(0,e.default)(this,"_cancellingUserId",void 0),(0,e.default)(this,"_verifier",void 0),(0,e.default)(this,"cancelOnTimeout",async()=>{try{this.initiatedByMe?await this.cancel({reason:"Other party didn't accept in time",code:"m.timeout"}):await this.cancel({reason:"User didn't accept in time",code:"m.timeout"})}catch(G){n.logger.error("Error while cancelling verification request",G)}}),this.channel.request=this,this.setPhase(p,!1)}static validateEvent(U,q,P){const G=q.getContent();return!U||!U.startsWith(s)?!1:G?(U===g||U===F)&&!Array.isArray(G.methods)?(n.logger.log("VerificationRequest: validateEvent: fail because methods"),!1):(U===g||U===F||U===c)&&(typeof G.from_device!="string"||G.from_device.length===0)?(n.logger.log("VerificationRequest: validateEvent: fail because from_device"),!1):!0:(n.logger.log("VerificationRequest: validateEvent: no content"),!1)}get invalid(){return this.phase===p}get requested(){return this.phase===f}get cancelled(){return this.phase===w}get ready(){return this.phase===v}get started(){return this.phase===y}get done(){return this.phase===b}get methods(){return this.commonMethods}get chosenMethod(){return this._chosenMethod}calculateEventTimeout(U){let q=this.channel.getTimestamp(U)+l;if(this.requestReceivedAt&&!this.initiatedByMe&&this.phase<=f){const P=this.requestReceivedAt+u;q=Math.min(q,P)}return Math.max(0,q-Date.now())}get timeout(){const U=this.getEventByEither(g);return U?this.calculateEventTimeout(U):0}get requestEvent(){return this.getEventByEither(g)}get phase(){return this._phase}get verifier(){return this._verifier}get canAccept(){return this.phase<v&&!this._accepting&&!this._declining}get accepting(){return this._accepting}get declining(){return this._declining}get pending(){return!this.observeOnly&&this._phase!==b&&this._phase!==w}get qrCodeData(){return this._qrCodeData}otherPartySupportsMethod(U,q=!1){if(!q&&!this.ready&&!this.started)return!1;const P=this.eventsByThem.get(g)||this.eventsByThem.get(F);if(!P){if(this.started&&this.initiatedByMe){const I=this.eventsByUs.get(c),M=I&&I.getContent(),A=M&&M.method;return U==A}return!1}const G=P.getContent();if(!G)return!1;const{methods:C}=G;return Array.isArray(C)?C.includes(U):!1}get initiatedByMe(){const U=this.eventsByUs.size+this.eventsByThem.size===0;if(this._phase===p&&U)return!0;const q=this.eventsByUs.has(g),P=this.eventsByThem.has(g);if(q&&!P)return!0;if(!q&&P)return!1;const G=this.eventsByUs.has(c),C=this.eventsByThem.has(c);return!!(G&&!C)}get requestingUserId(){return this.initiatedByMe?this.client.getUserId():this.otherUserId}get receivingUserId(){return this.initiatedByMe?this.otherUserId:this.client.getUserId()}get otherUserId(){return this.channel.userId}get isSelfVerification(){return this.client.getUserId()===this.otherUserId}get cancellingUserId(){const U=this.eventsByUs.get(h),q=this.eventsByThem.get(h);if(U&&(!q||U.getId()<q.getId()))return U.getSender();if(q)return q.getSender()}get cancellationCode(){const U=this.getEventByEither(h);return U?U.getContent().code:null}get observeOnly(){return this._observeOnly}get targetDevice(){const U=this.eventsByThem.get(g)||this.eventsByThem.get(F)||this.eventsByThem.get(c),q=U==null?void 0:U.getContent(),P=q==null?void 0:q.from_device;return{userId:this.otherUserId,deviceId:P}}beginKeyVerification(U,q=null){if(!this.observeOnly&&!this._verifier&&(this.phase===f||this.phase===v||this.phase===p&&this.channel.canCreateRequest(c))){if(this.commonMethods.length&&!this.commonMethods.includes(U)||(this._verifier=this.createVerifier(U,null,q),!this._verifier))throw(0,r.newUnknownMethodError)();this._chosenMethod=U}return this._verifier}async sendRequest(){if(!this.observeOnly&&this._phase===p){const U=[...this.verificationMethods.keys()];await this.channel.send(g,{methods:U})}}async cancel({reason:U="User declined",code:q="m.user"}={}){if(!this.observeOnly&&this._phase!==w){if(this._declining=!0,this.emit(S.Change),this._verifier)return this._verifier.cancel((0,r.errorFactory)(q,U)());this._cancellingUserId=this.client.getUserId(),await this.channel.send(h,{code:q,reason:U})}}async accept(){if(!this.observeOnly&&this.phase===f&&!this.initiatedByMe){const U=[...this.verificationMethods.keys()];this._accepting=!0,this.emit(S.Change),await this.channel.send(F,{methods:U})}}waitFor(U){return new Promise((q,P)=>{const G=()=>{let C=!1;return U(this)?(q(this),C=!0):this.cancelled&&(P(new Error("cancelled")),C=!0),C&&this.off(S.Change,G),C};G()||this.on(S.Change,G)})}setPhase(U,q=!0){this._phase=U,q&&this.emit(S.Change)}getEventByEither(U){return this.eventsByThem.get(U)||this.eventsByUs.get(U)}getEventBy(U,q=!1){return q?this.eventsByThem.get(U):this.eventsByUs.get(U)}calculatePhaseTransitions(){const U=[{phase:p}],q=()=>U[U.length-1].phase,P=this.eventsByThem.has(g),G=this.getEventBy(g,P);G&&U.push({phase:f,event:G});const C=G&&this.getEventBy(F,!P);C&&q()===f&&U.push({phase:v,event:C});let I;if(C||!G){const $=this.eventsByThem.get(c),Y=this.eventsByUs.get(c);$&&Y?I=$.getSender()<Y.getSender()?$:Y:I=$||Y}else I=this.getEventBy(c,!P);if(I){const $=q()===f&&(G==null?void 0:G.getSender())!==I.getSender(),Y=q()===p&&this.channel.canCreateRequest(c);($||q()===v||Y)&&U.push({phase:y,event:I})}const M=this.eventsByUs.get(_);(this.verifierHasFinished||M&&q()===y)&&U.push({phase:b});const A=this.getEventByEither(h);return(this._cancelled||A)&&q()!==b&&U.push({phase:w,event:A}),U}transitionToPhase(U){const{phase:q,event:P}=U;if((q===f||q===v)&&!this.wasSentByOwnDevice(P)){const G=P.getContent();this.commonMethods=G.methods.filter(C=>this.verificationMethods.has(C))}if(this.observeOnly||(q===f||q===y||q===v)&&this.channel.receiveStartFromOtherDevices&&this.wasSentByOwnUser(P)&&!this.wasSentByOwnDevice(P)&&(this._observeOnly=!0),q===y){const{method:G}=P.getContent();!this._verifier&&!this.observeOnly&&(this._verifier=this.createVerifier(G,P),this._verifier?this._chosenMethod=G:this.cancel({code:"m.unknown_method",reason:`Unknown method: ${G}`}))}}applyPhaseTransitions(){const U=this.calculatePhaseTransitions(),q=U.findIndex(G=>G.phase===this.phase),P=U.slice(q+1);for(const G of P)this.transitionToPhase(G);return P}isWinningStartRace(U){if(U.getType()!==c)return!1;const q=this._verifier.startEvent;let P;if(this.isSelfVerification)if(q){const C=q.getContent();P=C&&C.from_device}else P=this.client.getDeviceId();else q?P=q.getSender():P=this.client.getUserId();let G;if(this.isSelfVerification){const C=U.getContent();G=C&&C.from_device}else G=U.getSender();return G<P}hasEventId(U){for(const q of this.eventsByUs.values())if(q.getId()===U)return!0;for(const q of this.eventsByThem.values())if(q.getId()===U)return!0;return!1}async handleEvent(U,q,P,G,C){if(this.done||this.cancelled)return;const I=this._observeOnly;if(this.adjustObserveOnly(q,P),!this.observeOnly&&!G&&await this.cancelOnError(U,q)||(C?this.eventsByUs.has(U):this.eventsByThem.has(U)))return;const A=this.phase;this.addEvent(U,q,C);const $=this.applyPhaseTransitions();try{if(this._verifier&&!this.observeOnly){const T=this.isWinningStartRace(q);if(this._verifier.canSwitchStartEvent(q)&&T)this._verifier.switchStartEvent(q);else if(!G){var Y;(U===h||(Y=this._verifier.events)!==null&&Y!==void 0&&Y.includes(U))&&this._verifier.handleEvent(q)}}if($.length){P&&$.some(R=>R.phase===v)&&this.otherPartySupportsMethod(o.SCAN_QR_CODE_METHOD,!0)&&(this._qrCodeData=await o.QRCodeData.create(this,this.client));const T=$[$.length-1],{phase:D}=T;this.setupTimeout(D),this.setPhase(D)}else this._observeOnly!==I&&this.emit(S.Change)}finally{n.logger.log(`Verification request ${this.channel.transactionId}: ${U} event with id:${q.getId()}, content:${JSON.stringify(q.getContent())} deviceId:${this.channel.deviceId}, sender:${q.getSender()}, isSentByUs:${C}, isLiveEvent:${P}, isRemoteEcho:${G}, phase:${A}=>${this.phase}, observeOnly:${I}=>${this._observeOnly}`)}}setupTimeout(U){!this.timeoutTimer&&!this.observeOnly&&U===f&&(this.timeoutTimer=setTimeout(this.cancelOnTimeout,this.timeout)),this.timeoutTimer&&(U===y||U===v||U===b||U===w)&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)}async cancelOnError(U,q){if(U===c){const C=q.getContent().method;if(!this.verificationMethods.has(C))return await this.cancel((0,r.errorFromEvent)((0,r.newUnknownMethodError)())),!0}const P=U===g&&this.phase!==p,G=U===F&&this.phase!==f&&this.phase!==y;if(this.phase!==p&&(P||G)){n.logger.warn(`Cancelling, unexpected ${U} verification event from ${q.getSender()}`);const C=`Unexpected ${U} event in phase ${this.phase}`;return await this.cancel((0,r.errorFromEvent)((0,r.newUnexpectedMessageError)({reason:C}))),!0}return!1}adjustObserveOnly(U,q=!1){q||(this._observeOnly=!0),this.calculateEventTimeout(U)<d&&(this._observeOnly=!0)}addEvent(U,q,P=!1){if(P?this.eventsByUs.set(U,q):this.eventsByThem.set(U,q),U===g){for(const[G,C]of this.eventsByThem.entries())C.getSender()!==this.otherUserId&&this.eventsByThem.delete(G);this.requestReceivedAt=Date.now()}}createVerifier(U,q=null,P=null){P||(P=this.targetDevice);const{userId:G,deviceId:C}=P,I=this.verificationMethods.get(U);if(!I){n.logger.warn("could not find verifier constructor for method",U);return}return new I(this.channel,this.client,G,C,q,this)}wasSentByOwnUser(U){return(U==null?void 0:U.getSender())===this.client.getUserId()}wasSentByOwnDevice(U){if(!this.wasSentByOwnUser(U))return!1;const q=U.getContent();return!(!q||q.from_device!==this.client.getDeviceId())}onVerifierCancelled(){this._cancelled=!0;const U=this.applyPhaseTransitions();U.length&&this.setPhase(U[U.length-1].phase)}onVerifierFinished(){this.channel.send(i.EventType.KeyVerificationDone,{}),this.verifierHasFinished=!0;const U=this.applyPhaseTransitions();U.length&&this.setPhase(U[U.length-1].phase)}getEventFromOtherParty(U){return this.eventsByThem.get(U)}};return Dt.VerificationRequest=x,Dt}var _s={},vS;function fH(){if(vS)return _s;vS=1;var t=ze.exports;Object.defineProperty(_s,"__esModule",{value:!0}),_s.InRoomRequests=_s.InRoomChannel=void 0;var e=t(Je()),n=Y3(),r=lt(),o=et;const i=o.EventType.RoomMessage,a="m.reference",l="m.relates_to";let u=class{constructor(g,c,h){this.client=g,this.roomId=c,this.userId=h,(0,e.default)(this,"requestEventId",void 0)}get receiveStartFromOtherDevices(){return!0}get transactionId(){return this.requestEventId}static getOtherPartyUserId(g,c){if(u.getEventType(g)!==n.REQUEST_TYPE)return;const _=c.getUserId(),F=g.getSender(),p=g.getContent().to;if(F===_)return p;if(p===_)return F}getTimestamp(g){return g.getTs()}static canCreateRequest(g){return g===n.REQUEST_TYPE}canCreateRequest(g){return u.canCreateRequest(g)}static getTransactionId(g){if(u.getEventType(g)===n.REQUEST_TYPE)return g.getId();{const c=g.getRelation();if((c==null?void 0:c.rel_type)===a)return c.event_id}}static validateEvent(g,c){const h=u.getTransactionId(g);if(typeof h!="string"||h.length===0)return!1;const _=u.getEventType(g),F=g.getContent();if(_===n.REQUEST_TYPE){if(!F||typeof F.to!="string"||!F.to.length)return r.logger.log("InRoomChannel: validateEvent: no valid to "+(F&&F.to)),!1;if(!u.getOtherPartyUserId(g,c))return r.logger.log(`InRoomChannel: validateEvent: not directed to or sent by me: ${g.getSender()}, ${F&&F.to}`),!1}return n.VerificationRequest.validateEvent(_,g,c)}static getEventType(g){const c=g.getType();if(c===i){const h=g.getContent();if(h){const{msgtype:_}=h;if(_===n.REQUEST_TYPE)return n.REQUEST_TYPE}}return c&&c!==n.REQUEST_TYPE?c:""}async handleEvent(g,c,h=!1){if(c.hasEventId(g.getId()))return;const _=u.getEventType(g);if(g.getRoomId()!==this.roomId)return;if(!this.userId){const v=u.getOtherPartyUserId(g,this.client);v&&(this.userId=v)}const F=this.client.getUserId(),m=g.getSender();if(this.userId&&m!==F&&m!==this.userId){r.logger.log(`InRoomChannel: ignoring verification event from non-participating sender ${m}`);return}this.requestEventId||(this.requestEventId=u.getTransactionId(g));const p=!!g.getUnsigned().transaction_id,f=g.getSender()===this.client.getUserId();return c.handleEvent(_,g,h,p,f)}completedContentFromEvent(g){const c=Object.assign({},g.getContent());return c[l]=g.getRelation(),c}completeContent(g,c){return c=Object.assign({},c),(g===n.REQUEST_TYPE||g===n.READY_TYPE||g===n.START_TYPE)&&(c.from_device=this.client.getDeviceId()),g===n.REQUEST_TYPE?c={body:this.client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:n.REQUEST_TYPE,to:this.userId,from_device:c.from_device,methods:c.methods}:c[l]={rel_type:a,event_id:this.transactionId},c}send(g,c){const h=this.completeContent(g,c);return this.sendCompleted(g,h)}async sendCompleted(g,c){let h=g;g===n.REQUEST_TYPE&&(h=i);const _=await this.client.sendEvent(this.roomId,h,c);g===n.REQUEST_TYPE&&(this.requestEventId=_.event_id)}};_s.InRoomChannel=u;class d{constructor(){(0,e.default)(this,"requestsByRoomId",new Map)}getRequest(g){const c=g.getRoomId(),h=u.getTransactionId(g);return this.getRequestByTxnId(c,h)}getRequestByChannel(g){return this.getRequestByTxnId(g.roomId,g.transactionId)}getRequestByTxnId(g,c){const h=this.requestsByRoomId.get(g);if(h)return h.get(c)}setRequest(g,c){this.doSetRequest(g.getRoomId(),u.getTransactionId(g),c)}setRequestByChannel(g,c){this.doSetRequest(g.roomId,g.transactionId,c)}doSetRequest(g,c,h){let _=this.requestsByRoomId.get(g);_||(_=new Map,this.requestsByRoomId.set(g,_)),_.set(c,h)}removeRequest(g){const c=g.getRoomId(),h=this.requestsByRoomId.get(c);h&&(h.delete(u.getTransactionId(g)),h.size===0&&this.requestsByRoomId.delete(c))}findRequestInProgress(g){const c=this.requestsByRoomId.get(g);if(c){for(const h of c.values())if(h.pending)return h}}}return _s.InRoomRequests=d,_s}var vs={},yS;function gH(){if(yS)return vs;yS=1;var t=ze.exports;Object.defineProperty(vs,"__esModule",{value:!0}),vs.ToDeviceRequests=vs.ToDeviceChannel=void 0;var e=t(Je()),n=ag(),r=lt(),o=Y3(),i=ug(),a=Kn();let l=class{constructor(s,g,c,h,_){this.client=s,this.userId=g,this.devices=c,this.transactionId=h,this.deviceId=_,(0,e.default)(this,"request",void 0)}isToDevices(s){if(s.length===this.devices.length){for(const g of s)if(!this.devices.includes(g))return!1;return!0}else return!1}static getEventType(s){return s.getType()}static getTransactionId(s){const g=s.getContent();return g&&g.transaction_id}static canCreateRequest(s){return s===o.REQUEST_TYPE||s===o.START_TYPE}canCreateRequest(s){return l.canCreateRequest(s)}static validateEvent(s,g){if(s.isCancelled())return r.logger.warn("Ignoring flagged verification request from "+s.getSender()),!1;const c=s.getContent();if(!c)return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no content"),!1;if(!c.transaction_id)return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no transaction_id"),!1;const h=s.getType();if(h===o.REQUEST_TYPE){if(!Number.isFinite(c.timestamp))return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no timestamp"),!1;if(s.getSender()===g.getUserId()&&c.from_device==g.getDeviceId())return r.logger.warn("ToDeviceChannel.validateEvent: invalid: from own device"),!1}return o.VerificationRequest.validateEvent(h,s,g)}getTimestamp(s){const g=s.getContent();return g&&g.timestamp}async handleEvent(s,g,c=!1){const h=s.getType(),_=s.getContent();if(h===o.REQUEST_TYPE||h===o.READY_TYPE||h===o.START_TYPE){this.transactionId||(this.transactionId=_.transaction_id);const f=_.from_device;if(!this.deviceId&&this.devices.includes(f)&&(this.deviceId=f),!this.deviceId||this.deviceId!==f){const v=this.completeContent(o.CANCEL_TYPE,(0,i.errorFromEvent)((0,i.newUnexpectedMessageError)()));return this.sendToDevices(o.CANCEL_TYPE,v,[f])}}const F=g.phase===o.PHASE_STARTED||g.phase===o.PHASE_READY;await g.handleEvent(s.getType(),s,c,!1,!1);const m=g.phase===o.PHASE_STARTED||g.phase===o.PHASE_READY;if((h===o.START_TYPE||h===o.READY_TYPE)&&!F&&m&&this.deviceId){const f=this.devices.filter(v=>v!==this.deviceId&&v!==this.client.getDeviceId());if(f.length){const v=this.completeContent(o.CANCEL_TYPE,{code:"m.accepted",reason:"Verification request accepted by another device"});await this.sendToDevices(o.CANCEL_TYPE,v,f)}}}completedContentFromEvent(s){return s.getContent()}completeContent(s,g){return g=Object.assign({},g),this.transactionId&&(g.transaction_id=this.transactionId),(s===o.REQUEST_TYPE||s===o.READY_TYPE||s===o.START_TYPE)&&(g.from_device=this.client.getDeviceId()),s===o.REQUEST_TYPE&&(g.timestamp=Date.now()),g}send(s,g={}){(s===o.REQUEST_TYPE||s===o.START_TYPE)&&!this.transactionId&&(this.transactionId=l.makeTransactionId());const c=this.completeContent(s,g);return this.sendCompleted(s,c)}async sendCompleted(s,g){let c;s===o.REQUEST_TYPE||s===o.CANCEL_TYPE&&!this.deviceId?c=await this.sendToDevices(s,g,this.devices):c=await this.sendToDevices(s,g,[this.deviceId]);const h=new a.MatrixEvent({sender:this.client.getUserId(),content:g,type:s});return await this.request.handleEvent(s,h,!0,!0,!0),c}async sendToDevices(s,g,c){if(c.length){const h={};for(const _ of c)h[_]=g;await this.client.sendToDevice(s,{[this.userId]:h})}}static makeTransactionId(){return(0,n.randomString)(32)}};vs.ToDeviceChannel=l;class u{constructor(){(0,e.default)(this,"requestsByUserId",new Map)}getRequest(s){return this.getRequestBySenderAndTxnId(s.getSender(),l.getTransactionId(s))}getRequestByChannel(s){return this.getRequestBySenderAndTxnId(s.userId,s.transactionId)}getRequestBySenderAndTxnId(s,g){const c=this.requestsByUserId.get(s);if(c)return c.get(g)}setRequest(s,g){this.setRequestBySenderAndTxnId(s.getSender(),l.getTransactionId(s),g)}setRequestByChannel(s,g){this.setRequestBySenderAndTxnId(s.userId,s.transactionId,g)}setRequestBySenderAndTxnId(s,g,c){let h=this.requestsByUserId.get(s);h||(h=new Map,this.requestsByUserId.set(s,h)),h.set(g,c)}removeRequest(s){const g=s.getSender(),c=this.requestsByUserId.get(g);c&&(c.delete(l.getTransactionId(s)),c.size===0&&this.requestsByUserId.delete(g))}findRequestInProgress(s,g){const c=this.requestsByUserId.get(s);if(c){for(const h of c.values())if(h.pending&&h.channel.isToDevices(g))return h}}getRequestsInProgress(s){const g=this.requestsByUserId.get(s);return g?Array.from(g.values()).filter(c=>c.pending):[]}}return vs.ToDeviceRequests=u,vs}var Ad={},bS;function pH(){if(bS)return Ad;bS=1;var t=ze.exports;Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.IllegalMethod=void 0;var e=t(Je()),n=z3();let r=class extends n.VerificationBase{constructor(...i){super(...i),(0,e.default)(this,"doVerification",async()=>{throw new Error("Verification is not possible with this method")})}static factory(i,a,l,u,d,s){return new r(i,a,l,u,d,s)}static get NAME(){return"org.matrix.illegal_method"}};return Ad.IllegalMethod=r,Ad}var ys={},ES;function wA(){if(ES)return ys;ES=1;var t=ze.exports;Object.defineProperty(ys,"__esModule",{value:!0}),ys.DehydrationManager=ys.DEHYDRATION_ALGORITHM=void 0;var e=t(Je()),n=t(Om()),r=Po(),o=go,i=lg(),a=lt(),l=Bo;const u="org.matrix.msc2697.v1.olm.libolm_pickle";ys.DEHYDRATION_ALGORITHM=u;const d=7*24*60*60*1e3;class s{constructor(c){this.crypto=c,(0,e.default)(this,"inProgress",!1),(0,e.default)(this,"timeoutId",void 0),(0,e.default)(this,"key",void 0),(0,e.default)(this,"keyInfo",void 0),(0,e.default)(this,"deviceDisplayName",void 0),this.getDehydrationKeyFromCache()}getDehydrationKeyFromCache(){return this.crypto.cryptoStore.doTxn("readonly",[o.IndexedDBCryptoStore.STORE_ACCOUNT],c=>{this.crypto.cryptoStore.getSecretStorePrivateKey(c,async h=>{if(h){const{key:_,keyInfo:F,deviceDisplayName:m,time:p}=h,f=Wt.Buffer.from(this.crypto.olmDevice.pickleKey),v=await(0,i.decryptAES)(_,f,u);this.key=(0,r.decodeBase64)(v),this.keyInfo=F,this.deviceDisplayName=m;const y=Date.now(),w=Math.max(1,p+d-y);this.timeoutId=Pe.setTimeout(this.dehydrateDevice.bind(this),w)}},"dehydration")})}async setKeyAndQueueDehydration(c,h={},_){await this.setKey(c,h,_)||this.dehydrateDevice()}async setKey(c,h={},_){if(!c){this.timeoutId&&(Pe.clearTimeout(this.timeoutId),this.timeoutId=void 0),await this.crypto.cryptoStore.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ACCOUNT],m=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(m,"dehydration",null)}),this.key=void 0,this.keyInfo=void 0;return}let F=!!this.key&&c.length==this.key.length;for(let m=0;F&&m<c.length;m++)c[m]!=this.key[m]&&(F=!1);return F||(this.key=c,this.keyInfo=h,this.deviceDisplayName=_),F}async dehydrateDevice(){if(this.inProgress){a.logger.log("Dehydration already in progress -- not starting new dehydration");return}this.inProgress=!0,this.timeoutId&&(Pe.clearTimeout(this.timeoutId),this.timeoutId=void 0);try{const c=Wt.Buffer.from(this.crypto.olmDevice.pickleKey),h=await(0,i.encryptAES)((0,r.encodeBase64)(this.key),c,u);await this.crypto.cryptoStore.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ACCOUNT],q=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(q,"dehydration",{keyInfo:this.keyInfo,key:h,deviceDisplayName:this.deviceDisplayName,time:Date.now()})}),a.logger.log("Attempting to dehydrate device"),a.logger.log("Creating account");const _=new Pe.Olm.Account;_.create();const F=JSON.parse(_.identity_keys()),m=_.max_number_of_one_time_keys();_.generate_one_time_keys(m/2),_.generate_fallback_key();const p=JSON.parse(_.one_time_keys()),f=JSON.parse(_.fallback_key());_.mark_keys_as_published();const v=_.pickle(new Uint8Array(this.key)),y={algorithm:u,account:v};this.keyInfo.passphrase&&(y.passphrase=this.keyInfo.passphrase),a.logger.log("Uploading account to server");const b=(await this.crypto.baseApis.http.authedRequest(l.Method.Put,"/dehydrated_device",void 0,{device_data:y,initial_device_display_name:this.deviceDisplayName},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})).device_id;a.logger.log("Preparing device keys",b);const S={algorithms:this.crypto.supportedAlgorithms,device_id:b,user_id:this.crypto.userId,keys:{[`ed25519:${b}`]:F.ed25519,[`curve25519:${b}`]:F.curve25519}},x=_.sign(n.default.stringify(S));S.signatures={[this.crypto.userId]:{[`ed25519:${b}`]:x}},this.crypto.crossSigningInfo.getId("self_signing")&&await this.crypto.crossSigningInfo.signObject(S,"self_signing"),a.logger.log("Preparing one-time keys");const N={};for(const[q,P]of Object.entries(p.curve25519)){const G={key:P},C=_.sign(n.default.stringify(G));G.signatures={[this.crypto.userId]:{[`ed25519:${b}`]:C}},N[`signed_curve25519:${q}`]=G}a.logger.log("Preparing fallback keys");const U={};for(const[q,P]of Object.entries(f.curve25519)){const G={key:P,fallback:!0},C=_.sign(n.default.stringify(G));G.signatures={[this.crypto.userId]:{[`ed25519:${b}`]:C}},U[`signed_curve25519:${q}`]=G}return a.logger.log("Uploading keys to server"),await this.crypto.baseApis.http.authedRequest(l.Method.Post,"/keys/upload/"+encodeURI(b),void 0,{device_keys:S,one_time_keys:N,"org.matrix.msc2732.fallback_keys":U}),a.logger.log("Done dehydrating"),this.timeoutId=Pe.setTimeout(this.dehydrateDevice.bind(this),d),b}finally{this.inProgress=!1}}stop(){this.timeoutId&&(Pe.clearTimeout(this.timeoutId),this.timeoutId=void 0)}}return ys.DehydrationManager=s,ys}var Tr={},wS;function DA(){if(wS)return Tr;wS=1;var t=ze.exports;Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.algorithmsByName=Tr.DefaultAlgorithm=Tr.Curve25519=Tr.BackupManager=Tr.Aes256=void 0;var e=t(Je()),n=Mo(),r=lt(),o=Po(),i=Pm(),a=tt,l=go,u=W3(),d=lg(),s=qn,g=J3(),c=H3(),h=Bo;const _=200,F=5e3;class m{constructor(x,N){this.baseApis=x,this.getKey=N,(0,e.default)(this,"algorithm",void 0),(0,e.default)(this,"backupInfo",void 0),(0,e.default)(this,"checkedForBackup",void 0),(0,e.default)(this,"sendingBackups",void 0),(0,e.default)(this,"sessionLastCheckAttemptedTime",{}),this.checkedForBackup=!1,this.sendingBackups=!1}get version(){return this.backupInfo&&this.backupInfo.version}static checkBackupVersion(x){const N=w[x.algorithm];if(!N)throw new Error("Unknown backup algorithm: "+x.algorithm);if(typeof x.auth_data!="object")throw new Error("Invalid backup data returned");return N.checkBackupVersion(x)}static makeAlgorithm(x,N){const U=w[x.algorithm];if(!U)throw new Error("Unknown backup algorithm");return U.init(x.auth_data,N)}async enableKeyBackup(x){this.backupInfo=x,this.algorithm&&this.algorithm.free(),this.algorithm=await m.makeAlgorithm(x,this.getKey),this.baseApis.emit(g.CryptoEvent.KeyBackupStatus,!0),this.scheduleKeyBackupSend()}disableKeyBackup(){this.algorithm&&this.algorithm.free(),this.algorithm=void 0,this.backupInfo=void 0,this.baseApis.emit(g.CryptoEvent.KeyBackupStatus,!1)}getKeyBackupEnabled(){return this.checkedForBackup?Boolean(this.algorithm):null}async prepareKeyBackupVersion(x,N){const U=N?w[N]:b;if(!U)throw new Error("Unknown backup algorithm");const[q,P]=await U.prepare(x),G=(0,u.encodeRecoveryKey)(q);return{algorithm:U.algorithmName,auth_data:P,recovery_key:G,privateKey:q}}async createKeyBackupVersion(x){this.algorithm=await m.makeAlgorithm(x,this.getKey)}async checkAndStart(){if(r.logger.log("Checking key backup status..."),this.baseApis.isGuest())return r.logger.log("Skipping key backup check since user is guest"),this.checkedForBackup=!0,null;let x;try{var N;x=(N=await this.baseApis.getKeyBackupVersion())!==null&&N!==void 0?N:void 0}catch(q){return r.logger.log("Error checking for active key backup",q),q.httpStatus===404&&(this.checkedForBackup=!0),null}this.checkedForBackup=!0;const U=await this.isKeyBackupTrusted(x);return U.usable&&!this.backupInfo?(r.logger.log(`Found usable key backup v${x.version}: enabling key backups`),await this.enableKeyBackup(x)):!U.usable&&this.backupInfo?(r.logger.log("No usable key backup: disabling key backup"),this.disableKeyBackup()):!U.usable&&!this.backupInfo?r.logger.log("No usable key backup: not enabling key backup"):U.usable&&this.backupInfo&&(x.version!==this.backupInfo.version?(r.logger.log(`On backup version ${this.backupInfo.version} but found version ${x.version}: switching.`),this.disableKeyBackup(),await this.enableKeyBackup(x),await this.scheduleAllGroupSessionsForBackup()):r.logger.log(`Backup version ${x.version} still current`)),{backupInfo:x,trustInfo:U}}async checkKeyBackup(){return this.checkedForBackup=!1,this.checkAndStart()}async queryKeyBackupRateLimited(x,N){if(!this.backupInfo)return;const U=new Date().getTime();(!this.sessionLastCheckAttemptedTime[N]||U-this.sessionLastCheckAttemptedTime[N]>F)&&(this.sessionLastCheckAttemptedTime[N]=U,await this.baseApis.restoreKeyBackupWithCache(x,N,this.backupInfo,{}))}async isKeyBackupTrusted(x){const N={usable:!1,trusted_locally:!1,sigs:[]};if(!x||!x.algorithm||!x.auth_data||!x.auth_data.signatures)return r.logger.info("Key backup is absent or missing required data"),N;const U=this.baseApis.getUserId(),q=await this.baseApis.crypto.getSessionBackupPrivateKey();if(q){let C=null;try{C=await m.makeAlgorithm(x,async()=>q),await C.keyMatches(q)&&(r.logger.info("Backup is trusted locally"),N.trusted_locally=!0)}catch{}finally{var P;(P=C)===null||P===void 0||P.free()}}const G=x.auth_data.signatures[U]||{};for(const C of Object.keys(G)){const I=C.split(":");if(I[0]!=="ed25519"){r.logger.log("Ignoring unknown signature type: "+I[0]);continue}const M={deviceId:I[1]},A=this.baseApis.crypto.crossSigningInfo.getId();if(A===M.deviceId){M.crossSigningId=!0;try{await(0,o.verifySignature)(this.baseApis.crypto.olmDevice,x.auth_data,U,M.deviceId,A),M.valid=!0}catch(Y){r.logger.warn("Bad signature from cross signing key "+A,Y),M.valid=!1}N.sigs.push(M);continue}const $=this.baseApis.crypto.deviceList.getStoredDevice(U,M.deviceId);if($){M.device=$,M.deviceTrust=this.baseApis.checkDeviceTrust(U,M.deviceId);try{await(0,o.verifySignature)(this.baseApis.crypto.olmDevice,x.auth_data,U,$.deviceId,$.getFingerprint()),M.valid=!0}catch(Y){r.logger.info("Bad signature from key ID "+C+" userID "+this.baseApis.getUserId()+" device ID "+$.deviceId+" fingerprint: "+$.getFingerprint(),x.auth_data,Y),M.valid=!1}}else M.valid=null,r.logger.info("Ignoring signature from unknown key "+C);N.sigs.push(M)}return N.usable=N.sigs.some(C=>{var I;return C.valid&&(C.device&&((I=C.deviceTrust)===null||I===void 0?void 0:I.isVerified())||C.crossSigningId)}),N}async scheduleKeyBackupSend(x=1e4){if(!this.sendingBackups){this.sendingBackups=!0;try{const N=Math.random()*x;await(0,a.sleep)(N);let U=0;for(;;){if(!this.algorithm)return;try{if(await this.backupPendingKeys(_)===0)return;U=0}catch(q){if(U++,r.logger.log("Key backup request failed",q),q.data&&(q.data.errcode=="M_NOT_FOUND"||q.data.errcode=="M_WRONG_ROOM_KEYS_VERSION"))throw await this.checkKeyBackup(),this.baseApis.crypto.emit(g.CryptoEvent.KeyBackupFailed,q.data.errcode),q}U&&await(0,a.sleep)(1e3*Math.pow(2,Math.min(U-1,4)))}}finally{this.sendingBackups=!1}}}async backupPendingKeys(x){const N=await this.baseApis.crypto.cryptoStore.getSessionsNeedingBackup(x);if(!N.length)return 0;let U=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();this.baseApis.crypto.emit(g.CryptoEvent.KeyBackupSessionsRemaining,U);const q={};for(const G of N){var P;const C=G.sessionData.room_id;q[C]===void 0&&(q[C]={sessions:{}});const I=this.baseApis.crypto.olmDevice.exportInboundGroupSession(G.senderKey,G.sessionId,G.sessionData);I.algorithm=o.MEGOLM_ALGORITHM;const M=(I.forwarding_curve25519_key_chain||[]).length,A=this.baseApis.crypto.deviceList.getUserByIdentityKey(o.MEGOLM_ALGORITHM,G.senderKey),$=(P=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(o.MEGOLM_ALGORITHM,G.senderKey))!==null&&P!==void 0?P:void 0,Y=this.baseApis.crypto.checkDeviceInfoTrust(A,$).isVerified();q[C].sessions[G.sessionId]={first_message_index:I.first_known_index,forwarded_count:M,is_verified:Y,session_data:await this.algorithm.encryptSession(I)}}return await this.baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:q}),await this.baseApis.crypto.cryptoStore.unmarkSessionsNeedingBackup(N),U=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup(),this.baseApis.crypto.emit(g.CryptoEvent.KeyBackupSessionsRemaining,U),N.length}async backupGroupSession(x,N){await this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([{senderKey:x,sessionId:N}]),this.backupInfo&&this.scheduleKeyBackupSend()}async scheduleAllGroupSessionsForBackup(){await this.flagAllGroupSessionsForBackup(),this.scheduleKeyBackupSend(0)}async flagAllGroupSessionsForBackup(){await this.baseApis.crypto.cryptoStore.doTxn("readwrite",[l.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,l.IndexedDBCryptoStore.STORE_BACKUP],N=>{this.baseApis.crypto.cryptoStore.getAllEndToEndInboundGroupSessions(N,U=>{U!==null&&this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([U],N)})});const x=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();return this.baseApis.emit(g.CryptoEvent.KeyBackupSessionsRemaining,x),x}countSessionsNeedingBackup(){return this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()}}Tr.BackupManager=m;class p{constructor(x,N,U){this.authData=x,this.publicKey=N,this.getKey=U}static async init(x,N){if(!x||!("public_key"in x))throw new Error("auth_data missing required information");const U=new Pe.Olm.PkEncryption;return U.set_recipient_key(x.public_key),new p(x,U,N)}static async prepare(x){const N=new Pe.Olm.PkDecryption;try{const U={};if(!x)U.public_key=N.generate_key();else if(x instanceof Uint8Array)U.public_key=N.init_with_private_key(x);else{const P=await(0,i.keyFromPassphrase)(x);U.private_key_salt=P.salt,U.private_key_iterations=P.iterations,U.public_key=N.init_with_private_key(P.key)}return new Pe.Olm.PkEncryption().set_recipient_key(U.public_key),[N.get_private_key(),U]}finally{N.free()}}static checkBackupVersion(x){if(!("public_key"in x.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!0}async encryptSession(x){const N=Object.assign({},x);return delete N.session_id,delete N.room_id,delete N.first_known_index,this.publicKey.encrypt(JSON.stringify(N))}async decryptSessions(x){const N=await this.getKey(),U=new Pe.Olm.PkDecryption;try{if(U.init_with_private_key(N)!==this.authData.public_key)throw new h.MatrixError({errcode:n.MatrixClient.RESTORE_BACKUP_ERROR_BAD_KEY});const P=[];for(const[G,C]of Object.entries(x))try{const I=JSON.parse(U.decrypt(C.session_data.ephemeral,C.session_data.mac,C.session_data.ciphertext));I.session_id=G,P.push(I)}catch(I){r.logger.log("Failed to decrypt megolm session from backup",I,C)}return P}finally{U.free()}}async keyMatches(x){const N=new Pe.Olm.PkDecryption;let U;try{U=N.init_with_private_key(x)}finally{N.free()}return U===this.authData.public_key}free(){this.publicKey.free()}}Tr.Curve25519=p,(0,e.default)(p,"algorithmName","m.megolm_backup.v1.curve25519-aes-sha2");function f(S){const x=new Uint8Array(S);return c.crypto.getRandomValues(x),x}const v=new s.UnstableValue("m.megolm_backup.v1.aes-hmac-sha2","org.matrix.msc3270.v1.aes-hmac-sha2");class y{constructor(x,N){this.authData=x,this.key=N}static async init(x,N){if(!x)throw new Error("auth_data missing");const U=await N();if(x.mac){const{mac:q}=await(0,d.calculateKeyCheck)(U,x.iv);if(x.mac.replace(/=+$/g,"")!==q.replace(/=+/g,""))throw new Error("Key does not match")}return new y(x,U)}static async prepare(x){let N;const U={};if(!x)N=f(32);else if(x instanceof Uint8Array)N=new Uint8Array(x);else{const G=await(0,i.keyFromPassphrase)(x);U.private_key_salt=G.salt,U.private_key_iterations=G.iterations,N=G.key}const{iv:q,mac:P}=await(0,d.calculateKeyCheck)(N);return U.iv=q,U.mac=P,[N,U]}static checkBackupVersion(x){if(!("iv"in x.auth_data&&"mac"in x.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!1}encryptSession(x){const N=Object.assign({},x);return delete N.session_id,delete N.room_id,delete N.first_known_index,(0,d.encryptAES)(JSON.stringify(N),this.key,x.session_id)}async decryptSessions(x){const N=[];for(const[U,q]of Object.entries(x))try{const P=JSON.parse(await(0,d.decryptAES)(q.session_data,this.key,U));P.session_id=U,N.push(P)}catch(P){r.logger.log("Failed to decrypt megolm session from backup",P,q)}return N}async keyMatches(x){if(this.authData.mac){const{mac:N}=await(0,d.calculateKeyCheck)(x,this.authData.iv);return this.authData.mac.replace(/=+$/g,"")===N.replace(/=+/g,"")}else return!0}free(){this.key.fill(0)}}Tr.Aes256=y,(0,e.default)(y,"algorithmName",v.name);const w={[p.algorithmName]:p,[y.algorithmName]:y};Tr.algorithmsByName=w;const b=p;return Tr.DefaultAlgorithm=b,Tr}var DS;function J3(){if(DS)return cr;DS=1;var t=ze.exports;Object.defineProperty(cr,"__esModule",{value:!0}),cr.IncomingRoomKeyRequest=cr.CryptoEvent=cr.Crypto=void 0,cr.fixBackupKey=he,cr.isCryptoAvailable=H,cr.verificationMethods=void 0;var e=t(Je()),n=t(Om()),r=et,o=El(),i=lt(),a=bA(),l=$(Po()),u=aH(),d=sg(),s=$(yA()),g=Bm(),c=sH(),h=lH(),_=_A(),F=go,m=EA(),p=cH(),f=Pm(),v=W3(),y=Y3(),w=fH(),b=gH(),S=pH(),x=Cn,N=lg(),U=wA(),q=DA(),P=Ji(),G=lo,C=Kn(),I=Mo(),M=un();function A(W){if(typeof WeakMap!="function")return null;var z=new WeakMap,oe=new WeakMap;return(A=function(ce){return ce?oe:z})(W)}function $(W,z){if(!z&&W&&W.__esModule)return W;if(W===null||typeof W!="object"&&typeof W!="function")return{default:W};var oe=A(z);if(oe&&oe.has(W))return oe.get(W);var ce={},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var we in W)if(we!=="default"&&Object.prototype.hasOwnProperty.call(W,we)){var Oe=_e?Object.getOwnPropertyDescriptor(W,we):null;Oe&&(Oe.get||Oe.set)?Object.defineProperty(ce,we,Oe):ce[we]=W[we]}return ce.default=W,oe&&oe.set(W,ce),ce}function Y(W,z){var oe=Object.keys(W);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(W);z&&(ce=ce.filter(function(_e){return Object.getOwnPropertyDescriptor(W,_e).enumerable})),oe.push.apply(oe,ce)}return oe}function T(W){for(var z=1;z<arguments.length;z++){var oe=arguments[z]!=null?arguments[z]:{};z%2?Y(Object(oe),!0).forEach(function(ce){(0,e.default)(W,ce,oe[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(oe)):Y(Object(oe)).forEach(function(ce){Object.defineProperty(W,ce,Object.getOwnPropertyDescriptor(oe,ce))})}return W}const D=d.DeviceInfo.DeviceVerification,R={[m.ReciprocateQRCode.NAME]:m.ReciprocateQRCode,[p.SAS.NAME]:p.SAS,[m.SHOW_QR_CODE_METHOD]:S.IllegalMethod,[m.SCAN_QR_CODE_METHOD]:S.IllegalMethod},B={RECIPROCATE_QR_CODE:m.ReciprocateQRCode.NAME,SAS:p.SAS.NAME};cr.verificationMethods=B;function H(){return Boolean(Pe.Olm)}const Q=60*60*1e3;let L;cr.CryptoEvent=L,function(W){W.DeviceVerificationChanged="deviceVerificationChanged",W.UserTrustStatusChanged="userTrustStatusChanged",W.UserCrossSigningUpdated="userCrossSigningUpdated",W.RoomKeyRequest="crypto.roomKeyRequest",W.RoomKeyRequestCancellation="crypto.roomKeyRequestCancellation",W.KeyBackupStatus="crypto.keyBackupStatus",W.KeyBackupFailed="crypto.keyBackupFailed",W.KeyBackupSessionsRemaining="crypto.keyBackupSessionsRemaining",W.KeySignatureUploadFailure="crypto.keySignatureUploadFailure",W.VerificationRequest="crypto.verification.request",W.Warning="crypto.warning",W.WillUpdateDevices="crypto.willUpdateDevices",W.DevicesUpdated="crypto.devicesUpdated",W.KeysChanged="crossSigning.keysChanged"}(L||(cr.CryptoEvent=L={}));class le extends M.TypedEventEmitter{static getOlmVersion(){return a.OlmDevice.getOlmVersion()}constructor(z,oe,ce,_e,we,Oe,Le){if(super(),this.baseApis=z,this.userId=oe,this.deviceId=ce,this.clientStore=_e,this.cryptoStore=we,this.roomList=Oe,(0,e.default)(this,"backupManager",void 0),(0,e.default)(this,"crossSigningInfo",void 0),(0,e.default)(this,"olmDevice",void 0),(0,e.default)(this,"deviceList",void 0),(0,e.default)(this,"dehydrationManager",void 0),(0,e.default)(this,"secretStorage",void 0),(0,e.default)(this,"reEmitter",void 0),(0,e.default)(this,"verificationMethods",void 0),(0,e.default)(this,"supportedAlgorithms",void 0),(0,e.default)(this,"outgoingRoomKeyRequestManager",void 0),(0,e.default)(this,"toDeviceVerificationRequests",void 0),(0,e.default)(this,"inRoomVerificationRequests",void 0),(0,e.default)(this,"trustCrossSignedDevices",!0),(0,e.default)(this,"lastOneTimeKeyCheck",null),(0,e.default)(this,"oneTimeKeyCheckInProgress",!1),(0,e.default)(this,"roomEncryptors",new Map),(0,e.default)(this,"roomDecryptors",new Map),(0,e.default)(this,"deviceKeys",{}),(0,e.default)(this,"globalBlacklistUnverifiedDevices",!1),(0,e.default)(this,"globalErrorOnUnknownDevices",!0),(0,e.default)(this,"receivedRoomKeyRequests",[]),(0,e.default)(this,"receivedRoomKeyRequestCancellations",[]),(0,e.default)(this,"processingRoomKeyRequests",!1),(0,e.default)(this,"lazyLoadMembers",!1),(0,e.default)(this,"roomDeviceTrackingState",{}),(0,e.default)(this,"lastNewSessionForced",{}),(0,e.default)(this,"sendKeyRequestsImmediately",!1),(0,e.default)(this,"oneTimeKeyCount",void 0),(0,e.default)(this,"needsNewFallback",void 0),(0,e.default)(this,"fallbackCleanup",void 0),(0,e.default)(this,"onDeviceListUserCrossSigningUpdated",async fe=>{if(fe===this.userId){const Se=this.deviceList.getStoredCrossSigningForUser(fe),Ee=Se?Se.getId():null,ye=this.crossSigningInfo.getId();ye&&Ee&&!(ye!==Ee)?await this.checkOwnCrossSigningTrust():(this.storeTrustedSelfKeys(null),this.emit(L.KeysChanged,{}),this.emit(L.UserTrustStatusChanged,this.userId,this.checkUserTrust(fe)))}else{await this.checkDeviceVerifications(fe);const Se=this.deviceList.getStoredCrossSigningForUser(fe);Se&&(Se.updateCrossSigningVerifiedBefore(this.checkUserTrust(fe).isCrossSigningVerified()),this.deviceList.setRawStoredCrossSigningForUser(fe,Se.toStorage())),this.emit(L.UserTrustStatusChanged,fe,this.checkUserTrust(fe))}}),(0,e.default)(this,"onMembership",(fe,Se,Ee)=>{try{this.onRoomMembership(fe,Se,Ee)}catch(ye){i.logger.error("Error handling membership change:",ye)}}),(0,e.default)(this,"onToDeviceEvent",fe=>{try{i.logger.log(`received to_device ${fe.getType()} from: ${fe.getSender()} id: ${fe.getId()}`),fe.getType()=="m.room_key"||fe.getType()=="m.forwarded_room_key"?this.onRoomKeyEvent(fe):fe.getType()=="m.room_key_request"?this.onRoomKeyRequestEvent(fe):fe.getType()==="m.secret.request"?this.secretStorage.onRequestReceived(fe):fe.getType()==="m.secret.send"?this.secretStorage.onSecretReceived(fe):fe.getType()==="m.room_key.withheld"?this.onRoomKeyWithheldEvent(fe):fe.getContent().transaction_id?this.onKeyVerificationMessage(fe):fe.getContent().msgtype==="m.bad.encrypted"?this.onToDeviceBadEncrypted(fe):(fe.isBeingDecrypted()||fe.shouldAttemptDecryption())&&(fe.isBeingDecrypted()||fe.attemptDecryption(this),fe.once(C.MatrixEventEvent.Decrypted,Se=>{this.onToDeviceEvent(Se)}))}catch(Se){i.logger.error("Error handling toDeviceEvent:",Se)}}),(0,e.default)(this,"onTimelineEvent",(fe,Se,Ee,ye,{liveEvent:Te=!0}={})=>{if(!w.InRoomChannel.validateEvent(fe,this.baseApis))return;const Ne=ne=>{const j=new w.InRoomChannel(this.baseApis,ne.getRoomId());return new y.VerificationRequest(j,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(fe,this.inRoomVerificationRequests,Ne,Te)}),this.reEmitter=new o.TypedReEmitter(this),Le){this.verificationMethods=new Map;for(const fe of Le)typeof fe=="string"?R[fe]&&this.verificationMethods.set(fe,R[fe]):fe.NAME?this.verificationMethods.set(fe.NAME,fe):i.logger.warn(`Excluding unknown verification method ${fe}`)}else this.verificationMethods=new Map(Object.entries(R));this.backupManager=new q.BackupManager(z,async()=>{const fe=await this.getSessionBackupPrivateKey();if(fe)return fe;const Se=await this.getSecret("m.megolm_backup.v1");if(Se){const Ee=he(Se);if(Ee){const ye=await this.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",Ee,[ye[0]])}return l.decodeBase64(Ee||Se)}if(this.baseApis.cryptoCallbacks&&this.baseApis.cryptoCallbacks.getBackupKey)return this.baseApis.cryptoCallbacks.getBackupKey();throw new Error("Unable to get private key")}),this.olmDevice=new a.OlmDevice(we),this.deviceList=new u.DeviceList(z,we,this.olmDevice),this.deviceList.on(L.UserCrossSigningUpdated,this.onDeviceListUserCrossSigningUpdated),this.reEmitter.reEmit(this.deviceList,[L.DevicesUpdated,L.WillUpdateDevices]),this.supportedAlgorithms=Array.from(s.DECRYPTION_CLASSES.keys()),this.outgoingRoomKeyRequestManager=new _.OutgoingRoomKeyRequestManager(z,this.deviceId,this.cryptoStore),this.toDeviceVerificationRequests=new b.ToDeviceRequests,this.inRoomVerificationRequests=new w.InRoomRequests;const Ue=this.baseApis.cryptoCallbacks||{},de=(0,g.createCryptoStoreCacheCallbacks)(we,this.olmDevice);this.crossSigningInfo=new g.CrossSigningInfo(oe,Ue,de),this.secretStorage=new h.SecretStorage(z,Ue,z),this.dehydrationManager=new U.DehydrationManager(this),!Ue.getCrossSigningKey&&Ue.getSecretStorageKey&&(Ue.getCrossSigningKey=async fe=>g.CrossSigningInfo.getFromSecretStorage(fe,this.secretStorage))}async init({exportedOlmDevice:z,pickleKey:oe}={}){i.logger.log("Crypto: initialising Olm..."),await Pe.Olm.init(),i.logger.log(z?"Crypto: initialising Olm device from exported device...":"Crypto: initialising Olm device..."),await this.olmDevice.init({fromExportedDevice:z,pickleKey:oe}),i.logger.log("Crypto: loading device list..."),await this.deviceList.load(),this.deviceKeys["ed25519:"+this.deviceId]=this.olmDevice.deviceEd25519Key,this.deviceKeys["curve25519:"+this.deviceId]=this.olmDevice.deviceCurve25519Key,i.logger.log("Crypto: fetching own devices...");let ce=this.deviceList.getRawStoredDevicesForUser(this.userId);if(ce||(ce={}),!ce[this.deviceId]){i.logger.log("Crypto: adding this device to the store...");const _e={keys:this.deviceKeys,algorithms:this.supportedAlgorithms,verified:D.VERIFIED,known:!0};ce[this.deviceId]=_e,this.deviceList.storeDevicesForUser(this.userId,ce),this.deviceList.saveIfDirty()}await this.cryptoStore.doTxn("readonly",[F.IndexedDBCryptoStore.STORE_ACCOUNT],_e=>{this.cryptoStore.getCrossSigningKeys(_e,we=>{we&&Object.keys(we).length!==0&&(i.logger.log("Loaded cross-signing public keys from crypto store"),this.crossSigningInfo.setKeys(we))})}),this.deviceList.startTrackingDeviceList(this.userId),i.logger.log("Crypto: checking for key backup..."),this.backupManager.checkAndStart()}getCryptoTrustCrossSignedDevices(){return this.trustCrossSignedDevices}setCryptoTrustCrossSignedDevices(z){this.trustCrossSignedDevices=z;for(const oe of this.deviceList.getKnownUserIds()){const ce=this.deviceList.getRawStoredDevicesForUser(oe);for(const _e of Object.keys(ce)){const we=this.checkDeviceTrust(oe,_e);if(!we.isLocallyVerified()&&we.isCrossSigningVerified()){const Oe=this.deviceList.getStoredDevice(oe,_e);this.emit(L.DeviceVerificationChanged,oe,_e,Oe)}}}}async createRecoveryKeyFromPassphrase(z){const oe=new Pe.Olm.PkDecryption;try{const ce={};if(z){const Oe=await(0,f.keyFromPassphrase)(z);ce.passphrase={algorithm:"m.pbkdf2",iterations:Oe.iterations,salt:Oe.salt},ce.pubkey=oe.init_with_private_key(Oe.key)}else ce.pubkey=oe.generate_key();const _e=oe.get_private_key(),we=(0,v.encodeRecoveryKey)(_e);return{keyInfo:ce,encodedPrivateKey:we,privateKey:_e}}finally{oe==null||oe.free()}}async isCrossSigningReady(){const z=this.crossSigningInfo.getId(),oe=await this.crossSigningInfo.isStoredInKeyCache()||await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage);return!!(z&&oe)}async isSecretStorageReady(){const z=await this.secretStorage.hasKey(),oe=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),ce=!this.backupManager.getKeyBackupEnabled()||await this.baseApis.isKeyBackupKeyStored();return!!(z&&oe&&ce)}async bootstrapCrossSigning({authUploadDeviceSigningKeys:z,setupNewCrossSigning:oe}={}){i.logger.log("Bootstrapping cross-signing");const ce=this.baseApis.cryptoCallbacks,_e=new c.EncryptionSetupBuilder(this.baseApis.store.accountData,ce),we=new g.CrossSigningInfo(this.userId,_e.crossSigningCallbacks,_e.crossSigningCallbacks),Oe=async()=>{we.resetKeys(),await this.signObject(we.keys.master),_e.addCrossSigningKeys(z,we.keys);const ye=this.deviceList.getStoredDevice(this.userId,this.deviceId),Te=await we.signDevice(this.userId,ye);_e.addKeySignature(this.userId,this.deviceId,Te),this.backupManager.backupInfo&&(await we.signObject(this.backupManager.backupInfo.auth_data,"master"),_e.addSessionBackup(this.backupManager.backupInfo))},Le=this.crossSigningInfo.getId(),Ue=await this.crossSigningInfo.isStoredInKeyCache(),de=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),fe=Ue||de;i.logger.log({setupNewCrossSigning:oe,publicKeysOnDevice:Le,privateKeysInCache:Ue,privateKeysInStorage:de,privateKeysExistSomewhere:fe}),!fe||oe?(i.logger.log("Cross-signing private keys not found locally or in secret storage, creating new keys"),await Oe()):Le&&Ue?i.logger.log("Cross-signing public keys trusted and private keys found locally"):de&&(i.logger.log("Cross-signing private keys not found locally, but they are available in secret storage, reading storage and caching locally"),await this.checkOwnCrossSigningTrust({allowPrivateKeyRequests:!0}));const Se=_e.crossSigningCallbacks.privateKeys;if(Se.size&&!this.baseApis.cryptoCallbacks.saveCrossSigningKeys){const ye=new h.SecretStorage(_e.accountDataClientAdapter,_e.ssssCryptoCallbacks,void 0);await ye.hasKey()&&(i.logger.log("Storing new cross-signing private keys in secret storage"),await g.CrossSigningInfo.storeInSecretStorage(Se,ye))}await _e.buildOperation().apply(this),await _e.persist(this),i.logger.log("Cross-signing ready")}async bootstrapSecretStorage({createSecretStorageKey:z=async()=>({}),keyBackupInfo:oe,setupNewKeyBackup:ce,setupNewSecretStorage:_e,getKeyBackupPassphrase:we}={}){i.logger.log("Bootstrapping Secure Secret Storage");const Oe=this.baseApis.cryptoCallbacks,Le=new c.EncryptionSetupBuilder(this.baseApis.store.accountData,Oe),Ue=new h.SecretStorage(Le.accountDataClientAdapter,Le.ssssCryptoCallbacks,void 0);let de=null;const fe=async(ie,pe)=>{pe&&(ie.key=pe);const{keyId:be,keyInfo:xe}=await Ue.addKey(h.SECRET_STORAGE_ALGORITHM_V1_AES,ie);return pe&&Le.ssssCryptoCallbacks.addPrivateKey(be,xe,pe),await Ue.setDefaultKeyId(be),be},Se=async(ie,pe)=>{if(!pe.mac){var be,xe;const me=await((be=(xe=this.baseApis.cryptoCallbacks).getSecretStorageKey)===null||be===void 0?void 0:be.call(xe,{keys:{[ie]:pe}},""));if(me){const k=me[1];Le.ssssCryptoCallbacks.addPrivateKey(ie,pe,k);const{iv:O,mac:K}=await(0,N.calculateKeyCheck)(k);pe.iv=O,pe.mac=K,await Le.setAccountData(`m.secret_storage.key.${ie}`,pe)}}},Ee=async ie=>{if(this.crossSigningInfo.getId()&&await this.crossSigningInfo.isStoredInKeyCache("master"))try{i.logger.log("Adding cross-signing signature to key backup"),await this.crossSigningInfo.signObject(ie,"master")}catch(pe){i.logger.error("Signing key backup with cross-signing keys failed",pe)}else i.logger.warn("Cross-signing keys not available, skipping signature on key backup")},ye=await this.getSecretStorageKey(),[Te,Ne]=ye||[null,null],ne=!_e&&Ne&&Ne.algorithm===h.SECRET_STORAGE_ALGORITHM_V1_AES;if(i.logger.log({keyBackupInfo:oe,setupNewKeyBackup:ce,setupNewSecretStorage:_e,storageExists:ne,oldKeyInfo:Ne}),!ne&&!oe){i.logger.log("Secret storage does not exist, creating new storage key");const{keyInfo:ie={},privateKey:pe}=await z();de=await fe(ie,pe)}else if(!ne&&oe){i.logger.log("Secret storage does not exist, using key backup key");const ie=await this.getSessionBackupPrivateKey()||await(we==null?void 0:we()),pe={};oe.auth_data.private_key_salt&&oe.auth_data.private_key_iterations&&(pe.passphrase={algorithm:"m.pbkdf2",iterations:oe.auth_data.private_key_iterations,salt:oe.auth_data.private_key_salt,bits:256}),de=await fe(pe,ie),await Ue.store("m.megolm_backup.v1",l.encodeBase64(ie),[de]),await Ee(oe.auth_data),Le.addSessionBackup(oe)}else i.logger.log("Secret storage exists"),Ne&&Ne.algorithm===h.SECRET_STORAGE_ALGORITHM_V1_AES&&await Se(Te,Ne);if(!this.baseApis.cryptoCallbacks.saveCrossSigningKeys&&await this.isCrossSigningReady()&&(de||!await this.crossSigningInfo.isStoredInSecretStorage(Ue))){i.logger.log("Copying cross-signing private keys from cache to secret storage");const ie=await this.crossSigningInfo.getCrossSigningKeysFromCache();await g.CrossSigningInfo.storeInSecretStorage(ie,Ue)}if(ce&&!oe){i.logger.log("Creating new message key backup version");const ie=await this.baseApis.prepareKeyBackupVersion(null,{secureSecretStorage:!1}),pe=(0,v.decodeRecoveryKey)(ie.recovery_key);await Ue.store("m.megolm_backup.v1",l.encodeBase64(pe));const be={algorithm:ie.algorithm,auth_data:ie.auth_data};await Ee(be.auth_data),await this.signObject(be.auth_data),Le.addSessionBackup(be)}const j=await Ue.get("m.megolm_backup.v1");if(j){i.logger.info("Got session backup key from secret storage: caching");const ie=he(j);if(ie){const be=de||Te;await Ue.store("m.megolm_backup.v1",ie,be?[be]:null)}const pe=new Uint8Array(l.decodeBase64(ie||j));Le.addSessionBackupPrivateKeyToCache(pe)}else if(this.backupManager.getKeyBackupEnabled()){const ie=await this.getSessionBackupPrivateKey()||await(we==null?void 0:we());if(!ie){i.logger.error("Key backup is enabled but couldn't get key backup key!");return}i.logger.info("Got session backup key from cache/user that wasn't in SSSS: saving to SSSS"),await Ue.store("m.megolm_backup.v1",l.encodeBase64(ie))}await Le.buildOperation().apply(this),await Le.persist(this),i.logger.log("Secure Secret Storage ready")}addSecretStorageKey(z,oe,ce){return this.secretStorage.addKey(z,oe,ce)}hasSecretStorageKey(z){return this.secretStorage.hasKey(z)}getSecretStorageKey(z){return this.secretStorage.getKey(z)}storeSecret(z,oe,ce){return this.secretStorage.store(z,oe,ce)}getSecret(z){return this.secretStorage.get(z)}isSecretStored(z){return this.secretStorage.isStored(z)}requestSecret(z,oe){return oe||(oe=Object.keys(this.deviceList.getRawStoredDevicesForUser(this.userId))),this.secretStorage.request(z,oe)}getDefaultSecretStorageKeyId(){return this.secretStorage.getDefaultKeyId()}setDefaultSecretStorageKeyId(z){return this.secretStorage.setDefaultKeyId(z)}checkSecretStorageKey(z,oe){return this.secretStorage.checkKey(z,oe)}checkSecretStoragePrivateKey(z,oe){let ce=null;try{return ce=new Pe.Olm.PkDecryption,ce.init_with_private_key(z)===oe}finally{var _e;(_e=ce)===null||_e===void 0||_e.free()}}async getSessionBackupPrivateKey(){let z=await new Promise(oe=>{this.cryptoStore.doTxn("readonly",[F.IndexedDBCryptoStore.STORE_ACCOUNT],ce=>{this.cryptoStore.getSecretStorePrivateKey(ce,oe,"m.megolm_backup.v1")})});if(z&&typeof z=="string"&&(z=new Uint8Array(l.decodeBase64(he(z)||z)),await this.storeSessionBackupPrivateKey(z)),z&&z.ciphertext){const oe=Wt.Buffer.from(this.olmDevice.pickleKey),ce=await(0,N.decryptAES)(z,oe,"m.megolm_backup.v1");z=l.decodeBase64(ce)}return z}async storeSessionBackupPrivateKey(z){if(!(z instanceof Uint8Array))throw new Error(`storeSessionBackupPrivateKey expects Uint8Array, got ${z}`);const oe=Wt.Buffer.from(this.olmDevice.pickleKey),ce=await(0,N.encryptAES)(l.encodeBase64(z),oe,"m.megolm_backup.v1");return this.cryptoStore.doTxn("readwrite",[F.IndexedDBCryptoStore.STORE_ACCOUNT],_e=>{this.cryptoStore.storeSecretStorePrivateKey(_e,"m.megolm_backup.v1",ce)})}checkCrossSigningPrivateKey(z,oe){let ce=null;try{return ce=new Pe.Olm.PkSigning,ce.init_with_seed(z)===oe}finally{var _e;(_e=ce)===null||_e===void 0||_e.free()}}async afterCrossSigningLocalKeyChange(){i.logger.info("Starting cross-signing key change post-processing");const z=this.deviceList.getStoredDevice(this.userId,this.deviceId),oe=await this.crossSigningInfo.signDevice(this.userId,z);i.logger.info(`Starting background key sig upload for ${this.deviceId}`);const ce=({shouldEmit:we=!1})=>this.baseApis.uploadKeySignatures({[this.userId]:{[this.deviceId]:oe}}).then(Oe=>{const{failures:Le}=Oe||{};if(Object.keys(Le||[]).length>0)throw we&&this.baseApis.emit(L.KeySignatureUploadFailure,Le,"afterCrossSigningLocalKeyChange",ce),new x.KeySignatureUploadError("Key upload failed",{failures:Le});i.logger.info(`Finished background key sig upload for ${this.deviceId}`)}).catch(Oe=>{i.logger.error(`Error during background key sig upload for ${this.deviceId}`,Oe)});ce({shouldEmit:!0});const _e=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(_e){i.logger.info("Starting device verification upgrade");const we={};for(const[Oe,Le]of Object.entries(this.deviceList.crossSigningInfo)){const Ue=await this.checkForDeviceVerificationUpgrade(Oe,g.CrossSigningInfo.fromStorage(Le,Oe));Ue&&(we[Oe]=Ue)}if(Object.keys(we).length>0){i.logger.info(`Found ${Object.keys(we).length} verif users to upgrade`);try{const Oe=await _e({users:we});if(Oe)for(const Le of Oe)Le in we&&await this.baseApis.setDeviceVerified(Le,we[Le].crossSigningInfo.getId())}catch(Oe){i.logger.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",Oe)}}i.logger.info("Finished device verification upgrade")}i.logger.info("Finished cross-signing key change post-processing")}async checkForDeviceVerificationUpgrade(z,oe){const ce=this.crossSigningInfo.checkUserTrust(oe);if(oe.firstUse&&!ce.isVerified()){const _e=this.deviceList.getRawStoredDevicesForUser(z),we=await this.checkForValidDeviceSignature(z,oe.keys.master,_e);if(we.length)return{devices:we.map(Oe=>d.DeviceInfo.fromStorage(_e[Oe],Oe)),crossSigningInfo:oe}}}async checkForValidDeviceSignature(z,oe,ce){const _e=[];if(ce&&oe.signatures&&oe.signatures[z])for(const we of Object.keys(oe.signatures[z])){const[,Oe]=we.split(":",2);if(Oe in ce&&ce[Oe].verified===D.VERIFIED)try{await l.verifySignature(this.olmDevice,oe,z,Oe,ce[Oe].keys[we]),_e.push(Oe)}catch{}}return _e}getCrossSigningId(z){return this.crossSigningInfo.getId(z)}getStoredCrossSigningForUser(z){return this.deviceList.getStoredCrossSigningForUser(z)}checkUserTrust(z){const oe=this.deviceList.getStoredCrossSigningForUser(z);return oe?this.crossSigningInfo.checkUserTrust(oe):new g.UserTrustLevel(!1,!1,!1)}checkDeviceTrust(z,oe){const ce=this.deviceList.getStoredDevice(z,oe);return this.checkDeviceInfoTrust(z,ce)}checkDeviceInfoTrust(z,oe){const ce=!!(oe!=null&&oe.isVerified()),_e=this.deviceList.getStoredCrossSigningForUser(z);if(oe&&_e){const we=this.trustCrossSignedDevices||z===this.userId;return this.crossSigningInfo.checkDeviceTrust(_e,oe,ce,we)}else return new g.DeviceTrustLevel(!1,!1,ce,!1)}checkIfOwnDeviceCrossSigned(z){var oe;const ce=this.deviceList.getStoredDevice(this.userId,z);if(!ce)return!1;const _e=this.deviceList.getStoredCrossSigningForUser(this.userId);return(oe=_e==null?void 0:_e.checkDeviceTrust(_e,ce,!1,!0).isCrossSigningVerified())!==null&&oe!==void 0?oe:!1}async checkOwnCrossSigningTrust({allowPrivateKeyRequests:z=!1}={}){const oe=this.userId;await this.downloadKeys([this.userId]);const ce=await this.crossSigningInfo.getCrossSigningKeysFromCache(),_e=this.deviceList.getStoredCrossSigningForUser(oe);if(!_e){i.logger.error("Got cross-signing update event for user "+oe+" but no new cross-signing information found!");return}const we=_e.getId(),Oe=this.crossSigningInfo.getId()!==we,Le=_e.getId()&&!ce.has("master");if(Oe&&i.logger.info("Got new master public key",we),z&&(Oe||Le)){i.logger.info("Attempting to retrieve cross-signing master private key");let ie=null;try{ie=(await this.crossSigningInfo.getCrossSigningKey("master",we))[1],i.logger.info("Got cross-signing master private key")}finally{var Ue;(Ue=ie)===null||Ue===void 0||Ue.free()}}const de=this.crossSigningInfo.getId("self_signing"),fe=this.crossSigningInfo.getId("user_signing");this.storeTrustedSelfKeys(_e.keys);const Se=de!==_e.getId("self_signing"),Ee=fe!==_e.getId("user_signing"),ye=_e.getId("self_signing")&&!ce.has("self_signing"),Te=_e.getId("user_signing")&&!ce.has("user_signing"),Ne={};if(Se&&i.logger.info("Got new self-signing key",_e.getId("self_signing")),z&&(Se||ye)){i.logger.info("Attempting to retrieve cross-signing self-signing private key");let ie=null;try{ie=(await this.crossSigningInfo.getCrossSigningKey("self_signing",_e.getId("self_signing")))[1],i.logger.info("Got cross-signing self-signing private key")}finally{var ne;(ne=ie)===null||ne===void 0||ne.free()}const pe=this.deviceList.getStoredDevice(this.userId,this.deviceId),be=await this.crossSigningInfo.signDevice(this.userId,pe);Ne[this.deviceId]=be}if(Ee&&i.logger.info("Got new user-signing key",_e.getId("user_signing")),z&&(Ee||Te)){i.logger.info("Attempting to retrieve cross-signing user-signing private key");let ie=null;try{ie=(await this.crossSigningInfo.getCrossSigningKey("user_signing",_e.getId("user_signing")))[1],i.logger.info("Got cross-signing user-signing private key")}finally{var j;(j=ie)===null||j===void 0||j.free()}}if(Oe){const ie=this.crossSigningInfo.keys.master;await this.signObject(ie);const pe=ie.signatures[this.userId]["ed25519:"+this.deviceId];Ne[this.crossSigningInfo.getId()]=Object.assign({},ie,{signatures:{[this.userId]:{["ed25519:"+this.deviceId]:pe}}})}const V=Object.keys(Ne);if(V.length){const ie=({shouldEmit:pe=!1})=>(i.logger.info(`Starting background key sig upload for ${V}`),this.baseApis.uploadKeySignatures({[this.userId]:Ne}).then(be=>{const{failures:xe}=be||{};if(i.logger.info(`Finished background key sig upload for ${V}`),Object.keys(xe||[]).length>0)throw pe&&this.baseApis.emit(L.KeySignatureUploadFailure,xe,"checkOwnCrossSigningTrust",ie),new x.KeySignatureUploadError("Key upload failed",{failures:xe})}).catch(be=>{i.logger.error(`Error during background key sig upload for ${V}`,be)}));ie({shouldEmit:!0})}this.emit(L.UserTrustStatusChanged,oe,this.checkUserTrust(oe)),Oe&&(this.emit(L.KeysChanged,{}),await this.afterCrossSigningLocalKeyChange()),await this.backupManager.checkKeyBackup()}async storeTrustedSelfKeys(z){z?this.crossSigningInfo.setKeys(z):this.crossSigningInfo.clearKeys(),await this.cryptoStore.doTxn("readwrite",[F.IndexedDBCryptoStore.STORE_ACCOUNT],oe=>{this.cryptoStore.storeCrossSigningKeys(oe,this.crossSigningInfo.keys)})}async checkDeviceVerifications(z){const oe=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(oe){if(i.logger.info(`Starting device verification upgrade for ${z}`),this.crossSigningInfo.keys.user_signing){const ce=this.deviceList.getStoredCrossSigningForUser(z);if(ce){const _e=await this.checkForDeviceVerificationUpgrade(z,ce);_e&&(await oe({users:{[z]:_e}})).includes(z)&&await this.baseApis.setDeviceVerified(z,ce.getId())}}i.logger.info(`Finished device verification upgrade for ${z}`)}}enableLazyLoading(){this.lazyLoadMembers=!0}registerEventHandlers(z){z.on(G.RoomMemberEvent.Membership,this.onMembership),z.on(I.ClientEvent.ToDeviceEvent,this.onToDeviceEvent),z.on(P.RoomEvent.Timeline,this.onTimelineEvent),z.on(C.MatrixEventEvent.Decrypted,this.onTimelineEvent)}start(){i.logger.warn("MatrixClient.crypto.start() is deprecated")}stop(){this.outgoingRoomKeyRequestManager.stop(),this.deviceList.stop(),this.dehydrationManager.stop()}getDeviceEd25519Key(){return this.olmDevice.deviceEd25519Key}getDeviceCurve25519Key(){return this.olmDevice.deviceCurve25519Key}setGlobalBlacklistUnverifiedDevices(z){this.globalBlacklistUnverifiedDevices=z}getGlobalBlacklistUnverifiedDevices(){return this.globalBlacklistUnverifiedDevices}uploadDeviceKeys(){const z={algorithms:this.supportedAlgorithms,device_id:this.deviceId,keys:this.deviceKeys,user_id:this.userId};return this.signObject(z).then(()=>this.baseApis.uploadKeysRequest({device_keys:z}))}updateOneTimeKeyCount(z){if(isFinite(z))this.oneTimeKeyCount=z;else throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number")}setNeedsNewFallback(z){this.needsNewFallback=z}getNeedsNewFallback(){return!!this.needsNewFallback}maybeUploadOneTimeKeys(){if(this.oneTimeKeyCheckInProgress)return;const ce=Date.now();if(this.lastOneTimeKeyCheck!==null&&ce-this.lastOneTimeKeyCheck<6e4)return;this.lastOneTimeKeyCheck=ce;const _e=this.olmDevice.maxNumberOfOneTimeKeys(),we=Math.floor(_e/2),Oe=async Le=>{for(;we>Le||this.getNeedsNewFallback();){if(we>Le){i.logger.info("generating oneTimeKeys");const de=Math.min(we-Le,5);await this.olmDevice.generateOneTimeKeys(de)}if(this.getNeedsNewFallback()){const de=await this.olmDevice.getFallbackKey();(!de.curve25519||Object.keys(de.curve25519).length==0)&&(i.logger.info("generating fallback key"),this.fallbackCleanup&&(clearTimeout(this.fallbackCleanup),delete this.fallbackCleanup),await this.olmDevice.generateFallbackKey())}i.logger.info("calling uploadOneTimeKeys");const Ue=await this.uploadOneTimeKeys();if(Ue.one_time_key_counts&&Ue.one_time_key_counts.signed_curve25519)Le=Ue.one_time_key_counts.signed_curve25519;else throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519")}};this.oneTimeKeyCheckInProgress=!0,Promise.resolve().then(()=>this.oneTimeKeyCount!==void 0?Promise.resolve(this.oneTimeKeyCount):this.baseApis.uploadKeysRequest({}).then(Le=>Le.one_time_key_counts.signed_curve25519||0)).then(Le=>Oe(Le)).catch(Le=>{i.logger.error("Error uploading one-time keys",Le.stack||Le)}).finally(()=>{this.oneTimeKeyCount=void 0,this.oneTimeKeyCheckInProgress=!1})}async uploadOneTimeKeys(){const z=[];let oe;if(this.getNeedsNewFallback()){oe={};const Le=await this.olmDevice.getFallbackKey();for(const[Ue,de]of Object.entries(Le.curve25519)){const fe={key:de,fallback:!0};oe["signed_curve25519:"+Ue]=fe,z.push(this.signObject(fe))}this.setNeedsNewFallback(!1)}const ce=await this.olmDevice.getOneTimeKeys(),_e={};for(const Le in ce.curve25519)if(ce.curve25519.hasOwnProperty(Le)){const Ue={key:ce.curve25519[Le]};_e["signed_curve25519:"+Le]=Ue,z.push(this.signObject(Ue))}await Promise.all(z);const we={one_time_keys:_e};oe&&(we["org.matrix.msc2732.fallback_keys"]=oe,we.fallback_keys=oe);const Oe=await this.baseApis.uploadKeysRequest(we);return oe&&(this.fallbackCleanup=setTimeout(()=>{delete this.fallbackCleanup,this.olmDevice.forgetOldFallbackKey()},60*60*1e3)),await this.olmDevice.markKeysAsPublished(),Oe}downloadKeys(z,oe){return this.deviceList.downloadKeys(z,!!oe)}getStoredDevicesForUser(z){return this.deviceList.getStoredDevicesForUser(z)}getStoredDevice(z,oe){return this.deviceList.getStoredDevice(z,oe)}saveDeviceList(z){return this.deviceList.saveIfDirty(z)}async setDeviceVerification(z,oe,ce=null,_e=null,we=null,Oe){const Le=this.deviceList.getStoredCrossSigningForUser(z);if(Le&&Le.getId()===oe){if(_e!==null||we!==null)throw new Error("Cannot set blocked or known for a cross-signing key");if(!ce)throw new Error("Cannot set a cross-signing key as unverified");const ye=Oe?Object.values(Oe)[0]:null;if(Oe&&(Object.values(Oe).length!==1||ye!==Le.getId()))throw new Error(`Key did not match expected value: expected ${Le.getId()}, got ${ye}`);if(!this.crossSigningInfo.getId()&&z===this.crossSigningInfo.userId&&(this.storeTrustedSelfKeys(Le.keys),this.emit(L.UserTrustStatusChanged,this.userId,this.checkUserTrust(z))),z!==this.userId){i.logger.info("Master key "+Le.getId()+" for "+z+" marked verified. Signing...");const Te=await this.crossSigningInfo.signUser(Le);if(Te){const Ne=async({shouldEmit:ne=!1})=>{i.logger.info("Uploading signature for "+z+"...");const j=await this.baseApis.uploadKeySignatures({[z]:{[oe]:Te}}),{failures:V}=j||{};if(Object.keys(V||[]).length>0)throw ne&&this.baseApis.emit(L.KeySignatureUploadFailure,V,"setDeviceVerification",Ne),new x.KeySignatureUploadError("Key upload failed",{failures:V})};await Ne({shouldEmit:!0})}return Te}else return Le}const Ue=this.deviceList.getRawStoredDevicesForUser(z);if(!Ue||!Ue[oe])throw new Error("Unknown device "+z+":"+oe);const de=Ue[oe];let fe=de.verified;if(ce){if(Oe){for(const[ye,Te]of Object.entries(Oe))if(de.keys[ye]!==Te)throw new Error(`Key did not match expected value: expected ${Te}, got ${de.keys[ye]}`)}fe=D.VERIFIED}else ce!==null&&fe==D.VERIFIED&&(fe=D.UNVERIFIED);_e?fe=D.BLOCKED:_e!==null&&fe==D.BLOCKED&&(fe=D.UNVERIFIED);let Se=de.known;if(we!==null&&(Se=we),(de.verified!==fe||de.known!==Se)&&(de.verified=fe,de.known=Se,this.deviceList.storeDevicesForUser(z,Ue),this.deviceList.saveIfDirty()),ce&&z===this.userId){i.logger.info("Own device "+oe+" marked verified: signing");let ye;if(this.checkDeviceTrust(z,oe).isCrossSigningVerified()?i.logger.log(`Own device ${oe} already cross-signing verified`):ye=await this.crossSigningInfo.signDevice(z,d.DeviceInfo.fromStorage(de,oe)),ye){const Ne=async({shouldEmit:ne=!1})=>{i.logger.info("Uploading signature for "+oe);const j=await this.baseApis.uploadKeySignatures({[z]:{[oe]:ye}}),{failures:V}=j||{};if(Object.keys(V||[]).length>0)throw ne&&this.baseApis.emit(L.KeySignatureUploadFailure,V,"setDeviceVerification",Ne),new x.KeySignatureUploadError("Key upload failed",{failures:V})};await Ne({shouldEmit:!0})}}const Ee=d.DeviceInfo.fromStorage(de,oe);return this.emit(L.DeviceVerificationChanged,z,oe,Ee),Ee}findVerificationRequestDMInProgress(z){return this.inRoomVerificationRequests.findRequestInProgress(z)}getVerificationRequestsToDeviceInProgress(z){return this.toDeviceVerificationRequests.getRequestsInProgress(z)}requestVerificationDM(z,oe){const ce=this.inRoomVerificationRequests.findRequestInProgress(oe);if(ce)return Promise.resolve(ce);const _e=new w.InRoomChannel(this.baseApis,oe,z);return this.requestVerificationWithChannel(z,_e,this.inRoomVerificationRequests)}requestVerification(z,oe){oe||(oe=Object.keys(this.deviceList.getRawStoredDevicesForUser(z)));const ce=this.toDeviceVerificationRequests.findRequestInProgress(z,oe);if(ce)return Promise.resolve(ce);const _e=new b.ToDeviceChannel(this.baseApis,z,oe,b.ToDeviceChannel.makeTransactionId());return this.requestVerificationWithChannel(z,_e,this.toDeviceVerificationRequests)}async requestVerificationWithChannel(z,oe,ce){let _e=new y.VerificationRequest(oe,this.verificationMethods,this.baseApis);oe.transactionId&&ce.setRequestByChannel(oe,_e),await _e.sendRequest();const we=ce.getRequestByChannel(oe);return we?_e=we:(i.logger.log(`Crypto: adding new request to requestsByTxnId with id ${oe.transactionId} ${oe.roomId}`),ce.setRequestByChannel(oe,_e)),_e}beginKeyVerification(z,oe,ce,_e=null){let we;if(_e){if(we=this.toDeviceVerificationRequests.getRequestBySenderAndTxnId(oe,_e),!we)throw new Error(`No request found for user ${oe} with transactionId ${_e}`)}else{_e=b.ToDeviceChannel.makeTransactionId();const Oe=new b.ToDeviceChannel(this.baseApis,oe,[ce],_e,ce);we=new y.VerificationRequest(Oe,this.verificationMethods,this.baseApis),this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(oe,_e,we)}return we.beginKeyVerification(z,{userId:oe,deviceId:ce})}async legacyDeviceVerification(z,oe,ce){const _e=b.ToDeviceChannel.makeTransactionId(),we=new b.ToDeviceChannel(this.baseApis,z,[oe],_e,oe),Oe=new y.VerificationRequest(we,this.verificationMethods,this.baseApis);this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(z,_e,Oe);const Le=Oe.beginKeyVerification(ce,{userId:z,deviceId:oe});return await Promise.race([Le.verify(),Oe.waitFor(Ue=>Ue.started)]),Oe}async getOlmSessionsForUser(z){const oe=this.getStoredDevicesForUser(z)||[],ce={};for(const _e of oe){const we=_e.getIdentityKey(),Oe=await this.olmDevice.getSessionInfoForDevice(we);ce[_e.deviceId]={deviceIdKey:we,sessions:Oe}}return ce}getEventSenderDeviceInfo(z){const oe=z.getSenderKey(),ce=z.getWireContent().algorithm;if(!oe||!ce||z.isKeySourceUntrusted())return null;const _e=this.deviceList.getDeviceByIdentityKey(ce,oe);if(_e===null)return null;const we=z.getClaimedEd25519Key();return we?we!==_e.getFingerprint()?(i.logger.warn("Event "+z.getId()+" claims ed25519 key "+we+" but sender device has key "+_e.getFingerprint()),null):_e:(i.logger.warn("Event "+z.getId()+" claims no ed25519 key: cannot verify sending device"),null)}getEventEncryptionInfo(z){var oe,ce;const _e={};if(_e.senderKey=(oe=z.getSenderKey())!==null&&oe!==void 0?oe:void 0,_e.algorithm=z.getWireContent().algorithm,!_e.senderKey||!_e.algorithm)return _e.encrypted=!1,_e;_e.encrypted=!0,z.isKeySourceUntrusted()?_e.authenticated=!1:_e.authenticated=!0,_e.sender=(ce=this.deviceList.getDeviceByIdentityKey(_e.algorithm,_e.senderKey))!==null&&ce!==void 0?ce:void 0;const we=z.getClaimedEd25519Key();return we||(i.logger.warn("Event "+z.getId()+" claims no ed25519 key: cannot verify sending device"),_e.mismatchedSender=!0),_e.sender&&we!==_e.sender.getFingerprint()&&(i.logger.warn("Event "+z.getId()+" claims ed25519 key "+we+"but sender device has key "+_e.sender.getFingerprint()),_e.mismatchedSender=!0),_e}forceDiscardSession(z){const oe=this.roomEncryptors.get(z);if(oe===void 0)throw new Error("Room not encrypted");if(oe.forceDiscardSession===void 0)throw new Error("Room encryption algorithm doesn't support session discarding");oe.forceDiscardSession()}async setRoomEncryption(z,oe,ce){if(!oe.algorithm){i.logger.log("Ignoring setRoomEncryption with no algorithm");return}const _e=this.roomList.getRoomEncryption(z);if(_e&&JSON.stringify(_e)!=JSON.stringify(oe)){i.logger.error("Ignoring m.room.encryption event which requests a change of config in "+z);return}if(this.roomEncryptors.get(z))return;let Oe=null;_e||(Oe=this.roomList.setRoomEncryption(z,oe));const Le=s.ENCRYPTION_CLASSES.get(oe.algorithm);if(!Le)throw new Error("Unable to encrypt with "+oe.algorithm);const Ue=new Le({userId:this.userId,deviceId:this.deviceId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:z,config:oe});this.roomEncryptors.set(z,Ue),Oe&&await Oe,this.lazyLoadMembers?i.logger.log("Enabling encryption in "+z):(i.logger.log("Enabling encryption in "+z+"; starting to track device lists for all users therein"),await this.trackRoomDevices(z),ce||this.deviceList.refreshOutdatedDeviceLists())}trackRoomDevices(z){const oe=async()=>{if(!this.roomEncryptors.has(z))return;const _e=this.clientStore.getRoom(z);if(!_e)throw new Error(`Unable to start tracking devices in unknown room ${z}`);i.logger.log(`Starting to track devices for room ${z} ...`),(await _e.getEncryptionTargetMembers()).forEach(Oe=>{this.deviceList.startTrackingDeviceList(Oe.userId)})};let ce=this.roomDeviceTrackingState[z];return ce||(ce=oe(),this.roomDeviceTrackingState[z]=ce.catch(_e=>{throw delete this.roomDeviceTrackingState[z],_e})),ce}ensureOlmSessionsForUsers(z,oe){const ce={};for(const _e of z){ce[_e]=[];const we=this.getStoredDevicesForUser(_e)||[];for(const Oe of we)Oe.getIdentityKey()!=this.olmDevice.deviceCurve25519Key&&Oe.verified!=D.BLOCKED&&ce[_e].push(Oe)}return l.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,ce,oe)}async exportRoomKeys(){const z=[];return await this.cryptoStore.doTxn("readonly",[F.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],oe=>{this.cryptoStore.getAllEndToEndInboundGroupSessions(oe,ce=>{if(ce===null)return;const _e=this.olmDevice.exportInboundGroupSession(ce.senderKey,ce.sessionId,ce.sessionData);delete _e.first_known_index,_e.algorithm=l.MEGOLM_ALGORITHM,z.push(_e)})}),z}importRoomKeys(z,oe={}){let ce=0,_e=0;const we=z.length;function Oe(){var Le;(Le=oe.progressCallback)===null||Le===void 0||Le.call(oe,{stage:"load_keys",successes:ce,failures:_e,total:we})}return Promise.all(z.map(Le=>!Le.room_id||!Le.algorithm?(i.logger.warn("ignoring room key entry with missing fields",Le),_e++,oe.progressCallback&&Oe(),null):this.getRoomDecryptor(Le.room_id,Le.algorithm).importRoomKey(Le,oe).finally(()=>{ce++,oe.progressCallback&&Oe()}))).then()}countSessionsNeedingBackup(){return this.backupManager.countSessionsNeedingBackup()}prepareToEncrypt(z){const oe=this.roomEncryptors.get(z.roomId);oe&&oe.prepareToEncrypt(z)}async encryptEvent(z,oe){if(!oe)throw new Error("Cannot send encrypted messages in unknown rooms");const ce=z.getRoomId(),_e=this.roomEncryptors.get(ce);if(!_e)throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");this.roomDeviceTrackingState[ce]||this.trackRoomDevices(ce),await this.roomDeviceTrackingState[ce];let we=z.getContent();const Oe=we["m.relates_to"];Oe&&(we=Object.assign({},we),delete we["m.relates_to"]);const Le=we["io.element.performance_metrics"];Le&&(we=Object.assign({},we),delete we["io.element.performance_metrics"]);const Ue=await _e.encryptMessage(oe,z.getType(),we);Oe&&(Ue["m.relates_to"]=Oe),Le&&(Ue["io.element.performance_metrics"]=Le),z.makeEncrypted("m.room.encrypted",Ue,this.olmDevice.deviceCurve25519Key,this.olmDevice.deviceEd25519Key)}async decryptEvent(z){if(z.isRedacted()){const oe=new C.MatrixEvent(T({room_id:z.getRoomId()},z.getUnsigned().redacted_because)),ce=await this.decryptEvent(oe);return{clearEvent:{room_id:z.getRoomId(),type:"m.room.message",content:{},unsigned:{redacted_because:ce.clearEvent}}}}else{const oe=z.getWireContent();return this.getRoomDecryptor(z.getRoomId(),oe.algorithm).decryptEvent(z)}}async handleDeviceListChanges(z,oe){z.oldSyncToken&&await this.evalDeviceListChanges(oe)}requestRoomKey(z,oe,ce=!1){return this.outgoingRoomKeyRequestManager.queueRoomKeyRequest(z,oe,ce).then(()=>{this.sendKeyRequestsImmediately&&this.outgoingRoomKeyRequestManager.sendQueuedRequests()}).catch(_e=>{i.logger.error("Error requesting key for event",_e)})}cancelRoomKeyRequest(z){this.outgoingRoomKeyRequestManager.cancelRoomKeyRequest(z).catch(oe=>{i.logger.warn("Error clearing pending room key requests",oe)})}async cancelAndResendAllOutgoingKeyRequests(){await this.outgoingRoomKeyRequestManager.cancelAndResendAllOutgoingRequests()}async onCryptoEvent(z){const oe=z.getRoomId(),ce=z.getContent();try{await this.setRoomEncryption(oe,ce,!0)}catch(_e){i.logger.error(`Error configuring encryption in room ${oe}`,_e)}}async onSyncWillProcess(z){z.oldSyncToken||(i.logger.log("Initial sync performed - resetting device tracking state"),this.deviceList.stopTrackingAllDeviceLists(),this.deviceList.startTrackingDeviceList(this.userId),this.roomDeviceTrackingState={}),this.sendKeyRequestsImmediately=!1}async onSyncCompleted(z){var oe;this.deviceList.setSyncToken((oe=z.nextSyncToken)!==null&&oe!==void 0?oe:null),this.deviceList.saveIfDirty(),this.deviceList.startTrackingDeviceList(this.userId),this.deviceList.refreshOutdatedDeviceLists(),z.catchingUp||(this.maybeUploadOneTimeKeys(),this.processReceivedRoomKeyRequests(),this.outgoingRoomKeyRequestManager.sendQueuedRequests(),this.sendKeyRequestsImmediately=!0)}async evalDeviceListChanges(z){if(z.changed&&Array.isArray(z.changed)&&z.changed.forEach(oe=>{this.deviceList.invalidateUserDeviceList(oe)}),z.left&&Array.isArray(z.left)&&z.left.length){const oe=new Set(await this.getTrackedE2eUsers());z.left.forEach(ce=>{oe.has(ce)||this.deviceList.stopTrackingDeviceList(ce)})}}async getTrackedE2eUsers(){const z=[];for(const oe of this.getTrackedE2eRooms()){const ce=await oe.getEncryptionTargetMembers();for(const _e of ce)z.push(_e.userId)}return z}getTrackedE2eRooms(){return this.clientStore.getRooms().filter(z=>{if(!this.roomEncryptors.get(z.roomId)||!this.roomDeviceTrackingState[z.roomId])return!1;const ce=z.getMyMembership();return ce==="join"||ce==="invite"})}async encryptAndSendToDevices(z,oe){const ce={eventType:r.EventType.RoomMessageEncrypted,batch:[]};try{await Promise.all(z.map(async({userId:_e,deviceInfo:we})=>{const Oe=we.deviceId,Le={algorithm:l.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};ce.batch.push({userId:_e,deviceId:Oe,payload:Le}),await l.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[_e]:[we]}),await l.encryptMessageForDevice(Le.ciphertext,this.userId,this.deviceId,this.olmDevice,_e,we,oe)})),ce.batch=ce.batch.filter(_e=>Object.keys(_e.payload.ciphertext).length>0?!0:(i.logger.log(`No ciphertext for device ${_e.userId}:${_e.deviceId}: pruning`),!1));try{await this.baseApis.queueToDevice(ce)}catch(_e){throw i.logger.error("sendToDevice failed",_e),_e}}catch(_e){throw i.logger.error("encryptAndSendToDevices promises failed",_e),_e}}onRoomKeyEvent(z){const oe=z.getContent();if(!oe.room_id||!oe.algorithm){i.logger.error("key event is missing fields");return}this.backupManager.checkedForBackup||this.backupManager.checkAndStart(),this.getRoomDecryptor(oe.room_id,oe.algorithm).onRoomKeyEvent(z)}onRoomKeyWithheldEvent(z){const oe=z.getContent();if(oe.code!=="m.no_olm"&&(!oe.room_id||!oe.session_id)||!oe.algorithm||!oe.sender_key){i.logger.error("key withheld event is missing fields");return}i.logger.info(`Got room key withheld event from ${z.getSender()} for ${oe.algorithm} session ${oe.sender_key}|${oe.session_id} in room ${oe.room_id} with code ${oe.code} (${oe.reason})`);const ce=this.getRoomDecryptor(oe.room_id,oe.algorithm);if(ce.onRoomKeyWithheldEvent&&ce.onRoomKeyWithheldEvent(z),!oe.room_id){const _e=this.getRoomDecryptors(oe.algorithm);for(const we of _e)we.retryDecryptionFromSender(oe.sender_key)}}onKeyVerificationMessage(z){if(!b.ToDeviceChannel.validateEvent(z,this.baseApis))return;const oe=ce=>{if(!b.ToDeviceChannel.canCreateRequest(b.ToDeviceChannel.getEventType(ce)))return;const _e=ce.getContent(),we=_e&&_e.from_device;if(!we)return;const Oe=ce.getSender(),Le=new b.ToDeviceChannel(this.baseApis,Oe,[we]);return new y.VerificationRequest(Le,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(z,this.toDeviceVerificationRequests,oe)}async handleVerificationEvent(z,oe,ce,_e=!0){if(z.isSending()&&z.status!=C.EventStatus.SENT){let Ue,de;try{await new Promise((fe,Se)=>{Ue=fe,de=()=>{z.status==C.EventStatus.CANCELLED&&Se(new Error("Event status set to CANCELLED."))},z.once(C.MatrixEventEvent.LocalEventIdReplaced,Ue),z.on(C.MatrixEventEvent.Status,de)})}catch(fe){i.logger.error("error while waiting for the verification event to be sent: ",fe);return}finally{z.removeListener(C.MatrixEventEvent.LocalEventIdReplaced,Ue),z.removeListener(C.MatrixEventEvent.Status,de)}}let we=oe.getRequest(z),Oe=!1;if(!we){if(we=ce(z),!we){i.logger.log(`Crypto: could not find VerificationRequest for ${z.getType()}, and could not create one, so ignoring.`);return}Oe=!0,oe.setRequest(z,we)}z.setVerificationRequest(we);try{await we.channel.handleEvent(z,we,_e)}catch(Ue){i.logger.error("error while handling verification event",Ue)}Oe&&!we.initiatedByMe&&!we.invalid&&!we.observeOnly&&this.baseApis.emit(L.VerificationRequest,we)}async onToDeviceBadEncrypted(z){const oe=z.getWireContent(),ce=z.getSender(),_e=oe.algorithm,we=oe.sender_key,Oe=()=>{const Ee=this.getRoomDecryptors(l.MEGOLM_ALGORITHM);for(const ye of Ee)ye.retryDecryptionFromSender(we)};if(ce===void 0||we===void 0||we===void 0)return;this.lastNewSessionForced[ce]=this.lastNewSessionForced[ce]||{};const Le=this.lastNewSessionForced[ce][we]||0;if(Le+Q>Date.now()){i.logger.debug("New session already forced with device "+ce+":"+we+" at "+Le+": not forcing another"),await this.olmDevice.recordSessionProblem(we,"wedged",!0),Oe();return}let Ue=this.deviceList.getDeviceByIdentityKey(_e,we);if(!Ue&&(await this.downloadKeys([ce],!1),Ue=this.deviceList.getDeviceByIdentityKey(_e,we),!Ue)){i.logger.info("Couldn't find device for identity key "+we+": not re-establishing session"),await this.olmDevice.recordSessionProblem(we,"wedged",!1),Oe();return}const de={};de[ce]=[Ue],await l.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,de,!0),this.lastNewSessionForced[ce][we]=Date.now();const fe={algorithm:l.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await l.encryptMessageForDevice(fe.ciphertext,this.userId,this.deviceId,this.olmDevice,ce,Ue,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(we,"wedged",!0),Oe(),await this.baseApis.sendToDevice("m.room.encrypted",{[ce]:{[Ue.deviceId]:fe}});const Se=await this.outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(ce,Ue.deviceId);for(const Ee of Se)this.requestRoomKey(Ee.requestBody,Ee.recipients,!0)}onRoomMembership(z,oe,ce){const _e=oe.roomId,we=this.roomEncryptors.get(_e);if(we){if(_e in this.roomDeviceTrackingState){var Oe;oe.membership=="join"?(i.logger.log("Join event for "+oe.userId+" in "+_e),this.deviceList.startTrackingDeviceList(oe.userId)):oe.membership=="invite"&&(Oe=this.clientStore.getRoom(_e))!==null&&Oe!==void 0&&Oe.shouldEncryptForInvitedMembers()&&(i.logger.log("Invite event for "+oe.userId+" in "+_e),this.deviceList.startTrackingDeviceList(oe.userId))}we.onRoomMembership(z,oe,ce)}}onRoomKeyRequestEvent(z){const oe=z.getContent();if(oe.action==="request"){const ce=new De(z);this.receivedRoomKeyRequests.push(ce)}else if(oe.action==="request_cancellation"){const ce=new ke(z);this.receivedRoomKeyRequestCancellations.push(ce)}}async processReceivedRoomKeyRequests(){if(!this.processingRoomKeyRequests){this.processingRoomKeyRequests=!0;try{const z=this.receivedRoomKeyRequests;this.receivedRoomKeyRequests=[];const oe=this.receivedRoomKeyRequestCancellations;this.receivedRoomKeyRequestCancellations=[],await Promise.all(z.map(ce=>this.processReceivedRoomKeyRequest(ce))),await Promise.all(oe.map(ce=>this.processReceivedRoomKeyRequestCancellation(ce)))}catch(z){i.logger.error(`Error processing room key requsts: ${z}`)}finally{this.processingRoomKeyRequests=!1}}}async processReceivedRoomKeyRequest(z){const oe=z.userId,ce=z.deviceId,_e=z.requestBody,we=_e.room_id,Oe=_e.algorithm;if(i.logger.log(`m.room_key_request from ${oe}:${ce} for ${we} / ${_e.session_id} (id ${z.requestId})`),oe!==this.userId){if(!this.roomEncryptors.get(we)){i.logger.debug(`room key request for unencrypted room ${we}`);return}const Ue=this.roomEncryptors.get(we),de=this.deviceList.getStoredDevice(oe,ce);if(!de){i.logger.debug(`Ignoring keyshare for unknown device ${oe}:${ce}`);return}try{await Ue.reshareKeyWithDevice(_e.sender_key,_e.session_id,oe,de)}catch(fe){i.logger.warn("Failed to re-share keys for session "+_e.session_id+" with device "+oe+":"+de.deviceId,fe)}return}if(ce===this.deviceId){i.logger.log("Ignoring room key request from ourselves");return}if(!this.roomDecryptors.has(we)){i.logger.log(`room key request for unencrypted room ${we}`);return}const Le=this.roomDecryptors.get(we).get(Oe);if(!Le){i.logger.log(`room key request for unknown alg ${Oe} in room ${we}`);return}if(!await Le.hasKeysForKeyRequest(z)){i.logger.log(`room key request for unknown session ${we} / `+_e.session_id);return}if(z.share=()=>{Le.shareKeysWithDevice(z)},this.checkDeviceTrust(oe,ce).isVerified()){i.logger.log("device is already verified: sharing keys"),z.share();return}this.emit(L.RoomKeyRequest,z)}async processReceivedRoomKeyRequestCancellation(z){i.logger.log(`m.room_key_request cancellation for ${z.userId}:${z.deviceId} (id ${z.requestId})`),this.emit(L.RoomKeyRequestCancellation,z)}getRoomDecryptor(z,oe){let ce,_e;if(z&&(ce=this.roomDecryptors.get(z),ce||(ce=new Map,this.roomDecryptors.set(z,ce)),_e=ce.get(oe),_e))return _e;const we=s.DECRYPTION_CLASSES.get(oe);if(!we)throw new s.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+oe+'".');return _e=new we({userId:this.userId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:z??void 0}),ce&&ce.set(oe,_e),_e}getRoomDecryptors(z){const oe=[];for(const ce of this.roomDecryptors.values())ce.has(z)&&oe.push(ce.get(z));return oe}async signObject(z){const oe=z.signatures||{},ce=z.unsigned;delete z.signatures,delete z.unsigned,oe[this.userId]=oe[this.userId]||{},oe[this.userId]["ed25519:"+this.deviceId]=await this.olmDevice.sign(n.default.stringify(z)),z.signatures=oe,ce!==void 0&&(z.unsigned=ce)}}cr.Crypto=le;function he(W){if(typeof W!="string"||W.indexOf(",")<0)return null;const z=Uint8Array.from(W.split(","),oe=>parseInt(oe));return l.encodeBase64(z)}class De{constructor(z){(0,e.default)(this,"userId",void 0),(0,e.default)(this,"deviceId",void 0),(0,e.default)(this,"requestId",void 0),(0,e.default)(this,"requestBody",void 0),(0,e.default)(this,"share",void 0);const oe=z.getContent();this.userId=z.getSender(),this.deviceId=oe.requesting_device_id,this.requestId=oe.request_id,this.requestBody=oe.body||{},this.share=()=>{throw new Error("don't know how to share keys for this request yet")}}}cr.IncomingRoomKeyRequest=De;class ke{constructor(z){(0,e.default)(this,"userId",void 0),(0,e.default)(this,"deviceId",void 0),(0,e.default)(this,"requestId",void 0);const oe=z.getContent();this.userId=z.getSender(),this.deviceId=oe.requesting_device_id,this.requestId=oe.request_id}}return cr}var Od={},Bd={},kS;function mH(){if(kS)return Bd;kS=1;var t=ze.exports;Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.EventContext=void 0;var e=t(Je()),n=Oo();class r{constructor(i){this.ourEvent=i,(0,e.default)(this,"timeline",void 0),(0,e.default)(this,"ourEventIndex",0),(0,e.default)(this,"paginateTokens",{[n.Direction.Backward]:null,[n.Direction.Forward]:null}),this.timeline=[i]}getEvent(){return this.timeline[this.ourEventIndex]}getTimeline(){return this.timeline}getOurEventIndex(){return this.ourEventIndex}getPaginateToken(i=!1){return this.paginateTokens[i?n.Direction.Backward:n.Direction.Forward]}setPaginateToken(i,a=!1){this.paginateTokens[a?n.Direction.Backward:n.Direction.Forward]=i??null}addEvents(i,a=!1){a?(this.timeline=i.concat(this.timeline),this.ourEventIndex+=i.length):this.timeline=this.timeline.concat(i)}}return Bd.EventContext=r,Bd}var SS;function FH(){if(SS)return Od;SS=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.SearchResult=void 0;var t=mH();class e{static fromJson(r,o){const i=r.context||{};let a=(i.events_before||[]).map(o),l=(i.events_after||[]).map(o);const u=new t.EventContext(o(r.result)),d=u.ourEvent.threadRootId;return a=a.filter(s=>s.threadRootId===d),l=l.filter(s=>s.threadRootId===d),u.setPaginateToken(i.start,!0),u.addEvents(a,!0),u.addEvents(l,!1),u.setPaginateToken(i.end,!1),new e(r.rank,u)}constructor(r,o){this.rank=r,this.context=o}}return Od.SearchResult=e,Od}var $l={},xS;function _H(){if(xS)return $l;xS=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.CrossSigningKey=void 0;let t;return $l.CrossSigningKey=t,function(e){e.Master="master",e.SelfSigning="self_signing",e.UserSigning="user_signing"}(t||($l.CrossSigningKey=t={})),$l}var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.Visibility=Yt.RestrictedAllowType=Yt.Preset=Yt.JoinRule=Yt.HistoryVisibility=Yt.GuestAccess=void 0;let ey;Yt.Visibility=ey;(function(t){t.Public="public",t.Private="private"})(ey||(Yt.Visibility=ey={}));let ty;Yt.Preset=ty;(function(t){t.PrivateChat="private_chat",t.TrustedPrivateChat="trusted_private_chat",t.PublicChat="public_chat"})(ty||(Yt.Preset=ty={}));let ny;Yt.JoinRule=ny;(function(t){t.Public="public",t.Invite="invite",t.Private="private",t.Knock="knock",t.Restricted="restricted"})(ny||(Yt.JoinRule=ny={}));let ry;Yt.RestrictedAllowType=ry;(function(t){t.RoomMembership="m.room_membership"})(ry||(Yt.RestrictedAllowType=ry={}));let oy;Yt.GuestAccess=oy;(function(t){t.CanJoin="can_join",t.Forbidden="forbidden"})(oy||(Yt.GuestAccess=oy={}));let iy;Yt.HistoryVisibility=iy;(function(t){t.Invited="invited",t.Joined="joined",t.Shared="shared",t.WorldReadable="world_readable"})(iy||(Yt.HistoryVisibility=iy={}));var c1={},CS;function vH(){if(CS)return c1;CS=1;var t=ze.exports;Object.defineProperty(c1,"__esModule",{value:!0}),c1.eventMapperFor=i;var e=t(Je()),n=Kn();function r(a,l){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);l&&(d=d.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),u.push.apply(u,d)}return u}function o(a){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?r(Object(u),!0).forEach(function(d){(0,e.default)(a,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(u,d))})}return a}function i(a,l){let u=Boolean(l.preventReEmit);const d=l.decrypt!==!1;function s(g){l.toDevice&&delete g.room_id;const c=a.getRoom(g.room_id);let h;c&&g.state_key===void 0&&(h=c.findEventById(g.event_id)),!h||h.status?h=new n.MatrixEvent(g):(h.setUnsigned(o(o({},h.getUnsigned()),g.unsigned)),u=!0);const _=c==null?void 0:c.findThreadForEvent(h);return _&&h.setThread(_),h.isEncrypted()&&(u||a.reEmitter.reEmit(h,[n.MatrixEventEvent.Decrypted]),d&&a.decryptEventIfNeeded(h)),u||(a.reEmitter.reEmit(h,[n.MatrixEventEvent.Replaced,n.MatrixEventEvent.VisibilityChange]),c==null||c.reEmitter.reEmit(h,[n.MatrixEventEvent.BeforeRedaction])),h}return s}return c1}var Ho={},Pd={},TS;function yH(){if(TS)return Pd;TS=1;var t=ze.exports;Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.MSC3089Branch=void 0;var e=t(Je()),n=et,r=Oo();function o(l,u){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);u&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),d.push.apply(d,s)}return d}function i(l){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?o(Object(d),!0).forEach(function(s){(0,e.default)(l,s,d[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):o(Object(d)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(d,s))})}return l}let a=class{constructor(u,d,s){this.client=u,this.indexEvent=d,this.directory=s}get id(){const u=this.indexEvent.getStateKey();if(!u)throw new Error("State key not found for branch");return u}get isActive(){return this.indexEvent.getContent().active===!0}get version(){var u;return(u=this.indexEvent.getContent().version)!==null&&u!==void 0?u:1}get roomId(){return this.indexEvent.getRoomId()}async delete(){await this.client.sendStateEvent(this.roomId,n.UNSTABLE_MSC3089_BRANCH.name,{},this.id),await this.client.redactEvent(this.roomId,this.id);const u=(await this.getVersionHistory())[1];u&&await u.delete()}getName(){return this.indexEvent.getContent().name||"Unnamed File"}async setName(u){await this.client.sendStateEvent(this.roomId,n.UNSTABLE_MSC3089_BRANCH.name,i(i({},this.indexEvent.getContent()),{},{name:u}),this.id)}isLocked(){return this.indexEvent.getContent().locked||!1}async setLocked(u){await this.client.sendStateEvent(this.roomId,n.UNSTABLE_MSC3089_BRANCH.name,i(i({},this.indexEvent.getContent()),{},{locked:u}),this.id)}async getFileInfo(){const d=(await this.getFileEvent()).getOriginalContent().file,s=this.client.mxcUrlToHttp(d.url);if(!s)throw new Error(`No HTTP URL available for ${d.url}`);return{info:d,httpUrl:s}}async getFileEvent(){const u=this.client.getRoom(this.roomId);if(!u)throw new Error("Unknown room");let d=u.getUnfilteredTimelineSet().findEventById(this.id);for(;!d&&u.getLiveTimeline().getState(r.EventTimeline.BACKWARDS).paginationToken;)await this.client.scrollback(u,100),d=u.getUnfilteredTimelineSet().findEventById(this.id);if(!d)throw new Error("Failed to find event");return await this.client.decryptEventIfNeeded(d,{emit:!0,isRetry:!0}),d}async createNewVersion(u,d,s,g){const c=await this.directory.createFile(u,d,s,i(i({},g??{}),{},{"m.new_content":!0,"m.relates_to":{rel_type:n.RelationType.Replace,event_id:this.id}}));return await this.client.sendStateEvent(this.roomId,n.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:u,version:this.version+1},c.event_id),await this.client.sendStateEvent(this.roomId,n.UNSTABLE_MSC3089_BRANCH.name,i(i({},this.indexEvent.getContent()),{},{active:!1}),this.id),c}async getVersionHistory(){const u=[];u.push(this);const d=this.client.getRoom(this.roomId);if(!d)throw new Error("Invalid or unknown room");const s=[...d.getLiveTimeline().getEvents()].reverse();let g,c=await this.getFileEvent();do if(g=s.find(h=>h.replacingEventId()===c.getId()),g){const h=this.directory.getFile(g.getId());if(h)u.push(h),c=g;else break}while(g);return u}};return Pd.MSC3089Branch=a,Pd}var IS;function bH(){if(IS)return Ho;IS=1;var t=ze.exports;Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.TreePermissions=Ho.MSC3089TreeSpace=Ho.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=void 0;var e=t(Je()),n=t(BR()),r=et,o=lt(),i=tt,a=yH(),l=vA();function u(h,_){var F=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);_&&(m=m.filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable})),F.push.apply(F,m)}return F}function d(h){for(var _=1;_<arguments.length;_++){var F=arguments[_]!=null?arguments[_]:{};_%2?u(Object(F),!0).forEach(function(m){(0,e.default)(h,m,F[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(F)):u(Object(F)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(F,m))})}return h}const s={invite:100,kick:100,ban:100,redact:50,state_default:50,events_default:50,users_default:0,events:{[r.EventType.RoomPowerLevels]:100,[r.EventType.RoomHistoryVisibility]:100,[r.EventType.RoomTombstone]:100,[r.EventType.RoomEncryption]:100,[r.EventType.RoomName]:50,[r.EventType.RoomMessage]:50,[r.EventType.RoomMessageEncrypted]:50,[r.EventType.Sticker]:50},users:{}};Ho.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=s;let g;Ho.TreePermissions=g,function(h){h.Viewer="viewer",h.Editor="editor",h.Owner="owner"}(g||(Ho.TreePermissions=g={}));let c=class{constructor(_,F){if(this.client=_,this.roomId=F,(0,e.default)(this,"room",void 0),this.room=this.client.getRoom(this.roomId),!this.room)throw new Error("Unknown room")}get id(){return this.roomId}get isTopLevel(){const _=this.room.currentState.getStateEvents(r.EventType.SpaceParent);return _!=null&&_.length?_.every(F=>{var m;return!((m=F.getContent())!==null&&m!==void 0&&m.via)}):!0}async setName(_){await this.client.sendStateEvent(this.roomId,r.EventType.RoomName,{name:_},"")}async invite(_,F=!0,m=!0){const p=[this.retryInvite(_)];return F&&p.push(...this.getDirectories().map(f=>f.invite(_,F,m))),Promise.all(p).then(()=>{m&&(0,l.isRoomSharedHistory)(this.room)&&this.client.sendSharedHistoryKeys(this.roomId,[_])})}retryInvite(_){return(0,i.simpleRetryOperation)(async()=>{await this.client.invite(this.roomId,_).catch(F=>{throw(F==null?void 0:F.errcode)==="M_FORBIDDEN"?new n.default.AbortError(F):F})})}async setPermissions(_,F){var m;const p=this.room.currentState.getStateEvents(r.EventType.RoomPowerLevels,"");if(Array.isArray(p))throw new Error("Unexpected return type for power levels");const f=(p==null?void 0:p.getContent())||{},v=f.users_default||0,y=f.events_default||50,w=((m=f.events)===null||m===void 0?void 0:m[r.EventType.RoomPowerLevels])||100,b=f.users||{};switch(F){case g.Viewer:b[_]=v;break;case g.Editor:b[_]=y;break;case g.Owner:b[_]=w;break;default:throw new Error("Invalid role: "+F)}f.users=b,await this.client.sendStateEvent(this.roomId,r.EventType.RoomPowerLevels,f,"")}getPermissions(_){var F,m;const p=this.room.currentState.getStateEvents(r.EventType.RoomPowerLevels,"");if(Array.isArray(p))throw new Error("Unexpected return type for power levels");const f=(p==null?void 0:p.getContent())||{},v=f.users_default||0,y=f.events_default||50,w=((F=f.events)===null||F===void 0?void 0:F[r.EventType.RoomPowerLevels])||100,b=((m=f.users)===null||m===void 0?void 0:m[_])||v;return b>=w?g.Owner:b>=y?g.Editor:g.Viewer}async createDirectory(_){const F=await this.client.unstableCreateFileTree(_);return await this.client.sendStateEvent(this.roomId,r.EventType.SpaceChild,{via:[this.client.getDomain()]},F.roomId),await this.client.sendStateEvent(F.roomId,r.EventType.SpaceParent,{via:[this.client.getDomain()]},this.roomId),F}getDirectories(){const _=[],F=this.room.currentState.getStateEvents(r.EventType.SpaceChild);for(const m of F)try{const p=m.getStateKey();if(p){const f=this.client.unstableGetFileTreeSpace(p);f&&_.push(f)}}catch(p){o.logger.warn("Unable to create tree space instance for listing. Are we joined?",p)}return _}getDirectory(_){return this.getDirectories().find(F=>F.roomId===_)}async delete(){const _=this.getDirectories();for(const p of _)await p.delete();const F=["invite","knock","join"],m=this.room.currentState.getStateEvents(r.EventType.RoomMember);for(const p of m)if(p.getStateKey()!==this.client.getUserId()&&F.includes(p.getContent().membership)){const v=p.getStateKey();if(!v)throw new Error("State key not found for branch");await this.client.kick(this.roomId,v,"Room deleted")}await this.client.leave(this.roomId)}getOrderedChildren(_){const F=_.map(m=>({roomId:m.getStateKey(),order:m.getContent().order})).filter(m=>m.roomId);return F.sort((m,p)=>{if(m.order&&!p.order)return-1;if(!m.order&&p.order)return 1;if(!m.order&&!p.order){var f,v,y,w;const b=this.client.getRoom(m.roomId),S=this.client.getRoom(p.roomId);if(!b||!S)return(0,i.lexicographicCompare)(m.roomId,p.roomId);const x=(f=(v=b.currentState.getStateEvents(r.EventType.RoomCreate,""))===null||v===void 0?void 0:v.getTs())!==null&&f!==void 0?f:0,N=(y=(w=S.currentState.getStateEvents(r.EventType.RoomCreate,""))===null||w===void 0?void 0:w.getTs())!==null&&y!==void 0?y:0;return x===N?(0,i.lexicographicCompare)(m.roomId,p.roomId):x-N}else return(0,i.lexicographicCompare)(m.order,p.order)}),F}getParentRoom(){const F=this.room.currentState.getStateEvents(r.EventType.SpaceParent)[0];if(!F)throw new Error("Expected to have a parent in a non-top level space");const m=F.getStateKey();if(!m)throw new Error("No state key found for parent");const p=this.client.getRoom(m);if(!p)throw new Error("Unable to locate room for parent");return p}getOrder(){if(this.isTopLevel)return-1;const F=this.getParentRoom().currentState.getStateEvents(r.EventType.SpaceChild);return this.getOrderedChildren(F).findIndex(p=>p.roomId===this.roomId)}async setOrder(_){var F;if(this.isTopLevel)throw new Error("Cannot set order of top level spaces currently");const m=this.getParentRoom(),p=m.currentState.getStateEvents(r.EventType.SpaceChild),f=this.getOrderedChildren(p);_=Math.max(Math.min(_,f.length-1),0);const y=this.getOrder()<_;y&&_===f.length-1?_--:!y&&_===0&&_++;const w=f[y?_:_-1],b=f[y?_+1:_];let S=i.DEFAULT_ALPHABET[0],x=!1;if(!w)b!=null&&b.order&&(S=(0,i.prevString)(b.order));else if(_===f.length-1)b!=null&&b.order&&(S=(0,i.nextString)(b.order));else{const P=w==null?void 0:w.order,G=b==null?void 0:b.order;P&&G?P===G?S=(0,i.nextString)(P):S=(0,i.averageBetweenStrings)(P,G):P?S=(0,i.nextString)(P):G?S=(0,i.prevString)(G):x=!0}if(x){let P;for(let G=0;G<=_;G++){const C=f[G];if(G===0&&(P=C.order),C.order)P=C.order;else{var N;P=P?(0,i.nextString)(P):i.DEFAULT_ALPHABET[0];const I=m.currentState.getStateEvents(r.EventType.SpaceChild,C.roomId),M=(N=I==null?void 0:I.getContent())!==null&&N!==void 0?N:{via:[this.client.getDomain()]};await this.client.sendStateEvent(m.roomId,r.EventType.SpaceChild,d(d({},M),{},{order:P}),C.roomId)}}P&&(S=(0,i.nextString)(P))}const U=m.currentState.getStateEvents(r.EventType.SpaceChild,this.roomId),q=(F=U==null?void 0:U.getContent())!==null&&F!==void 0?F:{via:[this.client.getDomain()]};await this.client.sendStateEvent(m.roomId,r.EventType.SpaceChild,d(d({},q),{},{order:S}),this.roomId)}async createFile(_,F,m,p){var f;const{content_uri:v}=await this.client.uploadContent(F,{includeFilename:!1});m.url=v;const y={msgtype:r.MsgType.File,body:_,url:v,file:m};p=(f=p)!==null&&f!==void 0?f:{},p["m.new_content"]&&(p["m.new_content"]=y);const w=await this.client.sendMessage(this.roomId,d(d(d({},p),y),{},{[r.UNSTABLE_MSC3089_LEAF.name]:{}}));return await this.client.sendStateEvent(this.roomId,r.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:_},w.event_id),w}getFile(_){const F=this.room.currentState.getStateEvents(r.UNSTABLE_MSC3089_BRANCH.name,_);return F?new a.MSC3089Branch(this.client,F,this):null}listFiles(){return this.listAllFiles().filter(_=>_.isActive)}listAllFiles(){var _;return((_=this.room.currentState.getStateEvents(r.UNSTABLE_MSC3089_BRANCH.name))!==null&&_!==void 0?_:[]).map(m=>new a.MSC3089Branch(this.client,m,this))}};return Ho.MSC3089TreeSpace=c,Ho}var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.SearchOrderBy=void 0;var RS;(function(t){t.RoomId="room_id",t.Sender="sender"})(RS||(RS={}));let ay;Bc.SearchOrderBy=ay;(function(t){t.Recent="recent",t.Rank="rank"})(ay||(Bc.SearchOrderBy=ay={}));var ua={},AS;function EH(){if(AS)return ua;AS=1;var t=ze.exports;Object.defineProperty(ua,"__esModule",{value:!0}),ua.MediaHandlerEvent=ua.MediaHandler=void 0;var e=t(Je()),n=un(),r=Ac(),o=lt();let i;ua.MediaHandlerEvent=i,function(l){l.LocalStreamsChanged="local_streams_changed"}(i||(ua.MediaHandlerEvent=i={}));class a extends n.TypedEventEmitter{constructor(u){super(),this.client=u,(0,e.default)(this,"audioInput",void 0),(0,e.default)(this,"audioSettings",void 0),(0,e.default)(this,"videoInput",void 0),(0,e.default)(this,"localUserMediaStream",void 0),(0,e.default)(this,"userMediaStreams",[]),(0,e.default)(this,"screensharingStreams",[])}restoreMediaSettings(u,d){this.audioInput=u,this.videoInput=d}async setAudioInput(u){o.logger.info("Setting audio input to",u),this.audioInput!==u&&(this.audioInput=u,await this.updateLocalUsermediaStreams())}async setAudioSettings(u){o.logger.info("Setting audio settings to",u),this.audioSettings=Object.assign({},u),await this.updateLocalUsermediaStreams()}async setVideoInput(u){o.logger.info("Setting video input to",u),this.videoInput!==u&&(this.videoInput=u,await this.updateLocalUsermediaStreams())}async setMediaInputs(u,d){o.logger.log(`mediaHandler setMediaInputs audioInput: ${u} videoInput: ${d}`),this.audioInput=u,this.videoInput=d,await this.updateLocalUsermediaStreams()}async updateLocalUsermediaStreams(){if(this.userMediaStreams.length===0)return;const u=new Map;for(const d of this.client.callEventHandler.calls.values())u.set(d.callId,{audio:d.hasLocalUserMediaAudioTrack,video:d.hasLocalUserMediaVideoTrack});for(const d of this.userMediaStreams){o.logger.log(`mediaHandler stopping all tracks for stream ${d.id}`);for(const s of d.getTracks())s.stop()}this.userMediaStreams=[],this.localUserMediaStream=void 0;for(const d of this.client.callEventHandler.calls.values()){if(d.callHasEnded()||!u.has(d.callId))continue;const{audio:s,video:g}=u.get(d.callId);o.logger.log(`mediaHandler updateLocalUsermediaStreams getUserMediaStream call ${d.callId}`);const c=await this.getUserMediaStream(s,g);d.callHasEnded()||await d.updateLocalUsermediaStream(c)}for(const d of this.client.groupCallEventHandler.groupCalls.values()){if(!d.localCallFeed)continue;o.logger.log(`mediaHandler updateLocalUsermediaStreams getUserMediaStream groupCall ${d.groupCallId}`);const s=await this.getUserMediaStream(!0,d.type===r.GroupCallType.Video);d.state!==r.GroupCallState.Ended&&await d.updateLocalUsermediaStream(s)}this.emit(i.LocalStreamsChanged)}async hasAudioDevice(){return(await navigator.mediaDevices.enumerateDevices()).filter(d=>d.kind==="audioinput").length>0}async hasVideoDevice(){return(await navigator.mediaDevices.enumerateDevices()).filter(d=>d.kind==="videoinput").length>0}async getUserMediaStream(u,d,s=!0){const g=u&&await this.hasAudioDevice(),c=d&&await this.hasVideoDevice();let h,_=!0;if(this.localUserMediaStream){if(g){var F,m;(this.localUserMediaStream.getAudioTracks().length===0||((F=this.localUserMediaStream.getAudioTracks()[0])===null||F===void 0||(m=F.getSettings())===null||m===void 0?void 0:m.deviceId)!==this.audioInput)&&(_=!1)}if(c){var p,f;(this.localUserMediaStream.getVideoTracks().length===0||((p=this.localUserMediaStream.getVideoTracks()[0])===null||p===void 0||(f=p.getSettings())===null||f===void 0?void 0:f.deviceId)!==this.videoInput)&&(_=!1)}}else _=!1;if(_){var v;if(h=this.localUserMediaStream.clone(),o.logger.log(`mediaHandler clone userMediaStream ${(v=this.localUserMediaStream)===null||v===void 0?void 0:v.id} new stream ${h.id} shouldRequestAudio ${g} shouldRequestVideo ${c}`),!g)for(const y of h.getAudioTracks())h.removeTrack(y);if(!c)for(const y of h.getVideoTracks())h.removeTrack(y)}else{const y=this.getUserMediaContraints(g,c);h=await navigator.mediaDevices.getUserMedia(y),o.logger.log(`mediaHandler getUserMediaStream streamId ${h.id} shouldRequestAudio ${g} shouldRequestVideo ${c}`,y);for(const w of h.getTracks()){const b=w.getSettings();w.kind==="audio"?this.audioInput=b.deviceId:w.kind==="video"&&(this.videoInput=b.deviceId)}s&&(this.localUserMediaStream=h)}return s&&this.userMediaStreams.push(h),this.emit(i.LocalStreamsChanged),h}stopUserMediaStream(u){o.logger.log(`mediaHandler stopUserMediaStream stopping stream ${u.id}`);for(const s of u.getTracks())s.stop();const d=this.userMediaStreams.indexOf(u);d!==-1&&(o.logger.debug("Splicing usermedia stream out stream array",u.id),this.userMediaStreams.splice(d,1)),this.emit(i.LocalStreamsChanged),this.localUserMediaStream===u&&(this.localUserMediaStream=void 0)}async getScreensharingStream(u={},d=!0){let s;if(this.screensharingStreams.length===0){const g=this.getScreenshareContraints(u);u.desktopCapturerSourceId?(o.logger.debug("Getting screensharing stream using getUserMedia()",u),s=await navigator.mediaDevices.getUserMedia(g)):(o.logger.debug("Getting screensharing stream using getDisplayMedia()",u),s=await navigator.mediaDevices.getDisplayMedia(g))}else{const g=this.screensharingStreams[this.screensharingStreams.length-1];o.logger.log("Cloning screensharing stream",g.id),s=g.clone()}return d&&this.screensharingStreams.push(s),this.emit(i.LocalStreamsChanged),s}stopScreensharingStream(u){o.logger.debug("Stopping screensharing stream",u.id);for(const s of u.getTracks())s.stop();const d=this.screensharingStreams.indexOf(u);d!==-1&&(o.logger.debug("Splicing screensharing stream out stream array",u.id),this.screensharingStreams.splice(d,1)),this.emit(i.LocalStreamsChanged)}stopAllStreams(){for(const u of this.userMediaStreams){o.logger.log(`mediaHandler stopAllStreams stopping stream ${u.id}`);for(const d of u.getTracks())d.stop()}for(const u of this.screensharingStreams)for(const d of u.getTracks())d.stop();this.userMediaStreams=[],this.screensharingStreams=[],this.localUserMediaStream=void 0,this.emit(i.LocalStreamsChanged)}getUserMediaContraints(u,d){const s=!!navigator.webkitGetUserMedia;return{audio:u?{deviceId:this.audioInput?{ideal:this.audioInput}:void 0,autoGainControl:this.audioSettings?{ideal:this.audioSettings.autoGainControl}:void 0,echoCancellation:this.audioSettings?{ideal:this.audioSettings.echoCancellation}:void 0,noiseSuppression:this.audioSettings?{ideal:this.audioSettings.noiseSuppression}:void 0}:!1,video:d?{deviceId:this.videoInput?{ideal:this.videoInput}:void 0,width:s?{exact:640}:{ideal:640},height:s?{exact:360}:{ideal:360}}:!1}}getScreenshareContraints(u){const{desktopCapturerSourceId:d,audio:s}=u;return d?(o.logger.debug("Using desktop capturer source",d),{audio:s??!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d}}}):(o.logger.debug("Not using desktop capturer source"),{audio:s??!1,video:!0})}}return ua.MediaHandler=a,ua}var Md={},an={},OS;function wH(){if(OS)return an;OS=1;var t=ze.exports;Object.defineProperty(an,"__esModule",{value:!0}),an.SlidingSyncState=an.SlidingSyncEvent=an.SlidingSync=an.MSC3575_WILDCARD=an.MSC3575_STATE_KEY_ME=an.MSC3575_STATE_KEY_LAZY=an.ExtensionState=void 0;var e=t(Je()),n=lt(),r=un(),o=tt;function i(p,f){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);f&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),v.push.apply(v,y)}return v}function a(p){for(var f=1;f<arguments.length;f++){var v=arguments[f]!=null?arguments[f]:{};f%2?i(Object(v),!0).forEach(function(y){(0,e.default)(p,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):i(Object(v)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(v,y))})}return p}const l=10*1e3,u="*";an.MSC3575_WILDCARD=u;const d="$ME";an.MSC3575_STATE_KEY_ME=d;const s="$LAZY";an.MSC3575_STATE_KEY_LAZY=s;let g;an.SlidingSyncState=g,function(p){p.RequestFinished="FINISHED",p.Complete="COMPLETE"}(g||(an.SlidingSyncState=g={}));class c{constructor(f){(0,e.default)(this,"list",void 0),(0,e.default)(this,"isModified",void 0),(0,e.default)(this,"roomIndexToRoomId",{}),(0,e.default)(this,"joinedCount",0),this.replaceList(f)}setModified(f){this.isModified=f}updateListRange(f){this.list.ranges=JSON.parse(JSON.stringify(f))}replaceList(f){f.filters=f.filters||{},f.ranges=f.ranges||[],this.list=JSON.parse(JSON.stringify(f)),this.isModified=!0,this.roomIndexToRoomId={},this.joinedCount=0}getList(f){let v={ranges:JSON.parse(JSON.stringify(this.list.ranges))};return(this.isModified||f)&&(v=JSON.parse(JSON.stringify(this.list))),v}isIndexInRange(f){for(const v of this.list.ranges)if(v[0]<=f&&f<=v[1])return!0;return!1}}let h;an.ExtensionState=h,function(p){p.PreProcess="ExtState.PreProcess",p.PostProcess="ExtState.PostProcess"}(h||(an.ExtensionState=h={}));let _;an.SlidingSyncEvent=_,function(p){p.RoomData="SlidingSync.RoomData",p.Lifecycle="SlidingSync.Lifecycle",p.List="SlidingSync.List"}(_||(an.SlidingSyncEvent=_={}));class F extends r.TypedEventEmitter{constructor(f,v,y,w,b){super(),this.proxyBaseUrl=f,this.roomSubscriptionInfo=y,this.client=w,this.timeoutMS=b,(0,e.default)(this,"lists",void 0),(0,e.default)(this,"listModifiedCount",0),(0,e.default)(this,"terminated",!1),(0,e.default)(this,"needsResend",!1),(0,e.default)(this,"txnId",null),(0,e.default)(this,"txnIdDefers",[]),(0,e.default)(this,"extensions",{}),(0,e.default)(this,"desiredRoomSubscriptions",new Set),(0,e.default)(this,"confirmedRoomSubscriptions",new Set),(0,e.default)(this,"customSubscriptions",new Map),(0,e.default)(this,"roomIdToCustomSubscription",new Map),(0,e.default)(this,"pendingReq",void 0),(0,e.default)(this,"abortController",void 0),this.lists=v.map(S=>new c(S))}addCustomSubscription(f,v){this.customSubscriptions.set(f,v)}useCustomSubscription(f,v){this.roomIdToCustomSubscription.set(f,v),this.confirmedRoomSubscriptions.delete(f)}listLength(){return this.lists.length}getListData(f){return this.lists[f]?{joinedCount:this.lists[f].joinedCount,roomIndexToRoomId:Object.assign({},this.lists[f].roomIndexToRoomId)}:null}getList(f){return this.lists[f]?this.lists[f].getList(!0):null}setListRanges(f,v){return this.lists[f].updateListRange(v),this.resend()}setList(f,v){return this.lists[f]?this.lists[f].replaceList(v):this.lists[f]=new c(v),this.listModifiedCount+=1,this.resend()}getRoomSubscriptions(){return new Set(Array.from(this.desiredRoomSubscriptions))}modifyRoomSubscriptions(f){return this.desiredRoomSubscriptions=f,this.resend()}modifyRoomSubscriptionInfo(f){return this.roomSubscriptionInfo=f,this.confirmedRoomSubscriptions=new Set,this.resend()}registerExtension(f){if(this.extensions[f.name()])throw new Error(`registerExtension: ${f.name()} already exists as an extension`);this.extensions[f.name()]=f}getExtensionRequest(f){const v={};return Object.keys(this.extensions).forEach(y=>{v[y]=this.extensions[y].onRequest(f)}),v}onPreExtensionsResponse(f){Object.keys(f).forEach(v=>{this.extensions[v].when()==h.PreProcess&&this.extensions[v].onResponse(f[v])})}onPostExtensionsResponse(f){Object.keys(f).forEach(v=>{this.extensions[v].when()==h.PostProcess&&this.extensions[v].onResponse(f[v])})}invokeRoomDataListeners(f,v){v.required_state||(v.required_state=[]),v.timeline||(v.timeline=[]),this.emit(_.RoomData,f,v)}invokeLifecycleListeners(f,v,y){this.emit(_.Lifecycle,f,v,y)}shiftRight(f,v,y){for(let w=v;w>y;w--)this.lists[f].isIndexInRange(w)&&(this.lists[f].roomIndexToRoomId[w]=this.lists[f].roomIndexToRoomId[w-1])}shiftLeft(f,v,y){for(let w=y;w<v;w++)this.lists[f].isIndexInRange(w)&&(this.lists[f].roomIndexToRoomId[w]=this.lists[f].roomIndexToRoomId[w+1])}removeEntry(f,v){let y=-1;for(const w in this.lists[f].roomIndexToRoomId)Number(w)>y&&(y=Number(w));y<0||v>y||(this.shiftLeft(f,y,v),delete this.lists[f].roomIndexToRoomId[y])}addEntry(f,v){let y=-1;for(const w in this.lists[f].roomIndexToRoomId)Number(w)>y&&(y=Number(w));y<0||v>y||this.shiftRight(f,y+1,v)}processListOps(f,v){let y=-1;f.ops.forEach(w=>{switch(w.op){case"DELETE":{n.logger.debug("DELETE",v,w.index,";"),delete this.lists[v].roomIndexToRoomId[w.index],y!==-1&&this.removeEntry(v,y),y=w.index;break}case"INSERT":{n.logger.debug("INSERT",v,w.index,w.room_id,";"),this.lists[v].roomIndexToRoomId[w.index]&&(y<0?this.addEntry(v,w.index):y>w.index?this.shiftRight(v,y,w.index):y<w.index&&this.shiftLeft(v,w.index,y)),y=-1,this.lists[v].roomIndexToRoomId[w.index]=w.room_id;break}case"INVALIDATE":{const b=w.range[0];for(let S=b;S<=w.range[1];S++)delete this.lists[v].roomIndexToRoomId[S];n.logger.debug("INVALIDATE",v,w.range[0],w.range[1],";");break}case"SYNC":{const b=w.range[0];for(let S=b;S<=w.range[1];S++){const x=w.room_ids[S-b];if(!x)break;this.lists[v].roomIndexToRoomId[S]=x}n.logger.debug("SYNC",v,w.range[0],w.range[1],(w.room_ids||[]).join(" "),";");break}}}),y!==-1&&this.removeEntry(v,y)}resend(){var f;if(this.needsResend&&this.txnIdDefers.length>0)return this.txnIdDefers[this.txnIdDefers.length-1].promise;this.needsResend=!0,this.txnId=this.client.makeTxnId();const v=(0,o.defer)();return this.txnIdDefers.push(a(a({},v),{},{txnId:this.txnId})),(f=this.abortController)===null||f===void 0||f.abort(),this.abortController=new AbortController,v.promise}resolveTransactionDefers(f){if(!f)return;let v=-1;for(let y=0;y<this.txnIdDefers.length;y++)if(this.txnIdDefers[y].txnId===f){v=y;break}if(v===-1){n.logger.warn(`resolveTransactionDefers: seen ${f} but it isn't a pending txn, ignoring.`);return}for(let y=0;y<v;y++)this.txnIdDefers[y].reject(this.txnIdDefers[y].txnId);this.txnIdDefers[v].resolve(f),this.txnIdDefers=this.txnIdDefers.slice(v+1)}stop(){var f;this.terminated=!0,(f=this.abortController)===null||f===void 0||f.abort(),this.removeAllListeners(_.Lifecycle),this.removeAllListeners(_.List),this.removeAllListeners(_.RoomData)}resetup(){var f;n.logger.warn("SlidingSync: resetting connection info"),this.txnIdDefers.forEach(v=>{v.reject(v.txnId)}),this.txnIdDefers=[],this.lists.forEach(v=>{v.setModified(!0)}),this.confirmedRoomSubscriptions=new Set,this.needsResend=!0,(f=this.abortController)===null||f===void 0||f.abort(),this.abortController=new AbortController}async start(){this.abortController=new AbortController;let f;for(;!this.terminated;){this.needsResend=!1;let v=!1,y;try{const b=this.listModifiedCount,S={lists:this.lists.map(U=>U.getList(!1)),pos:f,timeout:this.timeoutMS,clientTimeout:this.timeoutMS+l,extensions:this.getExtensionRequest(f===void 0)},x=m(this.desiredRoomSubscriptions,this.confirmedRoomSubscriptions),N=m(this.confirmedRoomSubscriptions,this.desiredRoomSubscriptions);if(N.size>0&&(S.unsubscribe_rooms=Array.from(N)),x.size>0){S.room_subscriptions={};for(const U of x){const q=this.roomIdToCustomSubscription.get(U);let P=this.roomSubscriptionInfo;q&&this.customSubscriptions.has(q)&&(P=this.customSubscriptions.get(q)),S.room_subscriptions[U]=P}}this.txnId&&(S.txn_id=this.txnId,this.txnId=null),this.pendingReq=this.client.slidingSync(S,this.proxyBaseUrl,this.abortController.signal),y=await this.pendingReq,f=y.pos;for(const U of x)this.confirmedRoomSubscriptions.add(U);for(const U of N)this.confirmedRoomSubscriptions.delete(U);b!==this.listModifiedCount&&(n.logger.debug("list modified during await call, not updating list"),v=!0),this.lists.forEach(U=>{U.setModified(!1)}),y.lists=y.lists||[],y.rooms=y.rooms||{},y.extensions=y.extensions||{},y.lists.forEach((U,q)=>{this.lists[q].joinedCount=U.count}),this.invokeLifecycleListeners(g.RequestFinished,y)}catch(b){if(b.httpStatus){if(this.invokeLifecycleListeners(g.RequestFinished,null,b),b.httpStatus===400){this.resetup(),f=void 0,await(0,o.sleep)(50);continue}}else if(this.needsResend||b.name==="AbortError")continue;n.logger.error(b),await(0,o.sleep)(5e3)}if(!y)continue;this.onPreExtensionsResponse(y.extensions),Object.keys(y.rooms).forEach(b=>{this.invokeRoomDataListeners(b,y.rooms[b])});const w=new Set;v||y.lists.forEach((b,S)=>{b.ops=b.ops||[],b.ops.length>0&&w.add(S),this.processListOps(b,S)}),this.invokeLifecycleListeners(g.Complete,y),this.onPostExtensionsResponse(y.extensions),w.forEach(b=>{this.emit(_.List,b,this.lists[b].joinedCount,Object.assign({},this.lists[b].roomIndexToRoomId))}),this.resolveTransactionDefers(y.txn_id)}}}an.SlidingSync=F;const m=(p,f)=>{const v=new Set(p);for(const y of f)v.delete(y);return v};return an}var BS;function kA(){if(BS)return Md;BS=1;var t=ze.exports;Object.defineProperty(Md,"__esModule",{value:!0}),Md.SlidingSyncSdk=void 0;var e=t(Je()),n=Ji(),r=lt(),o=F(tt),i=Oo(),a=Mo(),l=Im(),u=Bo,d=wH(),s=et,g=U3(),c=Za(),h=lo;function _(U){if(typeof WeakMap!="function")return null;var q=new WeakMap,P=new WeakMap;return(_=function(G){return G?P:q})(U)}function F(U,q){if(!q&&U&&U.__esModule)return U;if(U===null||typeof U!="object"&&typeof U!="function")return{default:U};var P=_(q);if(P&&P.has(U))return P.get(U);var G={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in U)if(I!=="default"&&Object.prototype.hasOwnProperty.call(U,I)){var M=C?Object.getOwnPropertyDescriptor(U,I):null;M&&(M.get||M.set)?Object.defineProperty(G,I,M):G[I]=U[I]}return G.default=U,P&&P.set(U,G),G}const m=3;class p{constructor(q){this.crypto=q}name(){return"e2ee"}when(){return d.ExtensionState.PreProcess}onRequest(q){if(q)return{enabled:!0}}async onResponse(q){if(q.device_lists&&await this.crypto.handleDeviceListChanges({oldSyncToken:"yep"},q.device_lists),q.device_one_time_keys_count){const P=q.device_one_time_keys_count.signed_curve25519||0;this.crypto.updateOneTimeKeyCount(P)}if(q.device_unused_fallback_key_types||q["org.matrix.msc2732.device_unused_fallback_key_types"]){const P=q.device_unused_fallback_key_types||q["org.matrix.msc2732.device_unused_fallback_key_types"];this.crypto.setNeedsNewFallback(Array.isArray(P)&&!P.includes("signed_curve25519"))}}}class f{constructor(q){this.client=q,(0,e.default)(this,"nextBatch",null)}name(){return"to_device"}when(){return d.ExtensionState.PreProcess}onRequest(q){const P={since:this.nextBatch!==null?this.nextBatch:void 0};return q&&(P.limit=100,P.enabled=!0),P}async onResponse(q){const P=[];q.events=q.events||[],q.events.map(this.client.getEventMapper()).map(G=>{if(G.getType()==="m.key.verification.cancel"){const C=G.getContent().transaction_id;C&&P.push(C)}return G}).forEach(G=>{const C=G.getContent();if(G.getType()=="m.room.message"&&C.msgtype=="m.bad.encrypted"){r.logger.log("Ignoring undecryptable to-device event from "+G.getSender());return}if(G.getType()==="m.key.verification.start"||G.getType()==="m.key.verification.request"){const I=C.transaction_id;P.includes(I)&&G.flagCancelled()}this.client.emit(a.ClientEvent.ToDeviceEvent,G)}),this.nextBatch=q.next_batch}}class v{constructor(q){this.client=q}name(){return"account_data"}when(){return d.ExtensionState.PostProcess}onRequest(q){if(q)return{enabled:!0}}onResponse(q){q.global&&q.global.length>0&&this.processGlobalAccountData(q.global);for(const P in q.rooms){const G=x(this.client,P,q.rooms[P]),C=this.client.getRoom(P);if(!C){r.logger.warn("got account data for room but room doesn't exist on client:",P);continue}C.addAccountData(G),G.forEach(I=>{this.client.emit(a.ClientEvent.Event,I)})}}processGlobalAccountData(q){const P=x(this.client,void 0,q),G=P.reduce((C,I)=>(C[I.getType()]=this.client.store.getAccountData(I.getType()),C),{});this.client.store.storeAccountDataEvents(P),P.forEach(C=>{if(C.getType()===s.EventType.PushRules){const M=C.getContent();this.client.pushRules=g.PushProcessor.rewriteDefaultRules(M)}const I=G[C.getType()];return this.client.emit(a.ClientEvent.AccountData,C,I),C})}}class y{constructor(q){this.client=q}name(){return"typing"}when(){return d.ExtensionState.PostProcess}onRequest(q){if(q)return{enabled:!0}}onResponse(q){if(!(!q||!q.rooms))for(const P in q.rooms)N(this.client,P,[q.rooms[P]])}}class w{constructor(q){this.client=q}name(){return"receipts"}when(){return d.ExtensionState.PostProcess}onRequest(q){if(q)return{enabled:!0}}onResponse(q){if(!(!q||!q.rooms))for(const P in q.rooms)N(this.client,P,[q.rooms[P]])}}class b{constructor(q,P,G={}){var C;this.slidingSync=q,this.client=P,this.opts=G,(0,e.default)(this,"syncState",null),(0,e.default)(this,"syncStateData",void 0),(0,e.default)(this,"lastPos",null),(0,e.default)(this,"failCount",0),(0,e.default)(this,"notifEvents",[]),this.opts.initialSyncLimit=(C=this.opts.initialSyncLimit)!==null&&C!==void 0?C:8,this.opts.resolveInvitesToProfiles=this.opts.resolveInvitesToProfiles||!1,this.opts.pollTimeout=this.opts.pollTimeout||30*1e3,this.opts.pendingEventOrdering=this.opts.pendingEventOrdering||a.PendingEventOrdering.Chronological,this.opts.experimentalThreadSupport=this.opts.experimentalThreadSupport===!0,G.canResetEntireTimeline||(G.canResetEntireTimeline=M=>!1),P.getNotifTimelineSet()&&P.reEmitter.reEmit(P.getNotifTimelineSet(),[n.RoomEvent.Timeline,n.RoomEvent.TimelineReset]),this.slidingSync.on(d.SlidingSyncEvent.Lifecycle,this.onLifecycle.bind(this)),this.slidingSync.on(d.SlidingSyncEvent.RoomData,this.onRoomData.bind(this));const I=[new f(this.client),new v(this.client),new y(this.client),new w(this.client)];this.opts.crypto&&I.push(new p(this.opts.crypto)),I.forEach(M=>{this.slidingSync.registerExtension(M)})}onRoomData(q,P){let G=this.client.store.getRoom(q);if(!G){if(!P.initial){r.logger.debug("initial flag not set but no stored room exists for room ",q,P);return}G=(0,l._createAndReEmitRoom)(this.client,q,this.opts)}this.processRoomData(this.client,G,P)}onLifecycle(q,P,G){switch(G&&r.logger.debug("onLifecycle",q,G),q){case d.SlidingSyncState.Complete:if(this.purgeNotifications(),!P)break;this.lastPos||this.updateSyncState(l.SyncState.Prepared,{oldSyncToken:void 0,nextSyncToken:P.pos,catchingUp:!1,fromCache:!1}),this.updateSyncState(l.SyncState.Syncing,{oldSyncToken:this.lastPos,nextSyncToken:P.pos,catchingUp:!1,fromCache:!1}),this.lastPos=P.pos;break;case d.SlidingSyncState.RequestFinished:if(G){if(this.failCount+=1,this.updateSyncState(this.failCount>m?l.SyncState.Error:l.SyncState.Reconnecting,{error:new u.MatrixError(G)}),this.shouldAbortSync(new u.MatrixError(G)))return}else this.failCount=0;break}}async syncLeftRooms(){return[]}async peek(q){return null}stopPeeking(){}getSyncState(){return this.syncState}getSyncStateData(){var q;return(q=this.syncStateData)!==null&&q!==void 0?q:null}createRoom(q){const{timelineSupport:P}=this.client,G=new n.Room(q,this.client,this.client.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:P});return this.client.reEmitter.reEmit(G,[n.RoomEvent.Name,n.RoomEvent.Redaction,n.RoomEvent.RedactionCancelled,n.RoomEvent.Receipt,n.RoomEvent.Tags,n.RoomEvent.LocalEchoUpdated,n.RoomEvent.AccountData,n.RoomEvent.MyMembership,n.RoomEvent.Timeline,n.RoomEvent.TimelineReset]),this.registerStateListeners(G),G}registerStateListeners(q){this.client.reEmitter.reEmit(q.currentState,[c.RoomStateEvent.Events,c.RoomStateEvent.Members,c.RoomStateEvent.NewMember,c.RoomStateEvent.Update]),q.currentState.on(c.RoomStateEvent.NewMember,(P,G,C)=>{var I;C.user=(I=this.client.getUser(C.userId))!==null&&I!==void 0?I:void 0,this.client.reEmitter.reEmit(C,[h.RoomMemberEvent.Name,h.RoomMemberEvent.Typing,h.RoomMemberEvent.PowerLevel,h.RoomMemberEvent.Membership])})}shouldAbortSync(q){return q.errcode==="M_UNKNOWN_TOKEN"?(r.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(l.SyncState.Error,{error:q}),!0):!1}async processRoomData(q,P,G){G=S(q,P.roomId,G);const C=x(this.client,P.roomId,G.required_state);let I=x(this.client,P.roomId,G.timeline,!1);const M=[];if(G.initial){const T=new Set;P.getLiveTimeline().getEvents().forEach(H=>{T.add(H.getId())});const D=[],R=[];let B=!1;for(let H=I.length-1;H>=0;H--){const Q=I[H];if(T.has(Q.getId())){B=!0;continue}B?D.push(Q):R.unshift(Q)}I=R,D.length>0&&P.addEventsToTimeline(D,!0,P.getLiveTimeline(),G.prev_batch)}const A=this.client.isRoomEncrypted(P.roomId);if(G.notification_count!=null&&P.setUnreadNotificationCount(n.NotificationCountType.Total,G.notification_count),G.highlight_count!=null&&(!A||A&&P.getUnreadNotificationCount(n.NotificationCountType.Highlight)<=0)&&P.setUnreadNotificationCount(n.NotificationCountType.Highlight,G.highlight_count),Number.isInteger(G.invited_count)&&P.currentState.setInvitedMemberCount(G.invited_count),Number.isInteger(G.joined_count)&&P.currentState.setJoinedMemberCount(G.joined_count),G.invite_state){const T=x(this.client,P.roomId,G.invite_state);this.injectRoomEvents(P,T),G.initial&&(P.recalculate(),this.client.store.storeRoom(P),this.client.emit(a.ClientEvent.Room,P)),T.forEach(D=>{this.client.emit(a.ClientEvent.Event,D)}),P.updateMyMembership("invite");return}if(G.initial){var $;P.getLiveTimeline().setPaginationToken(($=G.prev_batch)!==null&&$!==void 0?$:null,i.EventTimeline.BACKWARDS)}this.injectRoomEvents(P,C,I,!1),P.addEphemeralEvents(M),P.updateMyMembership("join"),P.recalculate(),G.initial&&(q.store.storeRoom(P),q.emit(a.ClientEvent.Room,P)),this.addNotifications(I);const Y=async T=>{q.emit(a.ClientEvent.Event,T),T.isState()&&T.getType()==s.EventType.RoomEncryption&&this.opts.crypto&&await this.opts.crypto.onCryptoEvent(T)};await o.promiseMapSeries(C,Y),await o.promiseMapSeries(I,Y),M.forEach(function(T){q.emit(a.ClientEvent.Event,T)}),P.decryptCriticalEvents()}injectRoomEvents(q,P,G,C=!1){G=G||[],P=P||[];const I=q.getLiveTimeline(),M=I.getEvents().length==0;if(M){for(const A of P)this.client.getPushActionsForEvent(A);I.initialiseState(P)}M||(q.oldState.setStateEvents(P),q.currentState.setStateEvents(P)),q.addLiveEvents(G,{fromCache:C}),q.recalculate(),this.resolveInvites(q)}resolveInvites(q){if(!q||!this.opts.resolveInvitesToProfiles)return;const P=this.client;q.getMembersWithMembership("invite").forEach(function(G){if(G.requestedProfileInfo)return;G.requestedProfileInfo=!0;const C=P.getUser(G.userId);let I;C?I=Promise.resolve({avatar_url:C.avatarUrl,displayname:C.displayName}):I=P.getProfileInfo(G.userId),I.then(function(M){const A=G.events.member;A.getContent().membership==="invite"&&(A.getContent().avatar_url=M.avatar_url,A.getContent().displayname=M.displayname,G.setMembershipEvent(A,q.currentState))},function(M){})})}retryImmediately(){return!0}async sync(){for(r.logger.debug("Sliding sync init loop");!this.client.isGuest();)try{r.logger.debug("Getting push rules...");const q=await this.client.getPushRules();r.logger.debug("Got push rules"),this.client.pushRules=q;break}catch(q){if(r.logger.error("Getting push rules failed",q),this.shouldAbortSync(q))return}await this.slidingSync.start()}stop(){r.logger.debug("SyncApi.stop"),this.slidingSync.stop()}updateSyncState(q,P){const G=this.syncState;this.syncState=q,this.syncStateData=P,this.client.emit(a.ClientEvent.Sync,this.syncState,G,P)}addNotifications(q){if(this.client.getNotifTimelineSet())for(const P of q){const G=this.client.getPushActionsForEvent(P);G&&G.notify&&G.tweaks&&G.tweaks.highlight&&this.notifEvents.push(P)}}purgeNotifications(){this.notifEvents.sort(function(q,P){return q.getTs()-P.getTs()}),this.notifEvents.forEach(q=>{var P;(P=this.client.getNotifTimelineSet())===null||P===void 0||P.addLiveEvent(q)}),this.notifEvents=[]}}Md.SlidingSyncSdk=b;function S(U,q,P){if(!P.name)return P;for(const G of P.required_state)if(G.type===s.EventType.RoomName&&G.state_key==="")return G.content={name:P.name},P;return P.required_state.push({event_id:"$fake-sliding-sync-name-event-"+q,state_key:"",type:s.EventType.RoomName,content:{name:P.name},sender:U.getUserId(),origin_server_ts:new Date().getTime()}),P}function x(U,q,P,G=!0){const C=U.getEventMapper({decrypt:G});return P.map(function(I){return I.room_id=q,C(I)})}function N(U,q,P){const G=x(U,q,P),C=U.getRoom(q);if(!C){r.logger.warn("got ephemeral events for room but room doesn't exist on client:",q);return}C.addEphemeralEvents(G),G.forEach(I=>{U.emit(a.ClientEvent.Event,I)})}return Md}var bs={},PS;function SA(){if(PS)return bs;PS=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.M_BEACON_INFO=bs.M_BEACON=void 0;var t=qn;const e=new t.UnstableValue("m.beacon_info","org.matrix.msc3672.beacon_info");bs.M_BEACON_INFO=e;const n=new t.UnstableValue("m.beacon","org.matrix.msc3672.beacon");return bs.M_BEACON=n,bs}var Nd={},cg={},DH=ze.exports;Object.defineProperty(cg,"__esModule",{value:!0});cg.MatrixScheduler=void 0;var d1=DH(Je()),MS=xH(tt);lt();var kH=et,SH=Bo;function xA(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(xA=function(r){return r?n:e})(t)}function xH(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=xA(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}class W0{static RETRY_BACKOFF_RATELIMIT(e,n,r){if(r.httpStatus===400||r.httpStatus===403||r.httpStatus===401||r instanceof SH.ConnectionError||r.name==="M_TOO_LARGE")return-1;if(r.name==="M_LIMIT_EXCEEDED"){const o=r.data.retry_after_ms;if(o>0)return o}return n>4?-1:1e3*Math.pow(2,n)}static QUEUE_MESSAGES(e){return e.getType()===kH.EventType.RoomMessage||e.hasAssociation()?"message":null}constructor(e=W0.RETRY_BACKOFF_RATELIMIT,n=W0.QUEUE_MESSAGES){this.retryAlgorithm=e,this.queueAlgorithm=n,(0,d1.default)(this,"queues",{}),(0,d1.default)(this,"activeQueues",[]),(0,d1.default)(this,"procFn",null),(0,d1.default)(this,"processQueue",r=>{const o=this.peekNextEvent(r);if(!o){const i=this.activeQueues.indexOf(r);i>=0&&this.activeQueues.splice(i,1);return}Ld("Queue '%s' has %s pending events",r,this.queues[r].length),Promise.resolve().then(()=>this.procFn(o.event)).then(i=>{this.removeNextEvent(r),Ld("Queue '%s' sent event %s",r,o.event.getId()),o.defer.resolve(i),this.processQueue(r)},i=>{o.attempts+=1;const a=this.retryAlgorithm(o.event,o.attempts,i);Ld("retry(%s) err=%s event_id=%s waitTime=%s",o.attempts,i,o.event.getId(),a),a===-1?(Ld("Queue '%s' giving up on event %s",r,o.event.getId()),this.removeNextEvent(r),o.defer.reject(i),this.processQueue(r)):setTimeout(this.processQueue,a,r)})})}getQueueForEvent(e){const n=this.queueAlgorithm(e);return!n||!this.queues[n]?null:this.queues[n].map(function(r){return r.event})}removeEventFromQueue(e){const n=this.queueAlgorithm(e);if(!n||!this.queues[n])return!1;let r=!1;return MS.removeElement(this.queues[n],o=>o.event.getId()===e.getId()?(r=!0,!0):!1),r}setProcessFunction(e){this.procFn=e,this.startProcessingQueues()}queueEvent(e){const n=this.queueAlgorithm(e);if(!n)return null;this.queues[n]||(this.queues[n]=[]);const r=MS.defer();return this.queues[n].push({event:e,defer:r,attempts:0}),Ld("Queue algorithm dumped event %s into queue '%s'",e.getId(),n),this.startProcessingQueues(),r.promise}startProcessingQueues(){this.procFn&&Object.keys(this.queues).filter(e=>this.activeQueues.indexOf(e)===-1&&this.queues[e].length>0).forEach(e=>{this.activeQueues.push(e),this.processQueue(e)})}peekNextEvent(e){const n=this.queues[e];if(Array.isArray(n))return n[0]}removeNextEvent(e){const n=this.queues[e];if(Array.isArray(n))return n.shift()}}cg.MatrixScheduler=W0;function Ld(...t){}var NS;function CH(){if(NS)return Nd;NS=1;var t=ze.exports;Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.ToDeviceMessageQueue=void 0;var e=t(Je()),n=lt(),r=cg;const o=20;let i=class{constructor(l){this.client=l,(0,e.default)(this,"sending",!1),(0,e.default)(this,"running",!0),(0,e.default)(this,"retryTimeout",null),(0,e.default)(this,"retryAttempts",0),(0,e.default)(this,"sendQueue",async()=>{if(this.retryTimeout!==null&&clearTimeout(this.retryTimeout),this.retryTimeout=null,this.sending||!this.running)return;n.logger.debug("Attempting to send queued to-device messages"),this.sending=!0;let u;try{for(;this.running&&(u=await this.client.store.getOldestToDeviceBatch(),u!==null);)await this.sendBatch(u),await this.client.store.removeToDeviceBatch(u.id),this.retryAttempts=0;if(!this.running)return;n.logger.debug("All queued to-device messages sent")}catch(d){++this.retryAttempts;const s=r.MatrixScheduler.RETRY_BACKOFF_RATELIMIT(null,this.retryAttempts,d);if(s===-1){Math.floor(d.httpStatus/100)===4?(n.logger.error("Fatal error when sending to-device message - dropping to-device batch!",d),await this.client.store.removeToDeviceBatch(u.id)):n.logger.info("Automatic retry limit reached for to-device messages.");return}n.logger.info(`Failed to send batch of to-device messages. Will retry in ${s}ms`,d),this.retryTimeout=setTimeout(this.sendQueue,s)}finally{this.sending=!1}})}start(){this.running=!0,this.sendQueue()}stop(){this.running=!1,this.retryTimeout!==null&&clearTimeout(this.retryTimeout),this.retryTimeout=null}async queueBatch(l){const u=[];for(let d=0;d<l.batch.length;d+=o){const s={eventType:l.eventType,batch:l.batch.slice(d,d+o),txnId:this.client.makeTxnId()};u.push(s);const g=s.batch.map(c=>`${c.userId}:${c.deviceId}`);n.logger.info(`Created batch of to-device messages with txn id ${s.txnId} for ${g}`)}await this.client.store.saveToDeviceBatches(u),n.logger.info(`Enqueued to-device messages with txn ids ${u.map(d=>d.txnId)}`),this.sendQueue()}async sendBatch(l){const u={};for(const d of l.batch)u[d.userId]||(u[d.userId]={}),u[d.userId][d.deviceId]=d.payload;n.logger.info(`Sending batch of ${l.batch.length} to-device messages with ID ${l.id} and txnId ${l.txnId}`),await this.client.sendToDevice(l.eventType,u,l.txnId)}};return Nd.ToDeviceMessageQueue=i,Nd}var Hr={},LS;function TH(){if(LS)return Hr;LS=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.PolicyScope=Hr.POLICIES_ACCOUNT_EVENT_TYPE=Hr.IgnoredInvites=Hr.IGNORE_INVITES_ACCOUNT_EVENT_KEY=void 0;var t=xm(),e=Oo(),n=Yt,r=tt;const o=new t.UnstableValue("m.policies","org.matrix.msc3847.policies");Hr.POLICIES_ACCOUNT_EVENT_TYPE=o;const i=new t.UnstableValue("m.ignore.invites","org.matrix.msc3847.ignore.invites");Hr.IGNORE_INVITES_ACCOUNT_EVENT_KEY=i;var a;(function(d){d.Ban="m.ban"})(a||(a={}));let l;Hr.PolicyScope=l,function(d){d.User="m.policy.user",d.Room="m.policy.room",d.Server="m.policy.server"}(l||(Hr.PolicyScope=l={}));class u{constructor(s){this.client=s}async addRule(s,g,c){const h=await this.getOrCreateTargetRoom();return(await this.client.sendStateEvent(h.roomId,s,{entity:g,reason:c,recommendation:a.Ban})).event_id}async removeRule(s){await this.client.redactEvent(s.getRoomId(),s.getId())}async addSource(s){await this.client.joinRoom(s);const g=(await this.getOrCreateSourceRooms()).map(c=>c.roomId);return g.includes(s)?!1:(g.push(s),await this.withIgnoreInvitesPolicies(c=>{c.sources=g}),!0)}async getRuleForInvite({sender:s,roomId:g}){const c=await this.getOrCreateSourceRooms(),h=s.split(":")[1],_=g.split(":")[1];for(const F of c){const m=F.getUnfilteredTimelineSet().getLiveTimeline().getState(e.EventTimeline.FORWARDS);for(const{scope:p,entities:f}of[{scope:l.Room,entities:[g]},{scope:l.User,entities:[s]},{scope:l.Server,entities:[h,_]}]){const v=m.getStateEvents(p);for(const y of v){const w=y.getContent();if((w==null?void 0:w.recommendation)!=a.Ban)continue;const b=w==null?void 0:w.entity;if(!b)continue;let S;try{S=new RegExp((0,r.globToRegexp)(b,!1))}catch{continue}for(const x of f)if(x&&S.test(x))return y}}}return null}async getOrCreateTargetRoom(){let g=this.getIgnoreInvitesPolicies().target;if(typeof g!="string"&&(g=null),g){const c=this.client.getRoom(g);if(c)return c;g=null}return g=(await this.client.createRoom({name:"Individual Policy Room",preset:n.Preset.PrivateChat})).room_id,await this.withIgnoreInvitesPolicies(c=>{c.target=g}),this.client.getRoom(g)}async getOrCreateSourceRooms(){let g=this.getIgnoreInvitesPolicies().sources,c=!1;Array.isArray(g)||(c=!0,g=[]);let h=g.filter(_=>typeof _=="string").map(_=>this.client.getRoom(_)).filter(_=>!!_);if(h.length!=g.length&&(c=!0),h.length==0){const _=await this.getOrCreateTargetRoom();c=!0,h=[_]}return c&&await this.withIgnoreInvitesPolicies(_=>{_.sources=g}),h}getIgnoreInvitesPolicies(){return this.getPoliciesAndIgnoreInvitesPolicies().ignoreInvitesPolicies}async withIgnoreInvitesPolicies(s){const{policies:g,ignoreInvitesPolicies:c}=this.getPoliciesAndIgnoreInvitesPolicies();s(c),g[i.name]=c,await this.client.setAccountData(o.name,g)}getPoliciesAndIgnoreInvitesPolicies(){let s={};for(const _ of[o.name,o.altName]){var g;if(!_)continue;const F=(g=this.client.getAccountData(_))===null||g===void 0?void 0:g.getContent();if(F){s=F;break}}let c={},h=!1;for(const _ of[i.name,i.altName]){if(!_)continue;const F=s[_];if(F&&typeof F=="object"){c=F,h=!0;break}}return h||(s[i.name]=c),{policies:s,ignoreInvitesPolicies:c}}}return Hr.IgnoredInvites=u,Hr}var US;function Mo(){if(US)return rn;US=1;var t=ze.exports;Object.defineProperty(rn,"__esModule",{value:!0}),rn.UNSTABLE_MSC3852_LAST_SEEN_UA=rn.RoomVersionStability=rn.PendingEventOrdering=rn.MatrixClient=rn.M_AUTHENTICATION=rn.ClientEvent=rn.CRYPTO_ENABLED=void 0,rn.fixNotificationCountOnDecryption=xe;var e=t(iK()),n=t(Je()),r=xm(),o=Im(),i=Kn(),a=MK(),l=Rm(),u=Tm(),d=hA(),s=Oe(tt),g=Oo(),c=U3(),h=Ka,_=Oe(Po()),F=El(),m=nH(),p=lt(),f=Oc,v=Bo,y=J3(),w=W3(),b=Pm(),S=so,x=Cc,N=FH(),U=wA(),q=_H(),P=Oe(Pt),G=Ji(),C=et,I=Yt,M=vH(),A=ag(),$=DA(),Y=bH(),T=Bc,D=Vt,R=Ac(),B=EH(),H=fA(),Q=un(),L=xc(),le=kA(),he=Mm(),De=SA(),ke=qn,W=CH(),z=TH(),oe=Cm(),ce=q3();const _e=["server","limit","since"];function we(me){if(typeof WeakMap!="function")return null;var k=new WeakMap,O=new WeakMap;return(we=function(K){return K?O:k})(me)}function Oe(me,k){if(!k&&me&&me.__esModule)return me;if(me===null||typeof me!="object"&&typeof me!="function")return{default:me};var O=we(k);if(O&&O.has(me))return O.get(me);var K={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in me)if(se!=="default"&&Object.prototype.hasOwnProperty.call(me,se)){var ge=Z?Object.getOwnPropertyDescriptor(me,se):null;ge&&(ge.get||ge.set)?Object.defineProperty(K,se,ge):K[se]=me[se]}return K.default=me,O&&O.set(me,K),K}function Le(me,k){var O=Object.keys(me);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(me);k&&(K=K.filter(function(Z){return Object.getOwnPropertyDescriptor(me,Z).enumerable})),O.push.apply(O,K)}return O}function Ue(me){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?Le(Object(O),!0).forEach(function(K){(0,n.default)(me,K,O[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(O)):Le(Object(O)).forEach(function(K){Object.defineProperty(me,K,Object.getOwnPropertyDescriptor(O,K))})}return me}const de=3e3,fe=(0,y.isCryptoAvailable)();rn.CRYPTO_ENABLED=fe;const Se=216e5,Ee=10*60*1e3,ye=new ke.UnstableValue("last_seen_user_agent","org.matrix.msc3852.last_seen_user_agent");rn.UNSTABLE_MSC3852_LAST_SEEN_UA=ye;let Te;rn.PendingEventOrdering=Te,function(me){me.Chronological="chronological",me.Detached="detached"}(Te||(rn.PendingEventOrdering=Te={}));let Ne;rn.RoomVersionStability=Ne,function(me){me.Stable="stable",me.Unstable="unstable"}(Ne||(rn.RoomVersionStability=Ne={}));var ne;(function(me){me.MasterKey="master_key",me.SelfSigningKey="self_signing_key",me.UserSigningKey="user_signing_key"})(ne||(ne={}));const j=new ke.UnstableValue("m.authentication","org.matrix.msc2965.authentication");rn.M_AUTHENTICATION=j;const V="$";let ie;rn.ClientEvent=ie,function(me){me.Sync="sync",me.Event="event",me.ToDeviceEvent="toDeviceEvent",me.AccountData="accountData",me.Room="Room",me.DeleteRoom="deleteRoom",me.SyncUnexpectedError="sync.unexpectedError",me.ClientWellKnown="WellKnown.client",me.ReceivedVoipEvent="received_voip_event",me.TurnServers="turnServers",me.TurnServersError="turnServers.error"}(ie||(rn.ClientEvent=ie={}));const pe=new ke.UnstableValue("action","org.matrix.msc3824.action");class be extends Q.TypedEventEmitter{constructor(k){var O;super(),(0,n.default)(this,"reEmitter",new F.TypedReEmitter(this)),(0,n.default)(this,"olmVersion",null),(0,n.default)(this,"usingExternalCrypto",!1),(0,n.default)(this,"store",void 0),(0,n.default)(this,"deviceId",void 0),(0,n.default)(this,"credentials",void 0),(0,n.default)(this,"pickleKey",void 0),(0,n.default)(this,"scheduler",void 0),(0,n.default)(this,"clientRunning",!1),(0,n.default)(this,"timelineSupport",!1),(0,n.default)(this,"urlPreviewCache",{}),(0,n.default)(this,"identityServer",void 0),(0,n.default)(this,"http",void 0),(0,n.default)(this,"crypto",void 0),(0,n.default)(this,"cryptoCallbacks",void 0),(0,n.default)(this,"callEventHandler",void 0),(0,n.default)(this,"groupCallEventHandler",void 0),(0,n.default)(this,"supportsCallTransfer",!1),(0,n.default)(this,"forceTURN",!1),(0,n.default)(this,"iceCandidatePoolSize",0),(0,n.default)(this,"idBaseUrl",void 0),(0,n.default)(this,"baseUrl",void 0),(0,n.default)(this,"canSupportVoip",!1),(0,n.default)(this,"peekSync",null),(0,n.default)(this,"isGuestAccount",!1),(0,n.default)(this,"ongoingScrollbacks",{}),(0,n.default)(this,"notifTimelineSet",null),(0,n.default)(this,"cryptoStore",void 0),(0,n.default)(this,"verificationMethods",void 0),(0,n.default)(this,"fallbackICEServerAllowed",!1),(0,n.default)(this,"roomList",void 0),(0,n.default)(this,"syncApi",void 0),(0,n.default)(this,"roomNameGenerator",void 0),(0,n.default)(this,"pushRules",void 0),(0,n.default)(this,"syncLeftRoomsPromise",void 0),(0,n.default)(this,"syncedLeftRooms",!1),(0,n.default)(this,"clientOpts",void 0),(0,n.default)(this,"clientWellKnownIntervalID",void 0),(0,n.default)(this,"canResetTimelineCallback",void 0),(0,n.default)(this,"canSupport",new Map),(0,n.default)(this,"pushProcessor",new c.PushProcessor(this)),(0,n.default)(this,"serverVersionsPromise",void 0),(0,n.default)(this,"cachedCapabilities",void 0),(0,n.default)(this,"clientWellKnown",void 0),(0,n.default)(this,"clientWellKnownPromise",void 0),(0,n.default)(this,"turnServers",[]),(0,n.default)(this,"turnServersExpiry",0),(0,n.default)(this,"checkTurnServersIntervalID",void 0),(0,n.default)(this,"exportedOlmDeviceToImport",void 0),(0,n.default)(this,"txnCtr",0),(0,n.default)(this,"mediaHandler",new B.MediaHandler(this)),(0,n.default)(this,"sessionId",void 0),(0,n.default)(this,"pendingEventEncryption",new Map),(0,n.default)(this,"useE2eForGroupCall",!0),(0,n.default)(this,"toDeviceMessageQueue",void 0),(0,n.default)(this,"ignoredInvites",void 0),(0,n.default)(this,"startCallEventHandler",()=>{this.isInitialSyncComplete()&&(this.callEventHandler.start(),this.groupCallEventHandler.start(),this.off(ie.Sync,this.startCallEventHandler))}),k.baseUrl=s.ensureNoTrailingSlash(k.baseUrl),k.idBaseUrl=s.ensureNoTrailingSlash(k.idBaseUrl),this.baseUrl=k.baseUrl,this.idBaseUrl=k.idBaseUrl,this.identityServer=k.identityServer,this.usingExternalCrypto=(O=k.usingExternalCrypto)!==null&&O!==void 0?O:!1,this.store=k.store||new a.StubStore,this.deviceId=k.deviceId||null,this.sessionId=(0,A.randomString)(10);const K=k.userId||null;this.credentials={userId:K},this.http=new v.MatrixHttpApi(this,{fetchFn:k.fetchFn,baseUrl:k.baseUrl,idBaseUrl:k.idBaseUrl,accessToken:k.accessToken,prefix:v.ClientPrefix.R0,onlyData:!0,extraParams:k.queryParams,localTimeoutMs:k.localTimeoutMs,useAuthorizationHeader:k.useAuthorizationHeader}),k.deviceToImport?this.deviceId?p.logger.warn("not importing device because device ID is provided to constructor independently of exported data"):this.credentials.userId?p.logger.warn("not importing device because user ID is provided to constructor independently of exported data"):k.deviceToImport.deviceId?(this.deviceId=k.deviceToImport.deviceId,this.credentials.userId=k.deviceToImport.userId,this.exportedOlmDeviceToImport=k.deviceToImport.olmDevice):p.logger.warn("not importing device because no device ID in exported data"):k.pickleKey&&(this.pickleKey=k.pickleKey),this.scheduler=k.scheduler,this.scheduler&&this.scheduler.setProcessFunction(async Z=>{const se=this.getRoom(Z.getRoomId());Z.status!==i.EventStatus.SENDING&&this.updatePendingEventStatus(se,Z,i.EventStatus.SENDING);const ge=await this.sendEventHttpRequest(Z);return se&&se.updatePendingEvent(Z,i.EventStatus.SENT,ge.event_id),ge}),(0,l.supportsMatrixCall)()&&(this.callEventHandler=new d.CallEventHandler(this),this.groupCallEventHandler=new H.GroupCallEventHandler(this),this.canSupportVoip=!0,this.on(ie.Sync,this.startCallEventHandler)),this.timelineSupport=Boolean(k.timelineSupport),this.cryptoStore=k.cryptoStore,this.verificationMethods=k.verificationMethods,this.cryptoCallbacks=k.cryptoCallbacks||{},this.forceTURN=k.forceTURN||!1,this.iceCandidatePoolSize=k.iceCandidatePoolSize===void 0?0:k.iceCandidatePoolSize,this.supportsCallTransfer=k.supportsCallTransfer||!1,this.fallbackICEServerAllowed=k.fallbackICEServerAllowed||!1,k.useE2eForGroupCall!==void 0&&(this.useE2eForGroupCall=k.useE2eForGroupCall),this.roomList=new m.RoomList(this.cryptoStore),this.roomNameGenerator=k.roomNameGenerator,this.toDeviceMessageQueue=new W.ToDeviceMessageQueue(this),this.on(i.MatrixEventEvent.Decrypted,Z=>{xe(this,Z)}),this.on(G.RoomEvent.Receipt,(Z,se)=>{if(se&&this.isRoomEncrypted(se.roomId)){const Ce=Z.getContent();if(!(Object.keys(Ce).filter(Ze=>{for(const[nt,Be]of Object.entries(Ce[Ze]))if(s.isSupportedReceiptType(nt)&&Be&&Object.keys(Be).includes(this.getUserId()))return!0;return!1}).length>0))return;const Ae=20,$e=se.getLiveTimeline().getEvents();let qe=0;for(let Ze=$e.length-1;Ze>=0;Ze--){var ge;if(Ze===$e.length-Ae)return;const nt=$e[Ze];if(se.hasUserReadEvent(this.getUserId(),nt.getId()))break;const Be=this.getPushActionsForEvent(nt);qe+=Be!=null&&(ge=Be.tweaks)!==null&&ge!==void 0&&ge.highlight?1:0}se.setUnreadNotificationCount(G.NotificationCountType.Highlight,qe)}}),this.ignoredInvites=new z.IgnoredInvites(this)}async startClient(k){if(this.clientRunning)return;this.clientRunning=!0,typeof k=="number"&&(k={initialSyncLimit:k});const O=this.getUserId();O&&this.store.storeUser(new S.User(O)),this.crypto&&this.crypto.uploadDeviceKeys(),this.canSupportVoip&&(this.checkTurnServersIntervalID=setInterval(()=>{this.checkTurnServers()},Ee),this.checkTurnServers()),this.syncApi&&(p.logger.error("Still have sync object whilst not running: stopping old one"),this.syncApi.stop());try{await this.getVersions();const{threads:K,list:Z,fwdPagination:se}=await this.doesServerSupportThread();he.Thread.setServerSideSupport(K),he.Thread.setServerSideListSupport(Z),he.Thread.setServerSideFwdPaginationSupport(se)}catch(K){p.logger.error("Can't fetch server versions, continuing to initialise sync, this will be retried later",K)}this.clientOpts=Object.assign({},k),this.clientOpts.crypto=this.crypto,this.clientOpts.canResetEntireTimeline=K=>this.canResetTimelineCallback?this.canResetTimelineCallback(K):!1,this.clientOpts.slidingSync?this.syncApi=new le.SlidingSyncSdk(this.clientOpts.slidingSync,this,this.clientOpts):this.syncApi=new o.SyncApi(this,this.clientOpts),this.syncApi.sync(),this.clientOpts.clientWellKnownPollPeriod!==void 0&&(this.clientWellKnownIntervalID=setInterval(()=>{this.fetchClientWellKnown()},1e3*this.clientOpts.clientWellKnownPollPeriod),this.fetchClientWellKnown()),this.toDeviceMessageQueue.start()}stopClient(){var k,O,K,Z,se;(k=this.crypto)===null||k===void 0||k.stop(),this.clientRunning&&(p.logger.log("stopping MatrixClient"),this.clientRunning=!1,(O=this.syncApi)===null||O===void 0||O.stop(),this.syncApi=void 0,(K=this.peekSync)===null||K===void 0||K.stopPeeking(),(Z=this.callEventHandler)===null||Z===void 0||Z.stop(),(se=this.groupCallEventHandler)===null||se===void 0||se.stop(),this.callEventHandler=void 0,this.groupCallEventHandler=void 0,Pe.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=void 0,this.clientWellKnownIntervalID!==void 0&&Pe.clearInterval(this.clientWellKnownIntervalID),this.toDeviceMessageQueue.stop())}async rehydrateDevice(){if(this.crypto)throw new Error("Cannot rehydrate device after crypto is initialized");if(!this.cryptoCallbacks.getDehydrationKey)return;const k=await this.getDehydratedDevice();if(!k)return;if(!k.device_data||!k.device_id){p.logger.info("no dehydrated device found");return}const O=new Pe.Olm.Account;try{const K=k.device_data;if(K.algorithm!==U.DEHYDRATION_ALGORITHM){p.logger.warn("Wrong algorithm for dehydrated device");return}p.logger.log("unpickling dehydrated device");const Z=await this.cryptoCallbacks.getDehydrationKey(K,ge=>{O.unpickle(new Uint8Array(ge),K.account)});if(O.unpickle(Z,K.account),p.logger.log("unpickled device"),(await this.http.authedRequest(v.Method.Post,"/dehydrated_device/claim",void 0,{device_id:k.device_id},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})).success){this.deviceId=k.device_id,p.logger.info("using dehydrated device");const ge=this.pickleKey||"DEFAULT_KEY";return this.exportedOlmDeviceToImport={pickledAccount:O.pickle(ge),sessions:[],pickleKey:ge},O.free(),this.deviceId}else{O.free(),p.logger.info("not using dehydrated device");return}}catch(K){O.free(),p.logger.warn("could not unpickle",K)}}async getDehydratedDevice(){try{return await this.http.authedRequest(v.Method.Get,"/dehydrated_device",void 0,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})}catch(k){p.logger.info("could not get dehydrated device",k);return}}async setDehydrationKey(k,O,K){if(!this.crypto){p.logger.warn("not dehydrating device if crypto is not enabled");return}return this.crypto.dehydrationManager.setKeyAndQueueDehydration(k,O,K)}async createDehydratedDevice(k,O,K){if(!this.crypto){p.logger.warn("not dehydrating device if crypto is not enabled");return}return await this.crypto.dehydrationManager.setKey(k,O,K),this.crypto.dehydrationManager.dehydrateDevice()}async exportDevice(){if(!this.crypto){p.logger.warn("not exporting device if crypto is not enabled");return}return{userId:this.credentials.userId,deviceId:this.deviceId,olmDevice:await this.crypto.olmDevice.export()}}clearStores(){if(this.clientRunning)throw new Error("Cannot clear stores while client is running");const k=[];return k.push(this.store.deleteAllData()),this.cryptoStore&&k.push(this.cryptoStore.deleteAllData()),Promise.all(k).then()}getUserId(){return this.credentials&&this.credentials.userId?this.credentials.userId:null}getDomain(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null}getUserIdLocalpart(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null}getDeviceId(){return this.deviceId}getSessionId(){return this.sessionId}supportsVoip(){return this.canSupportVoip}getMediaHandler(){return this.mediaHandler}setForceTURN(k){this.forceTURN=k}setSupportsCallTransfer(k){this.supportsCallTransfer=k}getUseE2eForGroupCall(){return this.useE2eForGroupCall}createCall(k){return(0,l.createNewMatrixCall)(this,k)}async createGroupCall(k,O,K,Z,se,ge){if(this.getGroupCallForRoom(k))throw new Error(`${k} already has an existing group call`);const Ce=this.getRoom(k);if(!Ce)throw new Error(`Cannot find room ${k}`);return new R.GroupCall(this,Ce,O,K,Z,void 0,se,ge).create()}waitUntilRoomReadyForGroupCalls(k){return this.groupCallEventHandler.waitUntilRoomReadyForGroupCalls(k)}getGroupCallForRoom(k){return this.groupCallEventHandler.groupCalls.get(k)||null}getSyncState(){var k,O;return(k=(O=this.syncApi)===null||O===void 0?void 0:O.getSyncState())!==null&&k!==void 0?k:null}getSyncStateData(){return this.syncApi?this.syncApi.getSyncStateData():null}isInitialSyncComplete(){const k=this.getSyncState();return k?k===o.SyncState.Prepared||k===o.SyncState.Syncing:!1}isGuest(){return this.isGuestAccount}setGuest(k){this.isGuestAccount=k}getScheduler(){return this.scheduler}retryImmediately(){var k,O;return this.toDeviceMessageQueue.sendQueue(),(k=(O=this.syncApi)===null||O===void 0?void 0:O.retryImmediately())!==null&&k!==void 0?k:!1}getNotifTimelineSet(){return this.notifTimelineSet}setNotifTimelineSet(k){this.notifTimelineSet=k}getCapabilities(k=!1){const O=new Date().getTime();return this.cachedCapabilities&&!k&&O<this.cachedCapabilities.expiration?(p.logger.log("Returning cached capabilities"),Promise.resolve(this.cachedCapabilities.capabilities)):this.http.authedRequest(v.Method.Get,"/capabilities").catch(K=>{p.logger.error(K)}).then((K={})=>{const Z=K.capabilities||{},se=Object.keys(Z).length?Se:6e4+Math.random()*5e3;return this.cachedCapabilities={capabilities:Z,expiration:O+se},p.logger.log("Caching capabilities: ",Z),Z})}async initCrypto(){if(!(0,y.isCryptoAvailable)())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(this.crypto){p.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient");return}if(!this.cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");p.logger.log("Crypto: Starting up crypto store..."),await this.cryptoStore.startup(),p.logger.log("Crypto: initialising roomlist..."),await this.roomList.init();const k=this.getUserId();if(k===null)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(this.deviceId===null)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");const O=new y.Crypto(this,k,this.deviceId,this.store,this.cryptoStore,this.roomList,this.verificationMethods);this.reEmitter.reEmit(O,[y.CryptoEvent.KeyBackupFailed,y.CryptoEvent.KeyBackupSessionsRemaining,y.CryptoEvent.RoomKeyRequest,y.CryptoEvent.RoomKeyRequestCancellation,y.CryptoEvent.Warning,y.CryptoEvent.DevicesUpdated,y.CryptoEvent.WillUpdateDevices,y.CryptoEvent.DeviceVerificationChanged,y.CryptoEvent.UserTrustStatusChanged,y.CryptoEvent.KeysChanged]),p.logger.log("Crypto: initialising crypto object..."),await O.init({exportedOlmDevice:this.exportedOlmDeviceToImport,pickleKey:this.pickleKey}),delete this.exportedOlmDeviceToImport,this.olmVersion=y.Crypto.getOlmVersion(),O.registerEventHandlers(this),this.crypto=O}isCryptoEnabled(){return!!this.crypto}getDeviceEd25519Key(){var k,O;return(k=(O=this.crypto)===null||O===void 0?void 0:O.getDeviceEd25519Key())!==null&&k!==void 0?k:null}getDeviceCurve25519Key(){var k,O;return(k=(O=this.crypto)===null||O===void 0?void 0:O.getDeviceCurve25519Key())!==null&&k!==void 0?k:null}async uploadKeys(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.uploadDeviceKeys()}downloadKeys(k,O){return this.crypto?this.crypto.downloadKeys(k,O):Promise.reject(new Error("End-to-end encryption disabled"))}getStoredDevicesForUser(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevicesForUser(k)||[]}getStoredDevice(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevice(k,O)||null}setDeviceVerified(k,O,K=!0){const Z=this.setDeviceVerification(k,O,K,null,null);return k==this.credentials.userId&&this.checkKeyBackup(),Z}setDeviceBlocked(k,O,K=!0){return this.setDeviceVerification(k,O,null,K,null)}setDeviceKnown(k,O,K=!0){return this.setDeviceVerification(k,O,null,null,K)}async setDeviceVerification(k,O,K,Z,se){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.setDeviceVerification(k,O,K,Z,se)}requestVerificationDM(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerificationDM(k,O)}findVerificationRequestDMInProgress(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.findVerificationRequestDMInProgress(k)}getVerificationRequestsToDeviceInProgress(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getVerificationRequestsToDeviceInProgress(k)}requestVerification(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerification(k,O)}beginKeyVerification(k,O,K){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.beginKeyVerification(k,O,K)}checkSecretStorageKey(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStorageKey(k,O)}setGlobalBlacklistUnverifiedDevices(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.globalBlacklistUnverifiedDevices=k,k}getGlobalBlacklistUnverifiedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.globalBlacklistUnverifiedDevices}setGlobalErrorOnUnknownDevices(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.globalErrorOnUnknownDevices=k}getGlobalErrorOnUnknownDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.globalErrorOnUnknownDevices}getCrossSigningId(k=q.CrossSigningKey.Master){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCrossSigningId(k)}getStoredCrossSigningForUser(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredCrossSigningForUser(k)}checkUserTrust(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkUserTrust(k)}checkDeviceTrust(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkDeviceTrust(k,O)}checkIfOwnDeviceCrossSigned(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkIfOwnDeviceCrossSigned(k)}checkOwnCrossSigningTrust(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkOwnCrossSigningTrust(k)}checkCrossSigningPrivateKey(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkCrossSigningPrivateKey(k,O)}legacyDeviceVerification(k,O,K){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.legacyDeviceVerification(k,O,K)}prepareToEncrypt(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.prepareToEncrypt(k)}isCrossSigningReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isCrossSigningReady()}bootstrapCrossSigning(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapCrossSigning(k)}getCryptoTrustCrossSignedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCryptoTrustCrossSignedDevices()}setCryptoTrustCrossSignedDevices(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.setCryptoTrustCrossSignedDevices(k)}countSessionsNeedingBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.countSessionsNeedingBackup()}getEventEncryptionInfo(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getEventEncryptionInfo(k)}createRecoveryKeyFromPassphrase(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.createRecoveryKeyFromPassphrase(k)}isSecretStorageReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStorageReady()}bootstrapSecretStorage(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapSecretStorage(k)}addSecretStorageKey(k,O,K){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.addSecretStorageKey(k,O,K)}hasSecretStorageKey(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.hasSecretStorageKey(k)}storeSecret(k,O,K){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.storeSecret(k,O,K)}getSecret(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getSecret(k)}isSecretStored(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStored(k)}requestSecret(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestSecret(k,O)}getDefaultSecretStorageKeyId(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getDefaultSecretStorageKeyId()}setDefaultSecretStorageKeyId(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setDefaultSecretStorageKeyId(k)}checkSecretStoragePrivateKey(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStoragePrivateKey(k,O)}async getEventSenderDeviceInfo(k){return this.crypto?this.crypto.getEventSenderDeviceInfo(k):null}async isEventSenderVerified(k){const O=await this.getEventSenderDeviceInfo(k);return O?O.isVerified():!1}cancelAndResendEventRoomKeyRequest(k){if(!this.crypto)throw new Error("End-to-End encryption disabled");return k.cancelAndResendKeyRequest(this.crypto,this.getUserId())}setRoomEncryption(k,O){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.setRoomEncryption(k,O)}isRoomEncrypted(k){const O=this.getRoom(k);return O?O.currentState.getStateEvents(C.EventType.RoomEncryption,"")?!0:this.roomList.isRoomEncrypted(k):!1}encryptAndSendToDevices(k,O){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.encryptAndSendToDevices(k,O)}forceDiscardSession(k){if(!this.crypto)throw new Error("End-to-End encryption disabled");this.crypto.forceDiscardSession(k)}exportRoomKeys(){return this.crypto?this.crypto.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))}importRoomKeys(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.importRoomKeys(k,O)}checkKeyBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.checkKeyBackup()}async getKeyBackupVersion(){let k;try{k=await this.http.authedRequest(v.Method.Get,"/room_keys/version",void 0,void 0,{prefix:v.ClientPrefix.V3})}catch(O){if(O.errcode==="M_NOT_FOUND")return null;throw O}return $.BackupManager.checkBackupVersion(k),k}isKeyBackupTrusted(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.isKeyBackupTrusted(k)}getKeyBackupEnabled(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.getKeyBackupEnabled()}enableKeyBackup(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.enableKeyBackup(k)}disableKeyBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.disableKeyBackup()}async prepareKeyBackupVersion(k,O={secureSecretStorage:!1}){if(!this.crypto)throw new Error("End-to-end encryption disabled");const{algorithm:K,auth_data:Z,recovery_key:se,privateKey:ge}=await this.crypto.backupManager.prepareKeyBackupVersion(k);return O.secureSecretStorage&&(await this.storeSecret("m.megolm_backup.v1",(0,_.encodeBase64)(ge)),p.logger.info("Key backup private key stored in secret storage")),{algorithm:K,auth_data:Z,recovery_key:se}}isKeyBackupKeyStored(){return Promise.resolve(this.isSecretStored("m.megolm_backup.v1"))}async createKeyBackupVersion(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.createKeyBackupVersion(k);const O={algorithm:k.algorithm,auth_data:k.auth_data};await this.crypto.signObject(O.auth_data),this.cryptoCallbacks.getCrossSigningKey&&this.crypto.crossSigningInfo.getId()&&await this.crypto.crossSigningInfo.signObject(O.auth_data,"master");const K=await this.http.authedRequest(v.Method.Post,"/room_keys/version",void 0,O,{prefix:v.ClientPrefix.V3});return await this.checkKeyBackup(),this.getKeyBackupEnabled()||p.logger.error("Key backup not usable even though we just created it"),K}async deleteKeyBackupVersion(k){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.version&&this.crypto.backupManager.disableKeyBackup();const O=s.encodeUri("/room_keys/version/$version",{$version:k});await this.http.authedRequest(v.Method.Delete,O,void 0,void 0,{prefix:v.ClientPrefix.V3})}makeKeyBackupPath(k,O,K){let Z;return O!==void 0?Z=s.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:k,$sessionId:O}):k!==void 0?Z=s.encodeUri("/room_keys/keys/$roomId",{$roomId:k}):Z="/room_keys/keys",{path:Z,queryData:K===void 0?void 0:{version:K}}}async sendKeyBackup(k,O,K,Z){if(!this.crypto)throw new Error("End-to-end encryption disabled");const se=this.makeKeyBackupPath(k,O,K);await this.http.authedRequest(v.Method.Put,se.path,se.queryData,Z,{prefix:v.ClientPrefix.V3})}async scheduleAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.scheduleAllGroupSessionsForBackup()}flagAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.flagAllGroupSessionsForBackup()}isValidRecoveryKey(k){try{return(0,w.decodeRecoveryKey)(k),!0}catch{return!1}}keyBackupKeyFromPassword(k,O){return(0,b.keyFromAuthData)(O.auth_data,k)}keyBackupKeyFromRecoveryKey(k){return(0,w.decodeRecoveryKey)(k)}async restoreKeyBackupWithPassword(k,O,K,Z,se){const ge=await(0,b.keyFromAuthData)(Z.auth_data,k);return this.restoreKeyBackup(ge,O,K,Z,se)}async restoreKeyBackupWithSecretStorage(k,O,K,Z){if(!this.crypto)throw new Error("End-to-end encryption disabled");const se=await this.getSecret("m.megolm_backup.v1"),ge=(0,y.fixBackupKey)(se);if(ge){const Ie=await this.crypto.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",ge,[Ie[0]])}const Ce=(0,_.decodeBase64)(ge||se);return this.restoreKeyBackup(Ce,O,K,k,Z)}restoreKeyBackupWithRecoveryKey(k,O,K,Z,se){const ge=(0,w.decodeRecoveryKey)(k);return this.restoreKeyBackup(ge,O,K,Z,se)}async restoreKeyBackupWithCache(k,O,K,Z){if(!this.crypto)throw new Error("End-to-end encryption disabled");const se=await this.crypto.getSessionBackupPrivateKey();if(!se)throw new Error("Couldn't get key");return this.restoreKeyBackup(se,k,O,K,Z)}async restoreKeyBackup(k,O,K,Z,se){const ge=se==null?void 0:se.cacheCompleteCallback,Ce=se==null?void 0:se.progressCallback;if(!this.crypto)throw new Error("End-to-end encryption disabled");let Ie=0,Ae=[];const $e=this.makeKeyBackupPath(O,K,Z.version),qe=await $.BackupManager.makeAlgorithm(Z,async()=>k),Ze=qe.untrusted;try{if(!await qe.keyMatches(k))return Promise.reject(new v.MatrixError({errcode:be.RESTORE_BACKUP_ERROR_BAD_KEY}));this.crypto.storeSessionBackupPrivateKey(k).catch(Be=>{p.logger.warn("Error caching session backup key:",Be)}).then(ge),Ce&&Ce({stage:"fetch"});const nt=await this.http.authedRequest(v.Method.Get,$e.path,$e.queryData,void 0,{prefix:v.ClientPrefix.V3});if(nt.rooms){const Be=nt.rooms;for(const[ot,Xe]of Object.entries(Be)){if(!Xe.sessions)continue;Ie+=Object.keys(Xe.sessions).length;const He=await qe.decryptSessions(Xe.sessions);for(const wt of He)wt.room_id=ot,Ae.push(wt)}}else if(nt.sessions){const Be=nt.sessions;Ie=Object.keys(Be).length,Ae=await qe.decryptSessions(Be);for(const ot of Ae)ot.room_id=O}else{Ie=1;try{const[Be]=await qe.decryptSessions({[K]:nt});Be.room_id=O,Be.session_id=K,Ae.push(Be)}catch(Be){p.logger.log("Failed to decrypt megolm session from backup",Be)}}}finally{qe.free()}return await this.importRoomKeys(Ae,{progressCallback:Ce,untrusted:Ze,source:"backup"}),await this.checkKeyBackup(),{total:Ie,imported:Ae.length}}async deleteKeysFromBackup(k,O,K){if(!this.crypto)throw new Error("End-to-end encryption disabled");const Z=this.makeKeyBackupPath(k,O,K);await this.http.authedRequest(v.Method.Delete,Z.path,Z.queryData,void 0,{prefix:v.ClientPrefix.V3})}async sendSharedHistoryKeys(k,O){if(!this.crypto)throw new Error("End-to-end encryption disabled");const K=this.roomList.getRoomEncryption(k);if(!K){p.logger.error("Unknown room.  Not sharing decryption keys");return}const Z=await this.crypto.downloadKeys(O),se={};for(const[Ce,Ie]of Object.entries(Z))se[Ce]=Object.values(Ie);const ge=this.crypto.getRoomDecryptor(k,K.algorithm);ge.sendSharedHistoryInboundSessions?await ge.sendSharedHistoryInboundSessions(se):p.logger.warn("Algorithm does not support sharing previous keys",K.algorithm)}getMediaConfig(){return this.http.authedRequest(v.Method.Get,"/config",void 0,void 0,{prefix:v.MediaPrefix.R0})}getRoom(k){return k?this.store.getRoom(k):null}getRooms(){return this.store.getRooms()}getVisibleRooms(){const k=this.store.getRooms(),O=new Set;for(const K of k){const Z=K.currentState.getStateEvents(C.EventType.RoomCreate,"");if(Z){const se=Z.getContent().predecessor;se&&se.room_id&&O.add(se.room_id)}}return k.filter(K=>!(K.currentState.getStateEvents(C.EventType.RoomTombstone,"")&&O.has(K.roomId)))}getUser(k){return this.store.getUser(k)}getUsers(){return this.store.getUsers()}setAccountData(k,O){const K=s.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:k});return(0,v.retryNetworkOperation)(5,()=>this.http.authedRequest(v.Method.Put,K,void 0,O))}getAccountData(k){return this.store.getAccountData(k)}async getAccountDataFromServer(k){if(this.isInitialSyncComplete()){const Z=this.store.getAccountData(k);return Z?Z.getContent():null}const O=s.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:k});try{return await this.http.authedRequest(v.Method.Get,O)}catch(Z){var K;if(((K=Z.data)===null||K===void 0?void 0:K.errcode)==="M_NOT_FOUND")return null;throw Z}}getIgnoredUsers(){const k=this.getAccountData("m.ignored_user_list");return!k||!k.getContent()||!k.getContent().ignored_users?[]:Object.keys(k.getContent().ignored_users)}setIgnoredUsers(k){const O={ignored_users:{}};return k.forEach(K=>{O.ignored_users[K]={}}),this.setAccountData("m.ignored_user_list",O)}isUserIgnored(k){return this.getIgnoredUsers().includes(k)}async joinRoom(k,O={}){O.syncRoom===void 0&&(O.syncRoom=!0);const K=this.getRoom(k);if(K!=null&&K.hasMembershipState(this.credentials.userId,"join"))return Promise.resolve(K);let Z=Promise.resolve();if(O.inviteSignUrl){const ge=new URL(O.inviteSignUrl);ge.searchParams.set("mxid",this.credentials.userId),Z=this.http.requestOtherUrl(v.Method.Post,ge)}const se={};O.viaServers&&(se.server_name=O.viaServers);try{const ge={},Ce=await Z;Ce&&(ge.third_party_signed=Ce);const Ie=s.encodeUri("/join/$roomid",{$roomid:k}),$e=(await this.http.authedRequest(v.Method.Post,Ie,se,ge)).room_id,Ze=new o.SyncApi(this,this.clientOpts).createRoom($e);return O.syncRoom,Ze}catch(ge){throw ge}}resendEvent(k,O){return this.toDeviceMessageQueue.sendQueue(),this.updatePendingEventStatus(O,k,i.EventStatus.SENDING),this.encryptAndSendEvent(O,k)}cancelPendingEvent(k){if(![i.EventStatus.QUEUED,i.EventStatus.NOT_SENT,i.EventStatus.ENCRYPTING].includes(k.status))throw new Error("cannot cancel an event with status "+k.status);k.status===i.EventStatus.ENCRYPTING?this.pendingEventEncryption.delete(k.getId()):this.scheduler&&k.status===i.EventStatus.QUEUED&&this.scheduler.removeEventFromQueue(k);const O=this.getRoom(k.getRoomId());this.updatePendingEventStatus(O,k,i.EventStatus.CANCELLED)}setRoomName(k,O){return this.sendStateEvent(k,C.EventType.RoomName,{name:O})}setRoomTopic(k,O,K){const Z=P.makeTopicContent(O,K);return this.sendStateEvent(k,C.EventType.RoomTopic,Z)}getRoomTags(k){const O=s.encodeUri("/user/$userId/rooms/$roomId/tags",{$userId:this.credentials.userId,$roomId:k});return this.http.authedRequest(v.Method.Get,O)}setRoomTag(k,O,K){const Z=s.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:k,$tag:O});return this.http.authedRequest(v.Method.Put,Z,void 0,K)}deleteRoomTag(k,O){const K=s.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:k,$tag:O});return this.http.authedRequest(v.Method.Delete,K)}setRoomAccountData(k,O,K){const Z=s.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:k,$type:O});return this.http.authedRequest(v.Method.Put,Z,void 0,K)}setPowerLevel(k,O,K,Z){let se={users:{}};(Z==null?void 0:Z.getType())===C.EventType.RoomPowerLevels&&(se=s.deepCopy(Z.getContent())),se.users[O]=K;const ge=s.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:k});return this.http.authedRequest(v.Method.Put,ge,void 0,se)}async unstable_createLiveBeacon(k,O){return this.unstable_setLiveBeacon(k,O)}async unstable_setLiveBeacon(k,O){return this.sendStateEvent(k,De.M_BEACON_INFO.name,O,this.getUserId())}sendEvent(k,O,K,Z,se){var ge,Ce;if(!((ge=O)!==null&&ge!==void 0&&ge.startsWith(V))&&O!==null&&(se=Z,Z=K,K=O,O=null),O&&!((Ce=Z["m.relates_to"])!==null&&Ce!==void 0&&Ce.rel_type)){var Ie,Ae;const Ze=!!((Ie=Z["m.relates_to"])!==null&&Ie!==void 0&&Ie["m.in_reply_to"]);Z["m.relates_to"]=Ue(Ue({},Z["m.relates_to"]),{},{rel_type:he.THREAD_RELATION_TYPE.name,event_id:O,is_falling_back:!Ze});const nt=(Ae=this.getRoom(k))===null||Ae===void 0?void 0:Ae.getThread(O);if(nt&&!Ze){var $e,qe;Z["m.relates_to"]["m.in_reply_to"]={event_id:($e=(qe=nt.lastReply(Be=>Be.isRelation(he.THREAD_RELATION_TYPE.name)&&!Be.status))===null||qe===void 0?void 0:qe.getId())!==null&&$e!==void 0?$e:O}}}return this.sendCompleteEvent(k,O,{type:K,content:Z},se)}sendCompleteEvent(k,O,K,Z){Z||(Z=this.makeTxnId());const se=new i.MatrixEvent(Object.assign(K,{event_id:"~"+k+":"+Z,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:k,origin_server_ts:new Date().getTime()})),ge=this.getRoom(k),Ce=O?ge==null?void 0:ge.getThread(O):void 0;Ce&&se.setThread(Ce),this.reEmitter.reEmit(se,[i.MatrixEventEvent.Replaced,i.MatrixEventEvent.VisibilityChange]),ge==null||ge.reEmitter.reEmit(se,[i.MatrixEventEvent.BeforeRedaction]);const Ie=se.getAssociatedId();if(Ie!=null&&Ie.startsWith("~")){const $e=ge==null?void 0:ge.getPendingEvents().find(qe=>qe.getId()===Ie);$e==null||$e.once(i.MatrixEventEvent.LocalEventIdReplaced,()=>{se.updateAssociatedId($e.getId())})}const Ae=se.getType();return p.logger.log(`sendEvent of type ${Ae} in ${k} with txnId ${Z}`),se.setTxnId(Z),se.setStatus(i.EventStatus.SENDING),ge==null||ge.addPendingEvent(se,Z),se.status===i.EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):this.encryptAndSendEvent(ge,se)}encryptAndSendEvent(k,O){let K=!1;return Promise.resolve().then(()=>{const Z=this.encryptEventIfNeeded(O,k??void 0);return Z?(this.pendingEventEncryption.set(O.getId(),Z),this.updatePendingEventStatus(k,O,i.EventStatus.ENCRYPTING),Z.then(()=>{if(!this.pendingEventEncryption.has(O.getId())){K=!0;return}this.updatePendingEventStatus(k,O,i.EventStatus.SENDING)})):null}).then(()=>{if(K)return{};let Z=null;return this.scheduler&&(Z=this.scheduler.queueEvent(O),Z&&this.scheduler.getQueueForEvent(O).length>1&&this.updatePendingEventStatus(k,O,i.EventStatus.QUEUED)),Z||(Z=this.sendEventHttpRequest(O),k&&(Z=Z.then(se=>(k.updatePendingEvent(O,i.EventStatus.SENT,se.event_id),se)))),Z}).catch(Z=>{p.logger.error("Error sending event",Z.stack||Z);try{O.error=Z,this.updatePendingEventStatus(k,O,i.EventStatus.NOT_SENT)}catch(se){p.logger.error("Exception in error handler!",se.stack||Z)}throw Z instanceof v.MatrixError&&(Z.event=O),Z})}encryptEventIfNeeded(k,O){if(k.isEncrypted()||k.isRedaction()||!this.isRoomEncrypted(k.getRoomId())||!this.crypto&&this.usingExternalCrypto||k.getType()===C.EventType.Reaction)return null;if(!this.crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return this.crypto.encryptEvent(k,O)}getEncryptedIfNeededEventType(k,O){return O===C.EventType.Reaction?O:this.isRoomEncrypted(k)?C.EventType.RoomMessageEncrypted:O}updatePendingEventStatus(k,O,K){k?k.updatePendingEvent(O,K):O.setStatus(K)}sendEventHttpRequest(k){let O=k.getTxnId();O||(O=this.makeTxnId(),k.setTxnId(O));const K={$roomId:k.getRoomId(),$eventType:k.getWireType(),$stateKey:k.getStateKey(),$txnId:O};let Z;if(k.isState()){let se="/rooms/$roomId/state/$eventType";k.getStateKey()&&k.getStateKey().length>0&&(se="/rooms/$roomId/state/$eventType/$stateKey"),Z=s.encodeUri(se,K)}else if(k.isRedaction()){const se="/rooms/$roomId/redact/$redactsEventId/$txnId";Z=s.encodeUri(se,Ue({$redactsEventId:k.event.redacts},K))}else Z=s.encodeUri("/rooms/$roomId/send/$eventType/$txnId",K);return this.http.authedRequest(v.Method.Put,Z,void 0,k.getWireContent()).then(se=>(p.logger.log(`Event sent to ${k.getRoomId()} with event id ${se.event_id}`),se))}redactEvent(k,O,K,Z,se){var ge,Ce;(ge=K)!==null&&ge!==void 0&&ge.startsWith(V)||(se=Z,Z=K,K=O,O=null);const Ie=(Ce=se)===null||Ce===void 0?void 0:Ce.reason;return this.sendCompleteEvent(k,O,{type:C.EventType.RoomRedaction,content:{reason:Ie},redacts:K},Z)}sendMessage(k,O,K,Z){typeof O!="string"&&O!==null&&(Z=K,K=O,O=null);let se=C.EventType.RoomMessage,ge=K;const Ce=(Ae={},$e=!0)=>{let qe;if(Ae.msgtype===C.MsgType.Text?qe=r.MessageEvent.from(Ae.body,Ae.formatted_body).serialize():Ae.msgtype===C.MsgType.Emote?qe=r.EmoteEvent.from(Ae.body,Ae.formatted_body).serialize():Ae.msgtype===C.MsgType.Notice&&(qe=r.NoticeEvent.from(Ae.body,Ae.formatted_body).serialize()),qe&&Ae["m.new_content"]&&$e){const Ze=Ce(Ae["m.new_content"],!1);Ze&&(qe.content["m.new_content"]=Ze.content)}if(qe)for(const[Ze,nt]of Object.entries(Ae))qe.content.hasOwnProperty(Ze)||(qe.content[Ze]=nt);return qe},Ie=Ce(ge);return Ie&&(se=Ie.type,ge=Ie.content),this.sendEvent(k,O,se,ge,Z)}sendTextMessage(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeTextMessage(K);return this.sendMessage(k,O,ge,Z)}sendNotice(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeNotice(K);return this.sendMessage(k,O,ge,Z)}sendEmoteMessage(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeEmoteMessage(K);return this.sendMessage(k,O,ge,Z)}sendImageMessage(k,O,K,Z,se="Image"){var ge;!((ge=O)!==null&&ge!==void 0&&ge.startsWith(V))&&O!==null&&(se=Z||"Image",Z=K,K=O,O=null);const Ce={msgtype:C.MsgType.Image,url:K,info:Z,body:se};return this.sendMessage(k,O,Ce)}sendStickerMessage(k,O,K,Z,se="Sticker"){var ge;!((ge=O)!==null&&ge!==void 0&&ge.startsWith(V))&&O!==null&&(se=Z||"Sticker",Z=K,K=O,O=null);const Ce={url:K,info:Z,body:se};return this.sendEvent(k,O,C.EventType.Sticker,Ce)}sendHtmlMessage(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeHtmlMessage(K,Z);return this.sendMessage(k,O,ge)}sendHtmlNotice(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeHtmlNotice(K,Z);return this.sendMessage(k,O,ge)}sendHtmlEmote(k,O,K,Z){var se;!((se=O)!==null&&se!==void 0&&se.startsWith(V))&&O!==null&&(Z=K,K=O,O=null);const ge=P.makeHtmlEmote(K,Z);return this.sendMessage(k,O,ge)}async sendReceipt(k,O,K,Z=!1){if(this.isGuest())return Promise.resolve({});const se=s.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:k.getRoomId(),$receiptType:O,$eventId:k.getId()});if(this.canSupport.get(ce.Feature.ThreadUnreadNotifications)!==ce.ServerSupport.Unsupported&&!Z){const Ae=!!k.threadRootId;K=Ue(Ue({},K),{},{thread_id:Ae?k.threadRootId:L.MAIN_ROOM_TIMELINE})}const Ce=this.http.authedRequest(v.Method.Post,se,void 0,K||{}),Ie=this.getRoom(k.getRoomId());return Ie&&this.credentials.userId&&Ie.addLocalEchoReceipt(this.credentials.userId,k,O),Ce}async sendReadReceipt(k,O=L.ReceiptType.Read,K=!1){if(!k)return;const Z=k.getId(),se=this.getRoom(k.getRoomId());if(se!=null&&se.hasPendingEvent(Z))throw new Error(`Cannot set read receipt to a pending event (${Z})`);return this.sendReceipt(k,O,{},K)}async setRoomReadMarkers(k,O,K,Z){const se=this.getRoom(k);if(se&&se.hasPendingEvent(O))throw new Error(`Cannot set read marker to a pending event (${O})`);let ge;if(K){if(ge=K.getId(),se!=null&&se.hasPendingEvent(ge))throw new Error(`Cannot set read receipt to a pending event (${ge})`);se==null||se.addLocalEchoReceipt(this.credentials.userId,K,L.ReceiptType.Read)}let Ce;if(Z){if(Ce=Z.getId(),se!=null&&se.hasPendingEvent(Ce))throw new Error(`Cannot set read receipt to a pending event (${Ce})`);se==null||se.addLocalEchoReceipt(this.credentials.userId,Z,L.ReceiptType.ReadPrivate)}return await this.setRoomReadMarkersHttpRequest(k,O,ge,Ce)}getUrlPreview(k,O){O=Math.floor(O/6e4)*6e4;const K=new URL(k);K.hash="",k=K.toString();const Z=O+"_"+k,se=this.urlPreviewCache[Z];if(se)return se;const ge=this.http.authedRequest(v.Method.Get,"/preview_url",{url:k,ts:O.toString()},void 0,{prefix:v.MediaPrefix.R0});return this.urlPreviewCache[Z]=ge,ge}sendTyping(k,O,K){if(this.isGuest())return Promise.resolve({});const Z=s.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:k,$userId:this.getUserId()}),se={typing:O};return O&&(se.timeout=K||2e4),this.http.authedRequest(v.Method.Put,Z,void 0,se)}getRoomUpgradeHistory(k,O=!1){let K=this.getRoom(k);if(!K)return[];const Z=[K];let se=K.currentState.getStateEvents(C.EventType.RoomCreate,"");for(;se;){const Ce=se.getContent().predecessor;if(Ce&&Ce.room_id){const Ie=this.getRoom(Ce.room_id);if(!Ie)break;if(O){const Ae=Ie.currentState.getStateEvents(C.EventType.RoomTombstone,"");if(!Ae||Ae.getContent().replacement_room!==Ie.roomId)break}Z.splice(0,0,Ie),se=Ie.currentState.getStateEvents(C.EventType.RoomCreate,"")}else break}let ge=K.currentState.getStateEvents(C.EventType.RoomTombstone,"");for(;ge;){const Ce=this.getRoom(ge.getContent().replacement_room);if(!Ce||Ce.roomId===K.roomId||O&&(se=Ce.currentState.getStateEvents(C.EventType.RoomCreate,""),!se||!se.getContent().predecessor||se.getContent().predecessor.room_id!==K.roomId))break;if(Z.push(Ce),new Set(Z.map(Ae=>Ae.roomId)).size<Z.length)return Z.slice(0,Z.length-1);K=Ce,ge=K.currentState.getStateEvents(C.EventType.RoomTombstone,"")}return Z}invite(k,O,K){return this.membershipChange(k,O,"invite",K)}inviteByEmail(k,O){return this.inviteByThreePid(k,"email",O)}async inviteByThreePid(k,O,K){var Z;const se=s.encodeUri("/rooms/$roomId/invite",{$roomId:k}),ge=this.getIdentityServerUrl(!0);if(!ge)return Promise.reject(new v.MatrixError({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));const Ce={id_server:ge,medium:O,address:K};if((Z=this.identityServer)!==null&&Z!==void 0&&Z.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const Ie=await this.identityServer.getAccessToken();Ie&&(Ce.id_access_token=Ie)}return this.http.authedRequest(v.Method.Post,se,void 0,Ce)}leave(k){return this.membershipChange(k,void 0,"leave")}leaveRoomChain(k,O=!0){const K=this.getRoomUpgradeHistory(k);let Z=K;if(!O){Z=[];for(const Ie of K)if(Z.push(Ie),Ie.roomId===k)break}const se={},ge=[],Ce=Ie=>this.leave(Ie).then(()=>{delete se[Ie]}).catch(Ae=>{se[Ie]=Ae});for(const Ie of Z)ge.push(Ce(Ie.roomId));return Promise.all(ge).then(()=>se)}ban(k,O,K){return this.membershipChange(k,O,"ban",K)}forget(k,O=!0){const K=this.membershipChange(k,void 0,"forget");return O?K.then(Z=>(this.store.removeRoom(k),this.emit(ie.DeleteRoom,k),Z)):K}unban(k,O){const K=s.encodeUri("/rooms/$roomId/unban",{$roomId:k}),Z={user_id:O};return this.http.authedRequest(v.Method.Post,K,void 0,Z)}kick(k,O,K){const Z=s.encodeUri("/rooms/$roomId/kick",{$roomId:k}),se={user_id:O,reason:K};return this.http.authedRequest(v.Method.Post,Z,void 0,se)}membershipChange(k,O,K,Z){const se=s.encodeUri("/rooms/$room_id/$membership",{$room_id:k,$membership:K});return this.http.authedRequest(v.Method.Post,se,void 0,{user_id:O,reason:Z})}getPushActionsForEvent(k,O=!1){return(!k.getPushActions()||O)&&k.setPushActions(this.pushProcessor.actionsForEvent(k)),k.getPushActions()}setProfileInfo(k,O){const K=s.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:k});return this.http.authedRequest(v.Method.Put,K,void 0,O)}async setDisplayName(k){const O=await this.setProfileInfo("displayname",{displayname:k}),K=this.getUser(this.getUserId());return K&&(K.displayName=k,K.emit(S.UserEvent.DisplayName,K.events.presence,K)),O}async setAvatarUrl(k){const O=await this.setProfileInfo("avatar_url",{avatar_url:k}),K=this.getUser(this.getUserId());return K&&(K.avatarUrl=k,K.emit(S.UserEvent.AvatarUrl,K.events.presence,K)),O}mxcUrlToHttp(k,O,K,Z,se){return(0,x.getHttpUriForMxc)(this.baseUrl,k,O,K,Z,se)}async setPresence(k){const O=s.encodeUri("/presence/$userId/status",{$userId:this.credentials.userId});if(["offline","online","unavailable"].indexOf(k.presence)===-1)throw new Error("Bad presence value: "+k.presence);await this.http.authedRequest(v.Method.Put,O,void 0,k)}getPresence(k){const O=s.encodeUri("/presence/$userId/status",{$userId:k});return this.http.authedRequest(v.Method.Get,O)}scrollback(k,O=30){let K=0,Z=this.ongoingScrollbacks[k.roomId]||{};if(Z.promise)return Z.promise;if(Z.errorTs){const Ce=Date.now()-Z.errorTs;K=Math.max(de-Ce,0)}if(k.oldState.paginationToken===null)return Promise.resolve(k);const se=this.store.scrollback(k,O).length;if(se===O)return Promise.resolve(k);O=O-se;const ge=new Promise((Ce,Ie)=>{(0,s.sleep)(K).then(()=>this.createMessagesRequest(k.roomId,k.oldState.paginationToken,O,g.Direction.Backward)).then(Ae=>{const $e=Ae.chunk.map(this.getEventMapper());if(Ae.state){const nt=Ae.state.map(this.getEventMapper());k.currentState.setUnknownStateEvents(nt)}const[qe,Ze]=k.partitionThreadedEvents($e);this.processBeaconEvents(k,qe),k.addEventsToTimeline(qe,!0,k.getLiveTimeline()),this.processThreadEvents(k,Ze,!0),k.oldState.paginationToken=Ae.end,Ae.chunk.length===0&&(k.oldState.paginationToken=null),this.store.storeEvents(k,$e,Ae.end,!0),delete this.ongoingScrollbacks[k.roomId],Ce(k)}).catch(Ae=>{this.ongoingScrollbacks[k.roomId]={errorTs:Date.now()},Ie(Ae)})});return Z={promise:ge},this.ongoingScrollbacks[k.roomId]=Z,ge}getEventMapper(k){return(0,M.eventMapperFor)(this,k||{})}async getEventTimeline(k,O){var K,Z,se,ge;if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!(k!=null&&k.room))throw new Error("getEventTimeline only supports room timelines");if(k.getTimelineForEvent(O))return k.getTimelineForEvent(O);if(k.thread&&this.supportsExperimentalThreads())return this.getThreadTimeline(k,O);const Ce=s.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:k.room.roomId,$eventId:O});let Ie;(K=this.clientOpts)!==null&&K!==void 0&&K.lazyLoadMembers&&(Ie={filter:JSON.stringify(u.Filter.LAZY_LOADING_MESSAGES_FILTER)});const Ae=await this.http.authedRequest(v.Method.Get,Ce,Ie);if(!Ae.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(k.getTimelineForEvent(O))return k.getTimelineForEvent(O);const $e=this.getEventMapper(),qe=$e(Ae.event);if(qe.isRelation(he.THREAD_RELATION_TYPE.name)){p.logger.warn("Tried loading a regular timeline at the position of a thread event");return}const Ze=[...Ae.events_after.reverse().map($e),qe,...Ae.events_before.map($e)];let nt=k.getTimelineForEvent(Ze[0].getId());nt?nt.getState(g.EventTimeline.BACKWARDS).setUnknownStateEvents(Ae.state.map($e)):(nt=k.addTimeline(),nt.initialiseState(Ae.state.map($e)),nt.getState(g.EventTimeline.FORWARDS).paginationToken=Ae.end);const[Be,ot]=k.room.partitionThreadedEvents(Ze);return k.addEventsToTimeline(Be,!0,nt,Ae.start),this.processThreadEvents(k.room,ot,!0),this.processBeaconEvents(k.room,Be),(Z=(se=k.getTimelineForEvent(O))!==null&&se!==void 0?se:(ge=k.room.findThreadForEvent(qe))===null||ge===void 0?void 0:ge.liveTimeline)!==null&&Z!==void 0?Z:nt}async getThreadTimeline(k,O){var K;if(!this.supportsExperimentalThreads())throw new Error("could not get thread timeline: no client support");if(!k.room)throw new Error("could not get thread timeline: not a room timeline");if(!k.thread)throw new Error("could not get thread timeline: not a thread timeline");const Z=s.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:k.room.roomId,$eventId:O}),se={limit:"0"};(K=this.clientOpts)!==null&&K!==void 0&&K.lazyLoadMembers&&(se.filter=JSON.stringify(u.Filter.LAZY_LOADING_MESSAGES_FILTER));const ge=await this.http.authedRequest(v.Method.Get,Z,se),Ce=this.getEventMapper(),Ie=Ce(ge.event);if(k.canContain(Ie)&&he.Thread.hasServerSideSupport)if(he.Thread.hasServerSideFwdPaginationSupport){var Ae,$e,qe;if(!k.thread)throw new Error("could not get thread timeline: not a thread timeline");const Xe=k.thread,He=await this.fetchRelations(k.room.roomId,Xe.id,he.THREAD_RELATION_TYPE.name,null,{dir:g.Direction.Backward,from:ge.start}),wt=await this.fetchRelations(k.room.roomId,Xe.id,he.THREAD_RELATION_TYPE.name,null,{dir:g.Direction.Forward,from:ge.end}),pt=[...wt.chunk.reverse().map(Ce),Ie,...He.chunk.map(Ce)];for(const ht of pt){var Ze;await((Ze=k.thread)===null||Ze===void 0?void 0:Ze.processEvent(ht))}let vt=k.getTimelineForEvent(Ie.getId());return vt?vt.getState(g.EventTimeline.BACKWARDS).setUnknownStateEvents(ge.state.map(Ce)):(vt=k.addTimeline(),vt.initialiseState(ge.state.map(Ce))),k.addEventsToTimeline(pt,!0,vt,wt.next_batch),He.next_batch||k.addEventsToTimeline([Ce(He.original_event)],!0,vt,null),vt.setPaginationToken((Ae=He.next_batch)!==null&&Ae!==void 0?Ae:null,g.Direction.Backward),vt.setPaginationToken(($e=wt.next_batch)!==null&&$e!==void 0?$e:null,g.Direction.Forward),this.processBeaconEvents(k.room,pt),(qe=k.getTimelineForEvent(O))!==null&&qe!==void 0?qe:vt}else{var nt;const Xe=k.thread,He=await this.fetchRelations(k.room.roomId,Xe.id,he.THREAD_RELATION_TYPE.name,null,{dir:g.Direction.Backward,from:ge.start}),wt=[];let pt=ge.end;for(;pt;){var Be;const Xt=await this.fetchRelations(k.room.roomId,Xe.id,he.THREAD_RELATION_TYPE.name,null,{dir:g.Direction.Forward,from:pt});pt=(Be=Xt.next_batch)!==null&&Be!==void 0?Be:null,wt.push(...Xt.chunk)}const vt=[...wt.reverse().map(Ce),Ie,...He.chunk.map(Ce)];for(const Xt of vt){var ot;await((ot=k.thread)===null||ot===void 0?void 0:ot.processEvent(Xt))}const ht=k.getLiveTimeline();return ht.getState(g.EventTimeline.BACKWARDS).setUnknownStateEvents(ge.state.map(Ce)),k.addEventsToTimeline(vt,!0,ht,null),He.next_batch||k.addEventsToTimeline([Ce(He.original_event)],!0,ht,null),ht.setPaginationToken((nt=He.next_batch)!==null&&nt!==void 0?nt:null,g.Direction.Backward),ht.setPaginationToken(null,g.Direction.Forward),this.processBeaconEvents(k.room,vt),ht}}async getLatestTimeline(k){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!k.room)throw new Error("getLatestTimeline only supports room timelines");let O;if(k.threadListType!==null){var K;O=(K=(await this.createThreadListMessagesRequest(k.room.roomId,null,1,g.Direction.Backward,k.threadListType,k.getFilter())).chunk)===null||K===void 0?void 0:K[0]}else if(k.thread&&he.Thread.hasServerSideSupport){var Z;O=(Z=(await this.fetchRelations(k.room.roomId,k.thread.id,he.THREAD_RELATION_TYPE.name,null,{dir:g.Direction.Backward,limit:1})).chunk)===null||Z===void 0?void 0:Z[0]}else{var se,ge;const Ce=s.encodeUri("/rooms/$roomId/messages",{$roomId:k.room.roomId}),Ie={dir:"b"};(se=this.clientOpts)!==null&&se!==void 0&&se.lazyLoadMembers&&(Ie.filter=JSON.stringify(u.Filter.LAZY_LOADING_MESSAGES_FILTER)),O=(ge=(await this.http.authedRequest(v.Method.Get,Ce,Ie)).chunk)===null||ge===void 0?void 0:ge[0]}if(!O)throw new Error("No message returned when trying to construct getLatestTimeline");return this.getEventTimeline(k,O.event_id)}createMessagesRequest(k,O,K=30,Z,se){var ge;const Ce=s.encodeUri("/rooms/$roomId/messages",{$roomId:k}),Ie={limit:K.toString(),dir:Z};O&&(Ie.from=O);let Ae=null;if((ge=this.clientOpts)!==null&&ge!==void 0&&ge.lazyLoadMembers&&(Ae=Object.assign({},u.Filter.LAZY_LOADING_MESSAGES_FILTER)),se){var $e;Ae=Ae||{},Object.assign(Ae,($e=se.getRoomTimelineFilterComponent())===null||$e===void 0?void 0:$e.toJSON())}return Ae&&(Ie.filter=JSON.stringify(Ae)),this.http.authedRequest(v.Method.Get,Ce,Ie)}createThreadListMessagesRequest(k,O,K=30,Z=g.Direction.Backward,se=he.ThreadFilterType.All,ge){var Ce;const Ie=s.encodeUri("/rooms/$roomId/threads",{$roomId:k}),Ae={limit:K.toString(),dir:Z,include:(0,he.threadFilterTypeToFilter)(se)};O&&(Ae.from=O);let $e={};if((Ce=this.clientOpts)!==null&&Ce!==void 0&&Ce.lazyLoadMembers&&($e=Ue({},u.Filter.LAZY_LOADING_MESSAGES_FILTER)),ge){var qe;$e=Ue(Ue({},$e),(qe=ge.getRoomTimelineFilterComponent())===null||qe===void 0?void 0:qe.toJSON())}Object.keys($e).length&&(Ae.filter=JSON.stringify($e));const Ze={prefix:he.Thread.hasServerSideListSupport===he.FeatureSupport.Stable?"/_matrix/client/v1":"/_matrix/client/unstable/org.matrix.msc3856"};return this.http.authedRequest(v.Method.Get,Ie,Ae,void 0,Ze).then(nt=>{var Be;return Ue(Ue({},nt),{},{chunk:(Be=nt.chunk)===null||Be===void 0?void 0:Be.reverse(),start:nt.prev_batch,end:nt.next_batch})})}paginateEventTimeline(k,O){const K=k.getTimelineSet()===this.notifTimelineSet,Z=this.getRoom(k.getRoomId()),se=k.getTimelineSet().threadListType,ge=k.getTimelineSet().thread;O=O||{};const Ce=O.backwards||!1;if(K&&!Ce)throw new Error("paginateNotifTimeline can only paginate backwards");const Ie=Ce?g.EventTimeline.BACKWARDS:g.EventTimeline.FORWARDS,Ae=k.getPaginationToken(Ie),$e=k.paginationRequests[Ie];if($e)return $e;let qe,Ze,nt;if(K){var Be;qe="/notifications",Ze={limit:((Be=O.limit)!==null&&Be!==void 0?Be:30).toString(),only:"highlight"},Ae&&Ae!=="end"&&(Ze.from=Ae),nt=this.http.authedRequest(v.Method.Get,qe,Ze).then(async He=>{const wt=He.next_token,pt=[];for(let ht=0;ht<He.notifications.length;ht++){const Xt=He.notifications[ht],zn=this.getEventMapper()(Xt.event);zn.setPushActions(c.PushProcessor.actionListToActionsObject(Xt.actions)),zn.event.room_id=Xt.room_id,pt[ht]=zn}const vt=k.getTimelineSet();return vt.addEventsToTimeline(pt,Ce,k,wt),this.processBeaconEvents(vt.room,pt),Ce&&!He.next_token&&k.setPaginationToken(null,Ie),Boolean(He.next_token)}).finally(()=>{k.paginationRequests[Ie]=null}),k.paginationRequests[Ie]=nt}else if(se!==null){if(!Z)throw new Error("Unknown room "+k.getRoomId());if(!he.Thread.hasServerSideFwdPaginationSupport&&Ie===g.Direction.Forward)throw new Error("Cannot paginate threads forwards without server-side support for MSC 3715");nt=this.createThreadListMessagesRequest(k.getRoomId(),Ae,O.limit,Ie,se,k.getFilter()).then(He=>{if(He.state){const ht=k.getState(Ie),Xt=He.state.map(this.getEventMapper());ht.setUnknownStateEvents(Xt)}const wt=He.end,pt=He.chunk.map(this.getEventMapper());return k.getTimelineSet().addEventsToTimeline(pt,Ce,k,wt),this.processBeaconEvents(Z,pt),this.processThreadRoots(Z,pt,Ce),Ce&&He.end==He.start&&k.setPaginationToken(null,Ie),He.end!==He.start}).finally(()=>{k.paginationRequests[Ie]=null}),k.paginationRequests[Ie]=nt}else if(ge){var ot,Xe;const He=this.getRoom((ot=k.getRoomId())!==null&&ot!==void 0?ot:void 0);if(!He)throw new Error("Unknown room "+k.getRoomId());nt=this.fetchRelations((Xe=k.getRoomId())!==null&&Xe!==void 0?Xe:"",ge.id,he.THREAD_RELATION_TYPE.name,null,{dir:Ie,limit:O.limit,from:Ae??void 0}).then(async wt=>{const pt=this.getEventMapper(),vt=wt.chunk.map(pt);for(const zn of vt.slice().reverse()){await(ge==null?void 0:ge.processEvent(zn));const ee=zn.getSender();(!Ce||(ge==null?void 0:ge.getEventReadUpTo(ee))===null)&&He.addLocalEchoReceipt(ee,zn,L.ReceiptType.Read)}const ht=wt.next_batch,Xt=k.getTimelineSet();return Xt.addEventsToTimeline(vt,Ce,k,ht??null),!ht&&Ce&&Xt.addEventsToTimeline([pt(wt.original_event)],!0,k,null),this.processBeaconEvents(Xt.room,vt),Ce&&!ht&&k.setPaginationToken(null,Ie),Boolean(ht)}).finally(()=>{k.paginationRequests[Ie]=null}),k.paginationRequests[Ie]=nt}else{if(!Z)throw new Error("Unknown room "+k.getRoomId());nt=this.createMessagesRequest(k.getRoomId(),Ae,O.limit,Ie,k.getFilter()).then(He=>{if(He.state){const zn=k.getState(Ie),ee=He.state.map(this.getEventMapper());zn.setUnknownStateEvents(ee)}const wt=He.end,pt=He.chunk.map(this.getEventMapper()),vt=k.getTimelineSet(),[ht]=Z.partitionThreadedEvents(pt);vt.addEventsToTimeline(ht,Ce,k,wt),this.processBeaconEvents(Z,ht),this.processThreadRoots(Z,ht.filter(zn=>zn.isRelation(he.THREAD_RELATION_TYPE.name)),!1);const Xt=He.end===void 0||He.end===He.start;return Ce&&Xt&&k.setPaginationToken(null,Ie),!Xt}).finally(()=>{k.paginationRequests[Ie]=null}),k.paginationRequests[Ie]=nt}return nt}resetNotifTimelineSet(){this.notifTimelineSet&&this.notifTimelineSet.resetLiveTimeline("end")}peekInRoom(k){var O;return(O=this.peekSync)===null||O===void 0||O.stopPeeking(),this.peekSync=new o.SyncApi(this,this.clientOpts),this.peekSync.peek(k)}stopPeeking(){this.peekSync&&(this.peekSync.stopPeeking(),this.peekSync=null)}setGuestAccess(k,O){const K=this.sendStateEvent(k,C.EventType.RoomGuestAccess,{guest_access:O.allowJoin?"can_join":"forbidden"},"");let Z=Promise.resolve(void 0);return O.allowRead&&(Z=this.sendStateEvent(k,C.EventType.RoomHistoryVisibility,{history_visibility:"world_readable"},"")),Promise.all([Z,K]).then()}requestRegisterEmailToken(k,O,K,Z){return this.requestTokenFromEndpoint("/register/email/requestToken",{email:k,client_secret:O,send_attempt:K,next_link:Z})}requestRegisterMsisdnToken(k,O,K,Z,se){return this.requestTokenFromEndpoint("/register/msisdn/requestToken",{country:k,phone_number:O,client_secret:K,send_attempt:Z,next_link:se})}requestAdd3pidEmailToken(k,O,K,Z){return this.requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:k,client_secret:O,send_attempt:K,next_link:Z})}requestAdd3pidMsisdnToken(k,O,K,Z,se){return this.requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:k,phone_number:O,client_secret:K,send_attempt:Z,next_link:se})}requestPasswordEmailToken(k,O,K,Z){return this.requestTokenFromEndpoint("/account/password/email/requestToken",{email:k,client_secret:O,send_attempt:K,next_link:Z})}requestPasswordMsisdnToken(k,O,K,Z,se){return this.requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:k,phone_number:O,client_secret:K,send_attempt:Z,next_link:se})}async requestTokenFromEndpoint(k,O){const K=Object.assign({},O);if(!await this.doesServerSupportSeparateAddAndBind()&&this.idBaseUrl){var Z;const se=new URL(this.idBaseUrl);if(K.id_server=se.host,(Z=this.identityServer)!==null&&Z!==void 0&&Z.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const ge=await this.identityServer.getAccessToken();ge&&(K.id_access_token=ge)}}return this.http.request(v.Method.Post,k,void 0,K)}getRoomPushRule(k,O){if(this.pushRules){var K,Z;return(K=this.pushRules[k])===null||K===void 0||(Z=K.room)===null||Z===void 0?void 0:Z.find(se=>se.rule_id===O)}else throw new Error("SyncApi.sync() must be done before accessing to push rules.")}setRoomMutePushRule(k,O,K){let Z,se=!1;const ge=this.getRoomPushRule(k,O);if(ge!=null&&ge.actions.includes(D.PushRuleActionName.DontNotify)&&(se=!0),!K)se&&(Z=this.deletePushRule(k,D.PushRuleKind.RoomSpecific,ge.rule_id));else if(!ge)Z=this.addPushRule(k,D.PushRuleKind.RoomSpecific,O,{actions:[D.PushRuleActionName.DontNotify]});else if(!se){const Ce=s.defer();this.deletePushRule(k,D.PushRuleKind.RoomSpecific,ge.rule_id).then(()=>{this.addPushRule(k,D.PushRuleKind.RoomSpecific,O,{actions:[D.PushRuleActionName.DontNotify]}).then(()=>{Ce.resolve()}).catch(Ie=>{Ce.reject(Ie)})}).catch(Ie=>{Ce.reject(Ie)}),Z=Ce.promise}if(Z)return new Promise((Ce,Ie)=>{Z.then(()=>{this.getPushRules().then(Ae=>{this.pushRules=Ae,Ce()}).catch(Ae=>{Ie(Ae)})}).catch(Ae=>{this.getPushRules().then($e=>{this.pushRules=$e,Ie(Ae)}).catch($e=>{Ie(Ae)})})})}searchMessageText(k){const O={search_term:k.query};return"keys"in k&&(O.keys=k.keys),this.search({body:{search_categories:{room_events:O}}})}searchRoomEvents(k){const O={search_categories:{room_events:{search_term:k.term,filter:k.filter,order_by:T.SearchOrderBy.Recent,event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},K={_query:O,results:[],highlights:[]};return this.search({body:O}).then(Z=>this.processRoomEventsSearch(K,Z))}backPaginateRoomEventsSearch(k){if(!k.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(k.pendingRequest)return k.pendingRequest;const O={body:k._query,next_batch:k.next_batch},K=this.search(O,k.abortSignal).then(Z=>this.processRoomEventsSearch(k,Z)).finally(()=>{k.pendingRequest=void 0});return k.pendingRequest=K,K}processRoomEventsSearch(k,O){var K,Z;const se=O.search_categories.room_events;k.count=se.count,k.next_batch=se.next_batch;const ge=new Set(se.highlights);k.highlights.forEach(Ae=>{ge.add(Ae)}),k.highlights=Array.from(ge);const Ce=this.getEventMapper(),Ie=(K=(Z=se.results)===null||Z===void 0?void 0:Z.length)!==null&&K!==void 0?K:0;for(let Ae=0;Ae<Ie;Ae++){const $e=N.SearchResult.fromJson(se.results[Ae],Ce),qe=this.getRoom($e.context.getEvent().getRoomId());if(qe)for(const Ze of $e.context.getTimeline()){const nt=qe.getMember(Ze.getSender());!Ze.sender&&nt&&(Ze.sender=nt)}k.results.push($e)}return k}syncLeftRooms(){if(this.syncedLeftRooms)return Promise.resolve([]);if(this.syncLeftRoomsPromise)return this.syncLeftRoomsPromise;const k=new o.SyncApi(this,this.clientOpts);return this.syncLeftRoomsPromise=k.syncLeftRooms(),this.syncLeftRoomsPromise.then(()=>{p.logger.log("Marking success of sync left room request"),this.syncedLeftRooms=!0}).finally(()=>{this.syncLeftRoomsPromise=void 0}),this.syncLeftRoomsPromise}createFilter(k){const O=s.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this.http.authedRequest(v.Method.Post,O,void 0,k).then(K=>{const Z=u.Filter.fromJson(this.credentials.userId,K.filter_id,k);return this.store.storeFilter(Z),Z})}getFilter(k,O,K){if(K){const se=this.store.getFilter(k,O);if(se)return Promise.resolve(se)}const Z=s.encodeUri("/user/$userId/filter/$filterId",{$userId:k,$filterId:O});return this.http.authedRequest(v.Method.Get,Z).then(se=>{const ge=u.Filter.fromJson(k,O,se);return this.store.storeFilter(ge),ge})}async getOrCreateFilter(k,O){const K=this.store.getFilterIdByName(k);let Z;if(K){try{const ge=await this.getFilter(this.credentials.userId,K,!0);if(ge){const Ce=ge.getDefinition(),Ie=O.getDefinition();s.deepCompare(Ce,Ie)&&(Z=K)}}catch(ge){if(ge.errcode!=="M_UNKNOWN"&&ge.errcode!=="M_NOT_FOUND")throw ge}Z||this.store.setFilterIdByName(k,void 0)}if(Z)return Z;const se=await this.createFilter(O.getDefinition());return this.store.setFilterIdByName(k,se.filterId),se.filterId}getOpenIdToken(){const k=s.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this.http.authedRequest(v.Method.Post,k,void 0,{})}turnServer(){return this.http.authedRequest(v.Method.Get,"/voip/turnServer")}getTurnServers(){return this.turnServers||[]}getTurnServersExpiry(){return this.turnServersExpiry}get pollingTurnServers(){return this.checkTurnServersIntervalID!==void 0}async checkTurnServers(){if(!this.canSupportVoip)return;let k=!1;const O=this.turnServersExpiry-Date.now();if(O>Ee)p.logger.debug("TURN creds are valid for another "+O+" ms: not fetching new ones."),k=!0;else{p.logger.debug("Fetching new TURN credentials");try{const K=await this.turnServer();if(K.uris){p.logger.log("Got TURN URIs: "+K.uris+" refresh in "+K.ttl+" secs");const Z={urls:K.uris,username:K.username,credential:K.password};this.turnServers=[Z],this.turnServersExpiry=Date.now()+K.ttl*1e3,k=!0,this.emit(ie.TurnServers,this.turnServers)}}catch(K){p.logger.error("Failed to get TURN URIs",K),K.httpStatus===403?(p.logger.info("TURN access unavailable for this account: stopping credentials checks"),this.checkTurnServersIntervalID!==null&&Pe.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=void 0,this.emit(ie.TurnServersError,K,!0)):this.emit(ie.TurnServersError,K,!1)}}return k}setFallbackICEServerAllowed(k){this.fallbackICEServerAllowed=k}isFallbackICEServerAllowed(){return this.fallbackICEServerAllowed}isSynapseAdministrator(){const k=s.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this.http.authedRequest(v.Method.Get,k,void 0,void 0,{prefix:""}).then(O=>O.admin)}whoisSynapseUser(k){const O=s.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:k});return this.http.authedRequest(v.Method.Get,O,void 0,void 0,{prefix:""})}deactivateSynapseUser(k){const O=s.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:k});return this.http.authedRequest(v.Method.Post,O,void 0,void 0,{prefix:""})}async fetchClientWellKnown(){var k;this.clientWellKnownPromise=h.AutoDiscovery.getRawClientConfig((k=this.getDomain())!==null&&k!==void 0?k:void 0),this.clientWellKnown=await this.clientWellKnownPromise,this.emit(ie.ClientWellKnown,this.clientWellKnown)}getClientWellKnown(){return this.clientWellKnown}waitForClientWellKnown(){if(!this.clientRunning)throw new Error("Client is not running");return this.clientWellKnownPromise}storeClientOptions(){const k=["boolean","string","number"],O=Object.entries(this.clientOpts).filter(([K,Z])=>k.includes(typeof Z)).reduce((K,[Z,se])=>(K[Z]=se,K),{});return this.store.storeClientOptions(O)}async _unstable_getSharedRooms(k){const O=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666"),K=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666.mutual_rooms");if(!O&&!K)throw Error("Server does not support mutual_rooms API");const Z=s.encodeUri(`/uk.half-shot.msc2666/user/${K?"mutual_rooms":"shared_rooms"}/$userId`,{$userId:k});return(await this.http.authedRequest(v.Method.Get,Z,void 0,void 0,{prefix:v.ClientPrefix.Unstable})).joined}async getVersions(){if(this.serverVersionsPromise)return this.serverVersionsPromise;this.serverVersionsPromise=this.http.request(v.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:""}).catch(K=>{throw this.serverVersionsPromise=void 0,K});const k=await this.serverVersionsPromise;this.canSupport=await(0,ce.buildFeatureSupportMap)(k);const O=this.canSupport.get(ce.Feature.ThreadUnreadNotifications);return oe.UNREAD_THREAD_NOTIFICATIONS.setPreferUnstable(O===ce.ServerSupport.Unstable),this.serverVersionsPromise}async isVersionSupported(k){const{versions:O}=await this.getVersions();return O&&O.includes(k)}async doesServerSupportLazyLoading(){const k=await this.getVersions();if(!k)return!1;const O=k.versions,K=k.unstable_features;return O&&O.includes("r0.5.0")||K&&K["m.lazy_load_members"]}async doesServerRequireIdServerParam(){const k=await this.getVersions();if(!k)return!0;const O=k.versions;if(O&&O.includes("r0.6.0"))return!1;const K=k.unstable_features;return!K||K["m.require_identity_server"]===void 0?!0:K["m.require_identity_server"]}async doesServerAcceptIdentityAccessToken(){const k=await this.getVersions();if(!k)return!1;const O=k.versions,K=k.unstable_features;return O&&O.includes("r0.6.0")||K&&K["m.id_access_token"]}async doesServerSupportSeparateAddAndBind(){const k=await this.getVersions();if(!k)return!1;const O=k.versions,K=k.unstable_features;return(O==null?void 0:O.includes("r0.6.0"))||(K==null?void 0:K["m.separate_add_and_bind"])}async doesServerSupportUnstableFeature(k){const O=await this.getVersions();if(!O)return!1;const K=O.unstable_features;return K&&!!K[k]}async doesServerForceEncryptionForPreset(k){const O=await this.getVersions();if(!O)return!1;const K=O.unstable_features,Z=k.includes("_chat")?k.substring(0,k.indexOf("_chat")):k;return K&&!!K[`io.element.e2ee_forced.${Z}`]}async doesServerSupportThread(){if(await this.isVersionSupported("v1.4"))return{threads:he.FeatureSupport.Stable,list:he.FeatureSupport.Stable,fwdPagination:he.FeatureSupport.Stable};try{const[k,O,K,Z,se,ge]=await Promise.all([this.doesServerSupportUnstableFeature("org.matrix.msc3440"),this.doesServerSupportUnstableFeature("org.matrix.msc3440.stable"),this.doesServerSupportUnstableFeature("org.matrix.msc3856"),this.doesServerSupportUnstableFeature("org.matrix.msc3856.stable"),this.doesServerSupportUnstableFeature("org.matrix.msc3715"),this.doesServerSupportUnstableFeature("org.matrix.msc3715.stable")]);return{threads:(0,he.determineFeatureSupport)(O,k),list:(0,he.determineFeatureSupport)(Z,K),fwdPagination:(0,he.determineFeatureSupport)(ge,se)}}catch{return{threads:he.FeatureSupport.None,list:he.FeatureSupport.None,fwdPagination:he.FeatureSupport.None}}}doesServerSupportLogoutDevices(){return this.isVersionSupported("r0.6.1")}hasLazyLoadMembersEnabled(){var k;return!!((k=this.clientOpts)!==null&&k!==void 0&&k.lazyLoadMembers)}setCanResetTimelineCallback(k){this.canResetTimelineCallback=k}getCanResetTimelineCallback(){return this.canResetTimelineCallback}async relations(k,O,K,Z,se={dir:g.Direction.Backward}){var ge,Ce;const Ie=Z?this.getEncryptedIfNeededEventType(k,Z):null,Ae=await this.fetchRelations(k,O,K,Ie,se),$e=this.getEventMapper(),qe=Ae.original_event?$e(Ae.original_event):void 0;let Ze=Ae.chunk.map($e);if(Ie===C.EventType.RoomMessageEncrypted){const nt=qe?Ze.concat(qe):Ze;await Promise.all(nt.map(Be=>this.decryptEventIfNeeded(Be))),Z!==null&&(Ze=Ze.filter(Be=>Be.getType()===Z))}return qe&&K===C.RelationType.Replace&&(Ze=Ze.filter(nt=>nt.getSender()===qe.getSender())),{originalEvent:qe??null,events:Ze,nextBatch:(ge=Ae.next_batch)!==null&&ge!==void 0?ge:null,prevBatch:(Ce=Ae.prev_batch)!==null&&Ce!==void 0?Ce:null}}getCrossSigningCacheCallbacks(){var k;return(k=this.crypto)===null||k===void 0?void 0:k.crossSigningInfo.getCacheCallbacks()}generateClientSecret(){return(0,A.randomString)(32)}decryptEventIfNeeded(k,O){return k.shouldAttemptDecryption()&&this.isCryptoEnabled()&&k.attemptDecryption(this.crypto,O),k.isBeingDecrypted()?k.getDecryptionPromise():Promise.resolve()}termsUrlForService(k,O){switch(k){case f.SERVICE_TYPES.IS:return this.http.getUrl("/terms",void 0,v.IdentityPrefix.V2,O);case f.SERVICE_TYPES.IM:return this.http.getUrl("/terms",void 0,"/_matrix/integrations/v1",O);default:throw new Error("Unsupported service type")}}getHomeserverUrl(){return this.baseUrl}getIdentityServerUrl(k=!1){var O,K;return k&&((O=this.idBaseUrl)!==null&&O!==void 0&&O.startsWith("http://")||(K=this.idBaseUrl)!==null&&K!==void 0&&K.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl}setIdentityServerUrl(k){this.idBaseUrl=s.ensureNoTrailingSlash(k),this.http.setIdBaseUrl(this.idBaseUrl)}getAccessToken(){return this.http.opts.accessToken||null}setAccessToken(k){this.http.opts.accessToken=k}isLoggedIn(){return this.http.opts.accessToken!==void 0}makeTxnId(){return"m"+new Date().getTime()+"."+this.txnCtr++}isUsernameAvailable(k){return this.http.authedRequest(v.Method.Get,"/register/available",{username:k}).then(O=>O.available).catch(O=>O.errcode==="M_USER_IN_USE"?!1:Promise.reject(O))}register(k,O,K,Z,se,ge,Ce){se===!0?se={email:!0}:(se==null||se===!1)&&(se={}),K&&(Z.session=K);const Ie={auth:Z,refresh_token:!0};return k!=null&&(Ie.username=k),O!=null&&(Ie.password=O),se.email&&(Ie.bind_email=!0),se.msisdn&&(Ie.bind_msisdn=!0),ge!=null&&(Ie.guest_access_token=ge),Ce!=null&&(Ie.inhibit_login=Ce),O!=null&&(Ie.x_show_msisdn=!0),this.registerRequest(Ie)}registerGuest(k){return k=k||{},k.body=k.body||{},this.registerRequest(k.body,"guest")}registerRequest(k,O){const K={};return O&&(K.kind=O),this.http.request(v.Method.Post,"/register",K,k)}refreshToken(k){return this.http.authedRequest(v.Method.Post,"/refresh",void 0,{refresh_token:k},{prefix:v.ClientPrefix.V1,inhibitLogoutEmit:!0})}loginFlows(){return this.http.request(v.Method.Get,"/login")}login(k,O){const K={type:k};return Object.assign(K,O),this.http.authedRequest(v.Method.Post,"/login",void 0,K).then(Z=>(Z.access_token&&Z.user_id&&(this.http.opts.accessToken=Z.access_token,this.credentials={userId:Z.user_id}),Z))}loginWithPassword(k,O){return this.login("m.login.password",{user:k,password:O})}loginWithSAML2(k){return this.login("m.login.saml2",{relay_state:k})}getCasLoginUrl(k){return this.getSsoLoginUrl(k,"cas")}getSsoLoginUrl(k,O="sso",K,Z){let se="/login/"+O+"/redirect";K&&(se+="/"+K);const ge={redirectUrl:k,[pe.unstable]:Z};return this.http.getUrl(se,ge,v.ClientPrefix.R0).href}loginWithToken(k){return this.login("m.login.token",{token:k})}async logout(k=!1){var O,K;if((O=this.crypto)!==null&&O!==void 0&&(K=O.backupManager)!==null&&K!==void 0&&K.getKeyBackupEnabled())try{for(;await this.crypto.backupManager.backupPendingKeys(200)>0;);}catch(Z){p.logger.error("Key backup request failed when logging out. Some keys may be missing from backup",Z)}return k&&(this.stopClient(),this.http.abort()),this.http.authedRequest(v.Method.Post,"/logout")}deactivateAccount(k,O){const K={};return k&&(K.auth=k),O!==void 0&&(K.erase=O),this.http.authedRequest(v.Method.Post,"/account/deactivate",void 0,K)}requestLoginToken(k){const O={auth:k};return this.http.authedRequest(v.Method.Post,"/org.matrix.msc3882/login/token",void 0,O,{prefix:v.ClientPrefix.Unstable})}getFallbackAuthUrl(k,O){const K=s.encodeUri("/auth/$loginType/fallback/web",{$loginType:k});return this.http.getUrl(K,{session:O},v.ClientPrefix.R0).href}async createRoom(k){var O;const K=(k.invite_3pid||[]).filter(Z=>!Z.id_access_token);if(K.length>0&&(O=this.identityServer)!==null&&O!==void 0&&O.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const Z=await this.identityServer.getAccessToken();if(Z)for(const se of K)se.id_access_token=Z}return this.http.authedRequest(v.Method.Post,"/createRoom",void 0,k)}fetchRelations(k,O,K,Z,se={dir:g.Direction.Backward}){let ge=se;he.Thread.hasServerSideFwdPaginationSupport===he.FeatureSupport.Experimental&&(ge=(0,s.replaceParam)("dir","org.matrix.msc3715.dir",ge));const Ce=s.encodeParams(ge);let Ie="/rooms/$roomId/relations/$eventId";K!==null?(Ie+="/$relationType",Z!==null&&(Ie+="/$eventType")):Z!==null&&(p.logger.warn(`eventType: ${Z} ignored when fetching
            relations as relationType is null`),Z=null);const Ae=s.encodeUri(Ie+"?"+Ce,{$roomId:k,$eventId:O,$relationType:K,$eventType:Z});return this.http.authedRequest(v.Method.Get,Ae,void 0,void 0,{prefix:v.ClientPrefix.Unstable})}roomState(k){const O=s.encodeUri("/rooms/$roomId/state",{$roomId:k});return this.http.authedRequest(v.Method.Get,O)}fetchRoomEvent(k,O){const K=s.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:k,$eventId:O});return this.http.authedRequest(v.Method.Get,K)}members(k,O,K,Z){const se={};O&&(se.membership=O),K&&(se.not_membership=K),Z&&(se.at=Z);const ge=s.encodeParams(se),Ce=s.encodeUri("/rooms/$roomId/members?"+ge,{$roomId:k});return this.http.authedRequest(v.Method.Get,Ce)}upgradeRoom(k,O){const K=s.encodeUri("/rooms/$roomId/upgrade",{$roomId:k});return this.http.authedRequest(v.Method.Post,K,void 0,{new_version:O})}getStateEvent(k,O,K){const Z={$roomId:k,$eventType:O,$stateKey:K};let se=s.encodeUri("/rooms/$roomId/state/$eventType",Z);return K!==void 0&&(se=s.encodeUri(se+"/$stateKey",Z)),this.http.authedRequest(v.Method.Get,se)}sendStateEvent(k,O,K,Z="",se={}){const ge={$roomId:k,$eventType:O,$stateKey:Z};let Ce=s.encodeUri("/rooms/$roomId/state/$eventType",ge);return Z!==void 0&&(Ce=s.encodeUri(Ce+"/$stateKey",ge)),this.http.authedRequest(v.Method.Put,Ce,void 0,K,se)}roomInitialSync(k,O){var K;const Z=s.encodeUri("/rooms/$roomId/initialSync",{$roomId:k});return this.http.authedRequest(v.Method.Get,Z,{limit:(K=O==null?void 0:O.toString())!==null&&K!==void 0?K:"30"})}async setRoomReadMarkersHttpRequest(k,O,K,Z){const se=s.encodeUri("/rooms/$roomId/read_markers",{$roomId:k}),ge={[L.ReceiptType.FullyRead]:O,[L.ReceiptType.Read]:K};return(await this.doesServerSupportUnstableFeature("org.matrix.msc2285.stable")||await this.isVersionSupported("v1.4"))&&(ge[L.ReceiptType.ReadPrivate]=Z),this.http.authedRequest(v.Method.Post,se,void 0,ge)}getJoinedRooms(){const k=s.encodeUri("/joined_rooms",{});return this.http.authedRequest(v.Method.Get,k)}getJoinedRoomMembers(k){const O=s.encodeUri("/rooms/$roomId/joined_members",{$roomId:k});return this.http.authedRequest(v.Method.Get,O)}publicRooms(k={}){let{server:O,limit:K,since:Z}=k,se=(0,e.default)(k,_e);const ge={server:O,limit:K,since:Z};return Object.keys(se).length===0?this.http.authedRequest(v.Method.Get,"/publicRooms",ge):this.http.authedRequest(v.Method.Post,"/publicRooms",ge,se)}createAlias(k,O){const K=s.encodeUri("/directory/room/$alias",{$alias:k}),Z={room_id:O};return this.http.authedRequest(v.Method.Put,K,void 0,Z)}deleteAlias(k){const O=s.encodeUri("/directory/room/$alias",{$alias:k});return this.http.authedRequest(v.Method.Delete,O)}getLocalAliases(k){const O=s.encodeUri("/rooms/$roomId/aliases",{$roomId:k}),K=v.ClientPrefix.V3;return this.http.authedRequest(v.Method.Get,O,void 0,void 0,{prefix:K})}getRoomIdForAlias(k){const O=s.encodeUri("/directory/room/$alias",{$alias:k});return this.http.authedRequest(v.Method.Get,O)}resolveRoomAlias(k){const O=s.encodeUri("/directory/room/$alias",{$alias:k});return this.http.request(v.Method.Get,O)}getRoomDirectoryVisibility(k){const O=s.encodeUri("/directory/list/room/$roomId",{$roomId:k});return this.http.authedRequest(v.Method.Get,O)}setRoomDirectoryVisibility(k,O){const K=s.encodeUri("/directory/list/room/$roomId",{$roomId:k});return this.http.authedRequest(v.Method.Put,K,void 0,{visibility:O})}setRoomDirectoryVisibilityAppService(k,O,K){const Z=s.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:k,$roomId:O});return this.http.authedRequest(v.Method.Put,Z,void 0,{visibility:K})}searchUserDirectory(k){const O={search_term:k.term};return k.limit!==void 0&&(O.limit=k.limit),this.http.authedRequest(v.Method.Post,"/user_directory/search",void 0,O)}uploadContent(k,O){return this.http.uploadContent(k,O)}cancelUpload(k){return this.http.cancelUpload(k)}getCurrentUploads(){return this.http.getCurrentUploads()}getProfileInfo(k,O){const K=O?s.encodeUri("/profile/$userId/$info",{$userId:k,$info:O}):s.encodeUri("/profile/$userId",{$userId:k});return this.http.authedRequest(v.Method.Get,K)}getThreePids(){return this.http.authedRequest(v.Method.Get,"/account/3pid")}addThreePid(k,O){const K="/account/3pid",Z={threePidCreds:k,bind:O};return this.http.authedRequest(v.Method.Post,K,void 0,Z)}async addThreePidOnly(k){const O="/account/3pid/add",K=await this.isVersionSupported("r0.6.0")?v.ClientPrefix.R0:v.ClientPrefix.Unstable;return this.http.authedRequest(v.Method.Post,O,void 0,k,{prefix:K})}async bindThreePid(k){const O="/account/3pid/bind",K=await this.isVersionSupported("r0.6.0")?v.ClientPrefix.R0:v.ClientPrefix.Unstable;return this.http.authedRequest(v.Method.Post,O,void 0,k,{prefix:K})}async unbindThreePid(k,O){const K="/account/3pid/unbind",Z={medium:k,address:O,id_server:this.getIdentityServerUrl(!0)},se=await this.isVersionSupported("r0.6.0")?v.ClientPrefix.R0:v.ClientPrefix.Unstable;return this.http.authedRequest(v.Method.Post,K,void 0,Z,{prefix:se})}deleteThreePid(k,O){const K="/account/3pid/delete";return this.http.authedRequest(v.Method.Post,K,void 0,{medium:k,address:O})}setPassword(k,O,K){const Z="/account/password",se={auth:k,new_password:O,logout_devices:K};return this.http.authedRequest(v.Method.Post,Z,void 0,se)}getDevices(){return this.http.authedRequest(v.Method.Get,"/devices")}getDevice(k){const O=s.encodeUri("/devices/$device_id",{$device_id:k});return this.http.authedRequest(v.Method.Get,O)}setDeviceDetails(k,O){const K=s.encodeUri("/devices/$device_id",{$device_id:k});return this.http.authedRequest(v.Method.Put,K,void 0,O)}deleteDevice(k,O){const K=s.encodeUri("/devices/$device_id",{$device_id:k}),Z={};return O&&(Z.auth=O),this.http.authedRequest(v.Method.Delete,K,void 0,Z)}deleteMultipleDevices(k,O){const K={devices:k};O&&(K.auth=O);const Z="/delete_devices";return this.http.authedRequest(v.Method.Post,Z,void 0,K)}async getPushers(){const k=await this.http.authedRequest(v.Method.Get,"/pushers");return await this.doesServerSupportUnstableFeature("org.matrix.msc3881")||(k.pushers=k.pushers.map(O=>(O.hasOwnProperty(C.PUSHER_ENABLED.name)||(O[C.PUSHER_ENABLED.name]=!0),O))),k}setPusher(k){const O="/pushers/set";return this.http.authedRequest(v.Method.Post,O,void 0,k)}setLocalNotificationSettings(k,O){const K=`${C.LOCAL_NOTIFICATION_SETTINGS_PREFIX.name}.${k}`;return this.setAccountData(K,O)}getPushRules(){return this.http.authedRequest(v.Method.Get,"/pushrules/").then(k=>c.PushProcessor.rewriteDefaultRules(k))}addPushRule(k,O,K,Z){const se=s.encodeUri("/pushrules/"+k+"/$kind/$ruleId",{$kind:O,$ruleId:K});return this.http.authedRequest(v.Method.Put,se,void 0,Z)}deletePushRule(k,O,K){const Z=s.encodeUri("/pushrules/"+k+"/$kind/$ruleId",{$kind:O,$ruleId:K});return this.http.authedRequest(v.Method.Delete,Z)}setPushRuleEnabled(k,O,K,Z){const se=s.encodeUri("/pushrules/"+k+"/$kind/$ruleId/enabled",{$kind:O,$ruleId:K});return this.http.authedRequest(v.Method.Put,se,void 0,{enabled:Z})}setPushRuleActions(k,O,K,Z){const se=s.encodeUri("/pushrules/"+k+"/$kind/$ruleId/actions",{$kind:O,$ruleId:K});return this.http.authedRequest(v.Method.Put,se,void 0,{actions:Z})}search(k,O){const K={};return k.next_batch&&(K.next_batch=k.next_batch),this.http.authedRequest(v.Method.Post,"/search",K,k.body,{abortSignal:O})}uploadKeysRequest(k,O){return this.http.authedRequest(v.Method.Post,"/keys/upload",void 0,k)}uploadKeySignatures(k){return this.http.authedRequest(v.Method.Post,"/keys/signatures/upload",void 0,k,{prefix:v.ClientPrefix.V3})}downloadKeysForUsers(k,O={}){const K={device_keys:{}};return"token"in O&&(K.token=O.token),k.forEach(Z=>{K.device_keys[Z]=[]}),this.http.authedRequest(v.Method.Post,"/keys/query",void 0,K)}claimOneTimeKeys(k,O="signed_curve25519",K){const Z={};O===void 0&&(O="signed_curve25519");for(const[Ce,Ie]of k){const Ae=Z[Ce]||{};Z[Ce]=Ae,Ae[Ie]=O}const se={one_time_keys:Z};K&&(se.timeout=K);const ge="/keys/claim";return this.http.authedRequest(v.Method.Post,ge,void 0,se)}getKeyChanges(k,O){const K={from:k,to:O};return this.http.authedRequest(v.Method.Get,"/keys/changes",K)}uploadDeviceSigningKeys(k,O){const K=Object.assign({},O);return k&&Object.assign(K,{auth:k}),this.http.authedRequest(v.Method.Post,"/keys/device_signing/upload",void 0,K,{prefix:v.ClientPrefix.Unstable})}registerWithIdentityServer(k){if(!this.idBaseUrl)throw new Error("No identity server base URL set");const O=this.http.getUrl("/account/register",void 0,v.IdentityPrefix.V2,this.idBaseUrl);return this.http.requestOtherUrl(v.Method.Post,O,k)}requestEmailToken(k,O,K,Z,se){const ge={client_secret:O,email:k,send_attempt:K==null?void 0:K.toString(),next_link:Z};return this.http.idServerRequest(v.Method.Post,"/validate/email/requestToken",ge,v.IdentityPrefix.V2,se)}requestMsisdnToken(k,O,K,Z,se,ge){const Ce={client_secret:K,country:k,phone_number:O,send_attempt:Z==null?void 0:Z.toString(),next_link:se};return this.http.idServerRequest(v.Method.Post,"/validate/msisdn/requestToken",Ce,v.IdentityPrefix.V2,ge)}submitMsisdnToken(k,O,K,Z){const se={sid:k,client_secret:O,token:K};return this.http.idServerRequest(v.Method.Post,"/validate/msisdn/submitToken",se,v.IdentityPrefix.V2,Z)}submitMsisdnTokenOtherUrl(k,O,K,Z){const se={sid:O,client_secret:K,token:Z};return this.http.requestOtherUrl(v.Method.Post,k,se)}getIdentityHashDetails(k){return this.http.idServerRequest(v.Method.Get,"/hash_details",void 0,v.IdentityPrefix.V2,k)}async identityHashedLookup(k,O){const K={},Z=await this.getIdentityHashDetails(O);if(!Z||!Z.lookup_pepper||!Z.algorithms)throw new Error("Unsupported identity server: bad response");K.pepper=Z.lookup_pepper;const se={};if(Z.algorithms.includes("sha256")){const Ie=new Pe.Olm.Utility;K.addresses=k.map(Ae=>{const $e=Ae[0].toLowerCase(),qe=Ae[1].toLowerCase(),Ze=Ie.sha256(`${$e} ${qe} ${K.pepper}`).replace(/\+/g,"-").replace(/\//g,"_");return se[Ze]=Ae[0],Ze}),K.algorithm="sha256"}else if(Z.algorithms.includes("none"))K.addresses=k.map(Ie=>{const Ae=Ie[0].toLowerCase(),$e=Ie[1].toLowerCase(),qe=`${Ae} ${$e}`;return se[qe]=Ie[0],qe}),K.algorithm="none";else throw new Error("Unsupported identity server: unknown hash algorithm");const ge=await this.http.idServerRequest(v.Method.Post,"/lookup",K,v.IdentityPrefix.V2,O);if(!ge||!ge.mappings)return[];const Ce=[];for(const Ie of Object.keys(ge.mappings)){const Ae=ge.mappings[Ie],$e=se[Ie];if(!$e)throw new Error("Identity server returned more results than expected");Ce.push({address:$e,mxid:Ae})}return Ce}async lookupThreePid(k,O,K){const se=(await this.identityHashedLookup([[O,k]],K)).find(Ce=>Ce.address===O);return se?{address:O,medium:k,mxid:se.mxid}:{}}async bulkLookupThreePids(k,O){const K=await this.identityHashedLookup(k.map(se=>[se[1],se[0]]),O),Z=[];for(const se of K){const ge=k.find(Ce=>Ce[1]===se.address);if(!ge)throw new Error("Identity sever returned unexpected results");Z.push([ge[0],se.address,se.mxid])}return{threepids:Z}}getIdentityAccount(k){return this.http.idServerRequest(v.Method.Get,"/account",void 0,v.IdentityPrefix.V2,k)}sendToDevice(k,O,K){const Z=s.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:k,$txnId:K||this.makeTxnId()}),se={messages:O},ge=Object.keys(O).reduce((Ce,Ie)=>(Ce[Ie]=Object.keys(O[Ie]),Ce),{});return p.logger.log(`PUT ${Z}`,ge),this.http.authedRequest(v.Method.Put,Z,void 0,se)}queueToDevice(k){return this.toDeviceMessageQueue.queueBatch(k)}getThirdpartyProtocols(){return this.http.authedRequest(v.Method.Get,"/thirdparty/protocols").then(k=>{if(!k||typeof k!="object")throw new Error(`/thirdparty/protocols did not return an object: ${k}`);return k})}getThirdpartyLocation(k,O){const K=s.encodeUri("/thirdparty/location/$protocol",{$protocol:k});return this.http.authedRequest(v.Method.Get,K,O)}getThirdpartyUser(k,O){const K=s.encodeUri("/thirdparty/user/$protocol",{$protocol:k});return this.http.authedRequest(v.Method.Get,K,O)}getTerms(k,O){const K=this.termsUrlForService(k,O);return this.http.requestOtherUrl(v.Method.Get,K)}agreeToTerms(k,O,K,Z){const se=this.termsUrlForService(k,O),ge={Authorization:"Bearer "+K};return this.http.requestOtherUrl(v.Method.Post,se,{user_accepts:Z},{headers:ge})}reportEvent(k,O,K,Z){const se=s.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:k,$eventId:O});return this.http.authedRequest(v.Method.Post,se,void 0,{score:K,reason:Z})}getRoomHierarchy(k,O,K,Z=!1,se){const ge=s.encodeUri("/rooms/$roomId/hierarchy",{$roomId:k}),Ce={suggested_only:String(Z),max_depth:K==null?void 0:K.toString(),from:se,limit:O==null?void 0:O.toString()};return this.http.authedRequest(v.Method.Get,ge,Ce,void 0,{prefix:v.ClientPrefix.V1}).catch(Ie=>{if(Ie.errcode==="M_UNRECOGNIZED")return this.http.authedRequest(v.Method.Get,ge,Ce,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2946"});throw Ie})}async unstableCreateFileTree(k){const{room_id:O}=await this.createRoom({name:k,preset:I.Preset.PrivateChat,power_level_content_override:Ue(Ue({},Y.DEFAULT_TREE_POWER_LEVELS_TEMPLATE),{},{users:{[this.getUserId()]:100}}),creation_content:{[C.RoomCreateTypeField]:C.RoomType.Space},initial_state:[{type:C.UNSTABLE_MSC3088_PURPOSE.name,state_key:C.UNSTABLE_MSC3089_TREE_SUBTYPE.name,content:{[C.UNSTABLE_MSC3088_ENABLED.name]:!0}},{type:C.EventType.RoomEncryption,state_key:"",content:{algorithm:_.MEGOLM_ALGORITHM}}]});return new Y.MSC3089TreeSpace(this,O)}unstableGetFileTreeSpace(k){var O,K;const Z=this.getRoom(k);if((Z==null?void 0:Z.getMyMembership())!=="join")return null;const se=Z.currentState.getStateEvents(C.EventType.RoomCreate,""),ge=Z.currentState.getStateEvents(C.UNSTABLE_MSC3088_PURPOSE.name,C.UNSTABLE_MSC3089_TREE_SUBTYPE.name);if(!se)throw new Error("Expected single room create event");return!(ge!=null&&(O=ge.getContent())!==null&&O!==void 0&&O[C.UNSTABLE_MSC3088_ENABLED.name])||((K=se.getContent())===null||K===void 0?void 0:K[C.RoomCreateTypeField])!==C.RoomType.Space?null:new Y.MSC3089TreeSpace(this,k)}slidingSync(k,O,K){const Z={};k.pos&&(Z.pos=k.pos,delete k.pos),k.timeout&&(Z.timeout=k.timeout,delete k.timeout);const se=k.clientTimeout;return delete k.clientTimeout,this.http.authedRequest(v.Method.Post,"/sync",Z,k,{prefix:"/_matrix/client/unstable/org.matrix.msc3575",baseUrl:O,localTimeoutMs:se,abortSignal:K})}supportsExperimentalThreads(){var k;return((k=this.clientOpts)===null||k===void 0?void 0:k.experimentalThreadSupport)||!1}async getRoomSummary(k,O){const K=s.encodeUri("/rooms/$roomid/summary",{$roomid:k});return this.http.authedRequest(v.Method.Get,K,{via:O},void 0,{prefix:"/_matrix/client/unstable/im.nheko.summary"})}processThreadEvents(k,O,K){k.processThreadedEvents(O,K)}processThreadRoots(k,O,K){k.processThreadRoots(O,K)}processBeaconEvents(k,O){O!=null&&O.length&&k&&k.currentState.processBeaconEvents(O,this)}async whoami(){return this.http.authedRequest(v.Method.Get,"/account/whoami")}timestampToEvent(k,O,K){const Z=s.encodeUri("/rooms/$roomId/timestamp_to_event",{$roomId:k});return this.http.authedRequest(v.Method.Get,Z,{ts:O.toString(),dir:K},void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc3030"})}}rn.MatrixClient=be,(0,n.default)(be,"RESTORE_BACKUP_ERROR_BAD_KEY","RESTORE_BACKUP_ERROR_BAD_KEY");function xe(me,k){var O,K;const Z=k.getPushActions(),se=me.getPushActionsForEvent(k,!0),ge=me.getRoom(k.getRoomId());if(!ge||!me.getUserId())return;const Ce=!!k.threadRootId&&!k.isThreadRoot,Ie=ge.getUnreadCountForEventContext(G.NotificationCountType.Highlight,k),Ae=!!(Z!=null&&(O=Z.tweaks)!==null&&O!==void 0&&O.highlight),$e=!!(se!=null&&(K=se.tweaks)!==null&&K!==void 0&&K.highlight);if(Ae!==$e||Ie>0){var qe;if(!(Ce?(qe=ge.getThread(k.threadRootId))===null||qe===void 0?void 0:qe.hasUserReadEvent(me.getUserId(),k.getId()):ge.hasUserReadEvent(me.getUserId(),k.getId()))){var Ze;let Be=Ie;$e&&!Ae&&Be++,!$e&&Ae&&Be--,Ce?ge.setThreadUnreadNotificationCount(k.threadRootId,G.NotificationCountType.Highlight,Be):ge.setUnreadNotificationCount(G.NotificationCountType.Highlight,Be),((Ze=Ce?ge.getThreadUnreadNotificationCount(k.threadRootId,G.NotificationCountType.Total):ge.getRoomUnreadNotificationCount(G.NotificationCountType.Total))!==null&&Ze!==void 0?Ze:0)<Be&&(Ce?ge.setThreadUnreadNotificationCount(k.threadRootId,G.NotificationCountType.Total,Be):ge.setUnreadNotificationCount(G.NotificationCountType.Total,Be))}}}return rn}var Ud={},ca={},jS;function IH(){if(jS)return ca;jS=1;var t=ze.exports;Object.defineProperty(ca,"__esModule",{value:!0}),ca.RelationsEvent=ca.Relations=void 0;var e=t(Je()),n=Kn(),r=lt(),o=et,i=un(),a=Ji();let l;ca.RelationsEvent=l,function(d){d.Add="Relations.add",d.Remove="Relations.remove",d.Redaction="Relations.redaction"}(l||(ca.RelationsEvent=l={}));class u extends i.TypedEventEmitter{constructor(s,g,c){super(),this.relationType=s,this.eventType=g,(0,e.default)(this,"relationEventIds",new Set),(0,e.default)(this,"relations",new Set),(0,e.default)(this,"annotationsByKey",{}),(0,e.default)(this,"annotationsBySender",{}),(0,e.default)(this,"sortedAnnotationsByKey",[]),(0,e.default)(this,"targetEvent",null),(0,e.default)(this,"creationEmitted",!1),(0,e.default)(this,"client",void 0),(0,e.default)(this,"onEventStatus",(h,_)=>{if(!h.isSending()){h.removeListener(n.MatrixEventEvent.Status,this.onEventStatus);return}_===n.EventStatus.CANCELLED&&(h.removeListener(n.MatrixEventEvent.Status,this.onEventStatus),this.removeEvent(h))}),(0,e.default)(this,"onBeforeRedaction",async h=>{if(this.relations.has(h)){if(this.relations.delete(h),this.relationType===o.RelationType.Annotation)this.removeAnnotationFromAggregation(h);else if(this.relationType===o.RelationType.Replace&&this.targetEvent&&!this.targetEvent.isState()){const _=await this.getLastReplacement();this.targetEvent.makeReplaced(_)}h.removeListener(n.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.emit(l.Redaction,h)}}),this.client=c instanceof a.Room?c.client:c}async addEvent(s){if(this.relationEventIds.has(s.getId()))return;const g=s.getRelation();if(!g){r.logger.error("Event must have relation info");return}const c=g.rel_type,h=s.getType();if(this.relationType!==c||this.eventType!==h){r.logger.error("Event relation info doesn't match this container");return}if(s.isSending()&&s.on(n.MatrixEventEvent.Status,this.onEventStatus),this.relations.add(s),this.relationEventIds.add(s.getId()),this.relationType===o.RelationType.Annotation)this.addAnnotationToAggregation(s);else if(this.relationType===o.RelationType.Replace&&this.targetEvent&&!this.targetEvent.isState()){const _=await this.getLastReplacement();this.targetEvent.makeReplaced(_)}s.on(n.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.emit(l.Add,s),this.maybeEmitCreated()}async removeEvent(s){if(!this.relations.has(s))return;const g=s.getRelation();if(!g){r.logger.error("Event must have relation info");return}const c=g.rel_type,h=s.getType();if(this.relationType!==c||this.eventType!==h){r.logger.error("Event relation info doesn't match this container");return}if(this.relations.delete(s),this.relationType===o.RelationType.Annotation)this.removeAnnotationFromAggregation(s);else if(this.relationType===o.RelationType.Replace&&this.targetEvent&&!this.targetEvent.isState()){const _=await this.getLastReplacement();this.targetEvent.makeReplaced(_)}this.emit(l.Remove,s)}getRelations(){return[...this.relations]}addAnnotationToAggregation(s){var g;const{key:c}=(g=s.getRelation())!==null&&g!==void 0?g:{};if(!c)return;let h=this.annotationsByKey[c];h||(h=this.annotationsByKey[c]=new Set,this.sortedAnnotationsByKey.push([c,h])),h.add(s),this.sortedAnnotationsByKey.sort((m,p)=>{const f=m[1];return p[1].size-f.size});const _=s.getSender();let F=this.annotationsBySender[_];F||(F=this.annotationsBySender[_]=new Set),F.add(s)}removeAnnotationFromAggregation(s){var g;const{key:c}=(g=s.getRelation())!==null&&g!==void 0?g:{};if(!c)return;const h=this.annotationsByKey[c];h&&(h.delete(s),this.sortedAnnotationsByKey.sort((m,p)=>{const f=m[1];return p[1].size-f.size}));const _=s.getSender(),F=this.annotationsBySender[_];F&&F.delete(s)}getSortedAnnotationsByKey(){return this.relationType!==o.RelationType.Annotation?null:this.sortedAnnotationsByKey}getAnnotationsBySender(){return this.relationType!==o.RelationType.Annotation?null:this.annotationsBySender}async getLastReplacement(){if(this.relationType!==o.RelationType.Replace||!this.targetEvent)return null;const s=this.targetEvent.getServerAggregatedRelation(o.RelationType.Replace),g=s==null?void 0:s.origin_server_ts,c=this.getRelations().reduce((h,_)=>_.getSender()!==this.targetEvent.getSender()||g&&g>_.getTs()||h&&h.getTs()>_.getTs()?h:_,null);return c!=null&&c.shouldAttemptDecryption()&&this.client.isCryptoEnabled()?await c.attemptDecryption(this.client.crypto):c!=null&&c.isBeingDecrypted()&&await c.getDecryptionPromise(),c}async setTargetEvent(s){if(!this.targetEvent){if(this.targetEvent=s,this.relationType===o.RelationType.Replace&&!this.targetEvent.isState()){const g=await this.getLastReplacement();g&&this.targetEvent.makeReplaced(g)}this.maybeEmitCreated()}}maybeEmitCreated(){this.creationEmitted||!this.targetEvent||!this.relations.size||(this.creationEmitted=!0,this.targetEvent.emit(n.MatrixEventEvent.RelationsCreated,this.relationType,this.eventType))}}return ca.Relations=u,ca}var $S;function CA(){if($S)return Ud;$S=1;var t=ze.exports;Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.RelationsContainer=void 0;var e=t(Je()),n=IH(),r=Kn();class o{constructor(a,l){this.client=a,this.room=l,(0,e.default)(this,"relations",new Map)}getChildEventsForEvent(a,l,u){var d,s;return(d=this.relations.get(a))===null||d===void 0||(s=d.get(l))===null||s===void 0?void 0:s.get(u)}getAllChildEventsForEvent(a){var l;const u=(l=this.relations.get(a))!==null&&l!==void 0?l:new Map,d=[];for(const s of u.values())for(const g of s.values())d.push(...g.getRelations());return d}aggregateParentEvent(a){const l=this.relations.get(a.getId());if(l)for(const u of l.values())for(const d of u.values())d.setTargetEvent(a)}aggregateChildEvent(a,l){if(a.isRedacted()||a.status===r.EventStatus.CANCELLED)return;const u=a.getRelation();if(!u)return;const d=()=>{if(a.isDecryptionFailure()){a.once(r.MatrixEventEvent.Decrypted,d);return}this.aggregateChildEvent(a,l)};if(a.isBeingDecrypted()||a.shouldAttemptDecryption()){a.once(r.MatrixEventEvent.Decrypted,d);return}const{event_id:s,rel_type:g}=u,c=a.getType();let h=this.relations.get(s);h||(h=new Map,this.relations.set(s,h));let _=h.get(g);_||(_=new Map,h.set(g,_));let F=_.get(c);if(!F){var m,p,f;F=new n.Relations(g,c,this.client),_.set(c,F);const v=(m=this.room)!==null&&m!==void 0?m:l==null?void 0:l.room,y=(p=(f=l==null?void 0:l.findEventById(s))!==null&&f!==void 0?f:v==null?void 0:v.findEventById(s))!==null&&p!==void 0?p:v==null?void 0:v.getPendingEvent(s);y&&F.setTargetEvent(y)}F.addEvent(a)}}return Ud.RelationsContainer=o,Ud}var ql={},qS;function TA(){if(qS)return ql;qS=1;var t=ze.exports;Object.defineProperty(ql,"__esModule",{value:!0}),ql.ReadReceipt=void 0,ql.synthesizeReceipt=d;var e=t(Je()),n=xc(),r=un(),o=u(tt),i=Kn(),a=et;function l(h){if(typeof WeakMap!="function")return null;var _=new WeakMap,F=new WeakMap;return(l=function(m){return m?F:_})(h)}function u(h,_){if(!_&&h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var F=l(_);if(F&&F.has(h))return F.get(h);var m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in h)if(f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)){var v=p?Object.getOwnPropertyDescriptor(h,f):null;v&&(v.get||v.set)?Object.defineProperty(m,f,v):m[f]=h[f]}return m.default=h,F&&F.set(h,m),m}function d(h,_,F){var m;return new i.MatrixEvent({content:{[_.getId()]:{[F]:{[h]:{ts:_.getTs(),thread_id:(m=_.threadRootId)!==null&&m!==void 0?m:n.MAIN_ROOM_TIMELINE}}}},type:a.EventType.Receipt,room_id:_.getRoomId()})}const s=0,g=1;class c extends r.TypedEventEmitter{constructor(..._){super(..._),(0,e.default)(this,"receipts",{}),(0,e.default)(this,"receiptCacheByEventId",{}),(0,e.default)(this,"timeline",void 0)}getReadReceiptForUserId(_,F=!1,m=n.ReceiptType.Read){var p,f;const[v,y]=(p=(f=this.receipts[m])===null||f===void 0?void 0:f[_])!==null&&p!==void 0?p:[];return F?v:y??v}getEventReadUpTo(_,F=!1){var m,p,f,v,y;const w=this.getUnfilteredTimelineSet(),b=this.getReadReceiptForUserId(_,F,n.ReceiptType.Read),S=this.getReadReceiptForUserId(_,F,n.ReceiptType.ReadPrivate);let x;if(b!=null&&b.eventId&&S!==null&&S!==void 0&&S.eventId&&(x=w.compareEventOrdering(b==null?void 0:b.eventId,S==null?void 0:S.eventId)),!x&&b!==null&&b!==void 0&&(m=b.data)!==null&&m!==void 0&&m.ts&&S!==null&&S!==void 0&&(p=S.data)!==null&&p!==void 0&&p.ts){var N,U;x=(b==null||(N=b.data)===null||N===void 0?void 0:N.ts)-(S==null||(U=S.data)===null||U===void 0?void 0:U.ts)}return x?(y=x<0?S==null?void 0:S.eventId:b==null?void 0:b.eventId)!==null&&y!==void 0?y:null:(f=(v=S==null?void 0:S.eventId)!==null&&v!==void 0?v:b==null?void 0:b.eventId)!==null&&f!==void 0?f:null}addReceiptToStructure(_,F,m,p,f){var v,y;this.receipts[F]||(this.receipts[F]={}),this.receipts[F][m]||(this.receipts[F][m]=[null,null]);const w=this.receipts[F][m];let b=w[s];if(f){var S;b=(S=w[g])!==null&&S!==void 0?S:w[s]}if(b){const I=this.getUnfilteredTimelineSet().compareEventOrdering(b.eventId,_);if(I!==null&&I>=0)return}const x={eventId:_,data:p},N=f?w[s]:x,U=f?x:w[g];let q=null;N&&U&&(q=this.getUnfilteredTimelineSet().compareEventOrdering(N.eventId,U.eventId));const P=q===null||q<0,G=(v=w[g])!==null&&v!==void 0?v:w[s];f&&P?w[g]=x:f||(w[s]=x,P||(w[g]=null));const C=(y=w[g])!==null&&y!==void 0?y:w[s];if(G!==C){if(G&&this.receiptCacheByEventId[G.eventId]){const I=G.eventId;this.receiptCacheByEventId[I]=this.receiptCacheByEventId[I].filter(M=>M.type!==F||M.userId!==m),this.receiptCacheByEventId[I].length<1&&delete this.receiptCacheByEventId[I]}this.receiptCacheByEventId[_]||(this.receiptCacheByEventId[_]=[]),this.receiptCacheByEventId[_].push({userId:m,type:F,data:p})}}getReceiptsForEvent(_){return this.receiptCacheByEventId[_.getId()]||[]}addLocalEchoReceipt(_,F,m){this.addReceipt(d(_,F,m),!0)}getUsersReadUpTo(_){return this.getReceiptsForEvent(_).filter(function(F){return o.isSupportedReceiptType(F.type)}).map(function(F){return F.userId})}hasUserReadEvent(_,F){var m;const p=this.getEventReadUpTo(_,!1);if(p===F||(m=this.timeline)!==null&&m!==void 0&&m.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===_)return!0;for(let v=((f=this.timeline)===null||f===void 0?void 0:f.length)-1;v>=0;--v){var f;const y=this.timeline[v];if(y.getId()===F)return!1;if(y.getId()===p)return!0}return!1}}return ql.ReadReceipt=c,ql}var VS;function Ji(){if(VS)return Pn;VS=1;var t=ze.exports;Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.RoomNameType=Pn.RoomEvent=Pn.Room=Pn.NotificationCountType=Pn.KNOWN_SAFE_ROOM_VERSION=void 0;var e=t(Je()),n=X3(),r=Oo(),o=Cc,i=S(tt),a=Kn(),l=ZR(),u=lo,d=ig,s=lt(),g=El(),c=et,h=Mo(),_=Tm(),F=Za(),m=yr,p=Mm(),f=xc(),v=CA(),y=TA(),w=q3();function b(Y){if(typeof WeakMap!="function")return null;var T=new WeakMap,D=new WeakMap;return(b=function(R){return R?D:T})(Y)}function S(Y,T){if(!T&&Y&&Y.__esModule)return Y;if(Y===null||typeof Y!="object"&&typeof Y!="function")return{default:Y};var D=b(T);if(D&&D.has(Y))return D.get(Y);var R={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in Y)if(H!=="default"&&Object.prototype.hasOwnProperty.call(Y,H)){var Q=B?Object.getOwnPropertyDescriptor(Y,H):null;Q&&(Q.get||Q.set)?Object.defineProperty(R,H,Q):R[H]=Y[H]}return R.default=Y,D&&D.set(Y,R),R}function x(Y,T){var D=Object.keys(Y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Y);T&&(R=R.filter(function(B){return Object.getOwnPropertyDescriptor(Y,B).enumerable})),D.push.apply(D,R)}return D}function N(Y){for(var T=1;T<arguments.length;T++){var D=arguments[T]!=null?arguments[T]:{};T%2?x(Object(D),!0).forEach(function(R){(0,e.default)(Y,R,D[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(D)):x(Object(D)).forEach(function(R){Object.defineProperty(Y,R,Object.getOwnPropertyDescriptor(D,R))})}return Y}const U="9";Pn.KNOWN_SAFE_ROOM_VERSION=U;const q=["1","2","3","4","5","6","7","8","9"],P=30;let G;Pn.NotificationCountType=G,function(Y){Y.Highlight="highlight",Y.Total="total"}(G||(Pn.NotificationCountType=G={}));let C;Pn.RoomEvent=C,function(Y){Y.MyMembership="Room.myMembership",Y.Tags="Room.tags",Y.AccountData="Room.accountData",Y.Receipt="Room.receipt",Y.Name="Room.name",Y.Redaction="Room.redaction",Y.RedactionCancelled="Room.redactionCancelled",Y.LocalEchoUpdated="Room.localEchoUpdated",Y.Timeline="Room.timeline",Y.TimelineReset="Room.timelineReset",Y.TimelineRefresh="Room.TimelineRefresh",Y.OldStateUpdated="Room.OldStateUpdated",Y.CurrentStateUpdated="Room.CurrentStateUpdated",Y.HistoryImportedWithinTimeline="Room.historyImportedWithinTimeline",Y.UnreadNotifications="Room.UnreadNotifications"}(C||(Pn.RoomEvent=C={}));class I extends y.ReadReceipt{constructor(T,D,R,B={}){super(),this.roomId=T,this.client=D,this.myUserId=R,this.opts=B,(0,e.default)(this,"reEmitter",void 0),(0,e.default)(this,"txnToEvent",{}),(0,e.default)(this,"notificationCounts",{}),(0,e.default)(this,"threadNotifications",new Map),(0,e.default)(this,"timelineSets",void 0),(0,e.default)(this,"threadsTimelineSets",[]),(0,e.default)(this,"filteredTimelineSets",{}),(0,e.default)(this,"timelineNeedsRefresh",!1),(0,e.default)(this,"pendingEventList",void 0),(0,e.default)(this,"blacklistUnverifiedDevices",void 0),(0,e.default)(this,"selfMembership",void 0),(0,e.default)(this,"summaryHeroes",null),(0,e.default)(this,"getTypeWarning",!1),(0,e.default)(this,"getVersionWarning",!1),(0,e.default)(this,"membersPromise",void 0),(0,e.default)(this,"name",void 0),(0,e.default)(this,"normalizedName",void 0),(0,e.default)(this,"tags",{}),(0,e.default)(this,"accountData",{}),(0,e.default)(this,"summary",null),(0,e.default)(this,"timeline",void 0),(0,e.default)(this,"oldState",void 0),(0,e.default)(this,"currentState",void 0),(0,e.default)(this,"relations",new v.RelationsContainer(this.client,this)),(0,e.default)(this,"threads",new Map),(0,e.default)(this,"lastThread",void 0),(0,e.default)(this,"visibilityEvents",new Map),(0,e.default)(this,"threadTimelineSetsPromise",null),(0,e.default)(this,"threadsReady",!1),(0,e.default)(this,"updateThreadRootEvents",(H,Q)=>{if(H.length){var L;if(this.updateThreadRootEvent((L=this.threadsTimelineSets)===null||L===void 0?void 0:L[0],H,Q),H.hasCurrentUserParticipated){var le;this.updateThreadRootEvent((le=this.threadsTimelineSets)===null||le===void 0?void 0:le[1],H,Q)}}}),(0,e.default)(this,"updateThreadRootEvent",(H,Q,L)=>{H&&Q.rootEvent&&(p.Thread.hasServerSideSupport?H.addLiveEvent(Q.rootEvent,{duplicateStrategy:n.DuplicateStrategy.Replace,fromCache:!1,roomState:this.currentState}):H.addEventToTimeline(Q.rootEvent,H.getLiveTimeline(),{toStartOfTimeline:L}))}),(0,e.default)(this,"applyRedaction",H=>{if(H.isRedaction()){const Q=H.event.redacts,L=Q?this.findEventById(Q):void 0;if(L){if(L.makeRedacted(H),L.isState()){const le=this.currentState.getStateEvents(L.getType(),L.getStateKey());(le==null?void 0:le.getId())===L.getId()&&this.currentState.setStateEvents([L])}this.emit(C.Redaction,H,this),this.visibilityEvents.delete(Q),L.isVisibilityEvent()&&this.redactVisibilityChangeEvent(H)}}}),this.setMaxListeners(100),this.reEmitter=new g.TypedReEmitter(this),B.pendingEventOrdering=B.pendingEventOrdering||h.PendingEventOrdering.Chronological,this.name=T,this.normalizedName=T,this.timelineSets=[new n.EventTimelineSet(this,B)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),[C.Timeline,C.TimelineReset]),this.fixUpLegacyTimelineFields(),this.opts.pendingEventOrdering===h.PendingEventOrdering.Detached&&(this.pendingEventList=[],this.client.store.getPendingEvents(this.roomId).then(H=>{const Q=this.client.getEventMapper({toDevice:!1,decrypt:!1});H.forEach(async L=>{const le=Q(L);le.getType()===c.EventType.RoomMessageEncrypted&&this.client.isCryptoEnabled()&&await le.attemptDecryption(this.client.crypto),le.setStatus(l.EventStatus.NOT_SENT),this.addPendingEvent(le,le.getTxnId())})})),this.opts.lazyLoadMembers?this.membersPromise=void 0:this.membersPromise=Promise.resolve(!1)}async createThreadsTimelineSets(){var T;if(this.threadTimelineSetsPromise)return this.threadTimelineSetsPromise;if((T=this.client)!==null&&T!==void 0&&T.supportsExperimentalThreads())try{this.threadTimelineSetsPromise=Promise.all([this.createThreadTimelineSet(),this.createThreadTimelineSet(p.ThreadFilterType.My)]);const D=await this.threadTimelineSetsPromise;return this.threadsTimelineSets.push(...D),D}catch{return this.threadTimelineSetsPromise=null,null}return null}async decryptCriticalEvents(){if(!this.client.isCryptoEnabled())return;const T=this.getEventReadUpTo(this.client.getUserId(),!0),D=this.getLiveTimeline().getEvents(),R=D.findIndex(H=>H.event.event_id===T),B=D.slice(R).filter(H=>H.shouldAttemptDecryption()).reverse().map(H=>H.attemptDecryption(this.client.crypto,{isRetry:!0}));await Promise.allSettled(B)}async decryptAllEvents(){if(!this.client.isCryptoEnabled())return;const T=this.getUnfilteredTimelineSet().getLiveTimeline().getEvents().filter(D=>D.shouldAttemptDecryption()).reverse().map(D=>D.attemptDecryption(this.client.crypto,{isRetry:!0}));await Promise.allSettled(T)}getCreator(){var T;const D=this.currentState.getStateEvents(c.EventType.RoomCreate,"");return(T=D==null?void 0:D.getContent().creator)!==null&&T!==void 0?T:null}getVersion(){var T;const D=this.currentState.getStateEvents(c.EventType.RoomCreate,"");return D?(T=D.getContent().room_version)!==null&&T!==void 0?T:"1":(this.getVersionWarning||(s.logger.warn("[getVersion] Room "+this.roomId+" does not have an m.room.create event"),this.getVersionWarning=!0),"1")}shouldUpgradeToVersion(){return q.includes(this.getVersion())?null:U}async getRecommendedVersion(){let D=(await this.client.getCapabilities())["m.room_versions"];if(!D){D={default:U,available:{}};for(const B of q)D.available[B]=h.RoomVersionStability.Stable}let R=this.checkVersionAgainstCapability(D);if(R.urgent&&R.needsUpgrade)if(s.logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),D=(await this.client.getCapabilities(!0))["m.room_versions"],D)R=this.checkVersionAgainstCapability(D);else return s.logger.warn("No room version capability - assuming upgrade required."),R;return R}checkVersionAgainstCapability(T){const D=this.getVersion();s.logger.log(`[${this.roomId}] Current version: ${D}`),s.logger.log(`[${this.roomId}] Version capability: `,T);const R={version:D,needsUpgrade:!1,urgent:!1};return D===T.default||Object.keys(T.available).filter(H=>T.available[H]==="stable").includes(D)||(R.version=T.default,R.needsUpgrade=!0,R.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),R.urgent?s.logger.warn(`URGENT upgrade required on ${this.roomId}`):s.logger.warn(`Non-urgent upgrade required on ${this.roomId}`)),R}userMayUpgradeRoom(T){return this.currentState.maySendStateEvent(c.EventType.RoomTombstone,T)}getPendingEvents(){if(!this.pendingEventList)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this.opts.pendingEventOrdering);return this.pendingEventList}removePendingEvent(T){if(!this.pendingEventList)throw new Error("Cannot call removePendingEvent with pendingEventOrdering == "+this.opts.pendingEventOrdering);const D=i.removeElement(this.pendingEventList,function(R){return R.getId()==T},!1);return this.savePendingEvents(),D}hasPendingEvent(T){var D,R;return(D=(R=this.pendingEventList)===null||R===void 0?void 0:R.some(B=>B.getId()===T))!==null&&D!==void 0?D:!1}getPendingEvent(T){var D,R;return(D=(R=this.pendingEventList)===null||R===void 0?void 0:R.find(B=>B.getId()===T))!==null&&D!==void 0?D:null}getLiveTimeline(){return this.getUnfilteredTimelineSet().getLiveTimeline()}getLastActiveTimestamp(){const D=this.getLiveTimeline().getEvents();return D.length?D[D.length-1].getTs():Number.MIN_SAFE_INTEGER}getMyMembership(){var T;return(T=this.selfMembership)!==null&&T!==void 0?T:"leave"}getDMInviter(){const T=this.getMember(this.myUserId);if(T)return T.getDMInviter();if(this.selfMembership==="invite"&&this.getInvitedAndJoinedMemberCount()===2){var D;return(D=this.summaryHeroes)===null||D===void 0?void 0:D[0]}}guessDMUserId(){const T=this.getMember(this.myUserId);if(T){const B=T.getDMInviter();if(B)return B}if(Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length)return this.summaryHeroes[0];const R=this.currentState.getMembers().find(B=>B.userId!==this.myUserId);return R?R.userId:this.myUserId}getAvatarFallbackMember(){if(this.getInvitedAndJoinedMemberCount()>2)return;const D=Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length;if(D){const B=this.summaryHeroes.map(H=>this.getMember(H)).find(H=>!!H);if(B)return B}const R=this.currentState.getMembers();if(R.length<=2){const B=R.find(H=>H.userId!==this.myUserId);if(B)return B}if(D){const B=this.summaryHeroes.map(H=>this.client.getUser(H)).find(H=>!!H);if(B){const H=new u.RoomMember(this.roomId,B.userId);return H.user=B,H}}}updateMyMembership(T){const D=this.selfMembership;this.selfMembership=T,D!==T&&(T==="leave"&&this.cleanupAfterLeaving(),this.emit(C.MyMembership,this,T,D))}async loadMembersFromServer(){const T=this.client.store.getSyncToken();return(await this.client.members(this.roomId,void 0,"leave",T??void 0)).chunk}async loadMembers(){let T=!1,D=await this.client.store.getOutOfBandMembers(this.roomId);return(D===null||this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId))&&(T=!0,D=await this.loadMembersFromServer(),s.logger.log(`LL: got ${D.length} members from server for room ${this.roomId}`)),{memberEvents:D.map(this.client.getEventMapper()),fromServer:T}}loadMembersIfNeeded(){if(this.membersPromise)return this.membersPromise;this.currentState.markOutOfBandMembersStarted();const T=this.loadMembers().then(D=>(this.currentState.setOutOfBandMembers(D.memberEvents),this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId)&&this.client.crypto.trackRoomDevices(this.roomId),D.fromServer)).catch(D=>{throw this.membersPromise=void 0,this.currentState.markOutOfBandMembersFailed(),D});return T.then(D=>{if(D){const R=this.currentState.getMembers().filter(H=>H.isOutOfBand()).map(H=>{var Q;return(Q=H.events.member)===null||Q===void 0?void 0:Q.event});return s.logger.log(`LL: telling store to write ${R.length} members for room ${this.roomId}`),this.client.store.setOutOfBandMembers(this.roomId,R).catch(H=>{s.logger.log("LL: storing OOB room members failed, oh well",H)})}}).catch(D=>{s.logger.error(D)}),this.membersPromise=T,this.membersPromise}async clearLoadedMembersIfNeeded(){this.opts.lazyLoadMembers&&this.membersPromise&&(await this.loadMembersIfNeeded(),await this.client.store.clearOutOfBandMembers(this.roomId),this.currentState.clearOutOfBandMembers(),this.membersPromise=void 0)}cleanupAfterLeaving(){this.clearLoadedMembersIfNeeded().catch(T=>{s.logger.error(`error after clearing loaded members from room ${this.roomId} after leaving`),s.logger.log(T)})}async refreshLiveTimeline(){const T=this.getLiveTimeline(),D=T.getPaginationToken(r.EventTimeline.FORWARDS),R=T.getPaginationToken(r.EventTimeline.BACKWARDS),B=T.getEvents(),H=B[B.length-1];s.logger.log(`[refreshLiveTimeline for ${this.roomId}] at mostRecentEventInTimeline=${H&&H.getId()} liveTimelineBefore=${T.toString()} forwardPaginationToken=${D} backwardPaginationToken=${R}`);const Q=this.getUnfilteredTimelineSet();let L;H?(this.resetLiveTimeline(null,null),this.emit(C.TimelineRefresh,this,Q),L=await this.client.getEventTimeline(Q,H.getId())):L=await this.client.getLatestTimeline(Q);const le=Q.getLiveTimeline();!le||le.getPaginationToken(r.Direction.Forward)===null&&le.getPaginationToken(r.Direction.Backward)===null&&le.getEvents().length===0?(s.logger.log(`[refreshLiveTimeline for ${this.roomId}] using our new live timeline`),L.setPaginationToken(D,r.EventTimeline.FORWARDS),Q.setLiveTimeline(L),this.fixUpLegacyTimelineFields()):s.logger.log(`[refreshLiveTimeline for ${this.roomId}] \`/sync\` or some other request beat us to creating a new live timeline after we reset it. We'll use that instead since any events in the scrollback from this timeline will include the history.`),this.setTimelineNeedsRefresh(!1),this.emit(C.TimelineRefresh,this,Q)}resetLiveTimeline(T,D){for(const R of this.timelineSets)R.resetLiveTimeline(T??void 0,D??void 0);this.fixUpLegacyTimelineFields()}fixUpLegacyTimelineFields(){const T=this.oldState,D=this.currentState;this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(r.EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(r.EventTimeline.FORWARDS),T!==this.oldState&&this.emit(C.OldStateUpdated,this,T,this.oldState),D!==this.currentState&&(this.emit(C.CurrentStateUpdated,this,D,this.currentState),this.reEmitter.stopReEmitting(D,[F.RoomStateEvent.Events,F.RoomStateEvent.Members,F.RoomStateEvent.NewMember,F.RoomStateEvent.Update,F.RoomStateEvent.Marker,m.BeaconEvent.New,m.BeaconEvent.Update,m.BeaconEvent.Destroy,m.BeaconEvent.LivenessChange]),this.reEmitter.reEmit(this.currentState,[F.RoomStateEvent.Events,F.RoomStateEvent.Members,F.RoomStateEvent.NewMember,F.RoomStateEvent.Update,F.RoomStateEvent.Marker,m.BeaconEvent.New,m.BeaconEvent.Update,m.BeaconEvent.Destroy,m.BeaconEvent.LivenessChange]))}async hasUnverifiedDevices(){if(!this.client.isRoomEncrypted(this.roomId))return!1;const T=await this.getEncryptionTargetMembers();for(const D of T)if(this.client.getStoredDevicesForUser(D.userId).some(B=>B.isUnverified()))return!0;return!1}getTimelineSets(){return this.timelineSets}getUnfilteredTimelineSet(){return this.timelineSets[0]}getTimelineForEvent(T){const D=this.findEventById(T),R=this.findThreadForEvent(D);return R?R.timelineSet.getLiveTimeline():this.getUnfilteredTimelineSet().getTimelineForEvent(T)}addTimeline(){return this.getUnfilteredTimelineSet().addTimeline()}setTimelineNeedsRefresh(T){this.timelineNeedsRefresh=T}getTimelineNeedsRefresh(){return this.timelineNeedsRefresh}findEventById(T){let D=this.getUnfilteredTimelineSet().findEventById(T);if(!D){const R=this.getThreads();for(let B=0;B<R.length;B++)if(D=R[B].findEventById(T),D)return D}return D}getUnreadNotificationCount(T=G.Total){let D=this.getRoomUnreadNotificationCount(T);if(this.client.canSupport.get(w.Feature.ThreadUnreadNotifications)!==w.ServerSupport.Unsupported)for(const B of this.threadNotifications.values()){var R;D+=(R=B[T])!==null&&R!==void 0?R:0}return D}getUnreadCountForEventContext(T=G.Total,D){var R;return(R=!!D.threadRootId&&!D.isThreadRoot?this.getThreadUnreadNotificationCount(D.threadRootId,T):this.getRoomUnreadNotificationCount(T))!==null&&R!==void 0?R:0}getRoomUnreadNotificationCount(T=G.Total){var D;return(D=this.notificationCounts[T])!==null&&D!==void 0?D:0}getThreadUnreadNotificationCount(T,D=G.Total){var R,B;return(R=(B=this.threadNotifications.get(T))===null||B===void 0?void 0:B[D])!==null&&R!==void 0?R:0}hasThreadUnreadNotification(){for(const R of this.threadNotifications.values()){var T,D;if(((T=R.highlight)!==null&&T!==void 0?T:0)>0||((D=R.total)!==null&&D!==void 0?D:0)>0)return!0}return!1}setThreadUnreadNotificationCount(T,D,R){var B,H;const Q=N({highlight:(B=this.threadNotifications.get(T))===null||B===void 0?void 0:B.highlight,total:(H=this.threadNotifications.get(T))===null||H===void 0?void 0:H.total},{[D]:R});this.threadNotifications.set(T,Q),this.emit(C.UnreadNotifications,Q,T)}get threadsAggregateNotificationType(){let T=null;for(const B of this.threadNotifications.values()){var D,R;if(((D=B.highlight)!==null&&D!==void 0?D:0)>0)return G.Highlight;((R=B.total)!==null&&R!==void 0?R:0)>0&&!T&&(T=G.Total)}return T}resetThreadUnreadNotificationCount(T){if(T)for(const[D]of this.threadNotifications)T.includes(D)||this.threadNotifications.delete(D);else this.threadNotifications.clear();this.emit(C.UnreadNotifications)}setUnreadNotificationCount(T,D){this.notificationCounts[T]=D,this.emit(C.UnreadNotifications,this.notificationCounts)}setSummary(T){const D=T["m.heroes"],R=T["m.joined_member_count"],B=T["m.invited_member_count"];Number.isInteger(R)&&this.currentState.setJoinedMemberCount(R),Number.isInteger(B)&&this.currentState.setInvitedMemberCount(B),Array.isArray(D)&&(this.summaryHeroes=D.filter(H=>H!==this.myUserId))}setBlacklistUnverifiedDevices(T){this.blacklistUnverifiedDevices=T}getBlacklistUnverifiedDevices(){return this.blacklistUnverifiedDevices===void 0?null:this.blacklistUnverifiedDevices}getAvatarUrl(T,D,R,B,H=!0){const Q=this.currentState.getStateEvents(c.EventType.RoomAvatar,"");if(!Q&&!H)return null;const L=Q?Q.getContent().url:null;return L?(0,o.getHttpUriForMxc)(T,L,D,R,B):null}getMxcAvatarUrl(){var T,D;return((T=this.currentState.getStateEvents(c.EventType.RoomAvatar,""))===null||T===void 0||(D=T.getContent())===null||D===void 0?void 0:D.url)||null}getCanonicalAlias(){const T=this.currentState.getStateEvents(c.EventType.RoomCanonicalAlias,"");return T&&T.getContent().alias||null}getAltAliases(){const T=this.currentState.getStateEvents(c.EventType.RoomCanonicalAlias,"");return T?T.getContent().alt_aliases||[]:[]}addEventsToTimeline(T,D,R,B){R.getTimelineSet().addEventsToTimeline(T,D,R,B)}getThread(T){var D;return(D=this.threads.get(T))!==null&&D!==void 0?D:null}getThreads(){return Array.from(this.threads.values())}getMember(T){return this.currentState.getMember(T)}getMembers(){return this.currentState.getMembers()}getJoinedMembers(){return this.getMembersWithMembership("join")}getJoinedMemberCount(){return this.currentState.getJoinedMemberCount()}getInvitedMemberCount(){return this.currentState.getInvitedMemberCount()}getInvitedAndJoinedMemberCount(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()}getMembersWithMembership(T){return this.currentState.getMembers().filter(function(D){return D.membership===T})}async getEncryptionTargetMembers(){await this.loadMembersIfNeeded();let T=this.getMembersWithMembership("join");return this.shouldEncryptForInvitedMembers()&&(T=T.concat(this.getMembersWithMembership("invite"))),T}shouldEncryptForInvitedMembers(){var T;const D=this.currentState.getStateEvents(c.EventType.RoomHistoryVisibility,"");return(D==null||(T=D.getContent())===null||T===void 0?void 0:T.history_visibility)!=="joined"}getDefaultRoomName(T){return this.calculateRoomName(T,!0)}hasMembershipState(T,D){const R=this.getMember(T);return R?R.membership===D:!1}getOrCreateFilteredTimelineSet(T,{prepopulateTimeline:D=!0,useSyncEvents:R=!0,pendingEvents:B=!0}={}){if(this.filteredTimelineSets[T.filterId])return this.filteredTimelineSets[T.filterId];const H=Object.assign({filter:T,pendingEvents:B},this.opts),Q=new n.EventTimelineSet(this,H);this.reEmitter.reEmit(Q,[C.Timeline,C.TimelineReset]),R&&(this.filteredTimelineSets[T.filterId]=Q,this.timelineSets.push(Q));const L=this.getLiveTimeline();if(D){L.getEvents().forEach(function(he){Q.addLiveEvent(he)});let le=L;for(;le.getNeighbouringTimeline(r.EventTimeline.BACKWARDS);)le=le.getNeighbouringTimeline(r.EventTimeline.BACKWARDS);Q.getLiveTimeline().setPaginationToken(le.getPaginationToken(r.EventTimeline.BACKWARDS),r.EventTimeline.BACKWARDS)}else if(R){const le=L.getPaginationToken(r.Direction.Forward);Q.getLiveTimeline().setPaginationToken(le,r.Direction.Backward)}return Q}async getThreadListFilter(T=p.ThreadFilterType.All){const D=this.client.getUserId(),R=new _.Filter(D),B={room:{timeline:{[p.FILTER_RELATED_BY_REL_TYPES.name]:[p.THREAD_RELATION_TYPE.name]}}};T===p.ThreadFilterType.My&&(B.room.timeline[p.FILTER_RELATED_BY_SENDERS.name]=[D]),R.setDefinition(B);const H=await this.client.getOrCreateFilter(`THREAD_PANEL_${this.roomId}_${T}`,R);return R.filterId=H,R}async createThreadTimelineSet(T){let D;if(p.Thread.hasServerSideListSupport)D=new n.EventTimelineSet(this,N(N({},this.opts),{},{pendingEvents:!1}),void 0,void 0,T??p.ThreadFilterType.All),this.reEmitter.reEmit(D,[C.Timeline,C.TimelineReset]);else if(p.Thread.hasServerSideSupport){const R=await this.getThreadListFilter(T);D=this.getOrCreateFilteredTimelineSet(R,{prepopulateTimeline:!1,useSyncEvents:!1,pendingEvents:!1})}else D=new n.EventTimelineSet(this,{pendingEvents:!1}),Array.from(this.threads).forEach(([,R])=>{if(R.length===0)return;const B=R.timeline.some(H=>H.getSender()===this.client.getUserId());(T!==p.ThreadFilterType.My||B)&&D.getLiveTimeline().addEvent(R.rootEvent,{toStartOfTimeline:!1})});return D}processThreadRoots(T,D){for(const R of T)r.EventTimeline.setEventMetadata(R,this.currentState,D),this.getThread(R.getId())||this.createThread(R.getId(),R,[],D)}async fetchRoomThreads(){if(!(this.threadsReady||!this.client.supportsExperimentalThreads())){if(p.Thread.hasServerSideListSupport)await Promise.all([this.fetchRoomThreadList(p.ThreadFilterType.All),this.fetchRoomThreadList(p.ThreadFilterType.My)]);else{const R=await this.getThreadListFilter(),{chunk:B}=await this.client.createMessagesRequest(this.roomId,"",Number.MAX_SAFE_INTEGER,r.Direction.Backward,R);if(!B.length)return;const H=B.map(this.client.getEventMapper()).sort((le,he)=>{const De=le.getServerAggregatedRelation(p.THREAD_RELATION_TYPE.name),ke=he.getServerAggregatedRelation(p.THREAD_RELATION_TYPE.name);return De.latest_event.origin_server_ts-ke.latest_event.origin_server_ts});let Q;const L=this.getLiveTimeline().getState(r.EventTimeline.FORWARDS);for(const le of H){var T;const he={duplicateStrategy:n.DuplicateStrategy.Ignore,fromCache:!1,roomState:L};(T=this.threadsTimelineSets[0])===null||T===void 0||T.addLiveEvent(le,he);const De=le.getServerAggregatedRelation(p.THREAD_RELATION_TYPE.name);if(De!=null&&De.current_user_participated){var D;(D=this.threadsTimelineSets[1])===null||D===void 0||D.addLiveEvent(le,he),Q=le}}this.processThreadRoots(H,!0),this.client.decryptEventIfNeeded(H[H.length-1]),Q&&this.client.decryptEventIfNeeded(Q)}this.on(p.ThreadEvent.NewReply,this.onThreadNewReply),this.on(p.ThreadEvent.Delete,this.onThreadDelete),this.threadsReady=!0}}async fetchRoomThreadList(T){const D=T===p.ThreadFilterType.My?this.threadsTimelineSets[1]:this.threadsTimelineSets[0],{chunk:R,end:B}=await this.client.createThreadListMessagesRequest(this.roomId,null,void 0,r.Direction.Backward,D.threadListType,D.getFilter());if(D.getLiveTimeline().setPaginationToken(B,r.Direction.Backward),!R.length)return;const H=R.map(this.client.getEventMapper());this.processThreadRoots(H,!0);const Q=this.getLiveTimeline().getState(r.EventTimeline.FORWARDS);for(const L of H)D.addLiveEvent(L,{duplicateStrategy:n.DuplicateStrategy.Replace,fromCache:!1,roomState:Q})}onThreadNewReply(T){this.updateThreadRootEvents(T,!1)}onThreadDelete(T){var D;this.threads.delete(T.id);const R=this.getTimelineForEvent(T.id),B=R==null||(D=R.getEvents())===null||D===void 0?void 0:D.find(H=>H.getId()===T.id);B?T.clearEventMetadata(B):s.logger.debug("onThreadDelete: Could not find root event in room timeline");for(const H of this.threadsTimelineSets)H.removeEvent(T.id)}removeFilteredTimelineSet(T){const D=this.filteredTimelineSets[T.filterId];delete this.filteredTimelineSets[T.filterId];const R=this.timelineSets.indexOf(D);R>-1&&this.timelineSets.splice(R,1)}eventShouldLiveIn(T,D,R){var B,H;if(!((B=this.client)!==null&&B!==void 0&&B.supportsExperimentalThreads()))return{shouldLiveInRoom:!0,shouldLiveInThread:!1};if(T.isThreadRoot||R!=null&&R.has(T.getId()))return{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:T.getId()};if(T.isRelation(p.THREAD_RELATION_TYPE.name))return{shouldLiveInRoom:!1,shouldLiveInThread:!0,threadId:T.threadRootId};const Q=T.getAssociatedId(),L=(H=this.findEventById(Q))!==null&&H!==void 0?H:D==null?void 0:D.find(le=>le.getId()===Q);return L&&(T.isRelation()||T.isRedaction())?this.eventShouldLiveIn(L,D,R):R!=null&&R.has(T.relationEventId)?{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:T.relationEventId}:{shouldLiveInRoom:!0,shouldLiveInThread:!1}}findThreadForEvent(T){if(!T)return null;const{threadId:D}=this.eventShouldLiveIn(T);return D?this.getThread(D):null}addThreadedEvents(T,D,R=!1){let B=this.getThread(T);if(!B){var H;const Q=(H=this.findEventById(T))!==null&&H!==void 0?H:D.find(L=>L.getId()===T);B=this.createThread(T,Q,D,R)}B.addEvents(D,R)}processThreadedEvents(T,D){T.forEach(this.applyRedaction);const R={};for(const H of T){var B;const{threadId:Q,shouldLiveInThread:L}=this.eventShouldLiveIn(H);L&&!R[Q]&&(R[Q]=[]),(B=R[Q])===null||B===void 0||B.push(H)}Object.entries(R).map(([H,Q])=>this.addThreadedEvents(H,Q,D))}createThread(T,D,R=[],B){var H,Q;if(D){const he=this.relations.getAllChildEventsForEvent(D.getId());he!=null&&he.length&&(R=R.concat(he.filter(De=>!De.isRelation(c.RelationType.Replace))))}const L=new p.Thread(T,D,{room:this,client:this.client});for(const he of R)L.setEventMetadata(he);this.threads.set(L.id,L),this.reEmitter.reEmit(L,[p.ThreadEvent.Delete,p.ThreadEvent.Update,p.ThreadEvent.NewReply,C.Timeline,C.TimelineReset]);const le=((H=this.lastThread)===null||H===void 0?void 0:H.rootEvent)&&(D==null?void 0:D.localTimestamp)&&((Q=this.lastThread.rootEvent)===null||Q===void 0?void 0:Q.localTimestamp)<(D==null?void 0:D.localTimestamp);return(!this.lastThread||le)&&(this.lastThread=L),this.threadsReady&&this.updateThreadRootEvents(L,B),this.emit(p.ThreadEvent.New,L,B),L}processLiveEvent(T){if(this.applyRedaction(T),T.isVisibilityEvent()&&this.applyNewVisibilityEvent(T),this.applyPendingVisibilityEvents(T),!T.getUnsigned().transaction_id&&T.getSender()===this.myUserId){for(const R in this.txnToEvent)if(this.txnToEvent[R].getId()===T.getId()){s.logger.debug("processLiveEvent: found sent event without txn ID: ",R,T.getId());const H=T.getUnsigned();H.transaction_id=R,T.setUnsigned(H);break}}}addLiveEvent(T,D){const{duplicateStrategy:R,timelineWasEmpty:B,fromCache:H}=D;for(const Q of this.timelineSets)Q.addLiveEvent(T,{duplicateStrategy:R,fromCache:H,timelineWasEmpty:B});T.sender&&T.getType()!==c.EventType.RoomRedaction&&this.addReceipt((0,y.synthesizeReceipt)(T.sender.userId,T,f.ReceiptType.Read),!0)}addPendingEvent(T,D){if(T.status!==l.EventStatus.SENDING&&T.status!==l.EventStatus.NOT_SENT)throw new Error("addPendingEvent called on an event with status "+T.status);if(this.txnToEvent[D])throw new Error("addPendingEvent called on an event with known txnId "+D);if(r.EventTimeline.setEventMetadata(T,this.getLiveTimeline().getState(r.EventTimeline.FORWARDS),!1),this.txnToEvent[D]=T,this.pendingEventList){if(this.pendingEventList.some(R=>R.status===l.EventStatus.NOT_SENT)&&(s.logger.warn("Setting event as NOT_SENT due to messages in the same state"),T.setStatus(l.EventStatus.NOT_SENT)),this.pendingEventList.push(T),this.savePendingEvents(),T.isRelation()&&this.aggregateNonLiveRelation(T),T.isRedaction()){const R=T.event.redacts;let B=this.pendingEventList.find(H=>H.getId()===R);!B&&R&&(B=this.findEventById(R)),B&&(B.markLocallyRedacted(T),this.emit(C.Redaction,T,this))}}else for(const R of this.timelineSets)R.getFilter()?R.getFilter().filterRoomTimeline([T]).length&&R.addEventToTimeline(T,R.getLiveTimeline(),{toStartOfTimeline:!1}):R.addEventToTimeline(T,R.getLiveTimeline(),{toStartOfTimeline:!1});this.emit(C.LocalEchoUpdated,T,this)}savePendingEvents(){if(this.pendingEventList){const T=this.pendingEventList.map(D=>N(N({},D.event),{},{txn_id:D.getTxnId()})).filter(D=>{const R=D.type===c.EventType.RoomMessageEncrypted,B=this.client.isRoomEncrypted(this.roomId);return R||!B});this.client.store.setPendingEvents(this.roomId,T)}}aggregateNonLiveRelation(T){this.relations.aggregateChildEvent(T)}getEventForTxnId(T){return this.txnToEvent[T]}handleRemoteEcho(T,D){const R=D.getId(),B=T.getId(),H=D.status;s.logger.debug(`Got remote echo for event ${R} -> ${B} old status ${H}`),delete this.txnToEvent[T.getUnsigned().transaction_id],this.pendingEventList&&this.removePendingEvent(R),D.handleRemoteEcho(T.event);const{shouldLiveInRoom:Q,threadId:L}=this.eventShouldLiveIn(T),le=L?this.getThread(L):null;if(le==null||le.timelineSet.handleRemoteEcho(D,R,B),Q)for(const he of this.timelineSets)he.handleRemoteEcho(D,R,B);this.emit(C.LocalEchoUpdated,D,this,R,H)}updatePendingEvent(T,D,R){if(s.logger.log(`setting pendingEvent status to ${D} in ${T.getRoomId()} event ID ${T.getId()} -> ${R}`),D==l.EventStatus.SENT&&!R)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(D==l.EventStatus.SENT&&this.getTimelineForEvent(R)){const le=this.findEventById(R);if(!(le==null?void 0:le.getUnsigned().transaction_id)&&le){const De=le.getUnsigned();De.transaction_id=T.getTxnId(),le.setUnsigned(De),this.removeEvent(le.getId()),this.handleRemoteEcho(le,T)}return}const B=T.status,H=T.getId();if(!B)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");const Q=M[B];if(!(Q!=null&&Q.includes(D)))throw new Error(`Invalid EventStatus transition ${B}->${D}`);if(T.setStatus(D),D==l.EventStatus.SENT){T.replaceLocalEventId(R);const{shouldLiveInRoom:L,threadId:le}=this.eventShouldLiveIn(T),he=le?this.getThread(le):void 0;if(he==null||he.timelineSet.replaceEventId(H,R),L)for(const De of this.timelineSets)De.replaceEventId(H,R)}else if(D==l.EventStatus.CANCELLED){if(this.pendingEventList){const L=this.getPendingEvent(H);this.removePendingEvent(H),L!=null&&L.isRedaction()&&this.revertRedactionLocalEcho(L)}this.removeEvent(H)}this.savePendingEvents(),this.emit(C.LocalEchoUpdated,T,this,H,B)}revertRedactionLocalEcho(T){const D=T.event.redacts;if(!D)return;const R=this.getUnfilteredTimelineSet().findEventById(D);R&&(R.unmarkLocallyRedacted(),this.emit(C.RedactionCancelled,T,this),R.isRelation()&&this.aggregateNonLiveRelation(R))}addLiveEvents(T,D,R=!1){let B=D,H=!1;if(typeof D=="object"?{duplicateStrategy:B,fromCache:R=!1,timelineWasEmpty:H}=D:D!==void 0&&s.logger.warn("Overload deprecated: `Room.addLiveEvents(events, duplicateStrategy?, fromCache?)` is deprecated in favor of the overload with `Room.addLiveEvents(events, IAddLiveEventOptions)`"),B&&["replace","ignore"].indexOf(B)===-1)throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(let De=0;De<this.timelineSets.length;De++){const ke=this.timelineSets[De].getLiveTimeline();if(ke.getPaginationToken(r.EventTimeline.FORWARDS))throw new Error("live timeline "+De+" is no longer live - it has a pagination token ("+ke.getPaginationToken(r.EventTimeline.FORWARDS)+")");if(ke.getNeighbouringTimeline(r.EventTimeline.FORWARDS))throw new Error(`live timeline ${De} is no longer live - it has a neighbouring timeline`)}const Q=this.findThreadRoots(T),L={},le={duplicateStrategy:B,fromCache:R,timelineWasEmpty:H};for(const De of T){var he;if(this.processLiveEvent(De),De.getUnsigned().transaction_id){const oe=this.txnToEvent[De.getUnsigned().transaction_id];if(oe){this.handleRemoteEcho(De,oe);continue}}const{shouldLiveInRoom:ke,shouldLiveInThread:W,threadId:z}=this.eventShouldLiveIn(De,T,Q);W&&!L[z??""]&&(L[z??""]=[]),(he=L[z??""])===null||he===void 0||he.push(De),ke&&this.addLiveEvent(De,le)}Object.entries(L).forEach(([De,ke])=>{this.addThreadedEvents(De,ke,!1)})}partitionThreadedEvents(T){if(this.client.supportsExperimentalThreads()){const B=this.findThreadRoots(T);return T.reduce((H,Q)=>{const{shouldLiveInRoom:L,shouldLiveInThread:le,threadId:he}=this.eventShouldLiveIn(Q,T,B);return L&&H[0].push(Q),le&&(Q.setThreadId(he??""),H[1].push(Q)),H},[[],[]])}else return[T,[]]}findThreadRoots(T){const D=new Set;for(const B of T)if(B.isRelation(p.THREAD_RELATION_TYPE.name)){var R;D.add((R=B.relationEventId)!==null&&R!==void 0?R:"")}return D}addReceipt(T,D=!1){const R=T.getContent();Object.keys(R).forEach(B=>{Object.keys(R[B]).forEach(H=>{Object.keys(R[B][H]).forEach(Q=>{var L;const le=R[B][H][Q],De=!le.thread_id||le.thread_id===f.MAIN_ROOM_TIMELINE?this:this.threads.get((L=le.thread_id)!==null&&L!==void 0?L:"");De==null||De.addReceiptToStructure(B,H,Q,le,D)})})}),this.emit(C.Receipt,T,this)}addEphemeralEvents(T){for(const D of T)D.getType()===c.EventType.Typing?this.currentState.setTypingEvent(D):D.getType()===c.EventType.Receipt&&this.addReceipt(D)}removeEvents(T){for(const D of T)this.removeEvent(D)}removeEvent(T){let D=!1;for(const R of this.timelineSets){const B=R.removeEvent(T);B&&(B.isRedaction()&&this.revertRedactionLocalEcho(B),D=!0)}return D}recalculate(){const T=this.currentState.getStateEvents(c.EventType.RoomMember,this.myUserId);if(T){const R=T.getContent().membership;this.updateMyMembership(R),R==="invite"&&(T.getUnsigned().invite_room_state||[]).forEach(H=>{this.currentState.getStateEvents(H.type,H.state_key)||this.currentState.setStateEvents([new a.MatrixEvent({type:H.type,state_key:H.state_key,content:H.content,event_id:"$fake"+Date.now(),room_id:this.roomId,user_id:this.myUserId})])})}const D=this.name;this.name=this.calculateRoomName(this.myUserId),this.normalizedName=(0,i.normalize)(this.name),this.summary=new d.RoomSummary(this.roomId,{title:this.name}),D!==this.name&&this.emit(C.Name,this)}addTags(T){this.tags=T.getContent().tags||{},this.emit(C.Tags,T,this)}addAccountData(T){for(const D of T){D.getType()==="m.tag"&&this.addTags(D);const R=this.accountData[D.getType()];this.accountData[D.getType()]=D,this.emit(C.AccountData,D,this,R)}}getAccountData(T){return this.accountData[T]}maySendMessage(){return this.getMyMembership()==="join"&&(this.client.isRoomEncrypted(this.roomId)?this.currentState.maySendEvent(c.EventType.RoomMessageEncrypted,this.myUserId):this.currentState.maySendEvent(c.EventType.RoomMessage,this.myUserId))}canInvite(T){let D=this.getMyMembership()==="join";const R=this.currentState.getStateEvents(c.EventType.RoomPowerLevels,""),B=R&&R.getContent(),H=this.getMember(T);return B&&H&&B.invite>H.powerLevel&&(D=!1),D}getJoinRule(){return this.currentState.getJoinRule()}getHistoryVisibility(){return this.currentState.getHistoryVisibility()}getGuestAccess(){return this.currentState.getGuestAccess()}getType(){const T=this.currentState.getStateEvents(c.EventType.RoomCreate,"");if(!T){this.getTypeWarning||(s.logger.warn("[getType] Room "+this.roomId+" does not have an m.room.create event"),this.getTypeWarning=!0);return}return T.getContent()[c.RoomCreateTypeField]}isSpaceRoom(){return this.getType()===c.RoomType.Space}isCallRoom(){return this.getType()===c.RoomType.UnstableCall}isElementVideoRoom(){return this.getType()===c.RoomType.ElementVideo}roomNameGenerator(T){if(this.client.roomNameGenerator){const D=this.client.roomNameGenerator(this.roomId,T);if(D!==null)return D}switch(T.type){case A.Actual:return T.name;case A.Generated:switch(T.subtype){case"Inviting":return`Inviting ${$(T.names,T.count)}`;default:return $(T.names,T.count)}case A.EmptyRoom:return T.oldName?`Empty room (was ${T.oldName})`:"Empty room"}}calculateRoomName(T,D=!1){if(!D){const z=this.currentState.getStateEvents(c.EventType.RoomName,"");if(z!=null&&z.getContent().name)return this.roomNameGenerator({type:A.Actual,name:z.getContent().name})}const R=this.getCanonicalAlias();if(R)return this.roomNameGenerator({type:A.Actual,name:R});const B=this.currentState.getJoinedMemberCount(),H=this.currentState.getInvitedMemberCount();let Q=B+H-1,L=[];const le=this.currentState.getStateEvents(c.UNSTABLE_ELEMENT_FUNCTIONAL_USERS.name,"");Array.isArray(le==null?void 0:le.getContent().service_members)&&(L=le.getContent().service_members);let he=[];if(this.summaryHeroes)this.summaryHeroes.forEach(z=>{if(L.includes(z)){Q--;return}const oe=this.getMember(z);he.push(oe?oe.name:z)});else{let z=this.currentState.getMembers().filter(oe=>oe.userId!==T&&(oe.membership==="invite"||oe.membership==="join"));z=z.filter(({userId:oe})=>L.includes(oe)?(Q--,!1):!0),z.sort((oe,ce)=>i.compare(oe.userId,ce.userId)),z=z.slice(0,5),he=z.map(oe=>oe.name)}if(Q)return this.roomNameGenerator({type:A.Generated,names:he,count:Q});if(this.getMyMembership()=="join"){const z=this.currentState.getStateEvents(c.EventType.RoomThirdPartyInvite);if(z!=null&&z.length){const oe=z.map(ce=>ce.getContent().display_name);return this.roomNameGenerator({type:A.Generated,subtype:"Inviting",names:oe,count:oe.length+1})}}let ke=he;ke.length||(ke=this.currentState.getMembers().filter(z=>z.userId!==T&&z.membership!=="invite"&&z.membership!=="join").map(z=>z.name));let W;return ke.length&&(W=this.roomNameGenerator({type:A.Generated,names:ke,count:ke.length+1})),this.roomNameGenerator({type:A.EmptyRoom,oldName:W})}applyNewVisibilityEvent(T){const D=T.asVisibilityChange();if(!D)return;const R=T.getSender();if(!R||!(c.EVENT_VISIBILITY_CHANGE_TYPE.name&&this.currentState.maySendStateEvent(c.EVENT_VISIBILITY_CHANGE_TYPE.name,R)||c.EVENT_VISIBILITY_CHANGE_TYPE.altName&&this.currentState.maySendStateEvent(c.EVENT_VISIBILITY_CHANGE_TYPE.altName,R)))return;const H=this.visibilityEvents.get(D.eventId);if(H){let L=H.length-1;const le=Math.max(0,H.length-P);for(;L>=le&&!(H[L].getTs()<T.getTs());--L);L===-1?H.unshift(T):H.splice(L+1,0,T)}else this.visibilityEvents.set(D.eventId,[T]);const Q=this.findEventById(D.eventId);Q&&Q.applyVisibilityEvent(D)}redactVisibilityChangeEvent(T){if(!T.isVisibilityEvent)throw new Error("expected a visibility change event");const D=T.getRelation(),R=D==null?void 0:D.event_id,B=this.visibilityEvents.get(R);if(!B)return;const H=B.findIndex(Q=>Q.getId()===T.getId());if(H!==-1&&(B.splice(H,1),H===B.length)){const Q=this.findEventById(R);if(!Q)return;if(H===0)this.visibilityEvents.delete(R),Q.applyVisibilityEvent();else{const le=B[B.length-1].asVisibilityChange();if(!le)throw new Error("at this stage, visibility changes should be well-formed");Q.applyVisibilityEvent(le)}}}applyPendingVisibilityEvents(T){const D=this.visibilityEvents.get(T.getId());if(!D||D.length==0)return;const R=D[D.length-1],B=R.asVisibilityChange();B&&(B.visible,!(R.getTs()<T.getTs())&&T.applyVisibilityEvent(B))}}Pn.Room=I;const M={[l.EventStatus.ENCRYPTING]:[l.EventStatus.SENDING,l.EventStatus.NOT_SENT,l.EventStatus.CANCELLED],[l.EventStatus.SENDING]:[l.EventStatus.ENCRYPTING,l.EventStatus.QUEUED,l.EventStatus.NOT_SENT,l.EventStatus.SENT],[l.EventStatus.QUEUED]:[l.EventStatus.SENDING,l.EventStatus.CANCELLED],[l.EventStatus.SENT]:[],[l.EventStatus.NOT_SENT]:[l.EventStatus.SENDING,l.EventStatus.QUEUED,l.EventStatus.CANCELLED],[l.EventStatus.CANCELLED]:[]};let A;Pn.RoomNameType=A,function(Y){Y[Y.EmptyRoom=0]="EmptyRoom",Y[Y.Generated=1]="Generated",Y[Y.Actual=2]="Actual"}(A||(Pn.RoomNameType=A={}));function $(Y,T){const D=T-1;return Y.length?Y.length===1&&D<=1?Y[0]:Y.length===2&&D<=2?`${Y[0]} and ${Y[1]}`:D>1?`${Y[0]} and ${D} others`:`${Y[0]} and 1 other`:"Empty room"}return Pn}var GS;function X3(){if(GS)return ta;GS=1;var t=ze.exports;Object.defineProperty(ta,"__esModule",{value:!0}),ta.EventTimelineSet=ta.DuplicateStrategy=void 0;var e=t(Je()),n=Oo(),r=lt(),o=Ji(),i=un(),a=CA();let l;l=r.logger.log.bind(r.logger);let u;ta.DuplicateStrategy=u,function(s){s.Ignore="ignore",s.Replace="replace"}(u||(ta.DuplicateStrategy=u={}));class d extends i.TypedEventEmitter{constructor(g,c={},h,_,F=null){var m,p,f;super(),this.room=g,this.thread=_,this.threadListType=F,(0,e.default)(this,"relations",void 0),(0,e.default)(this,"timelineSupport",void 0),(0,e.default)(this,"displayPendingEvents",void 0),(0,e.default)(this,"liveTimeline",void 0),(0,e.default)(this,"timelines",void 0),(0,e.default)(this,"_eventIdToTimeline",new Map),(0,e.default)(this,"filter",void 0),this.timelineSupport=Boolean(c.timelineSupport),this.liveTimeline=new n.EventTimeline(this),this.displayPendingEvents=c.pendingEvents!==!1,this.timelines=[this.liveTimeline],this._eventIdToTimeline=new Map,this.filter=c.filter,this.relations=(m=(p=this.room)===null||p===void 0?void 0:p.relations)!==null&&m!==void 0?m:new a.RelationsContainer((f=g==null?void 0:g.client)!==null&&f!==void 0?f:h)}getTimelines(){return this.timelines}getFilter(){return this.filter}setFilter(g){this.filter=g}getPendingEvents(){return!this.room||!this.displayPendingEvents?[]:this.room.getPendingEvents()}getLiveTimeline(){return this.liveTimeline}setLiveTimeline(g){this.liveTimeline=g}eventIdToTimeline(g){return this._eventIdToTimeline.get(g)}replaceEventId(g,c){const h=this._eventIdToTimeline.get(g);h&&(this._eventIdToTimeline.delete(g),this._eventIdToTimeline.set(c,h))}resetLiveTimeline(g,c){const h=!this.timelineSupport||!c,_=this.liveTimeline,F=h?_.forkLive(n.EventTimeline.FORWARDS):_.fork(n.EventTimeline.FORWARDS);h?(this.timelines=[F],this._eventIdToTimeline=new Map):this.timelines.push(F),c&&_.setPaginationToken(c,n.EventTimeline.FORWARDS),F.setPaginationToken(g??null,n.EventTimeline.BACKWARDS),this.liveTimeline=F,this.emit(o.RoomEvent.TimelineReset,this.room,this,h)}getTimelineForEvent(g){if(g==null)return null;const c=this._eventIdToTimeline.get(g);return c===void 0?null:c}findEventById(g){const c=this.getTimelineForEvent(g);if(c)return c.getEvents().find(function(h){return h.getId()==g})}addTimeline(){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");const g=new n.EventTimeline(this);return this.timelines.push(g),g}addEventsToTimeline(g,c,h,_){if(!h)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!c&&h==this.liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(this.filter&&(g=this.filter.filterRoomTimeline(g),!g.length))return;const F=c?n.EventTimeline.BACKWARDS:n.EventTimeline.FORWARDS,m=c?n.EventTimeline.FORWARDS:n.EventTimeline.BACKWARDS;let p=!1,f=!1;for(const v of g){const y=v.getId(),w=this._eventIdToTimeline.get(y);if(!w){this.addEventToTimeline(v,h,{toStartOfTimeline:c}),f=!0,p=!0;continue}if(f=!1,w==h){l("Event "+y+" already in timeline "+h);continue}const b=h.getNeighbouringTimeline(F);if(b){w==b?l("Event "+y+" in neighbouring timeline - switching to "+w):l("Event "+y+" already in a different timeline "+w),h=w;continue}r.logger.info("Already have timeline for "+y+" - joining timeline "+h+" to "+w);const S=w===this.liveTimeline,x=h===this.liveTimeline,N=F===n.EventTimeline.BACKWARDS&&S,U=F===n.EventTimeline.FORWARDS&&x;if(N||U){N&&r.logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+w+")"),U&&r.logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+h+")");continue}h.setNeighbouringTimeline(w,F),w.setNeighbouringTimeline(h,m),h=w,p=!0}if(f||!p){if(F===n.EventTimeline.FORWARDS&&h===this.liveTimeline){r.logger.warn({lastEventWasNew:f,didUpdate:p}),r.logger.warn(`Refusing to set forwards pagination token of live timeline ${h} to ${_}`);return}h.setPaginationToken(_??null,F)}}addLiveEvent(g,c,h=!1,_){let F=c||u.Ignore,m;if(typeof c=="object"?{duplicateStrategy:F=u.Ignore,fromCache:h=!1,roomState:_,timelineWasEmpty:m}=c:c!==void 0&&r.logger.warn("Overload deprecated: `EventTimelineSet.addLiveEvent(event, duplicateStrategy?, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addLiveEvent(event, IAddLiveEventOptions)`"),this.filter&&!this.filter.filterRoomTimeline([g]).length)return;const p=this._eventIdToTimeline.get(g.getId());if(p){if(F===u.Replace){l("EventTimelineSet.addLiveEvent: replacing duplicate event "+g.getId());const f=p.getEvents();for(let v=0;v<f.length;v++)if(f[v].getId()===g.getId()){_||(_=p.getState(n.EventTimeline.FORWARDS)),n.EventTimeline.setEventMetadata(g,_,!1),f[v]=g;break}}else l("EventTimelineSet.addLiveEvent: ignoring duplicate event "+g.getId());return}this.addEventToTimeline(g,this.liveTimeline,{toStartOfTimeline:!1,fromCache:h,roomState:_,timelineWasEmpty:m})}addEventToTimeline(g,c,h,_=!1,F){let m=!!h,p;if(typeof h=="object"?{toStartOfTimeline:m,fromCache:_=!1,roomState:F,timelineWasEmpty:p}=h:h!==void 0&&r.logger.warn("Overload deprecated: `EventTimelineSet.addEventToTimeline(event, timeline, toStartOfTimeline, fromCache?, roomState?)` is deprecated in favor of the overload with `EventTimelineSet.addEventToTimeline(event, timeline, IAddEventToTimelineOptions)`"),c.getTimelineSet()!==this){var f;throw new Error(`EventTimelineSet.addEventToTimeline: Timeline=${c.toString()} does not belong " +
                "in timelineSet(threadId=${(f=this.thread)===null||f===void 0?void 0:f.id})`)}if(this.room&&!this.canContain(g)){var v;let b=`event=${g.getId()}`;g.threadRootId&&(b+=`(belongs to thread=${g.threadRootId})`),r.logger.warn(`EventTimelineSet.addEventToTimeline: Ignoring ${b} that does not belong in timeline=${c.toString()} timelineSet(threadId=${(v=this.thread)===null||v===void 0?void 0:v.id})`);return}const y=g.getId();c.addEvent(g,{toStartOfTimeline:m,roomState:F,timelineWasEmpty:p}),this._eventIdToTimeline.set(y,c),this.relations.aggregateParentEvent(g),this.relations.aggregateChildEvent(g,this);const w={timeline:c,liveEvent:!m&&c==this.liveTimeline&&!_};this.emit(o.RoomEvent.Timeline,g,this.room,Boolean(m),!1,w)}handleRemoteEcho(g,c,h){const _=this._eventIdToTimeline.get(c);_?(this._eventIdToTimeline.delete(c),this._eventIdToTimeline.set(h,_)):(!this.filter||this.filter.filterRoomTimeline([g]).length)&&this.addEventToTimeline(g,this.liveTimeline,{toStartOfTimeline:!1})}removeEvent(g){const c=this._eventIdToTimeline.get(g);if(!c)return null;const h=c.removeEvent(g);if(h){this._eventIdToTimeline.delete(g);const _={timeline:c};this.emit(o.RoomEvent.Timeline,h,this.room,void 0,!0,_)}return h}compareEventOrdering(g,c){if(g==c)return 0;const h=this._eventIdToTimeline.get(g),_=this._eventIdToTimeline.get(c);if(h===void 0||_===void 0)return null;if(h===_){let m,p;const f=h.getEvents();for(let v=0;v<f.length&&(m===void 0||p===void 0);v++){const y=f[v].getId();y==g&&(m=v),y==c&&(p=v)}return m-p}let F=h;for(;F;){if(F===_)return-1;F=F.getNeighbouringTimeline(n.EventTimeline.FORWARDS)}for(F=h;F;){if(F===_)return 1;F=F.getNeighbouringTimeline(n.EventTimeline.BACKWARDS)}return null}canContain(g){if(!this.room)throw new Error("Cannot call `EventTimelineSet::canContain without a `room` set. Set the room when creating the EventTimelineSet to call this method.");const{threadId:c,shouldLiveInRoom:h}=this.room.eventShouldLiveIn(g);return this.thread?this.thread.id===c:h}}return ta.EventTimelineSet=d,ta}var KS;function Mm(){if(KS)return Qt;KS=1;var t=ze.exports;Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.ThreadFilterType=Qt.ThreadEvent=Qt.Thread=Qt.THREAD_RELATION_TYPE=Qt.FeatureSupport=Qt.FILTER_RELATED_BY_SENDERS=Qt.FILTER_RELATED_BY_REL_TYPES=void 0,Qt.determineFeatureSupport=_,Qt.threadFilterTypeToFilter=y;var e=t(Je()),n=El(),r=et,o=Kn(),i=Oo(),a=X3(),l=Ji(),u=qn,d=lt(),s=TA(),g=xc();let c;Qt.ThreadEvent=c,function(w){w.New="Thread.new",w.Update="Thread.update",w.NewReply="Thread.newReply",w.ViewThread="Thread.viewThread",w.Delete="Thread.delete"}(c||(Qt.ThreadEvent=c={}));let h;Qt.FeatureSupport=h,function(w){w[w.None=0]="None",w[w.Experimental=1]="Experimental",w[w.Stable=2]="Stable"}(h||(Qt.FeatureSupport=h={}));function _(w,b){return w?h.Stable:b?h.Experimental:h.None}class F extends s.ReadReceipt{constructor(b,S,x){if(super(),this.id=b,this.rootEvent=S,(0,e.default)(this,"timelineSet",void 0),(0,e.default)(this,"timeline",[]),(0,e.default)(this,"_currentUserParticipated",!1),(0,e.default)(this,"reEmitter",void 0),(0,e.default)(this,"lastEvent",void 0),(0,e.default)(this,"replyCount",0),(0,e.default)(this,"room",void 0),(0,e.default)(this,"client",void 0),(0,e.default)(this,"initialEventsFetched",!F.hasServerSideSupport),(0,e.default)(this,"onBeforeRedaction",(N,U)=>{N!=null&&N.isRelation(f.name)&&this.room.eventShouldLiveIn(N).threadId===this.id&&N.getId()!==this.id&&!U.status&&(this.replyCount--,this.emit(c.Update,this))}),(0,e.default)(this,"onRedaction",async N=>{if(N.threadRootId===this.id)if(this.replyCount<=0){for(const U of this.timeline)this.clearEventMetadata(U);this.lastEvent=this.rootEvent,this._currentUserParticipated=!1,this.emit(c.Delete,this)}else await this.initialiseThread()}),(0,e.default)(this,"onTimelineEvent",(N,U,q)=>{q||U.addLocalEchoReceipt(N.getSender(),N,g.ReceiptType.Read),this.onEcho(N)}),(0,e.default)(this,"onEcho",async N=>{N.threadRootId===this.id&&this.lastEvent!==N&&N.isRelation(f.name)&&(await this.initialiseThread(),this.emit(c.NewReply,this,N))}),!(x!=null&&x.room))throw new Error("element-web#22141: A thread requires a room in order to function");this.room=x.room,this.client=x.client,this.timelineSet=new a.EventTimelineSet(this.room,{timelineSupport:!0,pendingEvents:!0},this.client,this),this.reEmitter=new n.TypedReEmitter(this),this.reEmitter.reEmit(this.timelineSet,[l.RoomEvent.Timeline,l.RoomEvent.TimelineReset]),this.room.on(o.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.room.on(l.RoomEvent.Redaction,this.onRedaction),this.room.on(l.RoomEvent.LocalEchoUpdated,this.onEcho),this.timelineSet.on(l.RoomEvent.Timeline,this.onTimelineEvent),this.initialiseThread(),this.setEventMetadata(this.rootEvent)}async fetchRootEvent(){this.rootEvent=this.room.findEventById(this.id);try{const b=await this.client.fetchRoomEvent(this.roomId,this.id),S=this.client.getEventMapper();this.rootEvent=S(b)}catch(b){d.logger.error("Failed to fetch thread root to construct thread with",b)}await this.processEvent(this.rootEvent)}static setServerSideSupport(b){F.hasServerSideSupport=b,b!==h.Stable&&(m.setPreferUnstable(!0),p.setPreferUnstable(!0),f.setPreferUnstable(!0))}static setServerSideListSupport(b){F.hasServerSideListSupport=b}static setServerSideFwdPaginationSupport(b){F.hasServerSideFwdPaginationSupport=b}get roomState(){return this.room.getLiveTimeline().getState(i.EventTimeline.FORWARDS)}addEventToTimeline(b,S){this.findEventById(b.getId())||(this.timelineSet.addEventToTimeline(b,this.liveTimeline,{toStartOfTimeline:S,fromCache:!1,roomState:this.roomState}),this.timeline=this.events)}addEvents(b,S){b.forEach(x=>this.addEvent(x,S,!1)),this.initialiseThread()}async addEvent(b,S,x=!0){this.setEventMetadata(b);const N=this.lastReply(),U=!N||b.localTimestamp>N.localTimestamp;if(!F.hasServerSideSupport)this.addEventToTimeline(b,S),this.client.decryptEventIfNeeded(b,{});else if(!S&&this.initialEventsFetched&&U)await this.fetchEditsWhereNeeded(b),this.addEventToTimeline(b,!1);else if(b.isRelation(r.RelationType.Annotation)||b.isRelation(r.RelationType.Replace)){var q,P;(q=this.timelineSet.relations)===null||q===void 0||q.aggregateParentEvent(b),(P=this.timelineSet.relations)===null||P===void 0||P.aggregateChildEvent(b,this.timelineSet);return}(!F.hasServerSideSupport||!this.rootEvent)&&b.isRelation(f.name)&&this.replyCount++,x&&(this.emit(c.NewReply,this,b),this.initialiseThread())}async processEvent(b){b&&(this.setEventMetadata(b),await this.fetchEditsWhereNeeded(b)),this.timeline=this.events}getRootEventBundledRelationship(b=this.rootEvent){return b==null?void 0:b.getServerAggregatedRelation(f.name)}async initialiseThread(){let b=this.getRootEventBundledRelationship();if(F.hasServerSideSupport&&(await this.fetchRootEvent(),b=this.getRootEventBundledRelationship()),F.hasServerSideSupport&&b){this.replyCount=b.count,this._currentUserParticipated=!!b.current_user_participated;const S=this.client.getEventMapper();this.lastEvent=S(b.latest_event),await this.processEvent(this.lastEvent)}if(!this.initialEventsFetched){this.initialEventsFetched=!0;try{await this.client.paginateEventTimeline(this.liveTimeline,{backwards:!0,limit:1}),this.emit(l.RoomEvent.TimelineReset,this.room,this.timelineSet,!0)}catch(S){d.logger.error("Failed to load start of newly created thread: ",S),this.initialEventsFetched=!1}}this.emit(c.Update,this)}async fetchEditsWhereNeeded(...b){return Promise.all(b.filter(S=>S.isEncrypted()).map(S=>{if(!S.isRelation())return this.client.relations(this.roomId,S.getId(),r.RelationType.Replace,S.getType(),{limit:1}).then(x=>{x.events.length&&S.makeReplaced(x.events[0])}).catch(x=>{d.logger.error("Failed to load edits for encrypted thread event",x)})}))}setEventMetadata(b){b&&(i.EventTimeline.setEventMetadata(b,this.roomState,!1),b.setThread(this))}clearEventMetadata(b){if(b){var S,x,N;b.setThread(void 0),(S=b.event)===null||S===void 0||(x=S.unsigned)===null||x===void 0||(N=x["m.relations"])===null||N===void 0||delete N[f.name]}}findEventById(b){var S;return((S=this.lastEvent)===null||S===void 0?void 0:S.getId())===b?this.lastEvent:this.timelineSet.findEventById(b)}lastReply(b=()=>!0){for(let S=this.timeline.length-1;S>=0;S--){const x=this.timeline[S];if(b(x))return x}return null}get roomId(){return this.room.roomId}get length(){return this.replyCount}get replyToEvent(){var b;return(b=this.lastEvent)!==null&&b!==void 0?b:this.lastReply()}get events(){return this.liveTimeline.getEvents()}has(b){return this.timelineSet.findEventById(b)instanceof o.MatrixEvent}get hasCurrentUserParticipated(){return this._currentUserParticipated}get liveTimeline(){return this.timelineSet.getLiveTimeline()}getUnfilteredTimelineSet(){return this.timelineSet}addReceipt(b,S){throw new Error("Unsupported function on the thread model")}hasUserReadEvent(b,S){if(b===this.client.getUserId()){const x=this.getReadReceiptForUserId(b,!1,g.ReceiptType.Read),N=this.getReadReceiptForUserId(b,!1,g.ReceiptType.ReadPrivate),U=this.room.getThreadUnreadNotificationCount(this.id,l.NotificationCountType.Total)>0;if(!x&&!N&&!U)return!0}return super.hasUserReadEvent(b,S)}}Qt.Thread=F,(0,e.default)(F,"hasServerSideSupport",h.None),(0,e.default)(F,"hasServerSideListSupport",h.None),(0,e.default)(F,"hasServerSideFwdPaginationSupport",h.None);const m=new u.ServerControlledNamespacedValue("related_by_senders","io.element.relation_senders");Qt.FILTER_RELATED_BY_SENDERS=m;const p=new u.ServerControlledNamespacedValue("related_by_rel_types","io.element.relation_types");Qt.FILTER_RELATED_BY_REL_TYPES=p;const f=new u.ServerControlledNamespacedValue("m.thread","io.element.thread");Qt.THREAD_RELATION_TYPE=f;let v;Qt.ThreadFilterType=v,function(w){w[w.My=0]="My",w[w.All=1]="All"}(v||(Qt.ThreadFilterType=v={}));function y(w){switch(w){case v.My:return"participated";default:return"all"}}return Qt}var HS;function Kn(){return HS||(HS=1,function(t){var e=ze.exports;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EventStatus",{enumerable:!0,get:function(){return s.EventStatus}}),t.MatrixEventEvent=t.MatrixEvent=void 0;var n=e(Je()),r=xm(),o=lt(),i=et,a=tt,l=Mm(),u=El(),d=un(),s=ZR();const g=Object.freeze({visible:!0});let c;t.MatrixEventEvent=c,function(m){m.Decrypted="Event.decrypted",m.BeforeRedaction="Event.beforeRedaction",m.VisibilityChange="Event.visibilityChange",m.LocalEventIdReplaced="Event.localEventIdReplaced",m.Status="Event.status",m.Replaced="Event.replaced",m.RelationsCreated="Event.relationsCreated"}(c||(t.MatrixEventEvent=c={}));class h extends d.TypedEventEmitter{constructor(p={}){var f;super(),this.event=p,(0,n.default)(this,"pushActions",null),(0,n.default)(this,"_replacingEvent",null),(0,n.default)(this,"_localRedactionEvent",null),(0,n.default)(this,"_isCancelled",!1),(0,n.default)(this,"clearEvent",void 0),(0,n.default)(this,"visibility",g),(0,n.default)(this,"_hasCachedExtEv",!1),(0,n.default)(this,"_cachedExtEv",void 0),(0,n.default)(this,"senderCurve25519Key",null),(0,n.default)(this,"claimedEd25519Key",null),(0,n.default)(this,"forwardingCurve25519KeyChain",[]),(0,n.default)(this,"untrusted",null),(0,n.default)(this,"decryptionPromise",null),(0,n.default)(this,"retryDecryption",!1),(0,n.default)(this,"txnId",void 0),(0,n.default)(this,"thread",void 0),(0,n.default)(this,"threadId",void 0),(0,n.default)(this,"localTimestamp",void 0),(0,n.default)(this,"sender",null),(0,n.default)(this,"target",null),(0,n.default)(this,"status",null),(0,n.default)(this,"error",null),(0,n.default)(this,"forwardLooking",!0),(0,n.default)(this,"verificationRequest",void 0),(0,n.default)(this,"reEmitter",void 0),["state_key","type","sender","room_id","membership"].forEach(v=>{typeof p[v]=="string"&&(p[v]=(0,a.internaliseString)(p[v]))}),["membership","avatar_url","displayname"].forEach(v=>{var y;typeof((y=p.content)===null||y===void 0?void 0:y[v])=="string"&&(p.content[v]=(0,a.internaliseString)(p.content[v]))}),["rel_type"].forEach(v=>{var y,w;typeof((y=p.content)===null||y===void 0||(w=y["m.relates_to"])===null||w===void 0?void 0:w[v])=="string"&&(p.content["m.relates_to"][v]=(0,a.internaliseString)(p.content["m.relates_to"][v]))}),this.txnId=p.txn_id,this.localTimestamp=Date.now()-((f=this.getAge())!==null&&f!==void 0?f:0),this.reEmitter=new u.TypedReEmitter(this)}get unstableExtensibleEvent(){return this._hasCachedExtEv||(this._cachedExtEv=r.ExtensibleEvents.parse(this.getEffectiveEvent())),this._cachedExtEv}invalidateExtensibleEvent(){this._hasCachedExtEv=!1}getEffectiveEvent(){const p=Object.assign({},this.getContent());if(this.getWireType()===i.EventType.RoomMessageEncrypted)for(const[f,v]of Object.entries(this.getWireContent()))["algorithm","ciphertext","device_id","sender_key","session_id"].includes(f)||p[f]===void 0&&(p[f]=v);return Object.assign({},this.event,this.clearEvent,{content:p})}getId(){return this.event.event_id}getSender(){return this.event.sender||this.event.user_id}getType(){return this.clearEvent?this.clearEvent.type:this.event.type}getWireType(){return this.event.type}getRoomId(){return this.event.room_id}getTs(){return this.event.origin_server_ts}getDate(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null}getDetails(){let p=`id=${this.getId()} type=${this.getWireType()} sender=${this.getSender()}`;const f=this.getRoomId();f&&(p+=` room=${f}`);const v=this.getDate();return v&&(p+=` ts=${v.toISOString()}`),p}getOriginalContent(){return this._localRedactionEvent?{}:this.clearEvent?this.clearEvent.content||{}:this.event.content||{}}getContent(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()}getWireContent(){return this.event.content||{}}get threadRootId(){var p;const f=(p=this.getWireContent())===null||p===void 0?void 0:p["m.relates_to"];if((f==null?void 0:f.rel_type)===l.THREAD_RELATION_TYPE.name)return f.event_id;var v;return((v=this.getThread())===null||v===void 0?void 0:v.id)||this.threadId}get isThreadRoot(){var p;return!!this.getServerAggregatedRelation(l.THREAD_RELATION_TYPE.name)||((p=this.getThread())===null||p===void 0?void 0:p.id)===this.getId()}get replyEventId(){var p;const f=this.getContent()["m.relates_to"]||this.getWireContent()["m.relates_to"];return f==null||(p=f["m.in_reply_to"])===null||p===void 0?void 0:p.event_id}get relationEventId(){var p,f;return(p=this.getWireContent())===null||p===void 0||(f=p["m.relates_to"])===null||f===void 0?void 0:f.event_id}getPrevContent(){return this.getUnsigned().prev_content||this.event.prev_content||{}}getDirectionalContent(){return this.forwardLooking?this.getContent():this.getPrevContent()}getAge(){return this.getUnsigned().age||this.event.age}getLocalAge(){return Date.now()-this.localTimestamp}getStateKey(){return this.event.state_key}isState(){return this.event.state_key!==void 0}makeEncrypted(p,f,v,y){this.clearEvent={type:this.event.type,content:this.event.content},this.event.type=p,this.event.content=f,this.senderCurve25519Key=v,this.claimedEd25519Key=y}isBeingDecrypted(){return this.decryptionPromise!=null}getDecryptionPromise(){return this.decryptionPromise}isDecryptionFailure(){var p,f;return((p=this.clearEvent)===null||p===void 0||(f=p.content)===null||f===void 0?void 0:f.msgtype)==="m.bad.encrypted"}shouldAttemptDecryption(){return!(this.isRedacted()||this.isBeingDecrypted()||this.clearEvent||!this.isEncrypted())}async attemptDecryption(p,f={}){if(!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");const v=this.clearEvent&&!this.isDecryptionFailure(),y=f.forceRedecryptIfUntrusted&&this.isKeySourceUntrusted();if(v&&!y)throw new Error("Attempt to decrypt event which has already been decrypted");return this.decryptionPromise?(o.logger.log(`Event ${this.getId()} already being decrypted; queueing a retry`),this.retryDecryption=!0,this.decryptionPromise):(this.decryptionPromise=this.decryptionLoop(p,f),this.decryptionPromise)}cancelAndResendKeyRequest(p,f){const v=this.getWireContent();return p.requestRoomKey({algorithm:v.algorithm,room_id:this.getRoomId(),session_id:v.session_id,sender_key:v.sender_key},this.getKeyRequestRecipients(f),!0)}getKeyRequestRecipients(p){const f=this.getWireContent(),v=[{userId:p,deviceId:"*"}],y=this.getSender();return y!==p&&v.push({userId:y,deviceId:f.device_id}),v}async decryptionLoop(p,f={}){for(await Promise.resolve();;){this.retryDecryption=!1;let v,y;try{p?(v=await p.decryptEvent(this),f.isRetry===!0&&o.logger.info(`Decrypted event on retry (${this.getDetails()})`)):v=this.badEncryptedMessage("Encryption not enabled")}catch(w){if(w.name!=="DecryptionError"){const b=f.isRetry?"re":"";o.logger.error(`Error ${b}decrypting event (${this.getDetails()})`,w),this.decryptionPromise=null,this.retryDecryption=!1;return}if(y=w,this.retryDecryption){o.logger.log(`Error decrypting event (${this.getDetails()}), but retrying: `+w.detailedString);continue}o.logger.warn(`Error decrypting event (${this.getDetails()}): `+w.detailedString),v=this.badEncryptedMessage(w.message)}this.decryptionPromise=null,this.retryDecryption=!1,this.setClearData(v),this.setPushActions(null),f.emit!==!1&&this.emit(c.Decrypted,this,y);return}}badEncryptedMessage(p){return{clearEvent:{type:i.EventType.RoomMessage,content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+p+" **"}}}}setClearData(p){var f,v;this.clearEvent=p.clearEvent,this.senderCurve25519Key=(f=p.senderCurve25519Key)!==null&&f!==void 0?f:null,this.claimedEd25519Key=(v=p.claimedEd25519Key)!==null&&v!==void 0?v:null,this.forwardingCurve25519KeyChain=p.forwardingCurve25519KeyChain||[],this.untrusted=p.untrusted||!1,this.invalidateExtensibleEvent()}getClearContent(){return this.clearEvent?this.clearEvent.content:null}isEncrypted(){return!this.isState()&&this.event.type===i.EventType.RoomMessageEncrypted}getSenderKey(){return this.senderCurve25519Key}getKeysClaimed(){return this.claimedEd25519Key?{ed25519:this.claimedEd25519Key}:{}}getClaimedEd25519Key(){return this.claimedEd25519Key}getForwardingCurve25519KeyChain(){return this.forwardingCurve25519KeyChain}isKeySourceUntrusted(){return!!this.untrusted}getUnsigned(){return this.event.unsigned||{}}setUnsigned(p){this.event.unsigned=p}unmarkLocallyRedacted(){const p=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=void 0),!!p}markLocallyRedacted(p){this._localRedactionEvent||(this.emit(c.BeforeRedaction,this,p),this._localRedactionEvent=p,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=p.event)}applyVisibilityEvent(p){var f,v;const y=(f=p==null?void 0:p.visible)!==null&&f!==void 0?f:!0,w=(v=p==null?void 0:p.reason)!==null&&v!==void 0?v:null;let b=!1;(this.visibility.visible!==y||!this.visibility.visible&&this.visibility.reason!==w)&&(b=!0),b&&(y?this.visibility=g:this.visibility=Object.freeze({visible:!1,reason:w}),this.emit(c.VisibilityChange,this,y))}messageVisibility(){return this.visibility}makeRedacted(p){if(!p.event)throw new Error("invalid redactionEvent in makeRedacted");this._localRedactionEvent=null,this.emit(c.BeforeRedaction,this,p),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=p.event;for(const y in this.event)this.event.hasOwnProperty(y)&&!_.has(y)&&delete this.event[y];this.isEncrypted()&&(this.clearEvent=void 0);const f=F[this.getType()]||{},v=this.getContent();for(const y in v)v.hasOwnProperty(y)&&!f[y]&&delete v[y];this.invalidateExtensibleEvent()}isRedacted(){return Boolean(this.getUnsigned().redacted_because)}isRedaction(){return this.getType()===i.EventType.RoomRedaction}asVisibilityChange(){if(!i.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType()))return null;const p=this.getRelation();if(!p||p.rel_type!="m.reference")return null;const f=p.event_id;if(!f)return null;const v=this.getWireContent(),y=!!v.visible,w=v.reason;return w&&typeof w!="string"?null:{visible:y,reason:w,eventId:f}}isVisibilityEvent(){return i.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType())}getRedactionEvent(){var p,f;if(!this.isRedacted())return null;if((p=this.clearEvent)!==null&&p!==void 0&&p.unsigned){var v,y;return(v=(y=this.clearEvent)===null||y===void 0?void 0:y.unsigned.redacted_because)!==null&&v!==void 0?v:null}else return(f=this.event.unsigned)!==null&&f!==void 0&&f.redacted_because?this.event.unsigned.redacted_because:{}}getPushActions(){return this.pushActions}setPushActions(p){this.pushActions=p}handleRemoteEcho(p){const f=this.getUnsigned(),v=this.getId();this.event=p,f.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=f.redacted_because),this.setStatus(null),this.getId()!==v&&this.emit(c.LocalEventIdReplaced,this),this.localTimestamp=Date.now()-this.getAge()}isSending(){return!!this.status}setStatus(p){this.status=p,this.emit(c.Status,this,p)}replaceLocalEventId(p){this.event.event_id=p,this.emit(c.LocalEventIdReplaced,this)}isRelation(p){var f;const v=(f=this.getWireContent())===null||f===void 0?void 0:f["m.relates_to"];return this.isState()&&(v==null?void 0:v.rel_type)===i.RelationType.Replace?!1:!!(v!=null&&v.rel_type&&v.event_id&&(!p||v.rel_type===p))}getRelation(){var p;return this.isRelation()&&(p=this.getWireContent()["m.relates_to"])!==null&&p!==void 0?p:null}makeReplaced(p){this.isRedacted()&&p||this.isState()||this._replacingEvent!==p&&(this._replacingEvent=p??null,this.emit(c.Replaced,this),this.invalidateExtensibleEvent())}getAssociatedStatus(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status}getServerAggregatedRelation(p){var f;return(f=this.getUnsigned()["m.relations"])===null||f===void 0?void 0:f[p]}replacingEventId(){const p=this.getServerAggregatedRelation(i.RelationType.Replace);if(p)return p.event_id;if(this._replacingEvent)return this._replacingEvent.getId()}replacingEvent(){return this._replacingEvent}replacingEventDate(){const p=this.getServerAggregatedRelation(i.RelationType.Replace);if(p){const v=p.origin_server_ts;if(Number.isFinite(v))return new Date(v)}else if(this._replacingEvent){var f;return(f=this._replacingEvent.getDate())!==null&&f!==void 0?f:void 0}}localRedactionEvent(){return this._localRedactionEvent}getAssociatedId(){const p=this.getRelation();if(this.replyEventId)return this.replyEventId;if(p)return p.event_id;if(this.isRedaction())return this.event.redacts}hasAssocation(){return!!this.getAssociatedId()}hasAssociation(){return!!this.getAssociatedId()}updateAssociatedId(p){const f=this.getRelation();f?f.event_id=p:this.isRedaction()&&(this.event.redacts=p)}flagCancelled(p=!0){this._isCancelled=p}isCancelled(){return this._isCancelled}toSnapshot(){const p=new h(JSON.parse(JSON.stringify(this.event)));for(const[f,v]of Object.entries(this))f!=="event"&&(p[f]=v);return p}isEquivalentTo(p){if(!p)return!1;if(p===this)return!0;const f=(0,a.deepSortedObjectEntries)(this.event),v=(0,a.deepSortedObjectEntries)(p.event);return JSON.stringify(f)===JSON.stringify(v)}toJSON(){const p=this.getEffectiveEvent();return this.isEncrypted()?{decrypted:p,encrypted:this.event}:p}setVerificationRequest(p){this.verificationRequest=p}setTxnId(p){this.txnId=p}getTxnId(){return this.txnId}setThread(p){this.thread&&this.reEmitter.stopReEmitting(this.thread,[l.ThreadEvent.Update]),this.thread=p,this.setThreadId(p==null?void 0:p.id),p&&this.reEmitter.reEmit(p,[l.ThreadEvent.Update])}getThread(){return this.thread}setThreadId(p){this.threadId=p}}t.MatrixEvent=h;const _=new Set(["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"]),F={[i.EventType.RoomMember]:{membership:1},[i.EventType.RoomCreate]:{creator:1},[i.EventType.RoomJoinRules]:{join_rule:1},[i.EventType.RoomPowerLevels]:{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1}}}(y_)),y_}var zS;function Za(){if(zS)return Zi;zS=1;var t=ze.exports;Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.RoomStateEvent=Zi.RoomState=void 0;var e=t(Je()),n=lo,r=lt(),o=h(tt),i=et,a=Kn(),l=Yt,u=un(),d=yr,s=El(),g=SA();function c(v){if(typeof WeakMap!="function")return null;var y=new WeakMap,w=new WeakMap;return(c=function(b){return b?w:y})(v)}function h(v,y){if(!y&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var w=c(y);if(w&&w.has(v))return w.get(v);var b={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in v)if(x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)){var N=S?Object.getOwnPropertyDescriptor(v,x):null;N&&(N.get||N.set)?Object.defineProperty(b,x,N):b[x]=v[x]}return b.default=v,w&&w.set(v,b),b}function _(v,y){var w=Object.keys(v);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(v);y&&(b=b.filter(function(S){return Object.getOwnPropertyDescriptor(v,S).enumerable})),w.push.apply(w,b)}return w}function F(v){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?_(Object(w),!0).forEach(function(b){(0,e.default)(v,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):_(Object(w)).forEach(function(b){Object.defineProperty(v,b,Object.getOwnPropertyDescriptor(w,b))})}return v}var m;(function(v){v[v.NotStarted=0]="NotStarted",v[v.InProgress=1]="InProgress",v[v.Finished=2]="Finished"})(m||(m={}));let p;Zi.RoomStateEvent=p,function(v){v.Events="RoomState.events",v.Members="RoomState.members",v.NewMember="RoomState.newMember",v.Update="RoomState.update",v.BeaconLiveness="RoomState.BeaconLiveness",v.Marker="RoomState.Marker"}(p||(Zi.RoomStateEvent=p={}));class f extends u.TypedEventEmitter{constructor(y,w={status:m.NotStarted}){super(),this.roomId=y,this.oobMemberFlags=w,(0,e.default)(this,"reEmitter",new s.TypedReEmitter(this)),(0,e.default)(this,"sentinels",{}),(0,e.default)(this,"displayNameToUserIds",new Map),(0,e.default)(this,"userIdsToDisplayNames",{}),(0,e.default)(this,"tokenToInvite",{}),(0,e.default)(this,"joinedMemberCount",null),(0,e.default)(this,"summaryJoinedMemberCount",null),(0,e.default)(this,"invitedMemberCount",null),(0,e.default)(this,"summaryInvitedMemberCount",null),(0,e.default)(this,"modified",-1),(0,e.default)(this,"members",{}),(0,e.default)(this,"events",new Map),(0,e.default)(this,"paginationToken",null),(0,e.default)(this,"beacons",new Map),(0,e.default)(this,"_liveBeaconIds",[]),this.updateModifiedTime()}getJoinedMemberCount(){return this.summaryJoinedMemberCount!==null?this.summaryJoinedMemberCount:(this.joinedMemberCount===null&&(this.joinedMemberCount=this.getMembers().reduce((y,w)=>w.membership==="join"?y+1:y,0)),this.joinedMemberCount)}setJoinedMemberCount(y){this.summaryJoinedMemberCount=y}getInvitedMemberCount(){return this.summaryInvitedMemberCount!==null?this.summaryInvitedMemberCount:(this.invitedMemberCount===null&&(this.invitedMemberCount=this.getMembers().reduce((y,w)=>w.membership==="invite"?y+1:y,0)),this.invitedMemberCount)}setInvitedMemberCount(y){this.summaryInvitedMemberCount=y}getMembers(){return Object.values(this.members)}getMembersExcept(y){return this.getMembers().filter(w=>!y.includes(w.userId))}getMember(y){return this.members[y]||null}getSentinelMember(y){if(!y)return null;let w=this.sentinels[y];if(w===void 0){w=new n.RoomMember(this.roomId,y);const b=this.members[y];b!=null&&b.events.member&&w.setMembershipEvent(b.events.member,this),this.sentinels[y]=w}return w}getStateEvents(y,w){if(!this.events.has(y))return w===void 0?[]:null;if(w===void 0)return Array.from(this.events.get(y).values());const b=this.events.get(y).get(w);return b||null}get hasLiveBeacons(){var y;return!!((y=this.liveBeaconIds)!==null&&y!==void 0&&y.length)}get liveBeaconIds(){return this._liveBeaconIds}clone(){const y=new f(this.roomId,this.oobMemberFlags),w=this.oobMemberFlags.status;return this.oobMemberFlags.status=m.NotStarted,Array.from(this.events.values()).forEach(b=>{y.setStateEvents(Array.from(b.values()))}),this.oobMemberFlags.status=w,this.summaryInvitedMemberCount!==null&&y.setInvitedMemberCount(this.getInvitedMemberCount()),this.summaryJoinedMemberCount!==null&&y.setJoinedMemberCount(this.getJoinedMemberCount()),this.oobMemberFlags.status==m.Finished&&this.getMembers().forEach(b=>{if(b.isOutOfBand()){var S;(S=y.getMember(b.userId))===null||S===void 0||S.markOutOfBand()}}),y}setUnknownStateEvents(y){const w=y.filter(b=>!this.events.has(b.getType())||!this.events.get(b.getType()).has(b.getStateKey()));this.setStateEvents(w)}setStateEvents(y,w){this.updateModifiedTime(),y.forEach(b=>{if(b.getRoomId()!==this.roomId||!b.isState())return;g.M_BEACON_INFO.matches(b.getType())&&this.setBeacon(b);const S=this.getStateEventMatching(b);if(this.setStateEvent(b),b.getType()===i.EventType.RoomMember){var x;this.updateDisplayNameCache(b.getStateKey(),(x=b.getContent().displayname)!==null&&x!==void 0?x:""),this.updateThirdPartyTokenCache(b)}this.emit(p.Events,b,this,S)}),this.onBeaconLivenessChange(),y.forEach(b=>{if(!(b.getRoomId()!==this.roomId||!b.isState()))if(b.getType()===i.EventType.RoomMember){const S=b.getStateKey();(b.getContent().membership==="leave"||b.getContent().membership==="ban")&&(b.getContent().avatar_url=b.getContent().avatar_url||b.getPrevContent().avatar_url,b.getContent().displayname=b.getContent().displayname||b.getPrevContent().displayname);const x=this.getOrCreateMember(S,b);x.setMembershipEvent(b,this),this.updateMember(x),this.emit(p.Members,b,this,x)}else if(b.getType()===i.EventType.RoomPowerLevels){if(b.getStateKey()!=="")return;Object.values(this.members).forEach(x=>{const N=x.getLastModifiedTime();x.setPowerLevelEvent(b),N!==x.getLastModifiedTime()&&this.emit(p.Members,b,this,x)}),this.sentinels={}}else i.UNSTABLE_MSC2716_MARKER.matches(b.getType())&&this.emit(p.Marker,b,w)}),this.emit(p.Update,this)}processBeaconEvents(y,w){if(!y.length||!this.beacons.size)return;const b=[...this.beacons.values()].reduce((x,N)=>F(F({},x),{},{[N.beaconInfoId]:N}),{}),S=(x,N)=>{if(!g.M_BEACON.matches(N.getType()))return;const U=b[x];U&&U.addLocations([N])};y.forEach(x=>{var N;const U=(N=x.getRelation())===null||N===void 0?void 0:N.event_id;!U||!b[U]||(w.decryptEventIfNeeded(x),x.isBeingDecrypted()||x.isDecryptionFailure()?x.once(a.MatrixEventEvent.Decrypted,async()=>{S(U,x)}):S(U,x))})}getOrCreateMember(y,w){let b=this.members[y];return b||(b=new n.RoomMember(this.roomId,y),this.members[y]=b,this.emit(p.NewMember,w,this,b)),b}setStateEvent(y){this.events.has(y.getType())||this.events.set(y.getType(),new Map),this.events.get(y.getType()).set(y.getStateKey(),y)}setBeacon(y){const w=(0,d.getBeaconInfoIdentifier)(y);if(this.beacons.has(w)){const x=this.beacons.get(w);if(y.isRedacted()){var b;x.beaconInfoId===((b=y.getRedactionEvent())===null||b===void 0?void 0:b.redacts)&&(x.destroy(),this.beacons.delete(w));return}return x.update(y)}if(y.isRedacted())return;const S=new d.Beacon(y);this.reEmitter.reEmit(S,[d.BeaconEvent.New,d.BeaconEvent.Update,d.BeaconEvent.Destroy,d.BeaconEvent.LivenessChange]),this.emit(d.BeaconEvent.New,y,S),S.on(d.BeaconEvent.LivenessChange,this.onBeaconLivenessChange.bind(this)),S.on(d.BeaconEvent.Destroy,this.onBeaconLivenessChange.bind(this)),this.beacons.set(S.identifier,S)}onBeaconLivenessChange(){this._liveBeaconIds=Array.from(this.beacons.values()).filter(y=>y.isLive).map(y=>y.identifier),this.emit(p.BeaconLiveness,this,this.hasLiveBeacons)}getStateEventMatching(y){var w,b;return(w=(b=this.events.get(y.getType()))===null||b===void 0?void 0:b.get(y.getStateKey()))!==null&&w!==void 0?w:null}updateMember(y){const w=this.getStateEvents(i.EventType.RoomPowerLevels,"");w&&y.setPowerLevelEvent(w),delete this.sentinels[y.userId],this.members[y.userId]=y,this.joinedMemberCount=null,this.invitedMemberCount=null}needsOutOfBandMembers(){return this.oobMemberFlags.status===m.NotStarted}markOutOfBandMembersStarted(){this.oobMemberFlags.status===m.NotStarted&&(this.oobMemberFlags.status=m.InProgress)}markOutOfBandMembersFailed(){this.oobMemberFlags.status===m.InProgress&&(this.oobMemberFlags.status=m.NotStarted)}clearOutOfBandMembers(){let y=0;Object.keys(this.members).forEach(w=>{this.members[w].isOutOfBand()&&(++y,delete this.members[w])}),r.logger.log(`LL: RoomState removed ${y} members...`),this.oobMemberFlags.status=m.NotStarted}setOutOfBandMembers(y){r.logger.log(`LL: RoomState about to set ${y.length} OOB members ...`),this.oobMemberFlags.status===m.InProgress&&(r.logger.log("LL: RoomState put in finished state ..."),this.oobMemberFlags.status=m.Finished,y.forEach(w=>this.setOutOfBandMember(w)),this.emit(p.Update,this))}setOutOfBandMember(y){if(y.getType()!==i.EventType.RoomMember)return;const w=y.getStateKey(),b=this.getMember(w);if(b&&!b.isOutOfBand())return;const S=this.getOrCreateMember(w,y);S.setMembershipEvent(y,this),S.markOutOfBand(),this.updateDisplayNameCache(S.userId,S.name),this.setStateEvent(y),this.updateMember(S),this.emit(p.Members,y,this,S)}setTypingEvent(y){Object.values(this.members).forEach(function(w){w.setTypingEvent(y)})}getInviteForThreePidToken(y){return this.tokenToInvite[y]||null}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getUserIdsWithDisplayName(y){var w;return(w=this.displayNameToUserIds.get(o.removeHiddenChars(y)))!==null&&w!==void 0?w:[]}maySendRedactionForEvent(y,w){const b=this.getMember(w);if(!b||b.membership==="leave"||y.status||y.isRedacted())return!1;const S=this.maySendEvent(i.EventType.RoomRedaction,w);return y.getSender()===w?S:this.hasSufficientPowerLevelFor("redact",b.powerLevel)}hasSufficientPowerLevelFor(y,w){const b=this.getStateEvents(i.EventType.RoomPowerLevels,"");let S={};b&&(S=b.getContent());let x=50;return o.isNumber(S[y])&&(x=S[y]),w>=x}maySendMessage(y){return this.maySendEventOfType(i.EventType.RoomMessage,y,!1)}maySendEvent(y,w){return this.maySendEventOfType(y,w,!1)}mayClientSendStateEvent(y,w){return w.isGuest()||!w.credentials.userId?!1:this.maySendStateEvent(y,w.credentials.userId)}maySendStateEvent(y,w){return this.maySendEventOfType(y,w,!0)}maySendEventOfType(y,w,b){const S=this.getStateEvents(i.EventType.RoomPowerLevels,"");let x,N={},U=0,q=0,P=0;if(S){x=S.getContent(),N=x.events||{},Number.isSafeInteger(x.state_default)?U=x.state_default:U=50;const C=x.users&&x.users[w];Number.isSafeInteger(C)?P=C:Number.isSafeInteger(x.users_default)&&(P=x.users_default),Number.isSafeInteger(x.events_default)&&(q=x.events_default)}let G=b?U:q;return Number.isSafeInteger(N[y])&&(G=N[y]),P>=G}mayTriggerNotifOfType(y,w){const b=this.getMember(w);if(!b)return!1;const S=this.getStateEvents(i.EventType.RoomPowerLevels,"");let x=50;return S&&S.getContent()&&S.getContent().notifications&&o.isNumber(S.getContent().notifications[y])&&(x=S.getContent().notifications[y]),b.powerLevel>=x}getJoinRule(){var y;const w=this.getStateEvents(i.EventType.RoomJoinRules,"");return((y=w==null?void 0:w.getContent())!==null&&y!==void 0?y:{}).join_rule||l.JoinRule.Invite}getHistoryVisibility(){var y;const w=this.getStateEvents(i.EventType.RoomHistoryVisibility,"");return((y=w==null?void 0:w.getContent())!==null&&y!==void 0?y:{}).history_visibility||l.HistoryVisibility.Shared}getGuestAccess(){var y;const w=this.getStateEvents(i.EventType.RoomGuestAccess,"");return((y=w==null?void 0:w.getContent())!==null&&y!==void 0?y:{}).guest_access||l.GuestAccess.Forbidden}updateThirdPartyTokenCache(y){if(!y.getContent().third_party_invite)return;const w=(y.getContent().third_party_invite.signed||{}).token;!w||!this.getStateEvents(i.EventType.RoomThirdPartyInvite,w)||(this.tokenToInvite[w]=y)}updateDisplayNameCache(y,w){const b=this.userIdsToDisplayNames[y];if(delete this.userIdsToDisplayNames[y],b){const N=o.removeHiddenChars(b),U=this.displayNameToUserIds.get(N);if(U){const q=U.filter(P=>P!==y);this.displayNameToUserIds.set(N,q)}}this.userIdsToDisplayNames[y]=w;const S=w&&o.removeHiddenChars(w);if(S){var x;const N=(x=this.displayNameToUserIds.get(S))!==null&&x!==void 0?x:[];N.push(y),this.displayNameToUserIds.set(S,N)}}}return Zi.RoomState=f,Zi}var RH=ze.exports;Object.defineProperty(rg,"__esModule",{value:!0});rg.MemoryStore=void 0;var zr=RH(Je()),AH=so,WS=Za();function YS(t){return typeof t=="string"&&!!t&&t!=="undefined"&&t!=="null"||typeof t=="number"}class OH{constructor(e={}){(0,zr.default)(this,"rooms",{}),(0,zr.default)(this,"users",{}),(0,zr.default)(this,"syncToken",null),(0,zr.default)(this,"filters",{}),(0,zr.default)(this,"accountData",{}),(0,zr.default)(this,"localStorage",void 0),(0,zr.default)(this,"oobMembers",{}),(0,zr.default)(this,"pendingEvents",{}),(0,zr.default)(this,"clientOptions",void 0),(0,zr.default)(this,"pendingToDeviceBatches",[]),(0,zr.default)(this,"nextToDeviceBatchId",0),(0,zr.default)(this,"onRoomMember",(n,r,o)=>{if(o.membership==="invite")return;const i=this.users[o.userId]||new AH.User(o.userId);o.name&&(i.setDisplayName(o.name),o.events.member&&i.setRawDisplayName(o.events.member.getDirectionalContent().displayname)),o.events.member&&o.events.member.getContent().avatar_url&&i.setAvatarUrl(o.events.member.getContent().avatar_url),this.users[i.userId]=i}),this.localStorage=e.localStorage}getSyncToken(){return this.syncToken}isNewlyCreated(){return Promise.resolve(!0)}setSyncToken(e){this.syncToken=e}storeRoom(e){this.rooms[e.roomId]=e,e.currentState.on(WS.RoomStateEvent.Members,this.onRoomMember),e.currentState.getMembers().forEach(n=>{this.onRoomMember(null,e.currentState,n)})}getRoom(e){return this.rooms[e]||null}getRooms(){return Object.values(this.rooms)}removeRoom(e){this.rooms[e]&&this.rooms[e].currentState.removeListener(WS.RoomStateEvent.Members,this.onRoomMember),delete this.rooms[e]}getRoomSummaries(){return Object.values(this.rooms).map(function(e){return e.summary})}storeUser(e){this.users[e.userId]=e}getUser(e){return this.users[e]||null}getUsers(){return Object.values(this.users)}scrollback(e,n){return[]}storeEvents(e,n,r,o){}storeFilter(e){!(e!=null&&e.userId)||!(e!=null&&e.filterId)||(this.filters[e.userId]||(this.filters[e.userId]={}),this.filters[e.userId][e.filterId]=e)}getFilter(e,n){return!this.filters[e]||!this.filters[e][n]?null:this.filters[e][n]}getFilterIdByName(e){if(!this.localStorage)return null;const n="mxjssdk_memory_filter_"+e;try{const r=this.localStorage.getItem(n);if(YS(r))return r}catch{}return null}setFilterIdByName(e,n){if(!this.localStorage)return;const r="mxjssdk_memory_filter_"+e;try{YS(n)?this.localStorage.setItem(r,n):this.localStorage.removeItem(r)}catch{}}storeAccountDataEvents(e){e.forEach(n=>{this.accountData[n.getType()]=n})}getAccountData(e){return this.accountData[e]}setSyncData(e){return Promise.resolve()}wantsSave(){return!1}save(e){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()}getOutOfBandMembers(e){return Promise.resolve(this.oobMembers[e]||null)}setOutOfBandMembers(e,n){return this.oobMembers[e]=n,Promise.resolve()}clearOutOfBandMembers(e){return this.oobMembers={},Promise.resolve()}getClientOptions(){return Promise.resolve(this.clientOptions)}storeClientOptions(e){return this.clientOptions=Object.assign({},e),Promise.resolve()}async getPendingEvents(e){var n;return(n=this.pendingEvents[e])!==null&&n!==void 0?n:[]}async setPendingEvents(e,n){this.pendingEvents[e]=n}saveToDeviceBatches(e){for(const n of e)this.pendingToDeviceBatches.push({id:this.nextToDeviceBatchId++,eventType:n.eventType,txnId:n.txnId,batch:n.batch});return Promise.resolve()}async getOldestToDeviceBatch(){return this.pendingToDeviceBatches.length===0?null:this.pendingToDeviceBatches[0]}removeToDeviceBatch(e){return this.pendingToDeviceBatches=this.pendingToDeviceBatches.filter(n=>n.id!==e),Promise.resolve()}}rg.MemoryStore=OH;var Nm={},P_={},jd={},Es={},JS;function Q3(){if(JS)return Es;JS=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.WidgetApiDirection=void 0,Es.invertedDirection=e;var t;Es.WidgetApiDirection=t,function(n){n.ToWidget="toWidget",n.FromWidget="fromWidget"}(t||(Es.WidgetApiDirection=t={}));function e(n){if(n===t.ToWidget)return t.FromWidget;if(n===t.FromWidget)return t.ToWidget;throw new Error("Invalid direction")}return Es}var bo={},XS;function Z3(){if(XS)return bo;XS=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.UnstableApiVersion=bo.MatrixApiVersion=bo.CurrentApiVersions=void 0;var t;bo.MatrixApiVersion=t,function(r){r.Prerelease1="0.0.1",r.Prerelease2="0.0.2"}(t||(bo.MatrixApiVersion=t={}));var e;bo.UnstableApiVersion=e,function(r){r.MSC2762="org.matrix.msc2762",r.MSC2871="org.matrix.msc2871",r.MSC2931="org.matrix.msc2931",r.MSC2974="org.matrix.msc2974",r.MSC2876="org.matrix.msc2876",r.MSC3819="org.matrix.msc3819",r.MSC3846="town.robin.msc3846",r.MSC3869="org.matrix.msc3869"}(e||(bo.UnstableApiVersion=e={}));var n=[t.Prerelease1,t.Prerelease2,e.MSC2762,e.MSC2871,e.MSC2931,e.MSC2974,e.MSC2876,e.MSC3819,e.MSC3846,e.MSC3869];return bo.CurrentApiVersions=n,bo}var $d={},QS;function eE(){if(QS)return $d;QS=1;function t(p){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(p)}Object.defineProperty($d,"__esModule",{value:!0}),$d.PostmessageTransport=void 0;var e=Gn.exports,n=Lm();function r(p,f){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);f&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),v.push.apply(v,y)}return v}function o(p){for(var f=1;f<arguments.length;f++){var v=arguments[f]!=null?arguments[f]:{};f%2?r(Object(v),!0).forEach(function(y){F(p,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):r(Object(v)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(v,y))})}return p}function i(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function a(p,f){for(var v=0;v<f.length;v++){var y=f[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}function l(p,f,v){return f&&a(p.prototype,f),v&&a(p,v),Object.defineProperty(p,"prototype",{writable:!1}),p}function u(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),f&&d(p,f)}function d(p,f){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,w){return y.__proto__=w,y},d(p,f)}function s(p){var f=h();return function(){var y=_(p),w;if(f){var b=_(this).constructor;w=Reflect.construct(y,arguments,b)}else w=y.apply(this,arguments);return g(this,w)}}function g(p,f){if(f&&(t(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(p)}function c(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(p){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},_(p)}function F(p,f,v){return f in p?Object.defineProperty(p,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[f]=v,p}var m=function(p){u(v,p);var f=s(v);function v(y,w,b,S){var x;return i(this,v),x=f.call(this),x.sendDirection=y,x.initialWidgetId=w,x.transportWindow=b,x.inboundWindow=S,F(c(x),"strictOriginCheck",void 0),F(c(x),"targetOrigin",void 0),F(c(x),"timeoutSeconds",10),F(c(x),"_ready",!1),F(c(x),"_widgetId",null),F(c(x),"outboundRequests",new Map),F(c(x),"stopController",new AbortController),x._widgetId=w,x}return l(v,[{key:"ready",get:function(){return this._ready}},{key:"widgetId",get:function(){return this._widgetId||null}},{key:"nextRequestId",get:function(){for(var w="widgetapi-".concat(Date.now()),b=0,S=w;this.outboundRequests.has(S);)S="".concat(w,"-").concat(b++);return this.outboundRequests.set(S,null),S}},{key:"sendInternal",value:function(w){var b=this.targetOrigin||"*";console.log("[PostmessageTransport] Sending object to ".concat(b,": "),w),this.transportWindow.postMessage(w,b)}},{key:"reply",value:function(w,b){return this.sendInternal(o(o({},w),{},{response:b}))}},{key:"send",value:function(w,b){return this.sendComplete(w,b).then(function(S){return S.response})}},{key:"sendComplete",value:function(w,b){var S=this;if(!this.ready||!this.widgetId)return Promise.reject(new Error("Not ready or unknown widget ID"));var x={api:this.sendDirection,widgetId:this.widgetId,requestId:this.nextRequestId,action:w,data:b};return w===n.WidgetApiToWidgetAction.UpdateVisibility&&(x.visible=b.visible),new Promise(function(N,U){var q=function(A){I(),N(A)},P=function(A){I(),U(A)},G=setTimeout(function(){return P(new Error("Request timed out"))},(S.timeoutSeconds||1)*1e3),C=function(){return P(new Error("Transport stopped"))};S.stopController.signal.addEventListener("abort",C);var I=function(){S.outboundRequests.delete(x.requestId),clearTimeout(G),S.stopController.signal.removeEventListener("abort",C)};S.outboundRequests.set(x.requestId,{request:x,resolve:q,reject:P}),S.sendInternal(x)})}},{key:"start",value:function(){var w=this;this.inboundWindow.addEventListener("message",function(b){w.handleMessage(b)}),this._ready=!0}},{key:"stop",value:function(){this._ready=!1,this.stopController.abort()}},{key:"handleMessage",value:function(w){if(!this.stopController.signal.aborted&&w.data&&!(this.strictOriginCheck&&w.origin!==window.origin)){var b=w.data;if(!(!b.action||!b.requestId||!b.widgetId))if(b.response){if(b.api!==this.sendDirection)return;this.handleResponse(b)}else{var S=b;if(S.api!==(0,n.invertedDirection)(this.sendDirection))return;this.handleRequest(S)}}}},{key:"handleRequest",value:function(w){if(this.widgetId){if(this.widgetId!==w.widgetId)return}else this._widgetId=w.widgetId;this.emit("message",new CustomEvent("message",{detail:w}))}},{key:"handleResponse",value:function(w){if(w.widgetId===this.widgetId){var b=this.outboundRequests.get(w.requestId);if(b)if((0,n.isErrorResponse)(w.response)){var S=w.response;b.reject(new Error(S.error.message))}else b.resolve(w)}}}]),v}(e.EventEmitter);return $d.PostmessageTransport=m,$d}var Si={},ZS;function tE(){if(ZS)return Si;ZS=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.WidgetApiToWidgetAction=Si.WidgetApiFromWidgetAction=void 0;var t;Si.WidgetApiToWidgetAction=t,function(n){n.SupportedApiVersions="supported_api_versions",n.Capabilities="capabilities",n.NotifyCapabilities="notify_capabilities",n.TakeScreenshot="screenshot",n.UpdateVisibility="visibility",n.OpenIDCredentials="openid_credentials",n.WidgetConfig="widget_config",n.CloseModalWidget="close_modal",n.ButtonClicked="button_clicked",n.SendEvent="send_event",n.SendToDevice="send_to_device",n.UpdateTurnServers="update_turn_servers"}(t||(Si.WidgetApiToWidgetAction=t={}));var e;return Si.WidgetApiFromWidgetAction=e,function(n){n.SupportedApiVersions="supported_api_versions",n.ContentLoaded="content_loaded",n.SendSticker="m.sticker",n.UpdateAlwaysOnScreen="set_always_on_screen",n.GetOpenIDCredentials="get_openid",n.CloseModalWidget="close_modal",n.OpenModalWidget="open_modal",n.SetModalButtonEnabled="set_button_enabled",n.SendEvent="send_event",n.SendToDevice="send_to_device",n.WatchTurnServers="watch_turn_servers",n.UnwatchTurnServers="unwatch_turn_servers",n.MSC2876ReadEvents="org.matrix.msc2876.read_events",n.MSC2931Navigate="org.matrix.msc2931.navigate",n.MSC2974RenegotiateCapabilities="org.matrix.msc2974.request_capabilities",n.MSC3869ReadRelations="org.matrix.msc3869.read_relations"}(e||(Si.WidgetApiFromWidgetAction=e={})),Si}var Vl={},ex;function nE(){if(ex)return Vl;ex=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.OpenIDRequestState=void 0;var t;return Vl.OpenIDRequestState=t,function(e){e.Allowed="allowed",e.Blocked="blocked",e.PendingUserConfirmation="request"}(t||(Vl.OpenIDRequestState=t={})),Vl}var Gl={},tx;function IA(){if(tx)return Gl;tx=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.MatrixWidgetType=void 0;var t;return Gl.MatrixWidgetType=t,function(e){e.Custom="m.custom",e.JitsiMeet="m.jitsi",e.Stickerpicker="m.stickerpicker"}(t||(Gl.MatrixWidgetType=t={})),Gl}var Kl={},nx;function RA(){if(nx)return Kl;nx=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.BuiltInModalButtonID=void 0;var t;return Kl.BuiltInModalButtonID=t,function(e){e.Close="m.close"}(t||(Kl.BuiltInModalButtonID=t={})),Kl}var Eo={},rx;function rE(){if(rx)return Eo;rx=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.WidgetEventCapability=Eo.EventKind=Eo.EventDirection=void 0;function t(d,s){var g=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!g){if(Array.isArray(d)||(g=e(d))||s&&d&&typeof d.length=="number"){g&&(d=g);var c=0,h=function(){};return{s:h,n:function(){return c>=d.length?{done:!0}:{done:!1,value:d[c++]}},e:function(f){throw f},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,F=!1,m;return{s:function(){g=g.call(d)},n:function(){var f=g.next();return _=f.done,f},e:function(f){F=!0,m=f},f:function(){try{!_&&g.return!=null&&g.return()}finally{if(F)throw m}}}}function e(d,s){if(d){if(typeof d=="string")return n(d,s);var g=Object.prototype.toString.call(d).slice(8,-1);if(g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set")return Array.from(d);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return n(d,s)}}function n(d,s){(s==null||s>d.length)&&(s=d.length);for(var g=0,c=new Array(s);g<s;g++)c[g]=d[g];return c}function r(d,s){if(!(d instanceof s))throw new TypeError("Cannot call a class as a function")}function o(d,s){for(var g=0;g<s.length;g++){var c=s[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}function i(d,s,g){return s&&o(d.prototype,s),g&&o(d,g),Object.defineProperty(d,"prototype",{writable:!1}),d}var a;Eo.EventKind=a,function(d){d.Event="event",d.State="state_event",d.ToDevice="to_device"}(a||(Eo.EventKind=a={}));var l;Eo.EventDirection=l,function(d){d.Send="send",d.Receive="receive"}(l||(Eo.EventDirection=l={}));var u=function(){function d(s,g,c,h,_){r(this,d),this.direction=s,this.eventType=g,this.kind=c,this.keyStr=h,this.raw=_}return i(d,[{key:"matchesAsStateEvent",value:function(g,c,h){return this.kind!==a.State||this.direction!==g||this.eventType!==c?!1:this.keyStr===null||this.keyStr===h}},{key:"matchesAsToDeviceEvent",value:function(g,c){return!(this.kind!==a.ToDevice||this.direction!==g||this.eventType!==c)}},{key:"matchesAsRoomEvent",value:function(g,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(this.kind!==a.Event||this.direction!==g||this.eventType!==c)return!1;if(this.eventType==="m.room.message"){if(this.keyStr===null||this.keyStr===h)return!0}else return!0;return!1}}],[{key:"forStateEvent",value:function(g,c,h){c=c.replace(/#/g,"\\#"),h=h!=null?"#".concat(h):"";var _="org.matrix.msc2762.".concat(g,".state_event:").concat(c).concat(h);return d.findEventCapabilities([_])[0]}},{key:"forToDeviceEvent",value:function(g,c){var h="org.matrix.msc3819.".concat(g,".to_device:").concat(c);return d.findEventCapabilities([h])[0]}},{key:"forRoomEvent",value:function(g,c){var h="org.matrix.msc2762.".concat(g,".event:").concat(c);return d.findEventCapabilities([h])[0]}},{key:"forRoomMessageEvent",value:function(g,c){c=c??"";var h="org.matrix.msc2762.".concat(g,".event:m.room.message#").concat(c);return d.findEventCapabilities([h])[0]}},{key:"findEventCapabilities",value:function(g){var c=[],h=t(g),_;try{for(h.s();!(_=h.n()).done;){var F=_.value,m=null,p=void 0,f=null;if(F.startsWith("org.matrix.msc2762.send.event:")?(m=l.Send,f=a.Event,p=F.substring(30)):F.startsWith("org.matrix.msc2762.send.state_event:")?(m=l.Send,f=a.State,p=F.substring(36)):F.startsWith("org.matrix.msc3819.send.to_device:")?(m=l.Send,f=a.ToDevice,p=F.substring(34)):F.startsWith("org.matrix.msc2762.receive.event:")?(m=l.Receive,f=a.Event,p=F.substring(33)):F.startsWith("org.matrix.msc2762.receive.state_event:")?(m=l.Receive,f=a.State,p=F.substring(39)):F.startsWith("org.matrix.msc3819.receive.to_device:")&&(m=l.Receive,f=a.ToDevice,p=F.substring(37)),!(m===null||f===null)){var v=p.startsWith("m.room.message#")||f===a.State,y=null;if(p.includes("#")&&v){var w=p.split("#"),b=w.findIndex(function(S){return!S.endsWith("\\")});p=w.slice(0,b+1).map(function(S){return S.endsWith("\\")?S.substring(0,S.length-1):S}).join("#"),y=w.slice(b+1).join("#")}c.push(new d(m,p,f,y,F))}}}catch(S){h.e(S)}finally{h.f()}return c}}]),d}();return Eo.WidgetEventCapability=u,Eo}var Hl={},ox;function oE(){if(ox)return Hl;ox=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Symbols=void 0;var t;return Hl.Symbols=t,function(e){e.AnyRoom="*"}(t||(Hl.Symbols=t={})),Hl}var ix;function BH(){if(ix)return jd;ix=1;function t(C){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},t(C)}Object.defineProperty(jd,"__esModule",{value:!0}),jd.WidgetApi=void 0;var e=Gn.exports,n=Q3(),r=Z3(),o=eE(),i=tE(),a=nE(),l=IA(),u=RA(),d=rE(),s=oE();function g(){g=function(){return C};var C={},I=Object.prototype,M=I.hasOwnProperty,A=typeof Symbol=="function"?Symbol:{},$=A.iterator||"@@iterator",Y=A.asyncIterator||"@@asyncIterator",T=A.toStringTag||"@@toStringTag";function D(de,fe,Se){return Object.defineProperty(de,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),de[fe]}try{D({},"")}catch{D=function(Se,Ee,ye){return Se[Ee]=ye}}function R(de,fe,Se,Ee){var ye=fe&&fe.prototype instanceof Q?fe:Q,Te=Object.create(ye.prototype),Ne=new Oe(Ee||[]);return Te._invoke=function(ne,j,V){var ie="suspendedStart";return function(pe,be){if(ie==="executing")throw new Error("Generator is already running");if(ie==="completed"){if(pe==="throw")throw be;return Ue()}for(V.method=pe,V.arg=be;;){var xe=V.delegate;if(xe){var me=ce(xe,V);if(me){if(me===H)continue;return me}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(ie==="suspendedStart")throw ie="completed",V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);ie="executing";var k=B(ne,j,V);if(k.type==="normal"){if(ie=V.done?"completed":"suspendedYield",k.arg===H)continue;return{value:k.arg,done:V.done}}k.type==="throw"&&(ie="completed",V.method="throw",V.arg=k.arg)}}}(de,Se,Ne),Te}function B(de,fe,Se){try{return{type:"normal",arg:de.call(fe,Se)}}catch(Ee){return{type:"throw",arg:Ee}}}C.wrap=R;var H={};function Q(){}function L(){}function le(){}var he={};D(he,$,function(){return this});var De=Object.getPrototypeOf,ke=De&&De(De(Le([])));ke&&ke!==I&&M.call(ke,$)&&(he=ke);var W=le.prototype=Q.prototype=Object.create(he);function z(de){["next","throw","return"].forEach(function(fe){D(de,fe,function(Se){return this._invoke(fe,Se)})})}function oe(de,fe){function Se(ye,Te,Ne,ne){var j=B(de[ye],de,Te);if(j.type!=="throw"){var V=j.arg,ie=V.value;return ie&&t(ie)=="object"&&M.call(ie,"__await")?fe.resolve(ie.__await).then(function(pe){Se("next",pe,Ne,ne)},function(pe){Se("throw",pe,Ne,ne)}):fe.resolve(ie).then(function(pe){V.value=pe,Ne(V)},function(pe){return Se("throw",pe,Ne,ne)})}ne(j.arg)}var Ee;this._invoke=function(ye,Te){function Ne(){return new fe(function(ne,j){Se(ye,Te,ne,j)})}return Ee=Ee?Ee.then(Ne,Ne):Ne()}}function ce(de,fe){var Se=de.iterator[fe.method];if(Se===void 0){if(fe.delegate=null,fe.method==="throw"){if(de.iterator.return&&(fe.method="return",fe.arg=void 0,ce(de,fe),fe.method==="throw"))return H;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return H}var Ee=B(Se,de.iterator,fe.arg);if(Ee.type==="throw")return fe.method="throw",fe.arg=Ee.arg,fe.delegate=null,H;var ye=Ee.arg;return ye?ye.done?(fe[de.resultName]=ye.value,fe.next=de.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=void 0),fe.delegate=null,H):ye:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,H)}function _e(de){var fe={tryLoc:de[0]};1 in de&&(fe.catchLoc=de[1]),2 in de&&(fe.finallyLoc=de[2],fe.afterLoc=de[3]),this.tryEntries.push(fe)}function we(de){var fe=de.completion||{};fe.type="normal",delete fe.arg,de.completion=fe}function Oe(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(_e,this),this.reset(!0)}function Le(de){if(de){var fe=de[$];if(fe)return fe.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var Se=-1,Ee=function ye(){for(;++Se<de.length;)if(M.call(de,Se))return ye.value=de[Se],ye.done=!1,ye;return ye.value=void 0,ye.done=!0,ye};return Ee.next=Ee}}return{next:Ue}}function Ue(){return{value:void 0,done:!0}}return L.prototype=le,D(W,"constructor",le),D(le,"constructor",L),L.displayName=D(le,T,"GeneratorFunction"),C.isGeneratorFunction=function(de){var fe=typeof de=="function"&&de.constructor;return!!fe&&(fe===L||(fe.displayName||fe.name)==="GeneratorFunction")},C.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,le):(de.__proto__=le,D(de,T,"GeneratorFunction")),de.prototype=Object.create(W),de},C.awrap=function(de){return{__await:de}},z(oe.prototype),D(oe.prototype,Y,function(){return this}),C.AsyncIterator=oe,C.async=function(de,fe,Se,Ee,ye){ye===void 0&&(ye=Promise);var Te=new oe(R(de,fe,Se,Ee),ye);return C.isGeneratorFunction(fe)?Te:Te.next().then(function(Ne){return Ne.done?Ne.value:Te.next()})},z(W),D(W,T,"Generator"),D(W,$,function(){return this}),D(W,"toString",function(){return"[object Generator]"}),C.keys=function(de){var fe=[];for(var Se in de)fe.push(Se);return fe.reverse(),function Ee(){for(;fe.length;){var ye=fe.pop();if(ye in de)return Ee.value=ye,Ee.done=!1,Ee}return Ee.done=!0,Ee}},C.values=Le,Oe.prototype={constructor:Oe,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(we),!fe)for(var Se in this)Se.charAt(0)==="t"&&M.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=void 0)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function Ee(V,ie){return Ne.type="throw",Ne.arg=fe,Se.next=V,ie&&(Se.method="next",Se.arg=void 0),!!ie}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Te=this.tryEntries[ye],Ne=Te.completion;if(Te.tryLoc==="root")return Ee("end");if(Te.tryLoc<=this.prev){var ne=M.call(Te,"catchLoc"),j=M.call(Te,"finallyLoc");if(ne&&j){if(this.prev<Te.catchLoc)return Ee(Te.catchLoc,!0);if(this.prev<Te.finallyLoc)return Ee(Te.finallyLoc)}else if(ne){if(this.prev<Te.catchLoc)return Ee(Te.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<Te.finallyLoc)return Ee(Te.finallyLoc)}}}},abrupt:function(fe,Se){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var ye=this.tryEntries[Ee];if(ye.tryLoc<=this.prev&&M.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var Te=ye;break}}Te&&(fe==="break"||fe==="continue")&&Te.tryLoc<=Se&&Se<=Te.finallyLoc&&(Te=null);var Ne=Te?Te.completion:{};return Ne.type=fe,Ne.arg=Se,Te?(this.method="next",this.next=Te.finallyLoc,H):this.complete(Ne)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),H},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Ee=this.tryEntries[Se];if(Ee.finallyLoc===fe)return this.complete(Ee.completion,Ee.afterLoc),we(Ee),H}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Ee=this.tryEntries[Se];if(Ee.tryLoc===fe){var ye=Ee.completion;if(ye.type==="throw"){var Te=ye.arg;we(Ee)}return Te}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,Ee){return this.delegate={iterator:Le(fe),resultName:Se,nextLoc:Ee},this.method==="next"&&(this.arg=void 0),H}},C}function c(C,I,M,A,$,Y,T){try{var D=C[Y](T),R=D.value}catch(B){M(B);return}D.done?I(R):Promise.resolve(R).then(A,$)}function h(C){return function(){var I=this,M=arguments;return new Promise(function(A,$){var Y=C.apply(I,M);function T(R){c(Y,A,$,T,D,"next",R)}function D(R){c(Y,A,$,T,D,"throw",R)}T(void 0)})}}function _(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function F(C,I){for(var M=0;M<I.length;M++){var A=I[M];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function m(C,I,M){return I&&F(C.prototype,I),M&&F(C,M),Object.defineProperty(C,"prototype",{writable:!1}),C}function p(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),I&&f(C,I)}function f(C,I){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,$){return A.__proto__=$,A},f(C,I)}function v(C){var I=b();return function(){var A=S(C),$;if(I){var Y=S(this).constructor;$=Reflect.construct(A,arguments,Y)}else $=A.apply(this,arguments);return y(this,$)}}function y(C,I){if(I&&(t(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(C){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},S(C)}function x(C,I,M){return I in C?Object.defineProperty(C,I,{value:M,enumerable:!0,configurable:!0,writable:!0}):C[I]=M,C}function N(C){return new P(C)}function U(C){return function(){return new q(C.apply(this,arguments))}}function q(C){var I,M;function A(T,D){return new Promise(function(R,B){var H={key:T,arg:D,resolve:R,reject:B,next:null};M?M=M.next=H:(I=M=H,$(T,D))})}function $(T,D){try{var R=C[T](D),B=R.value,H=B instanceof P;Promise.resolve(H?B.wrapped:B).then(function(Q){if(H){$(T==="return"?"return":"next",Q);return}Y(R.done?"return":"normal",Q)},function(Q){$("throw",Q)})}catch(Q){Y("throw",Q)}}function Y(T,D){switch(T){case"return":I.resolve({value:D,done:!0});break;case"throw":I.reject(D);break;default:I.resolve({value:D,done:!1});break}I=I.next,I?$(I.key,I.arg):M=null}this._invoke=A,typeof C.return!="function"&&(this.return=void 0)}q.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},q.prototype.next=function(C){return this._invoke("next",C)},q.prototype.throw=function(C){return this._invoke("throw",C)},q.prototype.return=function(C){return this._invoke("return",C)};function P(C){this.wrapped=C}var G=function(C){p(M,C);var I=v(M);function M(){var A,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(_(this,M),A=I.call(this),A.clientOrigin=Y,x(w(A),"transport",void 0),x(w(A),"capabilitiesFinished",!1),x(w(A),"supportsMSC2974Renegotiate",!1),x(w(A),"requestedCapabilities",[]),x(w(A),"approvedCapabilities",void 0),x(w(A),"cachedClientVersions",void 0),x(w(A),"turnServerWatchers",0),!window.parent)throw new Error("No parent window. This widget doesn't appear to be embedded properly.");return A.transport=new o.PostmessageTransport(n.WidgetApiDirection.FromWidget,$,window.parent,window),A.transport.targetOrigin=Y,A.transport.on("message",A.handleMessage.bind(w(A))),A}return m(M,[{key:"hasCapability",value:function($){return Array.isArray(this.approvedCapabilities)?this.approvedCapabilities.includes($):this.requestedCapabilities.includes($)}},{key:"requestCapability",value:function($){if(this.capabilitiesFinished&&!this.supportsMSC2974Renegotiate)throw new Error("Capabilities have already been negotiated");this.requestedCapabilities.push($)}},{key:"requestCapabilities",value:function($){var Y=this;$.forEach(function(T){return Y.requestCapability(T)})}},{key:"requestCapabilityForRoomTimeline",value:function($){this.requestCapability("org.matrix.msc2762.timeline:".concat($))}},{key:"requestCapabilityToSendState",value:function($,Y){this.requestCapability(d.WidgetEventCapability.forStateEvent(d.EventDirection.Send,$,Y).raw)}},{key:"requestCapabilityToReceiveState",value:function($,Y){this.requestCapability(d.WidgetEventCapability.forStateEvent(d.EventDirection.Receive,$,Y).raw)}},{key:"requestCapabilityToSendToDevice",value:function($){this.requestCapability(d.WidgetEventCapability.forToDeviceEvent(d.EventDirection.Send,$).raw)}},{key:"requestCapabilityToReceiveToDevice",value:function($){this.requestCapability(d.WidgetEventCapability.forToDeviceEvent(d.EventDirection.Receive,$).raw)}},{key:"requestCapabilityToSendEvent",value:function($){this.requestCapability(d.WidgetEventCapability.forRoomEvent(d.EventDirection.Send,$).raw)}},{key:"requestCapabilityToReceiveEvent",value:function($){this.requestCapability(d.WidgetEventCapability.forRoomEvent(d.EventDirection.Receive,$).raw)}},{key:"requestCapabilityToSendMessage",value:function($){this.requestCapability(d.WidgetEventCapability.forRoomMessageEvent(d.EventDirection.Send,$).raw)}},{key:"requestCapabilityToReceiveMessage",value:function($){this.requestCapability(d.WidgetEventCapability.forRoomMessageEvent(d.EventDirection.Receive,$).raw)}},{key:"requestOpenIDConnectToken",value:function(){var $=this;return new Promise(function(Y,T){$.transport.sendComplete(i.WidgetApiFromWidgetAction.GetOpenIDCredentials,{}).then(function(D){var R=D.response;if(R.state===a.OpenIDRequestState.Allowed)Y(R);else if(R.state===a.OpenIDRequestState.Blocked)T(new Error("User declined to verify their identity"));else if(R.state===a.OpenIDRequestState.PendingUserConfirmation){var B=function H(Q){Q.preventDefault();var L=Q.detail;L.data.original_request_id===D.requestId&&(L.data.state===a.OpenIDRequestState.Allowed?(Y(L.data),$.transport.reply(L,{})):L.data.state===a.OpenIDRequestState.Blocked?(T(new Error("User declined to verify their identity")),$.transport.reply(L,{})):(T(new Error("Invalid state on reply: "+R.state)),$.transport.reply(L,{error:{message:"Invalid state"}})),$.off("action:".concat(i.WidgetApiToWidgetAction.OpenIDCredentials),H))};$.on("action:".concat(i.WidgetApiToWidgetAction.OpenIDCredentials),B)}else T(new Error("Invalid state: "+R.state))}).catch(T)})}},{key:"updateRequestedCapabilities",value:function(){return this.transport.send(i.WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities,{capabilities:this.requestedCapabilities}).then()}},{key:"sendContentLoaded",value:function(){return this.transport.send(i.WidgetApiFromWidgetAction.ContentLoaded,{}).then()}},{key:"sendSticker",value:function($){return this.transport.send(i.WidgetApiFromWidgetAction.SendSticker,$).then()}},{key:"setAlwaysOnScreen",value:function($){return this.transport.send(i.WidgetApiFromWidgetAction.UpdateAlwaysOnScreen,{value:$}).then(function(Y){return Y.success})}},{key:"openModalWidget",value:function($,Y){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:l.MatrixWidgetType.Custom;return this.transport.send(i.WidgetApiFromWidgetAction.OpenModalWidget,{type:R,url:$,name:Y,buttons:T,data:D}).then()}},{key:"closeModalWidget",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.send(i.WidgetApiFromWidgetAction.CloseModalWidget,$).then()}},{key:"sendRoomEvent",value:function($,Y,T){return this.transport.send(i.WidgetApiFromWidgetAction.SendEvent,{type:$,content:Y,room_id:T})}},{key:"sendStateEvent",value:function($,Y,T,D){return this.transport.send(i.WidgetApiFromWidgetAction.SendEvent,{type:$,content:T,state_key:Y,room_id:D})}},{key:"sendToDevice",value:function($,Y,T){return this.transport.send(i.WidgetApiFromWidgetAction.SendToDevice,{type:$,encrypted:Y,messages:T})}},{key:"readRoomEvents",value:function($,Y,T,D){var R={type:$,msgtype:T};return Y!==void 0&&(R.limit=Y),D&&(D.includes(s.Symbols.AnyRoom)?R.room_ids=s.Symbols.AnyRoom:R.room_ids=D),this.transport.send(i.WidgetApiFromWidgetAction.MSC2876ReadEvents,R).then(function(B){return B.events})}},{key:"readEventRelations",value:function(){var A=h(g().mark(function Y(T,D,R,B,H,Q,L,le){var he,De;return g().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.getClientVersions();case 2:if(he=W.sent,he.includes(r.UnstableApiVersion.MSC3869)){W.next=5;break}throw new Error("The read_relations action is not supported by the client.");case 5:return De={event_id:T,rel_type:R,event_type:B,room_id:D,to:L,from:Q,limit:H,direction:le},W.abrupt("return",this.transport.send(i.WidgetApiFromWidgetAction.MSC3869ReadRelations,De));case 7:case"end":return W.stop()}},Y,this)}));function $(Y,T,D,R,B,H,Q,L){return A.apply(this,arguments)}return $}()},{key:"readStateEvents",value:function($,Y,T,D){var R={type:$,state_key:T===void 0?!0:T};return Y!==void 0&&(R.limit=Y),D&&(D.includes(s.Symbols.AnyRoom)?R.room_ids=s.Symbols.AnyRoom:R.room_ids=D),this.transport.send(i.WidgetApiFromWidgetAction.MSC2876ReadEvents,R).then(function(B){return B.events})}},{key:"setModalButtonEnabled",value:function($,Y){if($===u.BuiltInModalButtonID.Close)throw new Error("The close button cannot be disabled");return this.transport.send(i.WidgetApiFromWidgetAction.SetModalButtonEnabled,{button:$,enabled:Y}).then()}},{key:"navigateTo",value:function($){if(!$||!$.startsWith("https://matrix.to/#"))throw new Error("Invalid matrix.to URI");return this.transport.send(i.WidgetApiFromWidgetAction.MSC2931Navigate,{uri:$}).then()}},{key:"getTurnServers",value:function(){var $=this;return U(g().mark(function Y(){var T,D;return g().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(D=function(){var H=h(g().mark(function Q(L){return g().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return L.preventDefault(),T(L.detail.data),he.next=4,$.transport.reply(L.detail,{});case 4:case"end":return he.stop()}},Q)}));return function(L){return H.apply(this,arguments)}}(),$.on("action:".concat(i.WidgetApiToWidgetAction.UpdateTurnServers),D),$.turnServerWatchers!==0){B.next=12;break}return B.prev=3,B.next=6,N($.transport.send(i.WidgetApiFromWidgetAction.WatchTurnServers,{}));case 6:B.next=12;break;case 8:throw B.prev=8,B.t0=B.catch(3),$.off("action:".concat(i.WidgetApiToWidgetAction.UpdateTurnServers),D),B.t0;case 12:$.turnServerWatchers++,B.prev=13;case 14:return B.next=17,N(new Promise(function(H){return T=H}));case 17:return B.next=19,B.sent;case 19:B.next=14;break;case 21:if(B.prev=21,$.off("action:".concat(i.WidgetApiToWidgetAction.UpdateTurnServers),D),$.turnServerWatchers--,$.turnServerWatchers!==0){B.next=27;break}return B.next=27,N($.transport.send(i.WidgetApiFromWidgetAction.UnwatchTurnServers,{}));case 27:return B.finish(21);case 28:case"end":return B.stop()}},Y,null,[[3,8],[13,,21,28]])}))()}},{key:"start",value:function(){var $=this;this.transport.start(),this.getClientVersions().then(function(Y){Y.includes(r.UnstableApiVersion.MSC2974)&&($.supportsMSC2974Renegotiate=!0)})}},{key:"handleMessage",value:function($){var Y=new CustomEvent("action:".concat($.detail.action),{detail:$.detail,cancelable:!0});if(this.emit("action:".concat($.detail.action),Y),!Y.defaultPrevented)switch($.detail.action){case i.WidgetApiToWidgetAction.SupportedApiVersions:return this.replyVersions($.detail);case i.WidgetApiToWidgetAction.Capabilities:return this.handleCapabilities($.detail);case i.WidgetApiToWidgetAction.UpdateVisibility:return this.transport.reply($.detail,{});case i.WidgetApiToWidgetAction.NotifyCapabilities:return this.transport.reply($.detail,{});default:return this.transport.reply($.detail,{error:{message:"Unknown or unsupported action: "+$.detail.action}})}}},{key:"replyVersions",value:function($){this.transport.reply($,{supported_versions:r.CurrentApiVersions})}},{key:"getClientVersions",value:function(){var $=this;return Array.isArray(this.cachedClientVersions)?Promise.resolve(this.cachedClientVersions):this.transport.send(i.WidgetApiFromWidgetAction.SupportedApiVersions,{}).then(function(Y){return $.cachedClientVersions=Y.supported_versions,Y.supported_versions}).catch(function(Y){return console.warn("non-fatal error getting supported client versions: ",Y),[]})}},{key:"handleCapabilities",value:function($){var Y=this;return this.capabilitiesFinished?this.transport.reply($,{error:{message:"Capability negotiation already completed"}}):this.getClientVersions().then(function(T){return T.includes(r.UnstableApiVersion.MSC2871)?Y.once("action:".concat(i.WidgetApiToWidgetAction.NotifyCapabilities),function(D){Y.approvedCapabilities=D.detail.data.approved,Y.emit("ready")}):Y.emit("ready"),Y.capabilitiesFinished=!0,Y.transport.reply($,{capabilities:Y.requestedCapabilities})})}}]),M}(e.EventEmitter);return jd.WidgetApi=G,jd}var qd={},Ir={},ax;function AA(){if(ax)return Ir;ax=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.VideoConferenceCapabilities=Ir.StickerpickerCapabilities=Ir.MatrixCapabilities=void 0,Ir.getTimelineRoomIDFromCapability=i,Ir.isTimelineCapability=r,Ir.isTimelineCapabilityFor=o;var t;Ir.MatrixCapabilities=t,function(a){a.Screenshots="m.capability.screenshot",a.StickerSending="m.sticker",a.AlwaysOnScreen="m.always_on_screen",a.RequiresClient="io.element.requires_client",a.MSC2931Navigate="org.matrix.msc2931.navigate",a.MSC3846TurnServers="town.robin.msc3846.turn_servers"}(t||(Ir.MatrixCapabilities=t={}));var e=[t.StickerSending];Ir.StickerpickerCapabilities=e;var n=[t.AlwaysOnScreen];Ir.VideoConferenceCapabilities=n;function r(a){return a==null?void 0:a.startsWith("org.matrix.msc2762.timeline:")}function o(a,l){return a==="org.matrix.msc2762.timeline:".concat(l)}function i(a){return a.substring(a.indexOf(":")+1)}return Ir}var Vd={},sx;function OA(){if(sx)return Vd;sx=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.SimpleObservable=void 0;function t(u,d){var s=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!s){if(Array.isArray(u)||(s=e(u))||d&&u&&typeof u.length=="number"){s&&(u=s);var g=0,c=function(){};return{s:c,n:function(){return g>=u.length?{done:!0}:{done:!1,value:u[g++]}},e:function(p){throw p},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,_=!1,F;return{s:function(){s=s.call(u)},n:function(){var p=s.next();return h=p.done,p},e:function(p){_=!0,F=p},f:function(){try{!h&&s.return!=null&&s.return()}finally{if(_)throw F}}}}function e(u,d){if(u){if(typeof u=="string")return n(u,d);var s=Object.prototype.toString.call(u).slice(8,-1);if(s==="Object"&&u.constructor&&(s=u.constructor.name),s==="Map"||s==="Set")return Array.from(u);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(u,d)}}function n(u,d){(d==null||d>u.length)&&(d=u.length);for(var s=0,g=new Array(d);s<d;s++)g[s]=u[s];return g}function r(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function o(u,d){for(var s=0;s<d.length;s++){var g=d[s];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function i(u,d,s){return d&&o(u.prototype,d),s&&o(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}function a(u,d,s){return d in u?Object.defineProperty(u,d,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[d]=s,u}var l=function(){function u(d){r(this,u),a(this,"listeners",[]),d&&this.listeners.push(d)}return i(u,[{key:"onUpdate",value:function(s){this.listeners.push(s)}},{key:"update",value:function(s){var g=t(this.listeners),c;try{for(g.s();!(c=g.n()).done;){var h=c.value;h(s)}}catch(_){g.e(_)}finally{g.f()}}},{key:"close",value:function(){this.listeners=[]}}]),u}();return Vd.SimpleObservable=l,Vd}var lx;function PH(){if(lx)return qd;lx=1;function t(A){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},t(A)}Object.defineProperty(qd,"__esModule",{value:!0}),qd.ClientWidgetApi=void 0;var e=Gn.exports,n=eE(),r=Q3(),o=tE(),i=AA(),a=Z3(),l=rE(),u=nE(),d=OA(),s=oE();function g(){g=function(){return A};var A={},$=Object.prototype,Y=$.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},D=T.iterator||"@@iterator",R=T.asyncIterator||"@@asyncIterator",B=T.toStringTag||"@@toStringTag";function H(Ee,ye,Te){return Object.defineProperty(Ee,ye,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ee[ye]}try{H({},"")}catch{H=function(Te,Ne,ne){return Te[Ne]=ne}}function Q(Ee,ye,Te,Ne){var ne=ye&&ye.prototype instanceof he?ye:he,j=Object.create(ne.prototype),V=new de(Ne||[]);return j._invoke=function(ie,pe,be){var xe="suspendedStart";return function(me,k){if(xe==="executing")throw new Error("Generator is already running");if(xe==="completed"){if(me==="throw")throw k;return Se()}for(be.method=me,be.arg=k;;){var O=be.delegate;if(O){var K=Oe(O,be);if(K){if(K===le)continue;return K}}if(be.method==="next")be.sent=be._sent=be.arg;else if(be.method==="throw"){if(xe==="suspendedStart")throw xe="completed",be.arg;be.dispatchException(be.arg)}else be.method==="return"&&be.abrupt("return",be.arg);xe="executing";var Z=L(ie,pe,be);if(Z.type==="normal"){if(xe=be.done?"completed":"suspendedYield",Z.arg===le)continue;return{value:Z.arg,done:be.done}}Z.type==="throw"&&(xe="completed",be.method="throw",be.arg=Z.arg)}}}(Ee,Te,V),j}function L(Ee,ye,Te){try{return{type:"normal",arg:Ee.call(ye,Te)}}catch(Ne){return{type:"throw",arg:Ne}}}A.wrap=Q;var le={};function he(){}function De(){}function ke(){}var W={};H(W,D,function(){return this});var z=Object.getPrototypeOf,oe=z&&z(z(fe([])));oe&&oe!==$&&Y.call(oe,D)&&(W=oe);var ce=ke.prototype=he.prototype=Object.create(W);function _e(Ee){["next","throw","return"].forEach(function(ye){H(Ee,ye,function(Te){return this._invoke(ye,Te)})})}function we(Ee,ye){function Te(ne,j,V,ie){var pe=L(Ee[ne],Ee,j);if(pe.type!=="throw"){var be=pe.arg,xe=be.value;return xe&&t(xe)=="object"&&Y.call(xe,"__await")?ye.resolve(xe.__await).then(function(me){Te("next",me,V,ie)},function(me){Te("throw",me,V,ie)}):ye.resolve(xe).then(function(me){be.value=me,V(be)},function(me){return Te("throw",me,V,ie)})}ie(pe.arg)}var Ne;this._invoke=function(ne,j){function V(){return new ye(function(ie,pe){Te(ne,j,ie,pe)})}return Ne=Ne?Ne.then(V,V):V()}}function Oe(Ee,ye){var Te=Ee.iterator[ye.method];if(Te===void 0){if(ye.delegate=null,ye.method==="throw"){if(Ee.iterator.return&&(ye.method="return",ye.arg=void 0,Oe(Ee,ye),ye.method==="throw"))return le;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return le}var Ne=L(Te,Ee.iterator,ye.arg);if(Ne.type==="throw")return ye.method="throw",ye.arg=Ne.arg,ye.delegate=null,le;var ne=Ne.arg;return ne?ne.done?(ye[Ee.resultName]=ne.value,ye.next=Ee.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=void 0),ye.delegate=null,le):ne:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,le)}function Le(Ee){var ye={tryLoc:Ee[0]};1 in Ee&&(ye.catchLoc=Ee[1]),2 in Ee&&(ye.finallyLoc=Ee[2],ye.afterLoc=Ee[3]),this.tryEntries.push(ye)}function Ue(Ee){var ye=Ee.completion||{};ye.type="normal",delete ye.arg,Ee.completion=ye}function de(Ee){this.tryEntries=[{tryLoc:"root"}],Ee.forEach(Le,this),this.reset(!0)}function fe(Ee){if(Ee){var ye=Ee[D];if(ye)return ye.call(Ee);if(typeof Ee.next=="function")return Ee;if(!isNaN(Ee.length)){var Te=-1,Ne=function ne(){for(;++Te<Ee.length;)if(Y.call(Ee,Te))return ne.value=Ee[Te],ne.done=!1,ne;return ne.value=void 0,ne.done=!0,ne};return Ne.next=Ne}}return{next:Se}}function Se(){return{value:void 0,done:!0}}return De.prototype=ke,H(ce,"constructor",ke),H(ke,"constructor",De),De.displayName=H(ke,B,"GeneratorFunction"),A.isGeneratorFunction=function(Ee){var ye=typeof Ee=="function"&&Ee.constructor;return!!ye&&(ye===De||(ye.displayName||ye.name)==="GeneratorFunction")},A.mark=function(Ee){return Object.setPrototypeOf?Object.setPrototypeOf(Ee,ke):(Ee.__proto__=ke,H(Ee,B,"GeneratorFunction")),Ee.prototype=Object.create(ce),Ee},A.awrap=function(Ee){return{__await:Ee}},_e(we.prototype),H(we.prototype,R,function(){return this}),A.AsyncIterator=we,A.async=function(Ee,ye,Te,Ne,ne){ne===void 0&&(ne=Promise);var j=new we(Q(Ee,ye,Te,Ne),ne);return A.isGeneratorFunction(ye)?j:j.next().then(function(V){return V.done?V.value:j.next()})},_e(ce),H(ce,B,"Generator"),H(ce,D,function(){return this}),H(ce,"toString",function(){return"[object Generator]"}),A.keys=function(Ee){var ye=[];for(var Te in Ee)ye.push(Te);return ye.reverse(),function Ne(){for(;ye.length;){var ne=ye.pop();if(ne in Ee)return Ne.value=ne,Ne.done=!1,Ne}return Ne.done=!0,Ne}},A.values=fe,de.prototype={constructor:de,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ue),!ye)for(var Te in this)Te.charAt(0)==="t"&&Y.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=void 0)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Te=this;function Ne(be,xe){return V.type="throw",V.arg=ye,Te.next=be,xe&&(Te.method="next",Te.arg=void 0),!!xe}for(var ne=this.tryEntries.length-1;ne>=0;--ne){var j=this.tryEntries[ne],V=j.completion;if(j.tryLoc==="root")return Ne("end");if(j.tryLoc<=this.prev){var ie=Y.call(j,"catchLoc"),pe=Y.call(j,"finallyLoc");if(ie&&pe){if(this.prev<j.catchLoc)return Ne(j.catchLoc,!0);if(this.prev<j.finallyLoc)return Ne(j.finallyLoc)}else if(ie){if(this.prev<j.catchLoc)return Ne(j.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return Ne(j.finallyLoc)}}}},abrupt:function(ye,Te){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var ne=this.tryEntries[Ne];if(ne.tryLoc<=this.prev&&Y.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var j=ne;break}}j&&(ye==="break"||ye==="continue")&&j.tryLoc<=Te&&Te<=j.finallyLoc&&(j=null);var V=j?j.completion:{};return V.type=ye,V.arg=Te,j?(this.method="next",this.next=j.finallyLoc,le):this.complete(V)},complete:function(ye,Te){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Te&&(this.next=Te),le},finish:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Ne=this.tryEntries[Te];if(Ne.finallyLoc===ye)return this.complete(Ne.completion,Ne.afterLoc),Ue(Ne),le}},catch:function(ye){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Ne=this.tryEntries[Te];if(Ne.tryLoc===ye){var ne=Ne.completion;if(ne.type==="throw"){var j=ne.arg;Ue(Ne)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Te,Ne){return this.delegate={iterator:fe(ye),resultName:Te,nextLoc:Ne},this.method==="next"&&(this.arg=void 0),le}},A}function c(A,$,Y,T,D,R,B){try{var H=A[R](B),Q=H.value}catch(L){Y(L);return}H.done?$(Q):Promise.resolve(Q).then(T,D)}function h(A){return function(){var $=this,Y=arguments;return new Promise(function(T,D){var R=A.apply($,Y);function B(Q){c(R,T,D,B,H,"next",Q)}function H(Q){c(R,T,D,B,H,"throw",Q)}B(void 0)})}}function _(A,$){var Y=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!Y){if(Array.isArray(A)||(Y=F(A))||$&&A&&typeof A.length=="number"){Y&&(A=Y);var T=0,D=function(){};return{s:D,n:function(){return T>=A.length?{done:!0}:{done:!1,value:A[T++]}},e:function(L){throw L},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,B=!1,H;return{s:function(){Y=Y.call(A)},n:function(){var L=Y.next();return R=L.done,L},e:function(L){B=!0,H=L},f:function(){try{!R&&Y.return!=null&&Y.return()}finally{if(B)throw H}}}}function F(A,$){if(A){if(typeof A=="string")return m(A,$);var Y=Object.prototype.toString.call(A).slice(8,-1);if(Y==="Object"&&A.constructor&&(Y=A.constructor.name),Y==="Map"||Y==="Set")return Array.from(A);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return m(A,$)}}function m(A,$){($==null||$>A.length)&&($=A.length);for(var Y=0,T=new Array($);Y<$;Y++)T[Y]=A[Y];return T}function p(A,$){var Y=Object.keys(A);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(A);$&&(T=T.filter(function(D){return Object.getOwnPropertyDescriptor(A,D).enumerable})),Y.push.apply(Y,T)}return Y}function f(A){for(var $=1;$<arguments.length;$++){var Y=arguments[$]!=null?arguments[$]:{};$%2?p(Object(Y),!0).forEach(function(T){G(A,T,Y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(Y)):p(Object(Y)).forEach(function(T){Object.defineProperty(A,T,Object.getOwnPropertyDescriptor(Y,T))})}return A}function v(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}function y(A,$){for(var Y=0;Y<$.length;Y++){var T=$[Y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function w(A,$,Y){return $&&y(A.prototype,$),Y&&y(A,Y),Object.defineProperty(A,"prototype",{writable:!1}),A}function b(A,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create($&&$.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),$&&S(A,$)}function S(A,$){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,D){return T.__proto__=D,T},S(A,$)}function x(A){var $=q();return function(){var T=P(A),D;if($){var R=P(this).constructor;D=Reflect.construct(T,arguments,R)}else D=T.apply(this,arguments);return N(this,D)}}function N(A,$){if($&&(t($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(A)}function U(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(A){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},P(A)}function G(A,$,Y){return $ in A?Object.defineProperty(A,$,{value:Y,enumerable:!0,configurable:!0,writable:!0}):A[$]=Y,A}function C(A){var $,Y,T,D=2;for(typeof Symbol<"u"&&(Y=Symbol.asyncIterator,T=Symbol.iterator);D--;){if(Y&&($=A[Y])!=null)return $.call(A);if(T&&($=A[T])!=null)return new I($.call(A));Y="@@asyncIterator",T="@@iterator"}throw new TypeError("Object is not async iterable")}function I(A){function $(Y){if(Object(Y)!==Y)return Promise.reject(new TypeError(Y+" is not an object."));var T=Y.done;return Promise.resolve(Y.value).then(function(D){return{value:D,done:T}})}return I=function(T){this.s=T,this.n=T.next},I.prototype={s:null,n:null,next:function(){return $(this.n.apply(this.s,arguments))},return:function(T){var D=this.s.return;return D===void 0?Promise.resolve({value:T,done:!0}):$(D.apply(this.s,arguments))},throw:function(T){var D=this.s.return;return D===void 0?Promise.reject(T):$(D.apply(this.s,arguments))}},new I(A)}var M=function(A){b(Y,A);var $=x(Y);function Y(T,D,R){var B;if(v(this,Y),B=$.call(this),B.widget=T,B.iframe=D,B.driver=R,G(U(B),"transport",void 0),G(U(B),"contentLoadedActionSent",!1),G(U(B),"allowedCapabilities",new Set),G(U(B),"allowedEvents",[]),G(U(B),"isStopped",!1),G(U(B),"turnServers",null),!(D!=null&&D.contentWindow))throw new Error("No iframe supplied");if(!T)throw new Error("Invalid widget");if(!R)throw new Error("Invalid driver");return B.transport=new n.PostmessageTransport(r.WidgetApiDirection.ToWidget,T.id,D.contentWindow,window),B.transport.targetOrigin=T.origin,B.transport.on("message",B.handleMessage.bind(U(B))),D.addEventListener("load",B.onIframeLoad.bind(U(B))),B.transport.start(),B}return w(Y,[{key:"hasCapability",value:function(D){return this.allowedCapabilities.has(D)}},{key:"canUseRoomTimeline",value:function(D){return this.hasCapability("org.matrix.msc2762.timeline:".concat(s.Symbols.AnyRoom))||this.hasCapability("org.matrix.msc2762.timeline:".concat(D))}},{key:"canSendRoomEvent",value:function(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.allowedEvents.some(function(B){return B.matchesAsRoomEvent(l.EventDirection.Send,D,R)})}},{key:"canSendStateEvent",value:function(D,R){return this.allowedEvents.some(function(B){return B.matchesAsStateEvent(l.EventDirection.Send,D,R)})}},{key:"canSendToDeviceEvent",value:function(D){return this.allowedEvents.some(function(R){return R.matchesAsToDeviceEvent(l.EventDirection.Send,D)})}},{key:"canReceiveRoomEvent",value:function(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.allowedEvents.some(function(B){return B.matchesAsRoomEvent(l.EventDirection.Receive,D,R)})}},{key:"canReceiveStateEvent",value:function(D,R){return this.allowedEvents.some(function(B){return B.matchesAsStateEvent(l.EventDirection.Receive,D,R)})}},{key:"canReceiveToDeviceEvent",value:function(D){return this.allowedEvents.some(function(R){return R.matchesAsToDeviceEvent(l.EventDirection.Receive,D)})}},{key:"stop",value:function(){this.isStopped=!0,this.transport.stop()}},{key:"beginCapabilities",value:function(){var D=this;this.emit("preparing");var R;this.transport.send(o.WidgetApiToWidgetAction.Capabilities,{}).then(function(B){return R=B.capabilities,D.driver.validateCapabilities(new Set(B.capabilities))}).then(function(B){console.log("Widget ".concat(D.widget.id," is allowed capabilities:"),Array.from(B)),D.allowedCapabilities=B,D.allowedEvents=l.WidgetEventCapability.findEventCapabilities(B),D.notifyCapabilities(R),D.emit("ready")})}},{key:"notifyCapabilities",value:function(D){var R=this;this.transport.send(o.WidgetApiToWidgetAction.NotifyCapabilities,{requested:D,approved:Array.from(this.allowedCapabilities)}).catch(function(B){console.warn("non-fatal error notifying widget of approved capabilities:",B)}).then(function(){R.emit("capabilitiesNotified")})}},{key:"onIframeLoad",value:function(D){this.widget.waitForIframeLoad?this.beginCapabilities():this.contentLoadedActionSent=!1}},{key:"handleContentLoadedAction",value:function(D){if(this.contentLoadedActionSent)throw new Error("Improper sequence: ContentLoaded Action can only be send once after the widget loaded and should only be used if waitForIframeLoad is false (default=true)");this.widget.waitForIframeLoad?this.transport.reply(D,{error:{message:"Improper sequence: not expecting ContentLoaded event if waitForIframLoad is true (default=true)"}}):(this.transport.reply(D,{}),this.beginCapabilities()),this.contentLoadedActionSent=!0}},{key:"replyVersions",value:function(D){this.transport.reply(D,{supported_versions:a.CurrentApiVersions})}},{key:"handleCapabilitiesRenegotiate",value:function(D){var R,B=this;this.transport.reply(D,{});var H=((R=D.data)===null||R===void 0?void 0:R.capabilities)||[],Q=new Set(H.filter(function(L){return!B.hasCapability(L)}));if(Q.size===0)return this.notifyCapabilities([]);this.driver.validateCapabilities(Q).then(function(L){L.forEach(function(he){return B.allowedCapabilities.add(he)});var le=l.WidgetEventCapability.findEventCapabilities(L);return le.forEach(function(he){return B.allowedEvents.push(he)}),B.notifyCapabilities(Array.from(Q))})}},{key:"handleNavigate",value:function(D){var R,B,H=this;if(!this.hasCapability(i.MatrixCapabilities.MSC2931Navigate))return this.transport.reply(D,{error:{message:"Missing capability"}});if(!((R=D.data)!==null&&R!==void 0&&R.uri)||!((B=D.data)!==null&&B!==void 0&&B.uri.toString().startsWith("https://matrix.to/#")))return this.transport.reply(D,{error:{message:"Invalid matrix.to URI"}});var Q=function(le){return console.error("[ClientWidgetApi] Failed to handle navigation: ",le),H.transport.reply(D,{error:{message:"Error handling navigation"}})};try{this.driver.navigate(D.data.uri.toString()).catch(function(L){return Q(L)}).then(function(){return H.transport.reply(D,{})})}catch(L){return Q(L)}}},{key:"handleOIDC",value:function(D){var R=this,B=1,H=function(he,De){return De=De||{},B>1?R.transport.send(o.WidgetApiToWidgetAction.OpenIDCredentials,f({state:he,original_request_id:D.requestId},De)):R.transport.reply(D,f({state:he},De))},Q=function(he){return console.error("[ClientWidgetApi] Failed to handle OIDC: ",he),B>1?H(u.OpenIDRequestState.Blocked):R.transport.reply(D,{error:{message:he}})},L=new d.SimpleObservable(function(le){if(le.state===u.OpenIDRequestState.PendingUserConfirmation&&B>1)return L.close(),Q("client provided out-of-phase response to OIDC flow");if(le.state===u.OpenIDRequestState.PendingUserConfirmation){H(le.state),B++;return}return le.state===u.OpenIDRequestState.Allowed&&!le.token?Q("client provided invalid OIDC token for an allowed request"):(le.state===u.OpenIDRequestState.Blocked&&(le.token=null),L.close(),H(le.state,le.token))});this.driver.askOpenID(L)}},{key:"handleReadEvents",value:function(D){var R=this;if(!D.data.type)return this.transport.reply(D,{error:{message:"Invalid request - missing event type"}});if(D.data.limit!==void 0&&(!D.data.limit||D.data.limit<0))return this.transport.reply(D,{error:{message:"Invalid request - limit out of range"}});var B=null;if(D.data.room_ids){B=D.data.room_ids,Array.isArray(B)||(B=[B]);var H=_(B),Q;try{for(H.s();!(Q=H.n()).done;){var L=Q.value;if(!this.canUseRoomTimeline(L))return this.transport.reply(D,{error:{message:"Unable to access room timeline: ".concat(L)}})}}catch(ke){H.e(ke)}finally{H.f()}}var le=D.data.limit||0,he=Promise.resolve([]);if(D.data.state_key!==void 0){var De=D.data.state_key===!0?void 0:D.data.state_key.toString();if(!this.canReceiveStateEvent(D.data.type,De))return this.transport.reply(D,{error:{message:"Cannot read state events of this type"}});he=this.driver.readStateEvents(D.data.type,De,le,B)}else{if(!this.canReceiveRoomEvent(D.data.type,D.data.msgtype))return this.transport.reply(D,{error:{message:"Cannot read room events of this type"}});he=this.driver.readRoomEvents(D.data.type,D.data.msgtype,le,B)}return he.then(function(ke){return R.transport.reply(D,{events:ke})})}},{key:"handleSendEvent",value:function(D){var R=this;if(!D.data.type)return this.transport.reply(D,{error:{message:"Invalid request - missing event type"}});if(D.data.room_id&&!this.canUseRoomTimeline(D.data.room_id))return this.transport.reply(D,{error:{message:"Unable to access room timeline: ".concat(D.data.room_id)}});var B=D.data.state_key!==null&&D.data.state_key!==void 0,H;if(B){if(!this.canSendStateEvent(D.data.type,D.data.state_key))return this.transport.reply(D,{error:{message:"Cannot send state events of this type"}});H=this.driver.sendEvent(D.data.type,D.data.content||{},D.data.state_key,D.data.room_id)}else{var Q=D.data.content||{},L=Q.msgtype;if(!this.canSendRoomEvent(D.data.type,L))return this.transport.reply(D,{error:{message:"Cannot send room events of this type"}});H=this.driver.sendEvent(D.data.type,Q,null,D.data.room_id)}H.then(function(le){return R.transport.reply(D,{room_id:le.roomId,event_id:le.eventId})}).catch(function(le){return console.error("error sending event: ",le),R.transport.reply(D,{error:{message:"Error sending event"}})})}},{key:"handleSendToDevice",value:function(){var T=h(g().mark(function R(B){return g().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(B.data.type){Q.next=5;break}return Q.next=3,this.transport.reply(B,{error:{message:"Invalid request - missing event type"}});case 3:Q.next=32;break;case 5:if(B.data.messages){Q.next=10;break}return Q.next=8,this.transport.reply(B,{error:{message:"Invalid request - missing event contents"}});case 8:Q.next=32;break;case 10:if(typeof B.data.encrypted=="boolean"){Q.next=15;break}return Q.next=13,this.transport.reply(B,{error:{message:"Invalid request - missing encryption flag"}});case 13:Q.next=32;break;case 15:if(this.canSendToDeviceEvent(B.data.type)){Q.next=20;break}return Q.next=18,this.transport.reply(B,{error:{message:"Cannot send to-device events of this type"}});case 18:Q.next=32;break;case 20:return Q.prev=20,Q.next=23,this.driver.sendToDevice(B.data.type,B.data.encrypted,B.data.messages);case 23:return Q.next=25,this.transport.reply(B,{});case 25:Q.next=32;break;case 27:return Q.prev=27,Q.t0=Q.catch(20),console.error("error sending to-device event",Q.t0),Q.next=32,this.transport.reply(B,{error:{message:"Error sending event"}});case 32:case"end":return Q.stop()}},R,this,[[20,27]])}));function D(R){return T.apply(this,arguments)}return D}()},{key:"pollTurnServers",value:function(){var T=h(g().mark(function R(B,H){var Q,L,le,he,De,ke;return g().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,this.transport.send(o.WidgetApiToWidgetAction.UpdateTurnServers,H);case 3:Q=!1,L=!1,z.prev=5,he=C(B);case 7:return z.next=9,he.next();case 9:if(!(Q=!(De=z.sent).done)){z.next=16;break}return ke=De.value,z.next=13,this.transport.send(o.WidgetApiToWidgetAction.UpdateTurnServers,ke);case 13:Q=!1,z.next=7;break;case 16:z.next=22;break;case 18:z.prev=18,z.t0=z.catch(5),L=!0,le=z.t0;case 22:if(z.prev=22,z.prev=23,!(Q&&he.return!=null)){z.next=27;break}return z.next=27,he.return();case 27:if(z.prev=27,!L){z.next=30;break}throw le;case 30:return z.finish(27);case 31:return z.finish(22);case 32:z.next=37;break;case 34:z.prev=34,z.t1=z.catch(0),console.error("error polling for TURN servers",z.t1);case 37:case"end":return z.stop()}},R,this,[[0,34],[5,18,22,32],[23,,27,31]])}));function D(R,B){return T.apply(this,arguments)}return D}()},{key:"handleWatchTurnServers",value:function(){var T=h(g().mark(function R(B){var H,Q,L,le;return g().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(this.hasCapability(i.MatrixCapabilities.MSC3846TurnServers)){De.next=5;break}return De.next=3,this.transport.reply(B,{error:{message:"Missing capability"}});case 3:De.next=30;break;case 5:if(!this.turnServers){De.next=10;break}return De.next=8,this.transport.reply(B,{});case 8:De.next=30;break;case 10:return De.prev=10,H=this.driver.getTurnServers(),De.next=14,H.next();case 14:if(Q=De.sent,L=Q.done,le=Q.value,!L){De.next=19;break}throw new Error("Client refuses to provide any TURN servers");case 19:return De.next=21,this.transport.reply(B,{});case 21:this.pollTurnServers(H,le),this.turnServers=H,De.next=30;break;case 25:return De.prev=25,De.t0=De.catch(10),console.error("error getting first TURN server results",De.t0),De.next=30,this.transport.reply(B,{error:{message:"TURN servers not available"}});case 30:case"end":return De.stop()}},R,this,[[10,25]])}));function D(R){return T.apply(this,arguments)}return D}()},{key:"handleUnwatchTurnServers",value:function(){var T=h(g().mark(function R(B){return g().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(this.hasCapability(i.MatrixCapabilities.MSC3846TurnServers)){Q.next=5;break}return Q.next=3,this.transport.reply(B,{error:{message:"Missing capability"}});case 3:Q.next=15;break;case 5:if(this.turnServers){Q.next=10;break}return Q.next=8,this.transport.reply(B,{});case 8:Q.next=15;break;case 10:return Q.next=12,this.turnServers.return(void 0);case 12:return this.turnServers=null,Q.next=15,this.transport.reply(B,{});case 15:case"end":return Q.stop()}},R,this)}));function D(R){return T.apply(this,arguments)}return D}()},{key:"handleReadRelations",value:function(){var T=h(g().mark(function R(B){var H=this,Q,L;return g().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(B.data.event_id){he.next=2;break}return he.abrupt("return",this.transport.reply(B,{error:{message:"Invalid request - missing event ID"}}));case 2:if(!(B.data.limit!==void 0&&B.data.limit<0)){he.next=4;break}return he.abrupt("return",this.transport.reply(B,{error:{message:"Invalid request - limit out of range"}}));case 4:if(!(B.data.room_id!==void 0&&!this.canUseRoomTimeline(B.data.room_id))){he.next=6;break}return he.abrupt("return",this.transport.reply(B,{error:{message:"Unable to access room timeline: ".concat(B.data.room_id)}}));case 6:return he.prev=6,he.next=9,this.driver.readEventRelations(B.data.event_id,B.data.room_id,B.data.rel_type,B.data.event_type,B.data.from,B.data.to,B.data.limit,B.data.direction);case 9:if(Q=he.sent,!Q.originalEvent){he.next=18;break}if(Q.originalEvent.state_key===void 0){he.next=16;break}if(this.canReceiveStateEvent(Q.originalEvent.type,Q.originalEvent.state_key)){he.next=14;break}return he.abrupt("return",this.transport.reply(B,{error:{message:"Cannot read state events of this type"}}));case 14:he.next=18;break;case 16:if(this.canReceiveRoomEvent(Q.originalEvent.type,Q.originalEvent.content.msgtype)){he.next=18;break}return he.abrupt("return",this.transport.reply(B,{error:{message:"Cannot read room events of this type"}}));case 18:return L=Q.chunk.filter(function(De){return De.state_key!==void 0?H.canReceiveStateEvent(De.type,De.state_key):H.canReceiveRoomEvent(De.type,De.content.msgtype)}),he.abrupt("return",this.transport.reply(B,{original_event:Q.originalEvent,chunk:L,prev_batch:Q.prevBatch,next_batch:Q.nextBatch}));case 22:return he.prev=22,he.t0=he.catch(6),console.error("error getting the relations",he.t0),he.next=27,this.transport.reply(B,{error:{message:"Unexpected error while reading relations"}});case 27:case"end":return he.stop()}},R,this,[[6,22]])}));function D(R){return T.apply(this,arguments)}return D}()},{key:"handleMessage",value:function(D){if(!this.isStopped){var R=new CustomEvent("action:".concat(D.detail.action),{detail:D.detail,cancelable:!0});if(this.emit("action:".concat(D.detail.action),R),!R.defaultPrevented)switch(D.detail.action){case o.WidgetApiFromWidgetAction.ContentLoaded:return this.handleContentLoadedAction(D.detail);case o.WidgetApiFromWidgetAction.SupportedApiVersions:return this.replyVersions(D.detail);case o.WidgetApiFromWidgetAction.SendEvent:return this.handleSendEvent(D.detail);case o.WidgetApiFromWidgetAction.SendToDevice:return this.handleSendToDevice(D.detail);case o.WidgetApiFromWidgetAction.GetOpenIDCredentials:return this.handleOIDC(D.detail);case o.WidgetApiFromWidgetAction.MSC2931Navigate:return this.handleNavigate(D.detail);case o.WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities:return this.handleCapabilitiesRenegotiate(D.detail);case o.WidgetApiFromWidgetAction.MSC2876ReadEvents:return this.handleReadEvents(D.detail);case o.WidgetApiFromWidgetAction.WatchTurnServers:return this.handleWatchTurnServers(D.detail);case o.WidgetApiFromWidgetAction.UnwatchTurnServers:return this.handleUnwatchTurnServers(D.detail);case o.WidgetApiFromWidgetAction.MSC3869ReadRelations:return this.handleReadRelations(D.detail);default:return this.transport.reply(D.detail,{error:{message:"Unknown or unsupported action: "+D.detail.action}})}}}},{key:"takeScreenshot",value:function(){return this.transport.send(o.WidgetApiToWidgetAction.TakeScreenshot,{})}},{key:"updateVisibility",value:function(D){return this.transport.send(o.WidgetApiToWidgetAction.UpdateVisibility,{visible:D})}},{key:"sendWidgetConfig",value:function(D){return this.transport.send(o.WidgetApiToWidgetAction.WidgetConfig,D).then()}},{key:"notifyModalWidgetButtonClicked",value:function(D){return this.transport.send(o.WidgetApiToWidgetAction.ButtonClicked,{id:D}).then()}},{key:"notifyModalWidgetClose",value:function(D){return this.transport.send(o.WidgetApiToWidgetAction.CloseModalWidget,D).then()}},{key:"feedEvent",value:function(){var T=h(g().mark(function R(B,H){var Q;return g().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!(B.room_id!==H&&!this.canUseRoomTimeline(B.room_id))){le.next=2;break}return le.abrupt("return");case 2:if(!(B.state_key!==void 0&&B.state_key!==null)){le.next=7;break}if(this.canReceiveStateEvent(B.type,B.state_key)){le.next=5;break}return le.abrupt("return");case 5:le.next=9;break;case 7:if(this.canReceiveRoomEvent(B.type,(Q=B.content)===null||Q===void 0?void 0:Q.msgtype)){le.next=9;break}return le.abrupt("return");case 9:return le.next=11,this.transport.send(o.WidgetApiToWidgetAction.SendEvent,B);case 11:case"end":return le.stop()}},R,this)}));function D(R,B){return T.apply(this,arguments)}return D}()},{key:"feedToDevice",value:function(){var T=h(g().mark(function R(B,H){return g().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!this.canReceiveToDeviceEvent(B.type)){L.next=3;break}return L.next=3,this.transport.send(o.WidgetApiToWidgetAction.SendToDevice,f(f({},B),{},{encrypted:H}));case 3:case"end":return L.stop()}},R,this)}));function D(R,B){return T.apply(this,arguments)}return D}()}]),Y}(e.EventEmitter);return qd.ClientWidgetApi=M,qd}var M_={},ux;function MH(){return ux||(ux=1,Object.defineProperty(M_,"__esModule",{value:!0})),M_}var N_={},cx;function NH(){return cx||(cx=1,Object.defineProperty(N_,"__esModule",{value:!0})),N_}var L_={},dx;function LH(){return dx||(dx=1,Object.defineProperty(L_,"__esModule",{value:!0})),L_}var U_={},hx;function UH(){return hx||(hx=1,Object.defineProperty(U_,"__esModule",{value:!0})),U_}var j_={},fx;function jH(){return fx||(fx=1,Object.defineProperty(j_,"__esModule",{value:!0})),j_}var h1={},gx;function $H(){if(gx)return h1;gx=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.isErrorResponse=t;function t(e){if("error"in e){var n=e;return!!n.error.message}return!1}return h1}var $_={},px;function qH(){return px||(px=1,Object.defineProperty($_,"__esModule",{value:!0})),$_}var q_={},mx;function VH(){return mx||(mx=1,Object.defineProperty(q_,"__esModule",{value:!0})),q_}var V_={},Fx;function GH(){return Fx||(Fx=1,Object.defineProperty(V_,"__esModule",{value:!0})),V_}var G_={},_x;function KH(){return _x||(_x=1,Object.defineProperty(G_,"__esModule",{value:!0})),G_}var K_={},vx;function HH(){return vx||(vx=1,Object.defineProperty(K_,"__esModule",{value:!0})),K_}var H_={},yx;function zH(){return yx||(yx=1,Object.defineProperty(H_,"__esModule",{value:!0})),H_}var z_={},bx;function WH(){return bx||(bx=1,Object.defineProperty(z_,"__esModule",{value:!0})),z_}var W_={},Ex;function YH(){return Ex||(Ex=1,Object.defineProperty(W_,"__esModule",{value:!0})),W_}var Y_={},wx;function JH(){return wx||(wx=1,Object.defineProperty(Y_,"__esModule",{value:!0})),Y_}var J_={},Dx;function XH(){return Dx||(Dx=1,Object.defineProperty(J_,"__esModule",{value:!0})),J_}var zl={},kx;function QH(){if(kx)return zl;kx=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.WidgetKind=void 0;var t;return zl.WidgetKind=t,function(e){e.Room="room",e.Account="account",e.Modal="modal"}(t||(zl.WidgetKind=t={})),zl}var Wl={},Sx;function ZH(){if(Sx)return Wl;Sx=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.ModalButtonKind=void 0;var t;return Wl.ModalButtonKind=t,function(e){e.Primary="m.primary",e.Secondary="m.secondary",e.Warning="m.warning",e.Danger="m.danger",e.Link="m.link"}(t||(Wl.ModalButtonKind=t={})),Wl}var X_={},xx;function ez(){return xx||(xx=1,Object.defineProperty(X_,"__esModule",{value:!0})),X_}var Q_={},Cx;function tz(){return Cx||(Cx=1,Object.defineProperty(Q_,"__esModule",{value:!0})),Q_}var Z_={},Tx;function nz(){return Tx||(Tx=1,Object.defineProperty(Z_,"__esModule",{value:!0})),Z_}var e2={},Ix;function rz(){return Ix||(Ix=1,Object.defineProperty(e2,"__esModule",{value:!0})),e2}var t2={},Rx;function oz(){return Rx||(Rx=1,Object.defineProperty(t2,"__esModule",{value:!0})),t2}var n2={},Ax;function iz(){return Ax||(Ax=1,Object.defineProperty(n2,"__esModule",{value:!0})),n2}var r2={},Ox;function az(){return Ox||(Ox=1,Object.defineProperty(r2,"__esModule",{value:!0})),r2}var o2={},Bx;function sz(){return Bx||(Bx=1,Object.defineProperty(o2,"__esModule",{value:!0})),o2}var i2={},Px;function lz(){return Px||(Px=1,Object.defineProperty(i2,"__esModule",{value:!0})),i2}var f1={},Mx;function BA(){if(Mx)return f1;Mx=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.isValidUrl=t;function t(e){if(!e)return!1;try{var n=new URL(e);return!(n.protocol!=="http"&&n.protocol!=="https")}catch(r){if(r instanceof TypeError)return!1;throw r}}return f1}var g1={},Nx;function PA(){if(Nx)return g1;Nx=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.assertPresent=t;function t(e,n){if(!e[n])throw new Error("".concat(n," is required"))}return g1}var Gd={},Lx;function MA(){if(Lx)return Gd;Lx=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Widget=void 0;var t=PA(),e=Lm();function n(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function r(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a,l,u){return l&&r(a.prototype,l),u&&r(a,u),Object.defineProperty(a,"prototype",{writable:!1}),a}var i=function(){function a(l){if(n(this,a),this.definition=l,!this.definition)throw new Error("Definition is required");(0,t.assertPresent)(l,"id"),(0,t.assertPresent)(l,"creatorUserId"),(0,t.assertPresent)(l,"type"),(0,t.assertPresent)(l,"url")}return o(a,[{key:"creatorUserId",get:function(){return this.definition.creatorUserId}},{key:"type",get:function(){return this.definition.type}},{key:"id",get:function(){return this.definition.id}},{key:"name",get:function(){return this.definition.name||null}},{key:"title",get:function(){return this.rawData.title||null}},{key:"templateUrl",get:function(){return this.definition.url}},{key:"origin",get:function(){return new URL(this.templateUrl).origin}},{key:"waitForIframeLoad",get:function(){return this.definition.waitForIframeLoad===!1?!1:(this.definition.waitForIframeLoad===!0,!0)}},{key:"rawData",get:function(){return this.definition.data||{}}},{key:"getCompleteUrl",value:function(u){return(0,e.runTemplate)(this.templateUrl,this.definition,u)}}]),a}();return Gd.Widget=i,Gd}var Kd={},Ux;function uz(){if(Ux)return Kd;Ux=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.WidgetParser=void 0;var t=MA(),e=BA();function n(d,s){var g=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!g){if(Array.isArray(d)||(g=r(d))||s&&d&&typeof d.length=="number"){g&&(d=g);var c=0,h=function(){};return{s:h,n:function(){return c>=d.length?{done:!0}:{done:!1,value:d[c++]}},e:function(f){throw f},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,F=!1,m;return{s:function(){g=g.call(d)},n:function(){var f=g.next();return _=f.done,f},e:function(f){F=!0,m=f},f:function(){try{!_&&g.return!=null&&g.return()}finally{if(F)throw m}}}}function r(d,s){if(d){if(typeof d=="string")return o(d,s);var g=Object.prototype.toString.call(d).slice(8,-1);if(g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set")return Array.from(d);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return o(d,s)}}function o(d,s){(s==null||s>d.length)&&(s=d.length);for(var g=0,c=new Array(s);g<s;g++)c[g]=d[g];return c}function i(d,s){if(!(d instanceof s))throw new TypeError("Cannot call a class as a function")}function a(d,s){for(var g=0;g<s.length;g++){var c=s[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}function l(d,s,g){return s&&a(d.prototype,s),g&&a(d,g),Object.defineProperty(d,"prototype",{writable:!1}),d}var u=function(){function d(){i(this,d)}return l(d,null,[{key:"parseAccountData",value:function(g){if(!g)return[];for(var c=[],h=0,_=Object.keys(g);h<_.length;h++){var F=_[h],m=g[F];if(m&&!(m.type!=="m.widget"&&m.type!=="im.vector.modular.widgets")&&m.sender){var p=m.state_key||m.id;if(p===F){var f={content:m.content,sender:m.sender,type:"m.widget",state_key:F,event_id:"$example",room_id:"!example",origin_server_ts:1},v=d.parseRoomWidget(f);v&&c.push(v)}}}return c}},{key:"parseWidgetsFromRoomState",value:function(g){if(!g)return[];var c=[],h=n(g),_;try{for(h.s();!(_=h.n()).done;){var F=_.value,m=d.parseRoomWidget(F);m&&c.push(m)}}catch(p){h.e(p)}finally{h.f()}return c}},{key:"parseRoomWidget",value:function(g){if(!g||g.type!=="m.widget"&&g.type!=="im.vector.modular.widgets")return null;var c=g.content||{},h={id:g.state_key,creatorUserId:c.creatorUserId||g.sender,name:c.name,type:c.type,url:c.url,waitForIframeLoad:c.waitForIframeLoad,data:c.data};return d.processEstimatedWidget(h)}},{key:"processEstimatedWidget",value:function(g){return!g.id||!g.creatorUserId||!g.type||!(0,e.isValidUrl)(g.url)?null:new t.Widget(g)}}]),d}();return Kd.WidgetParser=u,Kd}var Hd={},jx;function cz(){if(jx)return Hd;jx=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.runTemplate=t,Hd.toString=e;function t(n,r,o){for(var i=Object.assign({},r.data,{matrix_room_id:o.widgetRoomId||"",matrix_user_id:o.currentUserId,matrix_display_name:o.userDisplayName||o.currentUserId,matrix_avatar_url:o.userHttpAvatarUrl||"",matrix_widget_id:r.id,"org.matrix.msc2873.client_id":o.clientId||"","org.matrix.msc2873.client_theme":o.clientTheme||"","org.matrix.msc2873.client_language":o.clientLanguage||""}),a=n,l=0,u=Object.keys(i);l<u.length;l++){var d=u[l],s="$".concat(d).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),g=new RegExp(s,"g");a=a.replace(g,encodeURIComponent(e(i[d])))}return a}function e(n){return n==null?"".concat(n):n.toString()}return Hd}var zd={},$x;function dz(){if($x)return zd;$x=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.WidgetDriver=void 0;var t=Lm();function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function n(i,a){for(var l=0;l<a.length;l++){var u=a[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}function r(i,a,l){return a&&n(i.prototype,a),l&&n(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i}var o=function(){function i(){e(this,i)}return r(i,[{key:"validateCapabilities",value:function(l){return Promise.resolve(new Set)}},{key:"sendEvent",value:function(l,u){return Promise.reject(new Error("Failed to override function"))}},{key:"sendToDevice",value:function(l,u,d){return Promise.reject(new Error("Failed to override function"))}},{key:"readRoomEvents",value:function(l,u,d){return Promise.resolve([])}},{key:"readStateEvents",value:function(l,u,d){return Promise.resolve([])}},{key:"readEventRelations",value:function(l,u,d,s,g,c,h,_){return Promise.resolve({chunk:[]})}},{key:"askOpenID",value:function(l){l.update({state:t.OpenIDRequestState.Blocked})}},{key:"navigate",value:function(l){throw new Error("Navigation is not implemented")}},{key:"getTurnServers",value:function(){throw new Error("TURN server support is not implemented")}}]),i}();return zd.WidgetDriver=o,zd}var qx;function Lm(){return qx||(qx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=BH();Object.keys(e).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===e[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return e[W]}})});var n=PH();Object.keys(n).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===n[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return n[W]}})});var r=oE();Object.keys(r).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===r[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return r[W]}})});var o=MH();Object.keys(o).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===o[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return o[W]}})});var i=eE();Object.keys(i).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===i[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return i[W]}})});var a=NH();Object.keys(a).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===a[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return a[W]}})});var l=LH();Object.keys(l).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===l[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return l[W]}})});var u=UH();Object.keys(u).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===u[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return u[W]}})});var d=jH();Object.keys(d).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===d[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return d[W]}})});var s=IA();Object.keys(s).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===s[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return s[W]}})});var g=$H();Object.keys(g).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===g[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return g[W]}})});var c=qH();Object.keys(c).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===c[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return c[W]}})});var h=VH();Object.keys(h).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===h[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return h[W]}})});var _=tE();Object.keys(_).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===_[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return _[W]}})});var F=Q3();Object.keys(F).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===F[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return F[W]}})});var m=Z3();Object.keys(m).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===m[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return m[W]}})});var p=AA();Object.keys(p).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===p[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return p[W]}})});var f=GH();Object.keys(f).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===f[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return f[W]}})});var v=KH();Object.keys(v).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===v[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return v[W]}})});var y=HH();Object.keys(y).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===y[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return y[W]}})});var w=zH();Object.keys(w).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===w[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return w[W]}})});var b=WH();Object.keys(b).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===b[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return b[W]}})});var S=YH();Object.keys(S).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===S[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return S[W]}})});var x=JH();Object.keys(x).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===x[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return x[W]}})});var N=nE();Object.keys(N).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===N[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return N[W]}})});var U=XH();Object.keys(U).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===U[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return U[W]}})});var q=QH();Object.keys(q).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===q[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return q[W]}})});var P=ZH();Object.keys(P).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===P[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return P[W]}})});var G=RA();Object.keys(G).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===G[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return G[W]}})});var C=ez();Object.keys(C).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===C[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return C[W]}})});var I=tz();Object.keys(I).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===I[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return I[W]}})});var M=nz();Object.keys(M).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===M[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return M[W]}})});var A=rz();Object.keys(A).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===A[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return A[W]}})});var $=oz();Object.keys($).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===$[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return $[W]}})});var Y=iz();Object.keys(Y).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===Y[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return Y[W]}})});var T=az();Object.keys(T).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===T[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return T[W]}})});var D=sz();Object.keys(D).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===D[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return D[W]}})});var R=lz();Object.keys(R).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===R[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return R[W]}})});var B=rE();Object.keys(B).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===B[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return B[W]}})});var H=BA();Object.keys(H).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===H[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return H[W]}})});var Q=PA();Object.keys(Q).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===Q[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return Q[W]}})});var L=MA();Object.keys(L).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===L[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return L[W]}})});var le=uz();Object.keys(le).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===le[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return le[W]}})});var he=cz();Object.keys(he).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===he[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return he[W]}})});var De=OA();Object.keys(De).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===De[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return De[W]}})});var ke=dz();Object.keys(ke).forEach(function(W){W==="default"||W==="__esModule"||W in t&&t[W]===ke[W]||Object.defineProperty(t,W,{enumerable:!0,get:function(){return ke[W]}})})}(P_)),P_}var hz=ze.exports;Object.defineProperty(Nm,"__esModule",{value:!0});Nm.RoomWidgetClient=void 0;var Yl=hz(Je()),Wd=Lm(),Yd=Kn(),fz=et,Jl=lt(),Xl=Mo(),p1=Im(),gz=kA(),pz=so;class mz extends Xl.MatrixClient{constructor(e,n,r,o){var i,a,l,u,d,s,g,c,h,_;super(o),this.widgetApi=e,this.capabilities=n,this.roomId=r,(0,Yl.default)(this,"room",void 0),(0,Yl.default)(this,"widgetApiReady",new Promise(F=>this.widgetApi.once("ready",F))),(0,Yl.default)(this,"lifecycle",void 0),(0,Yl.default)(this,"syncState",null),(0,Yl.default)(this,"onEvent",async F=>{if(F.preventDefault(),F.detail.data.room_id===this.roomId){const m=new Yd.MatrixEvent(F.detail.data);await this.syncApi.injectRoomEvents(this.room,[],[m]),this.emit(Xl.ClientEvent.Event,m),this.setSyncState(p1.SyncState.Syncing),Jl.logger.info(`Received event ${m.getId()} ${m.getType()} ${m.getStateKey()}`)}else{const{event_id:m,room_id:p}=F.detail.data;Jl.logger.info(`Received event ${m} for a different room ${p}; discarding`)}await this.ack(F)}),(0,Yl.default)(this,"onToDevice",async F=>{F.preventDefault();const m=new Yd.MatrixEvent({type:F.detail.data.type,sender:F.detail.data.sender,content:F.detail.data.content});F.detail.data.encrypted&&m.makeEncrypted(fz.EventType.RoomMessageEncrypted,{},"",""),this.emit(Xl.ClientEvent.ToDeviceEvent,m),this.setSyncState(p1.SyncState.Syncing),await this.ack(F)}),((i=n.sendEvent)!==null&&i!==void 0&&i.length||(a=n.receiveEvent)!==null&&a!==void 0&&a.length||n.sendMessage===!0||Array.isArray(n.sendMessage)&&n.sendMessage.length||n.receiveMessage===!0||Array.isArray(n.receiveMessage)&&n.receiveMessage.length||(l=n.sendState)!==null&&l!==void 0&&l.length||(u=n.receiveState)!==null&&u!==void 0&&u.length)&&e.requestCapabilityForRoomTimeline(r),(d=n.sendEvent)===null||d===void 0||d.forEach(F=>e.requestCapabilityToSendEvent(F)),(s=n.receiveEvent)===null||s===void 0||s.forEach(F=>e.requestCapabilityToReceiveEvent(F)),n.sendMessage===!0?e.requestCapabilityToSendMessage():Array.isArray(n.sendMessage)&&n.sendMessage.forEach(F=>e.requestCapabilityToSendMessage(F)),n.receiveMessage===!0?e.requestCapabilityToReceiveMessage():Array.isArray(n.receiveMessage)&&n.receiveMessage.forEach(F=>e.requestCapabilityToReceiveMessage(F)),(g=n.sendState)===null||g===void 0||g.forEach(({eventType:F,stateKey:m})=>e.requestCapabilityToSendState(F,m)),(c=n.receiveState)===null||c===void 0||c.forEach(({eventType:F,stateKey:m})=>e.requestCapabilityToReceiveState(F,m)),(h=n.sendToDevice)===null||h===void 0||h.forEach(F=>e.requestCapabilityToSendToDevice(F)),(_=n.receiveToDevice)===null||_===void 0||_.forEach(F=>e.requestCapabilityToReceiveToDevice(F)),n.turnServers&&e.requestCapability(Wd.MatrixCapabilities.MSC3846TurnServers),e.on(`action:${Wd.WidgetApiToWidgetAction.SendEvent}`,this.onEvent),e.on(`action:${Wd.WidgetApiToWidgetAction.SendToDevice}`,this.onToDevice),e.start()}async startClient(e={}){var n,r;this.lifecycle=new AbortController;const o=this.getUserId();o&&this.store.storeUser(new pz.User(o)),e.slidingSync?this.syncApi=new gz.SlidingSyncSdk(e.slidingSync,this,e):this.syncApi=new p1.SyncApi(this,e),this.room=this.syncApi.createRoom(this.roomId),this.store.storeRoom(this.room),await this.widgetApiReady,await Promise.all((n=(r=this.capabilities.receiveState)===null||r===void 0?void 0:r.map(async({eventType:i,stateKey:a})=>{const u=(await this.widgetApi.readStateEvents(i,void 0,a,[this.roomId])).map(d=>new Yd.MatrixEvent(d));await this.syncApi.injectRoomEvents(this.room,[],u),u.forEach(d=>{this.emit(Xl.ClientEvent.Event,d),Jl.logger.info(`Backfilled event ${d.getId()} ${d.getType()} ${d.getStateKey()}`)})}))!==null&&n!==void 0?n:[]),this.setSyncState(p1.SyncState.Syncing),Jl.logger.info("Finished backfilling events"),this.capabilities.turnServers&&this.watchTurnServers()}stopClient(){this.widgetApi.off(`action:${Wd.WidgetApiToWidgetAction.SendEvent}`,this.onEvent),this.widgetApi.off(`action:${Wd.WidgetApiToWidgetAction.SendToDevice}`,this.onToDevice),super.stopClient(),this.lifecycle.abort()}async joinRoom(e){if(e===this.roomId)return this.room;throw new Error(`Unknown room: ${e}`)}async encryptAndSendEvent(e,n){let r;try{r=await this.widgetApi.sendRoomEvent(n.getType(),n.getContent(),e.roomId)}catch(o){throw this.updatePendingEventStatus(e,n,Yd.EventStatus.NOT_SENT),o}return e.updatePendingEvent(n,Yd.EventStatus.SENT,r.event_id),{event_id:r.event_id}}async sendStateEvent(e,n,r,o=""){return await this.widgetApi.sendStateEvent(n,o,r,e)}async sendToDevice(e,n){return await this.widgetApi.sendToDevice(e,!1,n),{}}async queueToDevice({eventType:e,batch:n}){const r={};for(const{userId:o,deviceId:i,payload:a}of n)r[o]||(r[o]={}),r[o][i]=a;await this.widgetApi.sendToDevice(e,!1,r)}async encryptAndSendToDevices(e,n){const r={};for(const{userId:o,deviceInfo:{deviceId:i}}of e)r[o]||(r[o]={}),r[o][i]=n;await this.widgetApi.sendToDevice(n.type,!0,r)}async checkTurnServers(){return this.turnServers.length>0}getSyncState(){return this.syncState}setSyncState(e){const n=this.syncState;this.syncState=e,this.emit(Xl.ClientEvent.Sync,e,n)}async ack(e){await this.widgetApi.transport.reply(e.detail,{})}async watchTurnServers(){const e=this.widgetApi.getTurnServers(),n=()=>{e.return(void 0)};this.lifecycle.signal.addEventListener("abort",n);try{for await(const r of e)this.turnServers=[{urls:r.uris,username:r.username,credential:r.password}],this.emit(Xl.ClientEvent.TurnServers,this.turnServers),Jl.logger.log(`Received TURN server: ${r.uris}`)}catch(r){Jl.logger.warn("Error watching TURN servers",r)}finally{this.lifecycle.signal.removeEventListener("abort",n)}}}Nm.RoomWidgetClient=mz;var Ha={},Fz=ze.exports;Object.defineProperty(Ha,"__esModule",{value:!0});Ha.SyncAccumulator=Ha.Category=void 0;var Fh=Fz(Je()),_z=lt(),Vx=tt,Gx=et,vz=xc(),Kx=Cm();function Hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hx(Object(n),!0).forEach(function(r){(0,Fh.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}let Oi;Ha.Category=Oi;(function(t){t.Invite="invite",t.Leave="leave",t.Join="join"})(Oi||(Ha.Category=Oi={}));class yz{constructor(e={}){this.opts=e,(0,Fh.default)(this,"accountData",{}),(0,Fh.default)(this,"inviteRooms",{}),(0,Fh.default)(this,"joinRooms",{}),(0,Fh.default)(this,"nextBatch",null),this.opts.maxTimelineEntries=this.opts.maxTimelineEntries||50}accumulate(e,n=!1){this.accumulateRooms(e,n),this.accumulateAccountData(e),this.nextBatch=e.next_batch}accumulateAccountData(e){!e.account_data||!e.account_data.events||e.account_data.events.forEach(n=>{this.accountData[n.type]=n})}accumulateRooms(e,n=!1){e.rooms&&(e.rooms.invite&&Object.keys(e.rooms.invite).forEach(r=>{this.accumulateRoom(r,Oi.Invite,e.rooms.invite[r],n)}),e.rooms.join&&Object.keys(e.rooms.join).forEach(r=>{this.accumulateRoom(r,Oi.Join,e.rooms.join[r],n)}),e.rooms.leave&&Object.keys(e.rooms.leave).forEach(r=>{this.accumulateRoom(r,Oi.Leave,e.rooms.leave[r],n)}))}accumulateRoom(e,n,r,o=!1){switch(n){case Oi.Invite:this.accumulateInviteState(e,r);break;case Oi.Join:this.inviteRooms[e]&&delete this.inviteRooms[e],this.accumulateJoinState(e,r,o);break;case Oi.Leave:this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:_z.logger.error("Unknown cateogory: ",n)}}accumulateInviteState(e,n){if(!n.invite_state||!n.invite_state.events)return;if(!this.inviteRooms[e]){this.inviteRooms[e]={invite_state:n.invite_state};return}const r=this.inviteRooms[e];n.invite_state.events.forEach(o=>{let i=!1;for(let a=0;a<r.invite_state.events.length;a++){const l=r.invite_state.events[a];l.type===o.type&&l.state_key==o.state_key&&(r.invite_state.events[a]=o,i=!0)}i||r.invite_state.events.push(o)})}accumulateJoinState(e,n,r=!1){var o,i,a,l;this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_unreadThreadNotifications:{},_summary:{},_readReceipts:{},_threadReadReceipts:{}});const u=this.joinRooms[e];if(n.account_data&&n.account_data.events&&n.account_data.events.forEach(d=>{u._accountData[d.type]=d}),n.unread_notifications&&(u._unreadNotifications=n.unread_notifications),u._unreadThreadNotifications=(o=(i=n[Kx.UNREAD_THREAD_NOTIFICATIONS.stable])!==null&&i!==void 0?i:n[Kx.UNREAD_THREAD_NOTIFICATIONS.unstable])!==null&&o!==void 0?o:void 0,n.summary){const d="m.heroes",s="m.invited_member_count",g="m.joined_member_count",c=u._summary,h=n.summary;c[d]=h[d]||c[d],c[g]=h[g]||c[g],c[s]=h[s]||c[s]}if((a=n.ephemeral)===null||a===void 0||(l=a.events)===null||l===void 0||l.forEach(d=>{d.type!==Gx.EventType.Receipt||!d.content||Object.keys(d.content).forEach(s=>{Object.entries(d.content[s]).forEach(([g,c])=>{if((0,Vx.isSupportedReceiptType)(g))for(const _ of Object.keys(c)){const F=d.content[s][g][_],m={data:d.content[s][g][_],type:g,eventId:s};if(!F.thread_id||F.thread_id===vz.MAIN_ROOM_TIMELINE)u._readReceipts[_]=m;else{var h;u._threadReadReceipts=m1(m1({},u._threadReadReceipts),{},{[F.thread_id]:m1(m1({},(h=u._threadReadReceipts[F.thread_id])!==null&&h!==void 0?h:{}),{},{[_]:m})})}}})})}),n.timeline&&n.timeline.limited&&(u._timeline=[]),n.state&&n.state.events&&n.state.events.forEach(d=>{a2(u._currentState,d)}),n.timeline&&n.timeline.events&&n.timeline.events.forEach((d,s)=>{var g;a2(u._currentState,d);let c;if(r)c=d;else{c=Object.assign({},d),c.unsigned!==void 0&&(c.unsigned=Object.assign({},c.unsigned));const h=d.unsigned?d.unsigned.age:d.age;h!==void 0&&(c._localTs=Date.now()-h)}u._timeline.push({event:c,token:s===0&&(g=n.timeline.prev_batch)!==null&&g!==void 0?g:null})}),u._timeline.length>this.opts.maxTimelineEntries){const d=u._timeline.length-this.opts.maxTimelineEntries;for(let s=d;s<u._timeline.length;s++)if(u._timeline[s].token){u._timeline=u._timeline.slice(s,u._timeline.length);break}}}getJSON(e=!1){const n={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach(o=>{n.invite[o]=this.inviteRooms[o]}),Object.keys(this.joinRooms).forEach(o=>{const i=this.joinRooms[o],a={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:i._unreadNotifications,unread_thread_notifications:i._unreadThreadNotifications,summary:i._summary};Object.keys(i._accountData).forEach(d=>{a.account_data.events.push(i._accountData[d])});const l={type:Gx.EventType.Receipt,room_id:o,content:{}};for(const[d,s]of Object.entries(i._readReceipts))l.content[s.eventId]||(l.content[s.eventId]={}),l.content[s.eventId][s.type]||(l.content[s.eventId][s.type]={}),l.content[s.eventId][s.type][d]=s.data;for(const d of Object.values(i._threadReadReceipts))for(const[s,g]of Object.entries(d))l.content[g.eventId]||(l.content[g.eventId]={}),l.content[g.eventId][g.type]||(l.content[g.eventId][g.type]={}),l.content[g.eventId][g.type][s]=g.data;Object.keys(l.content).length>0&&a.ephemeral.events.push(l),i._timeline.forEach(d=>{if(!a.timeline.prev_batch){if(!d.token)return;a.timeline.prev_batch=d.token}let s;!e&&d.event._localTs?(s=Object.assign({},d.event),s.unsigned!==void 0&&(s.unsigned=Object.assign({},s.unsigned)),delete s._localTs,s.unsigned=s.unsigned||{},s.unsigned.age=Date.now()-d.event._localTs):s=d.event,a.timeline.events.push(s)});const u=Object.create(null);for(let d=a.timeline.events.length-1;d>=0;d--){const s=a.timeline.events[d];if(s.state_key===null||s.state_key===void 0)continue;const g=(0,Vx.deepCopy)(s);g.unsigned&&(g.unsigned.prev_content&&(g.content=g.unsigned.prev_content),g.unsigned.prev_sender&&(g.sender=g.unsigned.prev_sender)),a2(u,g)}Object.keys(i._currentState).forEach(d=>{Object.keys(i._currentState[d]).forEach(s=>{let g=i._currentState[d][s];u[d]&&u[d][s]&&(g=u[d][s]),a.state.events.push(g)})}),n.join[o]=a});const r=[];return Object.keys(this.accountData).forEach(o=>{r.push(this.accountData[o])}),{nextBatch:this.nextBatch,roomsData:n,accountData:r}}getNextBatchToken(){return this.nextBatch}}Ha.SyncAccumulator=yz;function a2(t,e){e.state_key===null||e.state_key===void 0||!e.type||(t[e.type]||(t[e.type]=Object.create(null)),t[e.type][e.state_key]=e)}var ec={},bz=ze.exports;Object.defineProperty(ec,"__esModule",{value:!0});ec.TimelineWindow=ec.TimelineIndex=void 0;var _h=bz(Je()),Ii=Oo();lt();const zx=function(){},Ez=5;class wz{constructor(e,n,r={}){this.client=e,this.timelineSet=n,(0,_h.default)(this,"windowLimit",void 0),(0,_h.default)(this,"start",void 0),(0,_h.default)(this,"end",void 0),(0,_h.default)(this,"eventCount",0),this.windowLimit=r.windowLimit||1e3}load(e,n=20){const r=o=>{if(!o)throw new Error("No timeline given to initFields");let i;const a=o.getEvents();if(!e)i=a.length;else if(i=a.findIndex(d=>d.getId()===e),i<0)throw new Error("getEventTimeline result didn't include requested event");const l=Math.min(a.length,i+Math.ceil(n/2)),u=Math.max(0,l-n);this.start=new sy(o,u-o.getBaseIndex()),this.end=new sy(o,l-o.getBaseIndex()),this.eventCount=l-u};return this.timelineSet.getTimelineForEvent(e)?(r(this.timelineSet.getTimelineForEvent(e)),Promise.resolve()):e?this.client.getEventTimeline(this.timelineSet,e).then(r):(r(this.timelineSet.getLiveTimeline()),Promise.resolve())}getTimelineIndex(e){if(e==Ii.EventTimeline.BACKWARDS){var n;return(n=this.start)!==null&&n!==void 0?n:null}else if(e==Ii.EventTimeline.FORWARDS){var r;return(r=this.end)!==null&&r!==void 0?r:null}else throw new Error("Invalid direction '"+e+"'")}extend(e,n){const r=this.getTimelineIndex(e);if(!r)return!1;const o=e==Ii.EventTimeline.BACKWARDS?r.retreat(n):r.advance(n);if(o){this.eventCount+=o,zx("TimelineWindow: increased cap by "+o+" (now "+this.eventCount+")");const i=this.eventCount-this.windowLimit;return i>0&&this.unpaginate(i,e!=Ii.EventTimeline.BACKWARDS),!0}return!1}canPaginate(e){const n=this.getTimelineIndex(e);if(!n)return!1;if(e==Ii.EventTimeline.BACKWARDS){if(n.index>n.minIndex())return!0}else if(n.index<n.maxIndex())return!0;const r=n.timeline.getNeighbouringTimeline(e),o=n.timeline.getPaginationToken(e);return Boolean(r)||Boolean(o)}async paginate(e,n,r=!0,o=Ez){const i=this.getTimelineIndex(e);if(!i)return!1;if(i.pendingPaginate)return i.pendingPaginate;if(this.extend(e,n))return!0;if(!r||o===0||!i.timeline.getPaginationToken(e))return!1;const l=this.client.paginateEventTimeline(i.timeline,{backwards:e==Ii.EventTimeline.BACKWARDS,limit:n}).finally(function(){i.pendingPaginate=void 0}).then(u=>u?this.paginate(e,n,!0,o-1):this.paginate(e,n,!1,0));return i.pendingPaginate=l,l}unpaginate(e,n){const r=n?this.start:this.end;if(!r)throw new Error(`Attempting to unpaginate startOfTimeline=${n} but don't have this direction`);if(e>this.eventCount||e<0)throw new Error(`Attemting to unpaginate ${e} events, but only have ${this.eventCount} in the timeline`);for(;e>0;){const o=n?r.advance(e):r.retreat(e);if(o<=0)throw new Error("Unable to unpaginate any further, but still have "+this.eventCount+" events");e-=o,this.eventCount-=o,zx("TimelineWindow.unpaginate: dropped "+o+" (now "+this.eventCount+")")}}getEvents(){if(!this.start)return[];const e=[];let n=this.start.timeline;for(;;){var r,o;const i=n.getEvents();let a=0,l=i.length;n===this.start.timeline&&(a=this.start.index+n.getBaseIndex()),n===((r=this.end)===null||r===void 0?void 0:r.timeline)&&(l=this.end.index+n.getBaseIndex());for(let u=a;u<l;u++)e.push(i[u]);if(n===((o=this.end)===null||o===void 0?void 0:o.timeline))break;n=n.getNeighbouringTimeline(Ii.EventTimeline.FORWARDS)}return e}}ec.TimelineWindow=wz;class sy{constructor(e,n){this.timeline=e,this.index=n,(0,_h.default)(this,"pendingPaginate",void 0)}minIndex(){return this.timeline.getBaseIndex()*-1}maxIndex(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()}advance(e){if(!e)return 0;let n;if(e<0){if(n=Math.max(e,this.minIndex()-this.index),n<0)return this.index+=n,n}else if(n=Math.min(e,this.maxIndex()-this.index),n>0)return this.index+=n,n;const r=this.timeline.getNeighbouringTimeline(e<0?Ii.EventTimeline.BACKWARDS:Ii.EventTimeline.FORWARDS);return r?(this.timeline=r,e<0?this.index=this.maxIndex():this.index=this.minIndex(),this.advance(e)):0}retreat(e){return this.advance(e*-1)*-1}}ec.TimelineIndex=sy;var rl={},Dz=ze.exports;Object.defineProperty(rl,"__esModule",{value:!0});rl.InteractiveAuth=rl.AuthType=void 0;var Dn=Dz(Je()),Ql=lt(),kz=tt;const Jd="m.login.email.identity",Wx="m.login.msisdn";let Df;rl.AuthType=Df;(function(t){t.Password="m.login.password",t.Recaptcha="m.login.recaptcha",t.Terms="m.login.terms",t.Email="m.login.email.identity",t.Msisdn="m.login.msisdn",t.Sso="m.login.sso",t.SsoUnstable="org.matrix.login.sso",t.Dummy="m.login.dummy",t.RegistrationToken="m.login.registration_token",t.UnstableRegistrationToken="org.matrix.msc3231.login.registration_token"})(Df||(rl.AuthType=Df={}));class Sz extends Error{constructor(e,n,r){super(e),this.required_stages=n,this.flows=r,(0,Dn.default)(this,"name","NoAuthFlowFoundError")}}class xz{constructor(e){(0,Dn.default)(this,"matrixClient",void 0),(0,Dn.default)(this,"inputs",void 0),(0,Dn.default)(this,"clientSecret",void 0),(0,Dn.default)(this,"requestCallback",void 0),(0,Dn.default)(this,"busyChangedCallback",void 0),(0,Dn.default)(this,"stateUpdatedCallback",void 0),(0,Dn.default)(this,"requestEmailTokenCallback",void 0),(0,Dn.default)(this,"data",void 0),(0,Dn.default)(this,"emailSid",void 0),(0,Dn.default)(this,"requestingEmailToken",!1),(0,Dn.default)(this,"attemptAuthDeferred",null),(0,Dn.default)(this,"chosenFlow",null),(0,Dn.default)(this,"currentStage",null),(0,Dn.default)(this,"emailAttempt",1),(0,Dn.default)(this,"submitPromise",null),(0,Dn.default)(this,"requestEmailToken",async()=>{if(this.requestingEmailToken)Ql.logger.warn("Could not request email token: Already requesting");else{Ql.logger.trace("Requesting email token. Attempt: "+this.emailAttempt),this.requestingEmailToken=!0;try{const n=await this.requestEmailTokenCallback(this.inputs.emailAddress,this.clientSecret,this.emailAttempt++,this.data.session);this.emailSid=n.sid,Ql.logger.trace("Email token request succeeded")}finally{this.requestingEmailToken=!1}}}),this.matrixClient=e.matrixClient,this.data=e.authData||{},this.requestCallback=e.doRequest,this.busyChangedCallback=e.busyChanged,this.stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this.requestEmailTokenCallback=e.requestEmailToken,this.inputs=e.inputs||{},e.sessionId&&(this.data.session=e.sessionId),this.clientSecret=e.clientSecret||this.matrixClient.generateClientSecret(),this.emailSid=e.emailSid}attemptAuth(){var e;this.attemptAuthDeferred=(0,kz.defer)();const n=this.attemptAuthDeferred.promise;if((e=this.data)!==null&&e!==void 0&&e.flows)this.startNextAuthStage();else{var r;(r=this.busyChangedCallback)===null||r===void 0||r.call(this,!0);const o=this.data.session?{session:this.data.session}:null;this.doRequest(o).finally(()=>{var i;(i=this.busyChangedCallback)===null||i===void 0||i.call(this,!1)})}return n}async poll(){if(!this.data.session||!this.attemptAuthDeferred||this.submitPromise)return;let e={};if(this.currentStage==Jd&&this.emailSid){const n={sid:this.emailSid,client_secret:this.clientSecret};if(await this.matrixClient.doesServerRequireIdServerParam()){const r=new URL(this.matrixClient.getIdentityServerUrl());n.id_server=r.host}e={type:Jd,threepid_creds:n,threepidCreds:n}}this.submitAuthDict(e,!0)}getSessionId(){var e;return(e=this.data)===null||e===void 0?void 0:e.session}getClientSecret(){return this.clientSecret}getStageParams(e){var n;return(n=this.data.params)===null||n===void 0?void 0:n[e]}getChosenFlow(){return this.chosenFlow}async submitAuthDict(e,n=!1){if(!this.attemptAuthDeferred)throw new Error("submitAuthDict() called before attemptAuth()");if(!n){var r;(r=this.busyChangedCallback)===null||r===void 0||r.call(this,!0)}for(;this.submitPromise;)try{await this.submitPromise}catch{}let o;this.data.session?(o={session:this.data.session},Object.assign(o,e)):o=e;try{this.submitPromise=this.doRequest(o,n),await this.submitPromise}finally{if(this.submitPromise=null,!n){var i;(i=this.busyChangedCallback)===null||i===void 0||i.call(this,!1)}}}getEmailSid(){return this.emailSid}setEmailSid(e){this.emailSid=e}async doRequest(e,n=!1){try{const l=await this.requestCallback(e,n);this.attemptAuthDeferred.resolve(l),this.attemptAuthDeferred=null}catch(l){var r,o,i;const u=(r=(o=l.data)===null||o===void 0?void 0:o.flows)!==null&&r!==void 0?r:null,d=this.data.flows||Boolean(u);if(l.httpStatus!==401||!l.data||!d)if(n)Ql.logger.log("Background poll request failed doing UI auth: ignoring",l);else{var a;(a=this.attemptAuthDeferred)===null||a===void 0||a.reject(l)}l.data||(l.data={}),!l.data.flows&&!l.data.completed&&!l.data.session&&(l.data.flows=this.data.flows,l.data.completed=this.data.completed,l.data.session=this.data.session),this.data=l.data;try{this.startNextAuthStage()}catch(s){this.attemptAuthDeferred.reject(s),this.attemptAuthDeferred=null;return}if(!this.emailSid&&(i=this.chosenFlow)!==null&&i!==void 0&&i.stages.includes(Df.Email))try{await this.requestEmailToken()}catch(s){this.attemptAuthDeferred.reject(s),this.attemptAuthDeferred=null}}}startNextAuthStage(){var e,n;const r=this.chooseStage();if(!r)throw new Error("No incomplete flows from the server");if(this.currentStage=r,r===Df.Dummy){this.submitAuthDict({type:"m.login.dummy"});return}if((e=this.data)!==null&&e!==void 0&&e.errcode||(n=this.data)!==null&&n!==void 0&&n.error){var o,i;this.stateUpdatedCallback(r,{errcode:((o=this.data)===null||o===void 0?void 0:o.errcode)||"",error:((i=this.data)===null||i===void 0?void 0:i.error)||""});return}this.stateUpdatedCallback(r,r===Jd?{emailSid:this.emailSid}:{})}chooseStage(){this.chosenFlow===null&&(this.chosenFlow=this.chooseFlow()),Ql.logger.log("Active flow => %s",JSON.stringify(this.chosenFlow));const e=this.firstUncompletedStage(this.chosenFlow);return Ql.logger.log("Next stage: %s",e),e}chooseFlow(){const e=this.data.flows||[],n=Boolean(this.inputs.emailAddress)||Boolean(this.emailSid),r=Boolean(this.inputs.phoneCountry)&&Boolean(this.inputs.phoneNumber);for(const i of e){let a=!1,l=!1;for(const u of i.stages)u===Jd?a=!0:u==Wx&&(l=!0);if(a==n&&l==r)return i}const o=[];throw n&&o.push(Jd),r&&o.push(Wx),new Sz("No appropriate authentication flow found",o,e)}firstUncompletedStage(e){const n=this.data.completed||[];return e.stages.find(r=>!n.includes(r))}}rl.InteractiveAuth=xz;var Um={},Xd={},Yx;function Cz(){if(Yx)return Xd;Yx=1;var t=ze.exports;Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.LocalIndexedDBStoreBackend=void 0;var e=t(Je()),n=Ha,r=l(tt),o=l(pA()),i=lt();function a(m){if(typeof WeakMap!="function")return null;var p=new WeakMap,f=new WeakMap;return(a=function(v){return v?f:p})(m)}function l(m,p){if(!p&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var f=a(p);if(f&&f.has(m))return f.get(m);var v={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in m)if(w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)){var b=y?Object.getOwnPropertyDescriptor(m,w):null;b&&(b.get||b.set)?Object.defineProperty(v,w,b):v[w]=m[w]}return v.default=m,f&&f.set(m,v),v}const u=[m=>{m.createObjectStore("users",{keyPath:["userId"]}),m.createObjectStore("accountData",{keyPath:["type"]}),m.createObjectStore("sync",{keyPath:["clobber"]})},m=>{m.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")},m=>{m.createObjectStore("client_options",{keyPath:["clobber"]})},m=>{m.createObjectStore("to_device_queue",{autoIncrement:!0})}],d=u.length;function s(m,p,f){const v=m.openCursor(p);return new Promise((y,w)=>{const b=[];v.onerror=()=>{w(new Error("Query failed: "+v.error))},v.onsuccess=()=>{const S=v.result;if(!S){y(b);return}b.push(f(S)),S.continue()}})}function g(m){return new Promise((p,f)=>{m.oncomplete=function(v){p(v)},m.onerror=function(){f(m.error)}})}function c(m){return new Promise((p,f)=>{m.onsuccess=function(v){p(v)},m.onerror=function(){f(m.error)}})}function h(m){return new Promise((p,f)=>{m.onsuccess=()=>p(m),m.onerror=v=>f(v)})}function _(m){return c(m).then(p=>m.result)}class F{static exists(p,f){return f="matrix-js-sdk:"+(f||"default"),o.exists(p,f)}constructor(p,f="default"){this.indexedDB=p,(0,e.default)(this,"dbName",void 0),(0,e.default)(this,"syncAccumulator",void 0),(0,e.default)(this,"db",void 0),(0,e.default)(this,"disconnected",!0),(0,e.default)(this,"_isNewlyCreated",!1),(0,e.default)(this,"isPersisting",!1),(0,e.default)(this,"pendingUserPresenceData",[]),this.dbName="matrix-js-sdk:"+f,this.syncAccumulator=new n.SyncAccumulator}connect(){if(!this.disconnected)return i.logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this.disconnected=!1,i.logger.log("LocalIndexedDBStoreBackend.connect: connecting...");const p=this.indexedDB.open(this.dbName,d);return p.onupgradeneeded=f=>{const v=p.result,y=f.oldVersion;i.logger.log(`LocalIndexedDBStoreBackend.connect: upgrading from ${y}`),y<1&&(this._isNewlyCreated=!0),u.forEach((w,b)=>{y<=b&&w(v)})},p.onblocked=()=>{i.logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},i.logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),c(p).then(async()=>{i.logger.log("LocalIndexedDBStoreBackend.connect: connected"),this.db=p.result,this.db.onversionchange=()=>{var f;(f=this.db)===null||f===void 0||f.close()},await this.init()})}isNewlyCreated(){return Promise.resolve(this._isNewlyCreated)}init(){return Promise.all([this.loadAccountData(),this.loadSyncData()]).then(([p,f])=>{i.logger.log("LocalIndexedDBStoreBackend: loaded initial data"),this.syncAccumulator.accumulate({next_batch:f.nextBatch,rooms:f.roomsData,account_data:{events:p}},!0)})}getOutOfBandMembers(p){return new Promise((f,v)=>{const b=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),S=IDBKeyRange.only(p),x=b.openCursor(S),N=[];let U=!1;x.onsuccess=()=>{const q=x.result;if(!q)return!N.length&&!U?f(null):f(N);const P=q.value;P.oob_written?U=!0:N.push(P),q.continue()},x.onerror=q=>{v(q)}}).then(f=>(i.logger.log(`LL: got ${f==null?void 0:f.length} membershipEvents from storage for room ${p} ...`),f))}async setOutOfBandMembers(p,f){i.logger.log(`LL: backend about to store ${f.length} members for ${p}`);const v=this.db.transaction(["oob_membership_events"],"readwrite"),y=v.objectStore("oob_membership_events");f.forEach(b=>{y.put(b)});const w={room_id:p,oob_written:!0,state_key:0};y.put(w),await g(v),i.logger.log(`LL: backend done storing for ${p}!`)}async clearOutOfBandMembers(p){const y=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),w=IDBKeyRange.only(p),b=_(y.openKeyCursor(w,"next")).then(G=>G&&G.primaryKey[1]),S=_(y.openKeyCursor(w,"prev")).then(G=>G&&G.primaryKey[1]),[x,N]=await Promise.all([b,S]),q=this.db.transaction(["oob_membership_events"],"readwrite").objectStore("oob_membership_events"),P=IDBKeyRange.bound([p,x],[p,N]);i.logger.log(`LL: Deleting all users + marker in storage for room ${p}, with key range:`,[p,x],[p,N]),await h(q.delete(P))}clearDatabase(){return new Promise(p=>{i.logger.log(`Removing indexeddb instance: ${this.dbName}`);const f=this.indexedDB.deleteDatabase(this.dbName);f.onblocked=()=>{i.logger.log(`can't yet delete indexeddb ${this.dbName} because it is open elsewhere`)},f.onerror=()=>{i.logger.warn(`unable to delete js-sdk store indexeddb: ${f.error}`),p()},f.onsuccess=()=>{i.logger.log(`Removed indexeddb instance: ${this.dbName}`),p()}})}getSavedSync(p=!0){const f=this.syncAccumulator.getJSON();return f.nextBatch?p?Promise.resolve(r.deepCopy(f)):Promise.resolve(f):Promise.resolve(null)}getNextBatchToken(){return Promise.resolve(this.syncAccumulator.getNextBatchToken())}setSyncData(p){return Promise.resolve().then(()=>{this.syncAccumulator.accumulate(p)})}async syncToDatabase(p){if(this.isPersisting){i.logger.warn("Skipping syncToDatabase() as persist already in flight"),this.pendingUserPresenceData.push(...p);return}else p.unshift(...this.pendingUserPresenceData),this.isPersisting=!0;try{const f=this.syncAccumulator.getJSON(!0);await Promise.all([this.persistUserPresenceEvents(p),this.persistAccountData(f.accountData),this.persistSyncData(f.nextBatch,f.roomsData)])}finally{this.isPersisting=!1}}persistSyncData(p,f){return i.logger.log("Persisting sync data up to",p),r.promiseTry(()=>{const v=this.db.transaction(["sync"],"readwrite");return v.objectStore("sync").put({clobber:"-",nextBatch:p,roomsData:f}),g(v).then(()=>{i.logger.log("Persisted sync data up to",p)})})}persistAccountData(p){return r.promiseTry(()=>{const f=this.db.transaction(["accountData"],"readwrite"),v=f.objectStore("accountData");for(const y of p)v.put(y);return g(f).then()})}persistUserPresenceEvents(p){return r.promiseTry(()=>{const f=this.db.transaction(["users"],"readwrite"),v=f.objectStore("users");for(const y of p)v.put({userId:y[0],event:y[1]});return g(f).then()})}getUserPresenceEvents(){return r.promiseTry(()=>{const f=this.db.transaction(["users"],"readonly").objectStore("users");return s(f,void 0,v=>[v.value.userId,v.value.event])})}loadAccountData(){return i.logger.log("LocalIndexedDBStoreBackend: loading account data..."),r.promiseTry(()=>{const f=this.db.transaction(["accountData"],"readonly").objectStore("accountData");return s(f,void 0,v=>v.value).then(v=>(i.logger.log("LocalIndexedDBStoreBackend: loaded account data"),v))})}loadSyncData(){return i.logger.log("LocalIndexedDBStoreBackend: loading sync data..."),r.promiseTry(()=>{const f=this.db.transaction(["sync"],"readonly").objectStore("sync");return s(f,void 0,v=>v.value).then(v=>(i.logger.log("LocalIndexedDBStoreBackend: loaded sync data"),v.length>1&&i.logger.warn("loadSyncData: More than 1 sync row found."),v.length>0?v[0]:{}))})}getClientOptions(){return Promise.resolve().then(()=>{const f=this.db.transaction(["client_options"],"readonly").objectStore("client_options");return s(f,void 0,v=>{var y;return(y=v.value)===null||y===void 0?void 0:y.options}).then(v=>v[0])})}async storeClientOptions(p){const f=this.db.transaction(["client_options"],"readwrite");f.objectStore("client_options").put({clobber:"-",options:p}),await g(f)}async saveToDeviceBatches(p){const f=this.db.transaction(["to_device_queue"],"readwrite"),v=f.objectStore("to_device_queue");for(const y of p)v.add(y);await g(f)}async getOldestToDeviceBatch(){const f=this.db.transaction(["to_device_queue"],"readonly").objectStore("to_device_queue"),v=await _(f.openCursor());if(!v)return null;const y=v.value;return{id:v.key,txnId:y.txnId,eventType:y.eventType,batch:y.batch}}async removeToDeviceBatch(p){const f=this.db.transaction(["to_device_queue"],"readwrite");f.objectStore("to_device_queue").delete(p),await g(f)}}return Xd.LocalIndexedDBStoreBackend=F,Xd}var Qd={},Jx;function Tz(){if(Jx)return Qd;Jx=1;var t=ze.exports;Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.RemoteIndexedDBStoreBackend=void 0;var e=t(Je()),n=lt(),r=tt;class o{constructor(a,l){this.workerFactory=a,this.dbName=l,(0,e.default)(this,"worker",void 0),(0,e.default)(this,"nextSeq",0),(0,e.default)(this,"inFlight",{}),(0,e.default)(this,"startPromise",void 0),(0,e.default)(this,"onWorkerMessage",u=>{const d=u.data;if(d.command=="cmd_success"||d.command=="cmd_fail"){if(d.seq===void 0){n.logger.error("Got reply from worker with no seq");return}const s=this.inFlight[d.seq];if(s===void 0){n.logger.error("Got reply for unknown seq "+d.seq);return}if(delete this.inFlight[d.seq],d.command=="cmd_success")s.resolve(d.result);else{const g=new Error(d.error.message);g.name=d.error.name,s.reject(g)}}else n.logger.warn("Unrecognised message from worker: ",d)})}connect(){return this.ensureStarted().then(()=>this.doCmd("connect"))}clearDatabase(){return this.ensureStarted().then(()=>this.doCmd("clearDatabase"))}isNewlyCreated(){return this.doCmd("isNewlyCreated")}getSavedSync(){return this.doCmd("getSavedSync")}getNextBatchToken(){return this.doCmd("getNextBatchToken")}setSyncData(a){return this.doCmd("setSyncData",[a])}syncToDatabase(a){return this.doCmd("syncToDatabase",[a])}getOutOfBandMembers(a){return this.doCmd("getOutOfBandMembers",[a])}setOutOfBandMembers(a,l){return this.doCmd("setOutOfBandMembers",[a,l])}clearOutOfBandMembers(a){return this.doCmd("clearOutOfBandMembers",[a])}getClientOptions(){return this.doCmd("getClientOptions")}storeClientOptions(a){return this.doCmd("storeClientOptions",[a])}getUserPresenceEvents(){return this.doCmd("getUserPresenceEvents")}async saveToDeviceBatches(a){return this.doCmd("saveToDeviceBatches",[a])}async getOldestToDeviceBatch(){return this.doCmd("getOldestToDeviceBatch")}async removeToDeviceBatch(a){return this.doCmd("removeToDeviceBatch",[a])}ensureStarted(){return this.startPromise||(this.worker=this.workerFactory(),this.worker.onmessage=this.onWorkerMessage,this.startPromise=this.doCmd("setupWorker",[this.dbName]).then(()=>{n.logger.log("IndexedDB worker is ready")})),this.startPromise}doCmd(a,l){return Promise.resolve().then(()=>{var u;const d=this.nextSeq++,s=(0,r.defer)();return this.inFlight[d]=s,(u=this.worker)===null||u===void 0||u.postMessage({command:a,seq:d,args:l}),s.promise})}}return Qd.RemoteIndexedDBStoreBackend=o,Qd}var Iz=ze.exports;Object.defineProperty(Um,"__esModule",{value:!0});Um.IndexedDBStore=void 0;var wn=Iz(Je()),Rz=rg,Xx=Cz(),Az=Tz(),Oz=so,Bz=Kn(),wo=lt(),Pz=un();const Mz=1e3*60*5;class Nz extends Rz.MemoryStore{static exists(e,n){return Xx.LocalIndexedDBStoreBackend.exists(e,n)}constructor(e){if(super(e),(0,wn.default)(this,"backend",void 0),(0,wn.default)(this,"startedUp",!1),(0,wn.default)(this,"syncTs",0),(0,wn.default)(this,"userModifiedMap",{}),(0,wn.default)(this,"emitter",new Pz.TypedEventEmitter),(0,wn.default)(this,"on",this.emitter.on.bind(this.emitter)),(0,wn.default)(this,"getSavedSync",this.degradable(()=>this.backend.getSavedSync(),"getSavedSync")),(0,wn.default)(this,"isNewlyCreated",this.degradable(()=>this.backend.isNewlyCreated(),"isNewlyCreated")),(0,wn.default)(this,"getSavedSyncToken",this.degradable(()=>this.backend.getNextBatchToken(),"getSavedSyncToken")),(0,wn.default)(this,"deleteAllData",this.degradable(()=>(super.deleteAllData(),this.backend.clearDatabase().then(()=>{wo.logger.log("Deleted indexeddb data.")},n=>{throw wo.logger.error(`Failed to delete indexeddb data: ${n}`),n})))),(0,wn.default)(this,"reallySave",this.degradable(()=>{this.syncTs=Date.now();const n=[];for(const r of this.getUsers())this.userModifiedMap[r.userId]!==r.getLastModifiedTime()&&r.events.presence&&(n.push([r.userId,r.events.presence.event]),this.userModifiedMap[r.userId]=r.getLastModifiedTime());return this.backend.syncToDatabase(n)})),(0,wn.default)(this,"setSyncData",this.degradable(n=>this.backend.setSyncData(n),"setSyncData")),(0,wn.default)(this,"getOutOfBandMembers",this.degradable(n=>this.backend.getOutOfBandMembers(n),"getOutOfBandMembers")),(0,wn.default)(this,"setOutOfBandMembers",this.degradable((n,r)=>(super.setOutOfBandMembers(n,r),this.backend.setOutOfBandMembers(n,r)),"setOutOfBandMembers")),(0,wn.default)(this,"clearOutOfBandMembers",this.degradable(n=>(super.clearOutOfBandMembers(n),this.backend.clearOutOfBandMembers(n)),"clearOutOfBandMembers")),(0,wn.default)(this,"getClientOptions",this.degradable(()=>this.backend.getClientOptions(),"getClientOptions")),(0,wn.default)(this,"storeClientOptions",this.degradable(n=>(super.storeClientOptions(n),this.backend.storeClientOptions(n)),"storeClientOptions")),!e.indexedDB)throw new Error("Missing required option: indexedDB");e.workerFactory?this.backend=new Az.RemoteIndexedDBStoreBackend(e.workerFactory,e.dbName):this.backend=new Xx.LocalIndexedDBStoreBackend(e.indexedDB,e.dbName)}startup(){return this.startedUp?(wo.logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(wo.logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then(()=>(wo.logger.log("IndexedDBStore.startup: loading presence events"),this.backend.getUserPresenceEvents())).then(e=>{wo.logger.log("IndexedDBStore.startup: processing presence events"),e.forEach(([n,r])=>{const o=new Oz.User(n);r&&o.setPresenceEvent(new Bz.MatrixEvent(r)),this.userModifiedMap[o.userId]=o.getLastModifiedTime(),this.storeUser(o)})}))}wantsSave(){return Date.now()-this.syncTs>Mz}save(e=!1){return e||this.wantsSave()?this.reallySave():Promise.resolve()}degradable(e,n){const r=n?super[n]:null;return async(...o)=>{try{return await e.call(this,...o)}catch(i){wo.logger.error("IndexedDBStore failure, degrading to MemoryStore",i),this.emitter.emit("degraded",i);try{wo.logger.log("IndexedDBStore trying to delete degraded data"),await this.backend.clearDatabase(),wo.logger.log("IndexedDBStore delete after degrading succeeded")}catch(a){wo.logger.warn("IndexedDBStore delete after degrading failed",a)}if(r)return r.call(this,...o)}}}async getPendingEvents(e){if(!this.localStorage)return super.getPendingEvents(e);const n=this.localStorage.getItem(s2(e));if(n)try{return JSON.parse(n)}catch(r){wo.logger.error("Could not parse persisted pending events",r)}return[]}async setPendingEvents(e,n){if(!this.localStorage)return super.setPendingEvents(e,n);n.length>0?this.localStorage.setItem(s2(e),JSON.stringify(n)):this.localStorage.removeItem(s2(e))}saveToDeviceBatches(e){return this.backend.saveToDeviceBatches(e)}getOldestToDeviceBatch(){return this.backend.getOldestToDeviceBatch()}removeToDeviceBatch(e){return this.backend.removeToDeviceBatch(e)}}Um.IndexedDBStore=Nz;function s2(t){return`mx_pending_events_${t}`}var NA={};Object.defineProperty(NA,"__esModule",{value:!0});(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={setCryptoStoreFactory:!0,createClient:!0,createRoomWidgetClient:!0,ContentHelpers:!0,createNewMatrixCall:!0,GroupCallEvent:!0,GroupCallIntent:!0,GroupCallState:!0,GroupCallType:!0};t.ContentHelpers=void 0,Object.defineProperty(t,"GroupCallEvent",{enumerable:!0,get:function(){return $.GroupCallEvent}}),Object.defineProperty(t,"GroupCallIntent",{enumerable:!0,get:function(){return $.GroupCallIntent}}),Object.defineProperty(t,"GroupCallState",{enumerable:!0,get:function(){return $.GroupCallState}}),Object.defineProperty(t,"GroupCallType",{enumerable:!0,get:function(){return $.GroupCallType}}),t.createClient=H,Object.defineProperty(t,"createNewMatrixCall",{enumerable:!0,get:function(){return A.createNewMatrixCall}}),t.createRoomWidgetClient=Q,t.setCryptoStoreFactory=R;var n=Sc;Object.keys(n).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===n[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return n[L]}})});var r=rg;Object.keys(r).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===r[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return r[L]}})});var o=cg;Object.keys(o).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===o[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return o[L]}})});var i=Mo();Object.keys(i).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===i[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return i[L]}})});var a=Nm;Object.keys(a).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===a[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return a[L]}})});var l=Bo;Object.keys(l).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===l[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return l[L]}})});var u=Ka;Object.keys(u).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===u[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return u[L]}})});var d=Ha;Object.keys(d).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===d[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return d[L]}})});var s=Cn;Object.keys(s).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===s[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return s[L]}})});var g=yr;Object.keys(g).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===g[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return g[L]}})});var c=Kn();Object.keys(c).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===c[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return c[L]}})});var h=Ji();Object.keys(h).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===h[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return h[L]}})});var _=Oo();Object.keys(_).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===_[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return _[L]}})});var F=X3();Object.keys(F).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===F[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return F[L]}})});var m=lo;Object.keys(m).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===m[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return m[L]}})});var p=Za();Object.keys(p).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===p[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return p[L]}})});var f=so;Object.keys(f).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===f[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return f[L]}})});var v=Tm();Object.keys(v).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===v[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return v[L]}})});var y=ec;Object.keys(y).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===y[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return y[L]}})});var w=rl;Object.keys(w).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===w[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return w[L]}})});var b=Oc;Object.keys(b).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===b[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return b[L]}})});var S=Um;Object.keys(S).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===S[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return S[L]}})});var x=go;Object.keys(x).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===x[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return x[L]}})});var N=Cc;Object.keys(N).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===N[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return N[L]}})});var U=et;Object.keys(U).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===U[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return U[L]}})});var q=Vt;Object.keys(q).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===q[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return q[L]}})});var P=Yt;Object.keys(P).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===P[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return P[L]}})});var G=NA;Object.keys(G).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===G[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return G[L]}})});var C=Bc;Object.keys(C).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===C[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return C[L]}})});var I=ig;Object.keys(I).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===I[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return I[L]}})});var M=T(Pt);t.ContentHelpers=M;var A=Rm(),$=Ac();function Y(L){if(typeof WeakMap!="function")return null;var le=new WeakMap,he=new WeakMap;return(Y=function(De){return De?he:le})(L)}function T(L,le){if(!le&&L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var he=Y(le);if(he&&he.has(L))return he.get(L);var De={},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in L)if(W!=="default"&&Object.prototype.hasOwnProperty.call(L,W)){var z=ke?Object.getOwnPropertyDescriptor(L,W):null;z&&(z.get||z.set)?Object.defineProperty(De,W,z):De[W]=L[W]}return De.default=L,he&&he.set(L,De),De}let D=()=>new n.MemoryCryptoStore;function R(L){D=L}function B(L){var le,he,De;return L.store=(le=L.store)!==null&&le!==void 0?le:new r.MemoryStore({localStorage:Pe.localStorage}),L.scheduler=(he=L.scheduler)!==null&&he!==void 0?he:new o.MatrixScheduler,L.cryptoStore=(De=L.cryptoStore)!==null&&De!==void 0?De:D(),L}function H(L){return new i.MatrixClient(B(L))}function Q(L,le,he,De){return new a.RoomWidgetClient(L,le,he,B(De))}})(AR);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={};t.default=void 0;var n=o(AR);Object.keys(n).forEach(function(l){l==="default"||l==="__esModule"||Object.prototype.hasOwnProperty.call(e,l)||l in t&&t[l]===n[l]||Object.defineProperty(t,l,{enumerable:!0,get:function(){return n[l]}})});function r(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(r=function(s){return s?d:u})(l)}function o(l,u){if(!u&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var d=r(u);if(d&&d.has(l))return d.get(l);var s={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in l)if(c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)){var h=g?Object.getOwnPropertyDescriptor(l,c):null;h&&(h.get||h.set)?Object.defineProperty(s,c,h):s[c]=l[c]}return s.default=l,d&&d.set(l,s),s}if(Pe.__js_sdk_entrypoint)throw new Error("Multiple matrix-js-sdk entrypoints detected!");Pe.__js_sdk_entrypoint=!0;let i;try{i=Pe.indexedDB}catch{}i&&n.setCryptoStoreFactory(function(){return new n.IndexedDBCryptoStore(i,"matrix-js-sdk:crypto")});var a=n;t.default=a,Pe.matrixcs=n})(jh);function Y0(t,e,n,r){window.localStorage.setItem("currentUser",n);const o=new Set(JSON.parse(window.localStorage.getItem("loggedInUsers")));o.add(n),window.localStorage.setItem("loggedInUsers",JSON.stringify(Array.from(o))),window.userLocalStorage=new YI(n,window.localStorage),window.userLocalStorage.setItem(te.secretKey.ACCESS_TOKEN,t),window.userLocalStorage.setItem(te.secretKey.DEVICE_ID,e),window.userLocalStorage.setItem(te.secretKey.USER_ID,n),window.userLocalStorage.setItem(te.secretKey.BASE_URL,r)}function Dl(t){return jh.createClient({baseUrl:t})}async function Lz(t,e,n){const r=Dl(t);window.userLocalStorage.setItem(te.secretKey.BASE_URL,r.baseUrl),window.location.href=r.getSsoLoginUrl(window.location.href,e,n)}async function Uz(t,e,n,r){var u,d;const o={};if(e)o.type="m.id.user",o.user=e;else if(n)o.type="m.id.thirdparty",o.medium="email",o.address=n;else throw new Error("Bad Input");const i=Dl(t),a=await i.login("m.login.password",{identifier:o,password:r,initial_device_display_name:te.DEVICE_DISPLAY_NAME}),l=((d=(u=a==null?void 0:a.well_known)==null?void 0:u["m.homeserver"])==null?void 0:d.base_url)||i.baseUrl;Y0(a.access_token,a.device_id,a.user_id,l)}async function jz(t,e){var i,a;const n=Dl(t),r=await n.login("m.login.token",{token:e,initial_device_display_name:te.DEVICE_DISPLAY_NAME}),o=((a=(i=r==null?void 0:r.well_known)==null?void 0:i["m.homeserver"])==null?void 0:a.base_url)||n.baseUrl;Y0(r.access_token,r.device_id,r.user_id,o)}async function $z(t,e,n,r,o){return await(await fetch(`${t}/_matrix/client/r0/register/email/requestToken`,{method:"POST",body:JSON.stringify({email:e,client_secret:n,send_attempt:r,next_link:o}),headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"same-origin"})).json()}async function Zd(t,e,n,r){const o=Dl(t);try{const i=await o.registerRequest({username:e,password:n,auth:r,initial_device_display_name:te.DEVICE_DISPLAY_NAME}),a={completed:i.completed||[]};return i.access_token&&(a.done=!0,Y0(i.access_token,i.device_id,i.user_id,t)),a}catch(i){const a=i.data,l={completed:a.completed||[]};return a.access_token&&(l.done=!0,Y0(a.access_token,a.device_id,a.user_id,t)),l}}function l2(t){const e=["Bytes","KB","MB","GB","TB"];if(t===0)return"n/a";const n=parseInt(Math.floor(Math.log(t)/Math.log(1024)),10);return n===0?`${t} ${e[n]}`:`${(t/1024**n).toFixed(1)} ${e[n]}`}function qz(t,e){let n=(t.getTime()-e.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}function ly(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function Rn(t,e){let n;const r=t.nativeEvent.composedPath(),o=e?r.find(i=>{var a;return(a=i.matches)==null?void 0:a.call(i,e)}):null;return o?n=o.getBoundingClientRect():n=t.target.getBoundingClientRect(),{x:n.x,y:n.y,width:n.width,height:n.height,detail:t.detail}}function kf(t){return t>99?"99+":t}class jm{constructor(){this.timeoutId=null}_(e,n){const r=this;return function(...i){clearTimeout(r.timeoutId),r.timeoutId=setTimeout(()=>{e.apply(this,i),r.timeoutId=null},n)}}}class Vz{constructor(){this.timeoutId=null}_(e,n){const r=this;return function(...i){r.timeoutId===null&&(r.timeoutId=setTimeout(()=>{e.apply(this,i),r.timeoutId=null},n))}}}function Gz(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function F1(t){const e={};return e.top=Math.round(t.scrollTop),e.height=Math.round(t.scrollHeight),e.viewHeight=Math.round(t.offsetHeight),e.isScrollable=e.height>e.viewHeight,e}function LA(t){return[...t][0]}function u2(t){return getComputedStyle(document.body).getPropertyValue(t)}function Kz(t){const e=document.querySelector("#favicon");e&&e.setAttribute("href",t)}function Hz(t){if(navigator.clipboard)navigator.clipboard.writeText(t);else{const e=document.body,n=document.createElement("input");n.style.position="fixed",n.style.opacity="0",n.value=t,e.append(n),n.select(),n.setSelectionRange(0,99999),document.execCommand("Copy"),n.remove()}}function UA(t,e){let n=2,r=t;do r=t+n,n+=1;while(e(r));return r}function zz(t,e,n){return new Promise(r=>{const o=URL.createObjectURL(t),i=new Image;i.onload=()=>{let a=i.width,l=i.height;l<=n&&a<=e&&r(t),l>n&&(a=Math.floor(a*(n/l)),l=n),a>e&&(l=Math.floor(l*(e/a)),a=e);const u=document.createElement("canvas");u.width=a,u.height=l,u.getContext("2d").drawImage(i,0,0,a,l),u.toBlob(s=>{URL.revokeObjectURL(o),r(s)},t.type)},i.src=o})}function Qx(t,e,n){const r="(?:[a-zA-Z0-9-.]*[a-zA-Z0-9]+|\\[\\S+?\\])(?::\\d+)?";return new RegExp(`${n}(${t}\\S+:${r})`,e)}const Wz=/^https?:\/\/matrix.to\/#\/(\S+:\S+)/;function Yz(t){const e=decodeURIComponent(t).match(Wz);return e?e[1]:null}var jA={exports:{}};(function(t,e){var n=function(){var r={},o,i,a=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d){d=d||{};var s;s||(s=typeof d<"u"?d:{});var g,c;s.ready=new Promise(function(ee,ae){g=ee,c=ae});var h;if(typeof window<"u")h=function(ee){window.crypto.getRandomValues(ee)};else if(t.exports){var _=Tn;h=function(ee){var ae=_.randomBytes(ee.length);ee.set(ae)},process=Pe.process}else throw Error("Cannot find global to attach library to");if(typeof OLM_OPTIONS<"u")for(var F in OLM_OPTIONS)OLM_OPTIONS.hasOwnProperty(F)&&(s[F]=OLM_OPTIONS[F]);s.onRuntimeInitialized=function(){Ze=s._olm_error(),r.PRIVATE_KEY_LENGTH=s._olm_pk_private_key_length(),o&&o()},s.onAbort=function(ee){i&&i(ee)};var m=Object.assign({},s),p=typeof window=="object",f=typeof importScripts=="function",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",w,b,S,x,N,U;v?(y=f?Tn.dirname(y)+"/":__dirname+"/",U=()=>{N||(x=Tn,N=Tn)},w=function(ee,ae){return U(),ee=N.normalize(ee),x.readFileSync(ee,ae?void 0:"utf8")},S=ee=>(ee=w(ee,!0),ee.buffer||(ee=new Uint8Array(ee)),ee),b=(ee,ae,ve)=>{U(),ee=N.normalize(ee),x.readFile(ee,function(Re,Ve){Re?ve(Re):ae(Ve.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(ee){throw ee}),process.on("unhandledRejection",function(ee){throw ee}),s.inspect=function(){return"[Emscripten Module object]"}):(p||f)&&(f?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),u&&(y=u),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",w=ee=>{var ae=new XMLHttpRequest;return ae.open("GET",ee,!1),ae.send(null),ae.responseText},f&&(S=ee=>{var ae=new XMLHttpRequest;return ae.open("GET",ee,!1),ae.responseType="arraybuffer",ae.send(null),new Uint8Array(ae.response)}),b=(ee,ae,ve)=>{var Re=new XMLHttpRequest;Re.open("GET",ee,!0),Re.responseType="arraybuffer",Re.onload=()=>{Re.status==200||Re.status==0&&Re.response?ae(Re.response):ve()},Re.onerror=ve,Re.send(null)}),s.print||console.log.bind(console);var q=s.printErr||console.warn.bind(console);Object.assign(s,m),m=null;var P;s.wasmBinary&&(P=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&ce("no native wasm support detected");var G,C=!1,I=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function M(ee,ae){if(ee){var ve=D,Re=ee+ae;for(ae=ee;ve[ae]&&!(ae>=Re);)++ae;if(16<ae-ee&&ve.buffer&&I)ee=I.decode(ve.subarray(ee,ae));else{for(Re="";ee<ae;){var Ve=ve[ee++];if(Ve&128){var st=ve[ee++]&63;if((Ve&224)==192)Re+=String.fromCharCode((Ve&31)<<6|st);else{var kt=ve[ee++]&63;Ve=(Ve&240)==224?(Ve&15)<<12|st<<6|kt:(Ve&7)<<18|st<<12|kt<<6|ve[ee++]&63,65536>Ve?Re+=String.fromCharCode(Ve):(Ve-=65536,Re+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023))}}else Re+=String.fromCharCode(Ve)}ee=Re}}else ee="";return ee}function A(ee,ae,ve,Re){if(!(0<Re))return 0;var Ve=ve;Re=ve+Re-1;for(var st=0;st<ee.length;++st){var kt=ee.charCodeAt(st);if(55296<=kt&&57343>=kt){var Wn=ee.charCodeAt(++st);kt=65536+((kt&1023)<<10)|Wn&1023}if(127>=kt){if(ve>=Re)break;ae[ve++]=kt}else{if(2047>=kt){if(ve+1>=Re)break;ae[ve++]=192|kt>>6}else{if(65535>=kt){if(ve+2>=Re)break;ae[ve++]=224|kt>>12}else{if(ve+3>=Re)break;ae[ve++]=240|kt>>18,ae[ve++]=128|kt>>12&63}ae[ve++]=128|kt>>6&63}ae[ve++]=128|kt&63}}return ae[ve]=0,ve-Ve}function $(ee){for(var ae=0,ve=0;ve<ee.length;++ve){var Re=ee.charCodeAt(ve);127>=Re?ae++:2047>=Re?ae+=2:55296<=Re&&57343>=Re?(ae+=4,++ve):ae+=3}return ae}var Y,T,D,R,B,H,Q,L;function le(){var ee=G.buffer;Y=ee,s.HEAP8=T=new Int8Array(ee),s.HEAP16=R=new Int16Array(ee),s.HEAP32=B=new Int32Array(ee),s.HEAPU8=D=new Uint8Array(ee),s.HEAPU16=new Uint16Array(ee),s.HEAPU32=H=new Uint32Array(ee),s.HEAPF32=Q=new Float32Array(ee),s.HEAPF64=L=new Float64Array(ee)}var he=[],De=[],ke=[];function W(){var ee=s.preRun.shift();he.unshift(ee)}var z=0,oe=null;function ce(ee){throw s.onAbort&&s.onAbort(ee),ee="Aborted("+ee+")",q(ee),C=!0,ee=new WebAssembly.RuntimeError(ee+". Build with -sASSERTIONS for more info."),c(ee),ee}function _e(){return we.startsWith("data:application/octet-stream;base64,")}var we;if(we="olm.wasm",!_e()){var Oe=we;we=s.locateFile?s.locateFile(Oe,y):y+Oe}function Le(){var ee=we;try{if(ee==we&&P)return new Uint8Array(P);if(S)return S(ee);throw"both async and sync fetching of the wasm failed"}catch(ae){ce(ae)}}function Ue(){if(!P&&(p||f)){if(typeof fetch=="function"&&!we.startsWith("file://"))return fetch(we,{credentials:"same-origin"}).then(function(ee){if(!ee.ok)throw"failed to load wasm binary file at '"+we+"'";return ee.arrayBuffer()}).catch(function(){return Le()});if(b)return new Promise(function(ee,ae){b(we,function(ve){ee(new Uint8Array(ve))},ae)})}return Promise.resolve().then(function(){return Le()})}var de;function fe(ee){for(;0<ee.length;)ee.shift()(s)}function Se(ee,ae="i8"){switch(ae.endsWith("*")&&(ae="*"),ae){case"i1":return T[ee>>0];case"i8":return T[ee>>0];case"i16":return R[ee>>1];case"i32":return B[ee>>2];case"i64":return B[ee>>2];case"float":return Q[ee>>2];case"double":return L[ee>>3];case"*":return H[ee>>2];default:ce("invalid type for getValue: "+ae)}return null}function Ee(ee){var ae="i8";switch(ae.endsWith("*")&&(ae="*"),ae){case"i1":T[ee>>0]=0;break;case"i8":T[ee>>0]=0;break;case"i16":R[ee>>1]=0;break;case"i32":B[ee>>2]=0;break;case"i64":de=[0,0],B[ee>>2]=de[0],B[ee+4>>2]=de[1];break;case"float":Q[ee>>2]=0;break;case"double":L[ee>>3]=0;break;case"*":H[ee>>2]=0;break;default:ce("invalid type for setValue: "+ae)}}function ye(ee,ae,ve){for(var Re=0;Re<ee.length;++Re)T[ae++>>0]=ee.charCodeAt(Re);ve||(T[ae>>0]=0)}function Te(ee,ae,ve){return ve=Array(0<ve?ve:$(ee)+1),ee=A(ee,ve,0,ve.length),ae&&(ve.length=ee),ve}var Ne={b:function(ee,ae,ve){D.copyWithin(ee,ae,ae+ve)},a:function(ee){var ae=D.length;if(ee>>>=0,2147483648<ee)return!1;for(var ve=1;4>=ve;ve*=2){var Re=ae*(1+.2/ve);Re=Math.min(Re,ee+100663296);var Ve=Math;Re=Math.max(ee,Re),Ve=Ve.min.call(Ve,2147483648,Re+(65536-Re%65536)%65536);e:{try{G.grow(Ve-Y.byteLength+65535>>>16),le();var st=1;break e}catch{}st=void 0}if(st)return!0}return!1}};(function(){function ee(Ve){s.asm=Ve.exports,G=s.asm.c,le(),De.unshift(s.asm.d),z--,s.monitorRunDependencies&&s.monitorRunDependencies(z),z==0&&oe&&(Ve=oe,oe=null,Ve())}function ae(Ve){ee(Ve.instance)}function ve(Ve){return Ue().then(function(st){return WebAssembly.instantiate(st,Re)}).then(function(st){return st}).then(Ve,function(st){q("failed to asynchronously prepare wasm: "+st),ce(st)})}var Re={a:Ne};if(z++,s.monitorRunDependencies&&s.monitorRunDependencies(z),s.instantiateWasm)try{return s.instantiateWasm(Re,ee)}catch(Ve){return q("Module.instantiateWasm callback failed with error: "+Ve),!1}return function(){return P||typeof WebAssembly.instantiateStreaming!="function"||_e()||we.startsWith("file://")||v||typeof fetch!="function"?ve(ae):fetch(we,{credentials:"same-origin"}).then(function(Ve){return WebAssembly.instantiateStreaming(Ve,Re).then(ae,function(st){return q("wasm streaming compile failed: "+st),q("falling back to ArrayBuffer instantiation"),ve(ae)})})}().catch(c),{}})(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.d).apply(null,arguments)},s._olm_get_library_version=function(){return(s._olm_get_library_version=s.asm.f).apply(null,arguments)},s._olm_error=function(){return(s._olm_error=s.asm.g).apply(null,arguments)},s._olm_account_last_error=function(){return(s._olm_account_last_error=s.asm.h).apply(null,arguments)},s.__olm_error_to_string=function(){return(s.__olm_error_to_string=s.asm.i).apply(null,arguments)},s._olm_account_last_error_code=function(){return(s._olm_account_last_error_code=s.asm.j).apply(null,arguments)},s._olm_session_last_error=function(){return(s._olm_session_last_error=s.asm.k).apply(null,arguments)},s._olm_session_last_error_code=function(){return(s._olm_session_last_error_code=s.asm.l).apply(null,arguments)},s._olm_utility_last_error=function(){return(s._olm_utility_last_error=s.asm.m).apply(null,arguments)},s._olm_utility_last_error_code=function(){return(s._olm_utility_last_error_code=s.asm.n).apply(null,arguments)},s._olm_account_size=function(){return(s._olm_account_size=s.asm.o).apply(null,arguments)},s._olm_session_size=function(){return(s._olm_session_size=s.asm.p).apply(null,arguments)},s._olm_utility_size=function(){return(s._olm_utility_size=s.asm.q).apply(null,arguments)},s._olm_account=function(){return(s._olm_account=s.asm.r).apply(null,arguments)},s._olm_session=function(){return(s._olm_session=s.asm.s).apply(null,arguments)},s._olm_utility=function(){return(s._olm_utility=s.asm.t).apply(null,arguments)},s._olm_clear_account=function(){return(s._olm_clear_account=s.asm.u).apply(null,arguments)},s._olm_clear_session=function(){return(s._olm_clear_session=s.asm.v).apply(null,arguments)},s._olm_clear_utility=function(){return(s._olm_clear_utility=s.asm.w).apply(null,arguments)},s._olm_pickle_account_length=function(){return(s._olm_pickle_account_length=s.asm.x).apply(null,arguments)},s._olm_pickle_session_length=function(){return(s._olm_pickle_session_length=s.asm.y).apply(null,arguments)},s._olm_pickle_account=function(){return(s._olm_pickle_account=s.asm.z).apply(null,arguments)},s._olm_pickle_session=function(){return(s._olm_pickle_session=s.asm.A).apply(null,arguments)},s._olm_unpickle_account=function(){return(s._olm_unpickle_account=s.asm.B).apply(null,arguments)},s._olm_unpickle_session=function(){return(s._olm_unpickle_session=s.asm.C).apply(null,arguments)},s._olm_create_account_random_length=function(){return(s._olm_create_account_random_length=s.asm.D).apply(null,arguments)},s._olm_create_account=function(){return(s._olm_create_account=s.asm.E).apply(null,arguments)},s._olm_account_identity_keys_length=function(){return(s._olm_account_identity_keys_length=s.asm.F).apply(null,arguments)},s._olm_account_identity_keys=function(){return(s._olm_account_identity_keys=s.asm.G).apply(null,arguments)},s._olm_account_signature_length=function(){return(s._olm_account_signature_length=s.asm.H).apply(null,arguments)},s._olm_account_sign=function(){return(s._olm_account_sign=s.asm.I).apply(null,arguments)},s._olm_account_one_time_keys_length=function(){return(s._olm_account_one_time_keys_length=s.asm.J).apply(null,arguments)},s._olm_account_one_time_keys=function(){return(s._olm_account_one_time_keys=s.asm.K).apply(null,arguments)},s._olm_account_mark_keys_as_published=function(){return(s._olm_account_mark_keys_as_published=s.asm.L).apply(null,arguments)},s._olm_account_max_number_of_one_time_keys=function(){return(s._olm_account_max_number_of_one_time_keys=s.asm.M).apply(null,arguments)},s._olm_account_generate_one_time_keys_random_length=function(){return(s._olm_account_generate_one_time_keys_random_length=s.asm.N).apply(null,arguments)},s._olm_account_generate_one_time_keys=function(){return(s._olm_account_generate_one_time_keys=s.asm.O).apply(null,arguments)},s._olm_account_generate_fallback_key_random_length=function(){return(s._olm_account_generate_fallback_key_random_length=s.asm.P).apply(null,arguments)},s._olm_account_generate_fallback_key=function(){return(s._olm_account_generate_fallback_key=s.asm.Q).apply(null,arguments)},s._olm_account_fallback_key_length=function(){return(s._olm_account_fallback_key_length=s.asm.R).apply(null,arguments)},s._olm_account_fallback_key=function(){return(s._olm_account_fallback_key=s.asm.S).apply(null,arguments)},s._olm_account_unpublished_fallback_key_length=function(){return(s._olm_account_unpublished_fallback_key_length=s.asm.T).apply(null,arguments)},s._olm_account_unpublished_fallback_key=function(){return(s._olm_account_unpublished_fallback_key=s.asm.U).apply(null,arguments)},s._olm_account_forget_old_fallback_key=function(){return(s._olm_account_forget_old_fallback_key=s.asm.V).apply(null,arguments)},s._olm_create_outbound_session_random_length=function(){return(s._olm_create_outbound_session_random_length=s.asm.W).apply(null,arguments)},s._olm_create_outbound_session=function(){return(s._olm_create_outbound_session=s.asm.X).apply(null,arguments)},s._olm_create_inbound_session=function(){return(s._olm_create_inbound_session=s.asm.Y).apply(null,arguments)},s._olm_create_inbound_session_from=function(){return(s._olm_create_inbound_session_from=s.asm.Z).apply(null,arguments)},s._olm_session_id_length=function(){return(s._olm_session_id_length=s.asm._).apply(null,arguments)},s._olm_session_id=function(){return(s._olm_session_id=s.asm.$).apply(null,arguments)},s._olm_session_has_received_message=function(){return(s._olm_session_has_received_message=s.asm.aa).apply(null,arguments)},s._olm_session_describe=function(){return(s._olm_session_describe=s.asm.ba).apply(null,arguments)},s._olm_matches_inbound_session=function(){return(s._olm_matches_inbound_session=s.asm.ca).apply(null,arguments)},s._olm_matches_inbound_session_from=function(){return(s._olm_matches_inbound_session_from=s.asm.da).apply(null,arguments)},s._olm_remove_one_time_keys=function(){return(s._olm_remove_one_time_keys=s.asm.ea).apply(null,arguments)},s._olm_encrypt_message_type=function(){return(s._olm_encrypt_message_type=s.asm.fa).apply(null,arguments)},s._olm_encrypt_random_length=function(){return(s._olm_encrypt_random_length=s.asm.ga).apply(null,arguments)},s._olm_encrypt_message_length=function(){return(s._olm_encrypt_message_length=s.asm.ha).apply(null,arguments)},s._olm_encrypt=function(){return(s._olm_encrypt=s.asm.ia).apply(null,arguments)},s._olm_decrypt_max_plaintext_length=function(){return(s._olm_decrypt_max_plaintext_length=s.asm.ja).apply(null,arguments)},s._olm_decrypt=function(){return(s._olm_decrypt=s.asm.ka).apply(null,arguments)},s._olm_sha256_length=function(){return(s._olm_sha256_length=s.asm.la).apply(null,arguments)},s._olm_sha256=function(){return(s._olm_sha256=s.asm.ma).apply(null,arguments)},s._olm_ed25519_verify=function(){return(s._olm_ed25519_verify=s.asm.na).apply(null,arguments)},s._olm_pk_encryption_last_error=function(){return(s._olm_pk_encryption_last_error=s.asm.oa).apply(null,arguments)},s._olm_pk_encryption_last_error_code=function(){return(s._olm_pk_encryption_last_error_code=s.asm.pa).apply(null,arguments)},s._olm_pk_encryption_size=function(){return(s._olm_pk_encryption_size=s.asm.qa).apply(null,arguments)},s._olm_pk_encryption=function(){return(s._olm_pk_encryption=s.asm.ra).apply(null,arguments)},s._olm_clear_pk_encryption=function(){return(s._olm_clear_pk_encryption=s.asm.sa).apply(null,arguments)},s._olm_pk_encryption_set_recipient_key=function(){return(s._olm_pk_encryption_set_recipient_key=s.asm.ta).apply(null,arguments)},s._olm_pk_key_length=function(){return(s._olm_pk_key_length=s.asm.ua).apply(null,arguments)},s._olm_pk_ciphertext_length=function(){return(s._olm_pk_ciphertext_length=s.asm.va).apply(null,arguments)},s._olm_pk_mac_length=function(){return(s._olm_pk_mac_length=s.asm.wa).apply(null,arguments)},s._olm_pk_encrypt_random_length=function(){return(s._olm_pk_encrypt_random_length=s.asm.xa).apply(null,arguments)},s._olm_pk_encrypt=function(){return(s._olm_pk_encrypt=s.asm.ya).apply(null,arguments)},s._olm_pk_decryption_last_error=function(){return(s._olm_pk_decryption_last_error=s.asm.za).apply(null,arguments)},s._olm_pk_decryption_last_error_code=function(){return(s._olm_pk_decryption_last_error_code=s.asm.Aa).apply(null,arguments)},s._olm_pk_decryption_size=function(){return(s._olm_pk_decryption_size=s.asm.Ba).apply(null,arguments)},s._olm_pk_decryption=function(){return(s._olm_pk_decryption=s.asm.Ca).apply(null,arguments)},s._olm_clear_pk_decryption=function(){return(s._olm_clear_pk_decryption=s.asm.Da).apply(null,arguments)},s._olm_pk_private_key_length=function(){return(s._olm_pk_private_key_length=s.asm.Ea).apply(null,arguments)},s._olm_pk_generate_key_random_length=function(){return(s._olm_pk_generate_key_random_length=s.asm.Fa).apply(null,arguments)},s._olm_pk_key_from_private=function(){return(s._olm_pk_key_from_private=s.asm.Ga).apply(null,arguments)},s._olm_pk_generate_key=function(){return(s._olm_pk_generate_key=s.asm.Ha).apply(null,arguments)},s._olm_pickle_pk_decryption_length=function(){return(s._olm_pickle_pk_decryption_length=s.asm.Ia).apply(null,arguments)},s._olm_pickle_pk_decryption=function(){return(s._olm_pickle_pk_decryption=s.asm.Ja).apply(null,arguments)},s._olm_unpickle_pk_decryption=function(){return(s._olm_unpickle_pk_decryption=s.asm.Ka).apply(null,arguments)},s._olm_pk_max_plaintext_length=function(){return(s._olm_pk_max_plaintext_length=s.asm.La).apply(null,arguments)},s._olm_pk_decrypt=function(){return(s._olm_pk_decrypt=s.asm.Ma).apply(null,arguments)},s._olm_pk_get_private_key=function(){return(s._olm_pk_get_private_key=s.asm.Na).apply(null,arguments)},s._olm_pk_signing_size=function(){return(s._olm_pk_signing_size=s.asm.Oa).apply(null,arguments)},s._olm_pk_signing=function(){return(s._olm_pk_signing=s.asm.Pa).apply(null,arguments)},s._olm_pk_signing_last_error=function(){return(s._olm_pk_signing_last_error=s.asm.Qa).apply(null,arguments)},s._olm_pk_signing_last_error_code=function(){return(s._olm_pk_signing_last_error_code=s.asm.Ra).apply(null,arguments)},s._olm_clear_pk_signing=function(){return(s._olm_clear_pk_signing=s.asm.Sa).apply(null,arguments)},s._olm_pk_signing_seed_length=function(){return(s._olm_pk_signing_seed_length=s.asm.Ta).apply(null,arguments)},s._olm_pk_signing_public_key_length=function(){return(s._olm_pk_signing_public_key_length=s.asm.Ua).apply(null,arguments)},s._olm_pk_signing_key_from_seed=function(){return(s._olm_pk_signing_key_from_seed=s.asm.Va).apply(null,arguments)},s._olm_pk_signature_length=function(){return(s._olm_pk_signature_length=s.asm.Wa).apply(null,arguments)},s._olm_pk_sign=function(){return(s._olm_pk_sign=s.asm.Xa).apply(null,arguments)},s._olm_inbound_group_session_size=function(){return(s._olm_inbound_group_session_size=s.asm.Ya).apply(null,arguments)},s._olm_inbound_group_session=function(){return(s._olm_inbound_group_session=s.asm.Za).apply(null,arguments)},s._olm_clear_inbound_group_session=function(){return(s._olm_clear_inbound_group_session=s.asm._a).apply(null,arguments)},s._olm_inbound_group_session_last_error=function(){return(s._olm_inbound_group_session_last_error=s.asm.$a).apply(null,arguments)},s._olm_inbound_group_session_last_error_code=function(){return(s._olm_inbound_group_session_last_error_code=s.asm.ab).apply(null,arguments)},s._olm_init_inbound_group_session=function(){return(s._olm_init_inbound_group_session=s.asm.bb).apply(null,arguments)},s._olm_import_inbound_group_session=function(){return(s._olm_import_inbound_group_session=s.asm.cb).apply(null,arguments)},s._olm_pickle_inbound_group_session_length=function(){return(s._olm_pickle_inbound_group_session_length=s.asm.db).apply(null,arguments)},s._olm_pickle_inbound_group_session=function(){return(s._olm_pickle_inbound_group_session=s.asm.eb).apply(null,arguments)},s._olm_unpickle_inbound_group_session=function(){return(s._olm_unpickle_inbound_group_session=s.asm.fb).apply(null,arguments)},s._olm_group_decrypt_max_plaintext_length=function(){return(s._olm_group_decrypt_max_plaintext_length=s.asm.gb).apply(null,arguments)},s._olm_group_decrypt=function(){return(s._olm_group_decrypt=s.asm.hb).apply(null,arguments)},s._olm_inbound_group_session_id_length=function(){return(s._olm_inbound_group_session_id_length=s.asm.ib).apply(null,arguments)},s._olm_inbound_group_session_id=function(){return(s._olm_inbound_group_session_id=s.asm.jb).apply(null,arguments)},s._olm_inbound_group_session_first_known_index=function(){return(s._olm_inbound_group_session_first_known_index=s.asm.kb).apply(null,arguments)},s._olm_inbound_group_session_is_verified=function(){return(s._olm_inbound_group_session_is_verified=s.asm.lb).apply(null,arguments)},s._olm_export_inbound_group_session_length=function(){return(s._olm_export_inbound_group_session_length=s.asm.mb).apply(null,arguments)},s._olm_export_inbound_group_session=function(){return(s._olm_export_inbound_group_session=s.asm.nb).apply(null,arguments)},s._olm_outbound_group_session_size=function(){return(s._olm_outbound_group_session_size=s.asm.ob).apply(null,arguments)},s._olm_outbound_group_session=function(){return(s._olm_outbound_group_session=s.asm.pb).apply(null,arguments)},s._olm_clear_outbound_group_session=function(){return(s._olm_clear_outbound_group_session=s.asm.qb).apply(null,arguments)},s._olm_outbound_group_session_last_error=function(){return(s._olm_outbound_group_session_last_error=s.asm.rb).apply(null,arguments)},s._olm_outbound_group_session_last_error_code=function(){return(s._olm_outbound_group_session_last_error_code=s.asm.sb).apply(null,arguments)},s._olm_pickle_outbound_group_session_length=function(){return(s._olm_pickle_outbound_group_session_length=s.asm.tb).apply(null,arguments)},s._olm_pickle_outbound_group_session=function(){return(s._olm_pickle_outbound_group_session=s.asm.ub).apply(null,arguments)},s._olm_unpickle_outbound_group_session=function(){return(s._olm_unpickle_outbound_group_session=s.asm.vb).apply(null,arguments)},s._olm_init_outbound_group_session_random_length=function(){return(s._olm_init_outbound_group_session_random_length=s.asm.wb).apply(null,arguments)},s._olm_init_outbound_group_session=function(){return(s._olm_init_outbound_group_session=s.asm.xb).apply(null,arguments)},s._olm_group_encrypt_message_length=function(){return(s._olm_group_encrypt_message_length=s.asm.yb).apply(null,arguments)},s._olm_group_encrypt=function(){return(s._olm_group_encrypt=s.asm.zb).apply(null,arguments)},s._olm_outbound_group_session_id_length=function(){return(s._olm_outbound_group_session_id_length=s.asm.Ab).apply(null,arguments)},s._olm_outbound_group_session_id=function(){return(s._olm_outbound_group_session_id=s.asm.Bb).apply(null,arguments)},s._olm_outbound_group_session_message_index=function(){return(s._olm_outbound_group_session_message_index=s.asm.Cb).apply(null,arguments)},s._olm_outbound_group_session_key_length=function(){return(s._olm_outbound_group_session_key_length=s.asm.Db).apply(null,arguments)},s._olm_outbound_group_session_key=function(){return(s._olm_outbound_group_session_key=s.asm.Eb).apply(null,arguments)},s._olm_sas_last_error=function(){return(s._olm_sas_last_error=s.asm.Fb).apply(null,arguments)},s._olm_sas_last_error_code=function(){return(s._olm_sas_last_error_code=s.asm.Gb).apply(null,arguments)},s._olm_sas_size=function(){return(s._olm_sas_size=s.asm.Hb).apply(null,arguments)},s._olm_sas=function(){return(s._olm_sas=s.asm.Ib).apply(null,arguments)},s._olm_clear_sas=function(){return(s._olm_clear_sas=s.asm.Jb).apply(null,arguments)},s._olm_create_sas_random_length=function(){return(s._olm_create_sas_random_length=s.asm.Kb).apply(null,arguments)},s._olm_create_sas=function(){return(s._olm_create_sas=s.asm.Lb).apply(null,arguments)},s._olm_sas_pubkey_length=function(){return(s._olm_sas_pubkey_length=s.asm.Mb).apply(null,arguments)},s._olm_sas_get_pubkey=function(){return(s._olm_sas_get_pubkey=s.asm.Nb).apply(null,arguments)},s._olm_sas_set_their_key=function(){return(s._olm_sas_set_their_key=s.asm.Ob).apply(null,arguments)},s._olm_sas_is_their_key_set=function(){return(s._olm_sas_is_their_key_set=s.asm.Pb).apply(null,arguments)},s._olm_sas_generate_bytes=function(){return(s._olm_sas_generate_bytes=s.asm.Qb).apply(null,arguments)},s._olm_sas_mac_length=function(){return(s._olm_sas_mac_length=s.asm.Rb).apply(null,arguments)},s._olm_sas_calculate_mac_fixed_base64=function(){return(s._olm_sas_calculate_mac_fixed_base64=s.asm.Sb).apply(null,arguments)},s._olm_sas_calculate_mac=function(){return(s._olm_sas_calculate_mac=s.asm.Tb).apply(null,arguments)},s._olm_sas_calculate_mac_long_kdf=function(){return(s._olm_sas_calculate_mac_long_kdf=s.asm.Ub).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.Vb).apply(null,arguments)},s._free=function(){return(s._free=s.asm.Wb).apply(null,arguments)};var ne=s.stackSave=function(){return(ne=s.stackSave=s.asm.Xb).apply(null,arguments)},j=s.stackRestore=function(){return(j=s.stackRestore=s.asm.Yb).apply(null,arguments)},V=s.stackAlloc=function(){return(V=s.stackAlloc=s.asm.Zb).apply(null,arguments)};s.intArrayFromString=Te,s.writeAsciiToMemory=ye,s.ALLOC_STACK=1;var ie;oe=function ee(){ie||pe(),ie||(oe=ee)};function pe(){function ee(){if(!ie&&(ie=!0,s.calledRun=!0,!C)){if(fe(De),g(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;){var ae=s.postRun.shift();ke.unshift(ae)}fe(ke)}}if(!(0<z)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)W();fe(he),0<z||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),ee()},1)):ee())}}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();pe();function be(){var ee=s._olm_outbound_group_session_size();this.ac=$e(ee),this.$b=s._olm_outbound_group_session(this.ac)}function xe(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_outbound_group_session_last_error(arguments[0])),Error("OLM."+ae);return ae}}be.prototype.free=function(){s._olm_clear_outbound_group_session(this.$b),qe(this.$b)},be.prototype.pickle=Xe(function(ee){ee=ot(ee);var ae=xe(s._olm_pickle_outbound_group_session_length)(this.$b),ve=Be(ee),Re=Be(ae+1);try{xe(s._olm_pickle_outbound_group_session)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),be.prototype.unpickle=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae);try{xe(s._olm_unpickle_outbound_group_session)(this.$b,ve,ee.length,Re,ae.length)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}}),be.prototype.create=Xe(function(){var ee=xe(s._olm_init_outbound_group_session_random_length)(this.$b),ae=nt(ee,h);try{xe(s._olm_init_outbound_group_session)(this.$b,ae,ee)}finally{He(ae,ee)}}),be.prototype.encrypt=function(ee){try{var ae=$(ee),ve=xe(s._olm_group_encrypt_message_length)(this.$b,ae),Re=$e(ae+1);A(ee,D,Re,ae+1);var Ve=$e(ve+1);return xe(s._olm_group_encrypt)(this.$b,Re,ae,Ve,ve),Ee(Ve+ve),M(Ve,ve)}finally{Re!==void 0&&(He(Re,ae+1),qe(Re)),Ve!==void 0&&qe(Ve)}},be.prototype.session_id=Xe(function(){var ee=xe(s._olm_outbound_group_session_id_length)(this.$b),ae=Be(ee+1);return xe(s._olm_outbound_group_session_id)(this.$b,ae,ee),M(ae,ee)}),be.prototype.session_key=Xe(function(){var ee=xe(s._olm_outbound_group_session_key_length)(this.$b),ae=Be(ee+1);xe(s._olm_outbound_group_session_key)(this.$b,ae,ee);var ve=M(ae,ee);return He(ae,ee),ve}),be.prototype.message_index=function(){return xe(s._olm_outbound_group_session_message_index)(this.$b)},r.OutboundGroupSession=be;function me(){var ee=s._olm_inbound_group_session_size();this.ac=$e(ee),this.$b=s._olm_inbound_group_session(this.ac)}function k(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_inbound_group_session_last_error(arguments[0])),Error("OLM."+ae);return ae}}me.prototype.free=function(){s._olm_clear_inbound_group_session(this.$b),qe(this.$b)},me.prototype.pickle=Xe(function(ee){ee=ot(ee);var ae=k(s._olm_pickle_inbound_group_session_length)(this.$b),ve=Be(ee),Re=Be(ae+1);try{k(s._olm_pickle_inbound_group_session)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),me.prototype.unpickle=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae);try{k(s._olm_unpickle_inbound_group_session)(this.$b,ve,ee.length,Re,ae.length)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}}),me.prototype.create=Xe(function(ee){ee=ot(ee);var ae=Be(ee);try{k(s._olm_init_inbound_group_session)(this.$b,ae,ee.length)}finally{for(He(ae,ee.length),ae=0;ae<ee.length;ae++)ee[ae]=0}}),me.prototype.import_session=Xe(function(ee){ee=ot(ee);var ae=Be(ee);try{k(s._olm_import_inbound_group_session)(this.$b,ae,ee.length)}finally{for(He(ae,ee.length),ae=0;ae<ee.length;ae++)ee[ae]=0}}),me.prototype.decrypt=Xe(function(ee){try{var ae=$e(ee.length);ye(ee,ae,!0);var ve=k(s._olm_group_decrypt_max_plaintext_length)(this.$b,ae,ee.length);ye(ee,ae,!0);var Re=$e(ve+1),Ve=Be(4),st=k(s._olm_group_decrypt)(this.$b,ae,ee.length,Re,ve,Ve);return Ee(Re+st),{plaintext:M(Re,st),message_index:Se(Ve,"i32")}}finally{ae!==void 0&&qe(ae),Re!==void 0&&(He(Re,st),qe(Re))}}),me.prototype.session_id=Xe(function(){var ee=k(s._olm_inbound_group_session_id_length)(this.$b),ae=Be(ee+1);return k(s._olm_inbound_group_session_id)(this.$b,ae,ee),M(ae,ee)}),me.prototype.first_known_index=Xe(function(){return k(s._olm_inbound_group_session_first_known_index)(this.$b)}),me.prototype.export_session=Xe(function(ee){var ae=k(s._olm_export_inbound_group_session_length)(this.$b),ve=Be(ae+1);return xe(s._olm_export_inbound_group_session)(this.$b,ve,ae,ee),ee=M(ve,ae),He(ve,ae),ee}),r.InboundGroupSession=me;function O(){var ee=s._olm_pk_encryption_size();this.ac=$e(ee),this.$b=s._olm_pk_encryption(this.ac)}function K(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_pk_encryption_last_error(arguments[0])),Error("OLM."+ae);return ae}}O.prototype.free=function(){s._olm_clear_pk_encryption(this.$b),qe(this.$b)},O.prototype.set_recipient_key=Xe(function(ee){ee=ot(ee);var ae=Be(ee);K(s._olm_pk_encryption_set_recipient_key)(this.$b,ae,ee.length)}),O.prototype.encrypt=Xe(function(ee){try{var ae=$(ee),ve=$e(ae+1);A(ee,D,ve,ae+1);var Re=K(s._olm_pk_encrypt_random_length)(),Ve=nt(Re,h),st=K(s._olm_pk_ciphertext_length)(this.$b,ae),kt=$e(st+1),Wn=K(s._olm_pk_mac_length)(this.$b),Kc=Be(Wn+1);Ee(Kc+Wn);var ss=K(s._olm_pk_key_length)(),Uo=Be(ss+1);return Ee(Uo+ss),K(s._olm_pk_encrypt)(this.$b,ve,ae,kt,st,Kc,Wn,Uo,ss,Ve,Re),Ee(kt+st),{ciphertext:M(kt,st),mac:M(Kc,Wn),ephemeral:M(Uo,ss)}}finally{Ve!==void 0&&He(Ve,Re),ve!==void 0&&(He(ve,ae+1),qe(ve)),kt!==void 0&&qe(kt)}});function Z(){var ee=s._olm_pk_decryption_size();this.ac=$e(ee),this.$b=s._olm_pk_decryption(this.ac)}function se(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_pk_decryption_last_error(arguments[0])),Error("OLM."+ae);return ae}}Z.prototype.free=function(){s._olm_clear_pk_decryption(this.$b),qe(this.$b)},Z.prototype.init_with_private_key=Xe(function(ee){var ae=Be(ee.length);s.HEAPU8.set(ee,ae);var ve=se(s._olm_pk_key_length)(),Re=Be(ve+1);try{se(s._olm_pk_key_from_private)(this.$b,Re,ve,ae,ee.length)}finally{He(ae,ee.length)}return M(Re,ve)}),Z.prototype.generate_key=Xe(function(){var ee=se(s._olm_pk_private_key_length)(),ae=nt(ee,h),ve=se(s._olm_pk_key_length)(),Re=Be(ve+1);try{se(s._olm_pk_key_from_private)(this.$b,Re,ve,ae,ee)}finally{He(ae,ee)}return M(Re,ve)}),Z.prototype.get_private_key=Xe(function(){var ee=K(s._olm_pk_private_key_length)(),ae=Be(ee);se(s._olm_pk_get_private_key)(this.$b,ae,ee);var ve=new Uint8Array(new Uint8Array(s.HEAPU8.buffer,ae,ee));return He(ae,ee),ve}),Z.prototype.pickle=Xe(function(ee){ee=ot(ee);var ae=se(s._olm_pickle_pk_decryption_length)(this.$b),ve=Be(ee),Re=Be(ae+1);try{se(s._olm_pickle_pk_decryption)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),Z.prototype.unpickle=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee),Re=ot(ae),Ve=Be(Re);ae=se(s._olm_pk_key_length)();var st=Be(ae+1);try{se(s._olm_unpickle_pk_decryption)(this.$b,ve,ee.length,Ve,Re.length,st,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(st,ae)}),Z.prototype.decrypt=Xe(function(ee,ae,ve){try{var Re=$(ve),Ve=$e(Re+1);A(ve,D,Ve,Re+1);var st=ot(ee),kt=Be(st),Wn=ot(ae),Kc=Be(Wn),ss=se(s._olm_pk_max_plaintext_length)(this.$b,Re),Uo=$e(ss+1),BF=se(s._olm_pk_decrypt)(this.$b,kt,st.length,Kc,Wn.length,Ve,Re,Uo,ss);return Ee(Uo+BF),M(Uo,BF)}finally{Uo!==void 0&&(He(Uo,BF+1),qe(Uo)),Ve!==void 0&&qe(Ve)}});function ge(){var ee=s._olm_pk_signing_size();this.ac=$e(ee),this.$b=s._olm_pk_signing(this.ac)}function Ce(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_pk_signing_last_error(arguments[0])),Error("OLM."+ae);return ae}}ge.prototype.free=function(){s._olm_clear_pk_signing(this.$b),qe(this.$b)},ge.prototype.init_with_seed=Xe(function(ee){var ae=Be(ee.length);s.HEAPU8.set(ee,ae);var ve=Ce(s._olm_pk_signing_public_key_length)(),Re=Be(ve+1);try{Ce(s._olm_pk_signing_key_from_seed)(this.$b,Re,ve,ae,ee.length)}finally{He(ae,ee.length)}return M(Re,ve)}),ge.prototype.generate_seed=Xe(function(){var ee=Ce(s._olm_pk_signing_seed_length)(),ae=nt(ee,h),ve=new Uint8Array(new Uint8Array(s.HEAPU8.buffer,ae,ee));return He(ae,ee),ve}),ge.prototype.sign=Xe(function(ee){try{var ae=$(ee),ve=$e(ae+1);A(ee,D,ve,ae+1);var Re=Ce(s._olm_pk_signature_length)(),Ve=Be(Re+1);return Ce(s._olm_pk_sign)(this.$b,ve,ae,Ve,Re),M(Ve,Re)}finally{ve!==void 0&&(He(ve,ae+1),qe(ve))}});function Ie(){var ee=s._olm_sas_size(),ae=s._olm_create_sas_random_length(),ve=nt(ae,h);this.ac=$e(ee),this.$b=s._olm_sas(this.ac),s._olm_create_sas(this.$b,ve,ae),He(ve,ae)}function Ae(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_sas_last_error(arguments[0])),Error("OLM."+ae);return ae}}Ie.prototype.free=function(){s._olm_clear_sas(this.$b),qe(this.$b)},Ie.prototype.get_pubkey=Xe(function(){var ee=Ae(s._olm_sas_pubkey_length)(this.$b),ae=Be(ee+1);return Ae(s._olm_sas_get_pubkey)(this.$b,ae,ee),M(ae,ee)}),Ie.prototype.set_their_key=Xe(function(ee){ee=ot(ee);var ae=Be(ee);Ae(s._olm_sas_set_their_key)(this.$b,ae,ee.length)}),Ie.prototype.is_their_key_set=Xe(function(){return!!Ae(s._olm_sas_is_their_key_set)(this.$b)}),Ie.prototype.generate_bytes=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee),Re=Be(ae);return Ae(s._olm_sas_generate_bytes)(this.$b,ve,ee.length,Re,ae),new Uint8Array(new Uint8Array(s.HEAPU8.buffer,Re,ae))}),Ie.prototype.calculate_mac=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae),Ve=Ae(s._olm_sas_mac_length)(this.$b),st=Be(Ve+1);return Ae(s._olm_sas_calculate_mac)(this.$b,ve,ee.length,Re,ae.length,st,Ve),M(st,Ve)}),Ie.prototype.calculate_mac_fixed_base64=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae),Ve=Ae(s._olm_sas_mac_length)(this.$b),st=Be(Ve+1);return Ae(s._olm_sas_calculate_mac_fixed_base64)(this.$b,ve,ee.length,Re,ae.length,st,Ve),M(st,Ve)}),Ie.prototype.calculate_mac_long_kdf=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae),Ve=Ae(s._olm_sas_mac_length)(this.$b),st=Be(Ve+1);return Ae(s._olm_sas_calculate_mac_long_kdf)(this.$b,ve,ee.length,Re,ae.length,st,Ve),M(st,Ve)});var $e=s._malloc,qe=s._free,Ze;function nt(ee,ae){var ve=V(ee);return ae(new Uint8Array(s.HEAPU8.buffer,ve,ee)),ve}function Be(ee){return typeof ee=="number"?nt(ee,function(ae){ae.fill(0)}):nt(ee.length,function(ae){ae.set(ee)})}function ot(ee){return ee instanceof Uint8Array?ee:Te(ee,!0)}function Xe(ee){return function(){var ae=ne();try{return ee.apply(this,arguments)}finally{j(ae)}}}function He(ee,ae){for(;0<ae--;)s.HEAP8[ee++]=0}function wt(){var ee=s._olm_account_size();this.ac=$e(ee),this.$b=s._olm_account(this.ac)}function pt(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_account_last_error(arguments[0])),Error("OLM."+ae);return ae}}wt.prototype.free=function(){s._olm_clear_account(this.$b),qe(this.$b)},wt.prototype.create=Xe(function(){var ee=pt(s._olm_create_account_random_length)(this.$b),ae=nt(ee,h);try{pt(s._olm_create_account)(this.$b,ae,ee)}finally{He(ae,ee)}}),wt.prototype.identity_keys=Xe(function(){var ee=pt(s._olm_account_identity_keys_length)(this.$b),ae=Be(ee+1);return pt(s._olm_account_identity_keys)(this.$b,ae,ee),M(ae,ee)}),wt.prototype.sign=Xe(function(ee){var ae=pt(s._olm_account_signature_length)(this.$b);ee=ot(ee);var ve=Be(ee),Re=Be(ae+1);try{pt(s._olm_account_sign)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),wt.prototype.one_time_keys=Xe(function(){var ee=pt(s._olm_account_one_time_keys_length)(this.$b),ae=Be(ee+1);return pt(s._olm_account_one_time_keys)(this.$b,ae,ee),M(ae,ee)}),wt.prototype.mark_keys_as_published=Xe(function(){pt(s._olm_account_mark_keys_as_published)(this.$b)}),wt.prototype.max_number_of_one_time_keys=Xe(function(){return pt(s._olm_account_max_number_of_one_time_keys)(this.$b)}),wt.prototype.generate_one_time_keys=Xe(function(ee){var ae=pt(s._olm_account_generate_one_time_keys_random_length)(this.$b,ee),ve=nt(ae,h);try{pt(s._olm_account_generate_one_time_keys)(this.$b,ee,ve,ae)}finally{He(ve,ae)}}),wt.prototype.remove_one_time_keys=Xe(function(ee){pt(s._olm_remove_one_time_keys)(this.$b,ee.$b)}),wt.prototype.generate_fallback_key=Xe(function(){var ee=pt(s._olm_account_generate_fallback_key_random_length)(this.$b),ae=nt(ee,h);try{pt(s._olm_account_generate_fallback_key)(this.$b,ae,ee)}finally{He(ae,ee)}}),wt.prototype.fallback_key=Xe(function(){var ee=pt(s._olm_account_fallback_key_length)(this.$b),ae=Be(ee+1);return pt(s._olm_account_fallback_key)(this.$b,ae,ee),M(ae,ee)}),wt.prototype.unpublished_fallback_key=Xe(function(){var ee=pt(s._olm_account_unpublished_fallback_key_length)(this.$b),ae=Be(ee+1);return pt(s._olm_account_unpublished_fallback_key)(this.$b,ae,ee),M(ae,ee)}),wt.prototype.forget_old_fallback_key=Xe(function(){pt(s._olm_account_forget_old_fallback_key)(this.$b)}),wt.prototype.pickle=Xe(function(ee){ee=ot(ee);var ae=pt(s._olm_pickle_account_length)(this.$b),ve=Be(ee),Re=Be(ae+1);try{pt(s._olm_pickle_account)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),wt.prototype.unpickle=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae);try{pt(s._olm_unpickle_account)(this.$b,ve,ee.length,Re,ae.length)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}});function vt(){var ee=s._olm_session_size();this.ac=$e(ee),this.$b=s._olm_session(this.ac)}function ht(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_session_last_error(arguments[0])),Error("OLM."+ae);return ae}}vt.prototype.free=function(){s._olm_clear_session(this.$b),qe(this.$b)},vt.prototype.pickle=Xe(function(ee){ee=ot(ee);var ae=ht(s._olm_pickle_session_length)(this.$b),ve=Be(ee),Re=Be(ae+1);try{ht(s._olm_pickle_session)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),vt.prototype.unpickle=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae);try{ht(s._olm_unpickle_session)(this.$b,ve,ee.length,Re,ae.length)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}}),vt.prototype.create_outbound=Xe(function(ee,ae,ve){var Re=ht(s._olm_create_outbound_session_random_length)(this.$b),Ve=nt(Re,h);ae=ot(ae),ve=ot(ve);var st=Be(ae),kt=Be(ve);try{ht(s._olm_create_outbound_session)(this.$b,ee.$b,st,ae.length,kt,ve.length,Ve,Re)}finally{He(Ve,Re)}}),vt.prototype.create_inbound=Xe(function(ee,ae){ae=ot(ae);var ve=Be(ae);try{ht(s._olm_create_inbound_session)(this.$b,ee.$b,ve,ae.length)}finally{for(He(ve,ae.length),ee=0;ee<ae.length;ee++)ae[ee]=0}}),vt.prototype.create_inbound_from=Xe(function(ee,ae,ve){ae=ot(ae);var Re=Be(ae);ve=ot(ve);var Ve=Be(ve);try{ht(s._olm_create_inbound_session_from)(this.$b,ee.$b,Re,ae.length,Ve,ve.length)}finally{for(He(Ve,ve.length),ee=0;ee<ve.length;ee++)ve[ee]=0}}),vt.prototype.session_id=Xe(function(){var ee=ht(s._olm_session_id_length)(this.$b),ae=Be(ee+1);return ht(s._olm_session_id)(this.$b,ae,ee),M(ae,ee)}),vt.prototype.has_received_message=function(){return!!ht(s._olm_session_has_received_message)(this.$b)},vt.prototype.matches_inbound=Xe(function(ee){ee=ot(ee);var ae=Be(ee);return!!ht(s._olm_matches_inbound_session)(this.$b,ae,ee.length)}),vt.prototype.matches_inbound_from=Xe(function(ee,ae){ee=ot(ee);var ve=Be(ee);ae=ot(ae);var Re=Be(ae);return!!ht(s._olm_matches_inbound_session_from)(this.$b,ve,ee.length,Re,ae.length)}),vt.prototype.encrypt=Xe(function(ee){try{var ae=ht(s._olm_encrypt_random_length)(this.$b),ve=ht(s._olm_encrypt_message_type)(this.$b),Re=$(ee),Ve=ht(s._olm_encrypt_message_length)(this.$b,Re),st=nt(ae,h),kt=$e(Re+1);A(ee,D,kt,Re+1);var Wn=$e(Ve+1);return ht(s._olm_encrypt)(this.$b,kt,Re,st,ae,Wn,Ve),Ee(Wn+Ve),{type:ve,body:M(Wn,Ve)}}finally{st!==void 0&&He(st,ae),kt!==void 0&&(He(kt,Re+1),qe(kt)),Wn!==void 0&&qe(Wn)}}),vt.prototype.decrypt=Xe(function(ee,ae){try{var ve=$e(ae.length);ye(ae,ve,!0);var Re=ht(s._olm_decrypt_max_plaintext_length)(this.$b,ee,ve,ae.length);ye(ae,ve,!0);var Ve=$e(Re+1),st=ht(s._olm_decrypt)(this.$b,ee,ve,ae.length,Ve,Re);return Ee(Ve+st),M(Ve,st)}finally{ve!==void 0&&qe(ve),Ve!==void 0&&(He(Ve,Re),qe(Ve))}}),vt.prototype.describe=Xe(function(){try{var ee=$e(256);return ht(s._olm_session_describe)(this.$b,ee,256),M(ee)}finally{ee!==void 0&&qe(ee)}});function Xt(){var ee=s._olm_utility_size();this.ac=$e(ee),this.$b=s._olm_utility(this.ac)}function zn(ee){return function(){var ae=ee.apply(this,arguments);if(ae===Ze)throw ae=M(s._olm_utility_last_error(arguments[0])),Error("OLM."+ae);return ae}}return Xt.prototype.free=function(){s._olm_clear_utility(this.$b),qe(this.$b)},Xt.prototype.sha256=Xe(function(ee){var ae=zn(s._olm_sha256_length)(this.$b);ee=ot(ee);var ve=Be(ee),Re=Be(ae+1);try{zn(s._olm_sha256)(this.$b,ve,ee.length,Re,ae)}finally{for(He(ve,ee.length),ve=0;ve<ee.length;ve++)ee[ve]=0}return M(Re,ae)}),Xt.prototype.ed25519_verify=Xe(function(ee,ae,ve){ee=ot(ee);var Re=Be(ee);ae=ot(ae);var Ve=Be(ae);ve=ot(ve);var st=Be(ve);try{zn(s._olm_ed25519_verify)(this.$b,Re,ee.length,Ve,ae.length,st,ve.length)}finally{for(He(Ve,ae.length),ee=0;ee<ae.length;ee++)ae[ee]=0}}),r.Account=wt,r.Session=vt,r.Utility=Xt,r.PkEncryption=O,r.PkDecryption=Z,r.PkSigning=ge,r.SAS=Ie,r.get_library_version=Xe(function(){var ee=Be(3);return s._olm_get_library_version(ee,ee+1,ee+2),[Se(ee,"i8"),Se(ee+1,"i8"),Se(ee+2,"i8")]}),d.ready}})();t.exports=a;var l;return r.init=function(u){return l||(u&&(OLM_OPTIONS=u),l=new Promise(function(d,s){o=function(){d()},i=function(g){s(g)},a()}),l)},r}();typeof window<"u"&&(window.Olm=n),t.exports=n;})(jA);const Jz=jA.exports;function Zx(t){return t.getType()==="m.space.child"&&Object.keys(t.getContent()).length>0}async function $A(t,e=400,n=-1){return n===0?!1:await(async()=>new Promise(o=>{setTimeout(()=>o(t()),e)}))()?!0:$A(t,e,n-1)}class Xz extends Gn.exports{constructor(e){super(),this.matrixClient=e,this.mDirects=this.getMDirects(),this.roomIdToParents=new Map,this.inviteDirects=new Set,this.inviteSpaces=new Set,this.inviteRooms=new Set,this.directs=new Set,this.spaces=new Set,this.rooms=new Set,this.processingRooms=new Map,this._populateRooms(),this._listenEvents(),ct.register(this.roomActions.bind(this))}isOrphan(e){return!this.roomIdToParents.has(e)}getOrphanSpaces(){return[...this.spaces].filter(e=>!this.roomIdToParents.has(e))}getOrphanRooms(){return[...this.rooms].filter(e=>!this.roomIdToParents.has(e))}getOrphans(){return[...this.spaces].concat([...this.rooms]).filter(n=>!this.roomIdToParents.has(n))}getSpaceChildren(e){const n=this.matrixClient.getRoom(e);if(n===null)return null;const r=n==null?void 0:n.currentState.getStateEvents("m.space.child"),o=[];return r.forEach(i=>{const a=i.event.state_key;Zx(i)&&o.push(a)}),o}getCategorizedSpaces(e){const n=new Map,r=o=>{if(n.has(o))return;const i=new Set;n.set(o,i),this.getSpaceChildren(o).forEach(l=>{const u=this.matrixClient.getRoom(l);u===null||u.getMyMembership()!=="join"||(u.isSpaceRoom()?r(l):i.add(l))})};return e.forEach(r),n}addToRoomIdToParents(e,n){this.roomIdToParents.has(e)||this.roomIdToParents.set(e,new Set),this.roomIdToParents.get(e).add(n)}removeFromRoomIdToParents(e,n){if(!this.roomIdToParents.has(e))return;const r=this.roomIdToParents.get(e);r.delete(n),r.size===0&&this.roomIdToParents.delete(e)}getAllParentSpaces(e){const n=new Set,r=o=>{if(n.has(o))return;n.add(o);const i=this.roomIdToParents.get(o);i!==void 0&&i.forEach(a=>r(a))};return r(e),n.delete(e),n}addToSpaces(e){this.spaces.add(e);const n=this.getAllParentSpaces(e),r=this.getSpaceChildren(e);r==null||r.forEach(o=>{n.has(o)||this.addToRoomIdToParents(o,e)})}deleteFromSpaces(e){this.spaces.delete(e);const n=this.getSpaceChildren(e);n==null||n.forEach(r=>{this.removeFromRoomIdToParents(r,e)})}roomActions(e){var o;const n=(i,a)=>{const l=this.matrixClient.getRoom(i);return l===null?!1:(a?this.directs.add(i):l.isSpaceRoom()?this.addToSpaces(i):this.rooms.add(i),!0)},r={[te.actions.room.JOIN]:()=>{n(e.roomId,e.isDM)?setTimeout(()=>{this.emit(te.events.roomList.ROOM_JOINED,e.roomId),this.emit(te.events.roomList.ROOMLIST_UPDATED)},100):this.processingRooms.set(e.roomId,{roomId:e.roomId,isDM:e.isDM,task:"JOIN"})},[te.actions.room.CREATE]:()=>{n(e.roomId,e.isDM)?setTimeout(()=>{this.emit(te.events.roomList.ROOM_CREATED,e.roomId),this.emit(te.events.roomList.ROOM_JOINED,e.roomId),this.emit(te.events.roomList.ROOMLIST_UPDATED)},100):this.processingRooms.set(e.roomId,{roomId:e.roomId,isDM:e.isDM,task:"CREATE"})}};(o=r[e.type])==null||o.call(r)}getMDirects(){var r;const e=new Set,n=(r=this.matrixClient.getAccountData("m.direct"))==null?void 0:r.getContent();return typeof n>"u"||Object.keys(n).forEach(o=>{n[o].forEach(i=>e.add(i))}),e}_populateRooms(){this.directs.clear(),this.roomIdToParents.clear(),this.spaces.clear(),this.rooms.clear(),this.inviteDirects.clear(),this.inviteSpaces.clear(),this.inviteRooms.clear(),this.matrixClient.getRooms().forEach(e=>{var o;const{roomId:n}=e,r=e.currentState.events.get("m.room.tombstone");if((r==null?void 0:r.get(""))!==void 0){const i=r.get("").getContent().replacement_room;if(((o=this.matrixClient.getRoom(i))==null?void 0:o.getMyMembership())==="join")return}if(e.getMyMembership()==="invite"){this._isDMInvite(e)?this.inviteDirects.add(n):e.isSpaceRoom()?this.inviteSpaces.add(n):this.inviteRooms.add(n);return}e.getMyMembership()==="join"&&(this.mDirects.has(n)?this.directs.add(n):e.isSpaceRoom()?this.addToSpaces(n):this.rooms.add(n))})}_isDMInvite(e){if(this.mDirects.has(e.roomId))return!0;const r=e.getMember(this.matrixClient.getUserId()).events.member.getContent();return r.membership==="invite"&&r.is_direct}_listenEvents(){this.matrixClient.on("accountData",e=>{if(e.getType()!=="m.direct")return;const n=this.getMDirects();n.forEach(r=>{if(this.mDirects.has(r))return;this.mDirects.add(r);const o=this.matrixClient.getRoom(r);o!==null&&o.getMyMembership()==="join"&&(this.directs.add(r),this.rooms.delete(r),this.emit(te.events.roomList.ROOMLIST_UPDATED))}),[...this.directs].forEach(r=>{if(n.has(r))return;this.mDirects.delete(r);const o=this.matrixClient.getRoom(r);o!==null&&o.getMyMembership()==="join"&&(this.directs.delete(r),this.rooms.add(r),this.emit(te.events.roomList.ROOMLIST_UPDATED))})}),this.matrixClient.on("Room.name",e=>{this.emit(te.events.roomList.ROOMLIST_UPDATED),this.emit(te.events.roomList.ROOM_PROFILE_UPDATED,e.roomId)}),this.matrixClient.on("RoomState.events",(e,n)=>{if(e.getType()==="m.space.child"){const r=e.event.room_id,o=e.event.state_key;Zx(e)?this.getAllParentSpaces(r).has(o)||this.addToRoomIdToParents(o,r):this.removeFromRoomIdToParents(o,r),this.emit(te.events.roomList.ROOMLIST_UPDATED);return}if(e.getType()==="m.room.join_rules"){this.emit(te.events.roomList.ROOMLIST_UPDATED);return}["m.room.avatar","m.room.topic"].includes(e.getType())&&(e.getType()==="m.room.avatar"&&this.emit(te.events.roomList.ROOMLIST_UPDATED),this.emit(te.events.roomList.ROOM_PROFILE_UPDATED,n.roomId))}),this.matrixClient.on("Room.myMembership",async(e,n,r)=>{const{roomId:o}=e,i=()=>this.matrixClient.getRoom(o)!==null;if(!(["join","invite"].includes(n)&&i()===!1&&await $A(i,200,100)===!1)&&n!=="unban"){if(n==="invite"){this._isDMInvite(e)?this.inviteDirects.add(o):e.isSpaceRoom()?this.inviteSpaces.add(o):this.inviteRooms.add(o),this.emit(te.events.roomList.INVITELIST_UPDATED,o);return}if(r==="invite"&&(this.inviteDirects.has(o)?this.inviteDirects.delete(o):this.inviteSpaces.has(o)?this.inviteSpaces.delete(o):this.inviteRooms.delete(o),this.emit(te.events.roomList.INVITELIST_UPDATED,o)),["leave","kick","ban"].includes(n)){this.directs.has(o)?this.directs.delete(o):this.spaces.has(o)?this.deleteFromSpaces(o):this.rooms.delete(o),this.emit(te.events.roomList.ROOM_LEAVED,o),this.emit(te.events.roomList.ROOMLIST_UPDATED);return}if(n==="join"&&this.processingRooms.has(o)){const a=this.processingRooms.get(o);a.isDM?this.directs.add(o):e.isSpaceRoom()?this.addToSpaces(o):this.rooms.add(o),a.task==="CREATE"&&this.emit(te.events.roomList.ROOM_CREATED,o),this.emit(te.events.roomList.ROOM_JOINED,o),this.emit(te.events.roomList.ROOMLIST_UPDATED),this.processingRooms.delete(o);return}if(this.mDirects.has(o)&&n==="join"){this.directs.add(o),this.emit(te.events.roomList.ROOM_JOINED,o),this.emit(te.events.roomList.ROOMLIST_UPDATED);return}n==="join"&&(e.isSpaceRoom()?this.addToSpaces(o):this.rooms.add(o),this.emit(te.events.roomList.ROOM_JOINED,o),this.emit(te.events.roomList.ROOMLIST_UPDATED))}})}}class Qz extends Gn.exports{constructor(e){super(),this.matrixClient=e.matrixClient,this.roomList=e,this.spaces=e.spaces,this.spaceShortcut=new Set,this._populateSpaceShortcut(),this.categorizedSpaces=new Set,this._populateCategorizedSpaces(),this._listenEvents(),ct.register(this.accountActions.bind(this))}_getAccountData(){var e;return((e=this.matrixClient.getAccountData(te.IN_CINNY_SPACES))==null?void 0:e.getContent())||{}}_populateSpaceShortcut(){this.spaceShortcut.clear();const e=this._getAccountData();(e==null?void 0:e.shortcut)!==void 0&&(e.shortcut.forEach(n=>{this.spaces.has(n)&&this.spaceShortcut.add(n)}),e.shortcut.length!==this.spaceShortcut.size&&this._updateSpaceShortcutData([...this.spaceShortcut]))}_updateSpaceShortcutData(e){const n=this._getAccountData();n.shortcut=e,this.matrixClient.setAccountData(te.IN_CINNY_SPACES,n)}_populateCategorizedSpaces(){this.categorizedSpaces.clear();const e=this._getAccountData();(e==null?void 0:e.categorized)!==void 0&&(e.categorized.forEach(n=>{this.spaces.has(n)&&this.categorizedSpaces.add(n)}),e.categorized.length!==this.categorizedSpaces.size&&this._updateCategorizedSpacesData([...this.categorizedSpaces]))}_updateCategorizedSpacesData(e){const n=this._getAccountData();n.categorized=e,this.matrixClient.setAccountData(te.IN_CINNY_SPACES,n)}accountActions(e){var r;const n={[te.actions.accountData.CREATE_SPACE_SHORTCUT]:()=>{const o=i=>{this.spaceShortcut.has(i)||this.spaceShortcut.add(i)};Array.isArray(e.roomId)?e.roomId.forEach(o):o(e.roomId),this._updateSpaceShortcutData([...this.spaceShortcut]),this.emit(te.events.accountData.SPACE_SHORTCUT_UPDATED,e.roomId)},[te.actions.accountData.DELETE_SPACE_SHORTCUT]:()=>{this.spaceShortcut.has(e.roomId)&&(this.spaceShortcut.delete(e.roomId),this._updateSpaceShortcutData([...this.spaceShortcut]),this.emit(te.events.accountData.SPACE_SHORTCUT_UPDATED,e.roomId))},[te.actions.accountData.MOVE_SPACE_SHORTCUTS]:()=>{const{roomId:o,toIndex:i}=e;if(!this.spaceShortcut.has(o))return;this.spaceShortcut.delete(o);const a=[...this.spaceShortcut];i>=a.length?a.push(o):a.splice(i,0,o),this.spaceShortcut=new Set(a),this._updateSpaceShortcutData(a),this.emit(te.events.accountData.SPACE_SHORTCUT_UPDATED,o)},[te.actions.accountData.CATEGORIZE_SPACE]:()=>{this.categorizedSpaces.has(e.roomId)||(this.categorizedSpaces.add(e.roomId),this._updateCategorizedSpacesData([...this.categorizedSpaces]),this.emit(te.events.accountData.CATEGORIZE_SPACE_UPDATED,e.roomId))},[te.actions.accountData.UNCATEGORIZE_SPACE]:()=>{this.categorizedSpaces.has(e.roomId)&&(this.categorizedSpaces.delete(e.roomId),this._updateCategorizedSpacesData([...this.categorizedSpaces]),this.emit(te.events.accountData.CATEGORIZE_SPACE_UPDATED,e.roomId))}};(r=n[e.type])==null||r.call(n)}_listenEvents(){this.matrixClient.on("accountData",e=>{e.getType()===te.IN_CINNY_SPACES&&(this._populateSpaceShortcut(),this.emit(te.events.accountData.SPACE_SHORTCUT_UPDATED),this._populateCategorizedSpaces(),this.emit(te.events.accountData.CATEGORIZE_SPACE_UPDATED))}),this.roomList.on(te.events.roomList.ROOM_LEAVED,e=>{this.spaceShortcut.has(e)&&(this.spaceShortcut.delete(e),this._updateSpaceShortcutData([...this.spaceShortcut]),this.emit(te.events.accountData.SPACE_SHORTCUT_UPDATED,e)),this.categorizedSpaces.has(e)&&(this.categorizedSpaces.delete(e),this._updateCategorizedSpacesData([...this.categorizedSpaces]),this.emit(te.events.accountData.CATEGORIZE_SPACE_UPDATED,e))})}}var J0={},Zz,eW;function tW(t){var e,n,r,o,i;return i=new Uint8Array(16),window.crypto.getRandomValues(i.subarray(0,8)),window.crypto.subtle.generateKey({name:"AES-CTR",length:256},!0,["encrypt","decrypt"]).then(function(a){return e=a,window.crypto.subtle.exportKey("jwk",e)}).then(function(a){return n=a,window.crypto.subtle.encrypt({name:"AES-CTR",counter:i,length:64},e,t)}).then(function(a){return r=a,window.crypto.subtle.digest("SHA-256",r)}).then(function(a){return o=a,{data:r,info:{v:"v2",key:n,iv:uy(i),hashes:{sha256:uy(new Uint8Array(o))}}}})}function nW(t,e){if(e===void 0||e.key===void 0||e.iv===void 0||e.hashes===void 0||e.hashes.sha256===void 0)throw new Error("Invalid info. Missing info.key, info.iv or info.hashes.sha256 key");var n,r=rW(e.iv),o=e.hashes.sha256;return window.crypto.subtle.importKey("jwk",e.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]).then(function(i){return n=i,window.crypto.subtle.digest("SHA-256",t)}).then(function(i){if(uy(new Uint8Array(i))!=o)throw new Error("Mismatched SHA-256 digest");var a;return e.v=="v1"||e.v=="v2"?a=64:a=128,window.crypto.subtle.decrypt({name:"AES-CTR",counter:r,length:a},n,t)})}function uy(t){var e=String.fromCharCode.apply(null,t),n=window.btoa(e),r=t.length,o=4*Math.floor((r+2)/3)+(r+2)%3-2;return n.slice(0,o)}function rW(t){for(var e=t+"===".slice(0,(4-t.length%4)%4),n=window.atob(e),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}try{eW=J0.encryptAttachment=tW,Zz=J0.decryptAttachment=nW}catch{}var qA=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],vh=t=>{let e=0;for(let n=0;n<t.length;n++){let r=t[n],o=qA.indexOf(r);e=e*83+o}return e},eh=(t,e)=>{var n="";for(let r=1;r<=e;r++){let o=Math.floor(t)/Math.pow(83,e-r)%83;n+=qA[Math.floor(o)]}return n},Vu=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Gu=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},oW=t=>t<0?-1:1,Ku=(t,e)=>oW(t)*Math.pow(Math.abs(t),e),X0=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},iW=t=>{if(!t||t.length<6)throw new X0("The blurhash string must be at least 6 characters");let e=vh(t[0]),n=Math.floor(e/9)+1,r=e%9+1;if(t.length!==4+2*r*n)throw new X0(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*r*n}`)},aW=t=>{let e=t>>16,n=t>>8&255,r=t&255;return[Vu(e),Vu(n),Vu(r)]},sW=(t,e)=>{let n=Math.floor(t/361),r=Math.floor(t/19)%19,o=t%19;return[Ku((n-9)/9,2)*e,Ku((r-9)/9,2)*e,Ku((o-9)/9,2)*e]},lW=(t,e,n,r)=>{iW(t),r=r|1;let o=vh(t[0]),i=Math.floor(o/9)+1,a=o%9+1,l=(vh(t[1])+1)/166,u=new Array(a*i);for(let g=0;g<u.length;g++)if(g===0){let c=vh(t.substring(2,6));u[g]=aW(c)}else{let c=vh(t.substring(4+g*2,6+g*2));u[g]=sW(c,l*r)}let d=e*4,s=new Uint8ClampedArray(d*n);for(let g=0;g<n;g++)for(let c=0;c<e;c++){let h=0,_=0,F=0;for(let v=0;v<i;v++)for(let y=0;y<a;y++){let w=Math.cos(Math.PI*c*y/e)*Math.cos(Math.PI*g*v/n),b=u[y+v*a];h+=b[0]*w,_+=b[1]*w,F+=b[2]*w}let m=Gu(h),p=Gu(_),f=Gu(F);s[4*c+0+g*d]=m,s[4*c+1+g*d]=p,s[4*c+2+g*d]=f,s[4*c+3+g*d]=255}return s},uW=lW,eC=4,cW=(t,e,n,r)=>{let o=0,i=0,a=0,l=e*eC;for(let d=0;d<e;d++){let s=eC*d;for(let g=0;g<n;g++){let c=s+g*l,h=r(d,g);o+=h*Vu(t[c]),i+=h*Vu(t[c+1]),a+=h*Vu(t[c+2])}}let u=1/(e*n);return[o*u,i*u,a*u]},dW=t=>{let e=Gu(t[0]),n=Gu(t[1]),r=Gu(t[2]);return(e<<16)+(n<<8)+r},hW=(t,e)=>{let n=Math.floor(Math.max(0,Math.min(18,Math.floor(Ku(t[0]/e,.5)*9+9.5)))),r=Math.floor(Math.max(0,Math.min(18,Math.floor(Ku(t[1]/e,.5)*9+9.5)))),o=Math.floor(Math.max(0,Math.min(18,Math.floor(Ku(t[2]/e,.5)*9+9.5))));return n*19*19+r*19+o},fW=(t,e,n,r,o)=>{if(r<1||r>9||o<1||o>9)throw new X0("BlurHash must have between 1 and 9 components");if(e*n*4!==t.length)throw new X0("Width and height must match the pixels array");let i=[];for(let g=0;g<o;g++)for(let c=0;c<r;c++){let h=c==0&&g==0?1:2,_=cW(t,e,n,(F,m)=>h*Math.cos(Math.PI*c*F/e)*Math.cos(Math.PI*g*m/n));i.push(_)}let a=i[0],l=i.slice(1),u="",d=r-1+(o-1)*9;u+=eh(d,1);let s;if(l.length>0){let g=Math.max(...l.map(h=>Math.max(...h))),c=Math.floor(Math.max(0,Math.min(82,Math.floor(g*166-.5))));s=(c+1)/166,u+=eh(c,1)}else s=1,u+=eh(0,1);return u+=eh(dW(a),4),l.forEach(g=>{u+=eh(hW(g,s),2)}),u},gW=fW;const pW=[{hexcode:"1F1E6",label:"regional indicator A",unicode:""},{hexcode:"1F1E7",label:"regional indicator B",unicode:""},{hexcode:"1F1E8",label:"regional indicator C",unicode:""},{hexcode:"1F1E9",label:"regional indicator D",unicode:""},{hexcode:"1F1EA",label:"regional indicator E",unicode:""},{hexcode:"1F1EB",label:"regional indicator F",unicode:""},{hexcode:"1F1EC",label:"regional indicator G",unicode:""},{hexcode:"1F1ED",label:"regional indicator H",unicode:""},{hexcode:"1F1EE",label:"regional indicator I",unicode:""},{hexcode:"1F1EF",label:"regional indicator J",unicode:""},{hexcode:"1F1F0",label:"regional indicator K",unicode:""},{hexcode:"1F1F1",label:"regional indicator L",unicode:""},{hexcode:"1F1F2",label:"regional indicator M",unicode:""},{hexcode:"1F1F3",label:"regional indicator N",unicode:""},{hexcode:"1F1F4",label:"regional indicator O",unicode:""},{hexcode:"1F1F5",label:"regional indicator P",unicode:""},{hexcode:"1F1F6",label:"regional indicator Q",unicode:""},{hexcode:"1F1F7",label:"regional indicator R",unicode:""},{hexcode:"1F1F8",label:"regional indicator S",unicode:""},{hexcode:"1F1F9",label:"regional indicator T",unicode:""},{hexcode:"1F1FA",label:"regional indicator U",unicode:""},{hexcode:"1F1FB",label:"regional indicator V",unicode:""},{hexcode:"1F1FC",label:"regional indicator W",unicode:""},{hexcode:"1F1FD",label:"regional indicator X",unicode:""},{hexcode:"1F1FE",label:"regional indicator Y",unicode:""},{hexcode:"1F1FF",label:"regional indicator Z",unicode:""},{group:0,hexcode:"1F600",label:"grinning face",order:1,tags:["face","grin"],unicode:""},{group:0,hexcode:"1F603",label:"grinning face with big eyes",order:2,tags:["face","mouth","open","smile"],unicode:""},{group:0,hexcode:"1F604",label:"grinning face with smiling eyes",order:3,tags:["eye","face","mouth","open","smile"],unicode:"",emoticon:":D"},{group:0,hexcode:"1F601",label:"beaming face with smiling eyes",order:4,tags:["eye","face","grin","smile"],unicode:""},{group:0,hexcode:"1F606",label:"grinning squinting face",order:5,tags:["face","laugh","mouth","satisfied","smile"],unicode:"",emoticon:["xD","XD"]},{group:0,hexcode:"1F605",label:"grinning face with sweat",order:6,tags:["cold","face","open","smile","sweat"],unicode:""},{group:0,hexcode:"1F923",label:"rolling on the floor laughing",order:7,tags:["face","floor","laugh","rofl","rolling","rotfl"],unicode:"",emoticon:":'D"},{group:0,hexcode:"1F602",label:"face with tears of joy",order:8,tags:["face","joy","laugh","tear"],unicode:"",emoticon:":')"},{group:0,hexcode:"1F642",label:"slightly smiling face",order:9,tags:["face","smile"],unicode:"",emoticon:":)"},{group:0,hexcode:"1F643",label:"upside-down face",order:10,tags:["face","upside-down"],unicode:""},{group:0,hexcode:"1FAE0",label:"melting face",order:11,tags:["disappear","dissolve","liquid","melt"],unicode:""},{group:0,hexcode:"1F609",label:"winking face",order:12,tags:["face","wink"],unicode:"",emoticon:";)"},{group:0,hexcode:"1F60A",label:"smiling face with smiling eyes",order:13,tags:["blush","eye","face","smile"],unicode:"",emoticon:":>"},{group:0,hexcode:"1F607",label:"smiling face with halo",order:14,tags:["angel","face","fantasy","halo","innocent"],unicode:"",emoticon:["o:)","O:)"]},{group:0,hexcode:"1F970",label:"smiling face with hearts",order:15,tags:["adore","crush","hearts","in love"],unicode:""},{group:0,hexcode:"1F60D",label:"smiling face with heart-eyes",order:16,tags:["eye","face","love","smile"],unicode:""},{group:0,hexcode:"1F929",label:"star-struck",order:17,tags:["eyes","face","grinning","star"],unicode:""},{group:0,hexcode:"1F618",label:"face blowing a kiss",order:18,tags:["face","kiss"],unicode:"",emoticon:[":x",":X"]},{group:0,hexcode:"1F617",label:"kissing face",order:19,tags:["face","kiss"],unicode:""},{group:0,hexcode:"263A",label:"smiling face",order:21,tags:["face","outlined","relaxed","smile"],unicode:""},{group:0,hexcode:"1F61A",label:"kissing face with closed eyes",order:22,tags:["closed","eye","face","kiss"],unicode:"",emoticon:":*"},{group:0,hexcode:"1F619",label:"kissing face with smiling eyes",order:23,tags:["eye","face","kiss","smile"],unicode:""},{group:0,hexcode:"1F972",label:"smiling face with tear",order:24,tags:["grateful","proud","relieved","smiling","tear","touched"],unicode:""},{group:0,hexcode:"1F60B",label:"face savoring food",order:25,tags:["delicious","face","savouring","smile","yum"],unicode:""},{group:0,hexcode:"1F61B",label:"face with tongue",order:26,tags:["face","tongue"],unicode:"",emoticon:[":p",":P"]},{group:0,hexcode:"1F61C",label:"winking face with tongue",order:27,tags:["eye","face","joke","tongue","wink"],unicode:"",emoticon:[";p",";P"]},{group:0,hexcode:"1F92A",label:"zany face",order:28,tags:["eye","goofy","large","small"],unicode:""},{group:0,hexcode:"1F61D",label:"squinting face with tongue",order:29,tags:["eye","face","horrible","taste","tongue"],unicode:"",emoticon:["xp","xP","XP"]},{group:0,hexcode:"1F911",label:"money-mouth face",order:30,tags:["face","money","mouth"],unicode:""},{group:0,hexcode:"1F917",label:"smiling face with open hands",order:31,tags:["face","hug","hugging","open hands","smiling face"],unicode:""},{group:0,hexcode:"1F92D",label:"face with hand over mouth",order:32,tags:["whoops"],unicode:""},{group:0,hexcode:"1FAE2",label:"face with open eyes and hand over mouth",order:33,tags:["amazement","awe","disbelief","embarrass","scared","surprise"],unicode:""},{group:0,hexcode:"1FAE3",label:"face with peeking eye",order:34,tags:["captivated","peep","stare"],unicode:""},{group:0,hexcode:"1F92B",label:"shushing face",order:35,tags:["quiet","shush"],unicode:""},{group:0,hexcode:"1F914",label:"thinking face",order:36,tags:["face","thinking"],unicode:"",emoticon:[":l",":L"]},{group:0,hexcode:"1FAE1",label:"saluting face",order:37,tags:["ok","salute","sunny","troops","yes"],unicode:""},{group:0,hexcode:"1F910",label:"zipper-mouth face",order:38,tags:["face","mouth","zipper"],unicode:"",emoticon:[":z",":Z"]},{group:0,hexcode:"1F928",label:"face with raised eyebrow",order:39,tags:["distrust","skeptic"],unicode:""},{group:0,hexcode:"1F610",label:"neutral face",order:40,tags:["deadpan","face","meh","neutral"],unicode:"",emoticon:":|"},{group:0,hexcode:"1F611",label:"expressionless face",order:41,tags:["expressionless","face","inexpressive","meh","unexpressive"],unicode:""},{group:0,hexcode:"1F636",label:"face without mouth",order:42,tags:["face","mouth","quiet","silent"],unicode:"",emoticon:":#"},{group:0,hexcode:"1FAE5",label:"dotted line face",order:43,tags:["depressed","disappear","hide","introvert","invisible"],unicode:""},{group:0,hexcode:"1F636-200D-1F32B-FE0F",label:"face in clouds",order:44,tags:["absentminded","face in the fog","head in clouds"],unicode:""},{group:0,hexcode:"1F60F",label:"smirking face",order:46,tags:["face","smirk"],unicode:"",emoticon:":j"},{group:0,hexcode:"1F612",label:"unamused face",order:47,tags:["face","unamused","unhappy"],unicode:"",emoticon:":?"},{group:0,hexcode:"1F644",label:"face with rolling eyes",order:48,tags:["eyeroll","eyes","face","rolling"],unicode:""},{group:0,hexcode:"1F62C",label:"grimacing face",order:49,tags:["face","grimace"],unicode:"",emoticon:"8D"},{group:0,hexcode:"1F62E-200D-1F4A8",label:"face exhaling",order:50,tags:["exhale","gasp","groan","relief","whisper","whistle"],unicode:""},{group:0,hexcode:"1F925",label:"lying face",order:51,tags:["face","lie","pinocchio"],unicode:""},{group:0,hexcode:"1F60C",label:"relieved face",order:52,tags:["face","relieved"],unicode:""},{group:0,hexcode:"1F614",label:"pensive face",order:53,tags:["dejected","face","pensive"],unicode:""},{group:0,hexcode:"1F62A",label:"sleepy face",order:54,tags:["face","good night","sleep"],unicode:""},{group:0,hexcode:"1F924",label:"drooling face",order:55,tags:["drooling","face"],unicode:""},{group:0,hexcode:"1F634",label:"sleeping face",order:56,tags:["face","good night","sleep","zzz"],unicode:""},{group:0,hexcode:"1F637",label:"face with medical mask",order:57,tags:["cold","doctor","face","mask","sick"],unicode:""},{group:0,hexcode:"1F912",label:"face with thermometer",order:58,tags:["face","ill","sick","thermometer"],unicode:""},{group:0,hexcode:"1F915",label:"face with head-bandage",order:59,tags:["bandage","face","hurt","injury"],unicode:""},{group:0,hexcode:"1F922",label:"nauseated face",order:60,tags:["face","nauseated","vomit"],unicode:"",emoticon:"%("},{group:0,hexcode:"1F92E",label:"face vomiting",order:61,tags:["puke","sick","vomit"],unicode:""},{group:0,hexcode:"1F927",label:"sneezing face",order:62,tags:["face","gesundheit","sneeze"],unicode:""},{group:0,hexcode:"1F975",label:"hot face",order:63,tags:["feverish","heat stroke","hot","red-faced","sweating"],unicode:""},{group:0,hexcode:"1F976",label:"cold face",order:64,tags:["blue-faced","cold","freezing","frostbite","icicles"],unicode:""},{group:0,hexcode:"1F974",label:"woozy face",order:65,tags:["dizzy","intoxicated","tipsy","uneven eyes","wavy mouth"],unicode:"",emoticon:":&"},{group:0,hexcode:"1F635",label:"face with crossed-out eyes",order:66,tags:["crossed-out eyes","dead","face","knocked out"],unicode:"",emoticon:["xo","XO"]},{group:0,hexcode:"1F635-200D-1F4AB",label:"face with spiral eyes",order:67,tags:["dizzy","hypnotized","spiral","trouble","whoa"],unicode:""},{group:0,hexcode:"1F92F",label:"exploding head",order:68,tags:["mind blown","shocked"],unicode:""},{group:0,hexcode:"1F920",label:"cowboy hat face",order:69,tags:["cowboy","cowgirl","face","hat"],unicode:""},{group:0,hexcode:"1F973",label:"partying face",order:70,tags:["celebration","hat","horn","party"],unicode:""},{group:0,hexcode:"1F978",label:"disguised face",order:71,tags:["disguise","face","glasses","incognito","nose"],unicode:""},{group:0,hexcode:"1F60E",label:"smiling face with sunglasses",order:72,tags:["bright","cool","face","sun","sunglasses"],unicode:"",emoticon:"8)"},{group:0,hexcode:"1F913",label:"nerd face",order:73,tags:["face","geek","nerd"],unicode:"",emoticon:":B"},{group:0,hexcode:"1F9D0",label:"face with monocle",order:74,tags:["face","monocle","stuffy"],unicode:""},{group:0,hexcode:"1F615",label:"confused face",order:75,tags:["confused","face","meh"],unicode:"",emoticon:":/"},{group:0,hexcode:"1FAE4",label:"face with diagonal mouth",order:76,tags:["disappointed","meh","skeptical","unsure"],unicode:""},{group:0,hexcode:"1F61F",label:"worried face",order:77,tags:["face","worried"],unicode:""},{group:0,hexcode:"1F641",label:"slightly frowning face",order:78,tags:["face","frown"],unicode:""},{group:0,hexcode:"2639",label:"frowning face",order:80,tags:["face","frown"],unicode:"",emoticon:":("},{group:0,hexcode:"1F62E",label:"face with open mouth",order:81,tags:["face","mouth","open","sympathy"],unicode:""},{group:0,hexcode:"1F62F",label:"hushed face",order:82,tags:["face","hushed","stunned","surprised"],unicode:""},{group:0,hexcode:"1F632",label:"astonished face",order:83,tags:["astonished","face","shocked","totally"],unicode:"",emoticon:[":o",":O"]},{group:0,hexcode:"1F633",label:"flushed face",order:84,tags:["dazed","face","flushed"],unicode:"",emoticon:":$"},{group:0,hexcode:"1F97A",label:"pleading face",order:85,tags:["begging","mercy","puppy eyes"],unicode:""},{group:0,hexcode:"1F979",label:"face holding back tears",order:86,tags:["angry","cry","proud","resist","sad"],unicode:""},{group:0,hexcode:"1F626",label:"frowning face with open mouth",order:87,tags:["face","frown","mouth","open"],unicode:""},{group:0,hexcode:"1F627",label:"anguished face",order:88,tags:["anguished","face"],unicode:"",emoticon:[":s",":S"]},{group:0,hexcode:"1F628",label:"fearful face",order:89,tags:["face","fear","fearful","scared"],unicode:""},{group:0,hexcode:"1F630",label:"anxious face with sweat",order:90,tags:["blue","cold","face","rushed","sweat"],unicode:""},{group:0,hexcode:"1F625",label:"sad but relieved face",order:91,tags:["disappointed","face","relieved","whew"],unicode:""},{group:0,hexcode:"1F622",label:"crying face",order:92,tags:["cry","face","sad","tear"],unicode:"",emoticon:":'("},{group:0,hexcode:"1F62D",label:"loudly crying face",order:93,tags:["cry","face","sad","sob","tear"],unicode:"",emoticon:":'o"},{group:0,hexcode:"1F631",label:"face screaming in fear",order:94,tags:["face","fear","munch","scared","scream"],unicode:"",emoticon:"Dx"},{group:0,hexcode:"1F616",label:"confounded face",order:95,tags:["confounded","face"],unicode:"",emoticon:["x(","X("]},{group:0,hexcode:"1F623",label:"persevering face",order:96,tags:["face","persevere"],unicode:""},{group:0,hexcode:"1F61E",label:"disappointed face",order:97,tags:["disappointed","face"],unicode:""},{group:0,hexcode:"1F613",label:"downcast face with sweat",order:98,tags:["cold","face","sweat"],unicode:"",emoticon:":<"},{group:0,hexcode:"1F629",label:"weary face",order:99,tags:["face","tired","weary"],unicode:"",emoticon:"D:"},{group:0,hexcode:"1F62B",label:"tired face",order:100,tags:["face","tired"],unicode:"",emoticon:[":c",":C"]},{group:0,hexcode:"1F971",label:"yawning face",order:101,tags:["bored","tired","yawn"],unicode:""},{group:0,hexcode:"1F624",label:"face with steam from nose",order:102,tags:["face","triumph","won"],unicode:""},{group:0,hexcode:"1F621",label:"enraged face",order:103,tags:["angry","enraged","face","mad","pouting","rage","red"],unicode:"",emoticon:">:/"},{group:0,hexcode:"1F620",label:"angry face",order:104,tags:["anger","angry","face","mad"],unicode:""},{group:0,hexcode:"1F92C",label:"face with symbols on mouth",order:105,tags:["swearing"],unicode:"",emoticon:":@"},{group:0,hexcode:"1F608",label:"smiling face with horns",order:106,tags:["face","fairy tale","fantasy","horns","smile"],unicode:"",emoticon:">:)"},{group:0,hexcode:"1F47F",label:"angry face with horns",order:107,tags:["demon","devil","face","fantasy","imp"],unicode:"",emoticon:">:("},{group:0,hexcode:"1F480",label:"skull",order:108,tags:["death","face","fairy tale","monster"],unicode:""},{group:0,hexcode:"2620",label:"skull and crossbones",order:110,tags:["crossbones","death","face","monster","skull"],unicode:""},{group:0,hexcode:"1F4A9",label:"pile of poo",order:111,tags:["dung","face","monster","poo","poop"],unicode:""},{group:0,hexcode:"1F921",label:"clown face",order:112,tags:["clown","face"],unicode:""},{group:0,hexcode:"1F479",label:"ogre",order:113,tags:["creature","face","fairy tale","fantasy","monster"],unicode:"",emoticon:">0)"},{group:0,hexcode:"1F47A",label:"goblin",order:114,tags:["creature","face","fairy tale","fantasy","monster"],unicode:""},{group:0,hexcode:"1F47B",label:"ghost",order:115,tags:["creature","face","fairy tale","fantasy","monster"],unicode:""},{group:0,hexcode:"1F47D",label:"alien",order:116,tags:["creature","extraterrestrial","face","fantasy","ufo"],unicode:""},{group:0,hexcode:"1F47E",label:"alien monster",order:117,tags:["alien","creature","extraterrestrial","face","monster","ufo"],unicode:""},{group:0,hexcode:"1F916",label:"robot",order:118,tags:["face","monster"],unicode:""},{group:0,hexcode:"1F63A",label:"grinning cat",order:119,tags:["cat","face","grinning","mouth","open","smile"],unicode:""},{group:0,hexcode:"1F638",label:"grinning cat with smiling eyes",order:120,tags:["cat","eye","face","grin","smile"],unicode:""},{group:0,hexcode:"1F639",label:"cat with tears of joy",order:121,tags:["cat","face","joy","tear"],unicode:""},{group:0,hexcode:"1F63B",label:"smiling cat with heart-eyes",order:122,tags:["cat","eye","face","heart","love","smile"],unicode:""},{group:0,hexcode:"1F63C",label:"cat with wry smile",order:123,tags:["cat","face","ironic","smile","wry"],unicode:""},{group:0,hexcode:"1F63D",label:"kissing cat",order:124,tags:["cat","eye","face","kiss"],unicode:"",emoticon:":3"},{group:0,hexcode:"1F640",label:"weary cat",order:125,tags:["cat","face","oh","surprised","weary"],unicode:""},{group:0,hexcode:"1F63F",label:"crying cat",order:126,tags:["cat","cry","face","sad","tear"],unicode:""},{group:0,hexcode:"1F63E",label:"pouting cat",order:127,tags:["cat","face","pouting"],unicode:""},{group:0,hexcode:"1F648",label:"see-no-evil monkey",order:128,tags:["evil","face","forbidden","monkey","see"],unicode:""},{group:0,hexcode:"1F649",label:"hear-no-evil monkey",order:129,tags:["evil","face","forbidden","hear","monkey"],unicode:""},{group:0,hexcode:"1F64A",label:"speak-no-evil monkey",order:130,tags:["evil","face","forbidden","monkey","speak"],unicode:""},{group:0,hexcode:"1F48B",label:"kiss mark",order:131,tags:["kiss","lips"],unicode:""},{group:0,hexcode:"1F48C",label:"love letter",order:132,tags:["heart","letter","love","mail"],unicode:""},{group:0,hexcode:"1F498",label:"heart with arrow",order:133,tags:["arrow","cupid"],unicode:""},{group:0,hexcode:"1F49D",label:"heart with ribbon",order:134,tags:["ribbon","valentine"],unicode:""},{group:0,hexcode:"1F496",label:"sparkling heart",order:135,tags:["excited","sparkle"],unicode:""},{group:0,hexcode:"1F497",label:"growing heart",order:136,tags:["excited","growing","nervous","pulse"],unicode:""},{group:0,hexcode:"1F493",label:"beating heart",order:137,tags:["beating","heartbeat","pulsating"],unicode:""},{group:0,hexcode:"1F49E",label:"revolving hearts",order:138,tags:["revolving"],unicode:""},{group:0,hexcode:"1F495",label:"two hearts",order:139,tags:["love"],unicode:""},{group:0,hexcode:"1F49F",label:"heart decoration",order:140,tags:["heart"],unicode:""},{group:0,hexcode:"2763",label:"heart exclamation",order:142,tags:["exclamation","mark","punctuation"],unicode:""},{group:0,hexcode:"1F494",label:"broken heart",order:143,tags:["break","broken"],unicode:"",emoticon:"</3"},{group:0,hexcode:"2764-FE0F-200D-1F525",label:"heart on fire",order:144,tags:["burn","heart","love","lust","sacred heart"],unicode:""},{group:0,hexcode:"2764-FE0F-200D-1FA79",label:"mending heart",order:146,tags:["healthier","improving","mending","recovering","recuperating","well"],unicode:""},{group:0,hexcode:"2764",label:"red heart",order:149,tags:["heart"],unicode:"",emoticon:"<3"},{group:0,hexcode:"1F9E1",label:"orange heart",order:150,tags:["orange"],unicode:""},{group:0,hexcode:"1F49B",label:"yellow heart",order:151,tags:["yellow"],unicode:""},{group:0,hexcode:"1F49A",label:"green heart",order:152,tags:["green"],unicode:""},{group:0,hexcode:"1F499",label:"blue heart",order:153,tags:["blue"],unicode:""},{group:0,hexcode:"1F49C",label:"purple heart",order:154,tags:["purple"],unicode:""},{group:0,hexcode:"1F90E",label:"brown heart",order:155,tags:["brown","heart"],unicode:""},{group:0,hexcode:"1F5A4",label:"black heart",order:156,tags:["black","evil","wicked"],unicode:""},{group:0,hexcode:"1F90D",label:"white heart",order:157,tags:["heart","white"],unicode:""},{group:0,hexcode:"1F4AF",label:"hundred points",order:158,tags:["100","full","hundred","score"],unicode:""},{group:0,hexcode:"1F4A2",label:"anger symbol",order:159,tags:["angry","comic","mad"],unicode:""},{group:0,hexcode:"1F4A5",label:"collision",order:160,tags:["boom","comic"],unicode:""},{group:0,hexcode:"1F4AB",label:"dizzy",order:161,tags:["comic","star"],unicode:""},{group:0,hexcode:"1F4A6",label:"sweat droplets",order:162,tags:["comic","splashing","sweat"],unicode:""},{group:0,hexcode:"1F4A8",label:"dashing away",order:163,tags:["comic","dash","running"],unicode:""},{group:0,hexcode:"1F573",label:"hole",order:165,tags:["hole"],unicode:""},{group:0,hexcode:"1F4A3",label:"bomb",order:166,tags:["comic"],unicode:""},{group:0,hexcode:"1F4AC",label:"speech balloon",order:167,tags:["balloon","bubble","comic","dialog","speech"],unicode:""},{group:0,hexcode:"1F441-FE0F-200D-1F5E8-FE0F",label:"eye in speech bubble",order:168,tags:["balloon","bubble","eye","speech","witness"],unicode:""},{group:0,hexcode:"1F5E8",label:"left speech bubble",order:173,tags:["balloon","bubble","dialog","speech"],unicode:""},{group:0,hexcode:"1F5EF",label:"right anger bubble",order:175,tags:["angry","balloon","bubble","mad"],unicode:""},{group:0,hexcode:"1F4AD",label:"thought balloon",order:176,tags:["balloon","bubble","comic","thought"],unicode:""},{group:0,hexcode:"1F4A4",label:"ZZZ",order:177,tags:["comic","good night","sleep","zzz"],unicode:""},{group:1,hexcode:"1F44B",label:"waving hand",order:178,tags:["hand","wave","waving"],unicode:"",skins:[{group:1,hexcode:"1F44B-1F3FB",label:"waving hand: light skin tone",order:179,unicode:""},{group:1,hexcode:"1F44B-1F3FC",label:"waving hand: medium-light skin tone",order:180,unicode:""},{group:1,hexcode:"1F44B-1F3FD",label:"waving hand: medium skin tone",order:181,unicode:""},{group:1,hexcode:"1F44B-1F3FE",label:"waving hand: medium-dark skin tone",order:182,unicode:""},{group:1,hexcode:"1F44B-1F3FF",label:"waving hand: dark skin tone",order:183,unicode:""}]},{group:1,hexcode:"1F91A",label:"raised back of hand",order:184,tags:["backhand","raised"],unicode:"",skins:[{group:1,hexcode:"1F91A-1F3FB",label:"raised back of hand: light skin tone",order:185,unicode:""},{group:1,hexcode:"1F91A-1F3FC",label:"raised back of hand: medium-light skin tone",order:186,unicode:""},{group:1,hexcode:"1F91A-1F3FD",label:"raised back of hand: medium skin tone",order:187,unicode:""},{group:1,hexcode:"1F91A-1F3FE",label:"raised back of hand: medium-dark skin tone",order:188,unicode:""},{group:1,hexcode:"1F91A-1F3FF",label:"raised back of hand: dark skin tone",order:189,unicode:""}]},{group:1,hexcode:"1F590",label:"hand with fingers splayed",order:191,tags:["finger","hand","splayed"],unicode:"",skins:[{group:1,hexcode:"1F590-1F3FB",label:"hand with fingers splayed: light skin tone",order:192,unicode:""},{group:1,hexcode:"1F590-1F3FC",label:"hand with fingers splayed: medium-light skin tone",order:193,unicode:""},{group:1,hexcode:"1F590-1F3FD",label:"hand with fingers splayed: medium skin tone",order:194,unicode:""},{group:1,hexcode:"1F590-1F3FE",label:"hand with fingers splayed: medium-dark skin tone",order:195,unicode:""},{group:1,hexcode:"1F590-1F3FF",label:"hand with fingers splayed: dark skin tone",order:196,unicode:""}]},{group:1,hexcode:"270B",label:"raised hand",order:197,tags:["hand","high 5","high five"],unicode:"",skins:[{group:1,hexcode:"270B-1F3FB",label:"raised hand: light skin tone",order:198,unicode:""},{group:1,hexcode:"270B-1F3FC",label:"raised hand: medium-light skin tone",order:199,unicode:""},{group:1,hexcode:"270B-1F3FD",label:"raised hand: medium skin tone",order:200,unicode:""},{group:1,hexcode:"270B-1F3FE",label:"raised hand: medium-dark skin tone",order:201,unicode:""},{group:1,hexcode:"270B-1F3FF",label:"raised hand: dark skin tone",order:202,unicode:""}]},{group:1,hexcode:"1F596",label:"vulcan salute",order:203,tags:["finger","hand","spock","vulcan"],unicode:"",skins:[{group:1,hexcode:"1F596-1F3FB",label:"vulcan salute: light skin tone",order:204,unicode:""},{group:1,hexcode:"1F596-1F3FC",label:"vulcan salute: medium-light skin tone",order:205,unicode:""},{group:1,hexcode:"1F596-1F3FD",label:"vulcan salute: medium skin tone",order:206,unicode:""},{group:1,hexcode:"1F596-1F3FE",label:"vulcan salute: medium-dark skin tone",order:207,unicode:""},{group:1,hexcode:"1F596-1F3FF",label:"vulcan salute: dark skin tone",order:208,unicode:""}]},{group:1,hexcode:"1FAF1",label:"rightwards hand",order:209,tags:["hand","right","rightward"],unicode:"",skins:[{group:1,hexcode:"1FAF1-1F3FB",label:"rightwards hand: light skin tone",order:210,unicode:""},{group:1,hexcode:"1FAF1-1F3FC",label:"rightwards hand: medium-light skin tone",order:211,unicode:""},{group:1,hexcode:"1FAF1-1F3FD",label:"rightwards hand: medium skin tone",order:212,unicode:""},{group:1,hexcode:"1FAF1-1F3FE",label:"rightwards hand: medium-dark skin tone",order:213,unicode:""},{group:1,hexcode:"1FAF1-1F3FF",label:"rightwards hand: dark skin tone",order:214,unicode:""}]},{group:1,hexcode:"1FAF2",label:"leftwards hand",order:215,tags:["hand","left","leftward"],unicode:"",skins:[{group:1,hexcode:"1FAF2-1F3FB",label:"leftwards hand: light skin tone",order:216,unicode:""},{group:1,hexcode:"1FAF2-1F3FC",label:"leftwards hand: medium-light skin tone",order:217,unicode:""},{group:1,hexcode:"1FAF2-1F3FD",label:"leftwards hand: medium skin tone",order:218,unicode:""},{group:1,hexcode:"1FAF2-1F3FE",label:"leftwards hand: medium-dark skin tone",order:219,unicode:""},{group:1,hexcode:"1FAF2-1F3FF",label:"leftwards hand: dark skin tone",order:220,unicode:""}]},{group:1,hexcode:"1FAF3",label:"palm down hand",order:221,tags:["dismiss","drop","shoo"],unicode:"",skins:[{group:1,hexcode:"1FAF3-1F3FB",label:"palm down hand: light skin tone",order:222,unicode:""},{group:1,hexcode:"1FAF3-1F3FC",label:"palm down hand: medium-light skin tone",order:223,unicode:""},{group:1,hexcode:"1FAF3-1F3FD",label:"palm down hand: medium skin tone",order:224,unicode:""},{group:1,hexcode:"1FAF3-1F3FE",label:"palm down hand: medium-dark skin tone",order:225,unicode:""},{group:1,hexcode:"1FAF3-1F3FF",label:"palm down hand: dark skin tone",order:226,unicode:""}]},{group:1,hexcode:"1FAF4",label:"palm up hand",order:227,tags:["beckon","catch","come","offer"],unicode:"",skins:[{group:1,hexcode:"1FAF4-1F3FB",label:"palm up hand: light skin tone",order:228,unicode:""},{group:1,hexcode:"1FAF4-1F3FC",label:"palm up hand: medium-light skin tone",order:229,unicode:""},{group:1,hexcode:"1FAF4-1F3FD",label:"palm up hand: medium skin tone",order:230,unicode:""},{group:1,hexcode:"1FAF4-1F3FE",label:"palm up hand: medium-dark skin tone",order:231,unicode:""},{group:1,hexcode:"1FAF4-1F3FF",label:"palm up hand: dark skin tone",order:232,unicode:""}]},{group:1,hexcode:"1F44C",label:"OK hand",order:233,tags:["hand","ok"],unicode:"",skins:[{group:1,hexcode:"1F44C-1F3FB",label:"OK hand: light skin tone",order:234,unicode:""},{group:1,hexcode:"1F44C-1F3FC",label:"OK hand: medium-light skin tone",order:235,unicode:""},{group:1,hexcode:"1F44C-1F3FD",label:"OK hand: medium skin tone",order:236,unicode:""},{group:1,hexcode:"1F44C-1F3FE",label:"OK hand: medium-dark skin tone",order:237,unicode:""},{group:1,hexcode:"1F44C-1F3FF",label:"OK hand: dark skin tone",order:238,unicode:""}]},{group:1,hexcode:"1F90C",label:"pinched fingers",order:239,tags:["fingers","hand gesture","interrogation","pinched","sarcastic"],unicode:"",skins:[{group:1,hexcode:"1F90C-1F3FB",label:"pinched fingers: light skin tone",order:240,unicode:""},{group:1,hexcode:"1F90C-1F3FC",label:"pinched fingers: medium-light skin tone",order:241,unicode:""},{group:1,hexcode:"1F90C-1F3FD",label:"pinched fingers: medium skin tone",order:242,unicode:""},{group:1,hexcode:"1F90C-1F3FE",label:"pinched fingers: medium-dark skin tone",order:243,unicode:""},{group:1,hexcode:"1F90C-1F3FF",label:"pinched fingers: dark skin tone",order:244,unicode:""}]},{group:1,hexcode:"1F90F",label:"pinching hand",order:245,tags:["small amount"],unicode:"",skins:[{group:1,hexcode:"1F90F-1F3FB",label:"pinching hand: light skin tone",order:246,unicode:""},{group:1,hexcode:"1F90F-1F3FC",label:"pinching hand: medium-light skin tone",order:247,unicode:""},{group:1,hexcode:"1F90F-1F3FD",label:"pinching hand: medium skin tone",order:248,unicode:""},{group:1,hexcode:"1F90F-1F3FE",label:"pinching hand: medium-dark skin tone",order:249,unicode:""},{group:1,hexcode:"1F90F-1F3FF",label:"pinching hand: dark skin tone",order:250,unicode:""}]},{group:1,hexcode:"270C",label:"victory hand",order:252,tags:["hand","v","victory"],unicode:"",skins:[{group:1,hexcode:"270C-1F3FB",label:"victory hand: light skin tone",order:253,unicode:""},{group:1,hexcode:"270C-1F3FC",label:"victory hand: medium-light skin tone",order:254,unicode:""},{group:1,hexcode:"270C-1F3FD",label:"victory hand: medium skin tone",order:255,unicode:""},{group:1,hexcode:"270C-1F3FE",label:"victory hand: medium-dark skin tone",order:256,unicode:""},{group:1,hexcode:"270C-1F3FF",label:"victory hand: dark skin tone",order:257,unicode:""}]},{group:1,hexcode:"1F91E",label:"crossed fingers",order:258,tags:["cross","finger","hand","luck"],unicode:"",skins:[{group:1,hexcode:"1F91E-1F3FB",label:"crossed fingers: light skin tone",order:259,unicode:""},{group:1,hexcode:"1F91E-1F3FC",label:"crossed fingers: medium-light skin tone",order:260,unicode:""},{group:1,hexcode:"1F91E-1F3FD",label:"crossed fingers: medium skin tone",order:261,unicode:""},{group:1,hexcode:"1F91E-1F3FE",label:"crossed fingers: medium-dark skin tone",order:262,unicode:""},{group:1,hexcode:"1F91E-1F3FF",label:"crossed fingers: dark skin tone",order:263,unicode:""}]},{group:1,hexcode:"1FAF0",label:"hand with index finger and thumb crossed",order:264,tags:["expensive","heart","love","money","snap"],unicode:"",skins:[{group:1,hexcode:"1FAF0-1F3FB",label:"hand with index finger and thumb crossed: light skin tone",order:265,unicode:""},{group:1,hexcode:"1FAF0-1F3FC",label:"hand with index finger and thumb crossed: medium-light skin tone",order:266,unicode:""},{group:1,hexcode:"1FAF0-1F3FD",label:"hand with index finger and thumb crossed: medium skin tone",order:267,unicode:""},{group:1,hexcode:"1FAF0-1F3FE",label:"hand with index finger and thumb crossed: medium-dark skin tone",order:268,unicode:""},{group:1,hexcode:"1FAF0-1F3FF",label:"hand with index finger and thumb crossed: dark skin tone",order:269,unicode:""}]},{group:1,hexcode:"1F91F",label:"love-you gesture",order:270,tags:["hand","ily"],unicode:"",skins:[{group:1,hexcode:"1F91F-1F3FB",label:"love-you gesture: light skin tone",order:271,unicode:""},{group:1,hexcode:"1F91F-1F3FC",label:"love-you gesture: medium-light skin tone",order:272,unicode:""},{group:1,hexcode:"1F91F-1F3FD",label:"love-you gesture: medium skin tone",order:273,unicode:""},{group:1,hexcode:"1F91F-1F3FE",label:"love-you gesture: medium-dark skin tone",order:274,unicode:""},{group:1,hexcode:"1F91F-1F3FF",label:"love-you gesture: dark skin tone",order:275,unicode:""}]},{group:1,hexcode:"1F918",label:"sign of the horns",order:276,tags:["finger","hand","horns","rock-on"],unicode:"",emoticon:["\\m/","\\M/"],skins:[{group:1,hexcode:"1F918-1F3FB",label:"sign of the horns: light skin tone",order:277,unicode:""},{group:1,hexcode:"1F918-1F3FC",label:"sign of the horns: medium-light skin tone",order:278,unicode:""},{group:1,hexcode:"1F918-1F3FD",label:"sign of the horns: medium skin tone",order:279,unicode:""},{group:1,hexcode:"1F918-1F3FE",label:"sign of the horns: medium-dark skin tone",order:280,unicode:""},{group:1,hexcode:"1F918-1F3FF",label:"sign of the horns: dark skin tone",order:281,unicode:""}]},{group:1,hexcode:"1F919",label:"call me hand",order:282,tags:["call","hand","hang loose","shaka"],unicode:"",skins:[{group:1,hexcode:"1F919-1F3FB",label:"call me hand: light skin tone",order:283,unicode:""},{group:1,hexcode:"1F919-1F3FC",label:"call me hand: medium-light skin tone",order:284,unicode:""},{group:1,hexcode:"1F919-1F3FD",label:"call me hand: medium skin tone",order:285,unicode:""},{group:1,hexcode:"1F919-1F3FE",label:"call me hand: medium-dark skin tone",order:286,unicode:""},{group:1,hexcode:"1F919-1F3FF",label:"call me hand: dark skin tone",order:287,unicode:""}]},{group:1,hexcode:"1F448",label:"backhand index pointing left",order:288,tags:["backhand","finger","hand","index","point"],unicode:"",skins:[{group:1,hexcode:"1F448-1F3FB",label:"backhand index pointing left: light skin tone",order:289,unicode:""},{group:1,hexcode:"1F448-1F3FC",label:"backhand index pointing left: medium-light skin tone",order:290,unicode:""},{group:1,hexcode:"1F448-1F3FD",label:"backhand index pointing left: medium skin tone",order:291,unicode:""},{group:1,hexcode:"1F448-1F3FE",label:"backhand index pointing left: medium-dark skin tone",order:292,unicode:""},{group:1,hexcode:"1F448-1F3FF",label:"backhand index pointing left: dark skin tone",order:293,unicode:""}]},{group:1,hexcode:"1F449",label:"backhand index pointing right",order:294,tags:["backhand","finger","hand","index","point"],unicode:"",skins:[{group:1,hexcode:"1F449-1F3FB",label:"backhand index pointing right: light skin tone",order:295,unicode:""},{group:1,hexcode:"1F449-1F3FC",label:"backhand index pointing right: medium-light skin tone",order:296,unicode:""},{group:1,hexcode:"1F449-1F3FD",label:"backhand index pointing right: medium skin tone",order:297,unicode:""},{group:1,hexcode:"1F449-1F3FE",label:"backhand index pointing right: medium-dark skin tone",order:298,unicode:""},{group:1,hexcode:"1F449-1F3FF",label:"backhand index pointing right: dark skin tone",order:299,unicode:""}]},{group:1,hexcode:"1F446",label:"backhand index pointing up",order:300,tags:["backhand","finger","hand","point","up"],unicode:"",skins:[{group:1,hexcode:"1F446-1F3FB",label:"backhand index pointing up: light skin tone",order:301,unicode:""},{group:1,hexcode:"1F446-1F3FC",label:"backhand index pointing up: medium-light skin tone",order:302,unicode:""},{group:1,hexcode:"1F446-1F3FD",label:"backhand index pointing up: medium skin tone",order:303,unicode:""},{group:1,hexcode:"1F446-1F3FE",label:"backhand index pointing up: medium-dark skin tone",order:304,unicode:""},{group:1,hexcode:"1F446-1F3FF",label:"backhand index pointing up: dark skin tone",order:305,unicode:""}]},{group:1,hexcode:"1F595",label:"middle finger",order:306,tags:["finger","hand"],unicode:"",skins:[{group:1,hexcode:"1F595-1F3FB",label:"middle finger: light skin tone",order:307,unicode:""},{group:1,hexcode:"1F595-1F3FC",label:"middle finger: medium-light skin tone",order:308,unicode:""},{group:1,hexcode:"1F595-1F3FD",label:"middle finger: medium skin tone",order:309,unicode:""},{group:1,hexcode:"1F595-1F3FE",label:"middle finger: medium-dark skin tone",order:310,unicode:""},{group:1,hexcode:"1F595-1F3FF",label:"middle finger: dark skin tone",order:311,unicode:""}]},{group:1,hexcode:"1F447",label:"backhand index pointing down",order:312,tags:["backhand","down","finger","hand","point"],unicode:"",skins:[{group:1,hexcode:"1F447-1F3FB",label:"backhand index pointing down: light skin tone",order:313,unicode:""},{group:1,hexcode:"1F447-1F3FC",label:"backhand index pointing down: medium-light skin tone",order:314,unicode:""},{group:1,hexcode:"1F447-1F3FD",label:"backhand index pointing down: medium skin tone",order:315,unicode:""},{group:1,hexcode:"1F447-1F3FE",label:"backhand index pointing down: medium-dark skin tone",order:316,unicode:""},{group:1,hexcode:"1F447-1F3FF",label:"backhand index pointing down: dark skin tone",order:317,unicode:""}]},{group:1,hexcode:"261D",label:"index pointing up",order:319,tags:["finger","hand","index","point","up"],unicode:"",skins:[{group:1,hexcode:"261D-1F3FB",label:"index pointing up: light skin tone",order:320,unicode:""},{group:1,hexcode:"261D-1F3FC",label:"index pointing up: medium-light skin tone",order:321,unicode:""},{group:1,hexcode:"261D-1F3FD",label:"index pointing up: medium skin tone",order:322,unicode:""},{group:1,hexcode:"261D-1F3FE",label:"index pointing up: medium-dark skin tone",order:323,unicode:""},{group:1,hexcode:"261D-1F3FF",label:"index pointing up: dark skin tone",order:324,unicode:""}]},{group:1,hexcode:"1FAF5",label:"index pointing at the viewer",order:325,tags:["point","you"],unicode:"",skins:[{group:1,hexcode:"1FAF5-1F3FB",label:"index pointing at the viewer: light skin tone",order:326,unicode:""},{group:1,hexcode:"1FAF5-1F3FC",label:"index pointing at the viewer: medium-light skin tone",order:327,unicode:""},{group:1,hexcode:"1FAF5-1F3FD",label:"index pointing at the viewer: medium skin tone",order:328,unicode:""},{group:1,hexcode:"1FAF5-1F3FE",label:"index pointing at the viewer: medium-dark skin tone",order:329,unicode:""},{group:1,hexcode:"1FAF5-1F3FF",label:"index pointing at the viewer: dark skin tone",order:330,unicode:""}]},{group:1,hexcode:"1F44D",label:"thumbs up",order:331,tags:["+1","hand","thumb","up"],unicode:"",skins:[{group:1,hexcode:"1F44D-1F3FB",label:"thumbs up: light skin tone",order:332,unicode:""},{group:1,hexcode:"1F44D-1F3FC",label:"thumbs up: medium-light skin tone",order:333,unicode:""},{group:1,hexcode:"1F44D-1F3FD",label:"thumbs up: medium skin tone",order:334,unicode:""},{group:1,hexcode:"1F44D-1F3FE",label:"thumbs up: medium-dark skin tone",order:335,unicode:""},{group:1,hexcode:"1F44D-1F3FF",label:"thumbs up: dark skin tone",order:336,unicode:""}]},{group:1,hexcode:"1F44E",label:"thumbs down",order:337,tags:["-1","down","hand","thumb"],unicode:"",skins:[{group:1,hexcode:"1F44E-1F3FB",label:"thumbs down: light skin tone",order:338,unicode:""},{group:1,hexcode:"1F44E-1F3FC",label:"thumbs down: medium-light skin tone",order:339,unicode:""},{group:1,hexcode:"1F44E-1F3FD",label:"thumbs down: medium skin tone",order:340,unicode:""},{group:1,hexcode:"1F44E-1F3FE",label:"thumbs down: medium-dark skin tone",order:341,unicode:""},{group:1,hexcode:"1F44E-1F3FF",label:"thumbs down: dark skin tone",order:342,unicode:""}]},{group:1,hexcode:"270A",label:"raised fist",order:343,tags:["clenched","fist","hand","punch"],unicode:"",skins:[{group:1,hexcode:"270A-1F3FB",label:"raised fist: light skin tone",order:344,unicode:""},{group:1,hexcode:"270A-1F3FC",label:"raised fist: medium-light skin tone",order:345,unicode:""},{group:1,hexcode:"270A-1F3FD",label:"raised fist: medium skin tone",order:346,unicode:""},{group:1,hexcode:"270A-1F3FE",label:"raised fist: medium-dark skin tone",order:347,unicode:""},{group:1,hexcode:"270A-1F3FF",label:"raised fist: dark skin tone",order:348,unicode:""}]},{group:1,hexcode:"1F44A",label:"oncoming fist",order:349,tags:["clenched","fist","hand","punch"],unicode:"",skins:[{group:1,hexcode:"1F44A-1F3FB",label:"oncoming fist: light skin tone",order:350,unicode:""},{group:1,hexcode:"1F44A-1F3FC",label:"oncoming fist: medium-light skin tone",order:351,unicode:""},{group:1,hexcode:"1F44A-1F3FD",label:"oncoming fist: medium skin tone",order:352,unicode:""},{group:1,hexcode:"1F44A-1F3FE",label:"oncoming fist: medium-dark skin tone",order:353,unicode:""},{group:1,hexcode:"1F44A-1F3FF",label:"oncoming fist: dark skin tone",order:354,unicode:""}]},{group:1,hexcode:"1F91B",label:"left-facing fist",order:355,tags:["fist","leftwards"],unicode:"",skins:[{group:1,hexcode:"1F91B-1F3FB",label:"left-facing fist: light skin tone",order:356,unicode:""},{group:1,hexcode:"1F91B-1F3FC",label:"left-facing fist: medium-light skin tone",order:357,unicode:""},{group:1,hexcode:"1F91B-1F3FD",label:"left-facing fist: medium skin tone",order:358,unicode:""},{group:1,hexcode:"1F91B-1F3FE",label:"left-facing fist: medium-dark skin tone",order:359,unicode:""},{group:1,hexcode:"1F91B-1F3FF",label:"left-facing fist: dark skin tone",order:360,unicode:""}]},{group:1,hexcode:"1F91C",label:"right-facing fist",order:361,tags:["fist","rightwards"],unicode:"",skins:[{group:1,hexcode:"1F91C-1F3FB",label:"right-facing fist: light skin tone",order:362,unicode:""},{group:1,hexcode:"1F91C-1F3FC",label:"right-facing fist: medium-light skin tone",order:363,unicode:""},{group:1,hexcode:"1F91C-1F3FD",label:"right-facing fist: medium skin tone",order:364,unicode:""},{group:1,hexcode:"1F91C-1F3FE",label:"right-facing fist: medium-dark skin tone",order:365,unicode:""},{group:1,hexcode:"1F91C-1F3FF",label:"right-facing fist: dark skin tone",order:366,unicode:""}]},{group:1,hexcode:"1F44F",label:"clapping hands",order:367,tags:["clap","hand"],unicode:"",skins:[{group:1,hexcode:"1F44F-1F3FB",label:"clapping hands: light skin tone",order:368,unicode:""},{group:1,hexcode:"1F44F-1F3FC",label:"clapping hands: medium-light skin tone",order:369,unicode:""},{group:1,hexcode:"1F44F-1F3FD",label:"clapping hands: medium skin tone",order:370,unicode:""},{group:1,hexcode:"1F44F-1F3FE",label:"clapping hands: medium-dark skin tone",order:371,unicode:""},{group:1,hexcode:"1F44F-1F3FF",label:"clapping hands: dark skin tone",order:372,unicode:""}]},{group:1,hexcode:"1F64C",label:"raising hands",order:373,tags:["celebration","gesture","hand","hooray","raised"],unicode:"",skins:[{group:1,hexcode:"1F64C-1F3FB",label:"raising hands: light skin tone",order:374,unicode:""},{group:1,hexcode:"1F64C-1F3FC",label:"raising hands: medium-light skin tone",order:375,unicode:""},{group:1,hexcode:"1F64C-1F3FD",label:"raising hands: medium skin tone",order:376,unicode:""},{group:1,hexcode:"1F64C-1F3FE",label:"raising hands: medium-dark skin tone",order:377,unicode:""},{group:1,hexcode:"1F64C-1F3FF",label:"raising hands: dark skin tone",order:378,unicode:""}]},{group:1,hexcode:"1FAF6",label:"heart hands",order:379,tags:["love"],unicode:"",skins:[{group:1,hexcode:"1FAF6-1F3FB",label:"heart hands: light skin tone",order:380,unicode:""},{group:1,hexcode:"1FAF6-1F3FC",label:"heart hands: medium-light skin tone",order:381,unicode:""},{group:1,hexcode:"1FAF6-1F3FD",label:"heart hands: medium skin tone",order:382,unicode:""},{group:1,hexcode:"1FAF6-1F3FE",label:"heart hands: medium-dark skin tone",order:383,unicode:""},{group:1,hexcode:"1FAF6-1F3FF",label:"heart hands: dark skin tone",order:384,unicode:""}]},{group:1,hexcode:"1F450",label:"open hands",order:385,tags:["hand","open"],unicode:"",skins:[{group:1,hexcode:"1F450-1F3FB",label:"open hands: light skin tone",order:386,unicode:""},{group:1,hexcode:"1F450-1F3FC",label:"open hands: medium-light skin tone",order:387,unicode:""},{group:1,hexcode:"1F450-1F3FD",label:"open hands: medium skin tone",order:388,unicode:""},{group:1,hexcode:"1F450-1F3FE",label:"open hands: medium-dark skin tone",order:389,unicode:""},{group:1,hexcode:"1F450-1F3FF",label:"open hands: dark skin tone",order:390,unicode:""}]},{group:1,hexcode:"1F932",label:"palms up together",order:391,tags:["prayer"],unicode:"",skins:[{group:1,hexcode:"1F932-1F3FB",label:"palms up together: light skin tone",order:392,unicode:""},{group:1,hexcode:"1F932-1F3FC",label:"palms up together: medium-light skin tone",order:393,unicode:""},{group:1,hexcode:"1F932-1F3FD",label:"palms up together: medium skin tone",order:394,unicode:""},{group:1,hexcode:"1F932-1F3FE",label:"palms up together: medium-dark skin tone",order:395,unicode:""},{group:1,hexcode:"1F932-1F3FF",label:"palms up together: dark skin tone",order:396,unicode:""}]},{group:1,hexcode:"1F91D",label:"handshake",order:397,tags:["agreement","hand","meeting","shake"],unicode:"",skins:[{group:1,hexcode:"1F91D-1F3FB",label:"handshake: light skin tone",order:398,unicode:""},{group:1,hexcode:"1F91D-1F3FC",label:"handshake: medium-light skin tone",order:399,unicode:""},{group:1,hexcode:"1F91D-1F3FD",label:"handshake: medium skin tone",order:400,unicode:""},{group:1,hexcode:"1F91D-1F3FE",label:"handshake: medium-dark skin tone",order:401,unicode:""},{group:1,hexcode:"1F91D-1F3FF",label:"handshake: dark skin tone",order:402,unicode:""},{group:1,hexcode:"1FAF1-1F3FB-200D-1FAF2-1F3FC",label:"handshake: light skin tone, medium-light skin tone",order:403,unicode:""},{group:1,hexcode:"1FAF1-1F3FB-200D-1FAF2-1F3FD",label:"handshake: light skin tone, medium skin tone",order:404,unicode:""},{group:1,hexcode:"1FAF1-1F3FB-200D-1FAF2-1F3FE",label:"handshake: light skin tone, medium-dark skin tone",order:405,unicode:""},{group:1,hexcode:"1FAF1-1F3FB-200D-1FAF2-1F3FF",label:"handshake: light skin tone, dark skin tone",order:406,unicode:""},{group:1,hexcode:"1FAF1-1F3FC-200D-1FAF2-1F3FB",label:"handshake: medium-light skin tone, light skin tone",order:407,unicode:""},{group:1,hexcode:"1FAF1-1F3FC-200D-1FAF2-1F3FD",label:"handshake: medium-light skin tone, medium skin tone",order:408,unicode:""},{group:1,hexcode:"1FAF1-1F3FC-200D-1FAF2-1F3FE",label:"handshake: medium-light skin tone, medium-dark skin tone",order:409,unicode:""},{group:1,hexcode:"1FAF1-1F3FC-200D-1FAF2-1F3FF",label:"handshake: medium-light skin tone, dark skin tone",order:410,unicode:""},{group:1,hexcode:"1FAF1-1F3FD-200D-1FAF2-1F3FB",label:"handshake: medium skin tone, light skin tone",order:411,unicode:""},{group:1,hexcode:"1FAF1-1F3FD-200D-1FAF2-1F3FC",label:"handshake: medium skin tone, medium-light skin tone",order:412,unicode:""},{group:1,hexcode:"1FAF1-1F3FD-200D-1FAF2-1F3FE",label:"handshake: medium skin tone, medium-dark skin tone",order:413,unicode:""},{group:1,hexcode:"1FAF1-1F3FD-200D-1FAF2-1F3FF",label:"handshake: medium skin tone, dark skin tone",order:414,unicode:""},{group:1,hexcode:"1FAF1-1F3FE-200D-1FAF2-1F3FB",label:"handshake: medium-dark skin tone, light skin tone",order:415,unicode:""},{group:1,hexcode:"1FAF1-1F3FE-200D-1FAF2-1F3FC",label:"handshake: medium-dark skin tone, medium-light skin tone",order:416,unicode:""},{group:1,hexcode:"1FAF1-1F3FE-200D-1FAF2-1F3FD",label:"handshake: medium-dark skin tone, medium skin tone",order:417,unicode:""},{group:1,hexcode:"1FAF1-1F3FE-200D-1FAF2-1F3FF",label:"handshake: medium-dark skin tone, dark skin tone",order:418,unicode:""},{group:1,hexcode:"1FAF1-1F3FF-200D-1FAF2-1F3FB",label:"handshake: dark skin tone, light skin tone",order:419,unicode:""},{group:1,hexcode:"1FAF1-1F3FF-200D-1FAF2-1F3FC",label:"handshake: dark skin tone, medium-light skin tone",order:420,unicode:""},{group:1,hexcode:"1FAF1-1F3FF-200D-1FAF2-1F3FD",label:"handshake: dark skin tone, medium skin tone",order:421,unicode:""},{group:1,hexcode:"1FAF1-1F3FF-200D-1FAF2-1F3FE",label:"handshake: dark skin tone, medium-dark skin tone",order:422,unicode:""}]},{group:1,hexcode:"1F64F",label:"folded hands",order:423,tags:["ask","hand","high 5","high five","please","pray","thanks"],unicode:"",skins:[{group:1,hexcode:"1F64F-1F3FB",label:"folded hands: light skin tone",order:424,unicode:""},{group:1,hexcode:"1F64F-1F3FC",label:"folded hands: medium-light skin tone",order:425,unicode:""},{group:1,hexcode:"1F64F-1F3FD",label:"folded hands: medium skin tone",order:426,unicode:""},{group:1,hexcode:"1F64F-1F3FE",label:"folded hands: medium-dark skin tone",order:427,unicode:""},{group:1,hexcode:"1F64F-1F3FF",label:"folded hands: dark skin tone",order:428,unicode:""}]},{group:1,hexcode:"270D",label:"writing hand",order:430,tags:["hand","write"],unicode:"",skins:[{group:1,hexcode:"270D-1F3FB",label:"writing hand: light skin tone",order:431,unicode:""},{group:1,hexcode:"270D-1F3FC",label:"writing hand: medium-light skin tone",order:432,unicode:""},{group:1,hexcode:"270D-1F3FD",label:"writing hand: medium skin tone",order:433,unicode:""},{group:1,hexcode:"270D-1F3FE",label:"writing hand: medium-dark skin tone",order:434,unicode:""},{group:1,hexcode:"270D-1F3FF",label:"writing hand: dark skin tone",order:435,unicode:""}]},{group:1,hexcode:"1F485",label:"nail polish",order:436,tags:["care","cosmetics","manicure","nail","polish"],unicode:"",skins:[{group:1,hexcode:"1F485-1F3FB",label:"nail polish: light skin tone",order:437,unicode:""},{group:1,hexcode:"1F485-1F3FC",label:"nail polish: medium-light skin tone",order:438,unicode:""},{group:1,hexcode:"1F485-1F3FD",label:"nail polish: medium skin tone",order:439,unicode:""},{group:1,hexcode:"1F485-1F3FE",label:"nail polish: medium-dark skin tone",order:440,unicode:""},{group:1,hexcode:"1F485-1F3FF",label:"nail polish: dark skin tone",order:441,unicode:""}]},{group:1,hexcode:"1F933",label:"selfie",order:442,tags:["camera","phone"],unicode:"",skins:[{group:1,hexcode:"1F933-1F3FB",label:"selfie: light skin tone",order:443,unicode:""},{group:1,hexcode:"1F933-1F3FC",label:"selfie: medium-light skin tone",order:444,unicode:""},{group:1,hexcode:"1F933-1F3FD",label:"selfie: medium skin tone",order:445,unicode:""},{group:1,hexcode:"1F933-1F3FE",label:"selfie: medium-dark skin tone",order:446,unicode:""},{group:1,hexcode:"1F933-1F3FF",label:"selfie: dark skin tone",order:447,unicode:""}]},{group:1,hexcode:"1F4AA",label:"flexed biceps",order:448,tags:["biceps","comic","flex","muscle"],unicode:"",skins:[{group:1,hexcode:"1F4AA-1F3FB",label:"flexed biceps: light skin tone",order:449,unicode:""},{group:1,hexcode:"1F4AA-1F3FC",label:"flexed biceps: medium-light skin tone",order:450,unicode:""},{group:1,hexcode:"1F4AA-1F3FD",label:"flexed biceps: medium skin tone",order:451,unicode:""},{group:1,hexcode:"1F4AA-1F3FE",label:"flexed biceps: medium-dark skin tone",order:452,unicode:""},{group:1,hexcode:"1F4AA-1F3FF",label:"flexed biceps: dark skin tone",order:453,unicode:""}]},{group:1,hexcode:"1F9BE",label:"mechanical arm",order:454,tags:["accessibility","prosthetic"],unicode:""},{group:1,hexcode:"1F9BF",label:"mechanical leg",order:455,tags:["accessibility","prosthetic"],unicode:""},{group:1,hexcode:"1F9B5",label:"leg",order:456,tags:["kick","limb"],unicode:"",skins:[{group:1,hexcode:"1F9B5-1F3FB",label:"leg: light skin tone",order:457,unicode:""},{group:1,hexcode:"1F9B5-1F3FC",label:"leg: medium-light skin tone",order:458,unicode:""},{group:1,hexcode:"1F9B5-1F3FD",label:"leg: medium skin tone",order:459,unicode:""},{group:1,hexcode:"1F9B5-1F3FE",label:"leg: medium-dark skin tone",order:460,unicode:""},{group:1,hexcode:"1F9B5-1F3FF",label:"leg: dark skin tone",order:461,unicode:""}]},{group:1,hexcode:"1F9B6",label:"foot",order:462,tags:["kick","stomp"],unicode:"",skins:[{group:1,hexcode:"1F9B6-1F3FB",label:"foot: light skin tone",order:463,unicode:""},{group:1,hexcode:"1F9B6-1F3FC",label:"foot: medium-light skin tone",order:464,unicode:""},{group:1,hexcode:"1F9B6-1F3FD",label:"foot: medium skin tone",order:465,unicode:""},{group:1,hexcode:"1F9B6-1F3FE",label:"foot: medium-dark skin tone",order:466,unicode:""},{group:1,hexcode:"1F9B6-1F3FF",label:"foot: dark skin tone",order:467,unicode:""}]},{group:1,hexcode:"1F442",label:"ear",order:468,tags:["body"],unicode:"",skins:[{group:1,hexcode:"1F442-1F3FB",label:"ear: light skin tone",order:469,unicode:""},{group:1,hexcode:"1F442-1F3FC",label:"ear: medium-light skin tone",order:470,unicode:""},{group:1,hexcode:"1F442-1F3FD",label:"ear: medium skin tone",order:471,unicode:""},{group:1,hexcode:"1F442-1F3FE",label:"ear: medium-dark skin tone",order:472,unicode:""},{group:1,hexcode:"1F442-1F3FF",label:"ear: dark skin tone",order:473,unicode:""}]},{group:1,hexcode:"1F9BB",label:"ear with hearing aid",order:474,tags:["accessibility","hard of hearing"],unicode:"",skins:[{group:1,hexcode:"1F9BB-1F3FB",label:"ear with hearing aid: light skin tone",order:475,unicode:""},{group:1,hexcode:"1F9BB-1F3FC",label:"ear with hearing aid: medium-light skin tone",order:476,unicode:""},{group:1,hexcode:"1F9BB-1F3FD",label:"ear with hearing aid: medium skin tone",order:477,unicode:""},{group:1,hexcode:"1F9BB-1F3FE",label:"ear with hearing aid: medium-dark skin tone",order:478,unicode:""},{group:1,hexcode:"1F9BB-1F3FF",label:"ear with hearing aid: dark skin tone",order:479,unicode:""}]},{group:1,hexcode:"1F443",label:"nose",order:480,tags:["body"],unicode:"",skins:[{group:1,hexcode:"1F443-1F3FB",label:"nose: light skin tone",order:481,unicode:""},{group:1,hexcode:"1F443-1F3FC",label:"nose: medium-light skin tone",order:482,unicode:""},{group:1,hexcode:"1F443-1F3FD",label:"nose: medium skin tone",order:483,unicode:""},{group:1,hexcode:"1F443-1F3FE",label:"nose: medium-dark skin tone",order:484,unicode:""},{group:1,hexcode:"1F443-1F3FF",label:"nose: dark skin tone",order:485,unicode:""}]},{group:1,hexcode:"1F9E0",label:"brain",order:486,tags:["intelligent"],unicode:""},{group:1,hexcode:"1FAC0",label:"anatomical heart",order:487,tags:["anatomical","cardiology","heart","organ","pulse"],unicode:""},{group:1,hexcode:"1FAC1",label:"lungs",order:488,tags:["breath","exhalation","inhalation","organ","respiration"],unicode:""},{group:1,hexcode:"1F9B7",label:"tooth",order:489,tags:["dentist"],unicode:""},{group:1,hexcode:"1F9B4",label:"bone",order:490,tags:["skeleton"],unicode:""},{group:1,hexcode:"1F440",label:"eyes",order:491,tags:["eye","face"],unicode:""},{group:1,hexcode:"1F441",label:"eye",order:493,tags:["body"],unicode:""},{group:1,hexcode:"1F445",label:"tongue",order:494,tags:["body"],unicode:""},{group:1,hexcode:"1F444",label:"mouth",order:495,tags:["lips"],unicode:""},{group:1,hexcode:"1FAE6",label:"biting lip",order:496,tags:["anxious","fear","flirting","nervous","uncomfortable","worried"],unicode:""},{group:1,hexcode:"1F476",label:"baby",order:497,tags:["young"],unicode:"",skins:[{group:1,hexcode:"1F476-1F3FB",label:"baby: light skin tone",order:498,unicode:""},{group:1,hexcode:"1F476-1F3FC",label:"baby: medium-light skin tone",order:499,unicode:""},{group:1,hexcode:"1F476-1F3FD",label:"baby: medium skin tone",order:500,unicode:""},{group:1,hexcode:"1F476-1F3FE",label:"baby: medium-dark skin tone",order:501,unicode:""},{group:1,hexcode:"1F476-1F3FF",label:"baby: dark skin tone",order:502,unicode:""}]},{group:1,hexcode:"1F9D2",label:"child",order:503,tags:["gender-neutral","unspecified gender","young"],unicode:"",skins:[{group:1,hexcode:"1F9D2-1F3FB",label:"child: light skin tone",order:504,unicode:""},{group:1,hexcode:"1F9D2-1F3FC",label:"child: medium-light skin tone",order:505,unicode:""},{group:1,hexcode:"1F9D2-1F3FD",label:"child: medium skin tone",order:506,unicode:""},{group:1,hexcode:"1F9D2-1F3FE",label:"child: medium-dark skin tone",order:507,unicode:""},{group:1,hexcode:"1F9D2-1F3FF",label:"child: dark skin tone",order:508,unicode:""}]},{group:1,hexcode:"1F466",label:"boy",order:509,tags:["young"],unicode:"",skins:[{group:1,hexcode:"1F466-1F3FB",label:"boy: light skin tone",order:510,unicode:""},{group:1,hexcode:"1F466-1F3FC",label:"boy: medium-light skin tone",order:511,unicode:""},{group:1,hexcode:"1F466-1F3FD",label:"boy: medium skin tone",order:512,unicode:""},{group:1,hexcode:"1F466-1F3FE",label:"boy: medium-dark skin tone",order:513,unicode:""},{group:1,hexcode:"1F466-1F3FF",label:"boy: dark skin tone",order:514,unicode:""}]},{group:1,hexcode:"1F467",label:"girl",order:515,tags:["virgo","young","zodiac"],unicode:"",skins:[{group:1,hexcode:"1F467-1F3FB",label:"girl: light skin tone",order:516,unicode:""},{group:1,hexcode:"1F467-1F3FC",label:"girl: medium-light skin tone",order:517,unicode:""},{group:1,hexcode:"1F467-1F3FD",label:"girl: medium skin tone",order:518,unicode:""},{group:1,hexcode:"1F467-1F3FE",label:"girl: medium-dark skin tone",order:519,unicode:""},{group:1,hexcode:"1F467-1F3FF",label:"girl: dark skin tone",order:520,unicode:""}]},{group:1,hexcode:"1F9D1",label:"person",order:521,tags:["adult","gender-neutral","unspecified gender"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB",label:"person: light skin tone",order:522,unicode:""},{group:1,hexcode:"1F9D1-1F3FC",label:"person: medium-light skin tone",order:523,unicode:""},{group:1,hexcode:"1F9D1-1F3FD",label:"person: medium skin tone",order:524,unicode:""},{group:1,hexcode:"1F9D1-1F3FE",label:"person: medium-dark skin tone",order:525,unicode:""},{group:1,hexcode:"1F9D1-1F3FF",label:"person: dark skin tone",order:526,unicode:""}]},{group:1,hexcode:"1F471",label:"person: blond hair",order:527,tags:["blond","blond-haired person","hair"],unicode:"",skins:[{group:1,hexcode:"1F471-1F3FB",label:"person: light skin tone, blond hair",order:528,unicode:""},{group:1,hexcode:"1F471-1F3FC",label:"person: medium-light skin tone, blond hair",order:529,unicode:""},{group:1,hexcode:"1F471-1F3FD",label:"person: medium skin tone, blond hair",order:530,unicode:""},{group:1,hexcode:"1F471-1F3FE",label:"person: medium-dark skin tone, blond hair",order:531,unicode:""},{group:1,hexcode:"1F471-1F3FF",label:"person: dark skin tone, blond hair",order:532,unicode:""}]},{group:1,hexcode:"1F468",label:"man",order:533,tags:["adult"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB",label:"man: light skin tone",order:534,unicode:""},{group:1,hexcode:"1F468-1F3FC",label:"man: medium-light skin tone",order:535,unicode:""},{group:1,hexcode:"1F468-1F3FD",label:"man: medium skin tone",order:536,unicode:""},{group:1,hexcode:"1F468-1F3FE",label:"man: medium-dark skin tone",order:537,unicode:""},{group:1,hexcode:"1F468-1F3FF",label:"man: dark skin tone",order:538,unicode:""}]},{group:1,hexcode:"1F9D4",label:"person: beard",order:539,tags:["beard","person"],unicode:"",skins:[{group:1,hexcode:"1F9D4-1F3FB",label:"person: light skin tone, beard",order:540,unicode:""},{group:1,hexcode:"1F9D4-1F3FC",label:"person: medium-light skin tone, beard",order:541,unicode:""},{group:1,hexcode:"1F9D4-1F3FD",label:"person: medium skin tone, beard",order:542,unicode:""},{group:1,hexcode:"1F9D4-1F3FE",label:"person: medium-dark skin tone, beard",order:543,unicode:""},{group:1,hexcode:"1F9D4-1F3FF",label:"person: dark skin tone, beard",order:544,unicode:""}]},{group:1,hexcode:"1F9D4-200D-2642-FE0F",label:"man: beard",order:545,tags:["beard","man"],unicode:"",skins:[{group:1,hexcode:"1F9D4-1F3FB-200D-2642-FE0F",label:"man: light skin tone, beard",order:547,unicode:""},{group:1,hexcode:"1F9D4-1F3FC-200D-2642-FE0F",label:"man: medium-light skin tone, beard",order:549,unicode:""},{group:1,hexcode:"1F9D4-1F3FD-200D-2642-FE0F",label:"man: medium skin tone, beard",order:551,unicode:""},{group:1,hexcode:"1F9D4-1F3FE-200D-2642-FE0F",label:"man: medium-dark skin tone, beard",order:553,unicode:""},{group:1,hexcode:"1F9D4-1F3FF-200D-2642-FE0F",label:"man: dark skin tone, beard",order:555,unicode:""}]},{group:1,hexcode:"1F9D4-200D-2640-FE0F",label:"woman: beard",order:557,tags:["beard","woman"],unicode:"",skins:[{group:1,hexcode:"1F9D4-1F3FB-200D-2640-FE0F",label:"woman: light skin tone, beard",order:559,unicode:""},{group:1,hexcode:"1F9D4-1F3FC-200D-2640-FE0F",label:"woman: medium-light skin tone, beard",order:561,unicode:""},{group:1,hexcode:"1F9D4-1F3FD-200D-2640-FE0F",label:"woman: medium skin tone, beard",order:563,unicode:""},{group:1,hexcode:"1F9D4-1F3FE-200D-2640-FE0F",label:"woman: medium-dark skin tone, beard",order:565,unicode:""},{group:1,hexcode:"1F9D4-1F3FF-200D-2640-FE0F",label:"woman: dark skin tone, beard",order:567,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9B0",label:"man: red hair",order:569,tags:["adult","man","red hair"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9B0",label:"man: light skin tone, red hair",order:570,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9B0",label:"man: medium-light skin tone, red hair",order:571,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9B0",label:"man: medium skin tone, red hair",order:572,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9B0",label:"man: medium-dark skin tone, red hair",order:573,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9B0",label:"man: dark skin tone, red hair",order:574,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9B1",label:"man: curly hair",order:575,tags:["adult","curly hair","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9B1",label:"man: light skin tone, curly hair",order:576,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9B1",label:"man: medium-light skin tone, curly hair",order:577,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9B1",label:"man: medium skin tone, curly hair",order:578,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9B1",label:"man: medium-dark skin tone, curly hair",order:579,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9B1",label:"man: dark skin tone, curly hair",order:580,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9B3",label:"man: white hair",order:581,tags:["adult","man","white hair"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9B3",label:"man: light skin tone, white hair",order:582,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9B3",label:"man: medium-light skin tone, white hair",order:583,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9B3",label:"man: medium skin tone, white hair",order:584,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9B3",label:"man: medium-dark skin tone, white hair",order:585,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9B3",label:"man: dark skin tone, white hair",order:586,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9B2",label:"man: bald",order:587,tags:["adult","bald","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9B2",label:"man: light skin tone, bald",order:588,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9B2",label:"man: medium-light skin tone, bald",order:589,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9B2",label:"man: medium skin tone, bald",order:590,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9B2",label:"man: medium-dark skin tone, bald",order:591,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9B2",label:"man: dark skin tone, bald",order:592,unicode:""}]},{group:1,hexcode:"1F469",label:"woman",order:593,tags:["adult"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB",label:"woman: light skin tone",order:594,unicode:""},{group:1,hexcode:"1F469-1F3FC",label:"woman: medium-light skin tone",order:595,unicode:""},{group:1,hexcode:"1F469-1F3FD",label:"woman: medium skin tone",order:596,unicode:""},{group:1,hexcode:"1F469-1F3FE",label:"woman: medium-dark skin tone",order:597,unicode:""},{group:1,hexcode:"1F469-1F3FF",label:"woman: dark skin tone",order:598,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9B0",label:"woman: red hair",order:599,tags:["adult","red hair","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9B0",label:"woman: light skin tone, red hair",order:600,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9B0",label:"woman: medium-light skin tone, red hair",order:601,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9B0",label:"woman: medium skin tone, red hair",order:602,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9B0",label:"woman: medium-dark skin tone, red hair",order:603,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9B0",label:"woman: dark skin tone, red hair",order:604,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9B0",label:"person: red hair",order:605,tags:["adult","gender-neutral","person","red hair","unspecified gender"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9B0",label:"person: light skin tone, red hair",order:606,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9B0",label:"person: medium-light skin tone, red hair",order:607,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9B0",label:"person: medium skin tone, red hair",order:608,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9B0",label:"person: medium-dark skin tone, red hair",order:609,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9B0",label:"person: dark skin tone, red hair",order:610,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9B1",label:"woman: curly hair",order:611,tags:["adult","curly hair","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9B1",label:"woman: light skin tone, curly hair",order:612,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9B1",label:"woman: medium-light skin tone, curly hair",order:613,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9B1",label:"woman: medium skin tone, curly hair",order:614,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9B1",label:"woman: medium-dark skin tone, curly hair",order:615,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9B1",label:"woman: dark skin tone, curly hair",order:616,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9B1",label:"person: curly hair",order:617,tags:["adult","curly hair","gender-neutral","person","unspecified gender"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9B1",label:"person: light skin tone, curly hair",order:618,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9B1",label:"person: medium-light skin tone, curly hair",order:619,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9B1",label:"person: medium skin tone, curly hair",order:620,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9B1",label:"person: medium-dark skin tone, curly hair",order:621,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9B1",label:"person: dark skin tone, curly hair",order:622,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9B3",label:"woman: white hair",order:623,tags:["adult","white hair","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9B3",label:"woman: light skin tone, white hair",order:624,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9B3",label:"woman: medium-light skin tone, white hair",order:625,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9B3",label:"woman: medium skin tone, white hair",order:626,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9B3",label:"woman: medium-dark skin tone, white hair",order:627,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9B3",label:"woman: dark skin tone, white hair",order:628,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9B3",label:"person: white hair",order:629,tags:["adult","gender-neutral","person","unspecified gender","white hair"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9B3",label:"person: light skin tone, white hair",order:630,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9B3",label:"person: medium-light skin tone, white hair",order:631,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9B3",label:"person: medium skin tone, white hair",order:632,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9B3",label:"person: medium-dark skin tone, white hair",order:633,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9B3",label:"person: dark skin tone, white hair",order:634,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9B2",label:"woman: bald",order:635,tags:["adult","bald","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9B2",label:"woman: light skin tone, bald",order:636,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9B2",label:"woman: medium-light skin tone, bald",order:637,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9B2",label:"woman: medium skin tone, bald",order:638,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9B2",label:"woman: medium-dark skin tone, bald",order:639,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9B2",label:"woman: dark skin tone, bald",order:640,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9B2",label:"person: bald",order:641,tags:["adult","bald","gender-neutral","person","unspecified gender"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9B2",label:"person: light skin tone, bald",order:642,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9B2",label:"person: medium-light skin tone, bald",order:643,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9B2",label:"person: medium skin tone, bald",order:644,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9B2",label:"person: medium-dark skin tone, bald",order:645,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9B2",label:"person: dark skin tone, bald",order:646,unicode:""}]},{group:1,hexcode:"1F471-200D-2640-FE0F",label:"woman: blond hair",order:647,tags:["blond-haired woman","blonde","hair","woman"],unicode:"",skins:[{group:1,hexcode:"1F471-1F3FB-200D-2640-FE0F",label:"woman: light skin tone, blond hair",order:649,unicode:""},{group:1,hexcode:"1F471-1F3FC-200D-2640-FE0F",label:"woman: medium-light skin tone, blond hair",order:651,unicode:""},{group:1,hexcode:"1F471-1F3FD-200D-2640-FE0F",label:"woman: medium skin tone, blond hair",order:653,unicode:""},{group:1,hexcode:"1F471-1F3FE-200D-2640-FE0F",label:"woman: medium-dark skin tone, blond hair",order:655,unicode:""},{group:1,hexcode:"1F471-1F3FF-200D-2640-FE0F",label:"woman: dark skin tone, blond hair",order:657,unicode:""}]},{group:1,hexcode:"1F471-200D-2642-FE0F",label:"man: blond hair",order:659,tags:["blond","blond-haired man","hair","man"],unicode:"",skins:[{group:1,hexcode:"1F471-1F3FB-200D-2642-FE0F",label:"man: light skin tone, blond hair",order:661,unicode:""},{group:1,hexcode:"1F471-1F3FC-200D-2642-FE0F",label:"man: medium-light skin tone, blond hair",order:663,unicode:""},{group:1,hexcode:"1F471-1F3FD-200D-2642-FE0F",label:"man: medium skin tone, blond hair",order:665,unicode:""},{group:1,hexcode:"1F471-1F3FE-200D-2642-FE0F",label:"man: medium-dark skin tone, blond hair",order:667,unicode:""},{group:1,hexcode:"1F471-1F3FF-200D-2642-FE0F",label:"man: dark skin tone, blond hair",order:669,unicode:""}]},{group:1,hexcode:"1F9D3",label:"older person",order:671,tags:["adult","gender-neutral","old","unspecified gender"],unicode:"",skins:[{group:1,hexcode:"1F9D3-1F3FB",label:"older person: light skin tone",order:672,unicode:""},{group:1,hexcode:"1F9D3-1F3FC",label:"older person: medium-light skin tone",order:673,unicode:""},{group:1,hexcode:"1F9D3-1F3FD",label:"older person: medium skin tone",order:674,unicode:""},{group:1,hexcode:"1F9D3-1F3FE",label:"older person: medium-dark skin tone",order:675,unicode:""},{group:1,hexcode:"1F9D3-1F3FF",label:"older person: dark skin tone",order:676,unicode:""}]},{group:1,hexcode:"1F474",label:"old man",order:677,tags:["adult","man","old"],unicode:"",skins:[{group:1,hexcode:"1F474-1F3FB",label:"old man: light skin tone",order:678,unicode:""},{group:1,hexcode:"1F474-1F3FC",label:"old man: medium-light skin tone",order:679,unicode:""},{group:1,hexcode:"1F474-1F3FD",label:"old man: medium skin tone",order:680,unicode:""},{group:1,hexcode:"1F474-1F3FE",label:"old man: medium-dark skin tone",order:681,unicode:""},{group:1,hexcode:"1F474-1F3FF",label:"old man: dark skin tone",order:682,unicode:""}]},{group:1,hexcode:"1F475",label:"old woman",order:683,tags:["adult","old","woman"],unicode:"",skins:[{group:1,hexcode:"1F475-1F3FB",label:"old woman: light skin tone",order:684,unicode:""},{group:1,hexcode:"1F475-1F3FC",label:"old woman: medium-light skin tone",order:685,unicode:""},{group:1,hexcode:"1F475-1F3FD",label:"old woman: medium skin tone",order:686,unicode:""},{group:1,hexcode:"1F475-1F3FE",label:"old woman: medium-dark skin tone",order:687,unicode:""},{group:1,hexcode:"1F475-1F3FF",label:"old woman: dark skin tone",order:688,unicode:""}]},{group:1,hexcode:"1F64D",label:"person frowning",order:689,tags:["frown","gesture"],unicode:"",skins:[{group:1,hexcode:"1F64D-1F3FB",label:"person frowning: light skin tone",order:690,unicode:""},{group:1,hexcode:"1F64D-1F3FC",label:"person frowning: medium-light skin tone",order:691,unicode:""},{group:1,hexcode:"1F64D-1F3FD",label:"person frowning: medium skin tone",order:692,unicode:""},{group:1,hexcode:"1F64D-1F3FE",label:"person frowning: medium-dark skin tone",order:693,unicode:""},{group:1,hexcode:"1F64D-1F3FF",label:"person frowning: dark skin tone",order:694,unicode:""}]},{group:1,hexcode:"1F64D-200D-2642-FE0F",label:"man frowning",order:695,tags:["frowning","gesture","man"],unicode:"",skins:[{group:1,hexcode:"1F64D-1F3FB-200D-2642-FE0F",label:"man frowning: light skin tone",order:697,unicode:""},{group:1,hexcode:"1F64D-1F3FC-200D-2642-FE0F",label:"man frowning: medium-light skin tone",order:699,unicode:""},{group:1,hexcode:"1F64D-1F3FD-200D-2642-FE0F",label:"man frowning: medium skin tone",order:701,unicode:""},{group:1,hexcode:"1F64D-1F3FE-200D-2642-FE0F",label:"man frowning: medium-dark skin tone",order:703,unicode:""},{group:1,hexcode:"1F64D-1F3FF-200D-2642-FE0F",label:"man frowning: dark skin tone",order:705,unicode:""}]},{group:1,hexcode:"1F64D-200D-2640-FE0F",label:"woman frowning",order:707,tags:["frowning","gesture","woman"],unicode:"",skins:[{group:1,hexcode:"1F64D-1F3FB-200D-2640-FE0F",label:"woman frowning: light skin tone",order:709,unicode:""},{group:1,hexcode:"1F64D-1F3FC-200D-2640-FE0F",label:"woman frowning: medium-light skin tone",order:711,unicode:""},{group:1,hexcode:"1F64D-1F3FD-200D-2640-FE0F",label:"woman frowning: medium skin tone",order:713,unicode:""},{group:1,hexcode:"1F64D-1F3FE-200D-2640-FE0F",label:"woman frowning: medium-dark skin tone",order:715,unicode:""},{group:1,hexcode:"1F64D-1F3FF-200D-2640-FE0F",label:"woman frowning: dark skin tone",order:717,unicode:""}]},{group:1,hexcode:"1F64E",label:"person pouting",order:719,tags:["gesture","pouting"],unicode:"",skins:[{group:1,hexcode:"1F64E-1F3FB",label:"person pouting: light skin tone",order:720,unicode:""},{group:1,hexcode:"1F64E-1F3FC",label:"person pouting: medium-light skin tone",order:721,unicode:""},{group:1,hexcode:"1F64E-1F3FD",label:"person pouting: medium skin tone",order:722,unicode:""},{group:1,hexcode:"1F64E-1F3FE",label:"person pouting: medium-dark skin tone",order:723,unicode:""},{group:1,hexcode:"1F64E-1F3FF",label:"person pouting: dark skin tone",order:724,unicode:""}]},{group:1,hexcode:"1F64E-200D-2642-FE0F",label:"man pouting",order:725,tags:["gesture","man","pouting"],unicode:"",skins:[{group:1,hexcode:"1F64E-1F3FB-200D-2642-FE0F",label:"man pouting: light skin tone",order:727,unicode:""},{group:1,hexcode:"1F64E-1F3FC-200D-2642-FE0F",label:"man pouting: medium-light skin tone",order:729,unicode:""},{group:1,hexcode:"1F64E-1F3FD-200D-2642-FE0F",label:"man pouting: medium skin tone",order:731,unicode:""},{group:1,hexcode:"1F64E-1F3FE-200D-2642-FE0F",label:"man pouting: medium-dark skin tone",order:733,unicode:""},{group:1,hexcode:"1F64E-1F3FF-200D-2642-FE0F",label:"man pouting: dark skin tone",order:735,unicode:""}]},{group:1,hexcode:"1F64E-200D-2640-FE0F",label:"woman pouting",order:737,tags:["gesture","pouting","woman"],unicode:"",skins:[{group:1,hexcode:"1F64E-1F3FB-200D-2640-FE0F",label:"woman pouting: light skin tone",order:739,unicode:""},{group:1,hexcode:"1F64E-1F3FC-200D-2640-FE0F",label:"woman pouting: medium-light skin tone",order:741,unicode:""},{group:1,hexcode:"1F64E-1F3FD-200D-2640-FE0F",label:"woman pouting: medium skin tone",order:743,unicode:""},{group:1,hexcode:"1F64E-1F3FE-200D-2640-FE0F",label:"woman pouting: medium-dark skin tone",order:745,unicode:""},{group:1,hexcode:"1F64E-1F3FF-200D-2640-FE0F",label:"woman pouting: dark skin tone",order:747,unicode:""}]},{group:1,hexcode:"1F645",label:"person gesturing NO",order:749,tags:["forbidden","gesture","hand","person gesturing no","prohibited"],unicode:"",skins:[{group:1,hexcode:"1F645-1F3FB",label:"person gesturing NO: light skin tone",order:750,unicode:""},{group:1,hexcode:"1F645-1F3FC",label:"person gesturing NO: medium-light skin tone",order:751,unicode:""},{group:1,hexcode:"1F645-1F3FD",label:"person gesturing NO: medium skin tone",order:752,unicode:""},{group:1,hexcode:"1F645-1F3FE",label:"person gesturing NO: medium-dark skin tone",order:753,unicode:""},{group:1,hexcode:"1F645-1F3FF",label:"person gesturing NO: dark skin tone",order:754,unicode:""}]},{group:1,hexcode:"1F645-200D-2642-FE0F",label:"man gesturing NO",order:755,tags:["forbidden","gesture","hand","man","man gesturing no","prohibited"],unicode:"",skins:[{group:1,hexcode:"1F645-1F3FB-200D-2642-FE0F",label:"man gesturing NO: light skin tone",order:757,unicode:""},{group:1,hexcode:"1F645-1F3FC-200D-2642-FE0F",label:"man gesturing NO: medium-light skin tone",order:759,unicode:""},{group:1,hexcode:"1F645-1F3FD-200D-2642-FE0F",label:"man gesturing NO: medium skin tone",order:761,unicode:""},{group:1,hexcode:"1F645-1F3FE-200D-2642-FE0F",label:"man gesturing NO: medium-dark skin tone",order:763,unicode:""},{group:1,hexcode:"1F645-1F3FF-200D-2642-FE0F",label:"man gesturing NO: dark skin tone",order:765,unicode:""}]},{group:1,hexcode:"1F645-200D-2640-FE0F",label:"woman gesturing NO",order:767,tags:["forbidden","gesture","hand","prohibited","woman","woman gesturing no"],unicode:"",skins:[{group:1,hexcode:"1F645-1F3FB-200D-2640-FE0F",label:"woman gesturing NO: light skin tone",order:769,unicode:""},{group:1,hexcode:"1F645-1F3FC-200D-2640-FE0F",label:"woman gesturing NO: medium-light skin tone",order:771,unicode:""},{group:1,hexcode:"1F645-1F3FD-200D-2640-FE0F",label:"woman gesturing NO: medium skin tone",order:773,unicode:""},{group:1,hexcode:"1F645-1F3FE-200D-2640-FE0F",label:"woman gesturing NO: medium-dark skin tone",order:775,unicode:""},{group:1,hexcode:"1F645-1F3FF-200D-2640-FE0F",label:"woman gesturing NO: dark skin tone",order:777,unicode:""}]},{group:1,hexcode:"1F646",label:"person gesturing OK",order:779,tags:["gesture","hand","ok","person gesturing ok"],unicode:"",skins:[{group:1,hexcode:"1F646-1F3FB",label:"person gesturing OK: light skin tone",order:780,unicode:""},{group:1,hexcode:"1F646-1F3FC",label:"person gesturing OK: medium-light skin tone",order:781,unicode:""},{group:1,hexcode:"1F646-1F3FD",label:"person gesturing OK: medium skin tone",order:782,unicode:""},{group:1,hexcode:"1F646-1F3FE",label:"person gesturing OK: medium-dark skin tone",order:783,unicode:""},{group:1,hexcode:"1F646-1F3FF",label:"person gesturing OK: dark skin tone",order:784,unicode:""}]},{group:1,hexcode:"1F646-200D-2642-FE0F",label:"man gesturing OK",order:785,tags:["gesture","hand","man","man gesturing ok","ok"],unicode:"",skins:[{group:1,hexcode:"1F646-1F3FB-200D-2642-FE0F",label:"man gesturing OK: light skin tone",order:787,unicode:""},{group:1,hexcode:"1F646-1F3FC-200D-2642-FE0F",label:"man gesturing OK: medium-light skin tone",order:789,unicode:""},{group:1,hexcode:"1F646-1F3FD-200D-2642-FE0F",label:"man gesturing OK: medium skin tone",order:791,unicode:""},{group:1,hexcode:"1F646-1F3FE-200D-2642-FE0F",label:"man gesturing OK: medium-dark skin tone",order:793,unicode:""},{group:1,hexcode:"1F646-1F3FF-200D-2642-FE0F",label:"man gesturing OK: dark skin tone",order:795,unicode:""}]},{group:1,hexcode:"1F646-200D-2640-FE0F",label:"woman gesturing OK",order:797,tags:["gesture","hand","ok","woman","woman gesturing ok"],unicode:"",skins:[{group:1,hexcode:"1F646-1F3FB-200D-2640-FE0F",label:"woman gesturing OK: light skin tone",order:799,unicode:""},{group:1,hexcode:"1F646-1F3FC-200D-2640-FE0F",label:"woman gesturing OK: medium-light skin tone",order:801,unicode:""},{group:1,hexcode:"1F646-1F3FD-200D-2640-FE0F",label:"woman gesturing OK: medium skin tone",order:803,unicode:""},{group:1,hexcode:"1F646-1F3FE-200D-2640-FE0F",label:"woman gesturing OK: medium-dark skin tone",order:805,unicode:""},{group:1,hexcode:"1F646-1F3FF-200D-2640-FE0F",label:"woman gesturing OK: dark skin tone",order:807,unicode:""}]},{group:1,hexcode:"1F481",label:"person tipping hand",order:809,tags:["hand","help","information","sassy","tipping"],unicode:"",skins:[{group:1,hexcode:"1F481-1F3FB",label:"person tipping hand: light skin tone",order:810,unicode:""},{group:1,hexcode:"1F481-1F3FC",label:"person tipping hand: medium-light skin tone",order:811,unicode:""},{group:1,hexcode:"1F481-1F3FD",label:"person tipping hand: medium skin tone",order:812,unicode:""},{group:1,hexcode:"1F481-1F3FE",label:"person tipping hand: medium-dark skin tone",order:813,unicode:""},{group:1,hexcode:"1F481-1F3FF",label:"person tipping hand: dark skin tone",order:814,unicode:""}]},{group:1,hexcode:"1F481-200D-2642-FE0F",label:"man tipping hand",order:815,tags:["man","sassy","tipping hand"],unicode:"",skins:[{group:1,hexcode:"1F481-1F3FB-200D-2642-FE0F",label:"man tipping hand: light skin tone",order:817,unicode:""},{group:1,hexcode:"1F481-1F3FC-200D-2642-FE0F",label:"man tipping hand: medium-light skin tone",order:819,unicode:""},{group:1,hexcode:"1F481-1F3FD-200D-2642-FE0F",label:"man tipping hand: medium skin tone",order:821,unicode:""},{group:1,hexcode:"1F481-1F3FE-200D-2642-FE0F",label:"man tipping hand: medium-dark skin tone",order:823,unicode:""},{group:1,hexcode:"1F481-1F3FF-200D-2642-FE0F",label:"man tipping hand: dark skin tone",order:825,unicode:""}]},{group:1,hexcode:"1F481-200D-2640-FE0F",label:"woman tipping hand",order:827,tags:["sassy","tipping hand","woman"],unicode:"",skins:[{group:1,hexcode:"1F481-1F3FB-200D-2640-FE0F",label:"woman tipping hand: light skin tone",order:829,unicode:""},{group:1,hexcode:"1F481-1F3FC-200D-2640-FE0F",label:"woman tipping hand: medium-light skin tone",order:831,unicode:""},{group:1,hexcode:"1F481-1F3FD-200D-2640-FE0F",label:"woman tipping hand: medium skin tone",order:833,unicode:""},{group:1,hexcode:"1F481-1F3FE-200D-2640-FE0F",label:"woman tipping hand: medium-dark skin tone",order:835,unicode:""},{group:1,hexcode:"1F481-1F3FF-200D-2640-FE0F",label:"woman tipping hand: dark skin tone",order:837,unicode:""}]},{group:1,hexcode:"1F64B",label:"person raising hand",order:839,tags:["gesture","hand","happy","raised"],unicode:"",skins:[{group:1,hexcode:"1F64B-1F3FB",label:"person raising hand: light skin tone",order:840,unicode:""},{group:1,hexcode:"1F64B-1F3FC",label:"person raising hand: medium-light skin tone",order:841,unicode:""},{group:1,hexcode:"1F64B-1F3FD",label:"person raising hand: medium skin tone",order:842,unicode:""},{group:1,hexcode:"1F64B-1F3FE",label:"person raising hand: medium-dark skin tone",order:843,unicode:""},{group:1,hexcode:"1F64B-1F3FF",label:"person raising hand: dark skin tone",order:844,unicode:""}]},{group:1,hexcode:"1F64B-200D-2642-FE0F",label:"man raising hand",order:845,tags:["gesture","man","raising hand"],unicode:"",skins:[{group:1,hexcode:"1F64B-1F3FB-200D-2642-FE0F",label:"man raising hand: light skin tone",order:847,unicode:""},{group:1,hexcode:"1F64B-1F3FC-200D-2642-FE0F",label:"man raising hand: medium-light skin tone",order:849,unicode:""},{group:1,hexcode:"1F64B-1F3FD-200D-2642-FE0F",label:"man raising hand: medium skin tone",order:851,unicode:""},{group:1,hexcode:"1F64B-1F3FE-200D-2642-FE0F",label:"man raising hand: medium-dark skin tone",order:853,unicode:""},{group:1,hexcode:"1F64B-1F3FF-200D-2642-FE0F",label:"man raising hand: dark skin tone",order:855,unicode:""}]},{group:1,hexcode:"1F64B-200D-2640-FE0F",label:"woman raising hand",order:857,tags:["gesture","raising hand","woman"],unicode:"",skins:[{group:1,hexcode:"1F64B-1F3FB-200D-2640-FE0F",label:"woman raising hand: light skin tone",order:859,unicode:""},{group:1,hexcode:"1F64B-1F3FC-200D-2640-FE0F",label:"woman raising hand: medium-light skin tone",order:861,unicode:""},{group:1,hexcode:"1F64B-1F3FD-200D-2640-FE0F",label:"woman raising hand: medium skin tone",order:863,unicode:""},{group:1,hexcode:"1F64B-1F3FE-200D-2640-FE0F",label:"woman raising hand: medium-dark skin tone",order:865,unicode:""},{group:1,hexcode:"1F64B-1F3FF-200D-2640-FE0F",label:"woman raising hand: dark skin tone",order:867,unicode:""}]},{group:1,hexcode:"1F9CF",label:"deaf person",order:869,tags:["accessibility","deaf","ear","hear"],unicode:"",skins:[{group:1,hexcode:"1F9CF-1F3FB",label:"deaf person: light skin tone",order:870,unicode:""},{group:1,hexcode:"1F9CF-1F3FC",label:"deaf person: medium-light skin tone",order:871,unicode:""},{group:1,hexcode:"1F9CF-1F3FD",label:"deaf person: medium skin tone",order:872,unicode:""},{group:1,hexcode:"1F9CF-1F3FE",label:"deaf person: medium-dark skin tone",order:873,unicode:""},{group:1,hexcode:"1F9CF-1F3FF",label:"deaf person: dark skin tone",order:874,unicode:""}]},{group:1,hexcode:"1F9CF-200D-2642-FE0F",label:"deaf man",order:875,tags:["deaf","man"],unicode:"",skins:[{group:1,hexcode:"1F9CF-1F3FB-200D-2642-FE0F",label:"deaf man: light skin tone",order:877,unicode:""},{group:1,hexcode:"1F9CF-1F3FC-200D-2642-FE0F",label:"deaf man: medium-light skin tone",order:879,unicode:""},{group:1,hexcode:"1F9CF-1F3FD-200D-2642-FE0F",label:"deaf man: medium skin tone",order:881,unicode:""},{group:1,hexcode:"1F9CF-1F3FE-200D-2642-FE0F",label:"deaf man: medium-dark skin tone",order:883,unicode:""},{group:1,hexcode:"1F9CF-1F3FF-200D-2642-FE0F",label:"deaf man: dark skin tone",order:885,unicode:""}]},{group:1,hexcode:"1F9CF-200D-2640-FE0F",label:"deaf woman",order:887,tags:["deaf","woman"],unicode:"",skins:[{group:1,hexcode:"1F9CF-1F3FB-200D-2640-FE0F",label:"deaf woman: light skin tone",order:889,unicode:""},{group:1,hexcode:"1F9CF-1F3FC-200D-2640-FE0F",label:"deaf woman: medium-light skin tone",order:891,unicode:""},{group:1,hexcode:"1F9CF-1F3FD-200D-2640-FE0F",label:"deaf woman: medium skin tone",order:893,unicode:""},{group:1,hexcode:"1F9CF-1F3FE-200D-2640-FE0F",label:"deaf woman: medium-dark skin tone",order:895,unicode:""},{group:1,hexcode:"1F9CF-1F3FF-200D-2640-FE0F",label:"deaf woman: dark skin tone",order:897,unicode:""}]},{group:1,hexcode:"1F647",label:"person bowing",order:899,tags:["apology","bow","gesture","sorry"],unicode:"",skins:[{group:1,hexcode:"1F647-1F3FB",label:"person bowing: light skin tone",order:900,unicode:""},{group:1,hexcode:"1F647-1F3FC",label:"person bowing: medium-light skin tone",order:901,unicode:""},{group:1,hexcode:"1F647-1F3FD",label:"person bowing: medium skin tone",order:902,unicode:""},{group:1,hexcode:"1F647-1F3FE",label:"person bowing: medium-dark skin tone",order:903,unicode:""},{group:1,hexcode:"1F647-1F3FF",label:"person bowing: dark skin tone",order:904,unicode:""}]},{group:1,hexcode:"1F647-200D-2642-FE0F",label:"man bowing",order:905,tags:["apology","bowing","favor","gesture","man","sorry"],unicode:"",skins:[{group:1,hexcode:"1F647-1F3FB-200D-2642-FE0F",label:"man bowing: light skin tone",order:907,unicode:""},{group:1,hexcode:"1F647-1F3FC-200D-2642-FE0F",label:"man bowing: medium-light skin tone",order:909,unicode:""},{group:1,hexcode:"1F647-1F3FD-200D-2642-FE0F",label:"man bowing: medium skin tone",order:911,unicode:""},{group:1,hexcode:"1F647-1F3FE-200D-2642-FE0F",label:"man bowing: medium-dark skin tone",order:913,unicode:""},{group:1,hexcode:"1F647-1F3FF-200D-2642-FE0F",label:"man bowing: dark skin tone",order:915,unicode:""}]},{group:1,hexcode:"1F647-200D-2640-FE0F",label:"woman bowing",order:917,tags:["apology","bowing","favor","gesture","sorry","woman"],unicode:"",skins:[{group:1,hexcode:"1F647-1F3FB-200D-2640-FE0F",label:"woman bowing: light skin tone",order:919,unicode:""},{group:1,hexcode:"1F647-1F3FC-200D-2640-FE0F",label:"woman bowing: medium-light skin tone",order:921,unicode:""},{group:1,hexcode:"1F647-1F3FD-200D-2640-FE0F",label:"woman bowing: medium skin tone",order:923,unicode:""},{group:1,hexcode:"1F647-1F3FE-200D-2640-FE0F",label:"woman bowing: medium-dark skin tone",order:925,unicode:""},{group:1,hexcode:"1F647-1F3FF-200D-2640-FE0F",label:"woman bowing: dark skin tone",order:927,unicode:""}]},{group:1,hexcode:"1F926",label:"person facepalming",order:929,tags:["disbelief","exasperation","face","palm"],unicode:"",skins:[{group:1,hexcode:"1F926-1F3FB",label:"person facepalming: light skin tone",order:930,unicode:""},{group:1,hexcode:"1F926-1F3FC",label:"person facepalming: medium-light skin tone",order:931,unicode:""},{group:1,hexcode:"1F926-1F3FD",label:"person facepalming: medium skin tone",order:932,unicode:""},{group:1,hexcode:"1F926-1F3FE",label:"person facepalming: medium-dark skin tone",order:933,unicode:""},{group:1,hexcode:"1F926-1F3FF",label:"person facepalming: dark skin tone",order:934,unicode:""}]},{group:1,hexcode:"1F926-200D-2642-FE0F",label:"man facepalming",order:935,tags:["disbelief","exasperation","facepalm","man"],unicode:"",skins:[{group:1,hexcode:"1F926-1F3FB-200D-2642-FE0F",label:"man facepalming: light skin tone",order:937,unicode:""},{group:1,hexcode:"1F926-1F3FC-200D-2642-FE0F",label:"man facepalming: medium-light skin tone",order:939,unicode:""},{group:1,hexcode:"1F926-1F3FD-200D-2642-FE0F",label:"man facepalming: medium skin tone",order:941,unicode:""},{group:1,hexcode:"1F926-1F3FE-200D-2642-FE0F",label:"man facepalming: medium-dark skin tone",order:943,unicode:""},{group:1,hexcode:"1F926-1F3FF-200D-2642-FE0F",label:"man facepalming: dark skin tone",order:945,unicode:""}]},{group:1,hexcode:"1F926-200D-2640-FE0F",label:"woman facepalming",order:947,tags:["disbelief","exasperation","facepalm","woman"],unicode:"",skins:[{group:1,hexcode:"1F926-1F3FB-200D-2640-FE0F",label:"woman facepalming: light skin tone",order:949,unicode:""},{group:1,hexcode:"1F926-1F3FC-200D-2640-FE0F",label:"woman facepalming: medium-light skin tone",order:951,unicode:""},{group:1,hexcode:"1F926-1F3FD-200D-2640-FE0F",label:"woman facepalming: medium skin tone",order:953,unicode:""},{group:1,hexcode:"1F926-1F3FE-200D-2640-FE0F",label:"woman facepalming: medium-dark skin tone",order:955,unicode:""},{group:1,hexcode:"1F926-1F3FF-200D-2640-FE0F",label:"woman facepalming: dark skin tone",order:957,unicode:""}]},{group:1,hexcode:"1F937",label:"person shrugging",order:959,tags:["doubt","ignorance","indifference","shrug"],unicode:"",skins:[{group:1,hexcode:"1F937-1F3FB",label:"person shrugging: light skin tone",order:960,unicode:""},{group:1,hexcode:"1F937-1F3FC",label:"person shrugging: medium-light skin tone",order:961,unicode:""},{group:1,hexcode:"1F937-1F3FD",label:"person shrugging: medium skin tone",order:962,unicode:""},{group:1,hexcode:"1F937-1F3FE",label:"person shrugging: medium-dark skin tone",order:963,unicode:""},{group:1,hexcode:"1F937-1F3FF",label:"person shrugging: dark skin tone",order:964,unicode:""}]},{group:1,hexcode:"1F937-200D-2642-FE0F",label:"man shrugging",order:965,tags:["doubt","ignorance","indifference","man","shrug"],unicode:"",skins:[{group:1,hexcode:"1F937-1F3FB-200D-2642-FE0F",label:"man shrugging: light skin tone",order:967,unicode:""},{group:1,hexcode:"1F937-1F3FC-200D-2642-FE0F",label:"man shrugging: medium-light skin tone",order:969,unicode:""},{group:1,hexcode:"1F937-1F3FD-200D-2642-FE0F",label:"man shrugging: medium skin tone",order:971,unicode:""},{group:1,hexcode:"1F937-1F3FE-200D-2642-FE0F",label:"man shrugging: medium-dark skin tone",order:973,unicode:""},{group:1,hexcode:"1F937-1F3FF-200D-2642-FE0F",label:"man shrugging: dark skin tone",order:975,unicode:""}]},{group:1,hexcode:"1F937-200D-2640-FE0F",label:"woman shrugging",order:977,tags:["doubt","ignorance","indifference","shrug","woman"],unicode:"",skins:[{group:1,hexcode:"1F937-1F3FB-200D-2640-FE0F",label:"woman shrugging: light skin tone",order:979,unicode:""},{group:1,hexcode:"1F937-1F3FC-200D-2640-FE0F",label:"woman shrugging: medium-light skin tone",order:981,unicode:""},{group:1,hexcode:"1F937-1F3FD-200D-2640-FE0F",label:"woman shrugging: medium skin tone",order:983,unicode:""},{group:1,hexcode:"1F937-1F3FE-200D-2640-FE0F",label:"woman shrugging: medium-dark skin tone",order:985,unicode:""},{group:1,hexcode:"1F937-1F3FF-200D-2640-FE0F",label:"woman shrugging: dark skin tone",order:987,unicode:""}]},{group:1,hexcode:"1F9D1-200D-2695-FE0F",label:"health worker",order:989,tags:["doctor","healthcare","nurse","therapist"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-2695-FE0F",label:"health worker: light skin tone",order:991,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2695-FE0F",label:"health worker: medium-light skin tone",order:993,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2695-FE0F",label:"health worker: medium skin tone",order:995,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2695-FE0F",label:"health worker: medium-dark skin tone",order:997,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2695-FE0F",label:"health worker: dark skin tone",order:999,unicode:""}]},{group:1,hexcode:"1F468-200D-2695-FE0F",label:"man health worker",order:1001,tags:["doctor","healthcare","man","nurse","therapist"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-2695-FE0F",label:"man health worker: light skin tone",order:1003,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2695-FE0F",label:"man health worker: medium-light skin tone",order:1005,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2695-FE0F",label:"man health worker: medium skin tone",order:1007,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2695-FE0F",label:"man health worker: medium-dark skin tone",order:1009,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2695-FE0F",label:"man health worker: dark skin tone",order:1011,unicode:""}]},{group:1,hexcode:"1F469-200D-2695-FE0F",label:"woman health worker",order:1013,tags:["doctor","healthcare","nurse","therapist","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2695-FE0F",label:"woman health worker: light skin tone",order:1015,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2695-FE0F",label:"woman health worker: medium-light skin tone",order:1017,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2695-FE0F",label:"woman health worker: medium skin tone",order:1019,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2695-FE0F",label:"woman health worker: medium-dark skin tone",order:1021,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2695-FE0F",label:"woman health worker: dark skin tone",order:1023,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F393",label:"student",order:1025,tags:["graduate"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F393",label:"student: light skin tone",order:1026,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F393",label:"student: medium-light skin tone",order:1027,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F393",label:"student: medium skin tone",order:1028,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F393",label:"student: medium-dark skin tone",order:1029,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F393",label:"student: dark skin tone",order:1030,unicode:""}]},{group:1,hexcode:"1F468-200D-1F393",label:"man student",order:1031,tags:["graduate","man","student"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F393",label:"man student: light skin tone",order:1032,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F393",label:"man student: medium-light skin tone",order:1033,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F393",label:"man student: medium skin tone",order:1034,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F393",label:"man student: medium-dark skin tone",order:1035,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F393",label:"man student: dark skin tone",order:1036,unicode:""}]},{group:1,hexcode:"1F469-200D-1F393",label:"woman student",order:1037,tags:["graduate","student","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F393",label:"woman student: light skin tone",order:1038,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F393",label:"woman student: medium-light skin tone",order:1039,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F393",label:"woman student: medium skin tone",order:1040,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F393",label:"woman student: medium-dark skin tone",order:1041,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F393",label:"woman student: dark skin tone",order:1042,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F3EB",label:"teacher",order:1043,tags:["instructor","professor"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F3EB",label:"teacher: light skin tone",order:1044,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F3EB",label:"teacher: medium-light skin tone",order:1045,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F3EB",label:"teacher: medium skin tone",order:1046,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F3EB",label:"teacher: medium-dark skin tone",order:1047,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F3EB",label:"teacher: dark skin tone",order:1048,unicode:""}]},{group:1,hexcode:"1F468-200D-1F3EB",label:"man teacher",order:1049,tags:["instructor","man","professor","teacher"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F3EB",label:"man teacher: light skin tone",order:1050,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F3EB",label:"man teacher: medium-light skin tone",order:1051,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F3EB",label:"man teacher: medium skin tone",order:1052,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F3EB",label:"man teacher: medium-dark skin tone",order:1053,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F3EB",label:"man teacher: dark skin tone",order:1054,unicode:""}]},{group:1,hexcode:"1F469-200D-1F3EB",label:"woman teacher",order:1055,tags:["instructor","professor","teacher","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F3EB",label:"woman teacher: light skin tone",order:1056,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F3EB",label:"woman teacher: medium-light skin tone",order:1057,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F3EB",label:"woman teacher: medium skin tone",order:1058,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F3EB",label:"woman teacher: medium-dark skin tone",order:1059,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F3EB",label:"woman teacher: dark skin tone",order:1060,unicode:""}]},{group:1,hexcode:"1F9D1-200D-2696-FE0F",label:"judge",order:1061,tags:["justice","scales"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-2696-FE0F",label:"judge: light skin tone",order:1063,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2696-FE0F",label:"judge: medium-light skin tone",order:1065,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2696-FE0F",label:"judge: medium skin tone",order:1067,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2696-FE0F",label:"judge: medium-dark skin tone",order:1069,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2696-FE0F",label:"judge: dark skin tone",order:1071,unicode:""}]},{group:1,hexcode:"1F468-200D-2696-FE0F",label:"man judge",order:1073,tags:["judge","justice","man","scales"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-2696-FE0F",label:"man judge: light skin tone",order:1075,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2696-FE0F",label:"man judge: medium-light skin tone",order:1077,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2696-FE0F",label:"man judge: medium skin tone",order:1079,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2696-FE0F",label:"man judge: medium-dark skin tone",order:1081,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2696-FE0F",label:"man judge: dark skin tone",order:1083,unicode:""}]},{group:1,hexcode:"1F469-200D-2696-FE0F",label:"woman judge",order:1085,tags:["judge","justice","scales","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2696-FE0F",label:"woman judge: light skin tone",order:1087,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2696-FE0F",label:"woman judge: medium-light skin tone",order:1089,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2696-FE0F",label:"woman judge: medium skin tone",order:1091,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2696-FE0F",label:"woman judge: medium-dark skin tone",order:1093,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2696-FE0F",label:"woman judge: dark skin tone",order:1095,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F33E",label:"farmer",order:1097,tags:["gardener","rancher"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F33E",label:"farmer: light skin tone",order:1098,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F33E",label:"farmer: medium-light skin tone",order:1099,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F33E",label:"farmer: medium skin tone",order:1100,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F33E",label:"farmer: medium-dark skin tone",order:1101,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F33E",label:"farmer: dark skin tone",order:1102,unicode:""}]},{group:1,hexcode:"1F468-200D-1F33E",label:"man farmer",order:1103,tags:["farmer","gardener","man","rancher"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F33E",label:"man farmer: light skin tone",order:1104,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F33E",label:"man farmer: medium-light skin tone",order:1105,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F33E",label:"man farmer: medium skin tone",order:1106,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F33E",label:"man farmer: medium-dark skin tone",order:1107,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F33E",label:"man farmer: dark skin tone",order:1108,unicode:""}]},{group:1,hexcode:"1F469-200D-1F33E",label:"woman farmer",order:1109,tags:["farmer","gardener","rancher","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F33E",label:"woman farmer: light skin tone",order:1110,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F33E",label:"woman farmer: medium-light skin tone",order:1111,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F33E",label:"woman farmer: medium skin tone",order:1112,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F33E",label:"woman farmer: medium-dark skin tone",order:1113,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F33E",label:"woman farmer: dark skin tone",order:1114,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F373",label:"cook",order:1115,tags:["chef"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F373",label:"cook: light skin tone",order:1116,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F373",label:"cook: medium-light skin tone",order:1117,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F373",label:"cook: medium skin tone",order:1118,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F373",label:"cook: medium-dark skin tone",order:1119,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F373",label:"cook: dark skin tone",order:1120,unicode:""}]},{group:1,hexcode:"1F468-200D-1F373",label:"man cook",order:1121,tags:["chef","cook","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F373",label:"man cook: light skin tone",order:1122,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F373",label:"man cook: medium-light skin tone",order:1123,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F373",label:"man cook: medium skin tone",order:1124,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F373",label:"man cook: medium-dark skin tone",order:1125,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F373",label:"man cook: dark skin tone",order:1126,unicode:""}]},{group:1,hexcode:"1F469-200D-1F373",label:"woman cook",order:1127,tags:["chef","cook","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F373",label:"woman cook: light skin tone",order:1128,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F373",label:"woman cook: medium-light skin tone",order:1129,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F373",label:"woman cook: medium skin tone",order:1130,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F373",label:"woman cook: medium-dark skin tone",order:1131,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F373",label:"woman cook: dark skin tone",order:1132,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F527",label:"mechanic",order:1133,tags:["electrician","plumber","tradesperson"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F527",label:"mechanic: light skin tone",order:1134,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F527",label:"mechanic: medium-light skin tone",order:1135,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F527",label:"mechanic: medium skin tone",order:1136,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F527",label:"mechanic: medium-dark skin tone",order:1137,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F527",label:"mechanic: dark skin tone",order:1138,unicode:""}]},{group:1,hexcode:"1F468-200D-1F527",label:"man mechanic",order:1139,tags:["electrician","man","mechanic","plumber","tradesperson"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F527",label:"man mechanic: light skin tone",order:1140,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F527",label:"man mechanic: medium-light skin tone",order:1141,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F527",label:"man mechanic: medium skin tone",order:1142,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F527",label:"man mechanic: medium-dark skin tone",order:1143,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F527",label:"man mechanic: dark skin tone",order:1144,unicode:""}]},{group:1,hexcode:"1F469-200D-1F527",label:"woman mechanic",order:1145,tags:["electrician","mechanic","plumber","tradesperson","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F527",label:"woman mechanic: light skin tone",order:1146,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F527",label:"woman mechanic: medium-light skin tone",order:1147,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F527",label:"woman mechanic: medium skin tone",order:1148,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F527",label:"woman mechanic: medium-dark skin tone",order:1149,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F527",label:"woman mechanic: dark skin tone",order:1150,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F3ED",label:"factory worker",order:1151,tags:["assembly","factory","industrial","worker"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F3ED",label:"factory worker: light skin tone",order:1152,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F3ED",label:"factory worker: medium-light skin tone",order:1153,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F3ED",label:"factory worker: medium skin tone",order:1154,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F3ED",label:"factory worker: medium-dark skin tone",order:1155,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F3ED",label:"factory worker: dark skin tone",order:1156,unicode:""}]},{group:1,hexcode:"1F468-200D-1F3ED",label:"man factory worker",order:1157,tags:["assembly","factory","industrial","man","worker"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F3ED",label:"man factory worker: light skin tone",order:1158,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F3ED",label:"man factory worker: medium-light skin tone",order:1159,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F3ED",label:"man factory worker: medium skin tone",order:1160,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F3ED",label:"man factory worker: medium-dark skin tone",order:1161,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F3ED",label:"man factory worker: dark skin tone",order:1162,unicode:""}]},{group:1,hexcode:"1F469-200D-1F3ED",label:"woman factory worker",order:1163,tags:["assembly","factory","industrial","woman","worker"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F3ED",label:"woman factory worker: light skin tone",order:1164,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F3ED",label:"woman factory worker: medium-light skin tone",order:1165,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F3ED",label:"woman factory worker: medium skin tone",order:1166,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F3ED",label:"woman factory worker: medium-dark skin tone",order:1167,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F3ED",label:"woman factory worker: dark skin tone",order:1168,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F4BC",label:"office worker",order:1169,tags:["architect","business","manager","white-collar"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F4BC",label:"office worker: light skin tone",order:1170,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F4BC",label:"office worker: medium-light skin tone",order:1171,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F4BC",label:"office worker: medium skin tone",order:1172,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F4BC",label:"office worker: medium-dark skin tone",order:1173,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F4BC",label:"office worker: dark skin tone",order:1174,unicode:""}]},{group:1,hexcode:"1F468-200D-1F4BC",label:"man office worker",order:1175,tags:["architect","business","man","manager","white-collar"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F4BC",label:"man office worker: light skin tone",order:1176,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F4BC",label:"man office worker: medium-light skin tone",order:1177,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F4BC",label:"man office worker: medium skin tone",order:1178,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F4BC",label:"man office worker: medium-dark skin tone",order:1179,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F4BC",label:"man office worker: dark skin tone",order:1180,unicode:""}]},{group:1,hexcode:"1F469-200D-1F4BC",label:"woman office worker",order:1181,tags:["architect","business","manager","white-collar","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F4BC",label:"woman office worker: light skin tone",order:1182,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F4BC",label:"woman office worker: medium-light skin tone",order:1183,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F4BC",label:"woman office worker: medium skin tone",order:1184,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F4BC",label:"woman office worker: medium-dark skin tone",order:1185,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F4BC",label:"woman office worker: dark skin tone",order:1186,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F52C",label:"scientist",order:1187,tags:["biologist","chemist","engineer","physicist"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F52C",label:"scientist: light skin tone",order:1188,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F52C",label:"scientist: medium-light skin tone",order:1189,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F52C",label:"scientist: medium skin tone",order:1190,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F52C",label:"scientist: medium-dark skin tone",order:1191,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F52C",label:"scientist: dark skin tone",order:1192,unicode:""}]},{group:1,hexcode:"1F468-200D-1F52C",label:"man scientist",order:1193,tags:["biologist","chemist","engineer","man","physicist","scientist"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F52C",label:"man scientist: light skin tone",order:1194,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F52C",label:"man scientist: medium-light skin tone",order:1195,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F52C",label:"man scientist: medium skin tone",order:1196,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F52C",label:"man scientist: medium-dark skin tone",order:1197,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F52C",label:"man scientist: dark skin tone",order:1198,unicode:""}]},{group:1,hexcode:"1F469-200D-1F52C",label:"woman scientist",order:1199,tags:["biologist","chemist","engineer","physicist","scientist","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F52C",label:"woman scientist: light skin tone",order:1200,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F52C",label:"woman scientist: medium-light skin tone",order:1201,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F52C",label:"woman scientist: medium skin tone",order:1202,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F52C",label:"woman scientist: medium-dark skin tone",order:1203,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F52C",label:"woman scientist: dark skin tone",order:1204,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F4BB",label:"technologist",order:1205,tags:["coder","developer","inventor","software"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F4BB",label:"technologist: light skin tone",order:1206,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F4BB",label:"technologist: medium-light skin tone",order:1207,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F4BB",label:"technologist: medium skin tone",order:1208,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F4BB",label:"technologist: medium-dark skin tone",order:1209,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F4BB",label:"technologist: dark skin tone",order:1210,unicode:""}]},{group:1,hexcode:"1F468-200D-1F4BB",label:"man technologist",order:1211,tags:["coder","developer","inventor","man","software","technologist"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F4BB",label:"man technologist: light skin tone",order:1212,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F4BB",label:"man technologist: medium-light skin tone",order:1213,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F4BB",label:"man technologist: medium skin tone",order:1214,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F4BB",label:"man technologist: medium-dark skin tone",order:1215,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F4BB",label:"man technologist: dark skin tone",order:1216,unicode:""}]},{group:1,hexcode:"1F469-200D-1F4BB",label:"woman technologist",order:1217,tags:["coder","developer","inventor","software","technologist","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F4BB",label:"woman technologist: light skin tone",order:1218,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F4BB",label:"woman technologist: medium-light skin tone",order:1219,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F4BB",label:"woman technologist: medium skin tone",order:1220,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F4BB",label:"woman technologist: medium-dark skin tone",order:1221,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F4BB",label:"woman technologist: dark skin tone",order:1222,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F3A4",label:"singer",order:1223,tags:["actor","entertainer","rock","star"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F3A4",label:"singer: light skin tone",order:1224,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F3A4",label:"singer: medium-light skin tone",order:1225,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F3A4",label:"singer: medium skin tone",order:1226,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F3A4",label:"singer: medium-dark skin tone",order:1227,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F3A4",label:"singer: dark skin tone",order:1228,unicode:""}]},{group:1,hexcode:"1F468-200D-1F3A4",label:"man singer",order:1229,tags:["actor","entertainer","man","rock","singer","star"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F3A4",label:"man singer: light skin tone",order:1230,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F3A4",label:"man singer: medium-light skin tone",order:1231,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F3A4",label:"man singer: medium skin tone",order:1232,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F3A4",label:"man singer: medium-dark skin tone",order:1233,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F3A4",label:"man singer: dark skin tone",order:1234,unicode:""}]},{group:1,hexcode:"1F469-200D-1F3A4",label:"woman singer",order:1235,tags:["actor","entertainer","rock","singer","star","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F3A4",label:"woman singer: light skin tone",order:1236,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F3A4",label:"woman singer: medium-light skin tone",order:1237,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F3A4",label:"woman singer: medium skin tone",order:1238,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F3A4",label:"woman singer: medium-dark skin tone",order:1239,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F3A4",label:"woman singer: dark skin tone",order:1240,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F3A8",label:"artist",order:1241,tags:["palette"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F3A8",label:"artist: light skin tone",order:1242,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F3A8",label:"artist: medium-light skin tone",order:1243,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F3A8",label:"artist: medium skin tone",order:1244,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F3A8",label:"artist: medium-dark skin tone",order:1245,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F3A8",label:"artist: dark skin tone",order:1246,unicode:""}]},{group:1,hexcode:"1F468-200D-1F3A8",label:"man artist",order:1247,tags:["artist","man","palette"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F3A8",label:"man artist: light skin tone",order:1248,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F3A8",label:"man artist: medium-light skin tone",order:1249,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F3A8",label:"man artist: medium skin tone",order:1250,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F3A8",label:"man artist: medium-dark skin tone",order:1251,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F3A8",label:"man artist: dark skin tone",order:1252,unicode:""}]},{group:1,hexcode:"1F469-200D-1F3A8",label:"woman artist",order:1253,tags:["artist","palette","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F3A8",label:"woman artist: light skin tone",order:1254,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F3A8",label:"woman artist: medium-light skin tone",order:1255,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F3A8",label:"woman artist: medium skin tone",order:1256,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F3A8",label:"woman artist: medium-dark skin tone",order:1257,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F3A8",label:"woman artist: dark skin tone",order:1258,unicode:""}]},{group:1,hexcode:"1F9D1-200D-2708-FE0F",label:"pilot",order:1259,tags:["plane"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-2708-FE0F",label:"pilot: light skin tone",order:1261,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2708-FE0F",label:"pilot: medium-light skin tone",order:1263,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2708-FE0F",label:"pilot: medium skin tone",order:1265,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2708-FE0F",label:"pilot: medium-dark skin tone",order:1267,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2708-FE0F",label:"pilot: dark skin tone",order:1269,unicode:""}]},{group:1,hexcode:"1F468-200D-2708-FE0F",label:"man pilot",order:1271,tags:["man","pilot","plane"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-2708-FE0F",label:"man pilot: light skin tone",order:1273,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2708-FE0F",label:"man pilot: medium-light skin tone",order:1275,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2708-FE0F",label:"man pilot: medium skin tone",order:1277,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2708-FE0F",label:"man pilot: medium-dark skin tone",order:1279,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2708-FE0F",label:"man pilot: dark skin tone",order:1281,unicode:""}]},{group:1,hexcode:"1F469-200D-2708-FE0F",label:"woman pilot",order:1283,tags:["pilot","plane","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2708-FE0F",label:"woman pilot: light skin tone",order:1285,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2708-FE0F",label:"woman pilot: medium-light skin tone",order:1287,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2708-FE0F",label:"woman pilot: medium skin tone",order:1289,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2708-FE0F",label:"woman pilot: medium-dark skin tone",order:1291,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2708-FE0F",label:"woman pilot: dark skin tone",order:1293,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F680",label:"astronaut",order:1295,tags:["rocket"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F680",label:"astronaut: light skin tone",order:1296,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F680",label:"astronaut: medium-light skin tone",order:1297,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F680",label:"astronaut: medium skin tone",order:1298,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F680",label:"astronaut: medium-dark skin tone",order:1299,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F680",label:"astronaut: dark skin tone",order:1300,unicode:""}]},{group:1,hexcode:"1F468-200D-1F680",label:"man astronaut",order:1301,tags:["astronaut","man","rocket"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F680",label:"man astronaut: light skin tone",order:1302,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F680",label:"man astronaut: medium-light skin tone",order:1303,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F680",label:"man astronaut: medium skin tone",order:1304,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F680",label:"man astronaut: medium-dark skin tone",order:1305,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F680",label:"man astronaut: dark skin tone",order:1306,unicode:""}]},{group:1,hexcode:"1F469-200D-1F680",label:"woman astronaut",order:1307,tags:["astronaut","rocket","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F680",label:"woman astronaut: light skin tone",order:1308,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F680",label:"woman astronaut: medium-light skin tone",order:1309,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F680",label:"woman astronaut: medium skin tone",order:1310,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F680",label:"woman astronaut: medium-dark skin tone",order:1311,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F680",label:"woman astronaut: dark skin tone",order:1312,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F692",label:"firefighter",order:1313,tags:["firetruck"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F692",label:"firefighter: light skin tone",order:1314,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F692",label:"firefighter: medium-light skin tone",order:1315,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F692",label:"firefighter: medium skin tone",order:1316,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F692",label:"firefighter: medium-dark skin tone",order:1317,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F692",label:"firefighter: dark skin tone",order:1318,unicode:""}]},{group:1,hexcode:"1F468-200D-1F692",label:"man firefighter",order:1319,tags:["firefighter","firetruck","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F692",label:"man firefighter: light skin tone",order:1320,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F692",label:"man firefighter: medium-light skin tone",order:1321,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F692",label:"man firefighter: medium skin tone",order:1322,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F692",label:"man firefighter: medium-dark skin tone",order:1323,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F692",label:"man firefighter: dark skin tone",order:1324,unicode:""}]},{group:1,hexcode:"1F469-200D-1F692",label:"woman firefighter",order:1325,tags:["firefighter","firetruck","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F692",label:"woman firefighter: light skin tone",order:1326,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F692",label:"woman firefighter: medium-light skin tone",order:1327,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F692",label:"woman firefighter: medium skin tone",order:1328,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F692",label:"woman firefighter: medium-dark skin tone",order:1329,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F692",label:"woman firefighter: dark skin tone",order:1330,unicode:""}]},{group:1,hexcode:"1F46E",label:"police officer",order:1331,tags:["cop","officer","police"],unicode:"",skins:[{group:1,hexcode:"1F46E-1F3FB",label:"police officer: light skin tone",order:1332,unicode:""},{group:1,hexcode:"1F46E-1F3FC",label:"police officer: medium-light skin tone",order:1333,unicode:""},{group:1,hexcode:"1F46E-1F3FD",label:"police officer: medium skin tone",order:1334,unicode:""},{group:1,hexcode:"1F46E-1F3FE",label:"police officer: medium-dark skin tone",order:1335,unicode:""},{group:1,hexcode:"1F46E-1F3FF",label:"police officer: dark skin tone",order:1336,unicode:""}]},{group:1,hexcode:"1F46E-200D-2642-FE0F",label:"man police officer",order:1337,tags:["cop","man","officer","police"],unicode:"",skins:[{group:1,hexcode:"1F46E-1F3FB-200D-2642-FE0F",label:"man police officer: light skin tone",order:1339,unicode:""},{group:1,hexcode:"1F46E-1F3FC-200D-2642-FE0F",label:"man police officer: medium-light skin tone",order:1341,unicode:""},{group:1,hexcode:"1F46E-1F3FD-200D-2642-FE0F",label:"man police officer: medium skin tone",order:1343,unicode:""},{group:1,hexcode:"1F46E-1F3FE-200D-2642-FE0F",label:"man police officer: medium-dark skin tone",order:1345,unicode:""},{group:1,hexcode:"1F46E-1F3FF-200D-2642-FE0F",label:"man police officer: dark skin tone",order:1347,unicode:""}]},{group:1,hexcode:"1F46E-200D-2640-FE0F",label:"woman police officer",order:1349,tags:["cop","officer","police","woman"],unicode:"",skins:[{group:1,hexcode:"1F46E-1F3FB-200D-2640-FE0F",label:"woman police officer: light skin tone",order:1351,unicode:""},{group:1,hexcode:"1F46E-1F3FC-200D-2640-FE0F",label:"woman police officer: medium-light skin tone",order:1353,unicode:""},{group:1,hexcode:"1F46E-1F3FD-200D-2640-FE0F",label:"woman police officer: medium skin tone",order:1355,unicode:""},{group:1,hexcode:"1F46E-1F3FE-200D-2640-FE0F",label:"woman police officer: medium-dark skin tone",order:1357,unicode:""},{group:1,hexcode:"1F46E-1F3FF-200D-2640-FE0F",label:"woman police officer: dark skin tone",order:1359,unicode:""}]},{group:1,hexcode:"1F575",label:"detective",order:1362,tags:["sleuth","spy"],unicode:"",skins:[{group:1,hexcode:"1F575-1F3FB",label:"detective: light skin tone",order:1363,unicode:""},{group:1,hexcode:"1F575-1F3FC",label:"detective: medium-light skin tone",order:1364,unicode:""},{group:1,hexcode:"1F575-1F3FD",label:"detective: medium skin tone",order:1365,unicode:""},{group:1,hexcode:"1F575-1F3FE",label:"detective: medium-dark skin tone",order:1366,unicode:""},{group:1,hexcode:"1F575-1F3FF",label:"detective: dark skin tone",order:1367,unicode:""}]},{group:1,hexcode:"1F575-FE0F-200D-2642-FE0F",label:"man detective",order:1368,tags:["detective","man","sleuth","spy"],unicode:"",skins:[{group:1,hexcode:"1F575-1F3FB-200D-2642-FE0F",label:"man detective: light skin tone",order:1372,unicode:""},{group:1,hexcode:"1F575-1F3FC-200D-2642-FE0F",label:"man detective: medium-light skin tone",order:1374,unicode:""},{group:1,hexcode:"1F575-1F3FD-200D-2642-FE0F",label:"man detective: medium skin tone",order:1376,unicode:""},{group:1,hexcode:"1F575-1F3FE-200D-2642-FE0F",label:"man detective: medium-dark skin tone",order:1378,unicode:""},{group:1,hexcode:"1F575-1F3FF-200D-2642-FE0F",label:"man detective: dark skin tone",order:1380,unicode:""}]},{group:1,hexcode:"1F575-FE0F-200D-2640-FE0F",label:"woman detective",order:1382,tags:["detective","sleuth","spy","woman"],unicode:"",skins:[{group:1,hexcode:"1F575-1F3FB-200D-2640-FE0F",label:"woman detective: light skin tone",order:1386,unicode:""},{group:1,hexcode:"1F575-1F3FC-200D-2640-FE0F",label:"woman detective: medium-light skin tone",order:1388,unicode:""},{group:1,hexcode:"1F575-1F3FD-200D-2640-FE0F",label:"woman detective: medium skin tone",order:1390,unicode:""},{group:1,hexcode:"1F575-1F3FE-200D-2640-FE0F",label:"woman detective: medium-dark skin tone",order:1392,unicode:""},{group:1,hexcode:"1F575-1F3FF-200D-2640-FE0F",label:"woman detective: dark skin tone",order:1394,unicode:""}]},{group:1,hexcode:"1F482",label:"guard",order:1396,tags:["guard"],unicode:"",skins:[{group:1,hexcode:"1F482-1F3FB",label:"guard: light skin tone",order:1397,unicode:""},{group:1,hexcode:"1F482-1F3FC",label:"guard: medium-light skin tone",order:1398,unicode:""},{group:1,hexcode:"1F482-1F3FD",label:"guard: medium skin tone",order:1399,unicode:""},{group:1,hexcode:"1F482-1F3FE",label:"guard: medium-dark skin tone",order:1400,unicode:""},{group:1,hexcode:"1F482-1F3FF",label:"guard: dark skin tone",order:1401,unicode:""}]},{group:1,hexcode:"1F482-200D-2642-FE0F",label:"man guard",order:1402,tags:["guard","man"],unicode:"",skins:[{group:1,hexcode:"1F482-1F3FB-200D-2642-FE0F",label:"man guard: light skin tone",order:1404,unicode:""},{group:1,hexcode:"1F482-1F3FC-200D-2642-FE0F",label:"man guard: medium-light skin tone",order:1406,unicode:""},{group:1,hexcode:"1F482-1F3FD-200D-2642-FE0F",label:"man guard: medium skin tone",order:1408,unicode:""},{group:1,hexcode:"1F482-1F3FE-200D-2642-FE0F",label:"man guard: medium-dark skin tone",order:1410,unicode:""},{group:1,hexcode:"1F482-1F3FF-200D-2642-FE0F",label:"man guard: dark skin tone",order:1412,unicode:""}]},{group:1,hexcode:"1F482-200D-2640-FE0F",label:"woman guard",order:1414,tags:["guard","woman"],unicode:"",skins:[{group:1,hexcode:"1F482-1F3FB-200D-2640-FE0F",label:"woman guard: light skin tone",order:1416,unicode:""},{group:1,hexcode:"1F482-1F3FC-200D-2640-FE0F",label:"woman guard: medium-light skin tone",order:1418,unicode:""},{group:1,hexcode:"1F482-1F3FD-200D-2640-FE0F",label:"woman guard: medium skin tone",order:1420,unicode:""},{group:1,hexcode:"1F482-1F3FE-200D-2640-FE0F",label:"woman guard: medium-dark skin tone",order:1422,unicode:""},{group:1,hexcode:"1F482-1F3FF-200D-2640-FE0F",label:"woman guard: dark skin tone",order:1424,unicode:""}]},{group:1,hexcode:"1F977",label:"ninja",order:1426,tags:["fighter","hidden","stealth"],unicode:"",skins:[{group:1,hexcode:"1F977-1F3FB",label:"ninja: light skin tone",order:1427,unicode:""},{group:1,hexcode:"1F977-1F3FC",label:"ninja: medium-light skin tone",order:1428,unicode:""},{group:1,hexcode:"1F977-1F3FD",label:"ninja: medium skin tone",order:1429,unicode:""},{group:1,hexcode:"1F977-1F3FE",label:"ninja: medium-dark skin tone",order:1430,unicode:""},{group:1,hexcode:"1F977-1F3FF",label:"ninja: dark skin tone",order:1431,unicode:""}]},{group:1,hexcode:"1F477",label:"construction worker",order:1432,tags:["construction","hat","worker"],unicode:"",skins:[{group:1,hexcode:"1F477-1F3FB",label:"construction worker: light skin tone",order:1433,unicode:""},{group:1,hexcode:"1F477-1F3FC",label:"construction worker: medium-light skin tone",order:1434,unicode:""},{group:1,hexcode:"1F477-1F3FD",label:"construction worker: medium skin tone",order:1435,unicode:""},{group:1,hexcode:"1F477-1F3FE",label:"construction worker: medium-dark skin tone",order:1436,unicode:""},{group:1,hexcode:"1F477-1F3FF",label:"construction worker: dark skin tone",order:1437,unicode:""}]},{group:1,hexcode:"1F477-200D-2642-FE0F",label:"man construction worker",order:1438,tags:["construction","man","worker"],unicode:"",skins:[{group:1,hexcode:"1F477-1F3FB-200D-2642-FE0F",label:"man construction worker: light skin tone",order:1440,unicode:""},{group:1,hexcode:"1F477-1F3FC-200D-2642-FE0F",label:"man construction worker: medium-light skin tone",order:1442,unicode:""},{group:1,hexcode:"1F477-1F3FD-200D-2642-FE0F",label:"man construction worker: medium skin tone",order:1444,unicode:""},{group:1,hexcode:"1F477-1F3FE-200D-2642-FE0F",label:"man construction worker: medium-dark skin tone",order:1446,unicode:""},{group:1,hexcode:"1F477-1F3FF-200D-2642-FE0F",label:"man construction worker: dark skin tone",order:1448,unicode:""}]},{group:1,hexcode:"1F477-200D-2640-FE0F",label:"woman construction worker",order:1450,tags:["construction","woman","worker"],unicode:"",skins:[{group:1,hexcode:"1F477-1F3FB-200D-2640-FE0F",label:"woman construction worker: light skin tone",order:1452,unicode:""},{group:1,hexcode:"1F477-1F3FC-200D-2640-FE0F",label:"woman construction worker: medium-light skin tone",order:1454,unicode:""},{group:1,hexcode:"1F477-1F3FD-200D-2640-FE0F",label:"woman construction worker: medium skin tone",order:1456,unicode:""},{group:1,hexcode:"1F477-1F3FE-200D-2640-FE0F",label:"woman construction worker: medium-dark skin tone",order:1458,unicode:""},{group:1,hexcode:"1F477-1F3FF-200D-2640-FE0F",label:"woman construction worker: dark skin tone",order:1460,unicode:""}]},{group:1,hexcode:"1FAC5",label:"person with crown",order:1462,tags:["monarch","noble","regal","royalty"],unicode:"",skins:[{group:1,hexcode:"1FAC5-1F3FB",label:"person with crown: light skin tone",order:1463,unicode:""},{group:1,hexcode:"1FAC5-1F3FC",label:"person with crown: medium-light skin tone",order:1464,unicode:""},{group:1,hexcode:"1FAC5-1F3FD",label:"person with crown: medium skin tone",order:1465,unicode:""},{group:1,hexcode:"1FAC5-1F3FE",label:"person with crown: medium-dark skin tone",order:1466,unicode:""},{group:1,hexcode:"1FAC5-1F3FF",label:"person with crown: dark skin tone",order:1467,unicode:""}]},{group:1,hexcode:"1F934",label:"prince",order:1468,tags:["prince"],unicode:"",skins:[{group:1,hexcode:"1F934-1F3FB",label:"prince: light skin tone",order:1469,unicode:""},{group:1,hexcode:"1F934-1F3FC",label:"prince: medium-light skin tone",order:1470,unicode:""},{group:1,hexcode:"1F934-1F3FD",label:"prince: medium skin tone",order:1471,unicode:""},{group:1,hexcode:"1F934-1F3FE",label:"prince: medium-dark skin tone",order:1472,unicode:""},{group:1,hexcode:"1F934-1F3FF",label:"prince: dark skin tone",order:1473,unicode:""}]},{group:1,hexcode:"1F478",label:"princess",order:1474,tags:["fairy tale","fantasy"],unicode:"",skins:[{group:1,hexcode:"1F478-1F3FB",label:"princess: light skin tone",order:1475,unicode:""},{group:1,hexcode:"1F478-1F3FC",label:"princess: medium-light skin tone",order:1476,unicode:""},{group:1,hexcode:"1F478-1F3FD",label:"princess: medium skin tone",order:1477,unicode:""},{group:1,hexcode:"1F478-1F3FE",label:"princess: medium-dark skin tone",order:1478,unicode:""},{group:1,hexcode:"1F478-1F3FF",label:"princess: dark skin tone",order:1479,unicode:""}]},{group:1,hexcode:"1F473",label:"person wearing turban",order:1480,tags:["turban"],unicode:"",skins:[{group:1,hexcode:"1F473-1F3FB",label:"person wearing turban: light skin tone",order:1481,unicode:""},{group:1,hexcode:"1F473-1F3FC",label:"person wearing turban: medium-light skin tone",order:1482,unicode:""},{group:1,hexcode:"1F473-1F3FD",label:"person wearing turban: medium skin tone",order:1483,unicode:""},{group:1,hexcode:"1F473-1F3FE",label:"person wearing turban: medium-dark skin tone",order:1484,unicode:""},{group:1,hexcode:"1F473-1F3FF",label:"person wearing turban: dark skin tone",order:1485,unicode:""}]},{group:1,hexcode:"1F473-200D-2642-FE0F",label:"man wearing turban",order:1486,tags:["man","turban"],unicode:"",skins:[{group:1,hexcode:"1F473-1F3FB-200D-2642-FE0F",label:"man wearing turban: light skin tone",order:1488,unicode:""},{group:1,hexcode:"1F473-1F3FC-200D-2642-FE0F",label:"man wearing turban: medium-light skin tone",order:1490,unicode:""},{group:1,hexcode:"1F473-1F3FD-200D-2642-FE0F",label:"man wearing turban: medium skin tone",order:1492,unicode:""},{group:1,hexcode:"1F473-1F3FE-200D-2642-FE0F",label:"man wearing turban: medium-dark skin tone",order:1494,unicode:""},{group:1,hexcode:"1F473-1F3FF-200D-2642-FE0F",label:"man wearing turban: dark skin tone",order:1496,unicode:""}]},{group:1,hexcode:"1F473-200D-2640-FE0F",label:"woman wearing turban",order:1498,tags:["turban","woman"],unicode:"",skins:[{group:1,hexcode:"1F473-1F3FB-200D-2640-FE0F",label:"woman wearing turban: light skin tone",order:1500,unicode:""},{group:1,hexcode:"1F473-1F3FC-200D-2640-FE0F",label:"woman wearing turban: medium-light skin tone",order:1502,unicode:""},{group:1,hexcode:"1F473-1F3FD-200D-2640-FE0F",label:"woman wearing turban: medium skin tone",order:1504,unicode:""},{group:1,hexcode:"1F473-1F3FE-200D-2640-FE0F",label:"woman wearing turban: medium-dark skin tone",order:1506,unicode:""},{group:1,hexcode:"1F473-1F3FF-200D-2640-FE0F",label:"woman wearing turban: dark skin tone",order:1508,unicode:""}]},{group:1,hexcode:"1F472",label:"person with skullcap",order:1510,tags:["cap","gua pi mao","hat","person","skullcap"],unicode:"",skins:[{group:1,hexcode:"1F472-1F3FB",label:"person with skullcap: light skin tone",order:1511,unicode:""},{group:1,hexcode:"1F472-1F3FC",label:"person with skullcap: medium-light skin tone",order:1512,unicode:""},{group:1,hexcode:"1F472-1F3FD",label:"person with skullcap: medium skin tone",order:1513,unicode:""},{group:1,hexcode:"1F472-1F3FE",label:"person with skullcap: medium-dark skin tone",order:1514,unicode:""},{group:1,hexcode:"1F472-1F3FF",label:"person with skullcap: dark skin tone",order:1515,unicode:""}]},{group:1,hexcode:"1F9D5",label:"woman with headscarf",order:1516,tags:["headscarf","hijab","mantilla","tichel"],unicode:"",skins:[{group:1,hexcode:"1F9D5-1F3FB",label:"woman with headscarf: light skin tone",order:1517,unicode:""},{group:1,hexcode:"1F9D5-1F3FC",label:"woman with headscarf: medium-light skin tone",order:1518,unicode:""},{group:1,hexcode:"1F9D5-1F3FD",label:"woman with headscarf: medium skin tone",order:1519,unicode:""},{group:1,hexcode:"1F9D5-1F3FE",label:"woman with headscarf: medium-dark skin tone",order:1520,unicode:""},{group:1,hexcode:"1F9D5-1F3FF",label:"woman with headscarf: dark skin tone",order:1521,unicode:""}]},{group:1,hexcode:"1F935",label:"person in tuxedo",order:1522,tags:["groom","person","tuxedo"],unicode:"",skins:[{group:1,hexcode:"1F935-1F3FB",label:"person in tuxedo: light skin tone",order:1523,unicode:""},{group:1,hexcode:"1F935-1F3FC",label:"person in tuxedo: medium-light skin tone",order:1524,unicode:""},{group:1,hexcode:"1F935-1F3FD",label:"person in tuxedo: medium skin tone",order:1525,unicode:""},{group:1,hexcode:"1F935-1F3FE",label:"person in tuxedo: medium-dark skin tone",order:1526,unicode:""},{group:1,hexcode:"1F935-1F3FF",label:"person in tuxedo: dark skin tone",order:1527,unicode:""}]},{group:1,hexcode:"1F935-200D-2642-FE0F",label:"man in tuxedo",order:1528,tags:["man","tuxedo"],unicode:"",skins:[{group:1,hexcode:"1F935-1F3FB-200D-2642-FE0F",label:"man in tuxedo: light skin tone",order:1530,unicode:""},{group:1,hexcode:"1F935-1F3FC-200D-2642-FE0F",label:"man in tuxedo: medium-light skin tone",order:1532,unicode:""},{group:1,hexcode:"1F935-1F3FD-200D-2642-FE0F",label:"man in tuxedo: medium skin tone",order:1534,unicode:""},{group:1,hexcode:"1F935-1F3FE-200D-2642-FE0F",label:"man in tuxedo: medium-dark skin tone",order:1536,unicode:""},{group:1,hexcode:"1F935-1F3FF-200D-2642-FE0F",label:"man in tuxedo: dark skin tone",order:1538,unicode:""}]},{group:1,hexcode:"1F935-200D-2640-FE0F",label:"woman in tuxedo",order:1540,tags:["tuxedo","woman"],unicode:"",skins:[{group:1,hexcode:"1F935-1F3FB-200D-2640-FE0F",label:"woman in tuxedo: light skin tone",order:1542,unicode:""},{group:1,hexcode:"1F935-1F3FC-200D-2640-FE0F",label:"woman in tuxedo: medium-light skin tone",order:1544,unicode:""},{group:1,hexcode:"1F935-1F3FD-200D-2640-FE0F",label:"woman in tuxedo: medium skin tone",order:1546,unicode:""},{group:1,hexcode:"1F935-1F3FE-200D-2640-FE0F",label:"woman in tuxedo: medium-dark skin tone",order:1548,unicode:""},{group:1,hexcode:"1F935-1F3FF-200D-2640-FE0F",label:"woman in tuxedo: dark skin tone",order:1550,unicode:""}]},{group:1,hexcode:"1F470",label:"person with veil",order:1552,tags:["bride","person","veil","wedding"],unicode:"",skins:[{group:1,hexcode:"1F470-1F3FB",label:"person with veil: light skin tone",order:1553,unicode:""},{group:1,hexcode:"1F470-1F3FC",label:"person with veil: medium-light skin tone",order:1554,unicode:""},{group:1,hexcode:"1F470-1F3FD",label:"person with veil: medium skin tone",order:1555,unicode:""},{group:1,hexcode:"1F470-1F3FE",label:"person with veil: medium-dark skin tone",order:1556,unicode:""},{group:1,hexcode:"1F470-1F3FF",label:"person with veil: dark skin tone",order:1557,unicode:""}]},{group:1,hexcode:"1F470-200D-2642-FE0F",label:"man with veil",order:1558,tags:["man","veil"],unicode:"",skins:[{group:1,hexcode:"1F470-1F3FB-200D-2642-FE0F",label:"man with veil: light skin tone",order:1560,unicode:""},{group:1,hexcode:"1F470-1F3FC-200D-2642-FE0F",label:"man with veil: medium-light skin tone",order:1562,unicode:""},{group:1,hexcode:"1F470-1F3FD-200D-2642-FE0F",label:"man with veil: medium skin tone",order:1564,unicode:""},{group:1,hexcode:"1F470-1F3FE-200D-2642-FE0F",label:"man with veil: medium-dark skin tone",order:1566,unicode:""},{group:1,hexcode:"1F470-1F3FF-200D-2642-FE0F",label:"man with veil: dark skin tone",order:1568,unicode:""}]},{group:1,hexcode:"1F470-200D-2640-FE0F",label:"woman with veil",order:1570,tags:["veil","woman"],unicode:"",skins:[{group:1,hexcode:"1F470-1F3FB-200D-2640-FE0F",label:"woman with veil: light skin tone",order:1572,unicode:""},{group:1,hexcode:"1F470-1F3FC-200D-2640-FE0F",label:"woman with veil: medium-light skin tone",order:1574,unicode:""},{group:1,hexcode:"1F470-1F3FD-200D-2640-FE0F",label:"woman with veil: medium skin tone",order:1576,unicode:""},{group:1,hexcode:"1F470-1F3FE-200D-2640-FE0F",label:"woman with veil: medium-dark skin tone",order:1578,unicode:""},{group:1,hexcode:"1F470-1F3FF-200D-2640-FE0F",label:"woman with veil: dark skin tone",order:1580,unicode:""}]},{group:1,hexcode:"1F930",label:"pregnant woman",order:1582,tags:["pregnant","woman"],unicode:"",skins:[{group:1,hexcode:"1F930-1F3FB",label:"pregnant woman: light skin tone",order:1583,unicode:""},{group:1,hexcode:"1F930-1F3FC",label:"pregnant woman: medium-light skin tone",order:1584,unicode:""},{group:1,hexcode:"1F930-1F3FD",label:"pregnant woman: medium skin tone",order:1585,unicode:""},{group:1,hexcode:"1F930-1F3FE",label:"pregnant woman: medium-dark skin tone",order:1586,unicode:""},{group:1,hexcode:"1F930-1F3FF",label:"pregnant woman: dark skin tone",order:1587,unicode:""}]},{group:1,hexcode:"1FAC3",label:"pregnant man",order:1588,tags:["belly","bloated","full","pregnant"],unicode:"",skins:[{group:1,hexcode:"1FAC3-1F3FB",label:"pregnant man: light skin tone",order:1589,unicode:""},{group:1,hexcode:"1FAC3-1F3FC",label:"pregnant man: medium-light skin tone",order:1590,unicode:""},{group:1,hexcode:"1FAC3-1F3FD",label:"pregnant man: medium skin tone",order:1591,unicode:""},{group:1,hexcode:"1FAC3-1F3FE",label:"pregnant man: medium-dark skin tone",order:1592,unicode:""},{group:1,hexcode:"1FAC3-1F3FF",label:"pregnant man: dark skin tone",order:1593,unicode:""}]},{group:1,hexcode:"1FAC4",label:"pregnant person",order:1594,tags:["belly","bloated","full","pregnant"],unicode:"",skins:[{group:1,hexcode:"1FAC4-1F3FB",label:"pregnant person: light skin tone",order:1595,unicode:""},{group:1,hexcode:"1FAC4-1F3FC",label:"pregnant person: medium-light skin tone",order:1596,unicode:""},{group:1,hexcode:"1FAC4-1F3FD",label:"pregnant person: medium skin tone",order:1597,unicode:""},{group:1,hexcode:"1FAC4-1F3FE",label:"pregnant person: medium-dark skin tone",order:1598,unicode:""},{group:1,hexcode:"1FAC4-1F3FF",label:"pregnant person: dark skin tone",order:1599,unicode:""}]},{group:1,hexcode:"1F931",label:"breast-feeding",order:1600,tags:["baby","breast","nursing"],unicode:"",skins:[{group:1,hexcode:"1F931-1F3FB",label:"breast-feeding: light skin tone",order:1601,unicode:""},{group:1,hexcode:"1F931-1F3FC",label:"breast-feeding: medium-light skin tone",order:1602,unicode:""},{group:1,hexcode:"1F931-1F3FD",label:"breast-feeding: medium skin tone",order:1603,unicode:""},{group:1,hexcode:"1F931-1F3FE",label:"breast-feeding: medium-dark skin tone",order:1604,unicode:""},{group:1,hexcode:"1F931-1F3FF",label:"breast-feeding: dark skin tone",order:1605,unicode:""}]},{group:1,hexcode:"1F469-200D-1F37C",label:"woman feeding baby",order:1606,tags:["baby","feeding","nursing","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F37C",label:"woman feeding baby: light skin tone",order:1607,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F37C",label:"woman feeding baby: medium-light skin tone",order:1608,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F37C",label:"woman feeding baby: medium skin tone",order:1609,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F37C",label:"woman feeding baby: medium-dark skin tone",order:1610,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F37C",label:"woman feeding baby: dark skin tone",order:1611,unicode:""}]},{group:1,hexcode:"1F468-200D-1F37C",label:"man feeding baby",order:1612,tags:["baby","feeding","man","nursing"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F37C",label:"man feeding baby: light skin tone",order:1613,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F37C",label:"man feeding baby: medium-light skin tone",order:1614,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F37C",label:"man feeding baby: medium skin tone",order:1615,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F37C",label:"man feeding baby: medium-dark skin tone",order:1616,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F37C",label:"man feeding baby: dark skin tone",order:1617,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F37C",label:"person feeding baby",order:1618,tags:["baby","feeding","nursing","person"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F37C",label:"person feeding baby: light skin tone",order:1619,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F37C",label:"person feeding baby: medium-light skin tone",order:1620,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F37C",label:"person feeding baby: medium skin tone",order:1621,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F37C",label:"person feeding baby: medium-dark skin tone",order:1622,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F37C",label:"person feeding baby: dark skin tone",order:1623,unicode:""}]},{group:1,hexcode:"1F47C",label:"baby angel",order:1624,tags:["angel","baby","face","fairy tale","fantasy"],unicode:"",skins:[{group:1,hexcode:"1F47C-1F3FB",label:"baby angel: light skin tone",order:1625,unicode:""},{group:1,hexcode:"1F47C-1F3FC",label:"baby angel: medium-light skin tone",order:1626,unicode:""},{group:1,hexcode:"1F47C-1F3FD",label:"baby angel: medium skin tone",order:1627,unicode:""},{group:1,hexcode:"1F47C-1F3FE",label:"baby angel: medium-dark skin tone",order:1628,unicode:""},{group:1,hexcode:"1F47C-1F3FF",label:"baby angel: dark skin tone",order:1629,unicode:""}]},{group:1,hexcode:"1F385",label:"Santa Claus",order:1630,tags:["celebration","christmas","claus","father","santa","santa claus"],unicode:"",skins:[{group:1,hexcode:"1F385-1F3FB",label:"Santa Claus: light skin tone",order:1631,unicode:""},{group:1,hexcode:"1F385-1F3FC",label:"Santa Claus: medium-light skin tone",order:1632,unicode:""},{group:1,hexcode:"1F385-1F3FD",label:"Santa Claus: medium skin tone",order:1633,unicode:""},{group:1,hexcode:"1F385-1F3FE",label:"Santa Claus: medium-dark skin tone",order:1634,unicode:""},{group:1,hexcode:"1F385-1F3FF",label:"Santa Claus: dark skin tone",order:1635,unicode:""}]},{group:1,hexcode:"1F936",label:"Mrs. Claus",order:1636,tags:["celebration","christmas","claus","mother","mrs.","mrs. claus"],unicode:"",skins:[{group:1,hexcode:"1F936-1F3FB",label:"Mrs. Claus: light skin tone",order:1637,unicode:""},{group:1,hexcode:"1F936-1F3FC",label:"Mrs. Claus: medium-light skin tone",order:1638,unicode:""},{group:1,hexcode:"1F936-1F3FD",label:"Mrs. Claus: medium skin tone",order:1639,unicode:""},{group:1,hexcode:"1F936-1F3FE",label:"Mrs. Claus: medium-dark skin tone",order:1640,unicode:""},{group:1,hexcode:"1F936-1F3FF",label:"Mrs. Claus: dark skin tone",order:1641,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F384",label:"mx claus",order:1642,tags:["claus, christmas"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F384",label:"mx claus: light skin tone",order:1643,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F384",label:"mx claus: medium-light skin tone",order:1644,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F384",label:"mx claus: medium skin tone",order:1645,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F384",label:"mx claus: medium-dark skin tone",order:1646,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F384",label:"mx claus: dark skin tone",order:1647,unicode:""}]},{group:1,hexcode:"1F9B8",label:"superhero",order:1648,tags:["good","hero","heroine","superpower"],unicode:"",skins:[{group:1,hexcode:"1F9B8-1F3FB",label:"superhero: light skin tone",order:1649,unicode:""},{group:1,hexcode:"1F9B8-1F3FC",label:"superhero: medium-light skin tone",order:1650,unicode:""},{group:1,hexcode:"1F9B8-1F3FD",label:"superhero: medium skin tone",order:1651,unicode:""},{group:1,hexcode:"1F9B8-1F3FE",label:"superhero: medium-dark skin tone",order:1652,unicode:""},{group:1,hexcode:"1F9B8-1F3FF",label:"superhero: dark skin tone",order:1653,unicode:""}]},{group:1,hexcode:"1F9B8-200D-2642-FE0F",label:"man superhero",order:1654,tags:["good","hero","man","superpower"],unicode:"",skins:[{group:1,hexcode:"1F9B8-1F3FB-200D-2642-FE0F",label:"man superhero: light skin tone",order:1656,unicode:""},{group:1,hexcode:"1F9B8-1F3FC-200D-2642-FE0F",label:"man superhero: medium-light skin tone",order:1658,unicode:""},{group:1,hexcode:"1F9B8-1F3FD-200D-2642-FE0F",label:"man superhero: medium skin tone",order:1660,unicode:""},{group:1,hexcode:"1F9B8-1F3FE-200D-2642-FE0F",label:"man superhero: medium-dark skin tone",order:1662,unicode:""},{group:1,hexcode:"1F9B8-1F3FF-200D-2642-FE0F",label:"man superhero: dark skin tone",order:1664,unicode:""}]},{group:1,hexcode:"1F9B8-200D-2640-FE0F",label:"woman superhero",order:1666,tags:["good","hero","heroine","superpower","woman"],unicode:"",skins:[{group:1,hexcode:"1F9B8-1F3FB-200D-2640-FE0F",label:"woman superhero: light skin tone",order:1668,unicode:""},{group:1,hexcode:"1F9B8-1F3FC-200D-2640-FE0F",label:"woman superhero: medium-light skin tone",order:1670,unicode:""},{group:1,hexcode:"1F9B8-1F3FD-200D-2640-FE0F",label:"woman superhero: medium skin tone",order:1672,unicode:""},{group:1,hexcode:"1F9B8-1F3FE-200D-2640-FE0F",label:"woman superhero: medium-dark skin tone",order:1674,unicode:""},{group:1,hexcode:"1F9B8-1F3FF-200D-2640-FE0F",label:"woman superhero: dark skin tone",order:1676,unicode:""}]},{group:1,hexcode:"1F9B9",label:"supervillain",order:1678,tags:["criminal","evil","superpower","villain"],unicode:"",skins:[{group:1,hexcode:"1F9B9-1F3FB",label:"supervillain: light skin tone",order:1679,unicode:""},{group:1,hexcode:"1F9B9-1F3FC",label:"supervillain: medium-light skin tone",order:1680,unicode:""},{group:1,hexcode:"1F9B9-1F3FD",label:"supervillain: medium skin tone",order:1681,unicode:""},{group:1,hexcode:"1F9B9-1F3FE",label:"supervillain: medium-dark skin tone",order:1682,unicode:""},{group:1,hexcode:"1F9B9-1F3FF",label:"supervillain: dark skin tone",order:1683,unicode:""}]},{group:1,hexcode:"1F9B9-200D-2642-FE0F",label:"man supervillain",order:1684,tags:["criminal","evil","man","superpower","villain"],unicode:"",skins:[{group:1,hexcode:"1F9B9-1F3FB-200D-2642-FE0F",label:"man supervillain: light skin tone",order:1686,unicode:""},{group:1,hexcode:"1F9B9-1F3FC-200D-2642-FE0F",label:"man supervillain: medium-light skin tone",order:1688,unicode:""},{group:1,hexcode:"1F9B9-1F3FD-200D-2642-FE0F",label:"man supervillain: medium skin tone",order:1690,unicode:""},{group:1,hexcode:"1F9B9-1F3FE-200D-2642-FE0F",label:"man supervillain: medium-dark skin tone",order:1692,unicode:""},{group:1,hexcode:"1F9B9-1F3FF-200D-2642-FE0F",label:"man supervillain: dark skin tone",order:1694,unicode:""}]},{group:1,hexcode:"1F9B9-200D-2640-FE0F",label:"woman supervillain",order:1696,tags:["criminal","evil","superpower","villain","woman"],unicode:"",skins:[{group:1,hexcode:"1F9B9-1F3FB-200D-2640-FE0F",label:"woman supervillain: light skin tone",order:1698,unicode:""},{group:1,hexcode:"1F9B9-1F3FC-200D-2640-FE0F",label:"woman supervillain: medium-light skin tone",order:1700,unicode:""},{group:1,hexcode:"1F9B9-1F3FD-200D-2640-FE0F",label:"woman supervillain: medium skin tone",order:1702,unicode:""},{group:1,hexcode:"1F9B9-1F3FE-200D-2640-FE0F",label:"woman supervillain: medium-dark skin tone",order:1704,unicode:""},{group:1,hexcode:"1F9B9-1F3FF-200D-2640-FE0F",label:"woman supervillain: dark skin tone",order:1706,unicode:""}]},{group:1,hexcode:"1F9D9",label:"mage",order:1708,tags:["sorcerer","sorceress","witch","wizard"],unicode:"",skins:[{group:1,hexcode:"1F9D9-1F3FB",label:"mage: light skin tone",order:1709,unicode:""},{group:1,hexcode:"1F9D9-1F3FC",label:"mage: medium-light skin tone",order:1710,unicode:""},{group:1,hexcode:"1F9D9-1F3FD",label:"mage: medium skin tone",order:1711,unicode:""},{group:1,hexcode:"1F9D9-1F3FE",label:"mage: medium-dark skin tone",order:1712,unicode:""},{group:1,hexcode:"1F9D9-1F3FF",label:"mage: dark skin tone",order:1713,unicode:""}]},{group:1,hexcode:"1F9D9-200D-2642-FE0F",label:"man mage",order:1714,tags:["sorcerer","wizard"],unicode:"",emoticon:":{>",skins:[{group:1,hexcode:"1F9D9-1F3FB-200D-2642-FE0F",label:"man mage: light skin tone",order:1716,unicode:""},{group:1,hexcode:"1F9D9-1F3FC-200D-2642-FE0F",label:"man mage: medium-light skin tone",order:1718,unicode:""},{group:1,hexcode:"1F9D9-1F3FD-200D-2642-FE0F",label:"man mage: medium skin tone",order:1720,unicode:""},{group:1,hexcode:"1F9D9-1F3FE-200D-2642-FE0F",label:"man mage: medium-dark skin tone",order:1722,unicode:""},{group:1,hexcode:"1F9D9-1F3FF-200D-2642-FE0F",label:"man mage: dark skin tone",order:1724,unicode:""}]},{group:1,hexcode:"1F9D9-200D-2640-FE0F",label:"woman mage",order:1726,tags:["sorceress","witch"],unicode:"",skins:[{group:1,hexcode:"1F9D9-1F3FB-200D-2640-FE0F",label:"woman mage: light skin tone",order:1728,unicode:""},{group:1,hexcode:"1F9D9-1F3FC-200D-2640-FE0F",label:"woman mage: medium-light skin tone",order:1730,unicode:""},{group:1,hexcode:"1F9D9-1F3FD-200D-2640-FE0F",label:"woman mage: medium skin tone",order:1732,unicode:""},{group:1,hexcode:"1F9D9-1F3FE-200D-2640-FE0F",label:"woman mage: medium-dark skin tone",order:1734,unicode:""},{group:1,hexcode:"1F9D9-1F3FF-200D-2640-FE0F",label:"woman mage: dark skin tone",order:1736,unicode:""}]},{group:1,hexcode:"1F9DA",label:"fairy",order:1738,tags:["oberon","puck","titania"],unicode:"",skins:[{group:1,hexcode:"1F9DA-1F3FB",label:"fairy: light skin tone",order:1739,unicode:""},{group:1,hexcode:"1F9DA-1F3FC",label:"fairy: medium-light skin tone",order:1740,unicode:""},{group:1,hexcode:"1F9DA-1F3FD",label:"fairy: medium skin tone",order:1741,unicode:""},{group:1,hexcode:"1F9DA-1F3FE",label:"fairy: medium-dark skin tone",order:1742,unicode:""},{group:1,hexcode:"1F9DA-1F3FF",label:"fairy: dark skin tone",order:1743,unicode:""}]},{group:1,hexcode:"1F9DA-200D-2642-FE0F",label:"man fairy",order:1744,tags:["oberon","puck"],unicode:"",skins:[{group:1,hexcode:"1F9DA-1F3FB-200D-2642-FE0F",label:"man fairy: light skin tone",order:1746,unicode:""},{group:1,hexcode:"1F9DA-1F3FC-200D-2642-FE0F",label:"man fairy: medium-light skin tone",order:1748,unicode:""},{group:1,hexcode:"1F9DA-1F3FD-200D-2642-FE0F",label:"man fairy: medium skin tone",order:1750,unicode:""},{group:1,hexcode:"1F9DA-1F3FE-200D-2642-FE0F",label:"man fairy: medium-dark skin tone",order:1752,unicode:""},{group:1,hexcode:"1F9DA-1F3FF-200D-2642-FE0F",label:"man fairy: dark skin tone",order:1754,unicode:""}]},{group:1,hexcode:"1F9DA-200D-2640-FE0F",label:"woman fairy",order:1756,tags:["titania"],unicode:"",skins:[{group:1,hexcode:"1F9DA-1F3FB-200D-2640-FE0F",label:"woman fairy: light skin tone",order:1758,unicode:""},{group:1,hexcode:"1F9DA-1F3FC-200D-2640-FE0F",label:"woman fairy: medium-light skin tone",order:1760,unicode:""},{group:1,hexcode:"1F9DA-1F3FD-200D-2640-FE0F",label:"woman fairy: medium skin tone",order:1762,unicode:""},{group:1,hexcode:"1F9DA-1F3FE-200D-2640-FE0F",label:"woman fairy: medium-dark skin tone",order:1764,unicode:""},{group:1,hexcode:"1F9DA-1F3FF-200D-2640-FE0F",label:"woman fairy: dark skin tone",order:1766,unicode:""}]},{group:1,hexcode:"1F9DB",label:"vampire",order:1768,tags:["dracula","undead"],unicode:"",emoticon:":E",skins:[{group:1,hexcode:"1F9DB-1F3FB",label:"vampire: light skin tone",order:1769,unicode:""},{group:1,hexcode:"1F9DB-1F3FC",label:"vampire: medium-light skin tone",order:1770,unicode:""},{group:1,hexcode:"1F9DB-1F3FD",label:"vampire: medium skin tone",order:1771,unicode:""},{group:1,hexcode:"1F9DB-1F3FE",label:"vampire: medium-dark skin tone",order:1772,unicode:""},{group:1,hexcode:"1F9DB-1F3FF",label:"vampire: dark skin tone",order:1773,unicode:""}]},{group:1,hexcode:"1F9DB-200D-2642-FE0F",label:"man vampire",order:1774,tags:["dracula","undead"],unicode:"",skins:[{group:1,hexcode:"1F9DB-1F3FB-200D-2642-FE0F",label:"man vampire: light skin tone",order:1776,unicode:""},{group:1,hexcode:"1F9DB-1F3FC-200D-2642-FE0F",label:"man vampire: medium-light skin tone",order:1778,unicode:""},{group:1,hexcode:"1F9DB-1F3FD-200D-2642-FE0F",label:"man vampire: medium skin tone",order:1780,unicode:""},{group:1,hexcode:"1F9DB-1F3FE-200D-2642-FE0F",label:"man vampire: medium-dark skin tone",order:1782,unicode:""},{group:1,hexcode:"1F9DB-1F3FF-200D-2642-FE0F",label:"man vampire: dark skin tone",order:1784,unicode:""}]},{group:1,hexcode:"1F9DB-200D-2640-FE0F",label:"woman vampire",order:1786,tags:["undead"],unicode:"",skins:[{group:1,hexcode:"1F9DB-1F3FB-200D-2640-FE0F",label:"woman vampire: light skin tone",order:1788,unicode:""},{group:1,hexcode:"1F9DB-1F3FC-200D-2640-FE0F",label:"woman vampire: medium-light skin tone",order:1790,unicode:""},{group:1,hexcode:"1F9DB-1F3FD-200D-2640-FE0F",label:"woman vampire: medium skin tone",order:1792,unicode:""},{group:1,hexcode:"1F9DB-1F3FE-200D-2640-FE0F",label:"woman vampire: medium-dark skin tone",order:1794,unicode:""},{group:1,hexcode:"1F9DB-1F3FF-200D-2640-FE0F",label:"woman vampire: dark skin tone",order:1796,unicode:""}]},{group:1,hexcode:"1F9DC",label:"merperson",order:1798,tags:["mermaid","merman","merwoman"],unicode:"",skins:[{group:1,hexcode:"1F9DC-1F3FB",label:"merperson: light skin tone",order:1799,unicode:""},{group:1,hexcode:"1F9DC-1F3FC",label:"merperson: medium-light skin tone",order:1800,unicode:""},{group:1,hexcode:"1F9DC-1F3FD",label:"merperson: medium skin tone",order:1801,unicode:""},{group:1,hexcode:"1F9DC-1F3FE",label:"merperson: medium-dark skin tone",order:1802,unicode:""},{group:1,hexcode:"1F9DC-1F3FF",label:"merperson: dark skin tone",order:1803,unicode:""}]},{group:1,hexcode:"1F9DC-200D-2642-FE0F",label:"merman",order:1804,tags:["triton"],unicode:"",skins:[{group:1,hexcode:"1F9DC-1F3FB-200D-2642-FE0F",label:"merman: light skin tone",order:1806,unicode:""},{group:1,hexcode:"1F9DC-1F3FC-200D-2642-FE0F",label:"merman: medium-light skin tone",order:1808,unicode:""},{group:1,hexcode:"1F9DC-1F3FD-200D-2642-FE0F",label:"merman: medium skin tone",order:1810,unicode:""},{group:1,hexcode:"1F9DC-1F3FE-200D-2642-FE0F",label:"merman: medium-dark skin tone",order:1812,unicode:""},{group:1,hexcode:"1F9DC-1F3FF-200D-2642-FE0F",label:"merman: dark skin tone",order:1814,unicode:""}]},{group:1,hexcode:"1F9DC-200D-2640-FE0F",label:"mermaid",order:1816,tags:["merwoman"],unicode:"",skins:[{group:1,hexcode:"1F9DC-1F3FB-200D-2640-FE0F",label:"mermaid: light skin tone",order:1818,unicode:""},{group:1,hexcode:"1F9DC-1F3FC-200D-2640-FE0F",label:"mermaid: medium-light skin tone",order:1820,unicode:""},{group:1,hexcode:"1F9DC-1F3FD-200D-2640-FE0F",label:"mermaid: medium skin tone",order:1822,unicode:""},{group:1,hexcode:"1F9DC-1F3FE-200D-2640-FE0F",label:"mermaid: medium-dark skin tone",order:1824,unicode:""},{group:1,hexcode:"1F9DC-1F3FF-200D-2640-FE0F",label:"mermaid: dark skin tone",order:1826,unicode:""}]},{group:1,hexcode:"1F9DD",label:"elf",order:1828,tags:["magical"],unicode:"",skins:[{group:1,hexcode:"1F9DD-1F3FB",label:"elf: light skin tone",order:1829,unicode:""},{group:1,hexcode:"1F9DD-1F3FC",label:"elf: medium-light skin tone",order:1830,unicode:""},{group:1,hexcode:"1F9DD-1F3FD",label:"elf: medium skin tone",order:1831,unicode:""},{group:1,hexcode:"1F9DD-1F3FE",label:"elf: medium-dark skin tone",order:1832,unicode:""},{group:1,hexcode:"1F9DD-1F3FF",label:"elf: dark skin tone",order:1833,unicode:""}]},{group:1,hexcode:"1F9DD-200D-2642-FE0F",label:"man elf",order:1834,tags:["magical"],unicode:"",skins:[{group:1,hexcode:"1F9DD-1F3FB-200D-2642-FE0F",label:"man elf: light skin tone",order:1836,unicode:""},{group:1,hexcode:"1F9DD-1F3FC-200D-2642-FE0F",label:"man elf: medium-light skin tone",order:1838,unicode:""},{group:1,hexcode:"1F9DD-1F3FD-200D-2642-FE0F",label:"man elf: medium skin tone",order:1840,unicode:""},{group:1,hexcode:"1F9DD-1F3FE-200D-2642-FE0F",label:"man elf: medium-dark skin tone",order:1842,unicode:""},{group:1,hexcode:"1F9DD-1F3FF-200D-2642-FE0F",label:"man elf: dark skin tone",order:1844,unicode:""}]},{group:1,hexcode:"1F9DD-200D-2640-FE0F",label:"woman elf",order:1846,tags:["magical"],unicode:"",skins:[{group:1,hexcode:"1F9DD-1F3FB-200D-2640-FE0F",label:"woman elf: light skin tone",order:1848,unicode:""},{group:1,hexcode:"1F9DD-1F3FC-200D-2640-FE0F",label:"woman elf: medium-light skin tone",order:1850,unicode:""},{group:1,hexcode:"1F9DD-1F3FD-200D-2640-FE0F",label:"woman elf: medium skin tone",order:1852,unicode:""},{group:1,hexcode:"1F9DD-1F3FE-200D-2640-FE0F",label:"woman elf: medium-dark skin tone",order:1854,unicode:""},{group:1,hexcode:"1F9DD-1F3FF-200D-2640-FE0F",label:"woman elf: dark skin tone",order:1856,unicode:""}]},{group:1,hexcode:"1F9DE",label:"genie",order:1858,tags:["djinn"],unicode:""},{group:1,hexcode:"1F9DE-200D-2642-FE0F",label:"man genie",order:1859,tags:["djinn"],unicode:""},{group:1,hexcode:"1F9DE-200D-2640-FE0F",label:"woman genie",order:1861,tags:["djinn"],unicode:""},{group:1,hexcode:"1F9DF",label:"zombie",order:1863,tags:["undead","walking dead"],unicode:"",emoticon:"8#"},{group:1,hexcode:"1F9DF-200D-2642-FE0F",label:"man zombie",order:1864,tags:["undead","walking dead"],unicode:""},{group:1,hexcode:"1F9DF-200D-2640-FE0F",label:"woman zombie",order:1866,tags:["undead","walking dead"],unicode:""},{group:1,hexcode:"1F9CC",label:"troll",order:1868,tags:["fairy tale","fantasy","monster"],unicode:""},{group:1,hexcode:"1F486",label:"person getting massage",order:1869,tags:["face","massage","salon"],unicode:"",skins:[{group:1,hexcode:"1F486-1F3FB",label:"person getting massage: light skin tone",order:1870,unicode:""},{group:1,hexcode:"1F486-1F3FC",label:"person getting massage: medium-light skin tone",order:1871,unicode:""},{group:1,hexcode:"1F486-1F3FD",label:"person getting massage: medium skin tone",order:1872,unicode:""},{group:1,hexcode:"1F486-1F3FE",label:"person getting massage: medium-dark skin tone",order:1873,unicode:""},{group:1,hexcode:"1F486-1F3FF",label:"person getting massage: dark skin tone",order:1874,unicode:""}]},{group:1,hexcode:"1F486-200D-2642-FE0F",label:"man getting massage",order:1875,tags:["face","man","massage"],unicode:"",skins:[{group:1,hexcode:"1F486-1F3FB-200D-2642-FE0F",label:"man getting massage: light skin tone",order:1877,unicode:""},{group:1,hexcode:"1F486-1F3FC-200D-2642-FE0F",label:"man getting massage: medium-light skin tone",order:1879,unicode:""},{group:1,hexcode:"1F486-1F3FD-200D-2642-FE0F",label:"man getting massage: medium skin tone",order:1881,unicode:""},{group:1,hexcode:"1F486-1F3FE-200D-2642-FE0F",label:"man getting massage: medium-dark skin tone",order:1883,unicode:""},{group:1,hexcode:"1F486-1F3FF-200D-2642-FE0F",label:"man getting massage: dark skin tone",order:1885,unicode:""}]},{group:1,hexcode:"1F486-200D-2640-FE0F",label:"woman getting massage",order:1887,tags:["face","massage","woman"],unicode:"",skins:[{group:1,hexcode:"1F486-1F3FB-200D-2640-FE0F",label:"woman getting massage: light skin tone",order:1889,unicode:""},{group:1,hexcode:"1F486-1F3FC-200D-2640-FE0F",label:"woman getting massage: medium-light skin tone",order:1891,unicode:""},{group:1,hexcode:"1F486-1F3FD-200D-2640-FE0F",label:"woman getting massage: medium skin tone",order:1893,unicode:""},{group:1,hexcode:"1F486-1F3FE-200D-2640-FE0F",label:"woman getting massage: medium-dark skin tone",order:1895,unicode:""},{group:1,hexcode:"1F486-1F3FF-200D-2640-FE0F",label:"woman getting massage: dark skin tone",order:1897,unicode:""}]},{group:1,hexcode:"1F487",label:"person getting haircut",order:1899,tags:["barber","beauty","haircut","parlor"],unicode:"",skins:[{group:1,hexcode:"1F487-1F3FB",label:"person getting haircut: light skin tone",order:1900,unicode:""},{group:1,hexcode:"1F487-1F3FC",label:"person getting haircut: medium-light skin tone",order:1901,unicode:""},{group:1,hexcode:"1F487-1F3FD",label:"person getting haircut: medium skin tone",order:1902,unicode:""},{group:1,hexcode:"1F487-1F3FE",label:"person getting haircut: medium-dark skin tone",order:1903,unicode:""},{group:1,hexcode:"1F487-1F3FF",label:"person getting haircut: dark skin tone",order:1904,unicode:""}]},{group:1,hexcode:"1F487-200D-2642-FE0F",label:"man getting haircut",order:1905,tags:["haircut","man"],unicode:"",skins:[{group:1,hexcode:"1F487-1F3FB-200D-2642-FE0F",label:"man getting haircut: light skin tone",order:1907,unicode:""},{group:1,hexcode:"1F487-1F3FC-200D-2642-FE0F",label:"man getting haircut: medium-light skin tone",order:1909,unicode:""},{group:1,hexcode:"1F487-1F3FD-200D-2642-FE0F",label:"man getting haircut: medium skin tone",order:1911,unicode:""},{group:1,hexcode:"1F487-1F3FE-200D-2642-FE0F",label:"man getting haircut: medium-dark skin tone",order:1913,unicode:""},{group:1,hexcode:"1F487-1F3FF-200D-2642-FE0F",label:"man getting haircut: dark skin tone",order:1915,unicode:""}]},{group:1,hexcode:"1F487-200D-2640-FE0F",label:"woman getting haircut",order:1917,tags:["haircut","woman"],unicode:"",skins:[{group:1,hexcode:"1F487-1F3FB-200D-2640-FE0F",label:"woman getting haircut: light skin tone",order:1919,unicode:""},{group:1,hexcode:"1F487-1F3FC-200D-2640-FE0F",label:"woman getting haircut: medium-light skin tone",order:1921,unicode:""},{group:1,hexcode:"1F487-1F3FD-200D-2640-FE0F",label:"woman getting haircut: medium skin tone",order:1923,unicode:""},{group:1,hexcode:"1F487-1F3FE-200D-2640-FE0F",label:"woman getting haircut: medium-dark skin tone",order:1925,unicode:""},{group:1,hexcode:"1F487-1F3FF-200D-2640-FE0F",label:"woman getting haircut: dark skin tone",order:1927,unicode:""}]},{group:1,hexcode:"1F6B6",label:"person walking",order:1929,tags:["hike","walk","walking"],unicode:"",skins:[{group:1,hexcode:"1F6B6-1F3FB",label:"person walking: light skin tone",order:1930,unicode:""},{group:1,hexcode:"1F6B6-1F3FC",label:"person walking: medium-light skin tone",order:1931,unicode:""},{group:1,hexcode:"1F6B6-1F3FD",label:"person walking: medium skin tone",order:1932,unicode:""},{group:1,hexcode:"1F6B6-1F3FE",label:"person walking: medium-dark skin tone",order:1933,unicode:""},{group:1,hexcode:"1F6B6-1F3FF",label:"person walking: dark skin tone",order:1934,unicode:""}]},{group:1,hexcode:"1F6B6-200D-2642-FE0F",label:"man walking",order:1935,tags:["hike","man","walk"],unicode:"",skins:[{group:1,hexcode:"1F6B6-1F3FB-200D-2642-FE0F",label:"man walking: light skin tone",order:1937,unicode:""},{group:1,hexcode:"1F6B6-1F3FC-200D-2642-FE0F",label:"man walking: medium-light skin tone",order:1939,unicode:""},{group:1,hexcode:"1F6B6-1F3FD-200D-2642-FE0F",label:"man walking: medium skin tone",order:1941,unicode:""},{group:1,hexcode:"1F6B6-1F3FE-200D-2642-FE0F",label:"man walking: medium-dark skin tone",order:1943,unicode:""},{group:1,hexcode:"1F6B6-1F3FF-200D-2642-FE0F",label:"man walking: dark skin tone",order:1945,unicode:""}]},{group:1,hexcode:"1F6B6-200D-2640-FE0F",label:"woman walking",order:1947,tags:["hike","walk","woman"],unicode:"",skins:[{group:1,hexcode:"1F6B6-1F3FB-200D-2640-FE0F",label:"woman walking: light skin tone",order:1949,unicode:""},{group:1,hexcode:"1F6B6-1F3FC-200D-2640-FE0F",label:"woman walking: medium-light skin tone",order:1951,unicode:""},{group:1,hexcode:"1F6B6-1F3FD-200D-2640-FE0F",label:"woman walking: medium skin tone",order:1953,unicode:""},{group:1,hexcode:"1F6B6-1F3FE-200D-2640-FE0F",label:"woman walking: medium-dark skin tone",order:1955,unicode:""},{group:1,hexcode:"1F6B6-1F3FF-200D-2640-FE0F",label:"woman walking: dark skin tone",order:1957,unicode:""}]},{group:1,hexcode:"1F9CD",label:"person standing",order:1959,tags:["stand","standing"],unicode:"",skins:[{group:1,hexcode:"1F9CD-1F3FB",label:"person standing: light skin tone",order:1960,unicode:""},{group:1,hexcode:"1F9CD-1F3FC",label:"person standing: medium-light skin tone",order:1961,unicode:""},{group:1,hexcode:"1F9CD-1F3FD",label:"person standing: medium skin tone",order:1962,unicode:""},{group:1,hexcode:"1F9CD-1F3FE",label:"person standing: medium-dark skin tone",order:1963,unicode:""},{group:1,hexcode:"1F9CD-1F3FF",label:"person standing: dark skin tone",order:1964,unicode:""}]},{group:1,hexcode:"1F9CD-200D-2642-FE0F",label:"man standing",order:1965,tags:["man","standing"],unicode:"",skins:[{group:1,hexcode:"1F9CD-1F3FB-200D-2642-FE0F",label:"man standing: light skin tone",order:1967,unicode:""},{group:1,hexcode:"1F9CD-1F3FC-200D-2642-FE0F",label:"man standing: medium-light skin tone",order:1969,unicode:""},{group:1,hexcode:"1F9CD-1F3FD-200D-2642-FE0F",label:"man standing: medium skin tone",order:1971,unicode:""},{group:1,hexcode:"1F9CD-1F3FE-200D-2642-FE0F",label:"man standing: medium-dark skin tone",order:1973,unicode:""},{group:1,hexcode:"1F9CD-1F3FF-200D-2642-FE0F",label:"man standing: dark skin tone",order:1975,unicode:""}]},{group:1,hexcode:"1F9CD-200D-2640-FE0F",label:"woman standing",order:1977,tags:["standing","woman"],unicode:"",skins:[{group:1,hexcode:"1F9CD-1F3FB-200D-2640-FE0F",label:"woman standing: light skin tone",order:1979,unicode:""},{group:1,hexcode:"1F9CD-1F3FC-200D-2640-FE0F",label:"woman standing: medium-light skin tone",order:1981,unicode:""},{group:1,hexcode:"1F9CD-1F3FD-200D-2640-FE0F",label:"woman standing: medium skin tone",order:1983,unicode:""},{group:1,hexcode:"1F9CD-1F3FE-200D-2640-FE0F",label:"woman standing: medium-dark skin tone",order:1985,unicode:""},{group:1,hexcode:"1F9CD-1F3FF-200D-2640-FE0F",label:"woman standing: dark skin tone",order:1987,unicode:""}]},{group:1,hexcode:"1F9CE",label:"person kneeling",order:1989,tags:["kneel","kneeling"],unicode:"",skins:[{group:1,hexcode:"1F9CE-1F3FB",label:"person kneeling: light skin tone",order:1990,unicode:""},{group:1,hexcode:"1F9CE-1F3FC",label:"person kneeling: medium-light skin tone",order:1991,unicode:""},{group:1,hexcode:"1F9CE-1F3FD",label:"person kneeling: medium skin tone",order:1992,unicode:""},{group:1,hexcode:"1F9CE-1F3FE",label:"person kneeling: medium-dark skin tone",order:1993,unicode:""},{group:1,hexcode:"1F9CE-1F3FF",label:"person kneeling: dark skin tone",order:1994,unicode:""}]},{group:1,hexcode:"1F9CE-200D-2642-FE0F",label:"man kneeling",order:1995,tags:["kneeling","man"],unicode:"",skins:[{group:1,hexcode:"1F9CE-1F3FB-200D-2642-FE0F",label:"man kneeling: light skin tone",order:1997,unicode:""},{group:1,hexcode:"1F9CE-1F3FC-200D-2642-FE0F",label:"man kneeling: medium-light skin tone",order:1999,unicode:""},{group:1,hexcode:"1F9CE-1F3FD-200D-2642-FE0F",label:"man kneeling: medium skin tone",order:2001,unicode:""},{group:1,hexcode:"1F9CE-1F3FE-200D-2642-FE0F",label:"man kneeling: medium-dark skin tone",order:2003,unicode:""},{group:1,hexcode:"1F9CE-1F3FF-200D-2642-FE0F",label:"man kneeling: dark skin tone",order:2005,unicode:""}]},{group:1,hexcode:"1F9CE-200D-2640-FE0F",label:"woman kneeling",order:2007,tags:["kneeling","woman"],unicode:"",skins:[{group:1,hexcode:"1F9CE-1F3FB-200D-2640-FE0F",label:"woman kneeling: light skin tone",order:2009,unicode:""},{group:1,hexcode:"1F9CE-1F3FC-200D-2640-FE0F",label:"woman kneeling: medium-light skin tone",order:2011,unicode:""},{group:1,hexcode:"1F9CE-1F3FD-200D-2640-FE0F",label:"woman kneeling: medium skin tone",order:2013,unicode:""},{group:1,hexcode:"1F9CE-1F3FE-200D-2640-FE0F",label:"woman kneeling: medium-dark skin tone",order:2015,unicode:""},{group:1,hexcode:"1F9CE-1F3FF-200D-2640-FE0F",label:"woman kneeling: dark skin tone",order:2017,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9AF",label:"person with white cane",order:2019,tags:["accessibility","blind"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9AF",label:"person with white cane: light skin tone",order:2020,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9AF",label:"person with white cane: medium-light skin tone",order:2021,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9AF",label:"person with white cane: medium skin tone",order:2022,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9AF",label:"person with white cane: medium-dark skin tone",order:2023,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9AF",label:"person with white cane: dark skin tone",order:2024,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9AF",label:"man with white cane",order:2025,tags:["accessibility","blind","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9AF",label:"man with white cane: light skin tone",order:2026,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9AF",label:"man with white cane: medium-light skin tone",order:2027,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9AF",label:"man with white cane: medium skin tone",order:2028,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9AF",label:"man with white cane: medium-dark skin tone",order:2029,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9AF",label:"man with white cane: dark skin tone",order:2030,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9AF",label:"woman with white cane",order:2031,tags:["accessibility","blind","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9AF",label:"woman with white cane: light skin tone",order:2032,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9AF",label:"woman with white cane: medium-light skin tone",order:2033,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9AF",label:"woman with white cane: medium skin tone",order:2034,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9AF",label:"woman with white cane: medium-dark skin tone",order:2035,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9AF",label:"woman with white cane: dark skin tone",order:2036,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9BC",label:"person in motorized wheelchair",order:2037,tags:["accessibility","wheelchair"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9BC",label:"person in motorized wheelchair: light skin tone",order:2038,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9BC",label:"person in motorized wheelchair: medium-light skin tone",order:2039,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9BC",label:"person in motorized wheelchair: medium skin tone",order:2040,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9BC",label:"person in motorized wheelchair: medium-dark skin tone",order:2041,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9BC",label:"person in motorized wheelchair: dark skin tone",order:2042,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9BC",label:"man in motorized wheelchair",order:2043,tags:["accessibility","man","wheelchair"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9BC",label:"man in motorized wheelchair: light skin tone",order:2044,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9BC",label:"man in motorized wheelchair: medium-light skin tone",order:2045,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9BC",label:"man in motorized wheelchair: medium skin tone",order:2046,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9BC",label:"man in motorized wheelchair: medium-dark skin tone",order:2047,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9BC",label:"man in motorized wheelchair: dark skin tone",order:2048,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9BC",label:"woman in motorized wheelchair",order:2049,tags:["accessibility","wheelchair","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9BC",label:"woman in motorized wheelchair: light skin tone",order:2050,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9BC",label:"woman in motorized wheelchair: medium-light skin tone",order:2051,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9BC",label:"woman in motorized wheelchair: medium skin tone",order:2052,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9BC",label:"woman in motorized wheelchair: medium-dark skin tone",order:2053,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9BC",label:"woman in motorized wheelchair: dark skin tone",order:2054,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F9BD",label:"person in manual wheelchair",order:2055,tags:["accessibility","wheelchair"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F9BD",label:"person in manual wheelchair: light skin tone",order:2056,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F9BD",label:"person in manual wheelchair: medium-light skin tone",order:2057,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F9BD",label:"person in manual wheelchair: medium skin tone",order:2058,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F9BD",label:"person in manual wheelchair: medium-dark skin tone",order:2059,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F9BD",label:"person in manual wheelchair: dark skin tone",order:2060,unicode:""}]},{group:1,hexcode:"1F468-200D-1F9BD",label:"man in manual wheelchair",order:2061,tags:["accessibility","man","wheelchair"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-1F9BD",label:"man in manual wheelchair: light skin tone",order:2062,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F9BD",label:"man in manual wheelchair: medium-light skin tone",order:2063,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F9BD",label:"man in manual wheelchair: medium skin tone",order:2064,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F9BD",label:"man in manual wheelchair: medium-dark skin tone",order:2065,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F9BD",label:"man in manual wheelchair: dark skin tone",order:2066,unicode:""}]},{group:1,hexcode:"1F469-200D-1F9BD",label:"woman in manual wheelchair",order:2067,tags:["accessibility","wheelchair","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-1F9BD",label:"woman in manual wheelchair: light skin tone",order:2068,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F9BD",label:"woman in manual wheelchair: medium-light skin tone",order:2069,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F9BD",label:"woman in manual wheelchair: medium skin tone",order:2070,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F9BD",label:"woman in manual wheelchair: medium-dark skin tone",order:2071,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F9BD",label:"woman in manual wheelchair: dark skin tone",order:2072,unicode:""}]},{group:1,hexcode:"1F3C3",label:"person running",order:2073,tags:["marathon","running"],unicode:"",skins:[{group:1,hexcode:"1F3C3-1F3FB",label:"person running: light skin tone",order:2074,unicode:""},{group:1,hexcode:"1F3C3-1F3FC",label:"person running: medium-light skin tone",order:2075,unicode:""},{group:1,hexcode:"1F3C3-1F3FD",label:"person running: medium skin tone",order:2076,unicode:""},{group:1,hexcode:"1F3C3-1F3FE",label:"person running: medium-dark skin tone",order:2077,unicode:""},{group:1,hexcode:"1F3C3-1F3FF",label:"person running: dark skin tone",order:2078,unicode:""}]},{group:1,hexcode:"1F3C3-200D-2642-FE0F",label:"man running",order:2079,tags:["man","marathon","racing","running"],unicode:"",skins:[{group:1,hexcode:"1F3C3-1F3FB-200D-2642-FE0F",label:"man running: light skin tone",order:2081,unicode:""},{group:1,hexcode:"1F3C3-1F3FC-200D-2642-FE0F",label:"man running: medium-light skin tone",order:2083,unicode:""},{group:1,hexcode:"1F3C3-1F3FD-200D-2642-FE0F",label:"man running: medium skin tone",order:2085,unicode:""},{group:1,hexcode:"1F3C3-1F3FE-200D-2642-FE0F",label:"man running: medium-dark skin tone",order:2087,unicode:""},{group:1,hexcode:"1F3C3-1F3FF-200D-2642-FE0F",label:"man running: dark skin tone",order:2089,unicode:""}]},{group:1,hexcode:"1F3C3-200D-2640-FE0F",label:"woman running",order:2091,tags:["marathon","racing","running","woman"],unicode:"",skins:[{group:1,hexcode:"1F3C3-1F3FB-200D-2640-FE0F",label:"woman running: light skin tone",order:2093,unicode:""},{group:1,hexcode:"1F3C3-1F3FC-200D-2640-FE0F",label:"woman running: medium-light skin tone",order:2095,unicode:""},{group:1,hexcode:"1F3C3-1F3FD-200D-2640-FE0F",label:"woman running: medium skin tone",order:2097,unicode:""},{group:1,hexcode:"1F3C3-1F3FE-200D-2640-FE0F",label:"woman running: medium-dark skin tone",order:2099,unicode:""},{group:1,hexcode:"1F3C3-1F3FF-200D-2640-FE0F",label:"woman running: dark skin tone",order:2101,unicode:""}]},{group:1,hexcode:"1F483",label:"woman dancing",order:2103,tags:["dance","dancing","woman"],unicode:"",skins:[{group:1,hexcode:"1F483-1F3FB",label:"woman dancing: light skin tone",order:2104,unicode:""},{group:1,hexcode:"1F483-1F3FC",label:"woman dancing: medium-light skin tone",order:2105,unicode:""},{group:1,hexcode:"1F483-1F3FD",label:"woman dancing: medium skin tone",order:2106,unicode:""},{group:1,hexcode:"1F483-1F3FE",label:"woman dancing: medium-dark skin tone",order:2107,unicode:""},{group:1,hexcode:"1F483-1F3FF",label:"woman dancing: dark skin tone",order:2108,unicode:""}]},{group:1,hexcode:"1F57A",label:"man dancing",order:2109,tags:["dance","dancing","man"],unicode:"",skins:[{group:1,hexcode:"1F57A-1F3FB",label:"man dancing: light skin tone",order:2110,unicode:""},{group:1,hexcode:"1F57A-1F3FC",label:"man dancing: medium-light skin tone",order:2111,unicode:""},{group:1,hexcode:"1F57A-1F3FD",label:"man dancing: medium skin tone",order:2112,unicode:""},{group:1,hexcode:"1F57A-1F3FE",label:"man dancing: medium-dark skin tone",order:2113,unicode:""},{group:1,hexcode:"1F57A-1F3FF",label:"man dancing: dark skin tone",order:2114,unicode:""}]},{group:1,hexcode:"1F574",label:"person in suit levitating",order:2116,tags:["business","person","suit"],unicode:"",skins:[{group:1,hexcode:"1F574-1F3FB",label:"person in suit levitating: light skin tone",order:2117,unicode:""},{group:1,hexcode:"1F574-1F3FC",label:"person in suit levitating: medium-light skin tone",order:2118,unicode:""},{group:1,hexcode:"1F574-1F3FD",label:"person in suit levitating: medium skin tone",order:2119,unicode:""},{group:1,hexcode:"1F574-1F3FE",label:"person in suit levitating: medium-dark skin tone",order:2120,unicode:""},{group:1,hexcode:"1F574-1F3FF",label:"person in suit levitating: dark skin tone",order:2121,unicode:""}]},{group:1,hexcode:"1F46F",label:"people with bunny ears",order:2122,tags:["bunny ear","dancer","partying"],unicode:""},{group:1,hexcode:"1F46F-200D-2642-FE0F",label:"men with bunny ears",order:2123,tags:["bunny ear","dancer","men","partying"],unicode:""},{group:1,hexcode:"1F46F-200D-2640-FE0F",label:"women with bunny ears",order:2125,tags:["bunny ear","dancer","partying","women"],unicode:""},{group:1,hexcode:"1F9D6",label:"person in steamy room",order:2127,tags:["sauna","steam room"],unicode:"",skins:[{group:1,hexcode:"1F9D6-1F3FB",label:"person in steamy room: light skin tone",order:2128,unicode:""},{group:1,hexcode:"1F9D6-1F3FC",label:"person in steamy room: medium-light skin tone",order:2129,unicode:""},{group:1,hexcode:"1F9D6-1F3FD",label:"person in steamy room: medium skin tone",order:2130,unicode:""},{group:1,hexcode:"1F9D6-1F3FE",label:"person in steamy room: medium-dark skin tone",order:2131,unicode:""},{group:1,hexcode:"1F9D6-1F3FF",label:"person in steamy room: dark skin tone",order:2132,unicode:""}]},{group:1,hexcode:"1F9D6-200D-2642-FE0F",label:"man in steamy room",order:2133,tags:["sauna","steam room"],unicode:"",skins:[{group:1,hexcode:"1F9D6-1F3FB-200D-2642-FE0F",label:"man in steamy room: light skin tone",order:2135,unicode:""},{group:1,hexcode:"1F9D6-1F3FC-200D-2642-FE0F",label:"man in steamy room: medium-light skin tone",order:2137,unicode:""},{group:1,hexcode:"1F9D6-1F3FD-200D-2642-FE0F",label:"man in steamy room: medium skin tone",order:2139,unicode:""},{group:1,hexcode:"1F9D6-1F3FE-200D-2642-FE0F",label:"man in steamy room: medium-dark skin tone",order:2141,unicode:""},{group:1,hexcode:"1F9D6-1F3FF-200D-2642-FE0F",label:"man in steamy room: dark skin tone",order:2143,unicode:""}]},{group:1,hexcode:"1F9D6-200D-2640-FE0F",label:"woman in steamy room",order:2145,tags:["sauna","steam room"],unicode:"",skins:[{group:1,hexcode:"1F9D6-1F3FB-200D-2640-FE0F",label:"woman in steamy room: light skin tone",order:2147,unicode:""},{group:1,hexcode:"1F9D6-1F3FC-200D-2640-FE0F",label:"woman in steamy room: medium-light skin tone",order:2149,unicode:""},{group:1,hexcode:"1F9D6-1F3FD-200D-2640-FE0F",label:"woman in steamy room: medium skin tone",order:2151,unicode:""},{group:1,hexcode:"1F9D6-1F3FE-200D-2640-FE0F",label:"woman in steamy room: medium-dark skin tone",order:2153,unicode:""},{group:1,hexcode:"1F9D6-1F3FF-200D-2640-FE0F",label:"woman in steamy room: dark skin tone",order:2155,unicode:""}]},{group:1,hexcode:"1F9D7",label:"person climbing",order:2157,tags:["climber"],unicode:"",skins:[{group:1,hexcode:"1F9D7-1F3FB",label:"person climbing: light skin tone",order:2158,unicode:""},{group:1,hexcode:"1F9D7-1F3FC",label:"person climbing: medium-light skin tone",order:2159,unicode:""},{group:1,hexcode:"1F9D7-1F3FD",label:"person climbing: medium skin tone",order:2160,unicode:""},{group:1,hexcode:"1F9D7-1F3FE",label:"person climbing: medium-dark skin tone",order:2161,unicode:""},{group:1,hexcode:"1F9D7-1F3FF",label:"person climbing: dark skin tone",order:2162,unicode:""}]},{group:1,hexcode:"1F9D7-200D-2642-FE0F",label:"man climbing",order:2163,tags:["climber"],unicode:"",skins:[{group:1,hexcode:"1F9D7-1F3FB-200D-2642-FE0F",label:"man climbing: light skin tone",order:2165,unicode:""},{group:1,hexcode:"1F9D7-1F3FC-200D-2642-FE0F",label:"man climbing: medium-light skin tone",order:2167,unicode:""},{group:1,hexcode:"1F9D7-1F3FD-200D-2642-FE0F",label:"man climbing: medium skin tone",order:2169,unicode:""},{group:1,hexcode:"1F9D7-1F3FE-200D-2642-FE0F",label:"man climbing: medium-dark skin tone",order:2171,unicode:""},{group:1,hexcode:"1F9D7-1F3FF-200D-2642-FE0F",label:"man climbing: dark skin tone",order:2173,unicode:""}]},{group:1,hexcode:"1F9D7-200D-2640-FE0F",label:"woman climbing",order:2175,tags:["climber"],unicode:"",skins:[{group:1,hexcode:"1F9D7-1F3FB-200D-2640-FE0F",label:"woman climbing: light skin tone",order:2177,unicode:""},{group:1,hexcode:"1F9D7-1F3FC-200D-2640-FE0F",label:"woman climbing: medium-light skin tone",order:2179,unicode:""},{group:1,hexcode:"1F9D7-1F3FD-200D-2640-FE0F",label:"woman climbing: medium skin tone",order:2181,unicode:""},{group:1,hexcode:"1F9D7-1F3FE-200D-2640-FE0F",label:"woman climbing: medium-dark skin tone",order:2183,unicode:""},{group:1,hexcode:"1F9D7-1F3FF-200D-2640-FE0F",label:"woman climbing: dark skin tone",order:2185,unicode:""}]},{group:1,hexcode:"1F93A",label:"person fencing",order:2187,tags:["fencer","fencing","sword"],unicode:""},{group:1,hexcode:"1F3C7",label:"horse racing",order:2188,tags:["horse","jockey","racehorse","racing"],unicode:"",skins:[{group:1,hexcode:"1F3C7-1F3FB",label:"horse racing: light skin tone",order:2189,unicode:""},{group:1,hexcode:"1F3C7-1F3FC",label:"horse racing: medium-light skin tone",order:2190,unicode:""},{group:1,hexcode:"1F3C7-1F3FD",label:"horse racing: medium skin tone",order:2191,unicode:""},{group:1,hexcode:"1F3C7-1F3FE",label:"horse racing: medium-dark skin tone",order:2192,unicode:""},{group:1,hexcode:"1F3C7-1F3FF",label:"horse racing: dark skin tone",order:2193,unicode:""}]},{group:1,hexcode:"26F7",label:"skier",order:2195,tags:["ski","snow"],unicode:""},{group:1,hexcode:"1F3C2",label:"snowboarder",order:2196,tags:["ski","snow","snowboard"],unicode:"",skins:[{group:1,hexcode:"1F3C2-1F3FB",label:"snowboarder: light skin tone",order:2197,unicode:""},{group:1,hexcode:"1F3C2-1F3FC",label:"snowboarder: medium-light skin tone",order:2198,unicode:""},{group:1,hexcode:"1F3C2-1F3FD",label:"snowboarder: medium skin tone",order:2199,unicode:""},{group:1,hexcode:"1F3C2-1F3FE",label:"snowboarder: medium-dark skin tone",order:2200,unicode:""},{group:1,hexcode:"1F3C2-1F3FF",label:"snowboarder: dark skin tone",order:2201,unicode:""}]},{group:1,hexcode:"1F3CC",label:"person golfing",order:2203,tags:["ball","golf"],unicode:"",skins:[{group:1,hexcode:"1F3CC-1F3FB",label:"person golfing: light skin tone",order:2204,unicode:""},{group:1,hexcode:"1F3CC-1F3FC",label:"person golfing: medium-light skin tone",order:2205,unicode:""},{group:1,hexcode:"1F3CC-1F3FD",label:"person golfing: medium skin tone",order:2206,unicode:""},{group:1,hexcode:"1F3CC-1F3FE",label:"person golfing: medium-dark skin tone",order:2207,unicode:""},{group:1,hexcode:"1F3CC-1F3FF",label:"person golfing: dark skin tone",order:2208,unicode:""}]},{group:1,hexcode:"1F3CC-FE0F-200D-2642-FE0F",label:"man golfing",order:2209,tags:["golf","man"],unicode:"",skins:[{group:1,hexcode:"1F3CC-1F3FB-200D-2642-FE0F",label:"man golfing: light skin tone",order:2213,unicode:""},{group:1,hexcode:"1F3CC-1F3FC-200D-2642-FE0F",label:"man golfing: medium-light skin tone",order:2215,unicode:""},{group:1,hexcode:"1F3CC-1F3FD-200D-2642-FE0F",label:"man golfing: medium skin tone",order:2217,unicode:""},{group:1,hexcode:"1F3CC-1F3FE-200D-2642-FE0F",label:"man golfing: medium-dark skin tone",order:2219,unicode:""},{group:1,hexcode:"1F3CC-1F3FF-200D-2642-FE0F",label:"man golfing: dark skin tone",order:2221,unicode:""}]},{group:1,hexcode:"1F3CC-FE0F-200D-2640-FE0F",label:"woman golfing",order:2223,tags:["golf","woman"],unicode:"",skins:[{group:1,hexcode:"1F3CC-1F3FB-200D-2640-FE0F",label:"woman golfing: light skin tone",order:2227,unicode:""},{group:1,hexcode:"1F3CC-1F3FC-200D-2640-FE0F",label:"woman golfing: medium-light skin tone",order:2229,unicode:""},{group:1,hexcode:"1F3CC-1F3FD-200D-2640-FE0F",label:"woman golfing: medium skin tone",order:2231,unicode:""},{group:1,hexcode:"1F3CC-1F3FE-200D-2640-FE0F",label:"woman golfing: medium-dark skin tone",order:2233,unicode:""},{group:1,hexcode:"1F3CC-1F3FF-200D-2640-FE0F",label:"woman golfing: dark skin tone",order:2235,unicode:""}]},{group:1,hexcode:"1F3C4",label:"person surfing",order:2237,tags:["surfing"],unicode:"",skins:[{group:1,hexcode:"1F3C4-1F3FB",label:"person surfing: light skin tone",order:2238,unicode:""},{group:1,hexcode:"1F3C4-1F3FC",label:"person surfing: medium-light skin tone",order:2239,unicode:""},{group:1,hexcode:"1F3C4-1F3FD",label:"person surfing: medium skin tone",order:2240,unicode:""},{group:1,hexcode:"1F3C4-1F3FE",label:"person surfing: medium-dark skin tone",order:2241,unicode:""},{group:1,hexcode:"1F3C4-1F3FF",label:"person surfing: dark skin tone",order:2242,unicode:""}]},{group:1,hexcode:"1F3C4-200D-2642-FE0F",label:"man surfing",order:2243,tags:["man","surfing"],unicode:"",skins:[{group:1,hexcode:"1F3C4-1F3FB-200D-2642-FE0F",label:"man surfing: light skin tone",order:2245,unicode:""},{group:1,hexcode:"1F3C4-1F3FC-200D-2642-FE0F",label:"man surfing: medium-light skin tone",order:2247,unicode:""},{group:1,hexcode:"1F3C4-1F3FD-200D-2642-FE0F",label:"man surfing: medium skin tone",order:2249,unicode:""},{group:1,hexcode:"1F3C4-1F3FE-200D-2642-FE0F",label:"man surfing: medium-dark skin tone",order:2251,unicode:""},{group:1,hexcode:"1F3C4-1F3FF-200D-2642-FE0F",label:"man surfing: dark skin tone",order:2253,unicode:""}]},{group:1,hexcode:"1F3C4-200D-2640-FE0F",label:"woman surfing",order:2255,tags:["surfing","woman"],unicode:"",skins:[{group:1,hexcode:"1F3C4-1F3FB-200D-2640-FE0F",label:"woman surfing: light skin tone",order:2257,unicode:""},{group:1,hexcode:"1F3C4-1F3FC-200D-2640-FE0F",label:"woman surfing: medium-light skin tone",order:2259,unicode:""},{group:1,hexcode:"1F3C4-1F3FD-200D-2640-FE0F",label:"woman surfing: medium skin tone",order:2261,unicode:""},{group:1,hexcode:"1F3C4-1F3FE-200D-2640-FE0F",label:"woman surfing: medium-dark skin tone",order:2263,unicode:""},{group:1,hexcode:"1F3C4-1F3FF-200D-2640-FE0F",label:"woman surfing: dark skin tone",order:2265,unicode:""}]},{group:1,hexcode:"1F6A3",label:"person rowing boat",order:2267,tags:["boat","rowboat"],unicode:"",skins:[{group:1,hexcode:"1F6A3-1F3FB",label:"person rowing boat: light skin tone",order:2268,unicode:""},{group:1,hexcode:"1F6A3-1F3FC",label:"person rowing boat: medium-light skin tone",order:2269,unicode:""},{group:1,hexcode:"1F6A3-1F3FD",label:"person rowing boat: medium skin tone",order:2270,unicode:""},{group:1,hexcode:"1F6A3-1F3FE",label:"person rowing boat: medium-dark skin tone",order:2271,unicode:""},{group:1,hexcode:"1F6A3-1F3FF",label:"person rowing boat: dark skin tone",order:2272,unicode:""}]},{group:1,hexcode:"1F6A3-200D-2642-FE0F",label:"man rowing boat",order:2273,tags:["boat","man","rowboat"],unicode:"",skins:[{group:1,hexcode:"1F6A3-1F3FB-200D-2642-FE0F",label:"man rowing boat: light skin tone",order:2275,unicode:""},{group:1,hexcode:"1F6A3-1F3FC-200D-2642-FE0F",label:"man rowing boat: medium-light skin tone",order:2277,unicode:""},{group:1,hexcode:"1F6A3-1F3FD-200D-2642-FE0F",label:"man rowing boat: medium skin tone",order:2279,unicode:""},{group:1,hexcode:"1F6A3-1F3FE-200D-2642-FE0F",label:"man rowing boat: medium-dark skin tone",order:2281,unicode:""},{group:1,hexcode:"1F6A3-1F3FF-200D-2642-FE0F",label:"man rowing boat: dark skin tone",order:2283,unicode:""}]},{group:1,hexcode:"1F6A3-200D-2640-FE0F",label:"woman rowing boat",order:2285,tags:["boat","rowboat","woman"],unicode:"",skins:[{group:1,hexcode:"1F6A3-1F3FB-200D-2640-FE0F",label:"woman rowing boat: light skin tone",order:2287,unicode:""},{group:1,hexcode:"1F6A3-1F3FC-200D-2640-FE0F",label:"woman rowing boat: medium-light skin tone",order:2289,unicode:""},{group:1,hexcode:"1F6A3-1F3FD-200D-2640-FE0F",label:"woman rowing boat: medium skin tone",order:2291,unicode:""},{group:1,hexcode:"1F6A3-1F3FE-200D-2640-FE0F",label:"woman rowing boat: medium-dark skin tone",order:2293,unicode:""},{group:1,hexcode:"1F6A3-1F3FF-200D-2640-FE0F",label:"woman rowing boat: dark skin tone",order:2295,unicode:""}]},{group:1,hexcode:"1F3CA",label:"person swimming",order:2297,tags:["swim"],unicode:"",skins:[{group:1,hexcode:"1F3CA-1F3FB",label:"person swimming: light skin tone",order:2298,unicode:""},{group:1,hexcode:"1F3CA-1F3FC",label:"person swimming: medium-light skin tone",order:2299,unicode:""},{group:1,hexcode:"1F3CA-1F3FD",label:"person swimming: medium skin tone",order:2300,unicode:""},{group:1,hexcode:"1F3CA-1F3FE",label:"person swimming: medium-dark skin tone",order:2301,unicode:""},{group:1,hexcode:"1F3CA-1F3FF",label:"person swimming: dark skin tone",order:2302,unicode:""}]},{group:1,hexcode:"1F3CA-200D-2642-FE0F",label:"man swimming",order:2303,tags:["man","swim"],unicode:"",skins:[{group:1,hexcode:"1F3CA-1F3FB-200D-2642-FE0F",label:"man swimming: light skin tone",order:2305,unicode:""},{group:1,hexcode:"1F3CA-1F3FC-200D-2642-FE0F",label:"man swimming: medium-light skin tone",order:2307,unicode:""},{group:1,hexcode:"1F3CA-1F3FD-200D-2642-FE0F",label:"man swimming: medium skin tone",order:2309,unicode:""},{group:1,hexcode:"1F3CA-1F3FE-200D-2642-FE0F",label:"man swimming: medium-dark skin tone",order:2311,unicode:""},{group:1,hexcode:"1F3CA-1F3FF-200D-2642-FE0F",label:"man swimming: dark skin tone",order:2313,unicode:""}]},{group:1,hexcode:"1F3CA-200D-2640-FE0F",label:"woman swimming",order:2315,tags:["swim","woman"],unicode:"",skins:[{group:1,hexcode:"1F3CA-1F3FB-200D-2640-FE0F",label:"woman swimming: light skin tone",order:2317,unicode:""},{group:1,hexcode:"1F3CA-1F3FC-200D-2640-FE0F",label:"woman swimming: medium-light skin tone",order:2319,unicode:""},{group:1,hexcode:"1F3CA-1F3FD-200D-2640-FE0F",label:"woman swimming: medium skin tone",order:2321,unicode:""},{group:1,hexcode:"1F3CA-1F3FE-200D-2640-FE0F",label:"woman swimming: medium-dark skin tone",order:2323,unicode:""},{group:1,hexcode:"1F3CA-1F3FF-200D-2640-FE0F",label:"woman swimming: dark skin tone",order:2325,unicode:""}]},{group:1,hexcode:"26F9",label:"person bouncing ball",order:2328,tags:["ball"],unicode:"",skins:[{group:1,hexcode:"26F9-1F3FB",label:"person bouncing ball: light skin tone",order:2329,unicode:""},{group:1,hexcode:"26F9-1F3FC",label:"person bouncing ball: medium-light skin tone",order:2330,unicode:""},{group:1,hexcode:"26F9-1F3FD",label:"person bouncing ball: medium skin tone",order:2331,unicode:""},{group:1,hexcode:"26F9-1F3FE",label:"person bouncing ball: medium-dark skin tone",order:2332,unicode:""},{group:1,hexcode:"26F9-1F3FF",label:"person bouncing ball: dark skin tone",order:2333,unicode:""}]},{group:1,hexcode:"26F9-FE0F-200D-2642-FE0F",label:"man bouncing ball",order:2334,tags:["ball","man"],unicode:"",skins:[{group:1,hexcode:"26F9-1F3FB-200D-2642-FE0F",label:"man bouncing ball: light skin tone",order:2338,unicode:""},{group:1,hexcode:"26F9-1F3FC-200D-2642-FE0F",label:"man bouncing ball: medium-light skin tone",order:2340,unicode:""},{group:1,hexcode:"26F9-1F3FD-200D-2642-FE0F",label:"man bouncing ball: medium skin tone",order:2342,unicode:""},{group:1,hexcode:"26F9-1F3FE-200D-2642-FE0F",label:"man bouncing ball: medium-dark skin tone",order:2344,unicode:""},{group:1,hexcode:"26F9-1F3FF-200D-2642-FE0F",label:"man bouncing ball: dark skin tone",order:2346,unicode:""}]},{group:1,hexcode:"26F9-FE0F-200D-2640-FE0F",label:"woman bouncing ball",order:2348,tags:["ball","woman"],unicode:"",skins:[{group:1,hexcode:"26F9-1F3FB-200D-2640-FE0F",label:"woman bouncing ball: light skin tone",order:2352,unicode:""},{group:1,hexcode:"26F9-1F3FC-200D-2640-FE0F",label:"woman bouncing ball: medium-light skin tone",order:2354,unicode:""},{group:1,hexcode:"26F9-1F3FD-200D-2640-FE0F",label:"woman bouncing ball: medium skin tone",order:2356,unicode:""},{group:1,hexcode:"26F9-1F3FE-200D-2640-FE0F",label:"woman bouncing ball: medium-dark skin tone",order:2358,unicode:""},{group:1,hexcode:"26F9-1F3FF-200D-2640-FE0F",label:"woman bouncing ball: dark skin tone",order:2360,unicode:""}]},{group:1,hexcode:"1F3CB",label:"person lifting weights",order:2363,tags:["lifter","weight"],unicode:"",skins:[{group:1,hexcode:"1F3CB-1F3FB",label:"person lifting weights: light skin tone",order:2364,unicode:""},{group:1,hexcode:"1F3CB-1F3FC",label:"person lifting weights: medium-light skin tone",order:2365,unicode:""},{group:1,hexcode:"1F3CB-1F3FD",label:"person lifting weights: medium skin tone",order:2366,unicode:""},{group:1,hexcode:"1F3CB-1F3FE",label:"person lifting weights: medium-dark skin tone",order:2367,unicode:""},{group:1,hexcode:"1F3CB-1F3FF",label:"person lifting weights: dark skin tone",order:2368,unicode:""}]},{group:1,hexcode:"1F3CB-FE0F-200D-2642-FE0F",label:"man lifting weights",order:2369,tags:["man","weight lifter"],unicode:"",skins:[{group:1,hexcode:"1F3CB-1F3FB-200D-2642-FE0F",label:"man lifting weights: light skin tone",order:2373,unicode:""},{group:1,hexcode:"1F3CB-1F3FC-200D-2642-FE0F",label:"man lifting weights: medium-light skin tone",order:2375,unicode:""},{group:1,hexcode:"1F3CB-1F3FD-200D-2642-FE0F",label:"man lifting weights: medium skin tone",order:2377,unicode:""},{group:1,hexcode:"1F3CB-1F3FE-200D-2642-FE0F",label:"man lifting weights: medium-dark skin tone",order:2379,unicode:""},{group:1,hexcode:"1F3CB-1F3FF-200D-2642-FE0F",label:"man lifting weights: dark skin tone",order:2381,unicode:""}]},{group:1,hexcode:"1F3CB-FE0F-200D-2640-FE0F",label:"woman lifting weights",order:2383,tags:["weight lifter","woman"],unicode:"",skins:[{group:1,hexcode:"1F3CB-1F3FB-200D-2640-FE0F",label:"woman lifting weights: light skin tone",order:2387,unicode:""},{group:1,hexcode:"1F3CB-1F3FC-200D-2640-FE0F",label:"woman lifting weights: medium-light skin tone",order:2389,unicode:""},{group:1,hexcode:"1F3CB-1F3FD-200D-2640-FE0F",label:"woman lifting weights: medium skin tone",order:2391,unicode:""},{group:1,hexcode:"1F3CB-1F3FE-200D-2640-FE0F",label:"woman lifting weights: medium-dark skin tone",order:2393,unicode:""},{group:1,hexcode:"1F3CB-1F3FF-200D-2640-FE0F",label:"woman lifting weights: dark skin tone",order:2395,unicode:""}]},{group:1,hexcode:"1F6B4",label:"person biking",order:2397,tags:["bicycle","biking","cyclist"],unicode:"",skins:[{group:1,hexcode:"1F6B4-1F3FB",label:"person biking: light skin tone",order:2398,unicode:""},{group:1,hexcode:"1F6B4-1F3FC",label:"person biking: medium-light skin tone",order:2399,unicode:""},{group:1,hexcode:"1F6B4-1F3FD",label:"person biking: medium skin tone",order:2400,unicode:""},{group:1,hexcode:"1F6B4-1F3FE",label:"person biking: medium-dark skin tone",order:2401,unicode:""},{group:1,hexcode:"1F6B4-1F3FF",label:"person biking: dark skin tone",order:2402,unicode:""}]},{group:1,hexcode:"1F6B4-200D-2642-FE0F",label:"man biking",order:2403,tags:["bicycle","biking","cyclist","man"],unicode:"",skins:[{group:1,hexcode:"1F6B4-1F3FB-200D-2642-FE0F",label:"man biking: light skin tone",order:2405,unicode:""},{group:1,hexcode:"1F6B4-1F3FC-200D-2642-FE0F",label:"man biking: medium-light skin tone",order:2407,unicode:""},{group:1,hexcode:"1F6B4-1F3FD-200D-2642-FE0F",label:"man biking: medium skin tone",order:2409,unicode:""},{group:1,hexcode:"1F6B4-1F3FE-200D-2642-FE0F",label:"man biking: medium-dark skin tone",order:2411,unicode:""},{group:1,hexcode:"1F6B4-1F3FF-200D-2642-FE0F",label:"man biking: dark skin tone",order:2413,unicode:""}]},{group:1,hexcode:"1F6B4-200D-2640-FE0F",label:"woman biking",order:2415,tags:["bicycle","biking","cyclist","woman"],unicode:"",skins:[{group:1,hexcode:"1F6B4-1F3FB-200D-2640-FE0F",label:"woman biking: light skin tone",order:2417,unicode:""},{group:1,hexcode:"1F6B4-1F3FC-200D-2640-FE0F",label:"woman biking: medium-light skin tone",order:2419,unicode:""},{group:1,hexcode:"1F6B4-1F3FD-200D-2640-FE0F",label:"woman biking: medium skin tone",order:2421,unicode:""},{group:1,hexcode:"1F6B4-1F3FE-200D-2640-FE0F",label:"woman biking: medium-dark skin tone",order:2423,unicode:""},{group:1,hexcode:"1F6B4-1F3FF-200D-2640-FE0F",label:"woman biking: dark skin tone",order:2425,unicode:""}]},{group:1,hexcode:"1F6B5",label:"person mountain biking",order:2427,tags:["bicycle","bicyclist","bike","cyclist","mountain"],unicode:"",skins:[{group:1,hexcode:"1F6B5-1F3FB",label:"person mountain biking: light skin tone",order:2428,unicode:""},{group:1,hexcode:"1F6B5-1F3FC",label:"person mountain biking: medium-light skin tone",order:2429,unicode:""},{group:1,hexcode:"1F6B5-1F3FD",label:"person mountain biking: medium skin tone",order:2430,unicode:""},{group:1,hexcode:"1F6B5-1F3FE",label:"person mountain biking: medium-dark skin tone",order:2431,unicode:""},{group:1,hexcode:"1F6B5-1F3FF",label:"person mountain biking: dark skin tone",order:2432,unicode:""}]},{group:1,hexcode:"1F6B5-200D-2642-FE0F",label:"man mountain biking",order:2433,tags:["bicycle","bike","cyclist","man","mountain"],unicode:"",skins:[{group:1,hexcode:"1F6B5-1F3FB-200D-2642-FE0F",label:"man mountain biking: light skin tone",order:2435,unicode:""},{group:1,hexcode:"1F6B5-1F3FC-200D-2642-FE0F",label:"man mountain biking: medium-light skin tone",order:2437,unicode:""},{group:1,hexcode:"1F6B5-1F3FD-200D-2642-FE0F",label:"man mountain biking: medium skin tone",order:2439,unicode:""},{group:1,hexcode:"1F6B5-1F3FE-200D-2642-FE0F",label:"man mountain biking: medium-dark skin tone",order:2441,unicode:""},{group:1,hexcode:"1F6B5-1F3FF-200D-2642-FE0F",label:"man mountain biking: dark skin tone",order:2443,unicode:""}]},{group:1,hexcode:"1F6B5-200D-2640-FE0F",label:"woman mountain biking",order:2445,tags:["bicycle","bike","biking","cyclist","mountain","woman"],unicode:"",skins:[{group:1,hexcode:"1F6B5-1F3FB-200D-2640-FE0F",label:"woman mountain biking: light skin tone",order:2447,unicode:""},{group:1,hexcode:"1F6B5-1F3FC-200D-2640-FE0F",label:"woman mountain biking: medium-light skin tone",order:2449,unicode:""},{group:1,hexcode:"1F6B5-1F3FD-200D-2640-FE0F",label:"woman mountain biking: medium skin tone",order:2451,unicode:""},{group:1,hexcode:"1F6B5-1F3FE-200D-2640-FE0F",label:"woman mountain biking: medium-dark skin tone",order:2453,unicode:""},{group:1,hexcode:"1F6B5-1F3FF-200D-2640-FE0F",label:"woman mountain biking: dark skin tone",order:2455,unicode:""}]},{group:1,hexcode:"1F938",label:"person cartwheeling",order:2457,tags:["cartwheel","gymnastics"],unicode:"",skins:[{group:1,hexcode:"1F938-1F3FB",label:"person cartwheeling: light skin tone",order:2458,unicode:""},{group:1,hexcode:"1F938-1F3FC",label:"person cartwheeling: medium-light skin tone",order:2459,unicode:""},{group:1,hexcode:"1F938-1F3FD",label:"person cartwheeling: medium skin tone",order:2460,unicode:""},{group:1,hexcode:"1F938-1F3FE",label:"person cartwheeling: medium-dark skin tone",order:2461,unicode:""},{group:1,hexcode:"1F938-1F3FF",label:"person cartwheeling: dark skin tone",order:2462,unicode:""}]},{group:1,hexcode:"1F938-200D-2642-FE0F",label:"man cartwheeling",order:2463,tags:["cartwheel","gymnastics","man"],unicode:"",skins:[{group:1,hexcode:"1F938-1F3FB-200D-2642-FE0F",label:"man cartwheeling: light skin tone",order:2465,unicode:""},{group:1,hexcode:"1F938-1F3FC-200D-2642-FE0F",label:"man cartwheeling: medium-light skin tone",order:2467,unicode:""},{group:1,hexcode:"1F938-1F3FD-200D-2642-FE0F",label:"man cartwheeling: medium skin tone",order:2469,unicode:""},{group:1,hexcode:"1F938-1F3FE-200D-2642-FE0F",label:"man cartwheeling: medium-dark skin tone",order:2471,unicode:""},{group:1,hexcode:"1F938-1F3FF-200D-2642-FE0F",label:"man cartwheeling: dark skin tone",order:2473,unicode:""}]},{group:1,hexcode:"1F938-200D-2640-FE0F",label:"woman cartwheeling",order:2475,tags:["cartwheel","gymnastics","woman"],unicode:"",skins:[{group:1,hexcode:"1F938-1F3FB-200D-2640-FE0F",label:"woman cartwheeling: light skin tone",order:2477,unicode:""},{group:1,hexcode:"1F938-1F3FC-200D-2640-FE0F",label:"woman cartwheeling: medium-light skin tone",order:2479,unicode:""},{group:1,hexcode:"1F938-1F3FD-200D-2640-FE0F",label:"woman cartwheeling: medium skin tone",order:2481,unicode:""},{group:1,hexcode:"1F938-1F3FE-200D-2640-FE0F",label:"woman cartwheeling: medium-dark skin tone",order:2483,unicode:""},{group:1,hexcode:"1F938-1F3FF-200D-2640-FE0F",label:"woman cartwheeling: dark skin tone",order:2485,unicode:""}]},{group:1,hexcode:"1F93C",label:"people wrestling",order:2487,tags:["wrestle","wrestler"],unicode:""},{group:1,hexcode:"1F93C-200D-2642-FE0F",label:"men wrestling",order:2488,tags:["men","wrestle"],unicode:""},{group:1,hexcode:"1F93C-200D-2640-FE0F",label:"women wrestling",order:2490,tags:["women","wrestle"],unicode:""},{group:1,hexcode:"1F93D",label:"person playing water polo",order:2492,tags:["polo","water"],unicode:"",skins:[{group:1,hexcode:"1F93D-1F3FB",label:"person playing water polo: light skin tone",order:2493,unicode:""},{group:1,hexcode:"1F93D-1F3FC",label:"person playing water polo: medium-light skin tone",order:2494,unicode:""},{group:1,hexcode:"1F93D-1F3FD",label:"person playing water polo: medium skin tone",order:2495,unicode:""},{group:1,hexcode:"1F93D-1F3FE",label:"person playing water polo: medium-dark skin tone",order:2496,unicode:""},{group:1,hexcode:"1F93D-1F3FF",label:"person playing water polo: dark skin tone",order:2497,unicode:""}]},{group:1,hexcode:"1F93D-200D-2642-FE0F",label:"man playing water polo",order:2498,tags:["man","water polo"],unicode:"",skins:[{group:1,hexcode:"1F93D-1F3FB-200D-2642-FE0F",label:"man playing water polo: light skin tone",order:2500,unicode:""},{group:1,hexcode:"1F93D-1F3FC-200D-2642-FE0F",label:"man playing water polo: medium-light skin tone",order:2502,unicode:""},{group:1,hexcode:"1F93D-1F3FD-200D-2642-FE0F",label:"man playing water polo: medium skin tone",order:2504,unicode:""},{group:1,hexcode:"1F93D-1F3FE-200D-2642-FE0F",label:"man playing water polo: medium-dark skin tone",order:2506,unicode:""},{group:1,hexcode:"1F93D-1F3FF-200D-2642-FE0F",label:"man playing water polo: dark skin tone",order:2508,unicode:""}]},{group:1,hexcode:"1F93D-200D-2640-FE0F",label:"woman playing water polo",order:2510,tags:["water polo","woman"],unicode:"",skins:[{group:1,hexcode:"1F93D-1F3FB-200D-2640-FE0F",label:"woman playing water polo: light skin tone",order:2512,unicode:""},{group:1,hexcode:"1F93D-1F3FC-200D-2640-FE0F",label:"woman playing water polo: medium-light skin tone",order:2514,unicode:""},{group:1,hexcode:"1F93D-1F3FD-200D-2640-FE0F",label:"woman playing water polo: medium skin tone",order:2516,unicode:""},{group:1,hexcode:"1F93D-1F3FE-200D-2640-FE0F",label:"woman playing water polo: medium-dark skin tone",order:2518,unicode:""},{group:1,hexcode:"1F93D-1F3FF-200D-2640-FE0F",label:"woman playing water polo: dark skin tone",order:2520,unicode:""}]},{group:1,hexcode:"1F93E",label:"person playing handball",order:2522,tags:["ball","handball"],unicode:"",skins:[{group:1,hexcode:"1F93E-1F3FB",label:"person playing handball: light skin tone",order:2523,unicode:""},{group:1,hexcode:"1F93E-1F3FC",label:"person playing handball: medium-light skin tone",order:2524,unicode:""},{group:1,hexcode:"1F93E-1F3FD",label:"person playing handball: medium skin tone",order:2525,unicode:""},{group:1,hexcode:"1F93E-1F3FE",label:"person playing handball: medium-dark skin tone",order:2526,unicode:""},{group:1,hexcode:"1F93E-1F3FF",label:"person playing handball: dark skin tone",order:2527,unicode:""}]},{group:1,hexcode:"1F93E-200D-2642-FE0F",label:"man playing handball",order:2528,tags:["handball","man"],unicode:"",skins:[{group:1,hexcode:"1F93E-1F3FB-200D-2642-FE0F",label:"man playing handball: light skin tone",order:2530,unicode:""},{group:1,hexcode:"1F93E-1F3FC-200D-2642-FE0F",label:"man playing handball: medium-light skin tone",order:2532,unicode:""},{group:1,hexcode:"1F93E-1F3FD-200D-2642-FE0F",label:"man playing handball: medium skin tone",order:2534,unicode:""},{group:1,hexcode:"1F93E-1F3FE-200D-2642-FE0F",label:"man playing handball: medium-dark skin tone",order:2536,unicode:""},{group:1,hexcode:"1F93E-1F3FF-200D-2642-FE0F",label:"man playing handball: dark skin tone",order:2538,unicode:""}]},{group:1,hexcode:"1F93E-200D-2640-FE0F",label:"woman playing handball",order:2540,tags:["handball","woman"],unicode:"",skins:[{group:1,hexcode:"1F93E-1F3FB-200D-2640-FE0F",label:"woman playing handball: light skin tone",order:2542,unicode:""},{group:1,hexcode:"1F93E-1F3FC-200D-2640-FE0F",label:"woman playing handball: medium-light skin tone",order:2544,unicode:""},{group:1,hexcode:"1F93E-1F3FD-200D-2640-FE0F",label:"woman playing handball: medium skin tone",order:2546,unicode:""},{group:1,hexcode:"1F93E-1F3FE-200D-2640-FE0F",label:"woman playing handball: medium-dark skin tone",order:2548,unicode:""},{group:1,hexcode:"1F93E-1F3FF-200D-2640-FE0F",label:"woman playing handball: dark skin tone",order:2550,unicode:""}]},{group:1,hexcode:"1F939",label:"person juggling",order:2552,tags:["balance","juggle","multitask","skill"],unicode:"",skins:[{group:1,hexcode:"1F939-1F3FB",label:"person juggling: light skin tone",order:2553,unicode:""},{group:1,hexcode:"1F939-1F3FC",label:"person juggling: medium-light skin tone",order:2554,unicode:""},{group:1,hexcode:"1F939-1F3FD",label:"person juggling: medium skin tone",order:2555,unicode:""},{group:1,hexcode:"1F939-1F3FE",label:"person juggling: medium-dark skin tone",order:2556,unicode:""},{group:1,hexcode:"1F939-1F3FF",label:"person juggling: dark skin tone",order:2557,unicode:""}]},{group:1,hexcode:"1F939-200D-2642-FE0F",label:"man juggling",order:2558,tags:["juggling","man","multitask"],unicode:"",skins:[{group:1,hexcode:"1F939-1F3FB-200D-2642-FE0F",label:"man juggling: light skin tone",order:2560,unicode:""},{group:1,hexcode:"1F939-1F3FC-200D-2642-FE0F",label:"man juggling: medium-light skin tone",order:2562,unicode:""},{group:1,hexcode:"1F939-1F3FD-200D-2642-FE0F",label:"man juggling: medium skin tone",order:2564,unicode:""},{group:1,hexcode:"1F939-1F3FE-200D-2642-FE0F",label:"man juggling: medium-dark skin tone",order:2566,unicode:""},{group:1,hexcode:"1F939-1F3FF-200D-2642-FE0F",label:"man juggling: dark skin tone",order:2568,unicode:""}]},{group:1,hexcode:"1F939-200D-2640-FE0F",label:"woman juggling",order:2570,tags:["juggling","multitask","woman"],unicode:"",skins:[{group:1,hexcode:"1F939-1F3FB-200D-2640-FE0F",label:"woman juggling: light skin tone",order:2572,unicode:""},{group:1,hexcode:"1F939-1F3FC-200D-2640-FE0F",label:"woman juggling: medium-light skin tone",order:2574,unicode:""},{group:1,hexcode:"1F939-1F3FD-200D-2640-FE0F",label:"woman juggling: medium skin tone",order:2576,unicode:""},{group:1,hexcode:"1F939-1F3FE-200D-2640-FE0F",label:"woman juggling: medium-dark skin tone",order:2578,unicode:""},{group:1,hexcode:"1F939-1F3FF-200D-2640-FE0F",label:"woman juggling: dark skin tone",order:2580,unicode:""}]},{group:1,hexcode:"1F9D8",label:"person in lotus position",order:2582,tags:["meditation","yoga"],unicode:"",skins:[{group:1,hexcode:"1F9D8-1F3FB",label:"person in lotus position: light skin tone",order:2583,unicode:""},{group:1,hexcode:"1F9D8-1F3FC",label:"person in lotus position: medium-light skin tone",order:2584,unicode:""},{group:1,hexcode:"1F9D8-1F3FD",label:"person in lotus position: medium skin tone",order:2585,unicode:""},{group:1,hexcode:"1F9D8-1F3FE",label:"person in lotus position: medium-dark skin tone",order:2586,unicode:""},{group:1,hexcode:"1F9D8-1F3FF",label:"person in lotus position: dark skin tone",order:2587,unicode:""}]},{group:1,hexcode:"1F9D8-200D-2642-FE0F",label:"man in lotus position",order:2588,tags:["meditation","yoga"],unicode:"",skins:[{group:1,hexcode:"1F9D8-1F3FB-200D-2642-FE0F",label:"man in lotus position: light skin tone",order:2590,unicode:""},{group:1,hexcode:"1F9D8-1F3FC-200D-2642-FE0F",label:"man in lotus position: medium-light skin tone",order:2592,unicode:""},{group:1,hexcode:"1F9D8-1F3FD-200D-2642-FE0F",label:"man in lotus position: medium skin tone",order:2594,unicode:""},{group:1,hexcode:"1F9D8-1F3FE-200D-2642-FE0F",label:"man in lotus position: medium-dark skin tone",order:2596,unicode:""},{group:1,hexcode:"1F9D8-1F3FF-200D-2642-FE0F",label:"man in lotus position: dark skin tone",order:2598,unicode:""}]},{group:1,hexcode:"1F9D8-200D-2640-FE0F",label:"woman in lotus position",order:2600,tags:["meditation","yoga"],unicode:"",skins:[{group:1,hexcode:"1F9D8-1F3FB-200D-2640-FE0F",label:"woman in lotus position: light skin tone",order:2602,unicode:""},{group:1,hexcode:"1F9D8-1F3FC-200D-2640-FE0F",label:"woman in lotus position: medium-light skin tone",order:2604,unicode:""},{group:1,hexcode:"1F9D8-1F3FD-200D-2640-FE0F",label:"woman in lotus position: medium skin tone",order:2606,unicode:""},{group:1,hexcode:"1F9D8-1F3FE-200D-2640-FE0F",label:"woman in lotus position: medium-dark skin tone",order:2608,unicode:""},{group:1,hexcode:"1F9D8-1F3FF-200D-2640-FE0F",label:"woman in lotus position: dark skin tone",order:2610,unicode:""}]},{group:1,hexcode:"1F6C0",label:"person taking bath",order:2612,tags:["bath","bathtub"],unicode:"",skins:[{group:1,hexcode:"1F6C0-1F3FB",label:"person taking bath: light skin tone",order:2613,unicode:""},{group:1,hexcode:"1F6C0-1F3FC",label:"person taking bath: medium-light skin tone",order:2614,unicode:""},{group:1,hexcode:"1F6C0-1F3FD",label:"person taking bath: medium skin tone",order:2615,unicode:""},{group:1,hexcode:"1F6C0-1F3FE",label:"person taking bath: medium-dark skin tone",order:2616,unicode:""},{group:1,hexcode:"1F6C0-1F3FF",label:"person taking bath: dark skin tone",order:2617,unicode:""}]},{group:1,hexcode:"1F6CC",label:"person in bed",order:2618,tags:["good night","hotel","sleep"],unicode:"",skins:[{group:1,hexcode:"1F6CC-1F3FB",label:"person in bed: light skin tone",order:2619,unicode:""},{group:1,hexcode:"1F6CC-1F3FC",label:"person in bed: medium-light skin tone",order:2620,unicode:""},{group:1,hexcode:"1F6CC-1F3FD",label:"person in bed: medium skin tone",order:2621,unicode:""},{group:1,hexcode:"1F6CC-1F3FE",label:"person in bed: medium-dark skin tone",order:2622,unicode:""},{group:1,hexcode:"1F6CC-1F3FF",label:"person in bed: dark skin tone",order:2623,unicode:""}]},{group:1,hexcode:"1F9D1-200D-1F91D-200D-1F9D1",label:"people holding hands",order:2624,tags:["couple","hand","hold","holding hands","person"],unicode:"",skins:[{group:1,hexcode:"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FB",label:"people holding hands: light skin tone",order:2625,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FC",label:"people holding hands: light skin tone, medium-light skin tone",order:2626,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FD",label:"people holding hands: light skin tone, medium skin tone",order:2627,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FE",label:"people holding hands: light skin tone, medium-dark skin tone",order:2628,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FF",label:"people holding hands: light skin tone, dark skin tone",order:2629,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FB",label:"people holding hands: medium-light skin tone, light skin tone",order:2630,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FC",label:"people holding hands: medium-light skin tone",order:2631,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FD",label:"people holding hands: medium-light skin tone, medium skin tone",order:2632,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FE",label:"people holding hands: medium-light skin tone, medium-dark skin tone",order:2633,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FF",label:"people holding hands: medium-light skin tone, dark skin tone",order:2634,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FB",label:"people holding hands: medium skin tone, light skin tone",order:2635,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FC",label:"people holding hands: medium skin tone, medium-light skin tone",order:2636,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FD",label:"people holding hands: medium skin tone",order:2637,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FE",label:"people holding hands: medium skin tone, medium-dark skin tone",order:2638,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FF",label:"people holding hands: medium skin tone, dark skin tone",order:2639,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FB",label:"people holding hands: medium-dark skin tone, light skin tone",order:2640,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FC",label:"people holding hands: medium-dark skin tone, medium-light skin tone",order:2641,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FD",label:"people holding hands: medium-dark skin tone, medium skin tone",order:2642,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FE",label:"people holding hands: medium-dark skin tone",order:2643,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FF",label:"people holding hands: medium-dark skin tone, dark skin tone",order:2644,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FB",label:"people holding hands: dark skin tone, light skin tone",order:2645,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FC",label:"people holding hands: dark skin tone, medium-light skin tone",order:2646,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FD",label:"people holding hands: dark skin tone, medium skin tone",order:2647,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FE",label:"people holding hands: dark skin tone, medium-dark skin tone",order:2648,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FF",label:"people holding hands: dark skin tone",order:2649,unicode:""}]},{group:1,hexcode:"1F46D",label:"women holding hands",order:2650,tags:["couple","hand","holding hands","women"],unicode:"",skins:[{group:1,hexcode:"1F46D-1F3FB",label:"women holding hands: light skin tone",order:2651,unicode:""},{group:1,hexcode:"1F46D-1F3FC",label:"women holding hands: medium-light skin tone",order:2657,unicode:""},{group:1,hexcode:"1F46D-1F3FD",label:"women holding hands: medium skin tone",order:2663,unicode:""},{group:1,hexcode:"1F46D-1F3FE",label:"women holding hands: medium-dark skin tone",order:2669,unicode:""},{group:1,hexcode:"1F46D-1F3FF",label:"women holding hands: dark skin tone",order:2675,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FC",label:"women holding hands: light skin tone, medium-light skin tone",order:2652,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FD",label:"women holding hands: light skin tone, medium skin tone",order:2653,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FE",label:"women holding hands: light skin tone, medium-dark skin tone",order:2654,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FF",label:"women holding hands: light skin tone, dark skin tone",order:2655,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FB",label:"women holding hands: medium-light skin tone, light skin tone",order:2656,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FD",label:"women holding hands: medium-light skin tone, medium skin tone",order:2658,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FE",label:"women holding hands: medium-light skin tone, medium-dark skin tone",order:2659,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FF",label:"women holding hands: medium-light skin tone, dark skin tone",order:2660,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FB",label:"women holding hands: medium skin tone, light skin tone",order:2661,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FC",label:"women holding hands: medium skin tone, medium-light skin tone",order:2662,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FE",label:"women holding hands: medium skin tone, medium-dark skin tone",order:2664,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FF",label:"women holding hands: medium skin tone, dark skin tone",order:2665,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FB",label:"women holding hands: medium-dark skin tone, light skin tone",order:2666,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FC",label:"women holding hands: medium-dark skin tone, medium-light skin tone",order:2667,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FD",label:"women holding hands: medium-dark skin tone, medium skin tone",order:2668,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FF",label:"women holding hands: medium-dark skin tone, dark skin tone",order:2670,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FB",label:"women holding hands: dark skin tone, light skin tone",order:2671,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FC",label:"women holding hands: dark skin tone, medium-light skin tone",order:2672,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FD",label:"women holding hands: dark skin tone, medium skin tone",order:2673,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FE",label:"women holding hands: dark skin tone, medium-dark skin tone",order:2674,unicode:""}]},{group:1,hexcode:"1F46B",label:"woman and man holding hands",order:2676,tags:["couple","hand","hold","holding hands","man","woman"],unicode:"",skins:[{group:1,hexcode:"1F46B-1F3FB",label:"woman and man holding hands: light skin tone",order:2677,unicode:""},{group:1,hexcode:"1F46B-1F3FC",label:"woman and man holding hands: medium-light skin tone",order:2683,unicode:""},{group:1,hexcode:"1F46B-1F3FD",label:"woman and man holding hands: medium skin tone",order:2689,unicode:""},{group:1,hexcode:"1F46B-1F3FE",label:"woman and man holding hands: medium-dark skin tone",order:2695,unicode:""},{group:1,hexcode:"1F46B-1F3FF",label:"woman and man holding hands: dark skin tone",order:2701,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FC",label:"woman and man holding hands: light skin tone, medium-light skin tone",order:2678,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FD",label:"woman and man holding hands: light skin tone, medium skin tone",order:2679,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FE",label:"woman and man holding hands: light skin tone, medium-dark skin tone",order:2680,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FF",label:"woman and man holding hands: light skin tone, dark skin tone",order:2681,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FB",label:"woman and man holding hands: medium-light skin tone, light skin tone",order:2682,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FD",label:"woman and man holding hands: medium-light skin tone, medium skin tone",order:2684,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FE",label:"woman and man holding hands: medium-light skin tone, medium-dark skin tone",order:2685,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FF",label:"woman and man holding hands: medium-light skin tone, dark skin tone",order:2686,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FB",label:"woman and man holding hands: medium skin tone, light skin tone",order:2687,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FC",label:"woman and man holding hands: medium skin tone, medium-light skin tone",order:2688,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FE",label:"woman and man holding hands: medium skin tone, medium-dark skin tone",order:2690,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FF",label:"woman and man holding hands: medium skin tone, dark skin tone",order:2691,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FB",label:"woman and man holding hands: medium-dark skin tone, light skin tone",order:2692,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FC",label:"woman and man holding hands: medium-dark skin tone, medium-light skin tone",order:2693,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FD",label:"woman and man holding hands: medium-dark skin tone, medium skin tone",order:2694,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FF",label:"woman and man holding hands: medium-dark skin tone, dark skin tone",order:2696,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FB",label:"woman and man holding hands: dark skin tone, light skin tone",order:2697,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FC",label:"woman and man holding hands: dark skin tone, medium-light skin tone",order:2698,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FD",label:"woman and man holding hands: dark skin tone, medium skin tone",order:2699,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FE",label:"woman and man holding hands: dark skin tone, medium-dark skin tone",order:2700,unicode:""}]},{group:1,hexcode:"1F46C",label:"men holding hands",order:2702,tags:["couple","gemini","holding hands","man","men","twins","zodiac"],unicode:"",skins:[{group:1,hexcode:"1F46C-1F3FB",label:"men holding hands: light skin tone",order:2703,unicode:""},{group:1,hexcode:"1F46C-1F3FC",label:"men holding hands: medium-light skin tone",order:2709,unicode:""},{group:1,hexcode:"1F46C-1F3FD",label:"men holding hands: medium skin tone",order:2715,unicode:""},{group:1,hexcode:"1F46C-1F3FE",label:"men holding hands: medium-dark skin tone",order:2721,unicode:""},{group:1,hexcode:"1F46C-1F3FF",label:"men holding hands: dark skin tone",order:2727,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FC",label:"men holding hands: light skin tone, medium-light skin tone",order:2704,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FD",label:"men holding hands: light skin tone, medium skin tone",order:2705,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FE",label:"men holding hands: light skin tone, medium-dark skin tone",order:2706,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FF",label:"men holding hands: light skin tone, dark skin tone",order:2707,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FB",label:"men holding hands: medium-light skin tone, light skin tone",order:2708,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FD",label:"men holding hands: medium-light skin tone, medium skin tone",order:2710,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FE",label:"men holding hands: medium-light skin tone, medium-dark skin tone",order:2711,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FF",label:"men holding hands: medium-light skin tone, dark skin tone",order:2712,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FB",label:"men holding hands: medium skin tone, light skin tone",order:2713,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FC",label:"men holding hands: medium skin tone, medium-light skin tone",order:2714,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FE",label:"men holding hands: medium skin tone, medium-dark skin tone",order:2716,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FF",label:"men holding hands: medium skin tone, dark skin tone",order:2717,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FB",label:"men holding hands: medium-dark skin tone, light skin tone",order:2718,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FC",label:"men holding hands: medium-dark skin tone, medium-light skin tone",order:2719,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FD",label:"men holding hands: medium-dark skin tone, medium skin tone",order:2720,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FF",label:"men holding hands: medium-dark skin tone, dark skin tone",order:2722,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FB",label:"men holding hands: dark skin tone, light skin tone",order:2723,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FC",label:"men holding hands: dark skin tone, medium-light skin tone",order:2724,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FD",label:"men holding hands: dark skin tone, medium skin tone",order:2725,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FE",label:"men holding hands: dark skin tone, medium-dark skin tone",order:2726,unicode:""}]},{group:1,hexcode:"1F48F",label:"kiss",order:2728,tags:["couple"],unicode:"",skins:[{group:1,hexcode:"1F48F-1F3FB",label:"kiss: light skin tone",order:2729,unicode:""},{group:1,hexcode:"1F48F-1F3FC",label:"kiss: medium-light skin tone",order:2730,unicode:""},{group:1,hexcode:"1F48F-1F3FD",label:"kiss: medium skin tone",order:2731,unicode:""},{group:1,hexcode:"1F48F-1F3FE",label:"kiss: medium-dark skin tone",order:2732,unicode:""},{group:1,hexcode:"1F48F-1F3FF",label:"kiss: dark skin tone",order:2733,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC",label:"kiss: person, person, light skin tone, medium-light skin tone",order:2734,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD",label:"kiss: person, person, light skin tone, medium skin tone",order:2736,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE",label:"kiss: person, person, light skin tone, medium-dark skin tone",order:2738,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF",label:"kiss: person, person, light skin tone, dark skin tone",order:2740,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB",label:"kiss: person, person, medium-light skin tone, light skin tone",order:2742,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD",label:"kiss: person, person, medium-light skin tone, medium skin tone",order:2744,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE",label:"kiss: person, person, medium-light skin tone, medium-dark skin tone",order:2746,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF",label:"kiss: person, person, medium-light skin tone, dark skin tone",order:2748,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB",label:"kiss: person, person, medium skin tone, light skin tone",order:2750,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC",label:"kiss: person, person, medium skin tone, medium-light skin tone",order:2752,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE",label:"kiss: person, person, medium skin tone, medium-dark skin tone",order:2754,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF",label:"kiss: person, person, medium skin tone, dark skin tone",order:2756,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB",label:"kiss: person, person, medium-dark skin tone, light skin tone",order:2758,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC",label:"kiss: person, person, medium-dark skin tone, medium-light skin tone",order:2760,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD",label:"kiss: person, person, medium-dark skin tone, medium skin tone",order:2762,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF",label:"kiss: person, person, medium-dark skin tone, dark skin tone",order:2764,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB",label:"kiss: person, person, dark skin tone, light skin tone",order:2766,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC",label:"kiss: person, person, dark skin tone, medium-light skin tone",order:2768,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD",label:"kiss: person, person, dark skin tone, medium skin tone",order:2770,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE",label:"kiss: person, person, dark skin tone, medium-dark skin tone",order:2772,unicode:""}]},{group:1,hexcode:"1F469-200D-2764-FE0F-200D-1F48B-200D-1F468",label:"kiss: woman, man",order:2774,tags:["couple","kiss","man","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: woman, man, light skin tone",order:2776,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: woman, man, light skin tone, medium-light skin tone",order:2778,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: woman, man, light skin tone, medium skin tone",order:2780,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: woman, man, light skin tone, medium-dark skin tone",order:2782,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: woman, man, light skin tone, dark skin tone",order:2784,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: woman, man, medium-light skin tone, light skin tone",order:2786,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: woman, man, medium-light skin tone",order:2788,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: woman, man, medium-light skin tone, medium skin tone",order:2790,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: woman, man, medium-light skin tone, medium-dark skin tone",order:2792,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: woman, man, medium-light skin tone, dark skin tone",order:2794,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: woman, man, medium skin tone, light skin tone",order:2796,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: woman, man, medium skin tone, medium-light skin tone",order:2798,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: woman, man, medium skin tone",order:2800,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: woman, man, medium skin tone, medium-dark skin tone",order:2802,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: woman, man, medium skin tone, dark skin tone",order:2804,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: woman, man, medium-dark skin tone, light skin tone",order:2806,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: woman, man, medium-dark skin tone, medium-light skin tone",order:2808,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: woman, man, medium-dark skin tone, medium skin tone",order:2810,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: woman, man, medium-dark skin tone",order:2812,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: woman, man, medium-dark skin tone, dark skin tone",order:2814,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: woman, man, dark skin tone, light skin tone",order:2816,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: woman, man, dark skin tone, medium-light skin tone",order:2818,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: woman, man, dark skin tone, medium skin tone",order:2820,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: woman, man, dark skin tone, medium-dark skin tone",order:2822,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: woman, man, dark skin tone",order:2824,unicode:""}]},{group:1,hexcode:"1F468-200D-2764-FE0F-200D-1F48B-200D-1F468",label:"kiss: man, man",order:2826,tags:["couple","kiss","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: man, man, light skin tone",order:2828,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: man, man, light skin tone, medium-light skin tone",order:2830,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: man, man, light skin tone, medium skin tone",order:2832,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: man, man, light skin tone, medium-dark skin tone",order:2834,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: man, man, light skin tone, dark skin tone",order:2836,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: man, man, medium-light skin tone, light skin tone",order:2838,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: man, man, medium-light skin tone",order:2840,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: man, man, medium-light skin tone, medium skin tone",order:2842,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: man, man, medium-light skin tone, medium-dark skin tone",order:2844,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: man, man, medium-light skin tone, dark skin tone",order:2846,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: man, man, medium skin tone, light skin tone",order:2848,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: man, man, medium skin tone, medium-light skin tone",order:2850,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: man, man, medium skin tone",order:2852,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: man, man, medium skin tone, medium-dark skin tone",order:2854,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: man, man, medium skin tone, dark skin tone",order:2856,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: man, man, medium-dark skin tone, light skin tone",order:2858,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: man, man, medium-dark skin tone, medium-light skin tone",order:2860,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: man, man, medium-dark skin tone, medium skin tone",order:2862,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: man, man, medium-dark skin tone",order:2864,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: man, man, medium-dark skin tone, dark skin tone",order:2866,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB",label:"kiss: man, man, dark skin tone, light skin tone",order:2868,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC",label:"kiss: man, man, dark skin tone, medium-light skin tone",order:2870,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD",label:"kiss: man, man, dark skin tone, medium skin tone",order:2872,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE",label:"kiss: man, man, dark skin tone, medium-dark skin tone",order:2874,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF",label:"kiss: man, man, dark skin tone",order:2876,unicode:""}]},{group:1,hexcode:"1F469-200D-2764-FE0F-200D-1F48B-200D-1F469",label:"kiss: woman, woman",order:2878,tags:["couple","kiss","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB",label:"kiss: woman, woman, light skin tone",order:2880,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC",label:"kiss: woman, woman, light skin tone, medium-light skin tone",order:2882,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD",label:"kiss: woman, woman, light skin tone, medium skin tone",order:2884,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE",label:"kiss: woman, woman, light skin tone, medium-dark skin tone",order:2886,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF",label:"kiss: woman, woman, light skin tone, dark skin tone",order:2888,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB",label:"kiss: woman, woman, medium-light skin tone, light skin tone",order:2890,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC",label:"kiss: woman, woman, medium-light skin tone",order:2892,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD",label:"kiss: woman, woman, medium-light skin tone, medium skin tone",order:2894,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE",label:"kiss: woman, woman, medium-light skin tone, medium-dark skin tone",order:2896,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF",label:"kiss: woman, woman, medium-light skin tone, dark skin tone",order:2898,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB",label:"kiss: woman, woman, medium skin tone, light skin tone",order:2900,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC",label:"kiss: woman, woman, medium skin tone, medium-light skin tone",order:2902,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD",label:"kiss: woman, woman, medium skin tone",order:2904,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE",label:"kiss: woman, woman, medium skin tone, medium-dark skin tone",order:2906,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF",label:"kiss: woman, woman, medium skin tone, dark skin tone",order:2908,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB",label:"kiss: woman, woman, medium-dark skin tone, light skin tone",order:2910,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC",label:"kiss: woman, woman, medium-dark skin tone, medium-light skin tone",order:2912,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD",label:"kiss: woman, woman, medium-dark skin tone, medium skin tone",order:2914,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE",label:"kiss: woman, woman, medium-dark skin tone",order:2916,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF",label:"kiss: woman, woman, medium-dark skin tone, dark skin tone",order:2918,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB",label:"kiss: woman, woman, dark skin tone, light skin tone",order:2920,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC",label:"kiss: woman, woman, dark skin tone, medium-light skin tone",order:2922,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD",label:"kiss: woman, woman, dark skin tone, medium skin tone",order:2924,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE",label:"kiss: woman, woman, dark skin tone, medium-dark skin tone",order:2926,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF",label:"kiss: woman, woman, dark skin tone",order:2928,unicode:""}]},{group:1,hexcode:"1F491",label:"couple with heart",order:2930,tags:["couple","love"],unicode:"",skins:[{group:1,hexcode:"1F491-1F3FB",label:"couple with heart: light skin tone",order:2931,unicode:""},{group:1,hexcode:"1F491-1F3FC",label:"couple with heart: medium-light skin tone",order:2932,unicode:""},{group:1,hexcode:"1F491-1F3FD",label:"couple with heart: medium skin tone",order:2933,unicode:""},{group:1,hexcode:"1F491-1F3FE",label:"couple with heart: medium-dark skin tone",order:2934,unicode:""},{group:1,hexcode:"1F491-1F3FF",label:"couple with heart: dark skin tone",order:2935,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FC",label:"couple with heart: person, person, light skin tone, medium-light skin tone",order:2936,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FD",label:"couple with heart: person, person, light skin tone, medium skin tone",order:2938,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FE",label:"couple with heart: person, person, light skin tone, medium-dark skin tone",order:2940,unicode:""},{group:1,hexcode:"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FF",label:"couple with heart: person, person, light skin tone, dark skin tone",order:2942,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FB",label:"couple with heart: person, person, medium-light skin tone, light skin tone",order:2944,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FD",label:"couple with heart: person, person, medium-light skin tone, medium skin tone",order:2946,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FE",label:"couple with heart: person, person, medium-light skin tone, medium-dark skin tone",order:2948,unicode:""},{group:1,hexcode:"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FF",label:"couple with heart: person, person, medium-light skin tone, dark skin tone",order:2950,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FB",label:"couple with heart: person, person, medium skin tone, light skin tone",order:2952,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FC",label:"couple with heart: person, person, medium skin tone, medium-light skin tone",order:2954,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FE",label:"couple with heart: person, person, medium skin tone, medium-dark skin tone",order:2956,unicode:""},{group:1,hexcode:"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FF",label:"couple with heart: person, person, medium skin tone, dark skin tone",order:2958,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FB",label:"couple with heart: person, person, medium-dark skin tone, light skin tone",order:2960,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FC",label:"couple with heart: person, person, medium-dark skin tone, medium-light skin tone",order:2962,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FD",label:"couple with heart: person, person, medium-dark skin tone, medium skin tone",order:2964,unicode:""},{group:1,hexcode:"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FF",label:"couple with heart: person, person, medium-dark skin tone, dark skin tone",order:2966,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FB",label:"couple with heart: person, person, dark skin tone, light skin tone",order:2968,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FC",label:"couple with heart: person, person, dark skin tone, medium-light skin tone",order:2970,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FD",label:"couple with heart: person, person, dark skin tone, medium skin tone",order:2972,unicode:""},{group:1,hexcode:"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FE",label:"couple with heart: person, person, dark skin tone, medium-dark skin tone",order:2974,unicode:""}]},{group:1,hexcode:"1F469-200D-2764-FE0F-200D-1F468",label:"couple with heart: woman, man",order:2976,tags:["couple","couple with heart","love","man","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: woman, man, light skin tone",order:2978,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: woman, man, light skin tone, medium-light skin tone",order:2980,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: woman, man, light skin tone, medium skin tone",order:2982,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: woman, man, light skin tone, medium-dark skin tone",order:2984,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: woman, man, light skin tone, dark skin tone",order:2986,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: woman, man, medium-light skin tone, light skin tone",order:2988,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: woman, man, medium-light skin tone",order:2990,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: woman, man, medium-light skin tone, medium skin tone",order:2992,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: woman, man, medium-light skin tone, medium-dark skin tone",order:2994,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: woman, man, medium-light skin tone, dark skin tone",order:2996,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: woman, man, medium skin tone, light skin tone",order:2998,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: woman, man, medium skin tone, medium-light skin tone",order:3e3,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: woman, man, medium skin tone",order:3002,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: woman, man, medium skin tone, medium-dark skin tone",order:3004,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: woman, man, medium skin tone, dark skin tone",order:3006,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: woman, man, medium-dark skin tone, light skin tone",order:3008,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: woman, man, medium-dark skin tone, medium-light skin tone",order:3010,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: woman, man, medium-dark skin tone, medium skin tone",order:3012,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: woman, man, medium-dark skin tone",order:3014,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: woman, man, medium-dark skin tone, dark skin tone",order:3016,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: woman, man, dark skin tone, light skin tone",order:3018,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: woman, man, dark skin tone, medium-light skin tone",order:3020,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: woman, man, dark skin tone, medium skin tone",order:3022,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: woman, man, dark skin tone, medium-dark skin tone",order:3024,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: woman, man, dark skin tone",order:3026,unicode:""}]},{group:1,hexcode:"1F468-200D-2764-FE0F-200D-1F468",label:"couple with heart: man, man",order:3028,tags:["couple","couple with heart","love","man"],unicode:"",skins:[{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: man, man, light skin tone",order:3030,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: man, man, light skin tone, medium-light skin tone",order:3032,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: man, man, light skin tone, medium skin tone",order:3034,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: man, man, light skin tone, medium-dark skin tone",order:3036,unicode:""},{group:1,hexcode:"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: man, man, light skin tone, dark skin tone",order:3038,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: man, man, medium-light skin tone, light skin tone",order:3040,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: man, man, medium-light skin tone",order:3042,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: man, man, medium-light skin tone, medium skin tone",order:3044,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: man, man, medium-light skin tone, medium-dark skin tone",order:3046,unicode:""},{group:1,hexcode:"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: man, man, medium-light skin tone, dark skin tone",order:3048,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: man, man, medium skin tone, light skin tone",order:3050,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: man, man, medium skin tone, medium-light skin tone",order:3052,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: man, man, medium skin tone",order:3054,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: man, man, medium skin tone, medium-dark skin tone",order:3056,unicode:""},{group:1,hexcode:"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: man, man, medium skin tone, dark skin tone",order:3058,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: man, man, medium-dark skin tone, light skin tone",order:3060,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: man, man, medium-dark skin tone, medium-light skin tone",order:3062,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: man, man, medium-dark skin tone, medium skin tone",order:3064,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: man, man, medium-dark skin tone",order:3066,unicode:""},{group:1,hexcode:"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: man, man, medium-dark skin tone, dark skin tone",order:3068,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB",label:"couple with heart: man, man, dark skin tone, light skin tone",order:3070,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC",label:"couple with heart: man, man, dark skin tone, medium-light skin tone",order:3072,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD",label:"couple with heart: man, man, dark skin tone, medium skin tone",order:3074,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE",label:"couple with heart: man, man, dark skin tone, medium-dark skin tone",order:3076,unicode:""},{group:1,hexcode:"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF",label:"couple with heart: man, man, dark skin tone",order:3078,unicode:""}]},{group:1,hexcode:"1F469-200D-2764-FE0F-200D-1F469",label:"couple with heart: woman, woman",order:3080,tags:["couple","couple with heart","love","woman"],unicode:"",skins:[{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FB",label:"couple with heart: woman, woman, light skin tone",order:3082,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FC",label:"couple with heart: woman, woman, light skin tone, medium-light skin tone",order:3084,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FD",label:"couple with heart: woman, woman, light skin tone, medium skin tone",order:3086,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FE",label:"couple with heart: woman, woman, light skin tone, medium-dark skin tone",order:3088,unicode:""},{group:1,hexcode:"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FF",label:"couple with heart: woman, woman, light skin tone, dark skin tone",order:3090,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FB",label:"couple with heart: woman, woman, medium-light skin tone, light skin tone",order:3092,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FC",label:"couple with heart: woman, woman, medium-light skin tone",order:3094,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FD",label:"couple with heart: woman, woman, medium-light skin tone, medium skin tone",order:3096,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FE",label:"couple with heart: woman, woman, medium-light skin tone, medium-dark skin tone",order:3098,unicode:""},{group:1,hexcode:"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FF",label:"couple with heart: woman, woman, medium-light skin tone, dark skin tone",order:3100,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FB",label:"couple with heart: woman, woman, medium skin tone, light skin tone",order:3102,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FC",label:"couple with heart: woman, woman, medium skin tone, medium-light skin tone",order:3104,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FD",label:"couple with heart: woman, woman, medium skin tone",order:3106,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FE",label:"couple with heart: woman, woman, medium skin tone, medium-dark skin tone",order:3108,unicode:""},{group:1,hexcode:"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FF",label:"couple with heart: woman, woman, medium skin tone, dark skin tone",order:3110,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FB",label:"couple with heart: woman, woman, medium-dark skin tone, light skin tone",order:3112,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FC",label:"couple with heart: woman, woman, medium-dark skin tone, medium-light skin tone",order:3114,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FD",label:"couple with heart: woman, woman, medium-dark skin tone, medium skin tone",order:3116,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FE",label:"couple with heart: woman, woman, medium-dark skin tone",order:3118,unicode:""},{group:1,hexcode:"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FF",label:"couple with heart: woman, woman, medium-dark skin tone, dark skin tone",order:3120,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FB",label:"couple with heart: woman, woman, dark skin tone, light skin tone",order:3122,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FC",label:"couple with heart: woman, woman, dark skin tone, medium-light skin tone",order:3124,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FD",label:"couple with heart: woman, woman, dark skin tone, medium skin tone",order:3126,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FE",label:"couple with heart: woman, woman, dark skin tone, medium-dark skin tone",order:3128,unicode:""},{group:1,hexcode:"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FF",label:"couple with heart: woman, woman, dark skin tone",order:3130,unicode:""}]},{group:1,hexcode:"1F46A",label:"family",order:3132,tags:["family"],unicode:""},{group:1,hexcode:"1F468-200D-1F469-200D-1F466",label:"family: man, woman, boy",order:3133,tags:["boy","family","man","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F469-200D-1F467",label:"family: man, woman, girl",order:3134,tags:["family","girl","man","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F469-200D-1F467-200D-1F466",label:"family: man, woman, girl, boy",order:3135,tags:["boy","family","girl","man","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F469-200D-1F466-200D-1F466",label:"family: man, woman, boy, boy",order:3136,tags:["boy","family","man","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F469-200D-1F467-200D-1F467",label:"family: man, woman, girl, girl",order:3137,tags:["family","girl","man","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F468-200D-1F466",label:"family: man, man, boy",order:3138,tags:["boy","family","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F468-200D-1F467",label:"family: man, man, girl",order:3139,tags:["family","girl","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F468-200D-1F467-200D-1F466",label:"family: man, man, girl, boy",order:3140,tags:["boy","family","girl","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F468-200D-1F466-200D-1F466",label:"family: man, man, boy, boy",order:3141,tags:["boy","family","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F468-200D-1F467-200D-1F467",label:"family: man, man, girl, girl",order:3142,tags:["family","girl","man"],unicode:""},{group:1,hexcode:"1F469-200D-1F469-200D-1F466",label:"family: woman, woman, boy",order:3143,tags:["boy","family","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F469-200D-1F467",label:"family: woman, woman, girl",order:3144,tags:["family","girl","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F469-200D-1F467-200D-1F466",label:"family: woman, woman, girl, boy",order:3145,tags:["boy","family","girl","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F469-200D-1F466-200D-1F466",label:"family: woman, woman, boy, boy",order:3146,tags:["boy","family","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F469-200D-1F467-200D-1F467",label:"family: woman, woman, girl, girl",order:3147,tags:["family","girl","woman"],unicode:""},{group:1,hexcode:"1F468-200D-1F466",label:"family: man, boy",order:3148,tags:["boy","family","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F466-200D-1F466",label:"family: man, boy, boy",order:3149,tags:["boy","family","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F467",label:"family: man, girl",order:3150,tags:["family","girl","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F467-200D-1F466",label:"family: man, girl, boy",order:3151,tags:["boy","family","girl","man"],unicode:""},{group:1,hexcode:"1F468-200D-1F467-200D-1F467",label:"family: man, girl, girl",order:3152,tags:["family","girl","man"],unicode:""},{group:1,hexcode:"1F469-200D-1F466",label:"family: woman, boy",order:3153,tags:["boy","family","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F466-200D-1F466",label:"family: woman, boy, boy",order:3154,tags:["boy","family","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F467",label:"family: woman, girl",order:3155,tags:["family","girl","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F467-200D-1F466",label:"family: woman, girl, boy",order:3156,tags:["boy","family","girl","woman"],unicode:""},{group:1,hexcode:"1F469-200D-1F467-200D-1F467",label:"family: woman, girl, girl",order:3157,tags:["family","girl","woman"],unicode:""},{group:1,hexcode:"1F5E3",label:"speaking head",order:3159,tags:["face","head","silhouette","speak","speaking"],unicode:""},{group:1,hexcode:"1F464",label:"bust in silhouette",order:3160,tags:["bust","silhouette"],unicode:""},{group:1,hexcode:"1F465",label:"busts in silhouette",order:3161,tags:["bust","silhouette"],unicode:""},{group:1,hexcode:"1FAC2",label:"people hugging",order:3162,tags:["goodbye","hello","hug","thanks"],unicode:""},{group:1,hexcode:"1F463",label:"footprints",order:3163,tags:["clothing","footprint","print"],unicode:""},{group:2,hexcode:"1F3FB",label:"light skin tone",order:3164,tags:["skin tone","type 12"],unicode:""},{group:2,hexcode:"1F3FC",label:"medium-light skin tone",order:3165,tags:["skin tone","type 3"],unicode:""},{group:2,hexcode:"1F3FD",label:"medium skin tone",order:3166,tags:["skin tone","type 4"],unicode:""},{group:2,hexcode:"1F3FE",label:"medium-dark skin tone",order:3167,tags:["skin tone","type 5"],unicode:""},{group:2,hexcode:"1F3FF",label:"dark skin tone",order:3168,tags:["skin tone","type 6"],unicode:""},{group:2,hexcode:"1F9B0",label:"red hair",order:3169,tags:["ginger","redhead"],unicode:""},{group:2,hexcode:"1F9B1",label:"curly hair",order:3170,tags:["afro","curly","ringlets"],unicode:""},{group:2,hexcode:"1F9B3",label:"white hair",order:3171,tags:["gray","hair","old","white"],unicode:""},{group:2,hexcode:"1F9B2",label:"bald",order:3172,tags:["chemotherapy","hairless","no hair","shaven"],unicode:""},{group:3,hexcode:"1F435",label:"monkey face",order:3173,tags:["face","monkey"],unicode:""},{group:3,hexcode:"1F412",label:"monkey",order:3174,tags:["monkey"],unicode:""},{group:3,hexcode:"1F98D",label:"gorilla",order:3175,tags:["gorilla"],unicode:""},{group:3,hexcode:"1F9A7",label:"orangutan",order:3176,tags:["ape"],unicode:""},{group:3,hexcode:"1F436",label:"dog face",order:3177,tags:["dog","face","pet"],unicode:""},{group:3,hexcode:"1F415",label:"dog",order:3178,tags:["pet"],unicode:""},{group:3,hexcode:"1F9AE",label:"guide dog",order:3179,tags:["accessibility","blind","guide"],unicode:""},{group:3,hexcode:"1F415-200D-1F9BA",label:"service dog",order:3180,tags:["accessibility","assistance","dog","service"],unicode:""},{group:3,hexcode:"1F429",label:"poodle",order:3181,tags:["dog"],unicode:""},{group:3,hexcode:"1F43A",label:"wolf",order:3182,tags:["face"],unicode:""},{group:3,hexcode:"1F98A",label:"fox",order:3183,tags:["face"],unicode:""},{group:3,hexcode:"1F99D",label:"raccoon",order:3184,tags:["curious","sly"],unicode:""},{group:3,hexcode:"1F431",label:"cat face",order:3185,tags:["cat","face","pet"],unicode:""},{group:3,hexcode:"1F408",label:"cat",order:3186,tags:["pet"],unicode:""},{group:3,hexcode:"1F408-200D-2B1B",label:"black cat",order:3187,tags:["black","cat","unlucky"],unicode:""},{group:3,hexcode:"1F981",label:"lion",order:3188,tags:["face","leo","zodiac"],unicode:""},{group:3,hexcode:"1F42F",label:"tiger face",order:3189,tags:["face","tiger"],unicode:""},{group:3,hexcode:"1F405",label:"tiger",order:3190,tags:["tiger"],unicode:""},{group:3,hexcode:"1F406",label:"leopard",order:3191,tags:["leopard"],unicode:""},{group:3,hexcode:"1F434",label:"horse face",order:3192,tags:["face","horse"],unicode:""},{group:3,hexcode:"1F40E",label:"horse",order:3193,tags:["equestrian","racehorse","racing"],unicode:""},{group:3,hexcode:"1F984",label:"unicorn",order:3194,tags:["face"],unicode:""},{group:3,hexcode:"1F993",label:"zebra",order:3195,tags:["stripe"],unicode:""},{group:3,hexcode:"1F98C",label:"deer",order:3196,tags:["deer"],unicode:""},{group:3,hexcode:"1F9AC",label:"bison",order:3197,tags:["buffalo","herd","wisent"],unicode:""},{group:3,hexcode:"1F42E",label:"cow face",order:3198,tags:["cow","face"],unicode:""},{group:3,hexcode:"1F402",label:"ox",order:3199,tags:["bull","taurus","zodiac"],unicode:""},{group:3,hexcode:"1F403",label:"water buffalo",order:3200,tags:["buffalo","water"],unicode:""},{group:3,hexcode:"1F404",label:"cow",order:3201,tags:["cow"],unicode:""},{group:3,hexcode:"1F437",label:"pig face",order:3202,tags:["face","pig"],unicode:""},{group:3,hexcode:"1F416",label:"pig",order:3203,tags:["sow"],unicode:""},{group:3,hexcode:"1F417",label:"boar",order:3204,tags:["pig"],unicode:""},{group:3,hexcode:"1F43D",label:"pig nose",order:3205,tags:["face","nose","pig"],unicode:""},{group:3,hexcode:"1F40F",label:"ram",order:3206,tags:["aries","male","sheep","zodiac"],unicode:""},{group:3,hexcode:"1F411",label:"ewe",order:3207,tags:["female","sheep"],unicode:""},{group:3,hexcode:"1F410",label:"goat",order:3208,tags:["capricorn","zodiac"],unicode:""},{group:3,hexcode:"1F42A",label:"camel",order:3209,tags:["dromedary","hump"],unicode:""},{group:3,hexcode:"1F42B",label:"two-hump camel",order:3210,tags:["bactrian","camel","hump"],unicode:""},{group:3,hexcode:"1F999",label:"llama",order:3211,tags:["alpaca","guanaco","vicua","wool"],unicode:""},{group:3,hexcode:"1F992",label:"giraffe",order:3212,tags:["spots"],unicode:""},{group:3,hexcode:"1F418",label:"elephant",order:3213,tags:["elephant"],unicode:""},{group:3,hexcode:"1F9A3",label:"mammoth",order:3214,tags:["extinction","large","tusk","woolly"],unicode:""},{group:3,hexcode:"1F98F",label:"rhinoceros",order:3215,tags:["rhinoceros"],unicode:""},{group:3,hexcode:"1F99B",label:"hippopotamus",order:3216,tags:["hippo"],unicode:""},{group:3,hexcode:"1F42D",label:"mouse face",order:3217,tags:["face","mouse"],unicode:""},{group:3,hexcode:"1F401",label:"mouse",order:3218,tags:["mouse"],unicode:""},{group:3,hexcode:"1F400",label:"rat",order:3219,tags:["rat"],unicode:""},{group:3,hexcode:"1F439",label:"hamster",order:3220,tags:["face","pet"],unicode:""},{group:3,hexcode:"1F430",label:"rabbit face",order:3221,tags:["bunny","face","pet","rabbit"],unicode:""},{group:3,hexcode:"1F407",label:"rabbit",order:3222,tags:["bunny","pet"],unicode:""},{group:3,hexcode:"1F43F",label:"chipmunk",order:3224,tags:["squirrel"],unicode:""},{group:3,hexcode:"1F9AB",label:"beaver",order:3225,tags:["dam"],unicode:""},{group:3,hexcode:"1F994",label:"hedgehog",order:3226,tags:["spiny"],unicode:""},{group:3,hexcode:"1F987",label:"bat",order:3227,tags:["vampire"],unicode:""},{group:3,hexcode:"1F43B",label:"bear",order:3228,tags:["face"],unicode:""},{group:3,hexcode:"1F43B-200D-2744-FE0F",label:"polar bear",order:3229,tags:["arctic","bear","white"],unicode:""},{group:3,hexcode:"1F428",label:"koala",order:3231,tags:["face","marsupial"],unicode:""},{group:3,hexcode:"1F43C",label:"panda",order:3232,tags:["face"],unicode:""},{group:3,hexcode:"1F9A5",label:"sloth",order:3233,tags:["lazy","slow"],unicode:""},{group:3,hexcode:"1F9A6",label:"otter",order:3234,tags:["fishing","playful"],unicode:""},{group:3,hexcode:"1F9A8",label:"skunk",order:3235,tags:["stink"],unicode:""},{group:3,hexcode:"1F998",label:"kangaroo",order:3236,tags:["australia","joey","jump","marsupial"],unicode:""},{group:3,hexcode:"1F9A1",label:"badger",order:3237,tags:["honey badger","pester"],unicode:""},{group:3,hexcode:"1F43E",label:"paw prints",order:3238,tags:["feet","paw","print"],unicode:""},{group:3,hexcode:"1F983",label:"turkey",order:3239,tags:["bird"],unicode:""},{group:3,hexcode:"1F414",label:"chicken",order:3240,tags:["bird"],unicode:""},{group:3,hexcode:"1F413",label:"rooster",order:3241,tags:["bird"],unicode:""},{group:3,hexcode:"1F423",label:"hatching chick",order:3242,tags:["baby","bird","chick","hatching"],unicode:""},{group:3,hexcode:"1F424",label:"baby chick",order:3243,tags:["baby","bird","chick"],unicode:""},{group:3,hexcode:"1F425",label:"front-facing baby chick",order:3244,tags:["baby","bird","chick"],unicode:""},{group:3,hexcode:"1F426",label:"bird",order:3245,tags:["bird"],unicode:""},{group:3,hexcode:"1F427",label:"penguin",order:3246,tags:["bird"],unicode:""},{group:3,hexcode:"1F54A",label:"dove",order:3248,tags:["bird","fly","peace"],unicode:""},{group:3,hexcode:"1F985",label:"eagle",order:3249,tags:["bird"],unicode:""},{group:3,hexcode:"1F986",label:"duck",order:3250,tags:["bird"],unicode:""},{group:3,hexcode:"1F9A2",label:"swan",order:3251,tags:["bird","cygnet","ugly duckling"],unicode:""},{group:3,hexcode:"1F989",label:"owl",order:3252,tags:["bird","wise"],unicode:""},{group:3,hexcode:"1F9A4",label:"dodo",order:3253,tags:["extinction","large","mauritius"],unicode:""},{group:3,hexcode:"1FAB6",label:"feather",order:3254,tags:["bird","flight","light","plumage"],unicode:""},{group:3,hexcode:"1F9A9",label:"flamingo",order:3255,tags:["flamboyant","tropical"],unicode:""},{group:3,hexcode:"1F99A",label:"peacock",order:3256,tags:["bird","ostentatious","peahen","proud"],unicode:""},{group:3,hexcode:"1F99C",label:"parrot",order:3257,tags:["bird","pirate","talk"],unicode:""},{group:3,hexcode:"1F438",label:"frog",order:3258,tags:["face"],unicode:""},{group:3,hexcode:"1F40A",label:"crocodile",order:3259,tags:["crocodile"],unicode:""},{group:3,hexcode:"1F422",label:"turtle",order:3260,tags:["terrapin","tortoise"],unicode:""},{group:3,hexcode:"1F98E",label:"lizard",order:3261,tags:["reptile"],unicode:""},{group:3,hexcode:"1F40D",label:"snake",order:3262,tags:["bearer","ophiuchus","serpent","zodiac"],unicode:""},{group:3,hexcode:"1F432",label:"dragon face",order:3263,tags:["dragon","face","fairy tale"],unicode:""},{group:3,hexcode:"1F409",label:"dragon",order:3264,tags:["fairy tale"],unicode:""},{group:3,hexcode:"1F995",label:"sauropod",order:3265,tags:["brachiosaurus","brontosaurus","diplodocus"],unicode:""},{group:3,hexcode:"1F996",label:"T-Rex",order:3266,tags:["t-rex","tyrannosaurus rex"],unicode:""},{group:3,hexcode:"1F433",label:"spouting whale",order:3267,tags:["face","spouting","whale"],unicode:""},{group:3,hexcode:"1F40B",label:"whale",order:3268,tags:["whale"],unicode:""},{group:3,hexcode:"1F42C",label:"dolphin",order:3269,tags:["flipper"],unicode:""},{group:3,hexcode:"1F9AD",label:"seal",order:3270,tags:["sea lion"],unicode:""},{group:3,hexcode:"1F41F",label:"fish",order:3271,tags:["pisces","zodiac"],unicode:""},{group:3,hexcode:"1F420",label:"tropical fish",order:3272,tags:["fish","tropical"],unicode:""},{group:3,hexcode:"1F421",label:"blowfish",order:3273,tags:["fish"],unicode:""},{group:3,hexcode:"1F988",label:"shark",order:3274,tags:["fish"],unicode:""},{group:3,hexcode:"1F419",label:"octopus",order:3275,tags:["octopus"],unicode:""},{group:3,hexcode:"1F41A",label:"spiral shell",order:3276,tags:["shell","spiral"],unicode:""},{group:3,hexcode:"1FAB8",label:"coral",order:3277,tags:["ocean","reef"],unicode:""},{group:3,hexcode:"1F40C",label:"snail",order:3278,tags:["snail"],unicode:""},{group:3,hexcode:"1F98B",label:"butterfly",order:3279,tags:["insect","pretty"],unicode:""},{group:3,hexcode:"1F41B",label:"bug",order:3280,tags:["insect"],unicode:""},{group:3,hexcode:"1F41C",label:"ant",order:3281,tags:["insect"],unicode:""},{group:3,hexcode:"1F41D",label:"honeybee",order:3282,tags:["bee","insect"],unicode:""},{group:3,hexcode:"1FAB2",label:"beetle",order:3283,tags:["bug","insect"],unicode:""},{group:3,hexcode:"1F41E",label:"lady beetle",order:3284,tags:["beetle","insect","ladybird","ladybug"],unicode:""},{group:3,hexcode:"1F997",label:"cricket",order:3285,tags:["grasshopper"],unicode:""},{group:3,hexcode:"1FAB3",label:"cockroach",order:3286,tags:["insect","pest","roach"],unicode:""},{group:3,hexcode:"1F577",label:"spider",order:3288,tags:["insect"],unicode:""},{group:3,hexcode:"1F578",label:"spider web",order:3290,tags:["spider","web"],unicode:""},{group:3,hexcode:"1F982",label:"scorpion",order:3291,tags:["scorpio","zodiac"],unicode:""},{group:3,hexcode:"1F99F",label:"mosquito",order:3292,tags:["disease","fever","malaria","pest","virus"],unicode:""},{group:3,hexcode:"1FAB0",label:"fly",order:3293,tags:["disease","maggot","pest","rotting"],unicode:""},{group:3,hexcode:"1FAB1",label:"worm",order:3294,tags:["annelid","earthworm","parasite"],unicode:""},{group:3,hexcode:"1F9A0",label:"microbe",order:3295,tags:["amoeba","bacteria","virus"],unicode:""},{group:3,hexcode:"1F490",label:"bouquet",order:3296,tags:["flower"],unicode:""},{group:3,hexcode:"1F338",label:"cherry blossom",order:3297,tags:["blossom","cherry","flower"],unicode:""},{group:3,hexcode:"1F4AE",label:"white flower",order:3298,tags:["flower"],unicode:""},{group:3,hexcode:"1FAB7",label:"lotus",order:3299,tags:["buddhism","flower","hinduism","india","purity","vietnam"],unicode:""},{group:3,hexcode:"1F3F5",label:"rosette",order:3301,tags:["plant"],unicode:""},{group:3,hexcode:"1F339",label:"rose",order:3302,tags:["flower"],unicode:""},{group:3,hexcode:"1F940",label:"wilted flower",order:3303,tags:["flower","wilted"],unicode:""},{group:3,hexcode:"1F33A",label:"hibiscus",order:3304,tags:["flower"],unicode:""},{group:3,hexcode:"1F33B",label:"sunflower",order:3305,tags:["flower","sun"],unicode:""},{group:3,hexcode:"1F33C",label:"blossom",order:3306,tags:["flower"],unicode:""},{group:3,hexcode:"1F337",label:"tulip",order:3307,tags:["flower"],unicode:""},{group:3,hexcode:"1F331",label:"seedling",order:3308,tags:["young"],unicode:""},{group:3,hexcode:"1FAB4",label:"potted plant",order:3309,tags:["boring","grow","house","nurturing","plant","useless"],unicode:""},{group:3,hexcode:"1F332",label:"evergreen tree",order:3310,tags:["tree"],unicode:""},{group:3,hexcode:"1F333",label:"deciduous tree",order:3311,tags:["deciduous","shedding","tree"],unicode:""},{group:3,hexcode:"1F334",label:"palm tree",order:3312,tags:["palm","tree"],unicode:""},{group:3,hexcode:"1F335",label:"cactus",order:3313,tags:["plant"],unicode:""},{group:3,hexcode:"1F33E",label:"sheaf of rice",order:3314,tags:["ear","grain","rice"],unicode:""},{group:3,hexcode:"1F33F",label:"herb",order:3315,tags:["leaf"],unicode:""},{group:3,hexcode:"2618",label:"shamrock",order:3317,tags:["plant"],unicode:""},{group:3,hexcode:"1F340",label:"four leaf clover",order:3318,tags:["4","clover","four","four-leaf clover","leaf"],unicode:""},{group:3,hexcode:"1F341",label:"maple leaf",order:3319,tags:["falling","leaf","maple"],unicode:""},{group:3,hexcode:"1F342",label:"fallen leaf",order:3320,tags:["falling","leaf"],unicode:""},{group:3,hexcode:"1F343",label:"leaf fluttering in wind",order:3321,tags:["blow","flutter","leaf","wind"],unicode:""},{group:3,hexcode:"1FAB9",label:"empty nest",order:3322,tags:["nesting"],unicode:""},{group:3,hexcode:"1FABA",label:"nest with eggs",order:3323,tags:["nesting"],unicode:""},{group:4,hexcode:"1F347",label:"grapes",order:3324,tags:["fruit","grape"],unicode:""},{group:4,hexcode:"1F348",label:"melon",order:3325,tags:["fruit"],unicode:""},{group:4,hexcode:"1F349",label:"watermelon",order:3326,tags:["fruit"],unicode:""},{group:4,hexcode:"1F34A",label:"tangerine",order:3327,tags:["fruit","orange"],unicode:""},{group:4,hexcode:"1F34B",label:"lemon",order:3328,tags:["citrus","fruit"],unicode:""},{group:4,hexcode:"1F34C",label:"banana",order:3329,tags:["fruit"],unicode:""},{group:4,hexcode:"1F34D",label:"pineapple",order:3330,tags:["fruit"],unicode:""},{group:4,hexcode:"1F96D",label:"mango",order:3331,tags:["fruit","tropical"],unicode:""},{group:4,hexcode:"1F34E",label:"red apple",order:3332,tags:["apple","fruit","red"],unicode:""},{group:4,hexcode:"1F34F",label:"green apple",order:3333,tags:["apple","fruit","green"],unicode:""},{group:4,hexcode:"1F350",label:"pear",order:3334,tags:["fruit"],unicode:""},{group:4,hexcode:"1F351",label:"peach",order:3335,tags:["fruit"],unicode:""},{group:4,hexcode:"1F352",label:"cherries",order:3336,tags:["berries","cherry","fruit","red"],unicode:""},{group:4,hexcode:"1F353",label:"strawberry",order:3337,tags:["berry","fruit"],unicode:""},{group:4,hexcode:"1FAD0",label:"blueberries",order:3338,tags:["berry","bilberry","blue","blueberry"],unicode:""},{group:4,hexcode:"1F95D",label:"kiwi fruit",order:3339,tags:["food","fruit","kiwi"],unicode:""},{group:4,hexcode:"1F345",label:"tomato",order:3340,tags:["fruit","vegetable"],unicode:""},{group:4,hexcode:"1FAD2",label:"olive",order:3341,tags:["food"],unicode:""},{group:4,hexcode:"1F965",label:"coconut",order:3342,tags:["palm","pia colada"],unicode:""},{group:4,hexcode:"1F951",label:"avocado",order:3343,tags:["food","fruit"],unicode:""},{group:4,hexcode:"1F346",label:"eggplant",order:3344,tags:["aubergine","vegetable"],unicode:""},{group:4,hexcode:"1F954",label:"potato",order:3345,tags:["food","vegetable"],unicode:""},{group:4,hexcode:"1F955",label:"carrot",order:3346,tags:["food","vegetable"],unicode:""},{group:4,hexcode:"1F33D",label:"ear of corn",order:3347,tags:["corn","ear","maize","maze"],unicode:""},{group:4,hexcode:"1F336",label:"hot pepper",order:3349,tags:["hot","pepper"],unicode:""},{group:4,hexcode:"1FAD1",label:"bell pepper",order:3350,tags:["capsicum","pepper","vegetable"],unicode:""},{group:4,hexcode:"1F952",label:"cucumber",order:3351,tags:["food","pickle","vegetable"],unicode:""},{group:4,hexcode:"1F96C",label:"leafy green",order:3352,tags:["bok choy","cabbage","kale","lettuce"],unicode:""},{group:4,hexcode:"1F966",label:"broccoli",order:3353,tags:["wild cabbage"],unicode:""},{group:4,hexcode:"1F9C4",label:"garlic",order:3354,tags:["flavoring"],unicode:""},{group:4,hexcode:"1F9C5",label:"onion",order:3355,tags:["flavoring"],unicode:""},{group:4,hexcode:"1F344",label:"mushroom",order:3356,tags:["toadstool"],unicode:""},{group:4,hexcode:"1F95C",label:"peanuts",order:3357,tags:["food","nut","peanut","vegetable"],unicode:""},{group:4,hexcode:"1FAD8",label:"beans",order:3358,tags:["food","kidney","legume"],unicode:""},{group:4,hexcode:"1F330",label:"chestnut",order:3359,tags:["plant"],unicode:""},{group:4,hexcode:"1F35E",label:"bread",order:3360,tags:["loaf"],unicode:""},{group:4,hexcode:"1F950",label:"croissant",order:3361,tags:["bread","breakfast","food","french","roll"],unicode:""},{group:4,hexcode:"1F956",label:"baguette bread",order:3362,tags:["baguette","bread","food","french"],unicode:""},{group:4,hexcode:"1FAD3",label:"flatbread",order:3363,tags:["arepa","lavash","naan","pita"],unicode:""},{group:4,hexcode:"1F968",label:"pretzel",order:3364,tags:["twisted"],unicode:""},{group:4,hexcode:"1F96F",label:"bagel",order:3365,tags:["bakery","breakfast","schmear"],unicode:""},{group:4,hexcode:"1F95E",label:"pancakes",order:3366,tags:["breakfast","crpe","food","hotcake","pancake"],unicode:""},{group:4,hexcode:"1F9C7",label:"waffle",order:3367,tags:["breakfast","indecisive","iron"],unicode:""},{group:4,hexcode:"1F9C0",label:"cheese wedge",order:3368,tags:["cheese"],unicode:""},{group:4,hexcode:"1F356",label:"meat on bone",order:3369,tags:["bone","meat"],unicode:""},{group:4,hexcode:"1F357",label:"poultry leg",order:3370,tags:["bone","chicken","drumstick","leg","poultry"],unicode:""},{group:4,hexcode:"1F969",label:"cut of meat",order:3371,tags:["chop","lambchop","porkchop","steak"],unicode:""},{group:4,hexcode:"1F953",label:"bacon",order:3372,tags:["breakfast","food","meat"],unicode:""},{group:4,hexcode:"1F354",label:"hamburger",order:3373,tags:["burger"],unicode:""},{group:4,hexcode:"1F35F",label:"french fries",order:3374,tags:["french","fries"],unicode:""},{group:4,hexcode:"1F355",label:"pizza",order:3375,tags:["cheese","slice"],unicode:""},{group:4,hexcode:"1F32D",label:"hot dog",order:3376,tags:["frankfurter","hotdog","sausage"],unicode:""},{group:4,hexcode:"1F96A",label:"sandwich",order:3377,tags:["bread"],unicode:""},{group:4,hexcode:"1F32E",label:"taco",order:3378,tags:["mexican"],unicode:""},{group:4,hexcode:"1F32F",label:"burrito",order:3379,tags:["mexican","wrap"],unicode:""},{group:4,hexcode:"1FAD4",label:"tamale",order:3380,tags:["mexican","wrapped"],unicode:""},{group:4,hexcode:"1F959",label:"stuffed flatbread",order:3381,tags:["falafel","flatbread","food","gyro","kebab","stuffed"],unicode:""},{group:4,hexcode:"1F9C6",label:"falafel",order:3382,tags:["chickpea","meatball"],unicode:""},{group:4,hexcode:"1F95A",label:"egg",order:3383,tags:["breakfast","food"],unicode:""},{group:4,hexcode:"1F373",label:"cooking",order:3384,tags:["breakfast","egg","frying","pan"],unicode:""},{group:4,hexcode:"1F958",label:"shallow pan of food",order:3385,tags:["casserole","food","paella","pan","shallow"],unicode:""},{group:4,hexcode:"1F372",label:"pot of food",order:3386,tags:["pot","stew"],unicode:""},{group:4,hexcode:"1FAD5",label:"fondue",order:3387,tags:["cheese","chocolate","melted","pot","swiss"],unicode:""},{group:4,hexcode:"1F963",label:"bowl with spoon",order:3388,tags:["breakfast","cereal","congee"],unicode:""},{group:4,hexcode:"1F957",label:"green salad",order:3389,tags:["food","green","salad"],unicode:""},{group:4,hexcode:"1F37F",label:"popcorn",order:3390,tags:["popcorn"],unicode:""},{group:4,hexcode:"1F9C8",label:"butter",order:3391,tags:["dairy"],unicode:""},{group:4,hexcode:"1F9C2",label:"salt",order:3392,tags:["condiment","shaker"],unicode:""},{group:4,hexcode:"1F96B",label:"canned food",order:3393,tags:["can"],unicode:""},{group:4,hexcode:"1F371",label:"bento box",order:3394,tags:["bento","box"],unicode:""},{group:4,hexcode:"1F358",label:"rice cracker",order:3395,tags:["cracker","rice"],unicode:""},{group:4,hexcode:"1F359",label:"rice ball",order:3396,tags:["ball","japanese","rice"],unicode:""},{group:4,hexcode:"1F35A",label:"cooked rice",order:3397,tags:["cooked","rice"],unicode:""},{group:4,hexcode:"1F35B",label:"curry rice",order:3398,tags:["curry","rice"],unicode:""},{group:4,hexcode:"1F35C",label:"steaming bowl",order:3399,tags:["bowl","noodle","ramen","steaming"],unicode:""},{group:4,hexcode:"1F35D",label:"spaghetti",order:3400,tags:["pasta"],unicode:""},{group:4,hexcode:"1F360",label:"roasted sweet potato",order:3401,tags:["potato","roasted","sweet"],unicode:""},{group:4,hexcode:"1F362",label:"oden",order:3402,tags:["kebab","seafood","skewer","stick"],unicode:""},{group:4,hexcode:"1F363",label:"sushi",order:3403,tags:["sushi"],unicode:""},{group:4,hexcode:"1F364",label:"fried shrimp",order:3404,tags:["fried","prawn","shrimp","tempura"],unicode:""},{group:4,hexcode:"1F365",label:"fish cake with swirl",order:3405,tags:["cake","fish","pastry","swirl"],unicode:""},{group:4,hexcode:"1F96E",label:"moon cake",order:3406,tags:["autumn","festival","yubng"],unicode:""},{group:4,hexcode:"1F361",label:"dango",order:3407,tags:["dessert","japanese","skewer","stick","sweet"],unicode:""},{group:4,hexcode:"1F95F",label:"dumpling",order:3408,tags:["empanada","gyza","jiaozi","pierogi","potsticker"],unicode:""},{group:4,hexcode:"1F960",label:"fortune cookie",order:3409,tags:["prophecy"],unicode:""},{group:4,hexcode:"1F961",label:"takeout box",order:3410,tags:["oyster pail"],unicode:""},{group:4,hexcode:"1F980",label:"crab",order:3411,tags:["cancer","zodiac"],unicode:""},{group:4,hexcode:"1F99E",label:"lobster",order:3412,tags:["bisque","claws","seafood"],unicode:""},{group:4,hexcode:"1F990",label:"shrimp",order:3413,tags:["food","shellfish","small"],unicode:""},{group:4,hexcode:"1F991",label:"squid",order:3414,tags:["food","molusc"],unicode:""},{group:4,hexcode:"1F9AA",label:"oyster",order:3415,tags:["diving","pearl"],unicode:""},{group:4,hexcode:"1F366",label:"soft ice cream",order:3416,tags:["cream","dessert","ice","icecream","soft","sweet"],unicode:""},{group:4,hexcode:"1F367",label:"shaved ice",order:3417,tags:["dessert","ice","shaved","sweet"],unicode:""},{group:4,hexcode:"1F368",label:"ice cream",order:3418,tags:["cream","dessert","ice","sweet"],unicode:""},{group:4,hexcode:"1F369",label:"doughnut",order:3419,tags:["breakfast","dessert","donut","sweet"],unicode:""},{group:4,hexcode:"1F36A",label:"cookie",order:3420,tags:["dessert","sweet"],unicode:""},{group:4,hexcode:"1F382",label:"birthday cake",order:3421,tags:["birthday","cake","celebration","dessert","pastry","sweet"],unicode:""},{group:4,hexcode:"1F370",label:"shortcake",order:3422,tags:["cake","dessert","pastry","slice","sweet"],unicode:""},{group:4,hexcode:"1F9C1",label:"cupcake",order:3423,tags:["bakery","sweet"],unicode:""},{group:4,hexcode:"1F967",label:"pie",order:3424,tags:["filling","pastry"],unicode:""},{group:4,hexcode:"1F36B",label:"chocolate bar",order:3425,tags:["bar","chocolate","dessert","sweet"],unicode:""},{group:4,hexcode:"1F36C",label:"candy",order:3426,tags:["dessert","sweet"],unicode:""},{group:4,hexcode:"1F36D",label:"lollipop",order:3427,tags:["candy","dessert","sweet"],unicode:""},{group:4,hexcode:"1F36E",label:"custard",order:3428,tags:["dessert","pudding","sweet"],unicode:""},{group:4,hexcode:"1F36F",label:"honey pot",order:3429,tags:["honey","honeypot","pot","sweet"],unicode:""},{group:4,hexcode:"1F37C",label:"baby bottle",order:3430,tags:["baby","bottle","drink","milk"],unicode:""},{group:4,hexcode:"1F95B",label:"glass of milk",order:3431,tags:["drink","glass","milk"],unicode:""},{group:4,hexcode:"2615",label:"hot beverage",order:3432,tags:["beverage","coffee","drink","hot","steaming","tea"],unicode:""},{group:4,hexcode:"1FAD6",label:"teapot",order:3433,tags:["drink","pot","tea"],unicode:""},{group:4,hexcode:"1F375",label:"teacup without handle",order:3434,tags:["beverage","cup","drink","tea","teacup"],unicode:""},{group:4,hexcode:"1F376",label:"sake",order:3435,tags:["bar","beverage","bottle","cup","drink"],unicode:""},{group:4,hexcode:"1F37E",label:"bottle with popping cork",order:3436,tags:["bar","bottle","cork","drink","popping"],unicode:""},{group:4,hexcode:"1F377",label:"wine glass",order:3437,tags:["bar","beverage","drink","glass","wine"],unicode:""},{group:4,hexcode:"1F378",label:"cocktail glass",order:3438,tags:["bar","cocktail","drink","glass"],unicode:""},{group:4,hexcode:"1F379",label:"tropical drink",order:3439,tags:["bar","drink","tropical"],unicode:""},{group:4,hexcode:"1F37A",label:"beer mug",order:3440,tags:["bar","beer","drink","mug"],unicode:""},{group:4,hexcode:"1F37B",label:"clinking beer mugs",order:3441,tags:["bar","beer","clink","drink","mug"],unicode:""},{group:4,hexcode:"1F942",label:"clinking glasses",order:3442,tags:["celebrate","clink","drink","glass"],unicode:""},{group:4,hexcode:"1F943",label:"tumbler glass",order:3443,tags:["glass","liquor","shot","tumbler","whisky"],unicode:""},{group:4,hexcode:"1FAD7",label:"pouring liquid",order:3444,tags:["drink","empty","glass","spill"],unicode:""},{group:4,hexcode:"1F964",label:"cup with straw",order:3445,tags:["juice","soda"],unicode:""},{group:4,hexcode:"1F9CB",label:"bubble tea",order:3446,tags:["bubble","milk","pearl","tea"],unicode:""},{group:4,hexcode:"1F9C3",label:"beverage box",order:3447,tags:["beverage","box","juice","straw","sweet"],unicode:""},{group:4,hexcode:"1F9C9",label:"mate",order:3448,tags:["drink"],unicode:""},{group:4,hexcode:"1F9CA",label:"ice",order:3449,tags:["cold","ice cube","iceberg"],unicode:""},{group:4,hexcode:"1F962",label:"chopsticks",order:3450,tags:["hashi"],unicode:""},{group:4,hexcode:"1F37D",label:"fork and knife with plate",order:3452,tags:["cooking","fork","knife","plate"],unicode:""},{group:4,hexcode:"1F374",label:"fork and knife",order:3453,tags:["cooking","cutlery","fork","knife"],unicode:""},{group:4,hexcode:"1F944",label:"spoon",order:3454,tags:["tableware"],unicode:""},{group:4,hexcode:"1F52A",label:"kitchen knife",order:3455,tags:["cooking","hocho","knife","tool","weapon"],unicode:""},{group:4,hexcode:"1FAD9",label:"jar",order:3456,tags:["condiment","container","empty","sauce","store"],unicode:""},{group:4,hexcode:"1F3FA",label:"amphora",order:3457,tags:["aquarius","cooking","drink","jug","zodiac"],unicode:""},{group:5,hexcode:"1F30D",label:"globe showing Europe-Africa",order:3458,tags:["africa","earth","europe","globe","globe showing europe-africa","world"],unicode:""},{group:5,hexcode:"1F30E",label:"globe showing Americas",order:3459,tags:["americas","earth","globe","globe showing americas","world"],unicode:""},{group:5,hexcode:"1F30F",label:"globe showing Asia-Australia",order:3460,tags:["asia","australia","earth","globe","globe showing asia-australia","world"],unicode:""},{group:5,hexcode:"1F310",label:"globe with meridians",order:3461,tags:["earth","globe","meridians","world"],unicode:""},{group:5,hexcode:"1F5FA",label:"world map",order:3463,tags:["map","world"],unicode:""},{group:5,hexcode:"1F5FE",label:"map of Japan",order:3464,tags:["japan","map","map of japan"],unicode:""},{group:5,hexcode:"1F9ED",label:"compass",order:3465,tags:["magnetic","navigation","orienteering"],unicode:""},{group:5,hexcode:"1F3D4",label:"snow-capped mountain",order:3467,tags:["cold","mountain","snow"],unicode:""},{group:5,hexcode:"26F0",label:"mountain",order:3469,tags:["mountain"],unicode:""},{group:5,hexcode:"1F30B",label:"volcano",order:3470,tags:["eruption","mountain"],unicode:""},{group:5,hexcode:"1F5FB",label:"mount fuji",order:3471,tags:["fuji","mountain"],unicode:""},{group:5,hexcode:"1F3D5",label:"camping",order:3473,tags:["camping"],unicode:""},{group:5,hexcode:"1F3D6",label:"beach with umbrella",order:3475,tags:["beach","umbrella"],unicode:""},{group:5,hexcode:"1F3DC",label:"desert",order:3477,tags:["desert"],unicode:""},{group:5,hexcode:"1F3DD",label:"desert island",order:3479,tags:["desert","island"],unicode:""},{group:5,hexcode:"1F3DE",label:"national park",order:3481,tags:["park"],unicode:""},{group:5,hexcode:"1F3DF",label:"stadium",order:3483,tags:["stadium"],unicode:""},{group:5,hexcode:"1F3DB",label:"classical building",order:3485,tags:["classical"],unicode:""},{group:5,hexcode:"1F3D7",label:"building construction",order:3487,tags:["construction"],unicode:""},{group:5,hexcode:"1F9F1",label:"brick",order:3488,tags:["bricks","clay","mortar","wall"],unicode:""},{group:5,hexcode:"1FAA8",label:"rock",order:3489,tags:["boulder","heavy","solid","stone"],unicode:""},{group:5,hexcode:"1FAB5",label:"wood",order:3490,tags:["log","lumber","timber"],unicode:""},{group:5,hexcode:"1F6D6",label:"hut",order:3491,tags:["house","roundhouse","yurt"],unicode:""},{group:5,hexcode:"1F3D8",label:"houses",order:3493,tags:["houses"],unicode:""},{group:5,hexcode:"1F3DA",label:"derelict house",order:3495,tags:["derelict","house"],unicode:""},{group:5,hexcode:"1F3E0",label:"house",order:3496,tags:["home"],unicode:""},{group:5,hexcode:"1F3E1",label:"house with garden",order:3497,tags:["garden","home","house"],unicode:""},{group:5,hexcode:"1F3E2",label:"office building",order:3498,tags:["building"],unicode:""},{group:5,hexcode:"1F3E3",label:"Japanese post office",order:3499,tags:["japanese","japanese post office","post"],unicode:""},{group:5,hexcode:"1F3E4",label:"post office",order:3500,tags:["european","post"],unicode:""},{group:5,hexcode:"1F3E5",label:"hospital",order:3501,tags:["doctor","medicine"],unicode:""},{group:5,hexcode:"1F3E6",label:"bank",order:3502,tags:["building"],unicode:""},{group:5,hexcode:"1F3E8",label:"hotel",order:3503,tags:["building"],unicode:""},{group:5,hexcode:"1F3E9",label:"love hotel",order:3504,tags:["hotel","love"],unicode:""},{group:5,hexcode:"1F3EA",label:"convenience store",order:3505,tags:["convenience","store"],unicode:""},{group:5,hexcode:"1F3EB",label:"school",order:3506,tags:["building"],unicode:""},{group:5,hexcode:"1F3EC",label:"department store",order:3507,tags:["department","store"],unicode:""},{group:5,hexcode:"1F3ED",label:"factory",order:3508,tags:["building"],unicode:""},{group:5,hexcode:"1F3EF",label:"Japanese castle",order:3509,tags:["castle","japanese"],unicode:""},{group:5,hexcode:"1F3F0",label:"castle",order:3510,tags:["european"],unicode:""},{group:5,hexcode:"1F492",label:"wedding",order:3511,tags:["chapel","romance"],unicode:""},{group:5,hexcode:"1F5FC",label:"Tokyo tower",order:3512,tags:["tokyo","tower"],unicode:""},{group:5,hexcode:"1F5FD",label:"Statue of Liberty",order:3513,tags:["liberty","statue","statue of liberty"],unicode:""},{group:5,hexcode:"26EA",label:"church",order:3514,tags:["christian","cross","religion"],unicode:""},{group:5,hexcode:"1F54C",label:"mosque",order:3515,tags:["islam","muslim","religion"],unicode:""},{group:5,hexcode:"1F6D5",label:"hindu temple",order:3516,tags:["hindu","temple"],unicode:""},{group:5,hexcode:"1F54D",label:"synagogue",order:3517,tags:["jew","jewish","religion","temple"],unicode:""},{group:5,hexcode:"26E9",label:"shinto shrine",order:3519,tags:["religion","shinto","shrine"],unicode:""},{group:5,hexcode:"1F54B",label:"kaaba",order:3520,tags:["islam","muslim","religion"],unicode:""},{group:5,hexcode:"26F2",label:"fountain",order:3521,tags:["fountain"],unicode:""},{group:5,hexcode:"26FA",label:"tent",order:3522,tags:["camping"],unicode:""},{group:5,hexcode:"1F301",label:"foggy",order:3523,tags:["fog"],unicode:""},{group:5,hexcode:"1F303",label:"night with stars",order:3524,tags:["night","star"],unicode:""},{group:5,hexcode:"1F3D9",label:"cityscape",order:3526,tags:["city"],unicode:""},{group:5,hexcode:"1F304",label:"sunrise over mountains",order:3527,tags:["morning","mountain","sun","sunrise"],unicode:""},{group:5,hexcode:"1F305",label:"sunrise",order:3528,tags:["morning","sun"],unicode:""},{group:5,hexcode:"1F306",label:"cityscape at dusk",order:3529,tags:["city","dusk","evening","landscape","sunset"],unicode:""},{group:5,hexcode:"1F307",label:"sunset",order:3530,tags:["dusk","sun"],unicode:""},{group:5,hexcode:"1F309",label:"bridge at night",order:3531,tags:["bridge","night"],unicode:""},{group:5,hexcode:"2668",label:"hot springs",order:3533,tags:["hot","hotsprings","springs","steaming"],unicode:""},{group:5,hexcode:"1F3A0",label:"carousel horse",order:3534,tags:["carousel","horse"],unicode:""},{group:5,hexcode:"1F6DD",label:"playground slide",order:3535,tags:["amusement park","play"],unicode:""},{group:5,hexcode:"1F3A1",label:"ferris wheel",order:3536,tags:["amusement park","ferris","wheel"],unicode:""},{group:5,hexcode:"1F3A2",label:"roller coaster",order:3537,tags:["amusement park","coaster","roller"],unicode:""},{group:5,hexcode:"1F488",label:"barber pole",order:3538,tags:["barber","haircut","pole"],unicode:""},{group:5,hexcode:"1F3AA",label:"circus tent",order:3539,tags:["circus","tent"],unicode:""},{group:5,hexcode:"1F682",label:"locomotive",order:3540,tags:["engine","railway","steam","train"],unicode:""},{group:5,hexcode:"1F683",label:"railway car",order:3541,tags:["car","electric","railway","train","tram","trolleybus"],unicode:""},{group:5,hexcode:"1F684",label:"high-speed train",order:3542,tags:["railway","shinkansen","speed","train"],unicode:""},{group:5,hexcode:"1F685",label:"bullet train",order:3543,tags:["bullet","railway","shinkansen","speed","train"],unicode:""},{group:5,hexcode:"1F686",label:"train",order:3544,tags:["railway"],unicode:""},{group:5,hexcode:"1F687",label:"metro",order:3545,tags:["subway"],unicode:""},{group:5,hexcode:"1F688",label:"light rail",order:3546,tags:["railway"],unicode:""},{group:5,hexcode:"1F689",label:"station",order:3547,tags:["railway","train"],unicode:""},{group:5,hexcode:"1F68A",label:"tram",order:3548,tags:["trolleybus"],unicode:""},{group:5,hexcode:"1F69D",label:"monorail",order:3549,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F69E",label:"mountain railway",order:3550,tags:["car","mountain","railway"],unicode:""},{group:5,hexcode:"1F68B",label:"tram car",order:3551,tags:["car","tram","trolleybus"],unicode:""},{group:5,hexcode:"1F68C",label:"bus",order:3552,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F68D",label:"oncoming bus",order:3553,tags:["bus","oncoming"],unicode:""},{group:5,hexcode:"1F68E",label:"trolleybus",order:3554,tags:["bus","tram","trolley"],unicode:""},{group:5,hexcode:"1F690",label:"minibus",order:3555,tags:["bus"],unicode:""},{group:5,hexcode:"1F691",label:"ambulance",order:3556,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F692",label:"fire engine",order:3557,tags:["engine","fire","truck"],unicode:""},{group:5,hexcode:"1F693",label:"police car",order:3558,tags:["car","patrol","police"],unicode:""},{group:5,hexcode:"1F694",label:"oncoming police car",order:3559,tags:["car","oncoming","police"],unicode:""},{group:5,hexcode:"1F695",label:"taxi",order:3560,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F696",label:"oncoming taxi",order:3561,tags:["oncoming","taxi"],unicode:""},{group:5,hexcode:"1F697",label:"automobile",order:3562,tags:["car"],unicode:""},{group:5,hexcode:"1F698",label:"oncoming automobile",order:3563,tags:["automobile","car","oncoming"],unicode:""},{group:5,hexcode:"1F699",label:"sport utility vehicle",order:3564,tags:["recreational","sport utility"],unicode:""},{group:5,hexcode:"1F6FB",label:"pickup truck",order:3565,tags:["pick-up","pickup","truck"],unicode:""},{group:5,hexcode:"1F69A",label:"delivery truck",order:3566,tags:["delivery","truck"],unicode:""},{group:5,hexcode:"1F69B",label:"articulated lorry",order:3567,tags:["lorry","semi","truck"],unicode:""},{group:5,hexcode:"1F69C",label:"tractor",order:3568,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F3CE",label:"racing car",order:3570,tags:["car","racing"],unicode:""},{group:5,hexcode:"1F3CD",label:"motorcycle",order:3572,tags:["racing"],unicode:""},{group:5,hexcode:"1F6F5",label:"motor scooter",order:3573,tags:["motor","scooter"],unicode:""},{group:5,hexcode:"1F9BD",label:"manual wheelchair",order:3574,tags:["accessibility"],unicode:""},{group:5,hexcode:"1F9BC",label:"motorized wheelchair",order:3575,tags:["accessibility"],unicode:""},{group:5,hexcode:"1F6FA",label:"auto rickshaw",order:3576,tags:["tuk tuk"],unicode:""},{group:5,hexcode:"1F6B2",label:"bicycle",order:3577,tags:["bike"],unicode:""},{group:5,hexcode:"1F6F4",label:"kick scooter",order:3578,tags:["kick","scooter"],unicode:""},{group:5,hexcode:"1F6F9",label:"skateboard",order:3579,tags:["board"],unicode:""},{group:5,hexcode:"1F6FC",label:"roller skate",order:3580,tags:["roller","skate"],unicode:""},{group:5,hexcode:"1F68F",label:"bus stop",order:3581,tags:["bus","stop"],unicode:""},{group:5,hexcode:"1F6E3",label:"motorway",order:3583,tags:["highway","road"],unicode:""},{group:5,hexcode:"1F6E4",label:"railway track",order:3585,tags:["railway","train"],unicode:""},{group:5,hexcode:"1F6E2",label:"oil drum",order:3587,tags:["drum","oil"],unicode:""},{group:5,hexcode:"26FD",label:"fuel pump",order:3588,tags:["diesel","fuel","fuelpump","gas","pump","station"],unicode:""},{group:5,hexcode:"1F6DE",label:"wheel",order:3589,tags:["circle","tire","turn"],unicode:""},{group:5,hexcode:"1F6A8",label:"police car light",order:3590,tags:["beacon","car","light","police","revolving"],unicode:""},{group:5,hexcode:"1F6A5",label:"horizontal traffic light",order:3591,tags:["light","signal","traffic"],unicode:""},{group:5,hexcode:"1F6A6",label:"vertical traffic light",order:3592,tags:["light","signal","traffic"],unicode:""},{group:5,hexcode:"1F6D1",label:"stop sign",order:3593,tags:["octagonal","sign","stop"],unicode:""},{group:5,hexcode:"1F6A7",label:"construction",order:3594,tags:["barrier"],unicode:""},{group:5,hexcode:"2693",label:"anchor",order:3595,tags:["ship","tool"],unicode:""},{group:5,hexcode:"1F6DF",label:"ring buoy",order:3596,tags:["float","life preserver","life saver","rescue","safety"],unicode:""},{group:5,hexcode:"26F5",label:"sailboat",order:3597,tags:["boat","resort","sea","yacht"],unicode:""},{group:5,hexcode:"1F6F6",label:"canoe",order:3598,tags:["boat"],unicode:""},{group:5,hexcode:"1F6A4",label:"speedboat",order:3599,tags:["boat"],unicode:""},{group:5,hexcode:"1F6F3",label:"passenger ship",order:3601,tags:["passenger","ship"],unicode:""},{group:5,hexcode:"26F4",label:"ferry",order:3603,tags:["boat","passenger"],unicode:""},{group:5,hexcode:"1F6E5",label:"motor boat",order:3605,tags:["boat","motorboat"],unicode:""},{group:5,hexcode:"1F6A2",label:"ship",order:3606,tags:["boat","passenger"],unicode:""},{group:5,hexcode:"2708",label:"airplane",order:3608,tags:["aeroplane"],unicode:""},{group:5,hexcode:"1F6E9",label:"small airplane",order:3610,tags:["aeroplane","airplane"],unicode:""},{group:5,hexcode:"1F6EB",label:"airplane departure",order:3611,tags:["aeroplane","airplane","check-in","departure","departures"],unicode:""},{group:5,hexcode:"1F6EC",label:"airplane arrival",order:3612,tags:["aeroplane","airplane","arrivals","arriving","landing"],unicode:""},{group:5,hexcode:"1FA82",label:"parachute",order:3613,tags:["hang-glide","parasail","skydive"],unicode:""},{group:5,hexcode:"1F4BA",label:"seat",order:3614,tags:["chair"],unicode:""},{group:5,hexcode:"1F681",label:"helicopter",order:3615,tags:["vehicle"],unicode:""},{group:5,hexcode:"1F69F",label:"suspension railway",order:3616,tags:["railway","suspension"],unicode:""},{group:5,hexcode:"1F6A0",label:"mountain cableway",order:3617,tags:["cable","gondola","mountain"],unicode:""},{group:5,hexcode:"1F6A1",label:"aerial tramway",order:3618,tags:["aerial","cable","car","gondola","tramway"],unicode:""},{group:5,hexcode:"1F6F0",label:"satellite",order:3620,tags:["space"],unicode:""},{group:5,hexcode:"1F680",label:"rocket",order:3621,tags:["space"],unicode:""},{group:5,hexcode:"1F6F8",label:"flying saucer",order:3622,tags:["ufo"],unicode:""},{group:5,hexcode:"1F6CE",label:"bellhop bell",order:3624,tags:["bell","bellhop","hotel"],unicode:""},{group:5,hexcode:"1F9F3",label:"luggage",order:3625,tags:["packing","travel"],unicode:""},{group:5,hexcode:"231B",label:"hourglass done",order:3626,tags:["sand","timer"],unicode:""},{group:5,hexcode:"23F3",label:"hourglass not done",order:3627,tags:["hourglass","sand","timer"],unicode:""},{group:5,hexcode:"231A",label:"watch",order:3628,tags:["clock"],unicode:""},{group:5,hexcode:"23F0",label:"alarm clock",order:3629,tags:["alarm","clock"],unicode:""},{group:5,hexcode:"23F1",label:"stopwatch",order:3631,tags:["clock"],unicode:""},{group:5,hexcode:"23F2",label:"timer clock",order:3633,tags:["clock","timer"],unicode:""},{group:5,hexcode:"1F570",label:"mantelpiece clock",order:3635,tags:["clock"],unicode:""},{group:5,hexcode:"1F55B",label:"twelve oclock",order:3636,tags:["00","12","12:00","clock","oclock","twelve"],unicode:""},{group:5,hexcode:"1F567",label:"twelve-thirty",order:3637,tags:["12","12:30","clock","thirty","twelve"],unicode:""},{group:5,hexcode:"1F550",label:"one oclock",order:3638,tags:["00","1","1:00","clock","one","oclock"],unicode:""},{group:5,hexcode:"1F55C",label:"one-thirty",order:3639,tags:["1","1:30","clock","one","thirty"],unicode:""},{group:5,hexcode:"1F551",label:"two oclock",order:3640,tags:["00","2","2:00","clock","oclock","two"],unicode:""},{group:5,hexcode:"1F55D",label:"two-thirty",order:3641,tags:["2","2:30","clock","thirty","two"],unicode:""},{group:5,hexcode:"1F552",label:"three oclock",order:3642,tags:["00","3","3:00","clock","oclock","three"],unicode:""},{group:5,hexcode:"1F55E",label:"three-thirty",order:3643,tags:["3","3:30","clock","thirty","three"],unicode:""},{group:5,hexcode:"1F553",label:"four oclock",order:3644,tags:["00","4","4:00","clock","four","oclock"],unicode:""},{group:5,hexcode:"1F55F",label:"four-thirty",order:3645,tags:["4","4:30","clock","four","thirty"],unicode:""},{group:5,hexcode:"1F554",label:"five oclock",order:3646,tags:["00","5","5:00","clock","five","oclock"],unicode:""},{group:5,hexcode:"1F560",label:"five-thirty",order:3647,tags:["5","5:30","clock","five","thirty"],unicode:""},{group:5,hexcode:"1F555",label:"six oclock",order:3648,tags:["00","6","6:00","clock","oclock","six"],unicode:""},{group:5,hexcode:"1F561",label:"six-thirty",order:3649,tags:["6","6:30","clock","six","thirty"],unicode:""},{group:5,hexcode:"1F556",label:"seven oclock",order:3650,tags:["00","7","7:00","clock","oclock","seven"],unicode:""},{group:5,hexcode:"1F562",label:"seven-thirty",order:3651,tags:["7","7:30","clock","seven","thirty"],unicode:""},{group:5,hexcode:"1F557",label:"eight oclock",order:3652,tags:["00","8","8:00","clock","eight","oclock"],unicode:""},{group:5,hexcode:"1F563",label:"eight-thirty",order:3653,tags:["8","8:30","clock","eight","thirty"],unicode:""},{group:5,hexcode:"1F558",label:"nine oclock",order:3654,tags:["00","9","9:00","clock","nine","oclock"],unicode:""},{group:5,hexcode:"1F564",label:"nine-thirty",order:3655,tags:["9","9:30","clock","nine","thirty"],unicode:""},{group:5,hexcode:"1F559",label:"ten oclock",order:3656,tags:["00","10","10:00","clock","oclock","ten"],unicode:""},{group:5,hexcode:"1F565",label:"ten-thirty",order:3657,tags:["10","10:30","clock","ten","thirty"],unicode:""},{group:5,hexcode:"1F55A",label:"eleven oclock",order:3658,tags:["00","11","11:00","clock","eleven","oclock"],unicode:""},{group:5,hexcode:"1F566",label:"eleven-thirty",order:3659,tags:["11","11:30","clock","eleven","thirty"],unicode:""},{group:5,hexcode:"1F311",label:"new moon",order:3660,tags:["dark","moon"],unicode:""},{group:5,hexcode:"1F312",label:"waxing crescent moon",order:3661,tags:["crescent","moon","waxing"],unicode:""},{group:5,hexcode:"1F313",label:"first quarter moon",order:3662,tags:["moon","quarter"],unicode:""},{group:5,hexcode:"1F314",label:"waxing gibbous moon",order:3663,tags:["gibbous","moon","waxing"],unicode:""},{group:5,hexcode:"1F315",label:"full moon",order:3664,tags:["full","moon"],unicode:""},{group:5,hexcode:"1F316",label:"waning gibbous moon",order:3665,tags:["gibbous","moon","waning"],unicode:""},{group:5,hexcode:"1F317",label:"last quarter moon",order:3666,tags:["moon","quarter"],unicode:""},{group:5,hexcode:"1F318",label:"waning crescent moon",order:3667,tags:["crescent","moon","waning"],unicode:""},{group:5,hexcode:"1F319",label:"crescent moon",order:3668,tags:["crescent","moon"],unicode:""},{group:5,hexcode:"1F31A",label:"new moon face",order:3669,tags:["face","moon"],unicode:""},{group:5,hexcode:"1F31B",label:"first quarter moon face",order:3670,tags:["face","moon","quarter"],unicode:""},{group:5,hexcode:"1F31C",label:"last quarter moon face",order:3671,tags:["face","moon","quarter"],unicode:""},{group:5,hexcode:"1F321",label:"thermometer",order:3673,tags:["weather"],unicode:""},{group:5,hexcode:"2600",label:"sun",order:3675,tags:["bright","rays","sunny"],unicode:""},{group:5,hexcode:"1F31D",label:"full moon face",order:3676,tags:["bright","face","full","moon"],unicode:""},{group:5,hexcode:"1F31E",label:"sun with face",order:3677,tags:["bright","face","sun"],unicode:""},{group:5,hexcode:"1FA90",label:"ringed planet",order:3678,tags:["saturn","saturnine"],unicode:""},{group:5,hexcode:"2B50",label:"star",order:3679,tags:["star"],unicode:""},{group:5,hexcode:"1F31F",label:"glowing star",order:3680,tags:["glittery","glow","shining","sparkle","star"],unicode:""},{group:5,hexcode:"1F320",label:"shooting star",order:3681,tags:["falling","shooting","star"],unicode:""},{group:5,hexcode:"1F30C",label:"milky way",order:3682,tags:["space"],unicode:""},{group:5,hexcode:"2601",label:"cloud",order:3684,tags:["weather"],unicode:""},{group:5,hexcode:"26C5",label:"sun behind cloud",order:3685,tags:["cloud","sun"],unicode:""},{group:5,hexcode:"26C8",label:"cloud with lightning and rain",order:3687,tags:["cloud","rain","thunder"],unicode:""},{group:5,hexcode:"1F324",label:"sun behind small cloud",order:3689,tags:["cloud","sun"],unicode:""},{group:5,hexcode:"1F325",label:"sun behind large cloud",order:3691,tags:["cloud","sun"],unicode:""},{group:5,hexcode:"1F326",label:"sun behind rain cloud",order:3693,tags:["cloud","rain","sun"],unicode:""},{group:5,hexcode:"1F327",label:"cloud with rain",order:3695,tags:["cloud","rain"],unicode:""},{group:5,hexcode:"1F328",label:"cloud with snow",order:3697,tags:["cloud","cold","snow"],unicode:""},{group:5,hexcode:"1F329",label:"cloud with lightning",order:3699,tags:["cloud","lightning"],unicode:""},{group:5,hexcode:"1F32A",label:"tornado",order:3701,tags:["cloud","whirlwind"],unicode:""},{group:5,hexcode:"1F32B",label:"fog",order:3703,tags:["cloud"],unicode:""},{group:5,hexcode:"1F32C",label:"wind face",order:3705,tags:["blow","cloud","face","wind"],unicode:""},{group:5,hexcode:"1F300",label:"cyclone",order:3706,tags:["dizzy","hurricane","twister","typhoon"],unicode:""},{group:5,hexcode:"1F308",label:"rainbow",order:3707,tags:["rain"],unicode:""},{group:5,hexcode:"1F302",label:"closed umbrella",order:3708,tags:["clothing","rain","umbrella"],unicode:""},{group:5,hexcode:"2602",label:"umbrella",order:3710,tags:["clothing","rain"],unicode:""},{group:5,hexcode:"2614",label:"umbrella with rain drops",order:3711,tags:["clothing","drop","rain","umbrella"],unicode:""},{group:5,hexcode:"26F1",label:"umbrella on ground",order:3713,tags:["rain","sun","umbrella"],unicode:""},{group:5,hexcode:"26A1",label:"high voltage",order:3714,tags:["danger","electric","lightning","voltage","zap"],unicode:""},{group:5,hexcode:"2744",label:"snowflake",order:3716,tags:["cold","snow"],unicode:""},{group:5,hexcode:"2603",label:"snowman",order:3718,tags:["cold","snow"],unicode:""},{group:5,hexcode:"26C4",label:"snowman without snow",order:3719,tags:["cold","snow","snowman"],unicode:""},{group:5,hexcode:"2604",label:"comet",order:3721,tags:["space"],unicode:""},{group:5,hexcode:"1F525",label:"fire",order:3722,tags:["flame","tool"],unicode:""},{group:5,hexcode:"1F4A7",label:"droplet",order:3723,tags:["cold","comic","drop","sweat"],unicode:""},{group:5,hexcode:"1F30A",label:"water wave",order:3724,tags:["ocean","water","wave"],unicode:""},{group:6,hexcode:"1F383",label:"jack-o-lantern",order:3725,tags:["celebration","halloween","jack","lantern"],unicode:""},{group:6,hexcode:"1F384",label:"Christmas tree",order:3726,tags:["celebration","christmas","tree"],unicode:""},{group:6,hexcode:"1F386",label:"fireworks",order:3727,tags:["celebration"],unicode:""},{group:6,hexcode:"1F387",label:"sparkler",order:3728,tags:["celebration","fireworks","sparkle"],unicode:""},{group:6,hexcode:"1F9E8",label:"firecracker",order:3729,tags:["dynamite","explosive","fireworks"],unicode:""},{group:6,hexcode:"2728",label:"sparkles",order:3730,tags:["*","sparkle","star"],unicode:""},{group:6,hexcode:"1F388",label:"balloon",order:3731,tags:["celebration"],unicode:""},{group:6,hexcode:"1F389",label:"party popper",order:3732,tags:["celebration","party","popper","tada"],unicode:""},{group:6,hexcode:"1F38A",label:"confetti ball",order:3733,tags:["ball","celebration","confetti"],unicode:""},{group:6,hexcode:"1F38B",label:"tanabata tree",order:3734,tags:["banner","celebration","japanese","tree"],unicode:""},{group:6,hexcode:"1F38D",label:"pine decoration",order:3735,tags:["bamboo","celebration","japanese","pine"],unicode:""},{group:6,hexcode:"1F38E",label:"Japanese dolls",order:3736,tags:["celebration","doll","festival","japanese","japanese dolls"],unicode:""},{group:6,hexcode:"1F38F",label:"carp streamer",order:3737,tags:["carp","celebration","streamer"],unicode:""},{group:6,hexcode:"1F390",label:"wind chime",order:3738,tags:["bell","celebration","chime","wind"],unicode:""},{group:6,hexcode:"1F391",label:"moon viewing ceremony",order:3739,tags:["celebration","ceremony","moon"],unicode:""},{group:6,hexcode:"1F9E7",label:"red envelope",order:3740,tags:["gift","good luck","hngbo","lai see","money"],unicode:""},{group:6,hexcode:"1F380",label:"ribbon",order:3741,tags:["celebration"],unicode:""},{group:6,hexcode:"1F381",label:"wrapped gift",order:3742,tags:["box","celebration","gift","present","wrapped"],unicode:""},{group:6,hexcode:"1F397",label:"reminder ribbon",order:3744,tags:["celebration","reminder","ribbon"],unicode:""},{group:6,hexcode:"1F39F",label:"admission tickets",order:3746,tags:["admission","ticket"],unicode:""},{group:6,hexcode:"1F3AB",label:"ticket",order:3747,tags:["admission"],unicode:""},{group:6,hexcode:"1F396",label:"military medal",order:3749,tags:["celebration","medal","military"],unicode:""},{group:6,hexcode:"1F3C6",label:"trophy",order:3750,tags:["prize"],unicode:""},{group:6,hexcode:"1F3C5",label:"sports medal",order:3751,tags:["medal"],unicode:""},{group:6,hexcode:"1F947",label:"1st place medal",order:3752,tags:["first","gold","medal"],unicode:""},{group:6,hexcode:"1F948",label:"2nd place medal",order:3753,tags:["medal","second","silver"],unicode:""},{group:6,hexcode:"1F949",label:"3rd place medal",order:3754,tags:["bronze","medal","third"],unicode:""},{group:6,hexcode:"26BD",label:"soccer ball",order:3755,tags:["ball","football","soccer"],unicode:""},{group:6,hexcode:"26BE",label:"baseball",order:3756,tags:["ball"],unicode:""},{group:6,hexcode:"1F94E",label:"softball",order:3757,tags:["ball","glove","underarm"],unicode:""},{group:6,hexcode:"1F3C0",label:"basketball",order:3758,tags:["ball","hoop"],unicode:""},{group:6,hexcode:"1F3D0",label:"volleyball",order:3759,tags:["ball","game"],unicode:""},{group:6,hexcode:"1F3C8",label:"american football",order:3760,tags:["american","ball","football"],unicode:""},{group:6,hexcode:"1F3C9",label:"rugby football",order:3761,tags:["ball","football","rugby"],unicode:""},{group:6,hexcode:"1F3BE",label:"tennis",order:3762,tags:["ball","racquet"],unicode:""},{group:6,hexcode:"1F94F",label:"flying disc",order:3763,tags:["ultimate"],unicode:""},{group:6,hexcode:"1F3B3",label:"bowling",order:3764,tags:["ball","game"],unicode:""},{group:6,hexcode:"1F3CF",label:"cricket game",order:3765,tags:["ball","bat","game"],unicode:""},{group:6,hexcode:"1F3D1",label:"field hockey",order:3766,tags:["ball","field","game","hockey","stick"],unicode:""},{group:6,hexcode:"1F3D2",label:"ice hockey",order:3767,tags:["game","hockey","ice","puck","stick"],unicode:""},{group:6,hexcode:"1F94D",label:"lacrosse",order:3768,tags:["ball","goal","stick"],unicode:""},{group:6,hexcode:"1F3D3",label:"ping pong",order:3769,tags:["ball","bat","game","paddle","table tennis"],unicode:""},{group:6,hexcode:"1F3F8",label:"badminton",order:3770,tags:["birdie","game","racquet","shuttlecock"],unicode:""},{group:6,hexcode:"1F94A",label:"boxing glove",order:3771,tags:["boxing","glove"],unicode:""},{group:6,hexcode:"1F94B",label:"martial arts uniform",order:3772,tags:["judo","karate","martial arts","taekwondo","uniform"],unicode:""},{group:6,hexcode:"1F945",label:"goal net",order:3773,tags:["goal","net"],unicode:""},{group:6,hexcode:"26F3",label:"flag in hole",order:3774,tags:["golf","hole"],unicode:""},{group:6,hexcode:"26F8",label:"ice skate",order:3776,tags:["ice","skate"],unicode:""},{group:6,hexcode:"1F3A3",label:"fishing pole",order:3777,tags:["fish","pole"],unicode:""},{group:6,hexcode:"1F93F",label:"diving mask",order:3778,tags:["diving","scuba","snorkeling"],unicode:""},{group:6,hexcode:"1F3BD",label:"running shirt",order:3779,tags:["athletics","running","sash","shirt"],unicode:""},{group:6,hexcode:"1F3BF",label:"skis",order:3780,tags:["ski","snow"],unicode:""},{group:6,hexcode:"1F6F7",label:"sled",order:3781,tags:["sledge","sleigh"],unicode:""},{group:6,hexcode:"1F94C",label:"curling stone",order:3782,tags:["game","rock"],unicode:""},{group:6,hexcode:"1F3AF",label:"bullseye",order:3783,tags:["dart","direct hit","game","hit","target"],unicode:""},{group:6,hexcode:"1FA80",label:"yo-yo",order:3784,tags:["fluctuate","toy"],unicode:""},{group:6,hexcode:"1FA81",label:"kite",order:3785,tags:["fly","soar"],unicode:""},{group:6,hexcode:"1F3B1",label:"pool 8 ball",order:3786,tags:["8","ball","billiard","eight","game"],unicode:""},{group:6,hexcode:"1F52E",label:"crystal ball",order:3787,tags:["ball","crystal","fairy tale","fantasy","fortune","tool"],unicode:""},{group:6,hexcode:"1FA84",label:"magic wand",order:3788,tags:["magic","witch","wizard"],unicode:""},{group:6,hexcode:"1F9FF",label:"nazar amulet",order:3789,tags:["bead","charm","evil-eye","nazar","talisman"],unicode:""},{group:6,hexcode:"1FAAC",label:"hamsa",order:3790,tags:["amulet","fatima","hand","mary","miriam","protection"],unicode:""},{group:6,hexcode:"1F3AE",label:"video game",order:3791,tags:["controller","game"],unicode:""},{group:6,hexcode:"1F579",label:"joystick",order:3793,tags:["game","video game"],unicode:""},{group:6,hexcode:"1F3B0",label:"slot machine",order:3794,tags:["game","slot"],unicode:""},{group:6,hexcode:"1F3B2",label:"game die",order:3795,tags:["dice","die","game"],unicode:""},{group:6,hexcode:"1F9E9",label:"puzzle piece",order:3796,tags:["clue","interlocking","jigsaw","piece","puzzle"],unicode:""},{group:6,hexcode:"1F9F8",label:"teddy bear",order:3797,tags:["plaything","plush","stuffed","toy"],unicode:""},{group:6,hexcode:"1FA85",label:"piata",order:3798,tags:["celebration","party"],unicode:""},{group:6,hexcode:"1FAA9",label:"mirror ball",order:3799,tags:["dance","disco","glitter","party"],unicode:""},{group:6,hexcode:"1FA86",label:"nesting dolls",order:3800,tags:["doll","nesting","russia"],unicode:""},{group:6,hexcode:"2660",label:"spade suit",order:3802,tags:["card","game"],unicode:""},{group:6,hexcode:"2665",label:"heart suit",order:3804,tags:["card","game"],unicode:""},{group:6,hexcode:"2666",label:"diamond suit",order:3806,tags:["card","game"],unicode:""},{group:6,hexcode:"2663",label:"club suit",order:3808,tags:["card","game"],unicode:""},{group:6,hexcode:"265F",label:"chess pawn",order:3810,tags:["chess","dupe","expendable"],unicode:""},{group:6,hexcode:"1F0CF",label:"joker",order:3811,tags:["card","game","wildcard"],unicode:""},{group:6,hexcode:"1F004",label:"mahjong red dragon",order:3812,tags:["game","mahjong","red"],unicode:""},{group:6,hexcode:"1F3B4",label:"flower playing cards",order:3813,tags:["card","flower","game","japanese","playing"],unicode:""},{group:6,hexcode:"1F3AD",label:"performing arts",order:3814,tags:["art","mask","performing","theater","theatre"],unicode:""},{group:6,hexcode:"1F5BC",label:"framed picture",order:3816,tags:["art","frame","museum","painting","picture"],unicode:""},{group:6,hexcode:"1F3A8",label:"artist palette",order:3817,tags:["art","museum","painting","palette"],unicode:""},{group:6,hexcode:"1F9F5",label:"thread",order:3818,tags:["needle","sewing","spool","string"],unicode:""},{group:6,hexcode:"1FAA1",label:"sewing needle",order:3819,tags:["embroidery","needle","sewing","stitches","sutures","tailoring"],unicode:""},{group:6,hexcode:"1F9F6",label:"yarn",order:3820,tags:["ball","crochet","knit"],unicode:""},{group:6,hexcode:"1FAA2",label:"knot",order:3821,tags:["rope","tangled","tie","twine","twist"],unicode:""},{group:7,hexcode:"1F453",label:"glasses",order:3822,tags:["clothing","eye","eyeglasses","eyewear"],unicode:""},{group:7,hexcode:"1F576",label:"sunglasses",order:3824,tags:["dark","eye","eyewear","glasses"],unicode:""},{group:7,hexcode:"1F97D",label:"goggles",order:3825,tags:["eye protection","swimming","welding"],unicode:""},{group:7,hexcode:"1F97C",label:"lab coat",order:3826,tags:["doctor","experiment","scientist"],unicode:""},{group:7,hexcode:"1F9BA",label:"safety vest",order:3827,tags:["emergency","safety","vest"],unicode:""},{group:7,hexcode:"1F454",label:"necktie",order:3828,tags:["clothing","tie"],unicode:""},{group:7,hexcode:"1F455",label:"t-shirt",order:3829,tags:["clothing","shirt","tshirt"],unicode:""},{group:7,hexcode:"1F456",label:"jeans",order:3830,tags:["clothing","pants","trousers"],unicode:""},{group:7,hexcode:"1F9E3",label:"scarf",order:3831,tags:["neck"],unicode:""},{group:7,hexcode:"1F9E4",label:"gloves",order:3832,tags:["hand"],unicode:""},{group:7,hexcode:"1F9E5",label:"coat",order:3833,tags:["jacket"],unicode:""},{group:7,hexcode:"1F9E6",label:"socks",order:3834,tags:["stocking"],unicode:""},{group:7,hexcode:"1F457",label:"dress",order:3835,tags:["clothing"],unicode:""},{group:7,hexcode:"1F458",label:"kimono",order:3836,tags:["clothing"],unicode:""},{group:7,hexcode:"1F97B",label:"sari",order:3837,tags:["clothing","dress"],unicode:""},{group:7,hexcode:"1FA71",label:"one-piece swimsuit",order:3838,tags:["bathing suit"],unicode:""},{group:7,hexcode:"1FA72",label:"briefs",order:3839,tags:["bathing suit","one-piece","swimsuit","underwear"],unicode:""},{group:7,hexcode:"1FA73",label:"shorts",order:3840,tags:["bathing suit","pants","underwear"],unicode:""},{group:7,hexcode:"1F459",label:"bikini",order:3841,tags:["clothing","swim"],unicode:""},{group:7,hexcode:"1F45A",label:"womans clothes",order:3842,tags:["clothing","woman"],unicode:""},{group:7,hexcode:"1F45B",label:"purse",order:3843,tags:["clothing","coin"],unicode:""},{group:7,hexcode:"1F45C",label:"handbag",order:3844,tags:["bag","clothing","purse"],unicode:""},{group:7,hexcode:"1F45D",label:"clutch bag",order:3845,tags:["bag","clothing","pouch"],unicode:""},{group:7,hexcode:"1F6CD",label:"shopping bags",order:3847,tags:["bag","hotel","shopping"],unicode:""},{group:7,hexcode:"1F392",label:"backpack",order:3848,tags:["bag","rucksack","satchel","school"],unicode:""},{group:7,hexcode:"1FA74",label:"thong sandal",order:3849,tags:["beach sandals","sandals","thong sandals","thongs","zri"],unicode:""},{group:7,hexcode:"1F45E",label:"mans shoe",order:3850,tags:["clothing","man","shoe"],unicode:""},{group:7,hexcode:"1F45F",label:"running shoe",order:3851,tags:["athletic","clothing","shoe","sneaker"],unicode:""},{group:7,hexcode:"1F97E",label:"hiking boot",order:3852,tags:["backpacking","boot","camping","hiking"],unicode:""},{group:7,hexcode:"1F97F",label:"flat shoe",order:3853,tags:["ballet flat","slip-on","slipper"],unicode:""},{group:7,hexcode:"1F460",label:"high-heeled shoe",order:3854,tags:["clothing","heel","shoe","woman"],unicode:""},{group:7,hexcode:"1F461",label:"womans sandal",order:3855,tags:["clothing","sandal","shoe","woman"],unicode:""},{group:7,hexcode:"1FA70",label:"ballet shoes",order:3856,tags:["ballet","dance"],unicode:""},{group:7,hexcode:"1F462",label:"womans boot",order:3857,tags:["boot","clothing","shoe","woman"],unicode:""},{group:7,hexcode:"1F451",label:"crown",order:3858,tags:["clothing","king","queen"],unicode:""},{group:7,hexcode:"1F452",label:"womans hat",order:3859,tags:["clothing","hat","woman"],unicode:""},{group:7,hexcode:"1F3A9",label:"top hat",order:3860,tags:["clothing","hat","top","tophat"],unicode:""},{group:7,hexcode:"1F393",label:"graduation cap",order:3861,tags:["cap","celebration","clothing","graduation","hat"],unicode:""},{group:7,hexcode:"1F9E2",label:"billed cap",order:3862,tags:["baseball cap"],unicode:""},{group:7,hexcode:"1FA96",label:"military helmet",order:3863,tags:["army","helmet","military","soldier","warrior"],unicode:""},{group:7,hexcode:"26D1",label:"rescue workers helmet",order:3865,tags:["aid","cross","face","hat","helmet"],unicode:""},{group:7,hexcode:"1F4FF",label:"prayer beads",order:3866,tags:["beads","clothing","necklace","prayer","religion"],unicode:""},{group:7,hexcode:"1F484",label:"lipstick",order:3867,tags:["cosmetics","makeup"],unicode:""},{group:7,hexcode:"1F48D",label:"ring",order:3868,tags:["diamond"],unicode:""},{group:7,hexcode:"1F48E",label:"gem stone",order:3869,tags:["diamond","gem","jewel"],unicode:""},{group:7,hexcode:"1F507",label:"muted speaker",order:3870,tags:["mute","quiet","silent","speaker"],unicode:""},{group:7,hexcode:"1F508",label:"speaker low volume",order:3871,tags:["soft"],unicode:""},{group:7,hexcode:"1F509",label:"speaker medium volume",order:3872,tags:["medium"],unicode:""},{group:7,hexcode:"1F50A",label:"speaker high volume",order:3873,tags:["loud"],unicode:""},{group:7,hexcode:"1F4E2",label:"loudspeaker",order:3874,tags:["loud","public address"],unicode:""},{group:7,hexcode:"1F4E3",label:"megaphone",order:3875,tags:["cheering"],unicode:""},{group:7,hexcode:"1F4EF",label:"postal horn",order:3876,tags:["horn","post","postal"],unicode:""},{group:7,hexcode:"1F514",label:"bell",order:3877,tags:["bell"],unicode:""},{group:7,hexcode:"1F515",label:"bell with slash",order:3878,tags:["bell","forbidden","mute","quiet","silent"],unicode:""},{group:7,hexcode:"1F3BC",label:"musical score",order:3879,tags:["music","score"],unicode:""},{group:7,hexcode:"1F3B5",label:"musical note",order:3880,tags:["music","note"],unicode:""},{group:7,hexcode:"1F3B6",label:"musical notes",order:3881,tags:["music","note","notes"],unicode:""},{group:7,hexcode:"1F399",label:"studio microphone",order:3883,tags:["mic","microphone","music","studio"],unicode:""},{group:7,hexcode:"1F39A",label:"level slider",order:3885,tags:["level","music","slider"],unicode:""},{group:7,hexcode:"1F39B",label:"control knobs",order:3887,tags:["control","knobs","music"],unicode:""},{group:7,hexcode:"1F3A4",label:"microphone",order:3888,tags:["karaoke","mic"],unicode:""},{group:7,hexcode:"1F3A7",label:"headphone",order:3889,tags:["earbud"],unicode:""},{group:7,hexcode:"1F4FB",label:"radio",order:3890,tags:["video"],unicode:""},{group:7,hexcode:"1F3B7",label:"saxophone",order:3891,tags:["instrument","music","sax"],unicode:""},{group:7,hexcode:"1FA97",label:"accordion",order:3892,tags:["concertina","squeeze box"],unicode:""},{group:7,hexcode:"1F3B8",label:"guitar",order:3893,tags:["instrument","music"],unicode:""},{group:7,hexcode:"1F3B9",label:"musical keyboard",order:3894,tags:["instrument","keyboard","music","piano"],unicode:""},{group:7,hexcode:"1F3BA",label:"trumpet",order:3895,tags:["instrument","music"],unicode:""},{group:7,hexcode:"1F3BB",label:"violin",order:3896,tags:["instrument","music"],unicode:""},{group:7,hexcode:"1FA95",label:"banjo",order:3897,tags:["music","stringed"],unicode:""},{group:7,hexcode:"1F941",label:"drum",order:3898,tags:["drumsticks","music"],unicode:""},{group:7,hexcode:"1FA98",label:"long drum",order:3899,tags:["beat","conga","drum","rhythm"],unicode:""},{group:7,hexcode:"1F4F1",label:"mobile phone",order:3900,tags:["cell","mobile","phone","telephone"],unicode:""},{group:7,hexcode:"1F4F2",label:"mobile phone with arrow",order:3901,tags:["arrow","cell","mobile","phone","receive"],unicode:""},{group:7,hexcode:"260E",label:"telephone",order:3903,tags:["phone"],unicode:""},{group:7,hexcode:"1F4DE",label:"telephone receiver",order:3904,tags:["phone","receiver","telephone"],unicode:""},{group:7,hexcode:"1F4DF",label:"pager",order:3905,tags:["pager"],unicode:""},{group:7,hexcode:"1F4E0",label:"fax machine",order:3906,tags:["fax"],unicode:""},{group:7,hexcode:"1F50B",label:"battery",order:3907,tags:["battery"],unicode:""},{group:7,hexcode:"1FAAB",label:"low battery",order:3908,tags:["electronic","low energy"],unicode:""},{group:7,hexcode:"1F50C",label:"electric plug",order:3909,tags:["electric","electricity","plug"],unicode:""},{group:7,hexcode:"1F4BB",label:"laptop",order:3910,tags:["computer","pc","personal"],unicode:""},{group:7,hexcode:"1F5A5",label:"desktop computer",order:3912,tags:["computer","desktop"],unicode:""},{group:7,hexcode:"1F5A8",label:"printer",order:3914,tags:["computer"],unicode:""},{group:7,hexcode:"2328",label:"keyboard",order:3916,tags:["computer"],unicode:""},{group:7,hexcode:"1F5B1",label:"computer mouse",order:3918,tags:["computer"],unicode:""},{group:7,hexcode:"1F5B2",label:"trackball",order:3920,tags:["computer"],unicode:""},{group:7,hexcode:"1F4BD",label:"computer disk",order:3921,tags:["computer","disk","minidisk","optical"],unicode:""},{group:7,hexcode:"1F4BE",label:"floppy disk",order:3922,tags:["computer","disk","floppy"],unicode:""},{group:7,hexcode:"1F4BF",label:"optical disk",order:3923,tags:["cd","computer","disk","optical"],unicode:""},{group:7,hexcode:"1F4C0",label:"dvd",order:3924,tags:["blu-ray","computer","disk","optical"],unicode:""},{group:7,hexcode:"1F9EE",label:"abacus",order:3925,tags:["calculation"],unicode:""},{group:7,hexcode:"1F3A5",label:"movie camera",order:3926,tags:["camera","cinema","movie"],unicode:""},{group:7,hexcode:"1F39E",label:"film frames",order:3928,tags:["cinema","film","frames","movie"],unicode:""},{group:7,hexcode:"1F4FD",label:"film projector",order:3930,tags:["cinema","film","movie","projector","video"],unicode:""},{group:7,hexcode:"1F3AC",label:"clapper board",order:3931,tags:["clapper","movie"],unicode:""},{group:7,hexcode:"1F4FA",label:"television",order:3932,tags:["tv","video"],unicode:""},{group:7,hexcode:"1F4F7",label:"camera",order:3933,tags:["video"],unicode:""},{group:7,hexcode:"1F4F8",label:"camera with flash",order:3934,tags:["camera","flash","video"],unicode:""},{group:7,hexcode:"1F4F9",label:"video camera",order:3935,tags:["camera","video"],unicode:""},{group:7,hexcode:"1F4FC",label:"videocassette",order:3936,tags:["tape","vhs","video"],unicode:""},{group:7,hexcode:"1F50D",label:"magnifying glass tilted left",order:3937,tags:["glass","magnifying","search","tool"],unicode:""},{group:7,hexcode:"1F50E",label:"magnifying glass tilted right",order:3938,tags:["glass","magnifying","search","tool"],unicode:""},{group:7,hexcode:"1F56F",label:"candle",order:3940,tags:["light"],unicode:""},{group:7,hexcode:"1F4A1",label:"light bulb",order:3941,tags:["bulb","comic","electric","idea","light"],unicode:""},{group:7,hexcode:"1F526",label:"flashlight",order:3942,tags:["electric","light","tool","torch"],unicode:""},{group:7,hexcode:"1F3EE",label:"red paper lantern",order:3943,tags:["bar","lantern","light","red"],unicode:""},{group:7,hexcode:"1FA94",label:"diya lamp",order:3944,tags:["diya","lamp","oil"],unicode:""},{group:7,hexcode:"1F4D4",label:"notebook with decorative cover",order:3945,tags:["book","cover","decorated","notebook"],unicode:""},{group:7,hexcode:"1F4D5",label:"closed book",order:3946,tags:["book","closed"],unicode:""},{group:7,hexcode:"1F4D6",label:"open book",order:3947,tags:["book","open"],unicode:""},{group:7,hexcode:"1F4D7",label:"green book",order:3948,tags:["book","green"],unicode:""},{group:7,hexcode:"1F4D8",label:"blue book",order:3949,tags:["blue","book"],unicode:""},{group:7,hexcode:"1F4D9",label:"orange book",order:3950,tags:["book","orange"],unicode:""},{group:7,hexcode:"1F4DA",label:"books",order:3951,tags:["book"],unicode:""},{group:7,hexcode:"1F4D3",label:"notebook",order:3952,tags:["notebook"],unicode:""},{group:7,hexcode:"1F4D2",label:"ledger",order:3953,tags:["notebook"],unicode:""},{group:7,hexcode:"1F4C3",label:"page with curl",order:3954,tags:["curl","document","page"],unicode:""},{group:7,hexcode:"1F4DC",label:"scroll",order:3955,tags:["paper"],unicode:""},{group:7,hexcode:"1F4C4",label:"page facing up",order:3956,tags:["document","page"],unicode:""},{group:7,hexcode:"1F4F0",label:"newspaper",order:3957,tags:["news","paper"],unicode:""},{group:7,hexcode:"1F5DE",label:"rolled-up newspaper",order:3959,tags:["news","newspaper","paper","rolled"],unicode:""},{group:7,hexcode:"1F4D1",label:"bookmark tabs",order:3960,tags:["bookmark","mark","marker","tabs"],unicode:""},{group:7,hexcode:"1F516",label:"bookmark",order:3961,tags:["mark"],unicode:""},{group:7,hexcode:"1F3F7",label:"label",order:3963,tags:["label"],unicode:""},{group:7,hexcode:"1F4B0",label:"money bag",order:3964,tags:["bag","dollar","money","moneybag"],unicode:""},{group:7,hexcode:"1FA99",label:"coin",order:3965,tags:["gold","metal","money","silver","treasure"],unicode:""},{group:7,hexcode:"1F4B4",label:"yen banknote",order:3966,tags:["banknote","bill","currency","money","note","yen"],unicode:""},{group:7,hexcode:"1F4B5",label:"dollar banknote",order:3967,tags:["banknote","bill","currency","dollar","money","note"],unicode:""},{group:7,hexcode:"1F4B6",label:"euro banknote",order:3968,tags:["banknote","bill","currency","euro","money","note"],unicode:""},{group:7,hexcode:"1F4B7",label:"pound banknote",order:3969,tags:["banknote","bill","currency","money","note","pound"],unicode:""},{group:7,hexcode:"1F4B8",label:"money with wings",order:3970,tags:["banknote","bill","fly","money","wings"],unicode:""},{group:7,hexcode:"1F4B3",label:"credit card",order:3971,tags:["card","credit","money"],unicode:""},{group:7,hexcode:"1F9FE",label:"receipt",order:3972,tags:["accounting","bookkeeping","evidence","proof"],unicode:""},{group:7,hexcode:"1F4B9",label:"chart increasing with yen",order:3973,tags:["chart","graph","growth","money","yen"],unicode:""},{group:7,hexcode:"2709",label:"envelope",order:3975,tags:["email","letter"],unicode:""},{group:7,hexcode:"1F4E7",label:"e-mail",order:3976,tags:["email","letter","mail"],unicode:""},{group:7,hexcode:"1F4E8",label:"incoming envelope",order:3977,tags:["e-mail","email","envelope","incoming","letter","receive"],unicode:""},{group:7,hexcode:"1F4E9",label:"envelope with arrow",order:3978,tags:["arrow","e-mail","email","envelope","outgoing"],unicode:""},{group:7,hexcode:"1F4E4",label:"outbox tray",order:3979,tags:["box","letter","mail","outbox","sent","tray"],unicode:""},{group:7,hexcode:"1F4E5",label:"inbox tray",order:3980,tags:["box","inbox","letter","mail","receive","tray"],unicode:""},{group:7,hexcode:"1F4E6",label:"package",order:3981,tags:["box","parcel"],unicode:""},{group:7,hexcode:"1F4EB",label:"closed mailbox with raised flag",order:3982,tags:["closed","mail","mailbox","postbox"],unicode:""},{group:7,hexcode:"1F4EA",label:"closed mailbox with lowered flag",order:3983,tags:["closed","lowered","mail","mailbox","postbox"],unicode:""},{group:7,hexcode:"1F4EC",label:"open mailbox with raised flag",order:3984,tags:["mail","mailbox","open","postbox"],unicode:""},{group:7,hexcode:"1F4ED",label:"open mailbox with lowered flag",order:3985,tags:["lowered","mail","mailbox","open","postbox"],unicode:""},{group:7,hexcode:"1F4EE",label:"postbox",order:3986,tags:["mail","mailbox"],unicode:""},{group:7,hexcode:"1F5F3",label:"ballot box with ballot",order:3988,tags:["ballot","box"],unicode:""},{group:7,hexcode:"270F",label:"pencil",order:3990,tags:["pencil"],unicode:""},{group:7,hexcode:"2712",label:"black nib",order:3992,tags:["nib","pen"],unicode:""},{group:7,hexcode:"1F58B",label:"fountain pen",order:3994,tags:["fountain","pen"],unicode:""},{group:7,hexcode:"1F58A",label:"pen",order:3996,tags:["ballpoint"],unicode:""},{group:7,hexcode:"1F58C",label:"paintbrush",order:3998,tags:["painting"],unicode:""},{group:7,hexcode:"1F58D",label:"crayon",order:4e3,tags:["crayon"],unicode:""},{group:7,hexcode:"1F4DD",label:"memo",order:4001,tags:["pencil"],unicode:""},{group:7,hexcode:"1F4BC",label:"briefcase",order:4002,tags:["briefcase"],unicode:""},{group:7,hexcode:"1F4C1",label:"file folder",order:4003,tags:["file","folder"],unicode:""},{group:7,hexcode:"1F4C2",label:"open file folder",order:4004,tags:["file","folder","open"],unicode:""},{group:7,hexcode:"1F5C2",label:"card index dividers",order:4006,tags:["card","dividers","index"],unicode:""},{group:7,hexcode:"1F4C5",label:"calendar",order:4007,tags:["date"],unicode:""},{group:7,hexcode:"1F4C6",label:"tear-off calendar",order:4008,tags:["calendar"],unicode:""},{group:7,hexcode:"1F5D2",label:"spiral notepad",order:4010,tags:["note","pad","spiral"],unicode:""},{group:7,hexcode:"1F5D3",label:"spiral calendar",order:4012,tags:["calendar","pad","spiral"],unicode:""},{group:7,hexcode:"1F4C7",label:"card index",order:4013,tags:["card","index","rolodex"],unicode:""},{group:7,hexcode:"1F4C8",label:"chart increasing",order:4014,tags:["chart","graph","growth","trend","upward"],unicode:""},{group:7,hexcode:"1F4C9",label:"chart decreasing",order:4015,tags:["chart","down","graph","trend"],unicode:""},{group:7,hexcode:"1F4CA",label:"bar chart",order:4016,tags:["bar","chart","graph"],unicode:""},{group:7,hexcode:"1F4CB",label:"clipboard",order:4017,tags:["clipboard"],unicode:""},{group:7,hexcode:"1F4CC",label:"pushpin",order:4018,tags:["pin"],unicode:""},{group:7,hexcode:"1F4CD",label:"round pushpin",order:4019,tags:["pin","pushpin"],unicode:""},{group:7,hexcode:"1F4CE",label:"paperclip",order:4020,tags:["paperclip"],unicode:""},{group:7,hexcode:"1F587",label:"linked paperclips",order:4022,tags:["link","paperclip"],unicode:""},{group:7,hexcode:"1F4CF",label:"straight ruler",order:4023,tags:["ruler","straight edge"],unicode:""},{group:7,hexcode:"1F4D0",label:"triangular ruler",order:4024,tags:["ruler","set","triangle"],unicode:""},{group:7,hexcode:"2702",label:"scissors",order:4026,tags:["cutting","tool"],unicode:""},{group:7,hexcode:"1F5C3",label:"card file box",order:4028,tags:["box","card","file"],unicode:""},{group:7,hexcode:"1F5C4",label:"file cabinet",order:4030,tags:["cabinet","file","filing"],unicode:""},{group:7,hexcode:"1F5D1",label:"wastebasket",order:4032,tags:["wastebasket"],unicode:""},{group:7,hexcode:"1F512",label:"locked",order:4033,tags:["closed"],unicode:""},{group:7,hexcode:"1F513",label:"unlocked",order:4034,tags:["lock","open","unlock"],unicode:""},{group:7,hexcode:"1F50F",label:"locked with pen",order:4035,tags:["ink","lock","nib","pen","privacy"],unicode:""},{group:7,hexcode:"1F510",label:"locked with key",order:4036,tags:["closed","key","lock","secure"],unicode:""},{group:7,hexcode:"1F511",label:"key",order:4037,tags:["lock","password"],unicode:""},{group:7,hexcode:"1F5DD",label:"old key",order:4039,tags:["clue","key","lock","old"],unicode:""},{group:7,hexcode:"1F528",label:"hammer",order:4040,tags:["tool"],unicode:""},{group:7,hexcode:"1FA93",label:"axe",order:4041,tags:["chop","hatchet","split","wood"],unicode:""},{group:7,hexcode:"26CF",label:"pick",order:4043,tags:["mining","tool"],unicode:""},{group:7,hexcode:"2692",label:"hammer and pick",order:4045,tags:["hammer","pick","tool"],unicode:""},{group:7,hexcode:"1F6E0",label:"hammer and wrench",order:4047,tags:["hammer","spanner","tool","wrench"],unicode:""},{group:7,hexcode:"1F5E1",label:"dagger",order:4049,tags:["knife","weapon"],unicode:""},{group:7,hexcode:"2694",label:"crossed swords",order:4051,tags:["crossed","swords","weapon"],unicode:""},{group:7,hexcode:"1F52B",label:"water pistol",order:4052,tags:["gun","handgun","pistol","revolver","tool","water","weapon"],unicode:""},{group:7,hexcode:"1FA83",label:"boomerang",order:4053,tags:["australia","rebound","repercussion"],unicode:""},{group:7,hexcode:"1F3F9",label:"bow and arrow",order:4054,tags:["archer","arrow","bow","sagittarius","zodiac"],unicode:""},{group:7,hexcode:"1F6E1",label:"shield",order:4056,tags:["weapon"],unicode:""},{group:7,hexcode:"1FA9A",label:"carpentry saw",order:4057,tags:["carpenter","lumber","saw","tool"],unicode:""},{group:7,hexcode:"1F527",label:"wrench",order:4058,tags:["spanner","tool"],unicode:""},{group:7,hexcode:"1FA9B",label:"screwdriver",order:4059,tags:["screw","tool"],unicode:""},{group:7,hexcode:"1F529",label:"nut and bolt",order:4060,tags:["bolt","nut","tool"],unicode:""},{group:7,hexcode:"2699",label:"gear",order:4062,tags:["cog","cogwheel","tool"],unicode:""},{group:7,hexcode:"1F5DC",label:"clamp",order:4064,tags:["compress","tool","vice"],unicode:""},{group:7,hexcode:"2696",label:"balance scale",order:4066,tags:["balance","justice","libra","scale","zodiac"],unicode:""},{group:7,hexcode:"1F9AF",label:"white cane",order:4067,tags:["accessibility","blind"],unicode:""},{group:7,hexcode:"1F517",label:"link",order:4068,tags:["link"],unicode:""},{group:7,hexcode:"26D3",label:"chains",order:4070,tags:["chain"],unicode:""},{group:7,hexcode:"1FA9D",label:"hook",order:4071,tags:["catch","crook","curve","ensnare","selling point"],unicode:""},{group:7,hexcode:"1F9F0",label:"toolbox",order:4072,tags:["chest","mechanic","tool"],unicode:""},{group:7,hexcode:"1F9F2",label:"magnet",order:4073,tags:["attraction","horseshoe","magnetic"],unicode:""},{group:7,hexcode:"1FA9C",label:"ladder",order:4074,tags:["climb","rung","step"],unicode:""},{group:7,hexcode:"2697",label:"alembic",order:4076,tags:["chemistry","tool"],unicode:""},{group:7,hexcode:"1F9EA",label:"test tube",order:4077,tags:["chemist","chemistry","experiment","lab","science"],unicode:""},{group:7,hexcode:"1F9EB",label:"petri dish",order:4078,tags:["bacteria","biologist","biology","culture","lab"],unicode:""},{group:7,hexcode:"1F9EC",label:"dna",order:4079,tags:["biologist","evolution","gene","genetics","life"],unicode:""},{group:7,hexcode:"1F52C",label:"microscope",order:4080,tags:["science","tool"],unicode:""},{group:7,hexcode:"1F52D",label:"telescope",order:4081,tags:["science","tool"],unicode:""},{group:7,hexcode:"1F4E1",label:"satellite antenna",order:4082,tags:["antenna","dish","satellite"],unicode:""},{group:7,hexcode:"1F489",label:"syringe",order:4083,tags:["medicine","needle","shot","sick"],unicode:""},{group:7,hexcode:"1FA78",label:"drop of blood",order:4084,tags:["bleed","blood donation","injury","medicine","menstruation"],unicode:""},{group:7,hexcode:"1F48A",label:"pill",order:4085,tags:["doctor","medicine","sick"],unicode:""},{group:7,hexcode:"1FA79",label:"adhesive bandage",order:4086,tags:["bandage"],unicode:""},{group:7,hexcode:"1FA7C",label:"crutch",order:4087,tags:["cane","disability","hurt","mobility aid","stick"],unicode:""},{group:7,hexcode:"1FA7A",label:"stethoscope",order:4088,tags:["doctor","heart","medicine"],unicode:""},{group:7,hexcode:"1FA7B",label:"x-ray",order:4089,tags:["bones","doctor","medical","skeleton"],unicode:""},{group:7,hexcode:"1F6AA",label:"door",order:4090,tags:["door"],unicode:""},{group:7,hexcode:"1F6D7",label:"elevator",order:4091,tags:["accessibility","hoist","lift"],unicode:""},{group:7,hexcode:"1FA9E",label:"mirror",order:4092,tags:["reflection","reflector","speculum"],unicode:""},{group:7,hexcode:"1FA9F",label:"window",order:4093,tags:["frame","fresh air","opening","transparent","view"],unicode:""},{group:7,hexcode:"1F6CF",label:"bed",order:4095,tags:["hotel","sleep"],unicode:""},{group:7,hexcode:"1F6CB",label:"couch and lamp",order:4097,tags:["couch","hotel","lamp"],unicode:""},{group:7,hexcode:"1FA91",label:"chair",order:4098,tags:["seat","sit"],unicode:""},{group:7,hexcode:"1F6BD",label:"toilet",order:4099,tags:["toilet"],unicode:""},{group:7,hexcode:"1FAA0",label:"plunger",order:4100,tags:["force cup","plumber","suction","toilet"],unicode:""},{group:7,hexcode:"1F6BF",label:"shower",order:4101,tags:["water"],unicode:""},{group:7,hexcode:"1F6C1",label:"bathtub",order:4102,tags:["bath"],unicode:""},{group:7,hexcode:"1FAA4",label:"mouse trap",order:4103,tags:["bait","mousetrap","snare","trap"],unicode:""},{group:7,hexcode:"1FA92",label:"razor",order:4104,tags:["sharp","shave"],unicode:""},{group:7,hexcode:"1F9F4",label:"lotion bottle",order:4105,tags:["lotion","moisturizer","shampoo","sunscreen"],unicode:""},{group:7,hexcode:"1F9F7",label:"safety pin",order:4106,tags:["diaper","punk rock"],unicode:""},{group:7,hexcode:"1F9F9",label:"broom",order:4107,tags:["cleaning","sweeping","witch"],unicode:""},{group:7,hexcode:"1F9FA",label:"basket",order:4108,tags:["farming","laundry","picnic"],unicode:""},{group:7,hexcode:"1F9FB",label:"roll of paper",order:4109,tags:["paper towels","toilet paper"],unicode:""},{group:7,hexcode:"1FAA3",label:"bucket",order:4110,tags:["cask","pail","vat"],unicode:""},{group:7,hexcode:"1F9FC",label:"soap",order:4111,tags:["bar","bathing","cleaning","lather","soapdish"],unicode:""},{group:7,hexcode:"1FAE7",label:"bubbles",order:4112,tags:["burp","clean","soap","underwater"],unicode:""},{group:7,hexcode:"1FAA5",label:"toothbrush",order:4113,tags:["bathroom","brush","clean","dental","hygiene","teeth"],unicode:""},{group:7,hexcode:"1F9FD",label:"sponge",order:4114,tags:["absorbing","cleaning","porous"],unicode:""},{group:7,hexcode:"1F9EF",label:"fire extinguisher",order:4115,tags:["extinguish","fire","quench"],unicode:""},{group:7,hexcode:"1F6D2",label:"shopping cart",order:4116,tags:["cart","shopping","trolley"],unicode:""},{group:7,hexcode:"1F6AC",label:"cigarette",order:4117,tags:["smoking"],unicode:""},{group:7,hexcode:"26B0",label:"coffin",order:4119,tags:["death"],unicode:""},{group:7,hexcode:"1FAA6",label:"headstone",order:4120,tags:["cemetery","grave","graveyard","tombstone"],unicode:""},{group:7,hexcode:"26B1",label:"funeral urn",order:4122,tags:["ashes","death","funeral","urn"],unicode:""},{group:7,hexcode:"1F5FF",label:"moai",order:4123,tags:["face","moyai","statue"],unicode:""},{group:7,hexcode:"1FAA7",label:"placard",order:4124,tags:["demonstration","picket","protest","sign"],unicode:""},{group:7,hexcode:"1FAAA",label:"identification card",order:4125,tags:["credentials","id","license","security"],unicode:""},{group:8,hexcode:"1F3E7",label:"ATM sign",order:4126,tags:["atm","atm sign","automated","bank","teller"],unicode:""},{group:8,hexcode:"1F6AE",label:"litter in bin sign",order:4127,tags:["litter","litter bin"],unicode:""},{group:8,hexcode:"1F6B0",label:"potable water",order:4128,tags:["drinking","potable","water"],unicode:""},{group:8,hexcode:"267F",label:"wheelchair symbol",order:4129,tags:["access"],unicode:""},{group:8,hexcode:"1F6B9",label:"mens room",order:4130,tags:["bathroom","lavatory","man","restroom","toilet","wc"],unicode:""},{group:8,hexcode:"1F6BA",label:"womens room",order:4131,tags:["bathroom","lavatory","restroom","toilet","wc","woman"],unicode:""},{group:8,hexcode:"1F6BB",label:"restroom",order:4132,tags:["bathroom","lavatory","toilet","wc"],unicode:""},{group:8,hexcode:"1F6BC",label:"baby symbol",order:4133,tags:["baby","changing"],unicode:""},{group:8,hexcode:"1F6BE",label:"water closet",order:4134,tags:["bathroom","closet","lavatory","restroom","toilet","water","wc"],unicode:""},{group:8,hexcode:"1F6C2",label:"passport control",order:4135,tags:["control","passport"],unicode:""},{group:8,hexcode:"1F6C3",label:"customs",order:4136,tags:["customs"],unicode:""},{group:8,hexcode:"1F6C4",label:"baggage claim",order:4137,tags:["baggage","claim"],unicode:""},{group:8,hexcode:"1F6C5",label:"left luggage",order:4138,tags:["baggage","locker","luggage"],unicode:""},{group:8,hexcode:"26A0",label:"warning",order:4140,tags:["warning"],unicode:""},{group:8,hexcode:"1F6B8",label:"children crossing",order:4141,tags:["child","crossing","pedestrian","traffic"],unicode:""},{group:8,hexcode:"26D4",label:"no entry",order:4142,tags:["entry","forbidden","no","not","prohibited","traffic"],unicode:""},{group:8,hexcode:"1F6AB",label:"prohibited",order:4143,tags:["entry","forbidden","no","not"],unicode:""},{group:8,hexcode:"1F6B3",label:"no bicycles",order:4144,tags:["bicycle","bike","forbidden","no","prohibited"],unicode:""},{group:8,hexcode:"1F6AD",label:"no smoking",order:4145,tags:["forbidden","no","not","prohibited","smoking"],unicode:""},{group:8,hexcode:"1F6AF",label:"no littering",order:4146,tags:["forbidden","litter","no","not","prohibited"],unicode:""},{group:8,hexcode:"1F6B1",label:"non-potable water",order:4147,tags:["non-drinking","non-potable","water"],unicode:""},{group:8,hexcode:"1F6B7",label:"no pedestrians",order:4148,tags:["forbidden","no","not","pedestrian","prohibited"],unicode:""},{group:8,hexcode:"1F4F5",label:"no mobile phones",order:4149,tags:["cell","forbidden","mobile","no","phone"],unicode:""},{group:8,hexcode:"1F51E",label:"no one under eighteen",order:4150,tags:["18","age restriction","eighteen","prohibited","underage"],unicode:""},{group:8,hexcode:"2622",label:"radioactive",order:4152,tags:["sign"],unicode:""},{group:8,hexcode:"2623",label:"biohazard",order:4154,tags:["sign"],unicode:""},{group:8,hexcode:"2B06",label:"up arrow",order:4156,tags:["arrow","cardinal","direction","north"],unicode:""},{group:8,hexcode:"2197",label:"up-right arrow",order:4158,tags:["arrow","direction","intercardinal","northeast"],unicode:""},{group:8,hexcode:"27A1",label:"right arrow",order:4160,tags:["arrow","cardinal","direction","east"],unicode:""},{group:8,hexcode:"2198",label:"down-right arrow",order:4162,tags:["arrow","direction","intercardinal","southeast"],unicode:""},{group:8,hexcode:"2B07",label:"down arrow",order:4164,tags:["arrow","cardinal","direction","down","south"],unicode:""},{group:8,hexcode:"2199",label:"down-left arrow",order:4166,tags:["arrow","direction","intercardinal","southwest"],unicode:""},{group:8,hexcode:"2B05",label:"left arrow",order:4168,tags:["arrow","cardinal","direction","west"],unicode:""},{group:8,hexcode:"2196",label:"up-left arrow",order:4170,tags:["arrow","direction","intercardinal","northwest"],unicode:""},{group:8,hexcode:"2195",label:"up-down arrow",order:4172,tags:["arrow"],unicode:""},{group:8,hexcode:"2194",label:"left-right arrow",order:4174,tags:["arrow"],unicode:""},{group:8,hexcode:"21A9",label:"right arrow curving left",order:4176,tags:["arrow"],unicode:""},{group:8,hexcode:"21AA",label:"left arrow curving right",order:4178,tags:["arrow"],unicode:""},{group:8,hexcode:"2934",label:"right arrow curving up",order:4180,tags:["arrow"],unicode:""},{group:8,hexcode:"2935",label:"right arrow curving down",order:4182,tags:["arrow","down"],unicode:""},{group:8,hexcode:"1F503",label:"clockwise vertical arrows",order:4183,tags:["arrow","clockwise","reload"],unicode:""},{group:8,hexcode:"1F504",label:"counterclockwise arrows button",order:4184,tags:["anticlockwise","arrow","counterclockwise","withershins"],unicode:""},{group:8,hexcode:"1F519",label:"BACK arrow",order:4185,tags:["arrow","back"],unicode:""},{group:8,hexcode:"1F51A",label:"END arrow",order:4186,tags:["arrow","end"],unicode:""},{group:8,hexcode:"1F51B",label:"ON! arrow",order:4187,tags:["arrow","mark","on","on!"],unicode:""},{group:8,hexcode:"1F51C",label:"SOON arrow",order:4188,tags:["arrow","soon"],unicode:""},{group:8,hexcode:"1F51D",label:"TOP arrow",order:4189,tags:["arrow","top","up"],unicode:""},{group:8,hexcode:"1F6D0",label:"place of worship",order:4190,tags:["religion","worship"],unicode:""},{group:8,hexcode:"269B",label:"atom symbol",order:4192,tags:["atheist","atom"],unicode:""},{group:8,hexcode:"1F549",label:"om",order:4194,tags:["hindu","religion"],unicode:""},{group:8,hexcode:"2721",label:"star of David",order:4196,tags:["david","jew","jewish","religion","star","star of david"],unicode:""},{group:8,hexcode:"2638",label:"wheel of dharma",order:4198,tags:["buddhist","dharma","religion","wheel"],unicode:""},{group:8,hexcode:"262F",label:"yin yang",order:4200,tags:["religion","tao","taoist","yang","yin"],unicode:""},{group:8,hexcode:"271D",label:"latin cross",order:4202,tags:["christian","cross","religion"],unicode:""},{group:8,hexcode:"2626",label:"orthodox cross",order:4204,tags:["christian","cross","religion"],unicode:""},{group:8,hexcode:"262A",label:"star and crescent",order:4206,tags:["islam","muslim","religion"],unicode:""},{group:8,hexcode:"262E",label:"peace symbol",order:4208,tags:["peace"],unicode:""},{group:8,hexcode:"1F54E",label:"menorah",order:4209,tags:["candelabrum","candlestick","religion"],unicode:""},{group:8,hexcode:"1F52F",label:"dotted six-pointed star",order:4210,tags:["fortune","star"],unicode:""},{group:8,hexcode:"2648",label:"Aries",order:4211,tags:["aries","ram","zodiac"],unicode:""},{group:8,hexcode:"2649",label:"Taurus",order:4212,tags:["bull","ox","taurus","zodiac"],unicode:""},{group:8,hexcode:"264A",label:"Gemini",order:4213,tags:["gemini","twins","zodiac"],unicode:""},{group:8,hexcode:"264B",label:"Cancer",order:4214,tags:["cancer","crab","zodiac"],unicode:""},{group:8,hexcode:"264C",label:"Leo",order:4215,tags:["leo","lion","zodiac"],unicode:""},{group:8,hexcode:"264D",label:"Virgo",order:4216,tags:["virgo","zodiac"],unicode:""},{group:8,hexcode:"264E",label:"Libra",order:4217,tags:["balance","justice","libra","scales","zodiac"],unicode:""},{group:8,hexcode:"264F",label:"Scorpio",order:4218,tags:["scorpio","scorpion","scorpius","zodiac"],unicode:""},{group:8,hexcode:"2650",label:"Sagittarius",order:4219,tags:["archer","sagittarius","zodiac"],unicode:""},{group:8,hexcode:"2651",label:"Capricorn",order:4220,tags:["capricorn","goat","zodiac"],unicode:""},{group:8,hexcode:"2652",label:"Aquarius",order:4221,tags:["aquarius","bearer","water","zodiac"],unicode:""},{group:8,hexcode:"2653",label:"Pisces",order:4222,tags:["fish","pisces","zodiac"],unicode:""},{group:8,hexcode:"26CE",label:"Ophiuchus",order:4223,tags:["bearer","ophiuchus","serpent","snake","zodiac"],unicode:""},{group:8,hexcode:"1F500",label:"shuffle tracks button",order:4224,tags:["arrow","crossed"],unicode:""},{group:8,hexcode:"1F501",label:"repeat button",order:4225,tags:["arrow","clockwise","repeat"],unicode:""},{group:8,hexcode:"1F502",label:"repeat single button",order:4226,tags:["arrow","clockwise","once"],unicode:""},{group:8,hexcode:"25B6",label:"play button",order:4228,tags:["arrow","play","right","triangle"],unicode:""},{group:8,hexcode:"23E9",label:"fast-forward button",order:4229,tags:["arrow","double","fast","forward"],unicode:""},{group:8,hexcode:"23ED",label:"next track button",order:4231,tags:["arrow","next scene","next track","triangle"],unicode:""},{group:8,hexcode:"23EF",label:"play or pause button",order:4233,tags:["arrow","pause","play","right","triangle"],unicode:""},{group:8,hexcode:"25C0",label:"reverse button",order:4235,tags:["arrow","left","reverse","triangle"],unicode:""},{group:8,hexcode:"23EA",label:"fast reverse button",order:4236,tags:["arrow","double","rewind"],unicode:""},{group:8,hexcode:"23EE",label:"last track button",order:4238,tags:["arrow","previous scene","previous track","triangle"],unicode:""},{group:8,hexcode:"1F53C",label:"upwards button",order:4239,tags:["arrow","button","red"],unicode:""},{group:8,hexcode:"23EB",label:"fast up button",order:4240,tags:["arrow","double"],unicode:""},{group:8,hexcode:"1F53D",label:"downwards button",order:4241,tags:["arrow","button","down","red"],unicode:""},{group:8,hexcode:"23EC",label:"fast down button",order:4242,tags:["arrow","double","down"],unicode:""},{group:8,hexcode:"23F8",label:"pause button",order:4244,tags:["bar","double","pause","vertical"],unicode:""},{group:8,hexcode:"23F9",label:"stop button",order:4246,tags:["square","stop"],unicode:""},{group:8,hexcode:"23FA",label:"record button",order:4248,tags:["circle","record"],unicode:""},{group:8,hexcode:"23CF",label:"eject button",order:4250,tags:["eject"],unicode:""},{group:8,hexcode:"1F3A6",label:"cinema",order:4251,tags:["camera","film","movie"],unicode:""},{group:8,hexcode:"1F505",label:"dim button",order:4252,tags:["brightness","dim","low"],unicode:""},{group:8,hexcode:"1F506",label:"bright button",order:4253,tags:["bright","brightness"],unicode:""},{group:8,hexcode:"1F4F6",label:"antenna bars",order:4254,tags:["antenna","bar","cell","mobile","phone"],unicode:""},{group:8,hexcode:"1F4F3",label:"vibration mode",order:4255,tags:["cell","mobile","mode","phone","telephone","vibration"],unicode:""},{group:8,hexcode:"1F4F4",label:"mobile phone off",order:4256,tags:["cell","mobile","off","phone","telephone"],unicode:""},{group:8,hexcode:"2640",label:"female sign",order:4258,tags:["woman"],unicode:""},{group:8,hexcode:"2642",label:"male sign",order:4260,tags:["man"],unicode:""},{group:8,hexcode:"26A7",label:"transgender symbol",order:4262,tags:["transgender"],unicode:""},{group:8,hexcode:"2716",label:"multiply",order:4264,tags:["cancel","multiplication","sign","x",""],unicode:""},{group:8,hexcode:"2795",label:"plus",order:4265,tags:["+","math","sign"],unicode:""},{group:8,hexcode:"2796",label:"minus",order:4266,tags:["-","math","sign",""],unicode:""},{group:8,hexcode:"2797",label:"divide",order:4267,tags:["division","math","sign",""],unicode:""},{group:8,hexcode:"1F7F0",label:"heavy equals sign",order:4268,tags:["equality","math"],unicode:""},{group:8,hexcode:"267E",label:"infinity",order:4270,tags:["forever","unbounded","universal"],unicode:""},{group:8,hexcode:"203C",label:"double exclamation mark",order:4272,tags:["!","!!","bangbang","exclamation","mark"],unicode:""},{group:8,hexcode:"2049",label:"exclamation question mark",order:4274,tags:["!","!?","?","exclamation","interrobang","mark","punctuation","question"],unicode:""},{group:8,hexcode:"2753",label:"red question mark",order:4275,tags:["?","mark","punctuation","question"],unicode:""},{group:8,hexcode:"2754",label:"white question mark",order:4276,tags:["?","mark","outlined","punctuation","question"],unicode:""},{group:8,hexcode:"2755",label:"white exclamation mark",order:4277,tags:["!","exclamation","mark","outlined","punctuation"],unicode:""},{group:8,hexcode:"2757",label:"red exclamation mark",order:4278,tags:["!","exclamation","mark","punctuation"],unicode:""},{group:8,hexcode:"3030",label:"wavy dash",order:4280,tags:["dash","punctuation","wavy"],unicode:""},{group:8,hexcode:"1F4B1",label:"currency exchange",order:4281,tags:["bank","currency","exchange","money"],unicode:""},{group:8,hexcode:"1F4B2",label:"heavy dollar sign",order:4282,tags:["currency","dollar","money"],unicode:""},{group:8,hexcode:"2695",label:"medical symbol",order:4284,tags:["aesculapius","medicine","staff"],unicode:""},{group:8,hexcode:"267B",label:"recycling symbol",order:4286,tags:["recycle"],unicode:""},{group:8,hexcode:"269C",label:"fleur-de-lis",order:4288,tags:["fleur-de-lis"],unicode:""},{group:8,hexcode:"1F531",label:"trident emblem",order:4289,tags:["anchor","emblem","ship","tool","trident"],unicode:""},{group:8,hexcode:"1F4DB",label:"name badge",order:4290,tags:["badge","name"],unicode:""},{group:8,hexcode:"1F530",label:"Japanese symbol for beginner",order:4291,tags:["beginner","chevron","japanese","japanese symbol for beginner","leaf"],unicode:""},{group:8,hexcode:"2B55",label:"hollow red circle",order:4292,tags:["circle","large","o","red"],unicode:""},{group:8,hexcode:"2705",label:"check mark button",order:4293,tags:["button","check","mark",""],unicode:""},{group:8,hexcode:"2611",label:"check box with check",order:4295,tags:["box","check",""],unicode:""},{group:8,hexcode:"2714",label:"check mark",order:4297,tags:["check","mark",""],unicode:""},{group:8,hexcode:"274C",label:"cross mark",order:4298,tags:["cancel","cross","mark","multiplication","multiply","x",""],unicode:""},{group:8,hexcode:"274E",label:"cross mark button",order:4299,tags:["mark","square","x",""],unicode:""},{group:8,hexcode:"27B0",label:"curly loop",order:4300,tags:["curl","loop"],unicode:""},{group:8,hexcode:"27BF",label:"double curly loop",order:4301,tags:["curl","double","loop"],unicode:""},{group:8,hexcode:"303D",label:"part alternation mark",order:4303,tags:["mark","part"],unicode:""},{group:8,hexcode:"2733",label:"eight-spoked asterisk",order:4305,tags:["*","asterisk"],unicode:""},{group:8,hexcode:"2734",label:"eight-pointed star",order:4307,tags:["*","star"],unicode:""},{group:8,hexcode:"2747",label:"sparkle",order:4309,tags:["*"],unicode:""},{group:8,hexcode:"00A9",label:"copyright",order:4311,tags:["c"],unicode:""},{group:8,hexcode:"00AE",label:"registered",order:4313,tags:["r"],unicode:""},{group:8,hexcode:"2122",label:"trade mark",order:4315,tags:["mark","tm","trademark"],unicode:""},{group:8,hexcode:"0023-FE0F-20E3",label:"keycap: #",order:4316,tags:["keycap"],unicode:"#"},{group:8,hexcode:"002A-FE0F-20E3",label:"keycap: *",order:4318,tags:["keycap"],unicode:"*"},{group:8,hexcode:"0030-FE0F-20E3",label:"keycap: 0",order:4320,tags:["keycap"],unicode:"0"},{group:8,hexcode:"0031-FE0F-20E3",label:"keycap: 1",order:4322,tags:["keycap"],unicode:"1"},{group:8,hexcode:"0032-FE0F-20E3",label:"keycap: 2",order:4324,tags:["keycap"],unicode:"2"},{group:8,hexcode:"0033-FE0F-20E3",label:"keycap: 3",order:4326,tags:["keycap"],unicode:"3"},{group:8,hexcode:"0034-FE0F-20E3",label:"keycap: 4",order:4328,tags:["keycap"],unicode:"4"},{group:8,hexcode:"0035-FE0F-20E3",label:"keycap: 5",order:4330,tags:["keycap"],unicode:"5"},{group:8,hexcode:"0036-FE0F-20E3",label:"keycap: 6",order:4332,tags:["keycap"],unicode:"6"},{group:8,hexcode:"0037-FE0F-20E3",label:"keycap: 7",order:4334,tags:["keycap"],unicode:"7"},{group:8,hexcode:"0038-FE0F-20E3",label:"keycap: 8",order:4336,tags:["keycap"],unicode:"8"},{group:8,hexcode:"0039-FE0F-20E3",label:"keycap: 9",order:4338,tags:["keycap"],unicode:"9"},{group:8,hexcode:"1F51F",label:"keycap: 10",order:4340,tags:["keycap"],unicode:""},{group:8,hexcode:"1F520",label:"input latin uppercase",order:4341,tags:["abcd","input","latin","letters","uppercase"],unicode:""},{group:8,hexcode:"1F521",label:"input latin lowercase",order:4342,tags:["abcd","input","latin","letters","lowercase"],unicode:""},{group:8,hexcode:"1F522",label:"input numbers",order:4343,tags:["1234","input","numbers"],unicode:""},{group:8,hexcode:"1F523",label:"input symbols",order:4344,tags:["input","&%"],unicode:""},{group:8,hexcode:"1F524",label:"input latin letters",order:4345,tags:["abc","alphabet","input","latin","letters"],unicode:""},{group:8,hexcode:"1F170",label:"A button (blood type)",order:4347,tags:["a","a button (blood type)","blood type"],unicode:""},{group:8,hexcode:"1F18E",label:"AB button (blood type)",order:4348,tags:["ab","ab button (blood type)","blood type"],unicode:""},{group:8,hexcode:"1F171",label:"B button (blood type)",order:4350,tags:["b","b button (blood type)","blood type"],unicode:""},{group:8,hexcode:"1F191",label:"CL button",order:4351,tags:["cl","cl button"],unicode:""},{group:8,hexcode:"1F192",label:"COOL button",order:4352,tags:["cool","cool button"],unicode:""},{group:8,hexcode:"1F193",label:"FREE button",order:4353,tags:["free","free button"],unicode:""},{group:8,hexcode:"2139",label:"information",order:4355,tags:["i"],unicode:""},{group:8,hexcode:"1F194",label:"ID button",order:4356,tags:["id","id button","identity"],unicode:""},{group:8,hexcode:"24C2",label:"circled M",order:4358,tags:["circle","circled m","m"],unicode:""},{group:8,hexcode:"1F195",label:"NEW button",order:4359,tags:["new","new button"],unicode:""},{group:8,hexcode:"1F196",label:"NG button",order:4360,tags:["ng","ng button"],unicode:""},{group:8,hexcode:"1F17E",label:"O button (blood type)",order:4362,tags:["blood type","o","o button (blood type)"],unicode:""},{group:8,hexcode:"1F197",label:"OK button",order:4363,tags:["ok","ok button"],unicode:""},{group:8,hexcode:"1F17F",label:"P button",order:4365,tags:["p","p button","parking"],unicode:""},{group:8,hexcode:"1F198",label:"SOS button",order:4366,tags:["help","sos","sos button"],unicode:""},{group:8,hexcode:"1F199",label:"UP! button",order:4367,tags:["mark","up","up!","up! button"],unicode:""},{group:8,hexcode:"1F19A",label:"VS button",order:4368,tags:["versus","vs","vs button"],unicode:""},{group:8,hexcode:"1F201",label:"Japanese here button",order:4369,tags:["japanese","japanese here button","katakana","here",""],unicode:""},{group:8,hexcode:"1F202",label:"Japanese service charge button",order:4371,tags:["japanese","japanese service charge button","katakana","service charge",""],unicode:""},{group:8,hexcode:"1F237",label:"Japanese monthly amount button",order:4373,tags:["ideograph","japanese","japanese monthly amount button","monthly amount",""],unicode:""},{group:8,hexcode:"1F236",label:"Japanese not free of charge button",order:4374,tags:["ideograph","japanese","japanese not free of charge button","not free of charge",""],unicode:""},{group:8,hexcode:"1F22F",label:"Japanese reserved button",order:4375,tags:["ideograph","japanese","japanese reserved button","reserved",""],unicode:""},{group:8,hexcode:"1F250",label:"Japanese bargain button",order:4376,tags:["ideograph","japanese","japanese bargain button","bargain",""],unicode:""},{group:8,hexcode:"1F239",label:"Japanese discount button",order:4377,tags:["ideograph","japanese","japanese discount button","discount",""],unicode:""},{group:8,hexcode:"1F21A",label:"Japanese free of charge button",order:4378,tags:["ideograph","japanese","japanese free of charge button","free of charge",""],unicode:""},{group:8,hexcode:"1F232",label:"Japanese prohibited button",order:4379,tags:["ideograph","japanese","japanese prohibited button","prohibited",""],unicode:""},{group:8,hexcode:"1F251",label:"Japanese acceptable button",order:4380,tags:["ideograph","japanese","japanese acceptable button","acceptable",""],unicode:""},{group:8,hexcode:"1F238",label:"Japanese application button",order:4381,tags:["ideograph","japanese","japanese application button","application",""],unicode:""},{group:8,hexcode:"1F234",label:"Japanese passing grade button",order:4382,tags:["ideograph","japanese","japanese passing grade button","passing grade",""],unicode:""},{group:8,hexcode:"1F233",label:"Japanese vacancy button",order:4383,tags:["ideograph","japanese","japanese vacancy button","vacancy",""],unicode:""},{group:8,hexcode:"3297",label:"Japanese congratulations button",order:4385,tags:["ideograph","japanese","japanese congratulations button","congratulations",""],unicode:""},{group:8,hexcode:"3299",label:"Japanese secret button",order:4387,tags:["ideograph","japanese","japanese secret button","secret",""],unicode:""},{group:8,hexcode:"1F23A",label:"Japanese open for business button",order:4388,tags:["ideograph","japanese","japanese open for business button","open for business",""],unicode:""},{group:8,hexcode:"1F235",label:"Japanese no vacancy button",order:4389,tags:["ideograph","japanese","japanese no vacancy button","no vacancy",""],unicode:""},{group:8,hexcode:"1F534",label:"red circle",order:4390,tags:["circle","geometric","red"],unicode:""},{group:8,hexcode:"1F7E0",label:"orange circle",order:4391,tags:["circle","orange"],unicode:""},{group:8,hexcode:"1F7E1",label:"yellow circle",order:4392,tags:["circle","yellow"],unicode:""},{group:8,hexcode:"1F7E2",label:"green circle",order:4393,tags:["circle","green"],unicode:""},{group:8,hexcode:"1F535",label:"blue circle",order:4394,tags:["blue","circle","geometric"],unicode:""},{group:8,hexcode:"1F7E3",label:"purple circle",order:4395,tags:["circle","purple"],unicode:""},{group:8,hexcode:"1F7E4",label:"brown circle",order:4396,tags:["brown","circle"],unicode:""},{group:8,hexcode:"26AB",label:"black circle",order:4397,tags:["circle","geometric"],unicode:""},{group:8,hexcode:"26AA",label:"white circle",order:4398,tags:["circle","geometric"],unicode:""},{group:8,hexcode:"1F7E5",label:"red square",order:4399,tags:["red","square"],unicode:""},{group:8,hexcode:"1F7E7",label:"orange square",order:4400,tags:["orange","square"],unicode:""},{group:8,hexcode:"1F7E8",label:"yellow square",order:4401,tags:["square","yellow"],unicode:""},{group:8,hexcode:"1F7E9",label:"green square",order:4402,tags:["green","square"],unicode:""},{group:8,hexcode:"1F7E6",label:"blue square",order:4403,tags:["blue","square"],unicode:""},{group:8,hexcode:"1F7EA",label:"purple square",order:4404,tags:["purple","square"],unicode:""},{group:8,hexcode:"1F7EB",label:"brown square",order:4405,tags:["brown","square"],unicode:""},{group:8,hexcode:"2B1B",label:"black large square",order:4406,tags:["geometric","square"],unicode:""},{group:8,hexcode:"2B1C",label:"white large square",order:4407,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25FC",label:"black medium square",order:4409,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25FB",label:"white medium square",order:4411,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25FE",label:"black medium-small square",order:4412,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25FD",label:"white medium-small square",order:4413,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25AA",label:"black small square",order:4415,tags:["geometric","square"],unicode:""},{group:8,hexcode:"25AB",label:"white small square",order:4417,tags:["geometric","square"],unicode:""},{group:8,hexcode:"1F536",label:"large orange diamond",order:4418,tags:["diamond","geometric","orange"],unicode:""},{group:8,hexcode:"1F537",label:"large blue diamond",order:4419,tags:["blue","diamond","geometric"],unicode:""},{group:8,hexcode:"1F538",label:"small orange diamond",order:4420,tags:["diamond","geometric","orange"],unicode:""},{group:8,hexcode:"1F539",label:"small blue diamond",order:4421,tags:["blue","diamond","geometric"],unicode:""},{group:8,hexcode:"1F53A",label:"red triangle pointed up",order:4422,tags:["geometric","red"],unicode:""},{group:8,hexcode:"1F53B",label:"red triangle pointed down",order:4423,tags:["down","geometric","red"],unicode:""},{group:8,hexcode:"1F4A0",label:"diamond with a dot",order:4424,tags:["comic","diamond","geometric","inside"],unicode:""},{group:8,hexcode:"1F518",label:"radio button",order:4425,tags:["button","geometric","radio"],unicode:""},{group:8,hexcode:"1F533",label:"white square button",order:4426,tags:["button","geometric","outlined","square"],unicode:""},{group:8,hexcode:"1F532",label:"black square button",order:4427,tags:["button","geometric","square"],unicode:""},{group:9,hexcode:"1F3C1",label:"chequered flag",order:4428,tags:["checkered","chequered","racing"],unicode:""},{group:9,hexcode:"1F6A9",label:"triangular flag",order:4429,tags:["post"],unicode:""},{group:9,hexcode:"1F38C",label:"crossed flags",order:4430,tags:["celebration","cross","crossed","japanese"],unicode:""},{group:9,hexcode:"1F3F4",label:"black flag",order:4431,tags:["waving"],unicode:""},{group:9,hexcode:"1F3F3",label:"white flag",order:4433,tags:["waving"],unicode:""},{group:9,hexcode:"1F3F3-FE0F-200D-1F308",label:"rainbow flag",order:4434,tags:["pride","rainbow"],unicode:""},{group:9,hexcode:"1F3F3-FE0F-200D-26A7-FE0F",label:"transgender flag",order:4436,tags:["flag","light blue","pink","transgender","white"],unicode:""},{group:9,hexcode:"1F3F4-200D-2620-FE0F",label:"pirate flag",order:4440,tags:["jolly roger","pirate","plunder","treasure"],unicode:""},{group:9,hexcode:"1F1E6-1F1E8",label:"flag: Ascension Island",order:4442,tags:["AC","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1E9",label:"flag: Andorra",order:4443,tags:["AD","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1EA",label:"flag: United Arab Emirates",order:4444,tags:["AE","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1EB",label:"flag: Afghanistan",order:4445,tags:["AF","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1EC",label:"flag: Antigua & Barbuda",order:4446,tags:["AG","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1EE",label:"flag: Anguilla",order:4447,tags:["AI","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F1",label:"flag: Albania",order:4448,tags:["AL","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F2",label:"flag: Armenia",order:4449,tags:["AM","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F4",label:"flag: Angola",order:4450,tags:["AO","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F6",label:"flag: Antarctica",order:4451,tags:["AQ","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F7",label:"flag: Argentina",order:4452,tags:["AR","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F8",label:"flag: American Samoa",order:4453,tags:["AS","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1F9",label:"flag: Austria",order:4454,tags:["AT","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1FA",label:"flag: Australia",order:4455,tags:["AU","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1FC",label:"flag: Aruba",order:4456,tags:["AW","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1FD",label:"flag: land Islands",order:4457,tags:["AX","flag"],unicode:""},{group:9,hexcode:"1F1E6-1F1FF",label:"flag: Azerbaijan",order:4458,tags:["AZ","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1E6",label:"flag: Bosnia & Herzegovina",order:4459,tags:["BA","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1E7",label:"flag: Barbados",order:4460,tags:["BB","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1E9",label:"flag: Bangladesh",order:4461,tags:["BD","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1EA",label:"flag: Belgium",order:4462,tags:["BE","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1EB",label:"flag: Burkina Faso",order:4463,tags:["BF","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1EC",label:"flag: Bulgaria",order:4464,tags:["BG","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1ED",label:"flag: Bahrain",order:4465,tags:["BH","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1EE",label:"flag: Burundi",order:4466,tags:["BI","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1EF",label:"flag: Benin",order:4467,tags:["BJ","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F1",label:"flag: St. Barthlemy",order:4468,tags:["BL","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F2",label:"flag: Bermuda",order:4469,tags:["BM","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F3",label:"flag: Brunei",order:4470,tags:["BN","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F4",label:"flag: Bolivia",order:4471,tags:["BO","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F6",label:"flag: Caribbean Netherlands",order:4472,tags:["BQ","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F7",label:"flag: Brazil",order:4473,tags:["BR","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F8",label:"flag: Bahamas",order:4474,tags:["BS","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1F9",label:"flag: Bhutan",order:4475,tags:["BT","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1FB",label:"flag: Bouvet Island",order:4476,tags:["BV","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1FC",label:"flag: Botswana",order:4477,tags:["BW","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1FE",label:"flag: Belarus",order:4478,tags:["BY","flag"],unicode:""},{group:9,hexcode:"1F1E7-1F1FF",label:"flag: Belize",order:4479,tags:["BZ","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1E6",label:"flag: Canada",order:4480,tags:["CA","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1E8",label:"flag: Cocos (Keeling) Islands",order:4481,tags:["CC","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1E9",label:"flag: Congo - Kinshasa",order:4482,tags:["CD","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1EB",label:"flag: Central African Republic",order:4483,tags:["CF","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1EC",label:"flag: Congo - Brazzaville",order:4484,tags:["CG","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1ED",label:"flag: Switzerland",order:4485,tags:["CH","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1EE",label:"flag: Cte dIvoire",order:4486,tags:["CI","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F0",label:"flag: Cook Islands",order:4487,tags:["CK","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F1",label:"flag: Chile",order:4488,tags:["CL","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F2",label:"flag: Cameroon",order:4489,tags:["CM","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F3",label:"flag: China",order:4490,tags:["CN","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F4",label:"flag: Colombia",order:4491,tags:["CO","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F5",label:"flag: Clipperton Island",order:4492,tags:["CP","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1F7",label:"flag: Costa Rica",order:4493,tags:["CR","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FA",label:"flag: Cuba",order:4494,tags:["CU","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FB",label:"flag: Cape Verde",order:4495,tags:["CV","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FC",label:"flag: Curaao",order:4496,tags:["CW","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FD",label:"flag: Christmas Island",order:4497,tags:["CX","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FE",label:"flag: Cyprus",order:4498,tags:["CY","flag"],unicode:""},{group:9,hexcode:"1F1E8-1F1FF",label:"flag: Czechia",order:4499,tags:["CZ","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1EA",label:"flag: Germany",order:4500,tags:["DE","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1EC",label:"flag: Diego Garcia",order:4501,tags:["DG","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1EF",label:"flag: Djibouti",order:4502,tags:["DJ","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1F0",label:"flag: Denmark",order:4503,tags:["DK","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1F2",label:"flag: Dominica",order:4504,tags:["DM","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1F4",label:"flag: Dominican Republic",order:4505,tags:["DO","flag"],unicode:""},{group:9,hexcode:"1F1E9-1F1FF",label:"flag: Algeria",order:4506,tags:["DZ","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1E6",label:"flag: Ceuta & Melilla",order:4507,tags:["EA","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1E8",label:"flag: Ecuador",order:4508,tags:["EC","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1EA",label:"flag: Estonia",order:4509,tags:["EE","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1EC",label:"flag: Egypt",order:4510,tags:["EG","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1ED",label:"flag: Western Sahara",order:4511,tags:["EH","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1F7",label:"flag: Eritrea",order:4512,tags:["ER","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1F8",label:"flag: Spain",order:4513,tags:["ES","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1F9",label:"flag: Ethiopia",order:4514,tags:["ET","flag"],unicode:""},{group:9,hexcode:"1F1EA-1F1FA",label:"flag: European Union",order:4515,tags:["EU","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1EE",label:"flag: Finland",order:4516,tags:["FI","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1EF",label:"flag: Fiji",order:4517,tags:["FJ","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1F0",label:"flag: Falkland Islands",order:4518,tags:["FK","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1F2",label:"flag: Micronesia",order:4519,tags:["FM","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1F4",label:"flag: Faroe Islands",order:4520,tags:["FO","flag"],unicode:""},{group:9,hexcode:"1F1EB-1F1F7",label:"flag: France",order:4521,tags:["FR","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1E6",label:"flag: Gabon",order:4522,tags:["GA","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1E7",label:"flag: United Kingdom",order:4523,tags:["GB","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1E9",label:"flag: Grenada",order:4524,tags:["GD","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1EA",label:"flag: Georgia",order:4525,tags:["GE","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1EB",label:"flag: French Guiana",order:4526,tags:["GF","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1EC",label:"flag: Guernsey",order:4527,tags:["GG","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1ED",label:"flag: Ghana",order:4528,tags:["GH","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1EE",label:"flag: Gibraltar",order:4529,tags:["GI","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F1",label:"flag: Greenland",order:4530,tags:["GL","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F2",label:"flag: Gambia",order:4531,tags:["GM","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F3",label:"flag: Guinea",order:4532,tags:["GN","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F5",label:"flag: Guadeloupe",order:4533,tags:["GP","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F6",label:"flag: Equatorial Guinea",order:4534,tags:["GQ","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F7",label:"flag: Greece",order:4535,tags:["GR","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F8",label:"flag: South Georgia & South Sandwich Islands",order:4536,tags:["GS","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1F9",label:"flag: Guatemala",order:4537,tags:["GT","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1FA",label:"flag: Guam",order:4538,tags:["GU","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1FC",label:"flag: Guinea-Bissau",order:4539,tags:["GW","flag"],unicode:""},{group:9,hexcode:"1F1EC-1F1FE",label:"flag: Guyana",order:4540,tags:["GY","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1F0",label:"flag: Hong Kong SAR China",order:4541,tags:["HK","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1F2",label:"flag: Heard & McDonald Islands",order:4542,tags:["HM","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1F3",label:"flag: Honduras",order:4543,tags:["HN","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1F7",label:"flag: Croatia",order:4544,tags:["HR","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1F9",label:"flag: Haiti",order:4545,tags:["HT","flag"],unicode:""},{group:9,hexcode:"1F1ED-1F1FA",label:"flag: Hungary",order:4546,tags:["HU","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1E8",label:"flag: Canary Islands",order:4547,tags:["IC","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1E9",label:"flag: Indonesia",order:4548,tags:["ID","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1EA",label:"flag: Ireland",order:4549,tags:["IE","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F1",label:"flag: Israel",order:4550,tags:["IL","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F2",label:"flag: Isle of Man",order:4551,tags:["IM","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F3",label:"flag: India",order:4552,tags:["IN","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F4",label:"flag: British Indian Ocean Territory",order:4553,tags:["IO","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F6",label:"flag: Iraq",order:4554,tags:["IQ","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F7",label:"flag: Iran",order:4555,tags:["IR","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F8",label:"flag: Iceland",order:4556,tags:["IS","flag"],unicode:""},{group:9,hexcode:"1F1EE-1F1F9",label:"flag: Italy",order:4557,tags:["IT","flag"],unicode:""},{group:9,hexcode:"1F1EF-1F1EA",label:"flag: Jersey",order:4558,tags:["JE","flag"],unicode:""},{group:9,hexcode:"1F1EF-1F1F2",label:"flag: Jamaica",order:4559,tags:["JM","flag"],unicode:""},{group:9,hexcode:"1F1EF-1F1F4",label:"flag: Jordan",order:4560,tags:["JO","flag"],unicode:""},{group:9,hexcode:"1F1EF-1F1F5",label:"flag: Japan",order:4561,tags:["JP","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1EA",label:"flag: Kenya",order:4562,tags:["KE","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1EC",label:"flag: Kyrgyzstan",order:4563,tags:["KG","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1ED",label:"flag: Cambodia",order:4564,tags:["KH","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1EE",label:"flag: Kiribati",order:4565,tags:["KI","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1F2",label:"flag: Comoros",order:4566,tags:["KM","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1F3",label:"flag: St. Kitts & Nevis",order:4567,tags:["KN","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1F5",label:"flag: North Korea",order:4568,tags:["KP","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1F7",label:"flag: South Korea",order:4569,tags:["KR","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1FC",label:"flag: Kuwait",order:4570,tags:["KW","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1FE",label:"flag: Cayman Islands",order:4571,tags:["KY","flag"],unicode:""},{group:9,hexcode:"1F1F0-1F1FF",label:"flag: Kazakhstan",order:4572,tags:["KZ","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1E6",label:"flag: Laos",order:4573,tags:["LA","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1E7",label:"flag: Lebanon",order:4574,tags:["LB","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1E8",label:"flag: St. Lucia",order:4575,tags:["LC","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1EE",label:"flag: Liechtenstein",order:4576,tags:["LI","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1F0",label:"flag: Sri Lanka",order:4577,tags:["LK","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1F7",label:"flag: Liberia",order:4578,tags:["LR","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1F8",label:"flag: Lesotho",order:4579,tags:["LS","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1F9",label:"flag: Lithuania",order:4580,tags:["LT","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1FA",label:"flag: Luxembourg",order:4581,tags:["LU","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1FB",label:"flag: Latvia",order:4582,tags:["LV","flag"],unicode:""},{group:9,hexcode:"1F1F1-1F1FE",label:"flag: Libya",order:4583,tags:["LY","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1E6",label:"flag: Morocco",order:4584,tags:["MA","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1E8",label:"flag: Monaco",order:4585,tags:["MC","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1E9",label:"flag: Moldova",order:4586,tags:["MD","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1EA",label:"flag: Montenegro",order:4587,tags:["ME","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1EB",label:"flag: St. Martin",order:4588,tags:["MF","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1EC",label:"flag: Madagascar",order:4589,tags:["MG","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1ED",label:"flag: Marshall Islands",order:4590,tags:["MH","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F0",label:"flag: North Macedonia",order:4591,tags:["MK","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F1",label:"flag: Mali",order:4592,tags:["ML","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F2",label:"flag: Myanmar (Burma)",order:4593,tags:["MM","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F3",label:"flag: Mongolia",order:4594,tags:["MN","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F4",label:"flag: Macao SAR China",order:4595,tags:["MO","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F5",label:"flag: Northern Mariana Islands",order:4596,tags:["MP","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F6",label:"flag: Martinique",order:4597,tags:["MQ","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F7",label:"flag: Mauritania",order:4598,tags:["MR","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F8",label:"flag: Montserrat",order:4599,tags:["MS","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1F9",label:"flag: Malta",order:4600,tags:["MT","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FA",label:"flag: Mauritius",order:4601,tags:["MU","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FB",label:"flag: Maldives",order:4602,tags:["MV","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FC",label:"flag: Malawi",order:4603,tags:["MW","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FD",label:"flag: Mexico",order:4604,tags:["MX","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FE",label:"flag: Malaysia",order:4605,tags:["MY","flag"],unicode:""},{group:9,hexcode:"1F1F2-1F1FF",label:"flag: Mozambique",order:4606,tags:["MZ","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1E6",label:"flag: Namibia",order:4607,tags:["NA","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1E8",label:"flag: New Caledonia",order:4608,tags:["NC","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1EA",label:"flag: Niger",order:4609,tags:["NE","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1EB",label:"flag: Norfolk Island",order:4610,tags:["NF","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1EC",label:"flag: Nigeria",order:4611,tags:["NG","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1EE",label:"flag: Nicaragua",order:4612,tags:["NI","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1F1",label:"flag: Netherlands",order:4613,tags:["NL","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1F4",label:"flag: Norway",order:4614,tags:["NO","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1F5",label:"flag: Nepal",order:4615,tags:["NP","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1F7",label:"flag: Nauru",order:4616,tags:["NR","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1FA",label:"flag: Niue",order:4617,tags:["NU","flag"],unicode:""},{group:9,hexcode:"1F1F3-1F1FF",label:"flag: New Zealand",order:4618,tags:["NZ","flag"],unicode:""},{group:9,hexcode:"1F1F4-1F1F2",label:"flag: Oman",order:4619,tags:["OM","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1E6",label:"flag: Panama",order:4620,tags:["PA","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1EA",label:"flag: Peru",order:4621,tags:["PE","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1EB",label:"flag: French Polynesia",order:4622,tags:["PF","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1EC",label:"flag: Papua New Guinea",order:4623,tags:["PG","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1ED",label:"flag: Philippines",order:4624,tags:["PH","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F0",label:"flag: Pakistan",order:4625,tags:["PK","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F1",label:"flag: Poland",order:4626,tags:["PL","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F2",label:"flag: St. Pierre & Miquelon",order:4627,tags:["PM","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F3",label:"flag: Pitcairn Islands",order:4628,tags:["PN","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F7",label:"flag: Puerto Rico",order:4629,tags:["PR","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F8",label:"flag: Palestinian Territories",order:4630,tags:["PS","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1F9",label:"flag: Portugal",order:4631,tags:["PT","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1FC",label:"flag: Palau",order:4632,tags:["PW","flag"],unicode:""},{group:9,hexcode:"1F1F5-1F1FE",label:"flag: Paraguay",order:4633,tags:["PY","flag"],unicode:""},{group:9,hexcode:"1F1F6-1F1E6",label:"flag: Qatar",order:4634,tags:["QA","flag"],unicode:""},{group:9,hexcode:"1F1F7-1F1EA",label:"flag: Runion",order:4635,tags:["RE","flag"],unicode:""},{group:9,hexcode:"1F1F7-1F1F4",label:"flag: Romania",order:4636,tags:["RO","flag"],unicode:""},{group:9,hexcode:"1F1F7-1F1F8",label:"flag: Serbia",order:4637,tags:["RS","flag"],unicode:""},{group:9,hexcode:"1F1F7-1F1FA",label:"flag: Russia",order:4638,tags:["RU","flag"],unicode:""},{group:9,hexcode:"1F1F7-1F1FC",label:"flag: Rwanda",order:4639,tags:["RW","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1E6",label:"flag: Saudi Arabia",order:4640,tags:["SA","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1E7",label:"flag: Solomon Islands",order:4641,tags:["SB","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1E8",label:"flag: Seychelles",order:4642,tags:["SC","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1E9",label:"flag: Sudan",order:4643,tags:["SD","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1EA",label:"flag: Sweden",order:4644,tags:["SE","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1EC",label:"flag: Singapore",order:4645,tags:["SG","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1ED",label:"flag: St. Helena",order:4646,tags:["SH","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1EE",label:"flag: Slovenia",order:4647,tags:["SI","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1EF",label:"flag: Svalbard & Jan Mayen",order:4648,tags:["SJ","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F0",label:"flag: Slovakia",order:4649,tags:["SK","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F1",label:"flag: Sierra Leone",order:4650,tags:["SL","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F2",label:"flag: San Marino",order:4651,tags:["SM","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F3",label:"flag: Senegal",order:4652,tags:["SN","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F4",label:"flag: Somalia",order:4653,tags:["SO","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F7",label:"flag: Suriname",order:4654,tags:["SR","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F8",label:"flag: South Sudan",order:4655,tags:["SS","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1F9",label:"flag: So Tom & Prncipe",order:4656,tags:["ST","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1FB",label:"flag: El Salvador",order:4657,tags:["SV","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1FD",label:"flag: Sint Maarten",order:4658,tags:["SX","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1FE",label:"flag: Syria",order:4659,tags:["SY","flag"],unicode:""},{group:9,hexcode:"1F1F8-1F1FF",label:"flag: Eswatini",order:4660,tags:["SZ","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1E6",label:"flag: Tristan da Cunha",order:4661,tags:["TA","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1E8",label:"flag: Turks & Caicos Islands",order:4662,tags:["TC","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1E9",label:"flag: Chad",order:4663,tags:["TD","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1EB",label:"flag: French Southern Territories",order:4664,tags:["TF","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1EC",label:"flag: Togo",order:4665,tags:["TG","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1ED",label:"flag: Thailand",order:4666,tags:["TH","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1EF",label:"flag: Tajikistan",order:4667,tags:["TJ","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F0",label:"flag: Tokelau",order:4668,tags:["TK","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F1",label:"flag: Timor-Leste",order:4669,tags:["TL","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F2",label:"flag: Turkmenistan",order:4670,tags:["TM","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F3",label:"flag: Tunisia",order:4671,tags:["TN","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F4",label:"flag: Tonga",order:4672,tags:["TO","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F7",label:"flag: Turkey",order:4673,tags:["TR","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1F9",label:"flag: Trinidad & Tobago",order:4674,tags:["TT","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1FB",label:"flag: Tuvalu",order:4675,tags:["TV","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1FC",label:"flag: Taiwan",order:4676,tags:["TW","flag"],unicode:""},{group:9,hexcode:"1F1F9-1F1FF",label:"flag: Tanzania",order:4677,tags:["TZ","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1E6",label:"flag: Ukraine",order:4678,tags:["UA","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1EC",label:"flag: Uganda",order:4679,tags:["UG","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1F2",label:"flag: U.S. Outlying Islands",order:4680,tags:["UM","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1F3",label:"flag: United Nations",order:4681,tags:["UN","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1F8",label:"flag: United States",order:4682,tags:["US","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1FE",label:"flag: Uruguay",order:4683,tags:["UY","flag"],unicode:""},{group:9,hexcode:"1F1FA-1F1FF",label:"flag: Uzbekistan",order:4684,tags:["UZ","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1E6",label:"flag: Vatican City",order:4685,tags:["VA","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1E8",label:"flag: St. Vincent & Grenadines",order:4686,tags:["VC","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1EA",label:"flag: Venezuela",order:4687,tags:["VE","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1EC",label:"flag: British Virgin Islands",order:4688,tags:["VG","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1EE",label:"flag: U.S. Virgin Islands",order:4689,tags:["VI","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1F3",label:"flag: Vietnam",order:4690,tags:["VN","flag"],unicode:""},{group:9,hexcode:"1F1FB-1F1FA",label:"flag: Vanuatu",order:4691,tags:["VU","flag"],unicode:""},{group:9,hexcode:"1F1FC-1F1EB",label:"flag: Wallis & Futuna",order:4692,tags:["WF","flag"],unicode:""},{group:9,hexcode:"1F1FC-1F1F8",label:"flag: Samoa",order:4693,tags:["WS","flag"],unicode:""},{group:9,hexcode:"1F1FD-1F1F0",label:"flag: Kosovo",order:4694,tags:["XK","flag"],unicode:""},{group:9,hexcode:"1F1FE-1F1EA",label:"flag: Yemen",order:4695,tags:["YE","flag"],unicode:""},{group:9,hexcode:"1F1FE-1F1F9",label:"flag: Mayotte",order:4696,tags:["YT","flag"],unicode:""},{group:9,hexcode:"1F1FF-1F1E6",label:"flag: South Africa",order:4697,tags:["ZA","flag"],unicode:""},{group:9,hexcode:"1F1FF-1F1F2",label:"flag: Zambia",order:4698,tags:["ZM","flag"],unicode:""},{group:9,hexcode:"1F1FF-1F1FC",label:"flag: Zimbabwe",order:4699,tags:["ZW","flag"],unicode:""},{group:9,hexcode:"1F3F4-E0067-E0062-E0065-E006E-E0067-E007F",label:"flag: England",order:4700,tags:["flag","gbeng"],unicode:""},{group:9,hexcode:"1F3F4-E0067-E0062-E0073-E0063-E0074-E007F",label:"flag: Scotland",order:4701,tags:["flag","gbsct"],unicode:""},{group:9,hexcode:"1F3F4-E0067-E0062-E0077-E006C-E0073-E007F",label:"flag: Wales",order:4702,tags:["flag","gbwls"],unicode:""}],mW={2049:"interrobang",2122:"tm",2139:"information_source",2194:"left_right_arrow",2195:"arrow_up_down",2196:"arrow_upper_left",2197:"arrow_upper_right",2198:"arrow_lower_right",2199:"arrow_lower_left",2328:"keyboard",2600:"sunny",2601:"cloud",2602:"umbrella2",2603:"snowman2",2604:"comet",2611:"ballot_box_with_check",2614:"umbrella",2615:"coffee",2618:"shamrock",2620:["skull_crossbones","skull_and_crossbones"],2622:["radioactive","radioactive_sign"],2623:["biohazard","biohazard_sign"],2626:"orthodox_cross",2638:"wheel_of_dharma",2639:["frowning2","white_frowning_face"],2640:"female_sign",2642:"male_sign",2648:"aries",2649:"taurus",2650:"sagittarius",2651:"capricorn",2652:"aquarius",2653:"pisces",2660:"spades",2663:"clubs",2665:"hearts",2666:"diamonds",2668:"hotsprings",2692:["hammer_pick","hammer_and_pick"],2693:"anchor",2694:"crossed_swords",2695:"medical_symbol",2696:"scales",2697:"alembic",2699:"gear",2702:"scissors",2705:"white_check_mark",2708:"airplane",2709:"envelope",2712:"black_nib",2714:"heavy_check_mark",2716:"heavy_multiplication_x",2721:"star_of_david",2728:"sparkles",2733:"eight_spoked_asterisk",2734:"eight_pointed_black_star",2744:"snowflake",2747:"sparkle",2753:"question",2754:"grey_question",2755:"grey_exclamation",2757:"exclamation",2763:["heart_exclamation","heavy_heart_exclamation_mark_ornament"],2764:"heart",2795:"heavy_plus_sign",2796:"heavy_minus_sign",2797:"heavy_division_sign",2934:"arrow_heading_up",2935:"arrow_heading_down",3030:"wavy_dash",3297:"congratulations",3299:"secret","1F600":"grinning","1F603":"smiley","1F604":"smile","1F601":"grin","1F606":["laughing","satisfied"],"1F605":"sweat_smile","1F602":"joy","1F923":["rofl","rolling_on_the_floor_laughing"],"263A":"relaxed","1F60A":"blush","1F607":"innocent","1F642":["slight_smile","slightly_smiling_face"],"1F643":["upside_down","upside_down_face"],"1F609":"wink","1F60C":"relieved","1F972":"smiling_face_with_tear","1F60D":"heart_eyes","1F970":"smiling_face_with_3_hearts","1F618":"kissing_heart","1F617":"kissing","1F619":"kissing_smiling_eyes","1F61A":"kissing_closed_eyes","1F60B":"yum","1F61B":"stuck_out_tongue","1F61D":"stuck_out_tongue_closed_eyes","1F61C":"stuck_out_tongue_winking_eye","1F92A":"zany_face","1F928":"face_with_raised_eyebrow","1F9D0":"face_with_monocle","1F913":["nerd","nerd_face"],"1F60E":"sunglasses","1F929":"star_struck","1F973":"partying_face","1F60F":"smirk","1F612":"unamused","1F61E":"disappointed","1F614":"pensive","1F61F":"worried","1F615":"confused","1F641":["slight_frown","slightly_frowning_face"],"1F623":"persevere","1F616":"confounded","1F62B":"tired_face","1F629":"weary","1F97A":"pleading_face","1F622":"cry","1F62D":"sob","1F624":"triumph","1F62E-200D-1F4A8":"face_exhaling","1F620":"angry","1F621":"rage","1F92C":"face_with_symbols_over_mouth","1F92F":"exploding_head","1F633":"flushed","1F636-200D-1F32B-FE0F":"face_in_clouds","1F975":"hot_face","1F976":"cold_face","1F631":"scream","1F628":"fearful","1F630":"cold_sweat","1F625":"disappointed_relieved","1F613":"sweat","1F917":["hugging","hugging_face"],"1F914":["thinking","thinking_face"],"1F92D":"face_with_hand_over_mouth","1F971":"yawning_face","1F92B":"shushing_face","1F925":["lying_face","liar"],"1F636":"no_mouth","1F610":"neutral_face","1F611":"expressionless","1F62C":"grimacing","1F644":["rolling_eyes","face_with_rolling_eyes"],"1F62F":"hushed","1F626":"frowning","1F627":"anguished","1F62E":"open_mouth","1F632":"astonished","1F634":"sleeping","1F924":["drooling_face","drool"],"1F62A":"sleepy","1F635":"dizzy_face","1F635-200D-1F4AB":"face_with_spiral_eyes","1F910":["zipper_mouth","zipper_mouth_face"],"1F974":"woozy_face","1F922":["nauseated_face","sick"],"1F92E":"face_vomiting","1F927":["sneezing_face","sneeze"],"1F637":"mask","1F912":["thermometer_face","face_with_thermometer"],"1F915":["head_bandage","face_with_head_bandage"],"1F911":["money_mouth","money_mouth_face"],"1F920":["cowboy","face_with_cowboy_hat"],"1F978":"disguised_face","1F608":"smiling_imp","1F47F":"imp","1F479":"japanese_ogre","1F47A":"japanese_goblin","1F921":["clown","clown_face"],"1F4A9":["poop","shit","hankey","poo"],"1F47B":"ghost","1F480":["skull","skeleton"],"1F47D":"alien","1F47E":"space_invader","1F916":["robot","robot_face"],"1F383":"jack_o_lantern","1F63A":"smiley_cat","1F638":"smile_cat","1F639":"joy_cat","1F63B":"heart_eyes_cat","1F63C":"smirk_cat","1F63D":"kissing_cat","1F640":"scream_cat","1F63F":"crying_cat_face","1F63E":"pouting_cat","1F932":"palms_up_together","1F932-1F3FB":["palms_up_together_tone1","palms_up_together_light_skin_tone"],"1F932-1F3FC":["palms_up_together_tone2","palms_up_together_medium_light_skin_tone"],"1F932-1F3FD":["palms_up_together_tone3","palms_up_together_medium_skin_tone"],"1F932-1F3FE":["palms_up_together_tone4","palms_up_together_medium_dark_skin_tone"],"1F932-1F3FF":["palms_up_together_tone5","palms_up_together_dark_skin_tone"],"1F450":"open_hands","1F450-1F3FB":"open_hands_tone1","1F450-1F3FC":"open_hands_tone2","1F450-1F3FD":"open_hands_tone3","1F450-1F3FE":"open_hands_tone4","1F450-1F3FF":"open_hands_tone5","1F64C":"raised_hands","1F64C-1F3FB":"raised_hands_tone1","1F64C-1F3FC":"raised_hands_tone2","1F64C-1F3FD":"raised_hands_tone3","1F64C-1F3FE":"raised_hands_tone4","1F64C-1F3FF":"raised_hands_tone5","1F44F":"clap","1F44F-1F3FB":"clap_tone1","1F44F-1F3FC":"clap_tone2","1F44F-1F3FD":"clap_tone3","1F44F-1F3FE":"clap_tone4","1F44F-1F3FF":"clap_tone5","1F91D":["handshake","shaking_hands"],"1F44D":["thumbsup","+1","thumbup"],"1F44D-1F3FB":["thumbsup_tone1","+1_tone1","thumbup_tone1"],"1F44D-1F3FC":["thumbsup_tone2","+1_tone2","thumbup_tone2"],"1F44D-1F3FD":["thumbsup_tone3","+1_tone3","thumbup_tone3"],"1F44D-1F3FE":["thumbsup_tone4","+1_tone4","thumbup_tone4"],"1F44D-1F3FF":["thumbsup_tone5","+1_tone5","thumbup_tone5"],"1F44E":["thumbsdown","-1","thumbdown"],"1F44E-1F3FB":["thumbsdown_tone1","-1_tone1","thumbdown_tone1"],"1F44E-1F3FC":["thumbsdown_tone2","-1_tone2","thumbdown_tone2"],"1F44E-1F3FD":["thumbsdown_tone3","-1_tone3","thumbdown_tone3"],"1F44E-1F3FE":["thumbsdown_tone4","-1_tone4","thumbdown_tone4"],"1F44E-1F3FF":["thumbsdown_tone5","-1_tone5","thumbdown_tone5"],"1F44A":"punch","1F44A-1F3FB":"punch_tone1","1F44A-1F3FC":"punch_tone2","1F44A-1F3FD":"punch_tone3","1F44A-1F3FE":"punch_tone4","1F44A-1F3FF":"punch_tone5","270A":"fist","270A-1F3FB":"fist_tone1","270A-1F3FC":"fist_tone2","270A-1F3FD":"fist_tone3","270A-1F3FE":"fist_tone4","270A-1F3FF":"fist_tone5","1F91B":["left_facing_fist","left_fist"],"1F91B-1F3FB":["left_facing_fist_tone1","left_fist_tone1"],"1F91B-1F3FC":["left_facing_fist_tone2","left_fist_tone2"],"1F91B-1F3FD":["left_facing_fist_tone3","left_fist_tone3"],"1F91B-1F3FE":["left_facing_fist_tone4","left_fist_tone4"],"1F91B-1F3FF":["left_facing_fist_tone5","left_fist_tone5"],"1F91C":["right_facing_fist","right_fist"],"1F91C-1F3FB":["right_facing_fist_tone1","right_fist_tone1"],"1F91C-1F3FC":["right_facing_fist_tone2","right_fist_tone2"],"1F91C-1F3FD":["right_facing_fist_tone3","right_fist_tone3"],"1F91C-1F3FE":["right_facing_fist_tone4","right_fist_tone4"],"1F91C-1F3FF":["right_facing_fist_tone5","right_fist_tone5"],"1F91E":["fingers_crossed","hand_with_index_and_middle_finger_crossed"],"1F91E-1F3FB":["fingers_crossed_tone1","hand_with_index_and_middle_fingers_crossed_tone1"],"1F91E-1F3FC":["fingers_crossed_tone2","hand_with_index_and_middle_fingers_crossed_tone2"],"1F91E-1F3FD":["fingers_crossed_tone3","hand_with_index_and_middle_fingers_crossed_tone3"],"1F91E-1F3FE":["fingers_crossed_tone4","hand_with_index_and_middle_fingers_crossed_tone4"],"1F91E-1F3FF":["fingers_crossed_tone5","hand_with_index_and_middle_fingers_crossed_tone5"],"270C":"v","270C-1F3FB":"v_tone1","270C-1F3FC":"v_tone2","270C-1F3FD":"v_tone3","270C-1F3FE":"v_tone4","270C-1F3FF":"v_tone5","1F91F":"love_you_gesture","1F91F-1F3FB":["love_you_gesture_tone1","love_you_gesture_light_skin_tone"],"1F91F-1F3FC":["love_you_gesture_tone2","love_you_gesture_medium_light_skin_tone"],"1F91F-1F3FD":["love_you_gesture_tone3","love_you_gesture_medium_skin_tone"],"1F91F-1F3FE":["love_you_gesture_tone4","love_you_gesture_medium_dark_skin_tone"],"1F91F-1F3FF":["love_you_gesture_tone5","love_you_gesture_dark_skin_tone"],"1F918":["metal","sign_of_the_horns"],"1F918-1F3FB":["metal_tone1","sign_of_the_horns_tone1"],"1F918-1F3FC":["metal_tone2","sign_of_the_horns_tone2"],"1F918-1F3FD":["metal_tone3","sign_of_the_horns_tone3"],"1F918-1F3FE":["metal_tone4","sign_of_the_horns_tone4"],"1F918-1F3FF":["metal_tone5","sign_of_the_horns_tone5"],"1F44C":"ok_hand","1F44C-1F3FB":"ok_hand_tone1","1F44C-1F3FC":"ok_hand_tone2","1F44C-1F3FD":"ok_hand_tone3","1F44C-1F3FE":"ok_hand_tone4","1F44C-1F3FF":"ok_hand_tone5","1F90F":"pinching_hand","1F90F-1F3FB":["pinching_hand_tone1","pinching_hand_light_skin_tone"],"1F90F-1F3FC":["pinching_hand_tone2","pinching_hand_medium_light_skin_tone"],"1F90F-1F3FD":["pinching_hand_tone3","pinching_hand_medium_skin_tone"],"1F90F-1F3FE":["pinching_hand_tone4","pinching_hand_medium_dark_skin_tone"],"1F90F-1F3FF":["pinching_hand_tone5","pinching_hand_dark_skin_tone"],"1F90C":"pinched_fingers","1F90C-1F3FC":["pinched_fingers_tone2","pinched_fingers_medium_light_skin_tone"],"1F90C-1F3FB":["pinched_fingers_tone1","pinched_fingers_light_skin_tone"],"1F90C-1F3FD":["pinched_fingers_tone3","pinched_fingers_medium_skin_tone"],"1F90C-1F3FE":["pinched_fingers_tone4","pinched_fingers_medium_dark_skin_tone"],"1F90C-1F3FF":["pinched_fingers_tone5","pinched_fingers_dark_skin_tone"],"1F448":"point_left","1F448-1F3FB":"point_left_tone1","1F448-1F3FC":"point_left_tone2","1F448-1F3FD":"point_left_tone3","1F448-1F3FE":"point_left_tone4","1F448-1F3FF":"point_left_tone5","1F449":"point_right","1F449-1F3FB":"point_right_tone1","1F449-1F3FC":"point_right_tone2","1F449-1F3FD":"point_right_tone3","1F449-1F3FE":"point_right_tone4","1F449-1F3FF":"point_right_tone5","1F446":"point_up_2","1F446-1F3FB":"point_up_2_tone1","1F446-1F3FC":"point_up_2_tone2","1F446-1F3FD":"point_up_2_tone3","1F446-1F3FE":"point_up_2_tone4","1F446-1F3FF":"point_up_2_tone5","1F447":"point_down","1F447-1F3FB":"point_down_tone1","1F447-1F3FC":"point_down_tone2","1F447-1F3FD":"point_down_tone3","1F447-1F3FE":"point_down_tone4","1F447-1F3FF":"point_down_tone5","261D":"point_up","261D-1F3FB":"point_up_tone1","261D-1F3FC":"point_up_tone2","261D-1F3FD":"point_up_tone3","261D-1F3FE":"point_up_tone4","261D-1F3FF":"point_up_tone5","270B":"raised_hand","270B-1F3FB":"raised_hand_tone1","270B-1F3FC":"raised_hand_tone2","270B-1F3FD":"raised_hand_tone3","270B-1F3FE":"raised_hand_tone4","270B-1F3FF":"raised_hand_tone5","1F91A":["raised_back_of_hand","back_of_hand"],"1F91A-1F3FB":["raised_back_of_hand_tone1","back_of_hand_tone1"],"1F91A-1F3FC":["raised_back_of_hand_tone2","back_of_hand_tone2"],"1F91A-1F3FD":["raised_back_of_hand_tone3","back_of_hand_tone3"],"1F91A-1F3FE":["raised_back_of_hand_tone4","back_of_hand_tone4"],"1F91A-1F3FF":["raised_back_of_hand_tone5","back_of_hand_tone5"],"1F590":["hand_splayed","raised_hand_with_fingers_splayed"],"1F590-1F3FB":["hand_splayed_tone1","raised_hand_with_fingers_splayed_tone1"],"1F590-1F3FC":["hand_splayed_tone2","raised_hand_with_fingers_splayed_tone2"],"1F590-1F3FD":["hand_splayed_tone3","raised_hand_with_fingers_splayed_tone3"],"1F590-1F3FE":["hand_splayed_tone4","raised_hand_with_fingers_splayed_tone4"],"1F590-1F3FF":["hand_splayed_tone5","raised_hand_with_fingers_splayed_tone5"],"1F596":["vulcan","raised_hand_with_part_between_middle_and_ring_fingers"],"1F596-1F3FB":["vulcan_tone1","raised_hand_with_part_between_middle_and_ring_fingers_tone1"],"1F596-1F3FC":["vulcan_tone2","raised_hand_with_part_between_middle_and_ring_fingers_tone2"],"1F596-1F3FD":["vulcan_tone3","raised_hand_with_part_between_middle_and_ring_fingers_tone3"],"1F596-1F3FE":["vulcan_tone4","raised_hand_with_part_between_middle_and_ring_fingers_tone4"],"1F596-1F3FF":["vulcan_tone5","raised_hand_with_part_between_middle_and_ring_fingers_tone5"],"1F44B":"wave","1F44B-1F3FB":"wave_tone1","1F44B-1F3FC":"wave_tone2","1F44B-1F3FD":"wave_tone3","1F44B-1F3FE":"wave_tone4","1F44B-1F3FF":"wave_tone5","1F919":["call_me","call_me_hand"],"1F919-1F3FB":["call_me_tone1","call_me_hand_tone1"],"1F919-1F3FC":["call_me_tone2","call_me_hand_tone2"],"1F919-1F3FD":["call_me_tone3","call_me_hand_tone3"],"1F919-1F3FE":["call_me_tone4","call_me_hand_tone4"],"1F919-1F3FF":["call_me_tone5","call_me_hand_tone5"],"1F4AA":"muscle","1F4AA-1F3FB":"muscle_tone1","1F4AA-1F3FC":"muscle_tone2","1F4AA-1F3FD":"muscle_tone3","1F4AA-1F3FE":"muscle_tone4","1F4AA-1F3FF":"muscle_tone5","1F9BE":"mechanical_arm","1F595":["middle_finger","reversed_hand_with_middle_finger_extended"],"1F595-1F3FB":["middle_finger_tone1","reversed_hand_with_middle_finger_extended_tone1"],"1F595-1F3FC":["middle_finger_tone2","reversed_hand_with_middle_finger_extended_tone2"],"1F595-1F3FD":["middle_finger_tone3","reversed_hand_with_middle_finger_extended_tone3"],"1F595-1F3FE":["middle_finger_tone4","reversed_hand_with_middle_finger_extended_tone4"],"1F595-1F3FF":["middle_finger_tone5","reversed_hand_with_middle_finger_extended_tone5"],"270D":"writing_hand","270D-1F3FB":"writing_hand_tone1","270D-1F3FC":"writing_hand_tone2","270D-1F3FD":"writing_hand_tone3","270D-1F3FE":"writing_hand_tone4","270D-1F3FF":"writing_hand_tone5","1F64F":"pray","1F64F-1F3FB":"pray_tone1","1F64F-1F3FC":"pray_tone2","1F64F-1F3FD":"pray_tone3","1F64F-1F3FE":"pray_tone4","1F64F-1F3FF":"pray_tone5","1F9B6":"foot","1F9B6-1F3FB":["foot_tone1","foot_light_skin_tone"],"1F9B6-1F3FC":["foot_tone2","foot_medium_light_skin_tone"],"1F9B6-1F3FD":["foot_tone3","foot_medium_skin_tone"],"1F9B6-1F3FE":["foot_tone4","foot_medium_dark_skin_tone"],"1F9B6-1F3FF":["foot_tone5","foot_dark_skin_tone"],"1F9B5":"leg","1F9B5-1F3FB":["leg_tone1","leg_light_skin_tone"],"1F9B5-1F3FC":["leg_tone2","leg_medium_light_skin_tone"],"1F9B5-1F3FD":["leg_tone3","leg_medium_skin_tone"],"1F9B5-1F3FE":["leg_tone4","leg_medium_dark_skin_tone"],"1F9B5-1F3FF":["leg_tone5","leg_dark_skin_tone"],"1F9BF":"mechanical_leg","1F484":"lipstick","1F48B":"kiss","1F444":"lips","1F9B7":"tooth","1F445":"tongue","1F442":"ear","1F442-1F3FB":"ear_tone1","1F442-1F3FC":"ear_tone2","1F442-1F3FD":"ear_tone3","1F442-1F3FE":"ear_tone4","1F442-1F3FF":"ear_tone5","1F9BB":"ear_with_hearing_aid","1F9BB-1F3FB":["ear_with_hearing_aid_tone1","ear_with_hearing_aid_light_skin_tone"],"1F9BB-1F3FC":["ear_with_hearing_aid_tone2","ear_with_hearing_aid_medium_light_skin_tone"],"1F9BB-1F3FD":["ear_with_hearing_aid_tone3","ear_with_hearing_aid_medium_skin_tone"],"1F9BB-1F3FE":["ear_with_hearing_aid_tone4","ear_with_hearing_aid_medium_dark_skin_tone"],"1F9BB-1F3FF":["ear_with_hearing_aid_tone5","ear_with_hearing_aid_dark_skin_tone"],"1F443":"nose","1F443-1F3FB":"nose_tone1","1F443-1F3FC":"nose_tone2","1F443-1F3FD":"nose_tone3","1F443-1F3FE":"nose_tone4","1F443-1F3FF":"nose_tone5","1F463":"footprints","1F441":"eye","1F440":"eyes","1F9E0":"brain","1FAC0":"anatomical_heart","1FAC1":"lungs","1F9B4":"bone","1F5E3":["speaking_head","speaking_head_in_silhouette"],"1F464":"bust_in_silhouette","1F465":"busts_in_silhouette","1FAC2":"people_hugging","1F476":"baby","1F476-1F3FB":"baby_tone1","1F476-1F3FC":"baby_tone2","1F476-1F3FD":"baby_tone3","1F476-1F3FE":"baby_tone4","1F476-1F3FF":"baby_tone5","1F467":"girl","1F467-1F3FB":"girl_tone1","1F467-1F3FC":"girl_tone2","1F467-1F3FD":"girl_tone3","1F467-1F3FE":"girl_tone4","1F467-1F3FF":"girl_tone5","1F9D2":"child","1F9D2-1F3FB":["child_tone1","child_light_skin_tone"],"1F9D2-1F3FC":["child_tone2","child_medium_light_skin_tone"],"1F9D2-1F3FD":["child_tone3","child_medium_skin_tone"],"1F9D2-1F3FE":["child_tone4","child_medium_dark_skin_tone"],"1F9D2-1F3FF":["child_tone5","child_dark_skin_tone"],"1F466":"boy","1F466-1F3FB":"boy_tone1","1F466-1F3FC":"boy_tone2","1F466-1F3FD":"boy_tone3","1F466-1F3FE":"boy_tone4","1F466-1F3FF":"boy_tone5","1F469":"woman","1F469-1F3FB":"woman_tone1","1F469-1F3FC":"woman_tone2","1F469-1F3FD":"woman_tone3","1F469-1F3FE":"woman_tone4","1F469-1F3FF":"woman_tone5","1F9D1":"adult","1F9D1-1F3FB":["adult_tone1","adult_light_skin_tone"],"1F9D1-1F3FC":["adult_tone2","adult_medium_light_skin_tone"],"1F9D1-1F3FD":["adult_tone3","adult_medium_skin_tone"],"1F9D1-1F3FE":["adult_tone4","adult_medium_dark_skin_tone"],"1F9D1-1F3FF":["adult_tone5","adult_dark_skin_tone"],"1F468":"man","1F468-1F3FB":"man_tone1","1F468-1F3FC":"man_tone2","1F468-1F3FD":"man_tone3","1F468-1F3FE":"man_tone4","1F468-1F3FF":"man_tone5","1F9D1-200D-1F9B1":"person_curly_hair","1F9D1-1F3FB-200D-1F9B1":["person_tone1_curly_hair","person_light_skin_tone_curly_hair"],"1F9D1-1F3FC-200D-1F9B1":["person_tone2_curly_hair","person_medium_light_skin_tone_curly_hair"],"1F9D1-1F3FD-200D-1F9B1":["person_tone3_curly_hair","person_medium_skin_tone_curly_hair"],"1F9D1-1F3FE-200D-1F9B1":["person_tone4_curly_hair","person_medium_dark_skin_tone_curly_hair"],"1F9D1-1F3FF-200D-1F9B1":["person_tone5_curly_hair","person_dark_skin_tone_curly_hair"],"1F469-200D-1F9B1":"woman_curly_haired","1F469-1F3FB-200D-1F9B1":["woman_curly_haired_tone1","woman_curly_haired_light_skin_tone"],"1F469-1F3FC-200D-1F9B1":["woman_curly_haired_tone2","woman_curly_haired_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9B1":["woman_curly_haired_tone3","woman_curly_haired_medium_skin_tone"],"1F469-1F3FE-200D-1F9B1":["woman_curly_haired_tone4","woman_curly_haired_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9B1":["woman_curly_haired_tone5","woman_curly_haired_dark_skin_tone"],"1F468-200D-1F9B1":"man_curly_haired","1F468-1F3FB-200D-1F9B1":["man_curly_haired_tone1","man_curly_haired_light_skin_tone"],"1F468-1F3FC-200D-1F9B1":["man_curly_haired_tone2","man_curly_haired_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9B1":["man_curly_haired_tone3","man_curly_haired_medium_skin_tone"],"1F468-1F3FE-200D-1F9B1":["man_curly_haired_tone4","man_curly_haired_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9B1":["man_curly_haired_tone5","man_curly_haired_dark_skin_tone"],"1F9D1-200D-1F9B0":"person_red_hair","1F9D1-1F3FB-200D-1F9B0":["person_tone1_red_hair","person_light_skin_tone_red_hair"],"1F9D1-1F3FC-200D-1F9B0":["person_tone2_red_hair","person_medium_light_skin_tone_red_hair"],"1F9D1-1F3FD-200D-1F9B0":["person_tone3_red_hair","person_medium_skin_tone_red_hair"],"1F9D1-1F3FE-200D-1F9B0":["person_tone4_red_hair","person_medium_dark_skin_tone_red_hair"],"1F9D1-1F3FF-200D-1F9B0":["person_tone5_red_hair","person_dark_skin_tone_red_hair"],"1F469-200D-1F9B0":"woman_red_haired","1F469-1F3FB-200D-1F9B0":["woman_red_haired_tone1","woman_red_haired_light_skin_tone"],"1F469-1F3FC-200D-1F9B0":["woman_red_haired_tone2","woman_red_haired_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9B0":["woman_red_haired_tone3","woman_red_haired_medium_skin_tone"],"1F469-1F3FE-200D-1F9B0":["woman_red_haired_tone4","woman_red_haired_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9B0":["woman_red_haired_tone5","woman_red_haired_dark_skin_tone"],"1F468-200D-1F9B0":"man_red_haired","1F468-1F3FB-200D-1F9B0":["man_red_haired_tone1","man_red_haired_light_skin_tone"],"1F468-1F3FC-200D-1F9B0":["man_red_haired_tone2","man_red_haired_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9B0":["man_red_haired_tone3","man_red_haired_medium_skin_tone"],"1F468-1F3FE-200D-1F9B0":["man_red_haired_tone4","man_red_haired_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9B0":["man_red_haired_tone5","man_red_haired_dark_skin_tone"],"1F471-200D-2640-FE0F":"blond-haired_woman","1F471-1F3FB-200D-2640-FE0F":["blond-haired_woman_tone1","blond-haired_woman_light_skin_tone"],"1F471-1F3FC-200D-2640-FE0F":["blond-haired_woman_tone2","blond-haired_woman_medium_light_skin_tone"],"1F471-1F3FD-200D-2640-FE0F":["blond-haired_woman_tone3","blond-haired_woman_medium_skin_tone"],"1F471-1F3FE-200D-2640-FE0F":["blond-haired_woman_tone4","blond-haired_woman_medium_dark_skin_tone"],"1F471-1F3FF-200D-2640-FE0F":["blond-haired_woman_tone5","blond-haired_woman_dark_skin_tone"],"1F471":["blond_haired_person","person_with_blond_hair"],"1F471-1F3FB":["blond_haired_person_tone1","person_with_blond_hair_tone1"],"1F471-1F3FC":["blond_haired_person_tone2","person_with_blond_hair_tone2"],"1F471-1F3FD":["blond_haired_person_tone3","person_with_blond_hair_tone3"],"1F471-1F3FE":["blond_haired_person_tone4","person_with_blond_hair_tone4"],"1F471-1F3FF":["blond_haired_person_tone5","person_with_blond_hair_tone5"],"1F471-200D-2642-FE0F":"blond-haired_man","1F471-1F3FB-200D-2642-FE0F":["blond-haired_man_tone1","blond-haired_man_light_skin_tone"],"1F471-1F3FC-200D-2642-FE0F":["blond-haired_man_tone2","blond-haired_man_medium_light_skin_tone"],"1F471-1F3FD-200D-2642-FE0F":["blond-haired_man_tone3","blond-haired_man_medium_skin_tone"],"1F471-1F3FE-200D-2642-FE0F":["blond-haired_man_tone4","blond-haired_man_medium_dark_skin_tone"],"1F471-1F3FF-200D-2642-FE0F":["blond-haired_man_tone5","blond-haired_man_dark_skin_tone"],"1F9D1-200D-1F9B3":"person_white_hair","1F9D1-1F3FB-200D-1F9B3":["person_tone1_white_hair","person_light_skin_tone_white_hair"],"1F9D1-1F3FC-200D-1F9B3":["person_tone2_white_hair","person_medium_light_skin_tone_white_hair"],"1F9D1-1F3FD-200D-1F9B3":["person_tone3_white_hair","person_medium_skin_tone_white_hair"],"1F9D1-1F3FE-200D-1F9B3":["person_tone4_white_hair","person_medium_dark_skin_tone_white_hair"],"1F9D1-1F3FF-200D-1F9B3":["person_tone5_white_hair","person_dark_skin_tone_white_hair"],"1F469-200D-1F9B3":"woman_white_haired","1F469-1F3FB-200D-1F9B3":["woman_white_haired_tone1","woman_white_haired_light_skin_tone"],"1F469-1F3FC-200D-1F9B3":["woman_white_haired_tone2","woman_white_haired_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9B3":["woman_white_haired_tone3","woman_white_haired_medium_skin_tone"],"1F469-1F3FE-200D-1F9B3":["woman_white_haired_tone4","woman_white_haired_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9B3":["woman_white_haired_tone5","woman_white_haired_dark_skin_tone"],"1F468-200D-1F9B3":"man_white_haired","1F468-1F3FB-200D-1F9B3":["man_white_haired_tone1","man_white_haired_light_skin_tone"],"1F468-1F3FC-200D-1F9B3":["man_white_haired_tone2","man_white_haired_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9B3":["man_white_haired_tone3","man_white_haired_medium_skin_tone"],"1F468-1F3FE-200D-1F9B3":["man_white_haired_tone4","man_white_haired_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9B3":["man_white_haired_tone5","man_white_haired_dark_skin_tone"],"1F9D1-200D-1F9B2":"person_bald","1F9D1-1F3FB-200D-1F9B2":["person_tone1_bald","person_light_skin_tone_bald"],"1F9D1-1F3FC-200D-1F9B2":["person_tone2_bald","person_medium_light_skin_tone_bald"],"1F9D1-1F3FD-200D-1F9B2":["person_tone3_bald","person_medium_skin_tone_bald"],"1F9D1-1F3FE-200D-1F9B2":["person_tone4_bald","person_medium_dark_skin_tone_bald"],"1F9D1-1F3FF-200D-1F9B2":["person_tone5_bald","person_dark_skin_tone_bald"],"1F469-200D-1F9B2":"woman_bald","1F469-1F3FB-200D-1F9B2":["woman_bald_tone1","woman_bald_light_skin_tone"],"1F469-1F3FC-200D-1F9B2":["woman_bald_tone2","woman_bald_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9B2":["woman_bald_tone3","woman_bald_medium_skin_tone"],"1F469-1F3FE-200D-1F9B2":["woman_bald_tone4","woman_bald_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9B2":["woman_bald_tone5","woman_bald_dark_skin_tone"],"1F468-200D-1F9B2":"man_bald","1F468-1F3FB-200D-1F9B2":["man_bald_tone1","man_bald_light_skin_tone"],"1F468-1F3FC-200D-1F9B2":["man_bald_tone2","man_bald_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9B2":["man_bald_tone3","man_bald_medium_skin_tone"],"1F468-1F3FE-200D-1F9B2":["man_bald_tone4","man_bald_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9B2":["man_bald_tone5","man_bald_dark_skin_tone"],"1F9D4":"bearded_person","1F9D4-1F3FB":["bearded_person_tone1","bearded_person_light_skin_tone"],"1F9D4-1F3FC":["bearded_person_tone2","bearded_person_medium_light_skin_tone"],"1F9D4-1F3FD":["bearded_person_tone3","bearded_person_medium_skin_tone"],"1F9D4-1F3FE":["bearded_person_tone4","bearded_person_medium_dark_skin_tone"],"1F9D4-1F3FF":["bearded_person_tone5","bearded_person_dark_skin_tone"],"1F9D4-200D-2642-FE0F":"man_beard","1F9D4-1F3FB-200D-2642-FE0F":["man_tone1_beard","man_light_skin_tone_beard"],"1F9D4-1F3FC-200D-2642-FE0F":["man_tone2_beard","man_medium_light_skin_tone_beard"],"1F9D4-1F3FD-200D-2642-FE0F":["man_tone3_beard","man_medium_skin_tone_beard"],"1F9D4-1F3FE-200D-2642-FE0F":["man_tone4_beard","man_medium_dark_skin_tone_beard"],"1F9D4-1F3FF-200D-2642-FE0F":["man_tone5_beard","man_dark_skin_tone_beard"],"1F9D4-200D-2640-FE0F":"woman_beard","1F9D4-1F3FB-200D-2640-FE0F":["woman_tone1_beard","woman_light_skin_tone_beard"],"1F9D4-1F3FC-200D-2640-FE0F":["woman_tone2_beard","woman_medium_light_skin_tone_beard"],"1F9D4-1F3FD-200D-2640-FE0F":["woman_tone3_beard","woman_medium_skin_tone_beard"],"1F9D4-1F3FE-200D-2640-FE0F":["woman_tone4_beard","woman_medium_dark_skin_tone_beard"],"1F9D4-1F3FF-200D-2640-FE0F":["woman_tone5_beard","woman_dark_skin_tone_beard"],"1F475":["older_woman","grandma"],"1F475-1F3FB":["older_woman_tone1","grandma_tone1"],"1F475-1F3FC":["older_woman_tone2","grandma_tone2"],"1F475-1F3FD":["older_woman_tone3","grandma_tone3"],"1F475-1F3FE":["older_woman_tone4","grandma_tone4"],"1F475-1F3FF":["older_woman_tone5","grandma_tone5"],"1F9D3":"older_adult","1F9D3-1F3FB":["older_adult_tone1","older_adult_light_skin_tone"],"1F9D3-1F3FC":["older_adult_tone2","older_adult_medium_light_skin_tone"],"1F9D3-1F3FD":["older_adult_tone3","older_adult_medium_skin_tone"],"1F9D3-1F3FE":["older_adult_tone4","older_adult_medium_dark_skin_tone"],"1F9D3-1F3FF":["older_adult_tone5","older_adult_dark_skin_tone"],"1F474":"older_man","1F474-1F3FB":"older_man_tone1","1F474-1F3FC":"older_man_tone2","1F474-1F3FD":"older_man_tone3","1F474-1F3FE":"older_man_tone4","1F474-1F3FF":"older_man_tone5","1F472":["man_with_chinese_cap","man_with_gua_pi_mao"],"1F472-1F3FB":["man_with_chinese_cap_tone1","man_with_gua_pi_mao_tone1"],"1F472-1F3FC":["man_with_chinese_cap_tone2","man_with_gua_pi_mao_tone2"],"1F472-1F3FD":["man_with_chinese_cap_tone3","man_with_gua_pi_mao_tone3"],"1F472-1F3FE":["man_with_chinese_cap_tone4","man_with_gua_pi_mao_tone4"],"1F472-1F3FF":["man_with_chinese_cap_tone5","man_with_gua_pi_mao_tone5"],"1F473":["person_wearing_turban","man_with_turban"],"1F473-1F3FB":["person_wearing_turban_tone1","man_with_turban_tone1"],"1F473-1F3FC":["person_wearing_turban_tone2","man_with_turban_tone2"],"1F473-1F3FD":["person_wearing_turban_tone3","man_with_turban_tone3"],"1F473-1F3FE":["person_wearing_turban_tone4","man_with_turban_tone4"],"1F473-1F3FF":["person_wearing_turban_tone5","man_with_turban_tone5"],"1F473-200D-2640-FE0F":"woman_wearing_turban","1F473-1F3FB-200D-2640-FE0F":["woman_wearing_turban_tone1","woman_wearing_turban_light_skin_tone"],"1F473-1F3FC-200D-2640-FE0F":["woman_wearing_turban_tone2","woman_wearing_turban_medium_light_skin_tone"],"1F473-1F3FD-200D-2640-FE0F":["woman_wearing_turban_tone3","woman_wearing_turban_medium_skin_tone"],"1F473-1F3FE-200D-2640-FE0F":["woman_wearing_turban_tone4","woman_wearing_turban_medium_dark_skin_tone"],"1F473-1F3FF-200D-2640-FE0F":["woman_wearing_turban_tone5","woman_wearing_turban_dark_skin_tone"],"1F473-200D-2642-FE0F":"man_wearing_turban","1F473-1F3FB-200D-2642-FE0F":["man_wearing_turban_tone1","man_wearing_turban_light_skin_tone"],"1F473-1F3FC-200D-2642-FE0F":["man_wearing_turban_tone2","man_wearing_turban_medium_light_skin_tone"],"1F473-1F3FD-200D-2642-FE0F":["man_wearing_turban_tone3","man_wearing_turban_medium_skin_tone"],"1F473-1F3FE-200D-2642-FE0F":["man_wearing_turban_tone4","man_wearing_turban_medium_dark_skin_tone"],"1F473-1F3FF-200D-2642-FE0F":["man_wearing_turban_tone5","man_wearing_turban_dark_skin_tone"],"1F9D5":"woman_with_headscarf","1F9D5-1F3FB":["woman_with_headscarf_tone1","woman_with_headscarf_light_skin_tone"],"1F9D5-1F3FC":["woman_with_headscarf_tone2","woman_with_headscarf_medium_light_skin_tone"],"1F9D5-1F3FD":["woman_with_headscarf_tone3","woman_with_headscarf_medium_skin_tone"],"1F9D5-1F3FE":["woman_with_headscarf_tone4","woman_with_headscarf_medium_dark_skin_tone"],"1F9D5-1F3FF":["woman_with_headscarf_tone5","woman_with_headscarf_dark_skin_tone"],"1F46E":["police_officer","cop"],"1F46E-1F3FB":["police_officer_tone1","cop_tone1"],"1F46E-1F3FC":["police_officer_tone2","cop_tone2"],"1F46E-1F3FD":["police_officer_tone3","cop_tone3"],"1F46E-1F3FE":["police_officer_tone4","cop_tone4"],"1F46E-1F3FF":["police_officer_tone5","cop_tone5"],"1F46E-200D-2640-FE0F":"woman_police_officer","1F46E-1F3FB-200D-2640-FE0F":["woman_police_officer_tone1","woman_police_officer_light_skin_tone"],"1F46E-1F3FC-200D-2640-FE0F":["woman_police_officer_tone2","woman_police_officer_medium_light_skin_tone"],"1F46E-1F3FD-200D-2640-FE0F":["woman_police_officer_tone3","woman_police_officer_medium_skin_tone"],"1F46E-1F3FE-200D-2640-FE0F":["woman_police_officer_tone4","woman_police_officer_medium_dark_skin_tone"],"1F46E-1F3FF-200D-2640-FE0F":["woman_police_officer_tone5","woman_police_officer_dark_skin_tone"],"1F46E-200D-2642-FE0F":"man_police_officer","1F46E-1F3FB-200D-2642-FE0F":["man_police_officer_tone1","man_police_officer_light_skin_tone"],"1F46E-1F3FC-200D-2642-FE0F":["man_police_officer_tone2","man_police_officer_medium_light_skin_tone"],"1F46E-1F3FD-200D-2642-FE0F":["man_police_officer_tone3","man_police_officer_medium_skin_tone"],"1F46E-1F3FE-200D-2642-FE0F":["man_police_officer_tone4","man_police_officer_medium_dark_skin_tone"],"1F46E-1F3FF-200D-2642-FE0F":["man_police_officer_tone5","man_police_officer_dark_skin_tone"],"1F477":"construction_worker","1F477-1F3FB":"construction_worker_tone1","1F477-1F3FC":"construction_worker_tone2","1F477-1F3FD":"construction_worker_tone3","1F477-1F3FE":"construction_worker_tone4","1F477-1F3FF":"construction_worker_tone5","1F477-200D-2640-FE0F":"woman_construction_worker","1F477-1F3FB-200D-2640-FE0F":["woman_construction_worker_tone1","woman_construction_worker_light_skin_tone"],"1F477-1F3FC-200D-2640-FE0F":["woman_construction_worker_tone2","woman_construction_worker_medium_light_skin_tone"],"1F477-1F3FD-200D-2640-FE0F":["woman_construction_worker_tone3","woman_construction_worker_medium_skin_tone"],"1F477-1F3FE-200D-2640-FE0F":["woman_construction_worker_tone4","woman_construction_worker_medium_dark_skin_tone"],"1F477-1F3FF-200D-2640-FE0F":["woman_construction_worker_tone5","woman_construction_worker_dark_skin_tone"],"1F477-200D-2642-FE0F":"man_construction_worker","1F477-1F3FB-200D-2642-FE0F":["man_construction_worker_tone1","man_construction_worker_light_skin_tone"],"1F477-1F3FC-200D-2642-FE0F":["man_construction_worker_tone2","man_construction_worker_medium_light_skin_tone"],"1F477-1F3FD-200D-2642-FE0F":["man_construction_worker_tone3","man_construction_worker_medium_skin_tone"],"1F477-1F3FE-200D-2642-FE0F":["man_construction_worker_tone4","man_construction_worker_medium_dark_skin_tone"],"1F477-1F3FF-200D-2642-FE0F":["man_construction_worker_tone5","man_construction_worker_dark_skin_tone"],"1F482":["guard","guardsman"],"1F482-1F3FB":["guard_tone1","guardsman_tone1"],"1F482-1F3FC":["guard_tone2","guardsman_tone2"],"1F482-1F3FD":["guard_tone3","guardsman_tone3"],"1F482-1F3FE":["guard_tone4","guardsman_tone4"],"1F482-1F3FF":["guard_tone5","guardsman_tone5"],"1F482-200D-2640-FE0F":"woman_guard","1F482-1F3FB-200D-2640-FE0F":["woman_guard_tone1","woman_guard_light_skin_tone"],"1F482-1F3FC-200D-2640-FE0F":["woman_guard_tone2","woman_guard_medium_light_skin_tone"],"1F482-1F3FD-200D-2640-FE0F":["woman_guard_tone3","woman_guard_medium_skin_tone"],"1F482-1F3FE-200D-2640-FE0F":["woman_guard_tone4","woman_guard_medium_dark_skin_tone"],"1F482-1F3FF-200D-2640-FE0F":["woman_guard_tone5","woman_guard_dark_skin_tone"],"1F482-200D-2642-FE0F":"man_guard","1F482-1F3FB-200D-2642-FE0F":["man_guard_tone1","man_guard_light_skin_tone"],"1F482-1F3FC-200D-2642-FE0F":["man_guard_tone2","man_guard_medium_light_skin_tone"],"1F482-1F3FD-200D-2642-FE0F":["man_guard_tone3","man_guard_medium_skin_tone"],"1F482-1F3FE-200D-2642-FE0F":["man_guard_tone4","man_guard_medium_dark_skin_tone"],"1F482-1F3FF-200D-2642-FE0F":["man_guard_tone5","man_guard_dark_skin_tone"],"1F575":["detective","spy","sleuth_or_spy"],"1F575-1F3FB":["detective_tone1","spy_tone1","sleuth_or_spy_tone1"],"1F575-1F3FC":["detective_tone2","spy_tone2","sleuth_or_spy_tone2"],"1F575-1F3FD":["detective_tone3","spy_tone3","sleuth_or_spy_tone3"],"1F575-1F3FE":["detective_tone4","spy_tone4","sleuth_or_spy_tone4"],"1F575-1F3FF":["detective_tone5","spy_tone5","sleuth_or_spy_tone5"],"1F575-FE0F-200D-2640-FE0F":"woman_detective","1F575-1F3FB-200D-2640-FE0F":["woman_detective_tone1","woman_detective_light_skin_tone"],"1F575-1F3FC-200D-2640-FE0F":["woman_detective_tone2","woman_detective_medium_light_skin_tone"],"1F575-1F3FD-200D-2640-FE0F":["woman_detective_tone3","woman_detective_medium_skin_tone"],"1F575-1F3FE-200D-2640-FE0F":["woman_detective_tone4","woman_detective_medium_dark_skin_tone"],"1F575-1F3FF-200D-2640-FE0F":["woman_detective_tone5","woman_detective_dark_skin_tone"],"1F575-FE0F-200D-2642-FE0F":"man_detective","1F575-1F3FB-200D-2642-FE0F":["man_detective_tone1","man_detective_light_skin_tone"],"1F575-1F3FC-200D-2642-FE0F":["man_detective_tone2","man_detective_medium_light_skin_tone"],"1F575-1F3FD-200D-2642-FE0F":["man_detective_tone3","man_detective_medium_skin_tone"],"1F575-1F3FE-200D-2642-FE0F":["man_detective_tone4","man_detective_medium_dark_skin_tone"],"1F575-1F3FF-200D-2642-FE0F":["man_detective_tone5","man_detective_dark_skin_tone"],"1F9D1-200D-2695-FE0F":"health_worker","1F9D1-1F3FB-200D-2695-FE0F":["health_worker_tone1","health_worker_light_skin_tone"],"1F9D1-1F3FC-200D-2695-FE0F":["health_worker_tone2","health_worker_medium_light_skin_tone"],"1F9D1-1F3FD-200D-2695-FE0F":["health_worker_tone3","health_worker_medium_skin_tone"],"1F9D1-1F3FE-200D-2695-FE0F":["health_worker_tone4","health_worker_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-2695-FE0F":["health_worker_tone5","health_worker_dark_skin_tone"],"1F469-200D-2695-FE0F":"woman_health_worker","1F469-1F3FB-200D-2695-FE0F":["woman_health_worker_tone1","woman_health_worker_light_skin_tone"],"1F469-1F3FC-200D-2695-FE0F":["woman_health_worker_tone2","woman_health_worker_medium_light_skin_tone"],"1F469-1F3FD-200D-2695-FE0F":["woman_health_worker_tone3","woman_health_worker_medium_skin_tone"],"1F469-1F3FE-200D-2695-FE0F":["woman_health_worker_tone4","woman_health_worker_medium_dark_skin_tone"],"1F469-1F3FF-200D-2695-FE0F":["woman_health_worker_tone5","woman_health_worker_dark_skin_tone"],"1F468-200D-2695-FE0F":"man_health_worker","1F468-1F3FB-200D-2695-FE0F":["man_health_worker_tone1","man_health_worker_light_skin_tone"],"1F468-1F3FC-200D-2695-FE0F":["man_health_worker_tone2","man_health_worker_medium_light_skin_tone"],"1F468-1F3FD-200D-2695-FE0F":["man_health_worker_tone3","man_health_worker_medium_skin_tone"],"1F468-1F3FE-200D-2695-FE0F":["man_health_worker_tone4","man_health_worker_medium_dark_skin_tone"],"1F468-1F3FF-200D-2695-FE0F":["man_health_worker_tone5","man_health_worker_dark_skin_tone"],"1F9D1-200D-1F33E":"farmer","1F9D1-1F3FB-200D-1F33E":["farmer_tone1","farmer_light_skin_tone"],"1F9D1-1F3FC-200D-1F33E":["farmer_tone2","farmer_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F33E":["farmer_tone3","farmer_medium_skin_tone"],"1F9D1-1F3FE-200D-1F33E":["farmer_tone4","farmer_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F33E":["farmer_tone5","farmer_dark_skin_tone"],"1F469-200D-1F33E":"woman_farmer","1F469-1F3FB-200D-1F33E":["woman_farmer_tone1","woman_farmer_light_skin_tone"],"1F469-1F3FC-200D-1F33E":["woman_farmer_tone2","woman_farmer_medium_light_skin_tone"],"1F469-1F3FD-200D-1F33E":["woman_farmer_tone3","woman_farmer_medium_skin_tone"],"1F469-1F3FE-200D-1F33E":["woman_farmer_tone4","woman_farmer_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F33E":["woman_farmer_tone5","woman_farmer_dark_skin_tone"],"1F468-200D-1F33E":"man_farmer","1F468-1F3FB-200D-1F33E":["man_farmer_tone1","man_farmer_light_skin_tone"],"1F468-1F3FC-200D-1F33E":["man_farmer_tone2","man_farmer_medium_light_skin_tone"],"1F468-1F3FD-200D-1F33E":["man_farmer_tone3","man_farmer_medium_skin_tone"],"1F468-1F3FE-200D-1F33E":["man_farmer_tone4","man_farmer_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F33E":["man_farmer_tone5","man_farmer_dark_skin_tone"],"1F9D1-200D-1F373":"cook","1F9D1-1F3FB-200D-1F373":["cook_tone1","cook_light_skin_tone"],"1F9D1-1F3FC-200D-1F373":["cook_tone2","cook_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F373":["cook_tone3","cook_medium_skin_tone"],"1F9D1-1F3FE-200D-1F373":["cook_tone4","cook_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F373":["cook_tone5","cook_dark_skin_tone"],"1F469-200D-1F373":"woman_cook","1F469-1F3FB-200D-1F373":["woman_cook_tone1","woman_cook_light_skin_tone"],"1F469-1F3FC-200D-1F373":["woman_cook_tone2","woman_cook_medium_light_skin_tone"],"1F469-1F3FD-200D-1F373":["woman_cook_tone3","woman_cook_medium_skin_tone"],"1F469-1F3FE-200D-1F373":["woman_cook_tone4","woman_cook_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F373":["woman_cook_tone5","woman_cook_dark_skin_tone"],"1F468-200D-1F373":"man_cook","1F468-1F3FB-200D-1F373":["man_cook_tone1","man_cook_light_skin_tone"],"1F468-1F3FC-200D-1F373":["man_cook_tone2","man_cook_medium_light_skin_tone"],"1F468-1F3FD-200D-1F373":["man_cook_tone3","man_cook_medium_skin_tone"],"1F468-1F3FE-200D-1F373":["man_cook_tone4","man_cook_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F373":["man_cook_tone5","man_cook_dark_skin_tone"],"1F9D1-200D-1F393":"student","1F9D1-1F3FB-200D-1F393":["student_tone1","student_light_skin_tone"],"1F9D1-1F3FC-200D-1F393":["student_tone2","student_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F393":["student_tone3","student_medium_skin_tone"],"1F9D1-1F3FE-200D-1F393":["student_tone4","student_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F393":["student_tone5","student_dark_skin_tone"],"1F469-200D-1F393":"woman_student","1F469-1F3FB-200D-1F393":["woman_student_tone1","woman_student_light_skin_tone"],"1F469-1F3FC-200D-1F393":["woman_student_tone2","woman_student_medium_light_skin_tone"],"1F469-1F3FD-200D-1F393":["woman_student_tone3","woman_student_medium_skin_tone"],"1F469-1F3FE-200D-1F393":["woman_student_tone4","woman_student_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F393":["woman_student_tone5","woman_student_dark_skin_tone"],"1F468-200D-1F393":"man_student","1F468-1F3FB-200D-1F393":["man_student_tone1","man_student_light_skin_tone"],"1F468-1F3FC-200D-1F393":["man_student_tone2","man_student_medium_light_skin_tone"],"1F468-1F3FD-200D-1F393":["man_student_tone3","man_student_medium_skin_tone"],"1F468-1F3FE-200D-1F393":["man_student_tone4","man_student_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F393":["man_student_tone5","man_student_dark_skin_tone"],"1F9D1-200D-1F3A4":"singer","1F9D1-1F3FB-200D-1F3A4":["singer_tone1","singer_light_skin_tone"],"1F9D1-1F3FC-200D-1F3A4":["singer_tone2","singer_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F3A4":["singer_tone3","singer_medium_skin_tone"],"1F9D1-1F3FE-200D-1F3A4":["singer_tone4","singer_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F3A4":["singer_tone5","singer_dark_skin_tone"],"1F469-200D-1F3A4":"woman_singer","1F469-1F3FB-200D-1F3A4":["woman_singer_tone1","woman_singer_light_skin_tone"],"1F469-1F3FC-200D-1F3A4":["woman_singer_tone2","woman_singer_medium_light_skin_tone"],"1F469-1F3FD-200D-1F3A4":["woman_singer_tone3","woman_singer_medium_skin_tone"],"1F469-1F3FE-200D-1F3A4":["woman_singer_tone4","woman_singer_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F3A4":["woman_singer_tone5","woman_singer_dark_skin_tone"],"1F468-200D-1F3A4":"man_singer","1F468-1F3FB-200D-1F3A4":["man_singer_tone1","man_singer_light_skin_tone"],"1F468-1F3FC-200D-1F3A4":["man_singer_tone2","man_singer_medium_light_skin_tone"],"1F468-1F3FD-200D-1F3A4":["man_singer_tone3","man_singer_medium_skin_tone"],"1F468-1F3FE-200D-1F3A4":["man_singer_tone4","man_singer_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F3A4":["man_singer_tone5","man_singer_dark_skin_tone"],"1F9D1-200D-1F3EB":"teacher","1F9D1-1F3FB-200D-1F3EB":["teacher_tone1","teacher_light_skin_tone"],"1F9D1-1F3FC-200D-1F3EB":["teacher_tone2","teacher_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F3EB":["teacher_tone3","teacher_medium_skin_tone"],"1F9D1-1F3FE-200D-1F3EB":["teacher_tone4","teacher_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F3EB":["teacher_tone5","teacher_dark_skin_tone"],"1F469-200D-1F3EB":"woman_teacher","1F469-1F3FB-200D-1F3EB":["woman_teacher_tone1","woman_teacher_light_skin_tone"],"1F469-1F3FC-200D-1F3EB":["woman_teacher_tone2","woman_teacher_medium_light_skin_tone"],"1F469-1F3FD-200D-1F3EB":["woman_teacher_tone3","woman_teacher_medium_skin_tone"],"1F469-1F3FE-200D-1F3EB":["woman_teacher_tone4","woman_teacher_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F3EB":["woman_teacher_tone5","woman_teacher_dark_skin_tone"],"1F468-200D-1F3EB":"man_teacher","1F468-1F3FB-200D-1F3EB":["man_teacher_tone1","man_teacher_light_skin_tone"],"1F468-1F3FC-200D-1F3EB":["man_teacher_tone2","man_teacher_medium_light_skin_tone"],"1F468-1F3FD-200D-1F3EB":["man_teacher_tone3","man_teacher_medium_skin_tone"],"1F468-1F3FE-200D-1F3EB":["man_teacher_tone4","man_teacher_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F3EB":["man_teacher_tone5","man_teacher_dark_skin_tone"],"1F9D1-200D-1F3ED":"factory_worker","1F9D1-1F3FB-200D-1F3ED":["factory_worker_tone1","factory_worker_light_skin_tone"],"1F9D1-1F3FC-200D-1F3ED":["factory_worker_tone2","factory_worker_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F3ED":["factory_worker_tone3","factory_worker_medium_skin_tone"],"1F9D1-1F3FE-200D-1F3ED":["factory_worker_tone4","factory_worker_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F3ED":["factory_worker_tone5","factory_worker_dark_skin_tone"],"1F469-200D-1F3ED":"woman_factory_worker","1F469-1F3FB-200D-1F3ED":["woman_factory_worker_tone1","woman_factory_worker_light_skin_tone"],"1F469-1F3FC-200D-1F3ED":["woman_factory_worker_tone2","woman_factory_worker_medium_light_skin_tone"],"1F469-1F3FD-200D-1F3ED":["woman_factory_worker_tone3","woman_factory_worker_medium_skin_tone"],"1F469-1F3FE-200D-1F3ED":["woman_factory_worker_tone4","woman_factory_worker_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F3ED":["woman_factory_worker_tone5","woman_factory_worker_dark_skin_tone"],"1F468-200D-1F3ED":"man_factory_worker","1F468-1F3FB-200D-1F3ED":["man_factory_worker_tone1","man_factory_worker_light_skin_tone"],"1F468-1F3FC-200D-1F3ED":["man_factory_worker_tone2","man_factory_worker_medium_light_skin_tone"],"1F468-1F3FD-200D-1F3ED":["man_factory_worker_tone3","man_factory_worker_medium_skin_tone"],"1F468-1F3FE-200D-1F3ED":["man_factory_worker_tone4","man_factory_worker_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F3ED":["man_factory_worker_tone5","man_factory_worker_dark_skin_tone"],"1F9D1-200D-1F4BB":"technologist","1F9D1-1F3FB-200D-1F4BB":["technologist_tone1","technologist_light_skin_tone"],"1F9D1-1F3FC-200D-1F4BB":["technologist_tone2","technologist_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F4BB":["technologist_tone3","technologist_medium_skin_tone"],"1F9D1-1F3FE-200D-1F4BB":["technologist_tone4","technologist_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F4BB":["technologist_tone5","technologist_dark_skin_tone"],"1F469-200D-1F4BB":"woman_technologist","1F469-1F3FB-200D-1F4BB":["woman_technologist_tone1","woman_technologist_light_skin_tone"],"1F469-1F3FC-200D-1F4BB":["woman_technologist_tone2","woman_technologist_medium_light_skin_tone"],"1F469-1F3FD-200D-1F4BB":["woman_technologist_tone3","woman_technologist_medium_skin_tone"],"1F469-1F3FE-200D-1F4BB":["woman_technologist_tone4","woman_technologist_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F4BB":["woman_technologist_tone5","woman_technologist_dark_skin_tone"],"1F468-200D-1F4BB":"man_technologist","1F468-1F3FB-200D-1F4BB":["man_technologist_tone1","man_technologist_light_skin_tone"],"1F468-1F3FC-200D-1F4BB":["man_technologist_tone2","man_technologist_medium_light_skin_tone"],"1F468-1F3FD-200D-1F4BB":["man_technologist_tone3","man_technologist_medium_skin_tone"],"1F468-1F3FE-200D-1F4BB":["man_technologist_tone4","man_technologist_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F4BB":["man_technologist_tone5","man_technologist_dark_skin_tone"],"1F9D1-200D-1F4BC":"office_worker","1F9D1-1F3FB-200D-1F4BC":["office_worker_tone1","office_worker_light_skin_tone"],"1F9D1-1F3FC-200D-1F4BC":["office_worker_tone2","office_worker_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F4BC":["office_worker_tone3","office_worker_medium_skin_tone"],"1F9D1-1F3FE-200D-1F4BC":["office_worker_tone4","office_worker_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F4BC":["office_worker_tone5","office_worker_dark_skin_tone"],"1F469-200D-1F4BC":"woman_office_worker","1F469-1F3FB-200D-1F4BC":["woman_office_worker_tone1","woman_office_worker_light_skin_tone"],"1F469-1F3FC-200D-1F4BC":["woman_office_worker_tone2","woman_office_worker_medium_light_skin_tone"],"1F469-1F3FD-200D-1F4BC":["woman_office_worker_tone3","woman_office_worker_medium_skin_tone"],"1F469-1F3FE-200D-1F4BC":["woman_office_worker_tone4","woman_office_worker_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F4BC":["woman_office_worker_tone5","woman_office_worker_dark_skin_tone"],"1F468-200D-1F4BC":"man_office_worker","1F468-1F3FB-200D-1F4BC":["man_office_worker_tone1","man_office_worker_light_skin_tone"],"1F468-1F3FC-200D-1F4BC":["man_office_worker_tone2","man_office_worker_medium_light_skin_tone"],"1F468-1F3FD-200D-1F4BC":["man_office_worker_tone3","man_office_worker_medium_skin_tone"],"1F468-1F3FE-200D-1F4BC":["man_office_worker_tone4","man_office_worker_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F4BC":["man_office_worker_tone5","man_office_worker_dark_skin_tone"],"1F9D1-200D-1F527":"mechanic","1F9D1-1F3FB-200D-1F527":["mechanic_tone1","mechanic_light_skin_tone"],"1F9D1-1F3FC-200D-1F527":["mechanic_tone2","mechanic_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F527":["mechanic_tone3","mechanic_medium_skin_tone"],"1F9D1-1F3FE-200D-1F527":["mechanic_tone4","mechanic_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F527":["mechanic_tone5","mechanic_dark_skin_tone"],"1F469-200D-1F527":"woman_mechanic","1F469-1F3FB-200D-1F527":["woman_mechanic_tone1","woman_mechanic_light_skin_tone"],"1F469-1F3FC-200D-1F527":["woman_mechanic_tone2","woman_mechanic_medium_light_skin_tone"],"1F469-1F3FD-200D-1F527":["woman_mechanic_tone3","woman_mechanic_medium_skin_tone"],"1F469-1F3FE-200D-1F527":["woman_mechanic_tone4","woman_mechanic_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F527":["woman_mechanic_tone5","woman_mechanic_dark_skin_tone"],"1F468-200D-1F527":"man_mechanic","1F468-1F3FB-200D-1F527":["man_mechanic_tone1","man_mechanic_light_skin_tone"],"1F468-1F3FC-200D-1F527":["man_mechanic_tone2","man_mechanic_medium_light_skin_tone"],"1F468-1F3FD-200D-1F527":["man_mechanic_tone3","man_mechanic_medium_skin_tone"],"1F468-1F3FE-200D-1F527":["man_mechanic_tone4","man_mechanic_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F527":["man_mechanic_tone5","man_mechanic_dark_skin_tone"],"1F9D1-200D-1F52C":"scientist","1F9D1-1F3FB-200D-1F52C":["scientist_tone1","scientist_light_skin_tone"],"1F9D1-1F3FC-200D-1F52C":["scientist_tone2","scientist_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F52C":["scientist_tone3","scientist_medium_skin_tone"],"1F9D1-1F3FE-200D-1F52C":["scientist_tone4","scientist_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F52C":["scientist_tone5","scientist_dark_skin_tone"],"1F469-200D-1F52C":"woman_scientist","1F469-1F3FB-200D-1F52C":["woman_scientist_tone1","woman_scientist_light_skin_tone"],"1F469-1F3FC-200D-1F52C":["woman_scientist_tone2","woman_scientist_medium_light_skin_tone"],"1F469-1F3FD-200D-1F52C":["woman_scientist_tone3","woman_scientist_medium_skin_tone"],"1F469-1F3FE-200D-1F52C":["woman_scientist_tone4","woman_scientist_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F52C":["woman_scientist_tone5","woman_scientist_dark_skin_tone"],"1F468-200D-1F52C":"man_scientist","1F468-1F3FB-200D-1F52C":["man_scientist_tone1","man_scientist_light_skin_tone"],"1F468-1F3FC-200D-1F52C":["man_scientist_tone2","man_scientist_medium_light_skin_tone"],"1F468-1F3FD-200D-1F52C":["man_scientist_tone3","man_scientist_medium_skin_tone"],"1F468-1F3FE-200D-1F52C":["man_scientist_tone4","man_scientist_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F52C":["man_scientist_tone5","man_scientist_dark_skin_tone"],"1F9D1-200D-1F3A8":"artist","1F9D1-1F3FB-200D-1F3A8":["artist_tone1","artist_light_skin_tone"],"1F9D1-1F3FC-200D-1F3A8":["artist_tone2","artist_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F3A8":["artist_tone3","artist_medium_skin_tone"],"1F9D1-1F3FE-200D-1F3A8":["artist_tone4","artist_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F3A8":["artist_tone5","artist_dark_skin_tone"],"1F469-200D-1F3A8":"woman_artist","1F469-1F3FB-200D-1F3A8":["woman_artist_tone1","woman_artist_light_skin_tone"],"1F469-1F3FC-200D-1F3A8":["woman_artist_tone2","woman_artist_medium_light_skin_tone"],"1F469-1F3FD-200D-1F3A8":["woman_artist_tone3","woman_artist_medium_skin_tone"],"1F469-1F3FE-200D-1F3A8":["woman_artist_tone4","woman_artist_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F3A8":["woman_artist_tone5","woman_artist_dark_skin_tone"],"1F468-200D-1F3A8":"man_artist","1F468-1F3FB-200D-1F3A8":["man_artist_tone1","man_artist_light_skin_tone"],"1F468-1F3FC-200D-1F3A8":["man_artist_tone2","man_artist_medium_light_skin_tone"],"1F468-1F3FD-200D-1F3A8":["man_artist_tone3","man_artist_medium_skin_tone"],"1F468-1F3FE-200D-1F3A8":["man_artist_tone4","man_artist_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F3A8":["man_artist_tone5","man_artist_dark_skin_tone"],"1F9D1-200D-1F692":"firefighter","1F9D1-1F3FB-200D-1F692":["firefighter_tone1","firefighter_light_skin_tone"],"1F9D1-1F3FC-200D-1F692":["firefighter_tone2","firefighter_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F692":["firefighter_tone3","firefighter_medium_skin_tone"],"1F9D1-1F3FE-200D-1F692":["firefighter_tone4","firefighter_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F692":["firefighter_tone5","firefighter_dark_skin_tone"],"1F469-200D-1F692":"woman_firefighter","1F469-1F3FB-200D-1F692":["woman_firefighter_tone1","woman_firefighter_light_skin_tone"],"1F469-1F3FC-200D-1F692":["woman_firefighter_tone2","woman_firefighter_medium_light_skin_tone"],"1F469-1F3FD-200D-1F692":["woman_firefighter_tone3","woman_firefighter_medium_skin_tone"],"1F469-1F3FE-200D-1F692":["woman_firefighter_tone4","woman_firefighter_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F692":["woman_firefighter_tone5","woman_firefighter_dark_skin_tone"],"1F468-200D-1F692":"man_firefighter","1F468-1F3FB-200D-1F692":["man_firefighter_tone1","man_firefighter_light_skin_tone"],"1F468-1F3FC-200D-1F692":["man_firefighter_tone2","man_firefighter_medium_light_skin_tone"],"1F468-1F3FD-200D-1F692":["man_firefighter_tone3","man_firefighter_medium_skin_tone"],"1F468-1F3FE-200D-1F692":["man_firefighter_tone4","man_firefighter_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F692":["man_firefighter_tone5","man_firefighter_dark_skin_tone"],"1F9D1-200D-2708-FE0F":"pilot","1F9D1-1F3FB-200D-2708-FE0F":["pilot_tone1","pilot_light_skin_tone"],"1F9D1-1F3FC-200D-2708-FE0F":["pilot_tone2","pilot_medium_light_skin_tone"],"1F9D1-1F3FD-200D-2708-FE0F":["pilot_tone3","pilot_medium_skin_tone"],"1F9D1-1F3FE-200D-2708-FE0F":["pilot_tone4","pilot_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-2708-FE0F":["pilot_tone5","pilot_dark_skin_tone"],"1F469-200D-2708-FE0F":"woman_pilot","1F469-1F3FB-200D-2708-FE0F":["woman_pilot_tone1","woman_pilot_light_skin_tone"],"1F469-1F3FC-200D-2708-FE0F":["woman_pilot_tone2","woman_pilot_medium_light_skin_tone"],"1F469-1F3FD-200D-2708-FE0F":["woman_pilot_tone3","woman_pilot_medium_skin_tone"],"1F469-1F3FE-200D-2708-FE0F":["woman_pilot_tone4","woman_pilot_medium_dark_skin_tone"],"1F469-1F3FF-200D-2708-FE0F":["woman_pilot_tone5","woman_pilot_dark_skin_tone"],"1F468-200D-2708-FE0F":"man_pilot","1F468-1F3FB-200D-2708-FE0F":["man_pilot_tone1","man_pilot_light_skin_tone"],"1F468-1F3FC-200D-2708-FE0F":["man_pilot_tone2","man_pilot_medium_light_skin_tone"],"1F468-1F3FD-200D-2708-FE0F":["man_pilot_tone3","man_pilot_medium_skin_tone"],"1F468-1F3FE-200D-2708-FE0F":["man_pilot_tone4","man_pilot_medium_dark_skin_tone"],"1F468-1F3FF-200D-2708-FE0F":["man_pilot_tone5","man_pilot_dark_skin_tone"],"1F9D1-200D-1F680":"astronaut","1F9D1-1F3FB-200D-1F680":["astronaut_tone1","astronaut_light_skin_tone"],"1F9D1-1F3FC-200D-1F680":["astronaut_tone2","astronaut_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F680":["astronaut_tone3","astronaut_medium_skin_tone"],"1F9D1-1F3FE-200D-1F680":["astronaut_tone4","astronaut_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F680":["astronaut_tone5","astronaut_dark_skin_tone"],"1F469-200D-1F680":"woman_astronaut","1F469-1F3FB-200D-1F680":["woman_astronaut_tone1","woman_astronaut_light_skin_tone"],"1F469-1F3FC-200D-1F680":["woman_astronaut_tone2","woman_astronaut_medium_light_skin_tone"],"1F469-1F3FD-200D-1F680":["woman_astronaut_tone3","woman_astronaut_medium_skin_tone"],"1F469-1F3FE-200D-1F680":["woman_astronaut_tone4","woman_astronaut_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F680":["woman_astronaut_tone5","woman_astronaut_dark_skin_tone"],"1F468-200D-1F680":"man_astronaut","1F468-1F3FB-200D-1F680":["man_astronaut_tone1","man_astronaut_light_skin_tone"],"1F468-1F3FC-200D-1F680":["man_astronaut_tone2","man_astronaut_medium_light_skin_tone"],"1F468-1F3FD-200D-1F680":["man_astronaut_tone3","man_astronaut_medium_skin_tone"],"1F468-1F3FE-200D-1F680":["man_astronaut_tone4","man_astronaut_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F680":["man_astronaut_tone5","man_astronaut_dark_skin_tone"],"1F9D1-200D-2696-FE0F":"judge","1F9D1-1F3FB-200D-2696-FE0F":["judge_tone1","judge_light_skin_tone"],"1F9D1-1F3FC-200D-2696-FE0F":["judge_tone2","judge_medium_light_skin_tone"],"1F9D1-1F3FD-200D-2696-FE0F":["judge_tone3","judge_medium_skin_tone"],"1F9D1-1F3FE-200D-2696-FE0F":["judge_tone4","judge_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-2696-FE0F":["judge_tone5","judge_dark_skin_tone"],"1F469-200D-2696-FE0F":"woman_judge","1F469-1F3FB-200D-2696-FE0F":["woman_judge_tone1","woman_judge_light_skin_tone"],"1F469-1F3FC-200D-2696-FE0F":["woman_judge_tone2","woman_judge_medium_light_skin_tone"],"1F469-1F3FD-200D-2696-FE0F":["woman_judge_tone3","woman_judge_medium_skin_tone"],"1F469-1F3FE-200D-2696-FE0F":["woman_judge_tone4","woman_judge_medium_dark_skin_tone"],"1F469-1F3FF-200D-2696-FE0F":["woman_judge_tone5","woman_judge_dark_skin_tone"],"1F468-200D-2696-FE0F":"man_judge","1F468-1F3FB-200D-2696-FE0F":["man_judge_tone1","man_judge_light_skin_tone"],"1F468-1F3FC-200D-2696-FE0F":["man_judge_tone2","man_judge_medium_light_skin_tone"],"1F468-1F3FD-200D-2696-FE0F":["man_judge_tone3","man_judge_medium_skin_tone"],"1F468-1F3FE-200D-2696-FE0F":["man_judge_tone4","man_judge_medium_dark_skin_tone"],"1F468-1F3FF-200D-2696-FE0F":["man_judge_tone5","man_judge_dark_skin_tone"],"1F470":"person_with_veil","1F470-1F3FB":"person_with_veil_tone1","1F470-1F3FC":"person_with_veil_tone2","1F470-1F3FD":"person_with_veil_tone3","1F470-1F3FE":"person_with_veil_tone4","1F470-1F3FF":"person_with_veil_tone5","1F470-200D-2640-FE0F":"woman_with_veil","1F470-1F3FB-200D-2640-FE0F":["woman_with_veil_tone1","woman_with_veil_light_skin_tone"],"1F470-1F3FC-200D-2640-FE0F":["woman_with_veil_tone2","woman_with_veil_medium_light_skin_tone"],"1F470-1F3FD-200D-2640-FE0F":["woman_with_veil_tone3","woman_with_veil_medium_skin_tone"],"1F470-1F3FE-200D-2640-FE0F":["woman_with_veil_tone4","woman_with_veil_medium_dark_skin_tone"],"1F470-1F3FF-200D-2640-FE0F":["woman_with_veil_tone5","woman_with_veil_dark_skin_tone"],"1F470-200D-2642-FE0F":"man_with_veil","1F470-1F3FB-200D-2642-FE0F":["man_with_veil_tone1","man_with_veil_light_skin_tone"],"1F470-1F3FC-200D-2642-FE0F":["man_with_veil_tone2","man_with_veil_medium_light_skin_tone"],"1F470-1F3FD-200D-2642-FE0F":["man_with_veil_tone3","man_with_veil_medium_skin_tone"],"1F470-1F3FE-200D-2642-FE0F":["man_with_veil_tone4","man_with_veil_medium_dark_skin_tone"],"1F470-1F3FF-200D-2642-FE0F":["man_with_veil_tone5","man_with_veil_dark_skin_tone"],"1F935":"person_in_tuxedo","1F935-1F3FB":["person_in_tuxedo_tone1","tuxedo_tone1"],"1F935-1F3FC":["person_in_tuxedo_tone2","tuxedo_tone2"],"1F935-1F3FD":["person_in_tuxedo_tone3","tuxedo_tone3"],"1F935-1F3FE":["person_in_tuxedo_tone4","tuxedo_tone4"],"1F935-1F3FF":["person_in_tuxedo_tone5","tuxedo_tone5"],"1F935-200D-2640-FE0F":"woman_in_tuxedo","1F935-1F3FB-200D-2640-FE0F":["woman_in_tuxedo_tone1","woman_in_tuxedo_light_skin_tone"],"1F935-1F3FC-200D-2640-FE0F":["woman_in_tuxedo_tone2","woman_in_tuxedo_medium_light_skin_tone"],"1F935-1F3FD-200D-2640-FE0F":["woman_in_tuxedo_tone3","woman_in_tuxedo_medium_skin_tone"],"1F935-1F3FE-200D-2640-FE0F":["woman_in_tuxedo_tone4","woman_in_tuxedo_medium_dark_skin_tone"],"1F935-1F3FF-200D-2640-FE0F":["woman_in_tuxedo_tone5","woman_in_tuxedo_dark_skin_tone"],"1F935-200D-2642-FE0F":"man_in_tuxedo","1F935-1F3FB-200D-2642-FE0F":["man_in_tuxedo_tone1","man_in_tuxedo_light_skin_tone"],"1F935-1F3FC-200D-2642-FE0F":["man_in_tuxedo_tone2","man_in_tuxedo_medium_light_skin_tone"],"1F935-1F3FD-200D-2642-FE0F":["man_in_tuxedo_tone3","man_in_tuxedo_medium_skin_tone"],"1F935-1F3FE-200D-2642-FE0F":["man_in_tuxedo_tone4","man_in_tuxedo_medium_dark_skin_tone"],"1F935-1F3FF-200D-2642-FE0F":["man_in_tuxedo_tone5","man_in_tuxedo_dark_skin_tone"],"1F478":"princess","1F478-1F3FB":"princess_tone1","1F478-1F3FC":"princess_tone2","1F478-1F3FD":"princess_tone3","1F478-1F3FE":"princess_tone4","1F478-1F3FF":"princess_tone5","1F934":"prince","1F934-1F3FB":"prince_tone1","1F934-1F3FC":"prince_tone2","1F934-1F3FD":"prince_tone3","1F934-1F3FE":"prince_tone4","1F934-1F3FF":"prince_tone5","1F9B8":"superhero","1F9B8-1F3FB":["superhero_tone1","superhero_light_skin_tone"],"1F9B8-1F3FC":["superhero_tone2","superhero_medium_light_skin_tone"],"1F9B8-1F3FD":["superhero_tone3","superhero_medium_skin_tone"],"1F9B8-1F3FE":["superhero_tone4","superhero_medium_dark_skin_tone"],"1F9B8-1F3FF":["superhero_tone5","superhero_dark_skin_tone"],"1F9B8-200D-2640-FE0F":"woman_superhero","1F9B8-1F3FB-200D-2640-FE0F":["woman_superhero_tone1","woman_superhero_light_skin_tone"],"1F9B8-1F3FC-200D-2640-FE0F":["woman_superhero_tone2","woman_superhero_medium_light_skin_tone"],"1F9B8-1F3FD-200D-2640-FE0F":["woman_superhero_tone3","woman_superhero_medium_skin_tone"],"1F9B8-1F3FE-200D-2640-FE0F":["woman_superhero_tone4","woman_superhero_medium_dark_skin_tone"],"1F9B8-1F3FF-200D-2640-FE0F":["woman_superhero_tone5","woman_superhero_dark_skin_tone"],"1F9B8-200D-2642-FE0F":"man_superhero","1F9B8-1F3FB-200D-2642-FE0F":["man_superhero_tone1","man_superhero_light_skin_tone"],"1F9B8-1F3FC-200D-2642-FE0F":["man_superhero_tone2","man_superhero_medium_light_skin_tone"],"1F9B8-1F3FD-200D-2642-FE0F":["man_superhero_tone3","man_superhero_medium_skin_tone"],"1F9B8-1F3FE-200D-2642-FE0F":["man_superhero_tone4","man_superhero_medium_dark_skin_tone"],"1F9B8-1F3FF-200D-2642-FE0F":["man_superhero_tone5","man_superhero_dark_skin_tone"],"1F9B9":"supervillain","1F9B9-1F3FB":["supervillain_tone1","supervillain_light_skin_tone"],"1F9B9-1F3FC":["supervillain_tone2","supervillain_medium_light_skin_tone"],"1F9B9-1F3FD":["supervillain_tone3","supervillain_medium_skin_tone"],"1F9B9-1F3FE":["supervillain_tone4","supervillain_medium_dark_skin_tone"],"1F9B9-1F3FF":["supervillain_tone5","supervillain_dark_skin_tone"],"1F9B9-200D-2640-FE0F":"woman_supervillain","1F9B9-1F3FB-200D-2640-FE0F":["woman_supervillain_tone1","woman_supervillain_light_skin_tone"],"1F9B9-1F3FC-200D-2640-FE0F":["woman_supervillain_tone2","woman_supervillain_medium_light_skin_tone"],"1F9B9-1F3FD-200D-2640-FE0F":["woman_supervillain_tone3","woman_supervillain_medium_skin_tone"],"1F9B9-1F3FE-200D-2640-FE0F":["woman_supervillain_tone4","woman_supervillain_medium_dark_skin_tone"],"1F9B9-1F3FF-200D-2640-FE0F":["woman_supervillain_tone5","woman_supervillain_dark_skin_tone"],"1F9B9-200D-2642-FE0F":"man_supervillain","1F9B9-1F3FB-200D-2642-FE0F":["man_supervillain_tone1","man_supervillain_light_skin_tone"],"1F9B9-1F3FC-200D-2642-FE0F":["man_supervillain_tone2","man_supervillain_medium_light_skin_tone"],"1F9B9-1F3FD-200D-2642-FE0F":["man_supervillain_tone3","man_supervillain_medium_skin_tone"],"1F9B9-1F3FE-200D-2642-FE0F":["man_supervillain_tone4","man_supervillain_medium_dark_skin_tone"],"1F9B9-1F3FF-200D-2642-FE0F":["man_supervillain_tone5","man_supervillain_dark_skin_tone"],"1F977":"ninja","1F977-1F3FB":["ninja_tone1","ninja_light_skin_tone"],"1F977-1F3FC":["ninja_tone2","ninja_medium_light_skin_tone"],"1F977-1F3FD":["ninja_tone3","ninja_medium_skin_tone"],"1F977-1F3FE":["ninja_tone4","ninja_medium_dark_skin_tone"],"1F977-1F3FF":["ninja_tone5","ninja_dark_skin_tone"],"1F9D1-200D-1F384":"mx_claus","1F9D1-1F3FB-200D-1F384":["mx_claus_tone1","mx_claus_light_skin_tone"],"1F9D1-1F3FC-200D-1F384":["mx_claus_tone2","mx_claus_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F384":["mx_claus_tone3","mx_claus_medium_skin_tone"],"1F9D1-1F3FE-200D-1F384":["mx_claus_tone4","mx_claus_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F384":["mx_claus_tone5","mx_claus_dark_skin_tone"],"1F936":["mrs_claus","mother_christmas"],"1F936-1F3FB":["mrs_claus_tone1","mother_christmas_tone1"],"1F936-1F3FC":["mrs_claus_tone2","mother_christmas_tone2"],"1F936-1F3FD":["mrs_claus_tone3","mother_christmas_tone3"],"1F936-1F3FE":["mrs_claus_tone4","mother_christmas_tone4"],"1F936-1F3FF":["mrs_claus_tone5","mother_christmas_tone5"],"1F385":"santa","1F385-1F3FB":"santa_tone1","1F385-1F3FC":"santa_tone2","1F385-1F3FD":"santa_tone3","1F385-1F3FE":"santa_tone4","1F385-1F3FF":"santa_tone5","1F9D9":"mage","1F9D9-1F3FB":["mage_tone1","mage_light_skin_tone"],"1F9D9-1F3FC":["mage_tone2","mage_medium_light_skin_tone"],"1F9D9-1F3FD":["mage_tone3","mage_medium_skin_tone"],"1F9D9-1F3FE":["mage_tone4","mage_medium_dark_skin_tone"],"1F9D9-1F3FF":["mage_tone5","mage_dark_skin_tone"],"1F9D9-200D-2640-FE0F":"woman_mage","1F9D9-1F3FB-200D-2640-FE0F":["woman_mage_tone1","woman_mage_light_skin_tone"],"1F9D9-1F3FC-200D-2640-FE0F":["woman_mage_tone2","woman_mage_medium_light_skin_tone"],"1F9D9-1F3FD-200D-2640-FE0F":["woman_mage_tone3","woman_mage_medium_skin_tone"],"1F9D9-1F3FE-200D-2640-FE0F":["woman_mage_tone4","woman_mage_medium_dark_skin_tone"],"1F9D9-1F3FF-200D-2640-FE0F":["woman_mage_tone5","woman_mage_dark_skin_tone"],"1F9D9-200D-2642-FE0F":"man_mage","1F9D9-1F3FB-200D-2642-FE0F":["man_mage_tone1","man_mage_light_skin_tone"],"1F9D9-1F3FC-200D-2642-FE0F":["man_mage_tone2","man_mage_medium_light_skin_tone"],"1F9D9-1F3FD-200D-2642-FE0F":["man_mage_tone3","man_mage_medium_skin_tone"],"1F9D9-1F3FE-200D-2642-FE0F":["man_mage_tone4","man_mage_medium_dark_skin_tone"],"1F9D9-1F3FF-200D-2642-FE0F":["man_mage_tone5","man_mage_dark_skin_tone"],"1F9DD":"elf","1F9DD-1F3FB":["elf_tone1","elf_light_skin_tone"],"1F9DD-1F3FC":["elf_tone2","elf_medium_light_skin_tone"],"1F9DD-1F3FD":["elf_tone3","elf_medium_skin_tone"],"1F9DD-1F3FE":["elf_tone4","elf_medium_dark_skin_tone"],"1F9DD-1F3FF":["elf_tone5","elf_dark_skin_tone"],"1F9DD-200D-2640-FE0F":"woman_elf","1F9DD-1F3FB-200D-2640-FE0F":["woman_elf_tone1","woman_elf_light_skin_tone"],"1F9DD-1F3FC-200D-2640-FE0F":["woman_elf_tone2","woman_elf_medium_light_skin_tone"],"1F9DD-1F3FD-200D-2640-FE0F":["woman_elf_tone3","woman_elf_medium_skin_tone"],"1F9DD-1F3FE-200D-2640-FE0F":["woman_elf_tone4","woman_elf_medium_dark_skin_tone"],"1F9DD-1F3FF-200D-2640-FE0F":["woman_elf_tone5","woman_elf_dark_skin_tone"],"1F9DD-200D-2642-FE0F":"man_elf","1F9DD-1F3FB-200D-2642-FE0F":["man_elf_tone1","man_elf_light_skin_tone"],"1F9DD-1F3FC-200D-2642-FE0F":["man_elf_tone2","man_elf_medium_light_skin_tone"],"1F9DD-1F3FD-200D-2642-FE0F":["man_elf_tone3","man_elf_medium_skin_tone"],"1F9DD-1F3FE-200D-2642-FE0F":["man_elf_tone4","man_elf_medium_dark_skin_tone"],"1F9DD-1F3FF-200D-2642-FE0F":["man_elf_tone5","man_elf_dark_skin_tone"],"1F9DB":"vampire","1F9DB-1F3FB":["vampire_tone1","vampire_light_skin_tone"],"1F9DB-1F3FC":["vampire_tone2","vampire_medium_light_skin_tone"],"1F9DB-1F3FD":["vampire_tone3","vampire_medium_skin_tone"],"1F9DB-1F3FE":["vampire_tone4","vampire_medium_dark_skin_tone"],"1F9DB-1F3FF":["vampire_tone5","vampire_dark_skin_tone"],"1F9DB-200D-2640-FE0F":"woman_vampire","1F9DB-1F3FB-200D-2640-FE0F":["woman_vampire_tone1","woman_vampire_light_skin_tone"],"1F9DB-1F3FC-200D-2640-FE0F":["woman_vampire_tone2","woman_vampire_medium_light_skin_tone"],"1F9DB-1F3FD-200D-2640-FE0F":["woman_vampire_tone3","woman_vampire_medium_skin_tone"],"1F9DB-1F3FE-200D-2640-FE0F":["woman_vampire_tone4","woman_vampire_medium_dark_skin_tone"],"1F9DB-1F3FF-200D-2640-FE0F":["woman_vampire_tone5","woman_vampire_dark_skin_tone"],"1F9DB-200D-2642-FE0F":"man_vampire","1F9DB-1F3FB-200D-2642-FE0F":["man_vampire_tone1","man_vampire_light_skin_tone"],"1F9DB-1F3FC-200D-2642-FE0F":["man_vampire_tone2","man_vampire_medium_light_skin_tone"],"1F9DB-1F3FD-200D-2642-FE0F":["man_vampire_tone3","man_vampire_medium_skin_tone"],"1F9DB-1F3FE-200D-2642-FE0F":["man_vampire_tone4","man_vampire_medium_dark_skin_tone"],"1F9DB-1F3FF-200D-2642-FE0F":["man_vampire_tone5","man_vampire_dark_skin_tone"],"1F9DF":"zombie","1F9DF-200D-2640-FE0F":"woman_zombie","1F9DF-200D-2642-FE0F":"man_zombie","1F9DE":"genie","1F9DE-200D-2640-FE0F":"woman_genie","1F9DE-200D-2642-FE0F":"man_genie","1F9DC":"merperson","1F9DC-1F3FB":["merperson_tone1","merperson_light_skin_tone"],"1F9DC-1F3FC":["merperson_tone2","merperson_medium_light_skin_tone"],"1F9DC-1F3FD":["merperson_tone3","merperson_medium_skin_tone"],"1F9DC-1F3FE":["merperson_tone4","merperson_medium_dark_skin_tone"],"1F9DC-1F3FF":["merperson_tone5","merperson_dark_skin_tone"],"1F9DC-200D-2640-FE0F":"mermaid","1F9DC-1F3FB-200D-2640-FE0F":["mermaid_tone1","mermaid_light_skin_tone"],"1F9DC-1F3FC-200D-2640-FE0F":["mermaid_tone2","mermaid_medium_light_skin_tone"],"1F9DC-1F3FD-200D-2640-FE0F":["mermaid_tone3","mermaid_medium_skin_tone"],"1F9DC-1F3FE-200D-2640-FE0F":["mermaid_tone4","mermaid_medium_dark_skin_tone"],"1F9DC-1F3FF-200D-2640-FE0F":["mermaid_tone5","mermaid_dark_skin_tone"],"1F9DC-200D-2642-FE0F":"merman","1F9DC-1F3FB-200D-2642-FE0F":["merman_tone1","merman_light_skin_tone"],"1F9DC-1F3FC-200D-2642-FE0F":["merman_tone2","merman_medium_light_skin_tone"],"1F9DC-1F3FD-200D-2642-FE0F":["merman_tone3","merman_medium_skin_tone"],"1F9DC-1F3FE-200D-2642-FE0F":["merman_tone4","merman_medium_dark_skin_tone"],"1F9DC-1F3FF-200D-2642-FE0F":["merman_tone5","merman_dark_skin_tone"],"1F9DA":"fairy","1F9DA-1F3FB":["fairy_tone1","fairy_light_skin_tone"],"1F9DA-1F3FC":["fairy_tone2","fairy_medium_light_skin_tone"],"1F9DA-1F3FD":["fairy_tone3","fairy_medium_skin_tone"],"1F9DA-1F3FE":["fairy_tone4","fairy_medium_dark_skin_tone"],"1F9DA-1F3FF":["fairy_tone5","fairy_dark_skin_tone"],"1F9DA-200D-2640-FE0F":"woman_fairy","1F9DA-1F3FB-200D-2640-FE0F":["woman_fairy_tone1","woman_fairy_light_skin_tone"],"1F9DA-1F3FC-200D-2640-FE0F":["woman_fairy_tone2","woman_fairy_medium_light_skin_tone"],"1F9DA-1F3FD-200D-2640-FE0F":["woman_fairy_tone3","woman_fairy_medium_skin_tone"],"1F9DA-1F3FE-200D-2640-FE0F":["woman_fairy_tone4","woman_fairy_medium_dark_skin_tone"],"1F9DA-1F3FF-200D-2640-FE0F":["woman_fairy_tone5","woman_fairy_dark_skin_tone"],"1F9DA-200D-2642-FE0F":"man_fairy","1F9DA-1F3FB-200D-2642-FE0F":["man_fairy_tone1","man_fairy_light_skin_tone"],"1F9DA-1F3FC-200D-2642-FE0F":["man_fairy_tone2","man_fairy_medium_light_skin_tone"],"1F9DA-1F3FD-200D-2642-FE0F":["man_fairy_tone3","man_fairy_medium_skin_tone"],"1F9DA-1F3FE-200D-2642-FE0F":["man_fairy_tone4","man_fairy_medium_dark_skin_tone"],"1F9DA-1F3FF-200D-2642-FE0F":["man_fairy_tone5","man_fairy_dark_skin_tone"],"1F47C":"angel","1F47C-1F3FB":"angel_tone1","1F47C-1F3FC":"angel_tone2","1F47C-1F3FD":"angel_tone3","1F47C-1F3FE":"angel_tone4","1F47C-1F3FF":"angel_tone5","1F930":["pregnant_woman","expecting_woman"],"1F930-1F3FB":["pregnant_woman_tone1","expecting_woman_tone1"],"1F930-1F3FC":["pregnant_woman_tone2","expecting_woman_tone2"],"1F930-1F3FD":["pregnant_woman_tone3","expecting_woman_tone3"],"1F930-1F3FE":["pregnant_woman_tone4","expecting_woman_tone4"],"1F930-1F3FF":["pregnant_woman_tone5","expecting_woman_tone5"],"1F931":"breast_feeding","1F931-1F3FB":["breast_feeding_tone1","breast_feeding_light_skin_tone"],"1F931-1F3FC":["breast_feeding_tone2","breast_feeding_medium_light_skin_tone"],"1F931-1F3FD":["breast_feeding_tone3","breast_feeding_medium_skin_tone"],"1F931-1F3FE":["breast_feeding_tone4","breast_feeding_medium_dark_skin_tone"],"1F931-1F3FF":["breast_feeding_tone5","breast_feeding_dark_skin_tone"],"1F9D1-200D-1F37C":"person_feeding_baby","1F9D1-1F3FB-200D-1F37C":["person_feeding_baby_tone1","person_feeding_baby_light_skin_tone"],"1F9D1-1F3FC-200D-1F37C":["person_feeding_baby_tone2","person_feeding_baby_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F37C":["person_feeding_baby_tone3","person_feeding_baby_medium_skin_tone"],"1F9D1-1F3FE-200D-1F37C":["person_feeding_baby_tone4","person_feeding_baby_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F37C":["person_feeding_baby_tone5","person_feeding_baby_dark_skin_tone"],"1F469-200D-1F37C":"woman_feeding_baby","1F469-1F3FB-200D-1F37C":["woman_feeding_baby_tone1","woman_feeding_baby_light_skin_tone"],"1F469-1F3FC-200D-1F37C":["woman_feeding_baby_tone2","woman_feeding_baby_medium_light_skin_tone"],"1F469-1F3FD-200D-1F37C":["woman_feeding_baby_tone3","woman_feeding_baby_medium_skin_tone"],"1F469-1F3FE-200D-1F37C":["woman_feeding_baby_tone4","woman_feeding_baby_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F37C":["woman_feeding_baby_tone5","woman_feeding_baby_dark_skin_tone"],"1F468-200D-1F37C":"man_feeding_baby","1F468-1F3FB-200D-1F37C":["man_feeding_baby_tone1","man_feeding_baby_light_skin_tone"],"1F468-1F3FC-200D-1F37C":["man_feeding_baby_tone2","man_feeding_baby_medium_light_skin_tone"],"1F468-1F3FD-200D-1F37C":["man_feeding_baby_tone3","man_feeding_baby_medium_skin_tone"],"1F468-1F3FE-200D-1F37C":["man_feeding_baby_tone4","man_feeding_baby_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F37C":["man_feeding_baby_tone5","man_feeding_baby_dark_skin_tone"],"1F647":["person_bowing","bow"],"1F647-1F3FB":["person_bowing_tone1","bow_tone1"],"1F647-1F3FC":["person_bowing_tone2","bow_tone2"],"1F647-1F3FD":["person_bowing_tone3","bow_tone3"],"1F647-1F3FE":["person_bowing_tone4","bow_tone4"],"1F647-1F3FF":["person_bowing_tone5","bow_tone5"],"1F647-200D-2640-FE0F":"woman_bowing","1F647-1F3FB-200D-2640-FE0F":["woman_bowing_tone1","woman_bowing_light_skin_tone"],"1F647-1F3FC-200D-2640-FE0F":["woman_bowing_tone2","woman_bowing_medium_light_skin_tone"],"1F647-1F3FD-200D-2640-FE0F":["woman_bowing_tone3","woman_bowing_medium_skin_tone"],"1F647-1F3FE-200D-2640-FE0F":["woman_bowing_tone4","woman_bowing_medium_dark_skin_tone"],"1F647-1F3FF-200D-2640-FE0F":["woman_bowing_tone5","woman_bowing_dark_skin_tone"],"1F647-200D-2642-FE0F":"man_bowing","1F647-1F3FB-200D-2642-FE0F":["man_bowing_tone1","man_bowing_light_skin_tone"],"1F647-1F3FC-200D-2642-FE0F":["man_bowing_tone2","man_bowing_medium_light_skin_tone"],"1F647-1F3FD-200D-2642-FE0F":["man_bowing_tone3","man_bowing_medium_skin_tone"],"1F647-1F3FE-200D-2642-FE0F":["man_bowing_tone4","man_bowing_medium_dark_skin_tone"],"1F647-1F3FF-200D-2642-FE0F":["man_bowing_tone5","man_bowing_dark_skin_tone"],"1F481":["person_tipping_hand","information_desk_person"],"1F481-1F3FB":["person_tipping_hand_tone1","information_desk_person_tone1"],"1F481-1F3FC":["person_tipping_hand_tone2","information_desk_person_tone2"],"1F481-1F3FD":["person_tipping_hand_tone3","information_desk_person_tone3"],"1F481-1F3FE":["person_tipping_hand_tone4","information_desk_person_tone4"],"1F481-1F3FF":["person_tipping_hand_tone5","information_desk_person_tone5"],"1F481-200D-2640-FE0F":"woman_tipping_hand","1F481-1F3FB-200D-2640-FE0F":["woman_tipping_hand_tone1","woman_tipping_hand_light_skin_tone"],"1F481-1F3FC-200D-2640-FE0F":["woman_tipping_hand_tone2","woman_tipping_hand_medium_light_skin_tone"],"1F481-1F3FD-200D-2640-FE0F":["woman_tipping_hand_tone3","woman_tipping_hand_medium_skin_tone"],"1F481-1F3FE-200D-2640-FE0F":["woman_tipping_hand_tone4","woman_tipping_hand_medium_dark_skin_tone"],"1F481-1F3FF-200D-2640-FE0F":["woman_tipping_hand_tone5","woman_tipping_hand_dark_skin_tone"],"1F481-200D-2642-FE0F":"man_tipping_hand","1F481-1F3FB-200D-2642-FE0F":["man_tipping_hand_tone1","man_tipping_hand_light_skin_tone"],"1F481-1F3FC-200D-2642-FE0F":["man_tipping_hand_tone2","man_tipping_hand_medium_light_skin_tone"],"1F481-1F3FD-200D-2642-FE0F":["man_tipping_hand_tone3","man_tipping_hand_medium_skin_tone"],"1F481-1F3FE-200D-2642-FE0F":["man_tipping_hand_tone4","man_tipping_hand_medium_dark_skin_tone"],"1F481-1F3FF-200D-2642-FE0F":["man_tipping_hand_tone5","man_tipping_hand_dark_skin_tone"],"1F645":["person_gesturing_no","no_good"],"1F645-1F3FB":["person_gesturing_no_tone1","no_good_tone1"],"1F645-1F3FC":["person_gesturing_no_tone2","no_good_tone2"],"1F645-1F3FD":["person_gesturing_no_tone3","no_good_tone3"],"1F645-1F3FE":["person_gesturing_no_tone4","no_good_tone4"],"1F645-1F3FF":["person_gesturing_no_tone5","no_good_tone5"],"1F645-200D-2640-FE0F":"woman_gesturing_no","1F645-1F3FB-200D-2640-FE0F":["woman_gesturing_no_tone1","woman_gesturing_no_light_skin_tone"],"1F645-1F3FC-200D-2640-FE0F":["woman_gesturing_no_tone2","woman_gesturing_no_medium_light_skin_tone"],"1F645-1F3FD-200D-2640-FE0F":["woman_gesturing_no_tone3","woman_gesturing_no_medium_skin_tone"],"1F645-1F3FE-200D-2640-FE0F":["woman_gesturing_no_tone4","woman_gesturing_no_medium_dark_skin_tone"],"1F645-1F3FF-200D-2640-FE0F":["woman_gesturing_no_tone5","woman_gesturing_no_dark_skin_tone"],"1F645-200D-2642-FE0F":"man_gesturing_no","1F645-1F3FB-200D-2642-FE0F":["man_gesturing_no_tone1","man_gesturing_no_light_skin_tone"],"1F645-1F3FC-200D-2642-FE0F":["man_gesturing_no_tone2","man_gesturing_no_medium_light_skin_tone"],"1F645-1F3FD-200D-2642-FE0F":["man_gesturing_no_tone3","man_gesturing_no_medium_skin_tone"],"1F645-1F3FE-200D-2642-FE0F":["man_gesturing_no_tone4","man_gesturing_no_medium_dark_skin_tone"],"1F645-1F3FF-200D-2642-FE0F":["man_gesturing_no_tone5","man_gesturing_no_dark_skin_tone"],"1F646":["person_gesturing_ok","ok_woman"],"1F646-1F3FB":["person_gesturing_ok_tone1","ok_woman_tone1"],"1F646-1F3FC":["person_gesturing_ok_tone2","ok_woman_tone2"],"1F646-1F3FD":["person_gesturing_ok_tone3","ok_woman_tone3"],"1F646-1F3FE":["person_gesturing_ok_tone4","ok_woman_tone4"],"1F646-1F3FF":["person_gesturing_ok_tone5","ok_woman_tone5"],"1F646-200D-2640-FE0F":"woman_gesturing_ok","1F646-1F3FB-200D-2640-FE0F":["woman_gesturing_ok_tone1","woman_gesturing_ok_light_skin_tone"],"1F646-1F3FC-200D-2640-FE0F":["woman_gesturing_ok_tone2","woman_gesturing_ok_medium_light_skin_tone"],"1F646-1F3FD-200D-2640-FE0F":["woman_gesturing_ok_tone3","woman_gesturing_ok_medium_skin_tone"],"1F646-1F3FE-200D-2640-FE0F":["woman_gesturing_ok_tone4","woman_gesturing_ok_medium_dark_skin_tone"],"1F646-1F3FF-200D-2640-FE0F":["woman_gesturing_ok_tone5","woman_gesturing_ok_dark_skin_tone"],"1F646-200D-2642-FE0F":"man_gesturing_ok","1F646-1F3FB-200D-2642-FE0F":["man_gesturing_ok_tone1","man_gesturing_ok_light_skin_tone"],"1F646-1F3FC-200D-2642-FE0F":["man_gesturing_ok_tone2","man_gesturing_ok_medium_light_skin_tone"],"1F646-1F3FD-200D-2642-FE0F":["man_gesturing_ok_tone3","man_gesturing_ok_medium_skin_tone"],"1F646-1F3FE-200D-2642-FE0F":["man_gesturing_ok_tone4","man_gesturing_ok_medium_dark_skin_tone"],"1F646-1F3FF-200D-2642-FE0F":["man_gesturing_ok_tone5","man_gesturing_ok_dark_skin_tone"],"1F64B":["person_raising_hand","raising_hand"],"1F64B-1F3FB":["person_raising_hand_tone1","raising_hand_tone1"],"1F64B-1F3FC":["person_raising_hand_tone2","raising_hand_tone2"],"1F64B-1F3FD":["person_raising_hand_tone3","raising_hand_tone3"],"1F64B-1F3FE":["person_raising_hand_tone4","raising_hand_tone4"],"1F64B-1F3FF":["person_raising_hand_tone5","raising_hand_tone5"],"1F64B-200D-2640-FE0F":"woman_raising_hand","1F64B-1F3FB-200D-2640-FE0F":["woman_raising_hand_tone1","woman_raising_hand_light_skin_tone"],"1F64B-1F3FC-200D-2640-FE0F":["woman_raising_hand_tone2","woman_raising_hand_medium_light_skin_tone"],"1F64B-1F3FD-200D-2640-FE0F":["woman_raising_hand_tone3","woman_raising_hand_medium_skin_tone"],"1F64B-1F3FE-200D-2640-FE0F":["woman_raising_hand_tone4","woman_raising_hand_medium_dark_skin_tone"],"1F64B-1F3FF-200D-2640-FE0F":["woman_raising_hand_tone5","woman_raising_hand_dark_skin_tone"],"1F64B-200D-2642-FE0F":"man_raising_hand","1F64B-1F3FB-200D-2642-FE0F":["man_raising_hand_tone1","man_raising_hand_light_skin_tone"],"1F64B-1F3FC-200D-2642-FE0F":["man_raising_hand_tone2","man_raising_hand_medium_light_skin_tone"],"1F64B-1F3FD-200D-2642-FE0F":["man_raising_hand_tone3","man_raising_hand_medium_skin_tone"],"1F64B-1F3FE-200D-2642-FE0F":["man_raising_hand_tone4","man_raising_hand_medium_dark_skin_tone"],"1F64B-1F3FF-200D-2642-FE0F":["man_raising_hand_tone5","man_raising_hand_dark_skin_tone"],"1F9CF":"deaf_person","1F9CF-1F3FB":["deaf_person_tone1","deaf_person_light_skin_tone"],"1F9CF-1F3FC":["deaf_person_tone2","deaf_person_medium_light_skin_tone"],"1F9CF-1F3FD":["deaf_person_tone3","deaf_person_medium_skin_tone"],"1F9CF-1F3FE":["deaf_person_tone4","deaf_person_medium_dark_skin_tone"],"1F9CF-1F3FF":["deaf_person_tone5","deaf_person_dark_skin_tone"],"1F9CF-200D-2640-FE0F":"deaf_woman","1F9CF-1F3FB-200D-2640-FE0F":["deaf_woman_tone1","deaf_woman_light_skin_tone"],"1F9CF-1F3FC-200D-2640-FE0F":["deaf_woman_tone2","deaf_woman_medium_light_skin_tone"],"1F9CF-1F3FD-200D-2640-FE0F":["deaf_woman_tone3","deaf_woman_medium_skin_tone"],"1F9CF-1F3FE-200D-2640-FE0F":["deaf_woman_tone4","deaf_woman_medium_dark_skin_tone"],"1F9CF-1F3FF-200D-2640-FE0F":["deaf_woman_tone5","deaf_woman_dark_skin_tone"],"1F9CF-200D-2642-FE0F":"deaf_man","1F9CF-1F3FB-200D-2642-FE0F":["deaf_man_tone1","deaf_man_light_skin_tone"],"1F9CF-1F3FC-200D-2642-FE0F":["deaf_man_tone2","deaf_man_medium_light_skin_tone"],"1F9CF-1F3FD-200D-2642-FE0F":["deaf_man_tone3","deaf_man_medium_skin_tone"],"1F9CF-1F3FE-200D-2642-FE0F":["deaf_man_tone4","deaf_man_medium_dark_skin_tone"],"1F9CF-1F3FF-200D-2642-FE0F":["deaf_man_tone5","deaf_man_dark_skin_tone"],"1F926":["person_facepalming","face_palm","facepalm"],"1F926-1F3FB":["person_facepalming_tone1","face_palm_tone1","facepalm_tone1"],"1F926-1F3FC":["person_facepalming_tone2","face_palm_tone2","facepalm_tone2"],"1F926-1F3FD":["person_facepalming_tone3","face_palm_tone3","facepalm_tone3"],"1F926-1F3FE":["person_facepalming_tone4","face_palm_tone4","facepalm_tone4"],"1F926-1F3FF":["person_facepalming_tone5","face_palm_tone5","facepalm_tone5"],"1F926-200D-2640-FE0F":"woman_facepalming","1F926-1F3FB-200D-2640-FE0F":["woman_facepalming_tone1","woman_facepalming_light_skin_tone"],"1F926-1F3FC-200D-2640-FE0F":["woman_facepalming_tone2","woman_facepalming_medium_light_skin_tone"],"1F926-1F3FD-200D-2640-FE0F":["woman_facepalming_tone3","woman_facepalming_medium_skin_tone"],"1F926-1F3FE-200D-2640-FE0F":["woman_facepalming_tone4","woman_facepalming_medium_dark_skin_tone"],"1F926-1F3FF-200D-2640-FE0F":["woman_facepalming_tone5","woman_facepalming_dark_skin_tone"],"1F926-200D-2642-FE0F":"man_facepalming","1F926-1F3FB-200D-2642-FE0F":["man_facepalming_tone1","man_facepalming_light_skin_tone"],"1F926-1F3FC-200D-2642-FE0F":["man_facepalming_tone2","man_facepalming_medium_light_skin_tone"],"1F926-1F3FD-200D-2642-FE0F":["man_facepalming_tone3","man_facepalming_medium_skin_tone"],"1F926-1F3FE-200D-2642-FE0F":["man_facepalming_tone4","man_facepalming_medium_dark_skin_tone"],"1F926-1F3FF-200D-2642-FE0F":["man_facepalming_tone5","man_facepalming_dark_skin_tone"],"1F937":["person_shrugging","shrug"],"1F937-1F3FB":["person_shrugging_tone1","shrug_tone1"],"1F937-1F3FC":["person_shrugging_tone2","shrug_tone2"],"1F937-1F3FD":["person_shrugging_tone3","shrug_tone3"],"1F937-1F3FE":["person_shrugging_tone4","shrug_tone4"],"1F937-1F3FF":["person_shrugging_tone5","shrug_tone5"],"1F937-200D-2640-FE0F":"woman_shrugging","1F937-1F3FB-200D-2640-FE0F":["woman_shrugging_tone1","woman_shrugging_light_skin_tone"],"1F937-1F3FC-200D-2640-FE0F":["woman_shrugging_tone2","woman_shrugging_medium_light_skin_tone"],"1F937-1F3FD-200D-2640-FE0F":["woman_shrugging_tone3","woman_shrugging_medium_skin_tone"],"1F937-1F3FE-200D-2640-FE0F":["woman_shrugging_tone4","woman_shrugging_medium_dark_skin_tone"],"1F937-1F3FF-200D-2640-FE0F":["woman_shrugging_tone5","woman_shrugging_dark_skin_tone"],"1F937-200D-2642-FE0F":"man_shrugging","1F937-1F3FB-200D-2642-FE0F":["man_shrugging_tone1","man_shrugging_light_skin_tone"],"1F937-1F3FC-200D-2642-FE0F":["man_shrugging_tone2","man_shrugging_medium_light_skin_tone"],"1F937-1F3FD-200D-2642-FE0F":["man_shrugging_tone3","man_shrugging_medium_skin_tone"],"1F937-1F3FE-200D-2642-FE0F":["man_shrugging_tone4","man_shrugging_medium_dark_skin_tone"],"1F937-1F3FF-200D-2642-FE0F":["man_shrugging_tone5","man_shrugging_dark_skin_tone"],"1F64E":["person_pouting","person_with_pouting_face"],"1F64E-1F3FB":["person_pouting_tone1","person_with_pouting_face_tone1"],"1F64E-1F3FC":["person_pouting_tone2","person_with_pouting_face_tone2"],"1F64E-1F3FD":["person_pouting_tone3","person_with_pouting_face_tone3"],"1F64E-1F3FE":["person_pouting_tone4","person_with_pouting_face_tone4"],"1F64E-1F3FF":["person_pouting_tone5","person_with_pouting_face_tone5"],"1F64E-200D-2640-FE0F":"woman_pouting","1F64E-1F3FB-200D-2640-FE0F":["woman_pouting_tone1","woman_pouting_light_skin_tone"],"1F64E-1F3FC-200D-2640-FE0F":["woman_pouting_tone2","woman_pouting_medium_light_skin_tone"],"1F64E-1F3FD-200D-2640-FE0F":["woman_pouting_tone3","woman_pouting_medium_skin_tone"],"1F64E-1F3FE-200D-2640-FE0F":["woman_pouting_tone4","woman_pouting_medium_dark_skin_tone"],"1F64E-1F3FF-200D-2640-FE0F":["woman_pouting_tone5","woman_pouting_dark_skin_tone"],"1F64E-200D-2642-FE0F":"man_pouting","1F64E-1F3FB-200D-2642-FE0F":["man_pouting_tone1","man_pouting_light_skin_tone"],"1F64E-1F3FC-200D-2642-FE0F":["man_pouting_tone2","man_pouting_medium_light_skin_tone"],"1F64E-1F3FD-200D-2642-FE0F":["man_pouting_tone3","man_pouting_medium_skin_tone"],"1F64E-1F3FE-200D-2642-FE0F":["man_pouting_tone4","man_pouting_medium_dark_skin_tone"],"1F64E-1F3FF-200D-2642-FE0F":["man_pouting_tone5","man_pouting_dark_skin_tone"],"1F64D":"person_frowning","1F64D-1F3FB":"person_frowning_tone1","1F64D-1F3FC":"person_frowning_tone2","1F64D-1F3FD":"person_frowning_tone3","1F64D-1F3FE":"person_frowning_tone4","1F64D-1F3FF":"person_frowning_tone5","1F64D-200D-2640-FE0F":"woman_frowning","1F64D-1F3FB-200D-2640-FE0F":["woman_frowning_tone1","woman_frowning_light_skin_tone"],"1F64D-1F3FC-200D-2640-FE0F":["woman_frowning_tone2","woman_frowning_medium_light_skin_tone"],"1F64D-1F3FD-200D-2640-FE0F":["woman_frowning_tone3","woman_frowning_medium_skin_tone"],"1F64D-1F3FE-200D-2640-FE0F":["woman_frowning_tone4","woman_frowning_medium_dark_skin_tone"],"1F64D-1F3FF-200D-2640-FE0F":["woman_frowning_tone5","woman_frowning_dark_skin_tone"],"1F64D-200D-2642-FE0F":"man_frowning","1F64D-1F3FB-200D-2642-FE0F":["man_frowning_tone1","man_frowning_light_skin_tone"],"1F64D-1F3FC-200D-2642-FE0F":["man_frowning_tone2","man_frowning_medium_light_skin_tone"],"1F64D-1F3FD-200D-2642-FE0F":["man_frowning_tone3","man_frowning_medium_skin_tone"],"1F64D-1F3FE-200D-2642-FE0F":["man_frowning_tone4","man_frowning_medium_dark_skin_tone"],"1F64D-1F3FF-200D-2642-FE0F":["man_frowning_tone5","man_frowning_dark_skin_tone"],"1F487":["person_getting_haircut","haircut"],"1F487-1F3FB":["person_getting_haircut_tone1","haircut_tone1"],"1F487-1F3FC":["person_getting_haircut_tone2","haircut_tone2"],"1F487-1F3FD":["person_getting_haircut_tone3","haircut_tone3"],"1F487-1F3FE":["person_getting_haircut_tone4","haircut_tone4"],"1F487-1F3FF":["person_getting_haircut_tone5","haircut_tone5"],"1F487-200D-2640-FE0F":"woman_getting_haircut","1F487-1F3FB-200D-2640-FE0F":["woman_getting_haircut_tone1","woman_getting_haircut_light_skin_tone"],"1F487-1F3FC-200D-2640-FE0F":["woman_getting_haircut_tone2","woman_getting_haircut_medium_light_skin_tone"],"1F487-1F3FD-200D-2640-FE0F":["woman_getting_haircut_tone3","woman_getting_haircut_medium_skin_tone"],"1F487-1F3FE-200D-2640-FE0F":["woman_getting_haircut_tone4","woman_getting_haircut_medium_dark_skin_tone"],"1F487-1F3FF-200D-2640-FE0F":["woman_getting_haircut_tone5","woman_getting_haircut_dark_skin_tone"],"1F487-200D-2642-FE0F":"man_getting_haircut","1F487-1F3FB-200D-2642-FE0F":["man_getting_haircut_tone1","man_getting_haircut_light_skin_tone"],"1F487-1F3FC-200D-2642-FE0F":["man_getting_haircut_tone2","man_getting_haircut_medium_light_skin_tone"],"1F487-1F3FD-200D-2642-FE0F":["man_getting_haircut_tone3","man_getting_haircut_medium_skin_tone"],"1F487-1F3FE-200D-2642-FE0F":["man_getting_haircut_tone4","man_getting_haircut_medium_dark_skin_tone"],"1F487-1F3FF-200D-2642-FE0F":["man_getting_haircut_tone5","man_getting_haircut_dark_skin_tone"],"1F486":["person_getting_massage","massage"],"1F486-1F3FB":["person_getting_massage_tone1","massage_tone1"],"1F486-1F3FC":["person_getting_massage_tone2","massage_tone2"],"1F486-1F3FD":["person_getting_massage_tone3","massage_tone3"],"1F486-1F3FE":["person_getting_massage_tone4","massage_tone4"],"1F486-1F3FF":["person_getting_massage_tone5","massage_tone5"],"1F486-200D-2640-FE0F":"woman_getting_face_massage","1F486-1F3FB-200D-2640-FE0F":["woman_getting_face_massage_tone1","woman_getting_face_massage_light_skin_tone"],"1F486-1F3FC-200D-2640-FE0F":["woman_getting_face_massage_tone2","woman_getting_face_massage_medium_light_skin_tone"],"1F486-1F3FD-200D-2640-FE0F":["woman_getting_face_massage_tone3","woman_getting_face_massage_medium_skin_tone"],"1F486-1F3FE-200D-2640-FE0F":["woman_getting_face_massage_tone4","woman_getting_face_massage_medium_dark_skin_tone"],"1F486-1F3FF-200D-2640-FE0F":["woman_getting_face_massage_tone5","woman_getting_face_massage_dark_skin_tone"],"1F486-200D-2642-FE0F":"man_getting_face_massage","1F486-1F3FB-200D-2642-FE0F":["man_getting_face_massage_tone1","man_getting_face_massage_light_skin_tone"],"1F486-1F3FC-200D-2642-FE0F":["man_getting_face_massage_tone2","man_getting_face_massage_medium_light_skin_tone"],"1F486-1F3FD-200D-2642-FE0F":["man_getting_face_massage_tone3","man_getting_face_massage_medium_skin_tone"],"1F486-1F3FE-200D-2642-FE0F":["man_getting_face_massage_tone4","man_getting_face_massage_medium_dark_skin_tone"],"1F486-1F3FF-200D-2642-FE0F":["man_getting_face_massage_tone5","man_getting_face_massage_dark_skin_tone"],"1F9D6":"person_in_steamy_room","1F9D6-1F3FB":["person_in_steamy_room_tone1","person_in_steamy_room_light_skin_tone"],"1F9D6-1F3FC":["person_in_steamy_room_tone2","person_in_steamy_room_medium_light_skin_tone"],"1F9D6-1F3FD":["person_in_steamy_room_tone3","person_in_steamy_room_medium_skin_tone"],"1F9D6-1F3FE":["person_in_steamy_room_tone4","person_in_steamy_room_medium_dark_skin_tone"],"1F9D6-1F3FF":["person_in_steamy_room_tone5","person_in_steamy_room_dark_skin_tone"],"1F9D6-200D-2640-FE0F":"woman_in_steamy_room","1F9D6-1F3FB-200D-2640-FE0F":["woman_in_steamy_room_tone1","woman_in_steamy_room_light_skin_tone"],"1F9D6-1F3FC-200D-2640-FE0F":["woman_in_steamy_room_tone2","woman_in_steamy_room_medium_light_skin_tone"],"1F9D6-1F3FD-200D-2640-FE0F":["woman_in_steamy_room_tone3","woman_in_steamy_room_medium_skin_tone"],"1F9D6-1F3FE-200D-2640-FE0F":["woman_in_steamy_room_tone4","woman_in_steamy_room_medium_dark_skin_tone"],"1F9D6-1F3FF-200D-2640-FE0F":["woman_in_steamy_room_tone5","woman_in_steamy_room_dark_skin_tone"],"1F9D6-200D-2642-FE0F":"man_in_steamy_room","1F9D6-1F3FB-200D-2642-FE0F":["man_in_steamy_room_tone1","man_in_steamy_room_light_skin_tone"],"1F9D6-1F3FC-200D-2642-FE0F":["man_in_steamy_room_tone2","man_in_steamy_room_medium_light_skin_tone"],"1F9D6-1F3FD-200D-2642-FE0F":["man_in_steamy_room_tone3","man_in_steamy_room_medium_skin_tone"],"1F9D6-1F3FE-200D-2642-FE0F":["man_in_steamy_room_tone4","man_in_steamy_room_medium_dark_skin_tone"],"1F9D6-1F3FF-200D-2642-FE0F":["man_in_steamy_room_tone5","man_in_steamy_room_dark_skin_tone"],"1F485":"nail_care","1F485-1F3FB":"nail_care_tone1","1F485-1F3FC":"nail_care_tone2","1F485-1F3FD":"nail_care_tone3","1F485-1F3FE":"nail_care_tone4","1F485-1F3FF":"nail_care_tone5","1F933":"selfie","1F933-1F3FB":"selfie_tone1","1F933-1F3FC":"selfie_tone2","1F933-1F3FD":"selfie_tone3","1F933-1F3FE":"selfie_tone4","1F933-1F3FF":"selfie_tone5","1F483":"dancer","1F483-1F3FB":"dancer_tone1","1F483-1F3FC":"dancer_tone2","1F483-1F3FD":"dancer_tone3","1F483-1F3FE":"dancer_tone4","1F483-1F3FF":"dancer_tone5","1F57A":["man_dancing","male_dancer"],"1F57A-1F3FB":["man_dancing_tone1","male_dancer_tone1"],"1F57A-1F3FC":["man_dancing_tone2","male_dancer_tone2"],"1F57A-1F3FD":["man_dancing_tone3","male_dancer_tone3"],"1F57A-1F3FF":["man_dancing_tone5","male_dancer_tone5"],"1F57A-1F3FE":["man_dancing_tone4","male_dancer_tone4"],"1F46F":["people_with_bunny_ears_partying","dancers"],"1F46F-200D-2640-FE0F":"women_with_bunny_ears_partying","1F46F-200D-2642-FE0F":"men_with_bunny_ears_partying","1F574":["levitate","man_in_business_suit_levitating"],"1F574-1F3FB":["levitate_tone1","man_in_business_suit_levitating_tone1","man_in_business_suit_levitating_light_skin_tone"],"1F574-1F3FC":["levitate_tone2","man_in_business_suit_levitating_tone2","man_in_business_suit_levitating_medium_light_skin_tone"],"1F574-1F3FD":["levitate_tone3","man_in_business_suit_levitating_tone3","man_in_business_suit_levitating_medium_skin_tone"],"1F574-1F3FE":["levitate_tone4","man_in_business_suit_levitating_tone4","man_in_business_suit_levitating_medium_dark_skin_tone"],"1F574-1F3FF":["levitate_tone5","man_in_business_suit_levitating_tone5","man_in_business_suit_levitating_dark_skin_tone"],"1F9D1-200D-1F9BD":"person_in_manual_wheelchair","1F9D1-1F3FB-200D-1F9BD":["person_in_manual_wheelchair_tone1","person_in_manual_wheelchair_light_skin_tone"],"1F9D1-1F3FC-200D-1F9BD":["person_in_manual_wheelchair_tone2","person_in_manual_wheelchair_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F9BD":["person_in_manual_wheelchair_tone3","person_in_manual_wheelchair_medium_skin_tone"],"1F9D1-1F3FE-200D-1F9BD":["person_in_manual_wheelchair_tone4","person_in_manual_wheelchair_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F9BD":["person_in_manual_wheelchair_tone5","person_in_manual_wheelchair_dark_skin_tone"],"1F469-200D-1F9BD":"woman_in_manual_wheelchair","1F469-1F3FB-200D-1F9BD":["woman_in_manual_wheelchair_tone1","woman_in_manual_wheelchair_light_skin_tone"],"1F469-1F3FC-200D-1F9BD":["woman_in_manual_wheelchair_tone2","woman_in_manual_wheelchair_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9BD":["woman_in_manual_wheelchair_tone3","woman_in_manual_wheelchair_medium_skin_tone"],"1F469-1F3FE-200D-1F9BD":["woman_in_manual_wheelchair_tone4","woman_in_manual_wheelchair_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9BD":["woman_in_manual_wheelchair_tone5","woman_in_manual_wheelchair_dark_skin_tone"],"1F468-200D-1F9BD":"man_in_manual_wheelchair","1F468-1F3FB-200D-1F9BD":["man_in_manual_wheelchair_tone1","man_in_manual_wheelchair_light_skin_tone"],"1F468-1F3FC-200D-1F9BD":["man_in_manual_wheelchair_tone2","man_in_manual_wheelchair_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9BD":["man_in_manual_wheelchair_tone3","man_in_manual_wheelchair_medium_skin_tone"],"1F468-1F3FE-200D-1F9BD":["man_in_manual_wheelchair_tone4","man_in_manual_wheelchair_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9BD":["man_in_manual_wheelchair_tone5","man_in_manual_wheelchair_dark_skin_tone"],"1F9D1-200D-1F9BC":"person_in_motorized_wheelchair","1F9D1-1F3FB-200D-1F9BC":["person_in_motorized_wheelchair_tone1","person_in_motorized_wheelchair_light_skin_tone"],"1F9D1-1F3FC-200D-1F9BC":["person_in_motorized_wheelchair_tone2","person_in_motorized_wheelchair_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F9BC":["person_in_motorized_wheelchair_tone3","person_in_motorized_wheelchair_medium_skin_tone"],"1F9D1-1F3FE-200D-1F9BC":["person_in_motorized_wheelchair_tone4","person_in_motorized_wheelchair_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F9BC":["person_in_motorized_wheelchair_tone5","person_in_motorized_wheelchair_dark_skin_tone"],"1F469-200D-1F9BC":"woman_in_motorized_wheelchair","1F469-1F3FB-200D-1F9BC":["woman_in_motorized_wheelchair_tone1","woman_in_motorized_wheelchair_light_skin_tone"],"1F469-1F3FC-200D-1F9BC":["woman_in_motorized_wheelchair_tone2","woman_in_motorized_wheelchair_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9BC":["woman_in_motorized_wheelchair_tone3","woman_in_motorized_wheelchair_medium_skin_tone"],"1F469-1F3FE-200D-1F9BC":["woman_in_motorized_wheelchair_tone4","woman_in_motorized_wheelchair_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9BC":["woman_in_motorized_wheelchair_tone5","woman_in_motorized_wheelchair_dark_skin_tone"],"1F468-200D-1F9BC":"man_in_motorized_wheelchair","1F468-1F3FB-200D-1F9BC":["man_in_motorized_wheelchair_tone1","man_in_motorized_wheelchair_light_skin_tone"],"1F468-1F3FC-200D-1F9BC":["man_in_motorized_wheelchair_tone2","man_in_motorized_wheelchair_medium_light_skin_tone"],"1F468-1F3FD-200D-1F9BC":["man_in_motorized_wheelchair_tone3","man_in_motorized_wheelchair_medium_skin_tone"],"1F468-1F3FE-200D-1F9BC":["man_in_motorized_wheelchair_tone4","man_in_motorized_wheelchair_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9BC":["man_in_motorized_wheelchair_tone5","man_in_motorized_wheelchair_dark_skin_tone"],"1F6B6":["person_walking","walking"],"1F6B6-1F3FB":["person_walking_tone1","walking_tone1"],"1F6B6-1F3FC":["person_walking_tone2","walking_tone2"],"1F6B6-1F3FD":["person_walking_tone3","walking_tone3"],"1F6B6-1F3FE":["person_walking_tone4","walking_tone4"],"1F6B6-1F3FF":["person_walking_tone5","walking_tone5"],"1F6B6-200D-2640-FE0F":"woman_walking","1F6B6-1F3FB-200D-2640-FE0F":["woman_walking_tone1","woman_walking_light_skin_tone"],"1F6B6-1F3FC-200D-2640-FE0F":["woman_walking_tone2","woman_walking_medium_light_skin_tone"],"1F6B6-1F3FD-200D-2640-FE0F":["woman_walking_tone3","woman_walking_medium_skin_tone"],"1F6B6-1F3FE-200D-2640-FE0F":["woman_walking_tone4","woman_walking_medium_dark_skin_tone"],"1F6B6-1F3FF-200D-2640-FE0F":["woman_walking_tone5","woman_walking_dark_skin_tone"],"1F6B6-200D-2642-FE0F":"man_walking","1F6B6-1F3FB-200D-2642-FE0F":["man_walking_tone1","man_walking_light_skin_tone"],"1F6B6-1F3FC-200D-2642-FE0F":["man_walking_tone2","man_walking_medium_light_skin_tone"],"1F6B6-1F3FD-200D-2642-FE0F":["man_walking_tone3","man_walking_medium_skin_tone"],"1F6B6-1F3FE-200D-2642-FE0F":["man_walking_tone4","man_walking_medium_dark_skin_tone"],"1F6B6-1F3FF-200D-2642-FE0F":["man_walking_tone5","man_walking_dark_skin_tone"],"1F9D1-200D-1F9AF":"person_with_probing_cane","1F9D1-1F3FB-200D-1F9AF":["person_with_probing_cane_tone1","person_with_probing_cane_light_skin_tone"],"1F9D1-1F3FC-200D-1F9AF":["person_with_probing_cane_tone2","person_with_probing_cane_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F9AF":["person_with_probing_cane_tone3","person_with_probing_cane_medium_skin_tone"],"1F9D1-1F3FE-200D-1F9AF":["person_with_probing_cane_tone4","person_with_probing_cane_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F9AF":["person_with_probing_cane_tone5","person_with_probing_cane_dark_skin_tone"],"1F469-200D-1F9AF":"woman_with_probing_cane","1F469-1F3FB-200D-1F9AF":["woman_with_probing_cane_tone1","woman_with_probing_cane_light_skin_tone"],"1F469-1F3FC-200D-1F9AF":["woman_with_probing_cane_tone2","woman_with_probing_cane_medium_light_skin_tone"],"1F469-1F3FD-200D-1F9AF":["woman_with_probing_cane_tone3","woman_with_probing_cane_medium_skin_tone"],"1F469-1F3FE-200D-1F9AF":["woman_with_probing_cane_tone4","woman_with_probing_cane_medium_dark_skin_tone"],"1F469-1F3FF-200D-1F9AF":["woman_with_probing_cane_tone5","woman_with_probing_cane_dark_skin_tone"],"1F468-200D-1F9AF":"man_with_probing_cane","1F468-1F3FB-200D-1F9AF":["man_with_probing_cane_tone1","man_with_probing_cane_light_skin_tone"],"1F468-1F3FD-200D-1F9AF":["man_with_probing_cane_tone3","man_with_probing_cane_medium_skin_tone"],"1F468-1F3FC-200D-1F9AF":["man_with_probing_cane_tone2","man_with_probing_cane_medium_light_skin_tone"],"1F468-1F3FE-200D-1F9AF":["man_with_probing_cane_tone4","man_with_probing_cane_medium_dark_skin_tone"],"1F468-1F3FF-200D-1F9AF":["man_with_probing_cane_tone5","man_with_probing_cane_dark_skin_tone"],"1F9CE":"person_kneeling","1F9CE-1F3FB":["person_kneeling_tone1","person_kneeling_light_skin_tone"],"1F9CE-1F3FC":["person_kneeling_tone2","person_kneeling_medium_light_skin_tone"],"1F9CE-1F3FD":["person_kneeling_tone3","person_kneeling_medium_skin_tone"],"1F9CE-1F3FE":["person_kneeling_tone4","person_kneeling_medium_dark_skin_tone"],"1F9CE-1F3FF":["person_kneeling_tone5","person_kneeling_dark_skin_tone"],"1F9CE-200D-2640-FE0F":"woman_kneeling","1F9CE-1F3FB-200D-2640-FE0F":["woman_kneeling_tone1","woman_kneeling_light_skin_tone"],"1F9CE-1F3FC-200D-2640-FE0F":["woman_kneeling_tone2","woman_kneeling_medium_light_skin_tone"],"1F9CE-1F3FD-200D-2640-FE0F":["woman_kneeling_tone3","woman_kneeling_medium_skin_tone"],"1F9CE-1F3FE-200D-2640-FE0F":["woman_kneeling_tone4","woman_kneeling_medium_dark_skin_tone"],"1F9CE-1F3FF-200D-2640-FE0F":["woman_kneeling_tone5","woman_kneeling_dark_skin_tone"],"1F9CE-200D-2642-FE0F":"man_kneeling","1F9CE-1F3FB-200D-2642-FE0F":["man_kneeling_tone1","man_kneeling_light_skin_tone"],"1F9CE-1F3FC-200D-2642-FE0F":["man_kneeling_tone2","man_kneeling_medium_light_skin_tone"],"1F9CE-1F3FD-200D-2642-FE0F":["man_kneeling_tone3","man_kneeling_medium_skin_tone"],"1F9CE-1F3FE-200D-2642-FE0F":["man_kneeling_tone4","man_kneeling_medium_dark_skin_tone"],"1F9CE-1F3FF-200D-2642-FE0F":["man_kneeling_tone5","man_kneeling_dark_skin_tone"],"1F3C3":["person_running","runner"],"1F3C3-1F3FB":["person_running_tone1","runner_tone1"],"1F3C3-1F3FC":["person_running_tone2","runner_tone2"],"1F3C3-1F3FD":["person_running_tone3","runner_tone3"],"1F3C3-1F3FE":["person_running_tone4","runner_tone4"],"1F3C3-1F3FF":["person_running_tone5","runner_tone5"],"1F3C3-200D-2640-FE0F":"woman_running","1F3C3-1F3FB-200D-2640-FE0F":["woman_running_tone1","woman_running_light_skin_tone"],"1F3C3-1F3FC-200D-2640-FE0F":["woman_running_tone2","woman_running_medium_light_skin_tone"],"1F3C3-1F3FD-200D-2640-FE0F":["woman_running_tone3","woman_running_medium_skin_tone"],"1F3C3-1F3FE-200D-2640-FE0F":["woman_running_tone4","woman_running_medium_dark_skin_tone"],"1F3C3-1F3FF-200D-2640-FE0F":["woman_running_tone5","woman_running_dark_skin_tone"],"1F3C3-200D-2642-FE0F":"man_running","1F3C3-1F3FB-200D-2642-FE0F":["man_running_tone1","man_running_light_skin_tone"],"1F3C3-1F3FC-200D-2642-FE0F":["man_running_tone2","man_running_medium_light_skin_tone"],"1F3C3-1F3FD-200D-2642-FE0F":["man_running_tone3","man_running_medium_skin_tone"],"1F3C3-1F3FE-200D-2642-FE0F":["man_running_tone4","man_running_medium_dark_skin_tone"],"1F3C3-1F3FF-200D-2642-FE0F":["man_running_tone5","man_running_dark_skin_tone"],"1F9CD":"person_standing","1F9CD-1F3FB":["person_standing_tone1","person_standing_light_skin_tone"],"1F9CD-1F3FC":["person_standing_tone2","person_standing_medium_light_skin_tone"],"1F9CD-1F3FD":["person_standing_tone3","person_standing_medium_skin_tone"],"1F9CD-1F3FE":["person_standing_tone4","person_standing_medium_dark_skin_tone"],"1F9CD-1F3FF":["person_standing_tone5","person_standing_dark_skin_tone"],"1F9CD-200D-2640-FE0F":"woman_standing","1F9CD-1F3FB-200D-2640-FE0F":["woman_standing_tone1","woman_standing_light_skin_tone"],"1F9CD-1F3FC-200D-2640-FE0F":["woman_standing_tone2","woman_standing_medium_light_skin_tone"],"1F9CD-1F3FD-200D-2640-FE0F":["woman_standing_tone3","woman_standing_medium_skin_tone"],"1F9CD-1F3FE-200D-2640-FE0F":["woman_standing_tone4","woman_standing_medium_dark_skin_tone"],"1F9CD-1F3FF-200D-2640-FE0F":["woman_standing_tone5","woman_standing_dark_skin_tone"],"1F9CD-200D-2642-FE0F":"man_standing","1F9CD-1F3FB-200D-2642-FE0F":["man_standing_tone1","man_standing_light_skin_tone"],"1F9CD-1F3FC-200D-2642-FE0F":["man_standing_tone2","man_standing_medium_light_skin_tone"],"1F9CD-1F3FD-200D-2642-FE0F":["man_standing_tone3","man_standing_medium_skin_tone"],"1F9CD-1F3FE-200D-2642-FE0F":["man_standing_tone4","man_standing_medium_dark_skin_tone"],"1F9CD-1F3FF-200D-2642-FE0F":["man_standing_tone5","man_standing_dark_skin_tone"],"1F9D1-200D-1F91D-200D-1F9D1":"people_holding_hands","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FB":["people_holding_hands_tone1","people_holding_hands_light_skin_tone"],"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FC":["people_holding_hands_tone1_tone2","people_holding_hands_light_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FD":["people_holding_hands_tone1_tone3","people_holding_hands_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FE":["people_holding_hands_tone1_tone4","people_holding_hands_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FF":["people_holding_hands_tone1_tone5","people_holding_hands_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FB":["people_holding_hands_tone2_tone1","people_holding_hands_medium_light_skin_tone_light_skin_tone"],"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FC":["people_holding_hands_tone2","people_holding_hands_medium_light_skin_tone"],"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FD":["people_holding_hands_tone2_tone3","people_holding_hands_medium_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FE":["people_holding_hands_tone2_tone4","people_holding_hands_medium_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FF":["people_holding_hands_tone2_tone5","people_holding_hands_medium_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FB":["people_holding_hands_tone3_tone1","people_holding_hands_medium_skin_tone_light_skin_tone"],"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FC":["people_holding_hands_tone3_tone2","people_holding_hands_medium_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FD":["people_holding_hands_tone3","people_holding_hands_medium_skin_tone"],"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FE":["people_holding_hands_tone3_tone4","people_holding_hands_medium_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FF":["people_holding_hands_tone3_tone5","people_holding_hands_medium_skin_tone_dark_skin_tone"],"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FB":["people_holding_hands_tone4_tone1","people_holding_hands_medium_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FC":["people_holding_hands_tone4_tone2","people_holding_hands_medium_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FD":["people_holding_hands_tone4_tone3","people_holding_hands_medium_dark_skin_tone_medium_skin_tone"],"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FE":["people_holding_hands_tone4","people_holding_hands_medium_dark_skin_tone"],"1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FF":["people_holding_hands_tone4_tone5","people_holding_hands_medium_dark_skin_tone_dark_skin_tone"],"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FB":["people_holding_hands_tone5_tone1","people_holding_hands_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FC":["people_holding_hands_tone5_tone2","people_holding_hands_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FD":["people_holding_hands_tone5_tone3","people_holding_hands_dark_skin_tone_medium_skin_tone"],"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FE":["people_holding_hands_tone5_tone4","people_holding_hands_dark_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FF":["people_holding_hands_tone5","people_holding_hands_dark_skin_tone"],"1F46B":"couple","1F46B-1F3FB":["woman_and_man_holding_hands_tone1","woman_and_man_holding_hands_light_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FC":["woman_and_man_holding_hands_tone1_tone2","woman_and_man_holding_hands_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FD":["woman_and_man_holding_hands_tone1_tone3","woman_and_man_holding_hands_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FE":["woman_and_man_holding_hands_tone1_tone4","woman_and_man_holding_hands_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F468-1F3FF":["woman_and_man_holding_hands_tone1_tone5","woman_and_man_holding_hands_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FB":["woman_and_man_holding_hands_tone2_tone1","woman_and_man_holding_hands_medium_light_skin_tone_light_skin_tone"],"1F46B-1F3FC":["woman_and_man_holding_hands_tone2","woman_and_man_holding_hands_medium_light_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FD":["woman_and_man_holding_hands_tone2_tone3","woman_and_man_holding_hands_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FE":["woman_and_man_holding_hands_tone2_tone4","woman_and_man_holding_hands_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F468-1F3FF":["woman_and_man_holding_hands_tone2_tone5","woman_and_man_holding_hands_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FB":["woman_and_man_holding_hands_tone3_tone1","woman_and_man_holding_hands_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FC":["woman_and_man_holding_hands_tone3_tone2","woman_and_man_holding_hands_medium_skin_tone_medium_light_skin_tone"],"1F46B-1F3FD":["woman_and_man_holding_hands_tone3","woman_and_man_holding_hands_medium_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FE":["woman_and_man_holding_hands_tone3_tone4","woman_and_man_holding_hands_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F468-1F3FF":["woman_and_man_holding_hands_tone3_tone5","woman_and_man_holding_hands_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FB":["woman_and_man_holding_hands_tone4_tone1","woman_and_man_holding_hands_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FC":["woman_and_man_holding_hands_tone4_tone2","woman_and_man_holding_hands_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FD":["woman_and_man_holding_hands_tone4_tone3","woman_and_man_holding_hands_medium_dark_skin_tone_medium_skin_tone"],"1F46B-1F3FE":["woman_and_man_holding_hands_tone4","woman_and_man_holding_hands_medium_dark_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F468-1F3FF":["woman_and_man_holding_hands_tone4_tone5","woman_and_man_holding_hands_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FB":["woman_and_man_holding_hands_tone5_tone1","woman_and_man_holding_hands_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FC":["woman_and_man_holding_hands_tone5_tone2","woman_and_man_holding_hands_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FD":["woman_and_man_holding_hands_tone5_tone3","woman_and_man_holding_hands_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F468-1F3FE":["woman_and_man_holding_hands_tone5_tone4","woman_and_man_holding_hands_dark_skin_tone_medium_dark_skin_tone"],"1F46B-1F3FF":["woman_and_man_holding_hands_tone5","woman_and_man_holding_hands_dark_skin_tone"],"1F46D":"two_women_holding_hands","1F46D-1F3FB":["women_holding_hands_tone1","women_holding_hands_light_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FC":["women_holding_hands_tone1_tone2","women_holding_hands_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FD":["women_holding_hands_tone1_tone3","women_holding_hands_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FE":["women_holding_hands_tone1_tone4","women_holding_hands_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-1F91D-200D-1F469-1F3FF":["women_holding_hands_tone1_tone5","women_holding_hands_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FB":["women_holding_hands_tone2_tone1","women_holding_hands_medium_light_skin_tone_light_skin_tone"],"1F46D-1F3FC":["women_holding_hands_tone2","women_holding_hands_medium_light_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FD":["women_holding_hands_tone2_tone3","women_holding_hands_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FE":["women_holding_hands_tone2_tone4","women_holding_hands_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-1F91D-200D-1F469-1F3FF":["women_holding_hands_tone2_tone5","women_holding_hands_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FB":["women_holding_hands_tone3_tone1","women_holding_hands_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FC":["women_holding_hands_tone3_tone2","women_holding_hands_medium_skin_tone_medium_light_skin_tone"],"1F46D-1F3FD":["women_holding_hands_tone3","women_holding_hands_medium_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FE":["women_holding_hands_tone3_tone4","women_holding_hands_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-1F91D-200D-1F469-1F3FF":["women_holding_hands_tone3_tone5","women_holding_hands_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FB":["women_holding_hands_tone4_tone1","women_holding_hands_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FC":["women_holding_hands_tone4_tone2","women_holding_hands_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FD":["women_holding_hands_tone4_tone3","women_holding_hands_medium_dark_skin_tone_medium_skin_tone"],"1F46D-1F3FE":["women_holding_hands_tone4","women_holding_hands_medium_dark_skin_tone"],"1F469-1F3FE-200D-1F91D-200D-1F469-1F3FF":["women_holding_hands_tone4_tone5","women_holding_hands_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FB":["women_holding_hands_tone5_tone1","women_holding_hands_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FC":["women_holding_hands_tone5_tone2","women_holding_hands_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FD":["women_holding_hands_tone5_tone3","women_holding_hands_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-1F91D-200D-1F469-1F3FE":["women_holding_hands_tone5_tone4","women_holding_hands_dark_skin_tone_medium_dark_skin_tone"],"1F46D-1F3FF":["women_holding_hands_tone5","women_holding_hands_dark_skin_tone"],"1F46C":"two_men_holding_hands","1F46C-1F3FB":["men_holding_hands_tone1","men_holding_hands_light_skin_tone"],"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FC":["men_holding_hands_tone1_tone2","men_holding_hands_light_skin_tone_medium_light_skin_tone"],"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FD":["men_holding_hands_tone1_tone3","men_holding_hands_light_skin_tone_medium_skin_tone"],"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FE":["men_holding_hands_tone1_tone4","men_holding_hands_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FB-200D-1F91D-200D-1F468-1F3FF":["men_holding_hands_tone1_tone5","men_holding_hands_light_skin_tone_dark_skin_tone"],"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FB":["men_holding_hands_tone2_tone1","men_holding_hands_medium_light_skin_tone_light_skin_tone"],"1F46C-1F3FC":["men_holding_hands_tone2","men_holding_hands_medium_light_skin_tone"],"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FD":["men_holding_hands_tone2_tone3","men_holding_hands_medium_light_skin_tone_medium_skin_tone"],"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FE":["men_holding_hands_tone2_tone4","men_holding_hands_medium_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FC-200D-1F91D-200D-1F468-1F3FF":["men_holding_hands_tone2_tone5","men_holding_hands_medium_light_skin_tone_dark_skin_tone"],"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FB":["men_holding_hands_tone3_tone1","men_holding_hands_medium_skin_tone_light_skin_tone"],"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FC":["men_holding_hands_tone3_tone2","men_holding_hands_medium_skin_tone_medium_light_skin_tone"],"1F46C-1F3FD":["men_holding_hands_tone3","men_holding_hands_medium_skin_tone"],"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FE":["men_holding_hands_tone3_tone4","men_holding_hands_medium_skin_tone_medium_dark_skin_tone"],"1F468-1F3FD-200D-1F91D-200D-1F468-1F3FF":["men_holding_hands_tone3_tone5","men_holding_hands_medium_skin_tone_dark_skin_tone"],"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FB":["men_holding_hands_tone4_tone1","men_holding_hands_medium_dark_skin_tone_light_skin_tone"],"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FC":["men_holding_hands_tone4_tone2","men_holding_hands_medium_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FD":["men_holding_hands_tone4_tone3","men_holding_hands_medium_dark_skin_tone_medium_skin_tone"],"1F46C-1F3FE":["men_holding_hands_tone4","men_holding_hands_medium_dark_skin_tone"],"1F468-1F3FE-200D-1F91D-200D-1F468-1F3FF":["men_holding_hands_tone4_tone5","men_holding_hands_medium_dark_skin_tone_dark_skin_tone"],"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FB":["men_holding_hands_tone5_tone1","men_holding_hands_dark_skin_tone_light_skin_tone"],"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FC":["men_holding_hands_tone5_tone2","men_holding_hands_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FD":["men_holding_hands_tone5_tone3","men_holding_hands_dark_skin_tone_medium_skin_tone"],"1F468-1F3FF-200D-1F91D-200D-1F468-1F3FE":["men_holding_hands_tone5_tone4","men_holding_hands_dark_skin_tone_medium_dark_skin_tone"],"1F46C-1F3FF":["men_holding_hands_tone5","men_holding_hands_dark_skin_tone"],"1F491":"couple_with_heart","1F491-1F3FB":["couple_with_heart_tone1","couple_with_heart_light_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FC":["couple_with_heart_person_person_tone1_tone2","couple_with_heart_person_person_light_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FD":["couple_with_heart_person_person_tone1_tone3","couple_with_heart_person_person_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FE":["couple_with_heart_person_person_tone1_tone4","couple_with_heart_person_person_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FF":["couple_with_heart_person_person_tone1_tone5","couple_with_heart_person_person_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FB":["couple_with_heart_person_person_tone2_tone1","couple_with_heart_person_person_medium_light_skin_tone_light_skin_tone"],"1F491-1F3FC":["couple_with_heart_tone2","couple_with_heart_medium_light_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FD":["couple_with_heart_person_person_tone2_tone3","couple_with_heart_person_person_medium_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FE":["couple_with_heart_person_person_tone2_tone4","couple_with_heart_person_person_medium_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FF":["couple_with_heart_person_person_tone2_tone5","couple_with_heart_person_person_medium_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FB":["couple_with_heart_person_person_tone3_tone1","couple_with_heart_person_person_medium_skin_tone_light_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FC":["couple_with_heart_person_person_tone3_tone2","couple_with_heart_person_person_medium_skin_tone_medium_light_skin_tone"],"1F491-1F3FD":["couple_with_heart_tone3","couple_with_heart_medium_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FE":["couple_with_heart_person_person_tone3_tone4","couple_with_heart_person_person_medium_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FF":["couple_with_heart_person_person_tone3_tone5","couple_with_heart_person_person_medium_skin_tone_dark_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FB":["couple_with_heart_person_person_tone4_tone1","couple_with_heart_person_person_medium_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FC":["couple_with_heart_person_person_tone4_tone2","couple_with_heart_person_person_medium_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FD":["couple_with_heart_person_person_tone4_tone3","couple_with_heart_person_person_medium_dark_skin_tone_medium_skin_tone"],"1F491-1F3FE":["couple_with_heart_tone4","couple_with_heart_medium_dark_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FF":["couple_with_heart_person_person_tone4_tone5","couple_with_heart_person_person_medium_dark_skin_tone_dark_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FB":["couple_with_heart_person_person_tone5_tone1","couple_with_heart_person_person_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FC":["couple_with_heart_person_person_tone5_tone2","couple_with_heart_person_person_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FD":["couple_with_heart_person_person_tone5_tone3","couple_with_heart_person_person_dark_skin_tone_medium_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FE":["couple_with_heart_person_person_tone5_tone4","couple_with_heart_person_person_dark_skin_tone_medium_dark_skin_tone"],"1F491-1F3FF":["couple_with_heart_tone5","couple_with_heart_dark_skin_tone"],"1F469-200D-2764-FE0F-200D-1F468":"couple_with_heart_woman_man","1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_woman_man_tone1","couple_with_heart_woman_man_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_woman_man_tone1_tone2","couple_with_heart_woman_man_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_woman_man_tone1_tone3","couple_with_heart_woman_man_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_woman_man_tone1_tone4","couple_with_heart_woman_man_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_woman_man_tone1_tone5","couple_with_heart_woman_man_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_woman_man_tone2_tone1","couple_with_heart_woman_man_medium_light_skin_tone_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_woman_man_tone2","couple_with_heart_woman_man_medium_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_woman_man_tone2_tone3","couple_with_heart_woman_man_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_woman_man_tone2_tone4","couple_with_heart_woman_man_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_woman_man_tone2_tone5","couple_with_heart_woman_man_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_woman_man_tone3_tone1","couple_with_heart_woman_man_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_woman_man_tone3_tone2","couple_with_heart_woman_man_medium_skin_tone_medium_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_woman_man_tone3","couple_with_heart_woman_man_medium_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_woman_man_tone3_tone4","couple_with_heart_woman_man_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_woman_man_tone3_tone5","couple_with_heart_woman_man_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_woman_man_tone4_tone1","couple_with_heart_woman_man_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_woman_man_tone4_tone2","couple_with_heart_woman_man_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_woman_man_tone4_tone3","couple_with_heart_woman_man_medium_dark_skin_tone_medium_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_woman_man_tone4","couple_with_heart_woman_man_medium_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_woman_man_tone4_tone5","couple_with_heart_woman_man_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_woman_man_tone5_tone1","couple_with_heart_woman_man_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_woman_man_tone5_tone2","couple_with_heart_woman_man_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_woman_man_tone5_tone3","couple_with_heart_woman_man_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_woman_man_tone5_tone4","couple_with_heart_woman_man_dark_skin_tone_medium_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_woman_man_tone5","couple_with_heart_woman_man_dark_skin_tone"],"1F469-200D-2764-FE0F-200D-1F469":["couple_ww","couple_with_heart_ww"],"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FB":["couple_with_heart_woman_woman_tone1","couple_with_heart_woman_woman_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FC":["couple_with_heart_woman_woman_tone1_tone2","couple_with_heart_woman_woman_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FD":["couple_with_heart_woman_woman_tone1_tone3","couple_with_heart_woman_woman_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FE":["couple_with_heart_woman_woman_tone1_tone4","couple_with_heart_woman_woman_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FF":["couple_with_heart_woman_woman_tone1_tone5","couple_with_heart_woman_woman_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FB":["couple_with_heart_woman_woman_tone2_tone1","couple_with_heart_woman_woman_medium_light_skin_tone_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FC":["couple_with_heart_woman_woman_tone2","couple_with_heart_woman_woman_medium_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FD":["couple_with_heart_woman_woman_tone2_tone3","couple_with_heart_woman_woman_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FE":["couple_with_heart_woman_woman_tone2_tone4","couple_with_heart_woman_woman_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FF":["couple_with_heart_woman_woman_tone2_tone5","couple_with_heart_woman_woman_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FB":["couple_with_heart_woman_woman_tone3_tone1","couple_with_heart_woman_woman_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FC":["couple_with_heart_woman_woman_tone3_tone2","couple_with_heart_woman_woman_medium_skin_tone_medium_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FD":["couple_with_heart_woman_woman_tone3","couple_with_heart_woman_woman_medium_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FE":["couple_with_heart_woman_woman_tone3_tone4","couple_with_heart_woman_woman_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FF":["couple_with_heart_woman_woman_tone3_tone5","couple_with_heart_woman_woman_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FB":["couple_with_heart_woman_woman_tone4_tone1","couple_with_heart_woman_woman_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FC":["couple_with_heart_woman_woman_tone4_tone2","couple_with_heart_woman_woman_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FD":["couple_with_heart_woman_woman_tone4_tone3","couple_with_heart_woman_woman_medium_dark_skin_tone_medium_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FE":["couple_with_heart_woman_woman_tone4","couple_with_heart_woman_woman_medium_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FF":["couple_with_heart_woman_woman_tone4_tone5","couple_with_heart_woman_woman_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FB":["couple_with_heart_woman_woman_tone5_tone1","couple_with_heart_woman_woman_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FC":["couple_with_heart_woman_woman_tone5_tone2","couple_with_heart_woman_woman_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FD":["couple_with_heart_woman_woman_tone5_tone3","couple_with_heart_woman_woman_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FE":["couple_with_heart_woman_woman_tone5_tone4","couple_with_heart_woman_woman_dark_skin_tone_medium_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FF":["couple_with_heart_woman_woman_tone5","couple_with_heart_woman_woman_dark_skin_tone"],"1F468-200D-2764-FE0F-200D-1F468":["couple_mm","couple_with_heart_mm"],"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_man_man_tone1","couple_with_heart_man_man_light_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_man_man_tone1_tone2","couple_with_heart_man_man_light_skin_tone_medium_light_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_man_man_tone1_tone3","couple_with_heart_man_man_light_skin_tone_medium_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_man_man_tone1_tone4","couple_with_heart_man_man_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_man_man_tone1_tone5","couple_with_heart_man_man_light_skin_tone_dark_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_man_man_tone2_tone1","couple_with_heart_man_man_medium_light_skin_tone_light_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_man_man_tone2","couple_with_heart_man_man_medium_light_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_man_man_tone2_tone3","couple_with_heart_man_man_medium_light_skin_tone_medium_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_man_man_tone2_tone4","couple_with_heart_man_man_medium_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_man_man_tone2_tone5","couple_with_heart_man_man_medium_light_skin_tone_dark_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_man_man_tone3_tone1","couple_with_heart_man_man_medium_skin_tone_light_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_man_man_tone3_tone2","couple_with_heart_man_man_medium_skin_tone_medium_light_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_man_man_tone3","couple_with_heart_man_man_medium_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_man_man_tone3_tone4","couple_with_heart_man_man_medium_skin_tone_medium_dark_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_man_man_tone3_tone5","couple_with_heart_man_man_medium_skin_tone_dark_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_man_man_tone4_tone1","couple_with_heart_man_man_medium_dark_skin_tone_light_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_man_man_tone4_tone2","couple_with_heart_man_man_medium_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_man_man_tone4_tone3","couple_with_heart_man_man_medium_dark_skin_tone_medium_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_man_man_tone4","couple_with_heart_man_man_medium_dark_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_man_man_tone4_tone5","couple_with_heart_man_man_medium_dark_skin_tone_dark_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_man_man_tone5_tone1","couple_with_heart_man_man_dark_skin_tone_light_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_man_man_tone5_tone2","couple_with_heart_man_man_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_man_man_tone5_tone3","couple_with_heart_man_man_dark_skin_tone_medium_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_man_man_tone5_tone4","couple_with_heart_man_man_dark_skin_tone_medium_dark_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_man_man_tone5","couple_with_heart_man_man_dark_skin_tone"],"1F48F":"couplekiss","1F48F-1F3FB":["kiss_tone1","kiss_light_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["kiss_person_person_tone1_tone2","kiss_person_person_light_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["kiss_person_person_tone1_tone3","kiss_person_person_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["kiss_person_person_tone1_tone4","kiss_person_person_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["kiss_person_person_tone1_tone5","kiss_person_person_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["kiss_person_person_tone2_tone1","kiss_person_person_medium_light_skin_tone_light_skin_tone"],"1F48F-1F3FC":["kiss_tone2","kiss_medium_light_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["kiss_person_person_tone2_tone3","kiss_person_person_medium_light_skin_tone_medium_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["kiss_person_person_tone2_tone4","kiss_person_person_medium_light_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["kiss_person_person_tone2_tone5","kiss_person_person_medium_light_skin_tone_dark_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["kiss_person_person_tone3_tone1","kiss_person_person_medium_skin_tone_light_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["kiss_person_person_tone3_tone2","kiss_person_person_medium_skin_tone_medium_light_skin_tone"],"1F48F-1F3FD":["kiss_tone3","kiss_medium_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["kiss_person_person_tone3_tone4","kiss_person_person_medium_skin_tone_medium_dark_skin_tone"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["kiss_person_person_tone3_tone5","kiss_person_person_medium_skin_tone_dark_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["kiss_person_person_tone4_tone1","kiss_person_person_medium_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["kiss_person_person_tone4_tone2","kiss_person_person_medium_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["kiss_person_person_tone4_tone3","kiss_person_person_medium_dark_skin_tone_medium_skin_tone"],"1F48F-1F3FE":["kiss_tone4","kiss_medium_dark_skin_tone"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["kiss_person_person_tone4_tone5","kiss_person_person_medium_dark_skin_tone_dark_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["kiss_person_person_tone5_tone1","kiss_person_person_dark_skin_tone_light_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["kiss_person_person_tone5_tone2","kiss_person_person_dark_skin_tone_medium_light_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["kiss_person_person_tone5_tone3","kiss_person_person_dark_skin_tone_medium_skin_tone"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["kiss_person_person_tone5_tone4","kiss_person_person_dark_skin_tone_medium_dark_skin_tone"],"1F48F-1F3FF":["kiss_tone5","kiss_dark_skin_tone"],"1F469-200D-2764-FE0F-200D-1F48B-200D-1F468":"kiss_woman_man","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_woman_man_tone1","kiss_woman_man_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_woman_man_tone1_tone2","kiss_woman_man_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_woman_man_tone1_tone3","kiss_woman_man_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_woman_man_tone1_tone4","kiss_woman_man_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_woman_man_tone1_tone5","kiss_woman_man_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_woman_man_tone2_tone1","kiss_woman_man_medium_light_skin_tone_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_woman_man_tone2","kiss_woman_man_medium_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_woman_man_tone2_tone3","kiss_woman_man_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_woman_man_tone2_tone4","kiss_woman_man_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_woman_man_tone2_tone5","kiss_woman_man_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_woman_man_tone3_tone1","kiss_woman_man_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_woman_man_tone3_tone2","kiss_woman_man_medium_skin_tone_medium_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_woman_man_tone3","kiss_woman_man_medium_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_woman_man_tone3_tone4","kiss_woman_man_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_woman_man_tone3_tone5","kiss_woman_man_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_woman_man_tone4_tone1","kiss_woman_man_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_woman_man_tone4_tone2","kiss_woman_man_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_woman_man_tone4_tone3","kiss_woman_man_medium_dark_skin_tone_medium_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_woman_man_tone4","kiss_woman_man_medium_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_woman_man_tone4_tone5","kiss_woman_man_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_woman_man_tone5_tone1","kiss_woman_man_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_woman_man_tone5_tone2","kiss_woman_man_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_woman_man_tone5_tone3","kiss_woman_man_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_woman_man_tone5_tone4","kiss_woman_man_dark_skin_tone_medium_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_woman_man_tone5","kiss_woman_man_dark_skin_tone"],"1F469-200D-2764-FE0F-200D-1F48B-200D-1F469":["kiss_ww","couplekiss_ww"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":["kiss_woman_woman_tone1","kiss_woman_woman_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":["kiss_woman_woman_tone1_tone2","kiss_woman_woman_light_skin_tone_medium_light_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":["kiss_woman_woman_tone1_tone3","kiss_woman_woman_light_skin_tone_medium_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":["kiss_woman_woman_tone1_tone4","kiss_woman_woman_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":["kiss_woman_woman_tone1_tone5","kiss_woman_woman_light_skin_tone_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":["kiss_woman_woman_tone2_tone1","kiss_woman_woman_medium_light_skin_tone_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":["kiss_woman_woman_tone2","kiss_woman_woman_medium_light_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":["kiss_woman_woman_tone2_tone3","kiss_woman_woman_medium_light_skin_tone_medium_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":["kiss_woman_woman_tone2_tone4","kiss_woman_woman_medium_light_skin_tone_medium_dark_skin_tone"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":["kiss_woman_woman_tone2_tone5","kiss_woman_woman_medium_light_skin_tone_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":["kiss_woman_woman_tone3_tone1","kiss_woman_woman_medium_skin_tone_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":["kiss_woman_woman_tone3_tone2","kiss_woman_woman_medium_skin_tone_medium_light_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":["kiss_woman_woman_tone3","kiss_woman_woman_medium_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":["kiss_woman_woman_tone3_tone4","kiss_woman_woman_medium_skin_tone_medium_dark_skin_tone"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":["kiss_woman_woman_tone3_tone5","kiss_woman_woman_medium_skin_tone_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":["kiss_woman_woman_tone4_tone1","kiss_woman_woman_medium_dark_skin_tone_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":["kiss_woman_woman_tone4_tone2","kiss_woman_woman_medium_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":["kiss_woman_woman_tone4_tone3","kiss_woman_woman_medium_dark_skin_tone_medium_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":["kiss_woman_woman_tone4","kiss_woman_woman_medium_dark_skin_tone"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":["kiss_woman_woman_tone4_tone5","kiss_woman_woman_medium_dark_skin_tone_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":["kiss_woman_woman_tone5_tone1","kiss_woman_woman_dark_skin_tone_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":["kiss_woman_woman_tone5_tone2","kiss_woman_woman_dark_skin_tone_medium_light_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":["kiss_woman_woman_tone5_tone3","kiss_woman_woman_dark_skin_tone_medium_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":["kiss_woman_woman_tone5_tone4","kiss_woman_woman_dark_skin_tone_medium_dark_skin_tone"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":["kiss_woman_woman_tone5","kiss_woman_woman_dark_skin_tone"],"1F468-200D-2764-FE0F-200D-1F48B-200D-1F468":["kiss_mm","couplekiss_mm"],"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_man_man_tone1","kiss_man_man_light_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_man_man_tone1_tone2","kiss_man_man_light_skin_tone_medium_light_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_man_man_tone1_tone3","kiss_man_man_light_skin_tone_medium_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_man_man_tone1_tone4","kiss_man_man_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_man_man_tone1_tone5","kiss_man_man_light_skin_tone_dark_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_man_man_tone2_tone1","kiss_man_man_medium_light_skin_tone_light_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_man_man_tone2","kiss_man_man_medium_light_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_man_man_tone2_tone3","kiss_man_man_medium_light_skin_tone_medium_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_man_man_tone2_tone4","kiss_man_man_medium_light_skin_tone_medium_dark_skin_tone"],"1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_man_man_tone2_tone5","kiss_man_man_medium_light_skin_tone_dark_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_man_man_tone3_tone1","kiss_man_man_medium_skin_tone_light_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_man_man_tone3_tone2","kiss_man_man_medium_skin_tone_medium_light_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_man_man_tone3","kiss_man_man_medium_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_man_man_tone3_tone4","kiss_man_man_medium_skin_tone_medium_dark_skin_tone"],"1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_man_man_tone3_tone5","kiss_man_man_medium_skin_tone_dark_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_man_man_tone4_tone1","kiss_man_man_medium_dark_skin_tone_light_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_man_man_tone4_tone2","kiss_man_man_medium_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_man_man_tone4_tone3","kiss_man_man_medium_dark_skin_tone_medium_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_man_man_tone4","kiss_man_man_medium_dark_skin_tone"],"1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_man_man_tone4_tone5","kiss_man_man_medium_dark_skin_tone_dark_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_man_man_tone5_tone1","kiss_man_man_dark_skin_tone_light_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_man_man_tone5_tone2","kiss_man_man_dark_skin_tone_medium_light_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_man_man_tone5_tone3","kiss_man_man_dark_skin_tone_medium_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_man_man_tone5_tone4","kiss_man_man_dark_skin_tone_medium_dark_skin_tone"],"1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_man_man_tone5","kiss_man_man_dark_skin_tone"],"1F46A":"family","1F468-200D-1F469-200D-1F466":"family_man_woman_boy","1F468-200D-1F469-200D-1F467":"family_mwg","1F468-200D-1F469-200D-1F467-200D-1F466":"family_mwgb","1F468-200D-1F469-200D-1F466-200D-1F466":"family_mwbb","1F468-200D-1F469-200D-1F467-200D-1F467":"family_mwgg","1F469-200D-1F469-200D-1F466":"family_wwb","1F469-200D-1F469-200D-1F467":"family_wwg","1F469-200D-1F469-200D-1F467-200D-1F466":"family_wwgb","1F469-200D-1F469-200D-1F466-200D-1F466":"family_wwbb","1F469-200D-1F469-200D-1F467-200D-1F467":"family_wwgg","1F468-200D-1F468-200D-1F466":"family_mmb","1F468-200D-1F468-200D-1F467":"family_mmg","1F468-200D-1F468-200D-1F467-200D-1F466":"family_mmgb","1F468-200D-1F468-200D-1F466-200D-1F466":"family_mmbb","1F468-200D-1F468-200D-1F467-200D-1F467":"family_mmgg","1F469-200D-1F466":"family_woman_boy","1F469-200D-1F467":"family_woman_girl","1F469-200D-1F467-200D-1F466":"family_woman_girl_boy","1F469-200D-1F466-200D-1F466":"family_woman_boy_boy","1F469-200D-1F467-200D-1F467":"family_woman_girl_girl","1F468-200D-1F466":"family_man_boy","1F468-200D-1F467":"family_man_girl","1F468-200D-1F467-200D-1F466":"family_man_girl_boy","1F468-200D-1F466-200D-1F466":"family_man_boy_boy","1F468-200D-1F467-200D-1F467":"family_man_girl_girl","1F9F6":"yarn","1F9F5":"thread","1F9E5":"coat","1F97C":"lab_coat","1F9BA":"safety_vest","1F45A":"womans_clothes","1F455":"shirt","1F456":"jeans","1FA72":"briefs","1FA73":"shorts","1F454":"necktie","1F457":"dress","1F459":"bikini","1FA71":"one_piece_swimsuit","1F458":"kimono","1F97B":"sari","1F97F":"womans_flat_shoe","1F460":"high_heel","1F461":"sandal","1F462":"boot","1F45E":"mans_shoe","1F45F":"athletic_shoe","1F97E":"hiking_boot","1FA74":"thong_sandal","1F9E6":"socks","1F9E4":"gloves","1F9E3":"scarf","1F3A9":"tophat","1F9E2":"billed_cap","1F452":"womans_hat","1F393":"mortar_board","26D1":["helmet_with_cross","helmet_with_white_cross"],"1FA96":"military_helmet","1F451":"crown","1F48D":"ring","1F45D":"pouch","1F45B":"purse","1F45C":"handbag","1F4BC":"briefcase","1F392":"school_satchel","1F9F3":"luggage","1F453":"eyeglasses","1F576":"dark_sunglasses","1F97D":"goggles","1F302":"closed_umbrella","1F9B1":"curly_haired","1F9B0":"red_haired","1F9B3":"white_haired","1F9B2":"bald","1F436":"dog","1F431":"cat","1F42D":"mouse","1F439":"hamster","1F430":"rabbit","1F98A":["fox","fox_face"],"1F43B":"bear","1F43C":"panda_face","1F43B-200D-2744-FE0F":"polar_bear","1F428":"koala","1F42F":"tiger","1F981":["lion_face","lion"],"1F42E":"cow","1F437":"pig","1F43D":"pig_nose","1F438":"frog","1F435":"monkey_face","1F648":"see_no_evil","1F649":"hear_no_evil","1F64A":"speak_no_evil","1F412":"monkey","1F414":"chicken","1F427":"penguin","1F426":"bird","1F424":"baby_chick","1F423":"hatching_chick","1F425":"hatched_chick","1F986":"duck","1F9A4":"dodo","1F985":"eagle","1F989":"owl","1F987":"bat","1F43A":"wolf","1F417":"boar","1F434":"horse","1F984":["unicorn","unicorn_face"],"1F41D":"bee","1F41B":"bug","1F98B":"butterfly","1F40C":"snail","1FAB1":"worm","1F41E":"lady_beetle","1F41C":"ant","1FAB0":"fly","1F99F":"mosquito","1FAB3":"cockroach","1FAB2":"beetle","1F997":"cricket","1F577":"spider","1F578":"spider_web","1F982":"scorpion","1F422":"turtle","1F40D":"snake","1F98E":"lizard","1F996":"t_rex","1F995":"sauropod","1F419":"octopus","1F991":"squid","1F990":"shrimp","1F99E":"lobster","1F980":"crab","1F421":"blowfish","1F420":"tropical_fish","1F41F":"fish","1F9AD":"seal","1F42C":"dolphin","1F433":"whale","1F40B":"whale2","1F988":"shark","1F40A":"crocodile","1F405":"tiger2","1F406":"leopard","1F993":"zebra","1F98D":"gorilla","1F9A7":"orangutan","1F418":"elephant","1F9A3":"mammoth","1F9AC":"bison","1F99B":"hippopotamus","1F98F":["rhino","rhinoceros"],"1F42A":"dromedary_camel","1F42B":"camel","1F992":"giraffe","1F998":"kangaroo","1F403":"water_buffalo","1F402":"ox","1F404":"cow2","1F40E":"racehorse","1F416":"pig2","1F40F":"ram","1F411":"sheep","1F999":"llama","1F410":"goat","1F98C":"deer","1F415":"dog2","1F429":"poodle","1F9AE":"guide_dog","1F415-200D-1F9BA":"service_dog","1F408":"cat2","1F408-200D-2B1B":"black_cat","1F413":"rooster","1F983":"turkey","1F99A":"peacock","1F99C":"parrot","1F9A2":"swan","1F9A9":"flamingo","1F54A":["dove","dove_of_peace"],"1F407":"rabbit2","1F99D":"raccoon","1F9A8":"skunk","1F9A1":"badger","1F9AB":"beaver","1F9A6":"otter","1F9A5":"sloth","1F401":"mouse2","1F400":"rat","1F43F":"chipmunk","1F994":"hedgehog","1F43E":["feet","paw_prints"],"1F409":"dragon","1F432":"dragon_face","1F335":"cactus","1F384":"christmas_tree","1F332":"evergreen_tree","1F333":"deciduous_tree","1F334":"palm_tree","1F331":"seedling","1F33F":"herb","1F340":"four_leaf_clover","1F38D":"bamboo","1F38B":"tanabata_tree","1F343":"leaves","1F342":"fallen_leaf","1F341":"maple_leaf","1FAB6":"feather","1F344":"mushroom","1F41A":"shell","1FAA8":"rock","1FAB5":"wood","1F33E":"ear_of_rice","1FAB4":"potted_plant","1F490":"bouquet","1F337":"tulip","1F339":"rose","1F940":["wilted_rose","wilted_flower"],"1F33A":"hibiscus","1F338":"cherry_blossom","1F33C":"blossom","1F33B":"sunflower","1F31E":"sun_with_face","1F31D":"full_moon_with_face","1F31B":"first_quarter_moon_with_face","1F31C":"last_quarter_moon_with_face","1F31A":"new_moon_with_face","1F315":"full_moon","1F316":"waning_gibbous_moon","1F317":"last_quarter_moon","1F318":"waning_crescent_moon","1F311":"new_moon","1F312":"waxing_crescent_moon","1F313":"first_quarter_moon","1F314":"waxing_gibbous_moon","1F319":"crescent_moon","1F30E":"earth_americas","1F30D":"earth_africa","1F30F":"earth_asia","1FA90":"ringed_planet","1F4AB":"dizzy","2B50":"star","1F31F":"star2","26A1":"zap","1F4A5":"boom","1F525":["fire","flame"],"1F32A":["cloud_tornado","cloud_with_tornado"],"1F308":"rainbow","1F324":["white_sun_small_cloud","white_sun_with_small_cloud"],"26C5":"partly_sunny","1F325":["white_sun_cloud","white_sun_behind_cloud"],"1F326":["white_sun_rain_cloud","white_sun_behind_cloud_with_rain"],"1F327":["cloud_rain","cloud_with_rain"],"26C8":["thunder_cloud_rain","thunder_cloud_and_rain"],"1F329":["cloud_lightning","cloud_with_lightning"],"1F328":["cloud_snow","cloud_with_snow"],"26C4":"snowman","1F32C":"wind_blowing_face","1F4A8":"dash","1F4A7":"droplet","1F4A6":"sweat_drops","1F30A":"ocean","1F32B":"fog","1F34F":"green_apple","1F34E":"apple","1F350":"pear","1F34A":"tangerine","1F34B":"lemon","1F34C":"banana","1F349":"watermelon","1F347":"grapes","1FAD0":"blueberries","1F353":"strawberry","1F348":"melon","1F352":"cherries","1F351":"peach","1F96D":"mango","1F34D":"pineapple","1F965":"coconut","1F95D":["kiwi","kiwifruit"],"1F345":"tomato","1F346":"eggplant","1F951":"avocado","1FAD2":"olive","1F966":"broccoli","1F96C":"leafy_green","1FAD1":"bell_pepper","1F952":"cucumber","1F336":"hot_pepper","1F33D":"corn","1F955":"carrot","1F9C4":"garlic","1F9C5":"onion","1F954":"potato","1F360":"sweet_potato","1F950":"croissant","1F96F":"bagel","1F35E":"bread","1F956":["french_bread","baguette_bread"],"1FAD3":"flatbread","1F968":"pretzel","1F9C0":["cheese","cheese_wedge"],"1F95A":"egg","1F373":"cooking","1F9C8":"butter","1F95E":"pancakes","1F9C7":"waffle","1F953":"bacon","1F969":"cut_of_meat","1F357":"poultry_leg","1F356":"meat_on_bone","1F32D":["hotdog","hot_dog"],"1F354":"hamburger","1F35F":"fries","1F355":"pizza","1F96A":"sandwich","1F959":["stuffed_flatbread","stuffed_pita"],"1F9C6":"falafel","1F32E":"taco","1F32F":"burrito","1FAD4":"tamale","1F957":["salad","green_salad"],"1F958":["shallow_pan_of_food","paella"],"1FAD5":"fondue","1F96B":"canned_food","1F35D":"spaghetti","1F35C":"ramen","1F372":"stew","1F35B":"curry","1F363":"sushi","1F371":"bento","1F95F":"dumpling","1F9AA":"oyster","1F364":"fried_shrimp","1F359":"rice_ball","1F35A":"rice","1F358":"rice_cracker","1F365":"fish_cake","1F960":"fortune_cookie","1F96E":"moon_cake","1F362":"oden","1F361":"dango","1F367":"shaved_ice","1F368":"ice_cream","1F366":"icecream","1F967":"pie","1F9C1":"cupcake","1F370":"cake","1F382":"birthday","1F36E":["custard","pudding","flan"],"1F36D":"lollipop","1F36C":"candy","1F36B":"chocolate_bar","1F37F":"popcorn","1F369":"doughnut","1F36A":"cookie","1F330":"chestnut","1F95C":["peanuts","shelled_peanut"],"1F36F":"honey_pot","1F95B":["milk","glass_of_milk"],"1F37C":"baby_bottle","1F375":"tea","1FAD6":"teapot","1F9C9":"mate","1F9CB":"bubble_tea","1F9C3":"beverage_box","1F964":"cup_with_straw","1F376":"sake","1F37A":"beer","1F37B":"beers","1F942":["champagne_glass","clinking_glass"],"1F377":"wine_glass","1F943":["tumbler_glass","whisky"],"1F378":"cocktail","1F379":"tropical_drink","1F37E":["champagne","bottle_with_popping_cork"],"1F9CA":"ice_cube","1F944":"spoon","1F374":"fork_and_knife","1F37D":["fork_knife_plate","fork_and_knife_with_plate"],"1F963":"bowl_with_spoon","1F961":"takeout_box","1F962":"chopsticks","1F9C2":"salt","26BD":"soccer","1F3C0":"basketball","1F3C8":"football","26BE":"baseball","1F94E":"softball","1F3BE":"tennis","1F3D0":"volleyball","1F3C9":"rugby_football","1F94F":"flying_disc","1FA83":"boomerang","1F3B1":"8ball","1FA80":"yo_yo","1F3D3":["ping_pong","table_tennis"],"1F3F8":"badminton","1F3D2":"hockey","1F3D1":"field_hockey","1F94D":"lacrosse","1F3CF":["cricket_game","cricket_bat_ball"],"1F945":["goal","goal_net"],"26F3":"golf","1FA81":"kite","1F3F9":["bow_and_arrow","archery"],"1F3A3":"fishing_pole_and_fish","1F93F":"diving_mask","1F94A":["boxing_glove","boxing_gloves"],"1F94B":["martial_arts_uniform","karate_uniform"],"1F3BD":"running_shirt_with_sash","1F6F9":"skateboard","1F6FC":"roller_skate","1F6F7":"sled","26F8":"ice_skate","1F94C":"curling_stone","1F3BF":"ski","26F7":"skier","1F3C2":"snowboarder","1F3C2-1F3FB":["snowboarder_tone1","snowboarder_light_skin_tone"],"1F3C2-1F3FC":["snowboarder_tone2","snowboarder_medium_light_skin_tone"],"1F3C2-1F3FD":["snowboarder_tone3","snowboarder_medium_skin_tone"],"1F3C2-1F3FE":["snowboarder_tone4","snowboarder_medium_dark_skin_tone"],"1F3C2-1F3FF":["snowboarder_tone5","snowboarder_dark_skin_tone"],"1FA82":"parachute","1F3CB":["person_lifting_weights","lifter","weight_lifter"],"1F3CB-1F3FB":["person_lifting_weights_tone1","lifter_tone1","weight_lifter_tone1"],"1F3CB-1F3FC":["person_lifting_weights_tone2","lifter_tone2","weight_lifter_tone2"],"1F3CB-1F3FD":["person_lifting_weights_tone3","lifter_tone3","weight_lifter_tone3"],"1F3CB-1F3FE":["person_lifting_weights_tone4","lifter_tone4","weight_lifter_tone4"],"1F3CB-1F3FF":["person_lifting_weights_tone5","lifter_tone5","weight_lifter_tone5"],"1F3CB-FE0F-200D-2640-FE0F":"woman_lifting_weights","1F3CB-1F3FB-200D-2640-FE0F":["woman_lifting_weights_tone1","woman_lifting_weights_light_skin_tone"],"1F3CB-1F3FC-200D-2640-FE0F":["woman_lifting_weights_tone2","woman_lifting_weights_medium_light_skin_tone"],"1F3CB-1F3FD-200D-2640-FE0F":["woman_lifting_weights_tone3","woman_lifting_weights_medium_skin_tone"],"1F3CB-1F3FE-200D-2640-FE0F":["woman_lifting_weights_tone4","woman_lifting_weights_medium_dark_skin_tone"],"1F3CB-1F3FF-200D-2640-FE0F":["woman_lifting_weights_tone5","woman_lifting_weights_dark_skin_tone"],"1F3CB-FE0F-200D-2642-FE0F":"man_lifting_weights","1F3CB-1F3FB-200D-2642-FE0F":["man_lifting_weights_tone1","man_lifting_weights_light_skin_tone"],"1F3CB-1F3FC-200D-2642-FE0F":["man_lifting_weights_tone2","man_lifting_weights_medium_light_skin_tone"],"1F3CB-1F3FD-200D-2642-FE0F":["man_lifting_weights_tone3","man_lifting_weights_medium_skin_tone"],"1F3CB-1F3FE-200D-2642-FE0F":["man_lifting_weights_tone4","man_lifting_weights_medium_dark_skin_tone"],"1F3CB-1F3FF-200D-2642-FE0F":["man_lifting_weights_tone5","man_lifting_weights_dark_skin_tone"],"1F93C":["people_wrestling","wrestlers","wrestling"],"1F93C-200D-2640-FE0F":"women_wrestling","1F93C-200D-2642-FE0F":"men_wrestling","1F938":["person_doing_cartwheel","cartwheel"],"1F938-1F3FB":["person_doing_cartwheel_tone1","cartwheel_tone1"],"1F938-1F3FC":["person_doing_cartwheel_tone2","cartwheel_tone2"],"1F938-1F3FD":["person_doing_cartwheel_tone3","cartwheel_tone3"],"1F938-1F3FE":["person_doing_cartwheel_tone4","cartwheel_tone4"],"1F938-1F3FF":["person_doing_cartwheel_tone5","cartwheel_tone5"],"1F938-200D-2640-FE0F":"woman_cartwheeling","1F938-1F3FB-200D-2640-FE0F":["woman_cartwheeling_tone1","woman_cartwheeling_light_skin_tone"],"1F938-1F3FC-200D-2640-FE0F":["woman_cartwheeling_tone2","woman_cartwheeling_medium_light_skin_tone"],"1F938-1F3FD-200D-2640-FE0F":["woman_cartwheeling_tone3","woman_cartwheeling_medium_skin_tone"],"1F938-1F3FE-200D-2640-FE0F":["woman_cartwheeling_tone4","woman_cartwheeling_medium_dark_skin_tone"],"1F938-1F3FF-200D-2640-FE0F":["woman_cartwheeling_tone5","woman_cartwheeling_dark_skin_tone"],"1F938-200D-2642-FE0F":"man_cartwheeling","1F938-1F3FB-200D-2642-FE0F":["man_cartwheeling_tone1","man_cartwheeling_light_skin_tone"],"1F938-1F3FC-200D-2642-FE0F":["man_cartwheeling_tone2","man_cartwheeling_medium_light_skin_tone"],"1F938-1F3FD-200D-2642-FE0F":["man_cartwheeling_tone3","man_cartwheeling_medium_skin_tone"],"1F938-1F3FE-200D-2642-FE0F":["man_cartwheeling_tone4","man_cartwheeling_medium_dark_skin_tone"],"1F938-1F3FF-200D-2642-FE0F":["man_cartwheeling_tone5","man_cartwheeling_dark_skin_tone"],"26F9":["person_bouncing_ball","basketball_player","person_with_ball"],"26F9-1F3FB":["person_bouncing_ball_tone1","basketball_player_tone1","person_with_ball_tone1"],"26F9-1F3FC":["person_bouncing_ball_tone2","basketball_player_tone2","person_with_ball_tone2"],"26F9-1F3FD":["person_bouncing_ball_tone3","basketball_player_tone3","person_with_ball_tone3"],"26F9-1F3FE":["person_bouncing_ball_tone4","basketball_player_tone4","person_with_ball_tone4"],"26F9-1F3FF":["person_bouncing_ball_tone5","basketball_player_tone5","person_with_ball_tone5"],"26F9-FE0F-200D-2640-FE0F":"woman_bouncing_ball","26F9-1F3FB-200D-2640-FE0F":["woman_bouncing_ball_tone1","woman_bouncing_ball_light_skin_tone"],"26F9-1F3FC-200D-2640-FE0F":["woman_bouncing_ball_tone2","woman_bouncing_ball_medium_light_skin_tone"],"26F9-1F3FD-200D-2640-FE0F":["woman_bouncing_ball_tone3","woman_bouncing_ball_medium_skin_tone"],"26F9-1F3FE-200D-2640-FE0F":["woman_bouncing_ball_tone4","woman_bouncing_ball_medium_dark_skin_tone"],"26F9-1F3FF-200D-2640-FE0F":["woman_bouncing_ball_tone5","woman_bouncing_ball_dark_skin_tone"],"26F9-FE0F-200D-2642-FE0F":"man_bouncing_ball","26F9-1F3FB-200D-2642-FE0F":["man_bouncing_ball_tone1","man_bouncing_ball_light_skin_tone"],"26F9-1F3FC-200D-2642-FE0F":["man_bouncing_ball_tone2","man_bouncing_ball_medium_light_skin_tone"],"26F9-1F3FD-200D-2642-FE0F":["man_bouncing_ball_tone3","man_bouncing_ball_medium_skin_tone"],"26F9-1F3FE-200D-2642-FE0F":["man_bouncing_ball_tone4","man_bouncing_ball_medium_dark_skin_tone"],"26F9-1F3FF-200D-2642-FE0F":["man_bouncing_ball_tone5","man_bouncing_ball_dark_skin_tone"],"1F93A":["person_fencing","fencer","fencing"],"1F93E":["person_playing_handball","handball"],"1F93E-1F3FB":["person_playing_handball_tone1","handball_tone1"],"1F93E-1F3FC":["person_playing_handball_tone2","handball_tone2"],"1F93E-1F3FD":["person_playing_handball_tone3","handball_tone3"],"1F93E-1F3FE":["person_playing_handball_tone4","handball_tone4"],"1F93E-1F3FF":["person_playing_handball_tone5","handball_tone5"],"1F93E-200D-2640-FE0F":"woman_playing_handball","1F93E-1F3FB-200D-2640-FE0F":["woman_playing_handball_tone1","woman_playing_handball_light_skin_tone"],"1F93E-1F3FC-200D-2640-FE0F":["woman_playing_handball_tone2","woman_playing_handball_medium_light_skin_tone"],"1F93E-1F3FD-200D-2640-FE0F":["woman_playing_handball_tone3","woman_playing_handball_medium_skin_tone"],"1F93E-1F3FE-200D-2640-FE0F":["woman_playing_handball_tone4","woman_playing_handball_medium_dark_skin_tone"],"1F93E-1F3FF-200D-2640-FE0F":["woman_playing_handball_tone5","woman_playing_handball_dark_skin_tone"],"1F93E-200D-2642-FE0F":"man_playing_handball","1F93E-1F3FB-200D-2642-FE0F":["man_playing_handball_tone1","man_playing_handball_light_skin_tone"],"1F93E-1F3FC-200D-2642-FE0F":["man_playing_handball_tone2","man_playing_handball_medium_light_skin_tone"],"1F93E-1F3FD-200D-2642-FE0F":["man_playing_handball_tone3","man_playing_handball_medium_skin_tone"],"1F93E-1F3FE-200D-2642-FE0F":["man_playing_handball_tone4","man_playing_handball_medium_dark_skin_tone"],"1F93E-1F3FF-200D-2642-FE0F":["man_playing_handball_tone5","man_playing_handball_dark_skin_tone"],"1F3CC":["person_golfing","golfer"],"1F3CC-1F3FB":["person_golfing_tone1","person_golfing_light_skin_tone"],"1F3CC-1F3FC":["person_golfing_tone2","person_golfing_medium_light_skin_tone"],"1F3CC-1F3FD":["person_golfing_tone3","person_golfing_medium_skin_tone"],"1F3CC-1F3FE":["person_golfing_tone4","person_golfing_medium_dark_skin_tone"],"1F3CC-1F3FF":["person_golfing_tone5","person_golfing_dark_skin_tone"],"1F3CC-FE0F-200D-2640-FE0F":"woman_golfing","1F3CC-1F3FB-200D-2640-FE0F":["woman_golfing_tone1","woman_golfing_light_skin_tone"],"1F3CC-1F3FC-200D-2640-FE0F":["woman_golfing_tone2","woman_golfing_medium_light_skin_tone"],"1F3CC-1F3FD-200D-2640-FE0F":["woman_golfing_tone3","woman_golfing_medium_skin_tone"],"1F3CC-1F3FE-200D-2640-FE0F":["woman_golfing_tone4","woman_golfing_medium_dark_skin_tone"],"1F3CC-1F3FF-200D-2640-FE0F":["woman_golfing_tone5","woman_golfing_dark_skin_tone"],"1F3CC-FE0F-200D-2642-FE0F":"man_golfing","1F3CC-1F3FB-200D-2642-FE0F":["man_golfing_tone1","man_golfing_light_skin_tone"],"1F3CC-1F3FC-200D-2642-FE0F":["man_golfing_tone2","man_golfing_medium_light_skin_tone"],"1F3CC-1F3FD-200D-2642-FE0F":["man_golfing_tone3","man_golfing_medium_skin_tone"],"1F3CC-1F3FE-200D-2642-FE0F":["man_golfing_tone4","man_golfing_medium_dark_skin_tone"],"1F3CC-1F3FF-200D-2642-FE0F":["man_golfing_tone5","man_golfing_dark_skin_tone"],"1F3C7":"horse_racing","1F3C7-1F3FB":"horse_racing_tone1","1F3C7-1F3FC":"horse_racing_tone2","1F3C7-1F3FD":"horse_racing_tone3","1F3C7-1F3FE":"horse_racing_tone4","1F3C7-1F3FF":"horse_racing_tone5","1F9D8":"person_in_lotus_position","1F9D8-1F3FB":["person_in_lotus_position_tone1","person_in_lotus_position_light_skin_tone"],"1F9D8-1F3FC":["person_in_lotus_position_tone2","person_in_lotus_position_medium_light_skin_tone"],"1F9D8-1F3FD":["person_in_lotus_position_tone3","person_in_lotus_position_medium_skin_tone"],"1F9D8-1F3FE":["person_in_lotus_position_tone4","person_in_lotus_position_medium_dark_skin_tone"],"1F9D8-1F3FF":["person_in_lotus_position_tone5","person_in_lotus_position_dark_skin_tone"],"1F9D8-200D-2640-FE0F":"woman_in_lotus_position","1F9D8-1F3FB-200D-2640-FE0F":["woman_in_lotus_position_tone1","woman_in_lotus_position_light_skin_tone"],"1F9D8-1F3FC-200D-2640-FE0F":["woman_in_lotus_position_tone2","woman_in_lotus_position_medium_light_skin_tone"],"1F9D8-1F3FD-200D-2640-FE0F":["woman_in_lotus_position_tone3","woman_in_lotus_position_medium_skin_tone"],"1F9D8-1F3FE-200D-2640-FE0F":["woman_in_lotus_position_tone4","woman_in_lotus_position_medium_dark_skin_tone"],"1F9D8-1F3FF-200D-2640-FE0F":["woman_in_lotus_position_tone5","woman_in_lotus_position_dark_skin_tone"],"1F9D8-200D-2642-FE0F":"man_in_lotus_position","1F9D8-1F3FB-200D-2642-FE0F":["man_in_lotus_position_tone1","man_in_lotus_position_light_skin_tone"],"1F9D8-1F3FC-200D-2642-FE0F":["man_in_lotus_position_tone2","man_in_lotus_position_medium_light_skin_tone"],"1F9D8-1F3FD-200D-2642-FE0F":["man_in_lotus_position_tone3","man_in_lotus_position_medium_skin_tone"],"1F9D8-1F3FE-200D-2642-FE0F":["man_in_lotus_position_tone4","man_in_lotus_position_medium_dark_skin_tone"],"1F9D8-1F3FF-200D-2642-FE0F":["man_in_lotus_position_tone5","man_in_lotus_position_dark_skin_tone"],"1F3C4":["person_surfing","surfer"],"1F3C4-1F3FB":["person_surfing_tone1","surfer_tone1"],"1F3C4-1F3FC":["person_surfing_tone2","surfer_tone2"],"1F3C4-1F3FD":["person_surfing_tone3","surfer_tone3"],"1F3C4-1F3FE":["person_surfing_tone4","surfer_tone4"],"1F3C4-1F3FF":["person_surfing_tone5","surfer_tone5"],"1F3C4-200D-2640-FE0F":"woman_surfing","1F3C4-1F3FB-200D-2640-FE0F":["woman_surfing_tone1","woman_surfing_light_skin_tone"],"1F3C4-1F3FC-200D-2640-FE0F":["woman_surfing_tone2","woman_surfing_medium_light_skin_tone"],"1F3C4-1F3FD-200D-2640-FE0F":["woman_surfing_tone3","woman_surfing_medium_skin_tone"],"1F3C4-1F3FE-200D-2640-FE0F":["woman_surfing_tone4","woman_surfing_medium_dark_skin_tone"],"1F3C4-1F3FF-200D-2640-FE0F":["woman_surfing_tone5","woman_surfing_dark_skin_tone"],"1F3C4-200D-2642-FE0F":"man_surfing","1F3C4-1F3FB-200D-2642-FE0F":["man_surfing_tone1","man_surfing_light_skin_tone"],"1F3C4-1F3FC-200D-2642-FE0F":["man_surfing_tone2","man_surfing_medium_light_skin_tone"],"1F3C4-1F3FD-200D-2642-FE0F":["man_surfing_tone3","man_surfing_medium_skin_tone"],"1F3C4-1F3FE-200D-2642-FE0F":["man_surfing_tone4","man_surfing_medium_dark_skin_tone"],"1F3C4-1F3FF-200D-2642-FE0F":["man_surfing_tone5","man_surfing_dark_skin_tone"],"1F3CA":["person_swimming","swimmer"],"1F3CA-1F3FB":["person_swimming_tone1","swimmer_tone1"],"1F3CA-1F3FC":["person_swimming_tone2","swimmer_tone2"],"1F3CA-1F3FD":["person_swimming_tone3","swimmer_tone3"],"1F3CA-1F3FE":["person_swimming_tone4","swimmer_tone4"],"1F3CA-1F3FF":["person_swimming_tone5","swimmer_tone5"],"1F3CA-200D-2640-FE0F":"woman_swimming","1F3CA-1F3FB-200D-2640-FE0F":["woman_swimming_tone1","woman_swimming_light_skin_tone"],"1F3CA-1F3FC-200D-2640-FE0F":["woman_swimming_tone2","woman_swimming_medium_light_skin_tone"],"1F3CA-1F3FD-200D-2640-FE0F":["woman_swimming_tone3","woman_swimming_medium_skin_tone"],"1F3CA-1F3FE-200D-2640-FE0F":["woman_swimming_tone4","woman_swimming_medium_dark_skin_tone"],"1F3CA-1F3FF-200D-2640-FE0F":["woman_swimming_tone5","woman_swimming_dark_skin_tone"],"1F3CA-200D-2642-FE0F":"man_swimming","1F3CA-1F3FB-200D-2642-FE0F":["man_swimming_tone1","man_swimming_light_skin_tone"],"1F3CA-1F3FC-200D-2642-FE0F":["man_swimming_tone2","man_swimming_medium_light_skin_tone"],"1F3CA-1F3FD-200D-2642-FE0F":["man_swimming_tone3","man_swimming_medium_skin_tone"],"1F3CA-1F3FE-200D-2642-FE0F":["man_swimming_tone4","man_swimming_medium_dark_skin_tone"],"1F3CA-1F3FF-200D-2642-FE0F":["man_swimming_tone5","man_swimming_dark_skin_tone"],"1F93D":["person_playing_water_polo","water_polo"],"1F93D-1F3FB":["person_playing_water_polo_tone1","water_polo_tone1"],"1F93D-1F3FC":["person_playing_water_polo_tone2","water_polo_tone2"],"1F93D-1F3FD":["person_playing_water_polo_tone3","water_polo_tone3"],"1F93D-1F3FE":["person_playing_water_polo_tone4","water_polo_tone4"],"1F93D-1F3FF":["person_playing_water_polo_tone5","water_polo_tone5"],"1F93D-200D-2640-FE0F":"woman_playing_water_polo","1F93D-1F3FB-200D-2640-FE0F":["woman_playing_water_polo_tone1","woman_playing_water_polo_light_skin_tone"],"1F93D-1F3FC-200D-2640-FE0F":["woman_playing_water_polo_tone2","woman_playing_water_polo_medium_light_skin_tone"],"1F93D-1F3FD-200D-2640-FE0F":["woman_playing_water_polo_tone3","woman_playing_water_polo_medium_skin_tone"],"1F93D-1F3FE-200D-2640-FE0F":["woman_playing_water_polo_tone4","woman_playing_water_polo_medium_dark_skin_tone"],"1F93D-1F3FF-200D-2640-FE0F":["woman_playing_water_polo_tone5","woman_playing_water_polo_dark_skin_tone"],"1F93D-200D-2642-FE0F":"man_playing_water_polo","1F93D-1F3FB-200D-2642-FE0F":["man_playing_water_polo_tone1","man_playing_water_polo_light_skin_tone"],"1F93D-1F3FC-200D-2642-FE0F":["man_playing_water_polo_tone2","man_playing_water_polo_medium_light_skin_tone"],"1F93D-1F3FD-200D-2642-FE0F":["man_playing_water_polo_tone3","man_playing_water_polo_medium_skin_tone"],"1F93D-1F3FE-200D-2642-FE0F":["man_playing_water_polo_tone4","man_playing_water_polo_medium_dark_skin_tone"],"1F93D-1F3FF-200D-2642-FE0F":["man_playing_water_polo_tone5","man_playing_water_polo_dark_skin_tone"],"1F6A3":["person_rowing_boat","rowboat"],"1F6A3-1F3FB":["person_rowing_boat_tone1","rowboat_tone1"],"1F6A3-1F3FC":["person_rowing_boat_tone2","rowboat_tone2"],"1F6A3-1F3FD":["person_rowing_boat_tone3","rowboat_tone3"],"1F6A3-1F3FE":["person_rowing_boat_tone4","rowboat_tone4"],"1F6A3-1F3FF":["person_rowing_boat_tone5","rowboat_tone5"],"1F6A3-200D-2640-FE0F":"woman_rowing_boat","1F6A3-1F3FB-200D-2640-FE0F":["woman_rowing_boat_tone1","woman_rowing_boat_light_skin_tone"],"1F6A3-1F3FC-200D-2640-FE0F":["woman_rowing_boat_tone2","woman_rowing_boat_medium_light_skin_tone"],"1F6A3-1F3FD-200D-2640-FE0F":["woman_rowing_boat_tone3","woman_rowing_boat_medium_skin_tone"],"1F6A3-1F3FE-200D-2640-FE0F":["woman_rowing_boat_tone4","woman_rowing_boat_medium_dark_skin_tone"],"1F6A3-1F3FF-200D-2640-FE0F":["woman_rowing_boat_tone5","woman_rowing_boat_dark_skin_tone"],"1F6A3-200D-2642-FE0F":"man_rowing_boat","1F6A3-1F3FB-200D-2642-FE0F":["man_rowing_boat_tone1","man_rowing_boat_light_skin_tone"],"1F6A3-1F3FC-200D-2642-FE0F":["man_rowing_boat_tone2","man_rowing_boat_medium_light_skin_tone"],"1F6A3-1F3FD-200D-2642-FE0F":["man_rowing_boat_tone3","man_rowing_boat_medium_skin_tone"],"1F6A3-1F3FE-200D-2642-FE0F":["man_rowing_boat_tone4","man_rowing_boat_medium_dark_skin_tone"],"1F6A3-1F3FF-200D-2642-FE0F":["man_rowing_boat_tone5","man_rowing_boat_dark_skin_tone"],"1F9D7":"person_climbing","1F9D7-1F3FB":["person_climbing_tone1","person_climbing_light_skin_tone"],"1F9D7-1F3FC":["person_climbing_tone2","person_climbing_medium_light_skin_tone"],"1F9D7-1F3FD":["person_climbing_tone3","person_climbing_medium_skin_tone"],"1F9D7-1F3FE":["person_climbing_tone4","person_climbing_medium_dark_skin_tone"],"1F9D7-1F3FF":["person_climbing_tone5","person_climbing_dark_skin_tone"],"1F9D7-200D-2640-FE0F":"woman_climbing","1F9D7-1F3FB-200D-2640-FE0F":["woman_climbing_tone1","woman_climbing_light_skin_tone"],"1F9D7-1F3FC-200D-2640-FE0F":["woman_climbing_tone2","woman_climbing_medium_light_skin_tone"],"1F9D7-1F3FD-200D-2640-FE0F":["woman_climbing_tone3","woman_climbing_medium_skin_tone"],"1F9D7-1F3FE-200D-2640-FE0F":["woman_climbing_tone4","woman_climbing_medium_dark_skin_tone"],"1F9D7-1F3FF-200D-2640-FE0F":["woman_climbing_tone5","woman_climbing_dark_skin_tone"],"1F9D7-200D-2642-FE0F":"man_climbing","1F9D7-1F3FB-200D-2642-FE0F":["man_climbing_tone1","man_climbing_light_skin_tone"],"1F9D7-1F3FC-200D-2642-FE0F":["man_climbing_tone2","man_climbing_medium_light_skin_tone"],"1F9D7-1F3FD-200D-2642-FE0F":["man_climbing_tone3","man_climbing_medium_skin_tone"],"1F9D7-1F3FE-200D-2642-FE0F":["man_climbing_tone4","man_climbing_medium_dark_skin_tone"],"1F9D7-1F3FF-200D-2642-FE0F":["man_climbing_tone5","man_climbing_dark_skin_tone"],"1F6B5":["person_mountain_biking","mountain_bicyclist"],"1F6B5-1F3FB":["person_mountain_biking_tone1","mountain_bicyclist_tone1"],"1F6B5-1F3FC":["person_mountain_biking_tone2","mountain_bicyclist_tone2"],"1F6B5-1F3FD":["person_mountain_biking_tone3","mountain_bicyclist_tone3"],"1F6B5-1F3FE":["person_mountain_biking_tone4","mountain_bicyclist_tone4"],"1F6B5-1F3FF":["person_mountain_biking_tone5","mountain_bicyclist_tone5"],"1F6B5-200D-2640-FE0F":"woman_mountain_biking","1F6B5-1F3FB-200D-2640-FE0F":["woman_mountain_biking_tone1","woman_mountain_biking_light_skin_tone"],"1F6B5-1F3FC-200D-2640-FE0F":["woman_mountain_biking_tone2","woman_mountain_biking_medium_light_skin_tone"],"1F6B5-1F3FD-200D-2640-FE0F":["woman_mountain_biking_tone3","woman_mountain_biking_medium_skin_tone"],"1F6B5-1F3FE-200D-2640-FE0F":["woman_mountain_biking_tone4","woman_mountain_biking_medium_dark_skin_tone"],"1F6B5-1F3FF-200D-2640-FE0F":["woman_mountain_biking_tone5","woman_mountain_biking_dark_skin_tone"],"1F6B5-200D-2642-FE0F":"man_mountain_biking","1F6B5-1F3FB-200D-2642-FE0F":["man_mountain_biking_tone1","man_mountain_biking_light_skin_tone"],"1F6B5-1F3FC-200D-2642-FE0F":["man_mountain_biking_tone2","man_mountain_biking_medium_light_skin_tone"],"1F6B5-1F3FD-200D-2642-FE0F":["man_mountain_biking_tone3","man_mountain_biking_medium_skin_tone"],"1F6B5-1F3FE-200D-2642-FE0F":["man_mountain_biking_tone4","man_mountain_biking_medium_dark_skin_tone"],"1F6B5-1F3FF-200D-2642-FE0F":["man_mountain_biking_tone5","man_mountain_biking_dark_skin_tone"],"1F6B4":["person_biking","bicyclist"],"1F6B4-1F3FB":["person_biking_tone1","bicyclist_tone1"],"1F6B4-1F3FC":["person_biking_tone2","bicyclist_tone2"],"1F6B4-1F3FD":["person_biking_tone3","bicyclist_tone3"],"1F6B4-1F3FE":["person_biking_tone4","bicyclist_tone4"],"1F6B4-1F3FF":["person_biking_tone5","bicyclist_tone5"],"1F6B4-200D-2640-FE0F":"woman_biking","1F6B4-1F3FB-200D-2640-FE0F":["woman_biking_tone1","woman_biking_light_skin_tone"],"1F6B4-1F3FC-200D-2640-FE0F":["woman_biking_tone2","woman_biking_medium_light_skin_tone"],"1F6B4-1F3FD-200D-2640-FE0F":["woman_biking_tone3","woman_biking_medium_skin_tone"],"1F6B4-1F3FE-200D-2640-FE0F":["woman_biking_tone4","woman_biking_medium_dark_skin_tone"],"1F6B4-1F3FF-200D-2640-FE0F":["woman_biking_tone5","woman_biking_dark_skin_tone"],"1F6B4-200D-2642-FE0F":"man_biking","1F6B4-1F3FB-200D-2642-FE0F":["man_biking_tone1","man_biking_light_skin_tone"],"1F6B4-1F3FC-200D-2642-FE0F":["man_biking_tone2","man_biking_medium_light_skin_tone"],"1F6B4-1F3FD-200D-2642-FE0F":["man_biking_tone3","man_biking_medium_skin_tone"],"1F6B4-1F3FE-200D-2642-FE0F":["man_biking_tone4","man_biking_medium_dark_skin_tone"],"1F6B4-1F3FF-200D-2642-FE0F":["man_biking_tone5","man_biking_dark_skin_tone"],"1F3C6":"trophy","1F947":["first_place","first_place_medal"],"1F948":["second_place","second_place_medal"],"1F949":["third_place","third_place_medal"],"1F3C5":["medal","sports_medal"],"1F396":"military_medal","1F3F5":"rosette","1F397":"reminder_ribbon","1F3AB":"ticket","1F39F":["tickets","admission_tickets"],"1F3AA":"circus_tent","1F939":["person_juggling","juggling","juggler"],"1F939-1F3FB":["person_juggling_tone1","juggling_tone1","juggler_tone1"],"1F939-1F3FC":["person_juggling_tone2","juggling_tone2","juggler_tone2"],"1F939-1F3FD":["person_juggling_tone3","juggling_tone3","juggler_tone3"],"1F939-1F3FE":["person_juggling_tone4","juggling_tone4","juggler_tone4"],"1F939-1F3FF":["person_juggling_tone5","juggling_tone5","juggler_tone5"],"1F939-200D-2640-FE0F":"woman_juggling","1F939-1F3FB-200D-2640-FE0F":["woman_juggling_tone1","woman_juggling_light_skin_tone"],"1F939-1F3FC-200D-2640-FE0F":["woman_juggling_tone2","woman_juggling_medium_light_skin_tone"],"1F939-1F3FD-200D-2640-FE0F":["woman_juggling_tone3","woman_juggling_medium_skin_tone"],"1F939-1F3FE-200D-2640-FE0F":["woman_juggling_tone4","woman_juggling_medium_dark_skin_tone"],"1F939-1F3FF-200D-2640-FE0F":["woman_juggling_tone5","woman_juggling_dark_skin_tone"],"1F939-200D-2642-FE0F":"man_juggling","1F939-1F3FB-200D-2642-FE0F":["man_juggling_tone1","man_juggling_light_skin_tone"],"1F939-1F3FC-200D-2642-FE0F":["man_juggling_tone2","man_juggling_medium_light_skin_tone"],"1F939-1F3FD-200D-2642-FE0F":["man_juggling_tone3","man_juggling_medium_skin_tone"],"1F939-1F3FE-200D-2642-FE0F":["man_juggling_tone4","man_juggling_medium_dark_skin_tone"],"1F939-1F3FF-200D-2642-FE0F":["man_juggling_tone5","man_juggling_dark_skin_tone"],"1F3AD":"performing_arts","1FA70":"ballet_shoes","1F3A8":"art","1F3AC":"clapper","1F3A4":"microphone","1F3A7":"headphones","1F3BC":"musical_score","1F3B9":"musical_keyboard","1F941":["drum","drum_with_drumsticks"],"1FA98":"long_drum","1F3B7":"saxophone","1F3BA":"trumpet","1F3B8":"guitar","1FA95":"banjo","1F3BB":"violin","1FA97":"accordion","1F3B2":"game_die","265F":"chess_pawn","1F3AF":"dart","1F3B3":"bowling","1F3AE":"video_game","1F3B0":"slot_machine","1F9E9":"jigsaw","1F697":"red_car","1F695":"taxi","1F699":"blue_car","1F6FB":"pickup_truck","1F68C":"bus","1F68E":"trolleybus","1F3CE":["race_car","racing_car"],"1F693":"police_car","1F691":"ambulance","1F692":"fire_engine","1F690":"minibus","1F69A":"truck","1F69B":"articulated_lorry","1F69C":"tractor","1F9AF":"probing_cane","1F9BD":"manual_wheelchair","1F9BC":"motorized_wheelchair","1F6F4":"scooter","1F6B2":"bike","1F6F5":["motor_scooter","motorbike"],"1F3CD":["motorcycle","racing_motorcycle"],"1F6FA":"auto_rickshaw","1F6A8":"rotating_light","1F694":"oncoming_police_car","1F68D":"oncoming_bus","1F698":"oncoming_automobile","1F696":"oncoming_taxi","1F6A1":"aerial_tramway","1F6A0":"mountain_cableway","1F69F":"suspension_railway","1F683":"railway_car","1F68B":"train","1F69E":"mountain_railway","1F69D":"monorail","1F684":"bullettrain_side","1F685":"bullettrain_front","1F688":"light_rail","1F682":"steam_locomotive","1F686":"train2","1F687":"metro","1F68A":"tram","1F689":"station","1F6EB":"airplane_departure","1F6EC":"airplane_arriving","1F6E9":["airplane_small","small_airplane"],"1F4BA":"seat","1F6F0":"satellite_orbital","1F680":"rocket","1F6F8":"flying_saucer","1F681":"helicopter","1F6F6":["canoe","kayak"],"26F5":"sailboat","1F6A4":"speedboat","1F6E5":"motorboat","1F6F3":["cruise_ship","passenger_ship"],"26F4":"ferry","1F6A2":"ship","26FD":"fuelpump","1F6A7":"construction","1F6A6":"vertical_traffic_light","1F6A5":"traffic_light","1F68F":"busstop","1F5FA":["map","world_map"],"1F5FF":"moyai","1F5FD":"statue_of_liberty","1F5FC":"tokyo_tower","1F3F0":"european_castle","1F3EF":"japanese_castle","1F3DF":"stadium","1F3A1":"ferris_wheel","1F3A2":"roller_coaster","1F3A0":"carousel_horse","26F2":"fountain","26F1":["beach_umbrella","umbrella_on_ground"],"1F3D6":["beach","beach_with_umbrella"],"1F3DD":["island","desert_island"],"1F3DC":"desert","1F30B":"volcano","26F0":"mountain","1F3D4":["mountain_snow","snow_capped_mountain"],"1F5FB":"mount_fuji","1F3D5":"camping","26FA":"tent","1F3E0":"house","1F3E1":"house_with_garden","1F3D8":["homes","house_buildings"],"1F3DA":["house_abandoned","derelict_house_building"],"1F6D6":"hut","1F3D7":["construction_site","building_construction"],"1F3ED":"factory","1F3E2":"office","1F3EC":"department_store","1F3E3":"post_office","1F3E4":"european_post_office","1F3E5":"hospital","1F3E6":"bank","1F3E8":"hotel","1F3EA":"convenience_store","1F3EB":"school","1F3E9":"love_hotel","1F492":"wedding","1F3DB":"classical_building","26EA":"church","1F54C":"mosque","1F54D":"synagogue","1F6D5":"hindu_temple","1F54B":"kaaba","26E9":"shinto_shrine","1F6E4":["railway_track","railroad_track"],"1F6E3":"motorway","1F5FE":"japan","1F391":"rice_scene","1F3DE":["park","national_park"],"1F305":"sunrise","1F304":"sunrise_over_mountains","1F320":"stars","1F387":"sparkler","1F386":"fireworks","1F307":["city_sunset","city_sunrise"],"1F306":"city_dusk","1F3D9":"cityscape","1F303":"night_with_stars","1F30C":"milky_way","1F309":"bridge_at_night","1F301":"foggy","231A":"watch","1F4F1":"mobile_phone","1F4F2":"calling","1F4BB":"computer","1F5A5":["desktop","desktop_computer"],"1F5A8":"printer","1F5B1":["mouse_three_button","three_button_mouse"],"1F5B2":"trackball","1F579":"joystick","1F5DC":"compression","1F4BD":"minidisc","1F4BE":"floppy_disk","1F4BF":"cd","1F4C0":"dvd","1F4FC":"vhs","1F4F7":"camera","1F4F8":"camera_with_flash","1F4F9":"video_camera","1F3A5":"movie_camera","1F4FD":["projector","film_projector"],"1F39E":"film_frames","1F4DE":"telephone_receiver","260E":"telephone","1F4DF":"pager","1F4E0":"fax","1F4FA":"tv","1F4FB":"radio","1F399":["microphone2","studio_microphone"],"1F39A":"level_slider","1F39B":"control_knobs","1F9ED":"compass","23F1":"stopwatch","23F2":["timer","timer_clock"],"23F0":"alarm_clock","1F570":["clock","mantlepiece_clock"],"231B":"hourglass","23F3":"hourglass_flowing_sand","1F4E1":"satellite","1F50B":"battery","1F50C":"electric_plug","1F4A1":"bulb","1F526":"flashlight","1F56F":"candle","1FA94":"diya_lamp","1F9EF":"fire_extinguisher","1F6E2":["oil","oil_drum"],"1F4B8":"money_with_wings","1F4B5":"dollar","1F4B4":"yen","1F4B6":"euro","1F4B7":"pound","1FA99":"coin","1F4B0":"moneybag","1F4B3":"credit_card","1F48E":"gem","1FA9C":"ladder","1F9F0":"toolbox","1FA9B":"screwdriver","1F527":"wrench","1F528":"hammer","1F6E0":["tools","hammer_and_wrench"],"26CF":"pick","1F529":"nut_and_bolt","1F9F1":"bricks","26D3":"chains","1FA9D":"hook","1FAA2":"knot","1F9F2":"magnet","1F52B":"gun","1F4A3":"bomb","1F9E8":"firecracker","1FA93":"axe","1FA9A":"carpentry_saw","1F52A":"knife","1F5E1":["dagger","dagger_knife"],"1F6E1":"shield","1F6AC":"smoking","26B0":"coffin","1FAA6":"headstone","26B1":["urn","funeral_urn"],"1F3FA":"amphora","1FA84":"magic_wand","1F52E":"crystal_ball","1F4FF":"prayer_beads","1F9FF":"nazar_amulet","1F488":"barber","1F52D":"telescope","1F52C":"microscope","1F573":"hole","1FA9F":"window","1FA79":"adhesive_bandage","1FA7A":"stethoscope","1F48A":"pill","1F489":"syringe","1FA78":"drop_of_blood","1F9EC":"dna","1F9A0":"microbe","1F9EB":"petri_dish","1F9EA":"test_tube","1F321":"thermometer","1FAA4":"mouse_trap","1F9F9":"broom","1F9FA":"basket","1FAA1":"sewing_needle","1F9FB":"roll_of_paper","1F6BD":"toilet","1FAA0":"plunger","1FAA3":"bucket","1F6B0":"potable_water","1F6BF":"shower","1F6C1":"bathtub","1F6C0":"bath","1F6C0-1F3FB":"bath_tone1","1F6C0-1F3FC":"bath_tone2","1F6C0-1F3FD":"bath_tone3","1F6C0-1F3FE":"bath_tone4","1F6C0-1F3FF":"bath_tone5","1FAA5":"toothbrush","1F9FC":"soap","1FA92":"razor","1F9FD":"sponge","1F9F4":"squeeze_bottle","1F6CE":["bellhop","bellhop_bell"],"1F511":"key","1F5DD":["key2","old_key"],"1F6AA":"door","1FA91":"chair","1FA9E":"mirror","1F6CB":["couch","couch_and_lamp"],"1F6CF":"bed","1F6CC":"sleeping_accommodation","1F6CC-1F3FB":["person_in_bed_tone1","person_in_bed_light_skin_tone"],"1F6CC-1F3FC":["person_in_bed_tone2","person_in_bed_medium_light_skin_tone"],"1F6CC-1F3FD":["person_in_bed_tone3","person_in_bed_medium_skin_tone"],"1F6CC-1F3FE":["person_in_bed_tone4","person_in_bed_medium_dark_skin_tone"],"1F6CC-1F3FF":["person_in_bed_tone5","person_in_bed_dark_skin_tone"],"1F9F8":"teddy_bear","1F5BC":["frame_photo","frame_with_picture"],"1F6CD":"shopping_bags","1F6D2":["shopping_cart","shopping_trolley"],"1F381":"gift","1F388":"balloon","1F38F":"flags","1F380":"ribbon","1F38A":"confetti_ball","1F389":"tada","1FA85":"pinata","1FA86":"nesting_dolls","1F38E":"dolls","1F3EE":"izakaya_lantern","1F390":"wind_chime","1F9E7":"red_envelope","1F4E9":"envelope_with_arrow","1F4E8":"incoming_envelope","1F4E7":["e-mail","email"],"1F48C":"love_letter","1F4E5":"inbox_tray","1F4E4":"outbox_tray","1F4E6":"package","1F3F7":"label","1F4EA":"mailbox_closed","1F4EB":"mailbox","1F4EC":"mailbox_with_mail","1F4ED":"mailbox_with_no_mail","1F4EE":"postbox","1F4EF":"postal_horn","1FAA7":"placard","1F4DC":"scroll","1F4C3":"page_with_curl","1F4C4":"page_facing_up","1F4D1":"bookmark_tabs","1F9FE":"receipt","1F4CA":"bar_chart","1F4C8":"chart_with_upwards_trend","1F4C9":"chart_with_downwards_trend","1F5D2":["notepad_spiral","spiral_note_pad"],"1F5D3":["calendar_spiral","spiral_calendar_pad"],"1F4C6":"calendar","1F4C5":"date","1F5D1":"wastebasket","1F4C7":"card_index","1F5C3":["card_box","card_file_box"],"1F5F3":["ballot_box","ballot_box_with_ballot"],"1F5C4":"file_cabinet","1F4CB":"clipboard","1F4C1":"file_folder","1F4C2":"open_file_folder","1F5C2":["dividers","card_index_dividers"],"1F5DE":["newspaper2","rolled_up_newspaper"],"1F4F0":"newspaper","1F4D3":"notebook","1F4D4":"notebook_with_decorative_cover","1F4D2":"ledger","1F4D5":"closed_book","1F4D7":"green_book","1F4D8":"blue_book","1F4D9":"orange_book","1F4DA":"books","1F4D6":"book","1F516":"bookmark","1F9F7":"safety_pin","1F517":"link","1F4CE":"paperclip","1F587":["paperclips","linked_paperclips"],"1F4D0":"triangular_ruler","1F4CF":"straight_ruler","1F9EE":"abacus","1F4CC":"pushpin","1F4CD":"round_pushpin","1F58A":["pen_ballpoint","lower_left_ballpoint_pen"],"1F58B":["pen_fountain","lower_left_fountain_pen"],"1F58C":["paintbrush","lower_left_paintbrush"],"1F58D":["crayon","lower_left_crayon"],"1F4DD":["pencil","memo"],"270F":"pencil2","1F50D":"mag","1F50E":"mag_right","1F50F":"lock_with_ink_pen","1F510":"closed_lock_with_key","1F512":"lock","1F513":"unlock","1F9E1":"orange_heart","1F49B":"yellow_heart","1F49A":"green_heart","1F499":"blue_heart","1F49C":"purple_heart","1F5A4":"black_heart","1F90E":"brown_heart","1F90D":"white_heart","1F494":"broken_heart","1F495":"two_hearts","1F49E":"revolving_hearts","1F493":"heartbeat","1F497":"heartpulse","1F496":"sparkling_heart","1F498":"cupid","1F49D":"gift_heart","2764-FE0F-200D-1FA79":"mending_heart","2764-FE0F-200D-1F525":"heart_on_fire","1F49F":"heart_decoration","262E":["peace","peace_symbol"],"271D":["cross","latin_cross"],"262A":"star_and_crescent","1F549":"om_symbol","1F52F":"six_pointed_star","1F54E":"menorah","262F":"yin_yang","1F6D0":["place_of_worship","worship_symbol"],"26CE":"ophiuchus","264A":"gemini","264B":"cancer","264C":"leo","264D":"virgo","264E":"libra","264F":"scorpius","1F194":"id","269B":["atom","atom_symbol"],"1F251":"accept","1F4F4":"mobile_phone_off","1F4F3":"vibration_mode","1F236":"u6709","1F21A":"u7121","1F238":"u7533","1F23A":"u55b6","1F237":"u6708","1F19A":"vs","1F4AE":"white_flower","1F250":"ideograph_advantage","1F234":"u5408","1F235":"u6e80","1F239":"u5272","1F232":"u7981","1F170":"a","1F171":"b","1F18E":"ab","1F191":"cl","1F17E":"o2","1F198":"sos","274C":"x","2B55":"o","1F6D1":["octagonal_sign","stop_sign"],"26D4":"no_entry","1F4DB":"name_badge","1F6AB":"no_entry_sign","1F4AF":"100","1F4A2":"anger","1F6B7":"no_pedestrians","1F6AF":"do_not_litter","1F6B3":"no_bicycles","1F6B1":"non-potable_water","1F51E":"underage","1F4F5":"no_mobile_phones","1F6AD":"no_smoking","203C":"bangbang","1F505":"low_brightness","1F506":"high_brightness","303D":"part_alternation_mark","26A0":"warning","1F6B8":"children_crossing","1F531":"trident","269C":"fleur-de-lis","1F530":"beginner","267B":"recycle","1F22F":"u6307","1F4B9":"chart","274E":"negative_squared_cross_mark","1F310":"globe_with_meridians","1F4A0":"diamond_shape_with_a_dot_inside","24C2":"m","1F300":"cyclone","1F4A4":"zzz","1F3E7":"atm","1F6BE":"wc","267F":"wheelchair","1F17F":"parking","1F233":"u7a7a","1F202":"sa","1F6C2":"passport_control","1F6C3":"customs","1F6C4":"baggage_claim","1F6C5":"left_luggage","1F6D7":"elevator","1F6B9":"mens","1F6BA":"womens","1F6BC":"baby_symbol","1F6BB":"restroom","1F6AE":"put_litter_in_its_place","1F3A6":"cinema","1F4F6":"signal_strength","1F201":"koko","1F523":"symbols","1F524":"abc","1F521":"abcd","1F520":"capital_abcd","1F196":"ng","1F197":"ok","1F199":"up","1F192":"cool","1F195":"new","1F193":"free","0030-FE0F-20E3":"zero","0031-FE0F-20E3":"one","0032-FE0F-20E3":"two","0033-FE0F-20E3":"three","0034-FE0F-20E3":"four","0035-FE0F-20E3":"five","0036-FE0F-20E3":"six","0037-FE0F-20E3":"seven","0038-FE0F-20E3":"eight","0039-FE0F-20E3":"nine","1F51F":"keycap_ten","1F522":"1234","0023-FE0F-20E3":"hash","002A-FE0F-20E3":["asterisk","keycap_asterisk"],"23CF":["eject","eject_symbol"],"25B6":"arrow_forward","23F8":["pause_button","double_vertical_bar"],"23EF":"play_pause","23F9":"stop_button","23FA":"record_button","23ED":["track_next","next_track"],"23EE":["track_previous","previous_track"],"23E9":"fast_forward","23EA":"rewind","23EB":"arrow_double_up","23EC":"arrow_double_down","25C0":"arrow_backward","1F53C":"arrow_up_small","1F53D":"arrow_down_small","27A1":"arrow_right","2B05":"arrow_left","2B06":"arrow_up","2B07":"arrow_down","21AA":"arrow_right_hook","21A9":"leftwards_arrow_with_hook","1F500":"twisted_rightwards_arrows","1F501":"repeat","1F502":"repeat_one","1F504":"arrows_counterclockwise","1F503":"arrows_clockwise","1F3B5":"musical_note","1F3B6":"notes","267E":"infinity","1F4B2":"heavy_dollar_sign","1F4B1":"currency_exchange","00A9":"copyright","00AE":"registered","27B0":"curly_loop","27BF":"loop","1F51A":"end","1F519":"back","1F51B":"on","1F51D":"top","1F51C":"soon","1F518":"radio_button","26AA":"white_circle","26AB":"black_circle","1F534":"red_circle","1F535":"blue_circle","1F7E4":"brown_circle","1F7E3":"purple_circle","1F7E2":"green_circle","1F7E1":"yellow_circle","1F7E0":"orange_circle","1F53A":"small_red_triangle","1F53B":"small_red_triangle_down","1F538":"small_orange_diamond","1F539":"small_blue_diamond","1F536":"large_orange_diamond","1F537":"large_blue_diamond","1F533":"white_square_button","1F532":"black_square_button","25AA":"black_small_square","25AB":"white_small_square","25FE":"black_medium_small_square","25FD":"white_medium_small_square","25FC":"black_medium_square","25FB":"white_medium_square","2B1B":"black_large_square","2B1C":"white_large_square","1F7E7":"orange_square","1F7E6":"blue_square","1F7E5":"red_square","1F7EB":"brown_square","1F7EA":"purple_square","1F7E9":"green_square","1F7E8":"yellow_square","1F508":"speaker","1F507":"mute","1F509":"sound","1F50A":"loud_sound","1F514":"bell","1F515":"no_bell","1F4E3":"mega","1F4E2":"loudspeaker","1F5E8":["speech_left","left_speech_bubble"],"1F441-FE0F-200D-1F5E8-FE0F":"eye_in_speech_bubble","1F4AC":"speech_balloon","1F4AD":"thought_balloon","1F5EF":["anger_right","right_anger_bubble"],"1F0CF":"black_joker","1F3B4":"flower_playing_cards","1F004":"mahjong","1F550":"clock1","1F551":"clock2","1F552":"clock3","1F553":"clock4","1F554":"clock5","1F555":"clock6","1F556":"clock7","1F557":"clock8","1F558":"clock9","1F559":"clock10","1F55A":"clock11","1F55B":"clock12","1F55C":"clock130","1F55D":"clock230","1F55E":"clock330","1F55F":"clock430","1F560":"clock530","1F561":"clock630","1F562":"clock730","1F563":"clock830","1F564":"clock930","1F565":"clock1030","1F566":"clock1130","1F567":"clock1230","26A7":"transgender_symbol","1F3F3":["flag_white","waving_white_flag"],"1F3F4":["flag_black","waving_black_flag"],"1F3C1":"checkered_flag","1F6A9":"triangular_flag_on_post","1F3F3-FE0F-200D-1F308":["rainbow_flag","gay_pride_flag"],"1F3F3-FE0F-200D-26A7-FE0F":"transgender_flag","1F3F4-200D-2620-FE0F":"pirate_flag","1F1E6-1F1EB":["flag_af","af"],"1F1E6-1F1FD":["flag_ax","ax"],"1F1E6-1F1F1":["flag_al","al"],"1F1E9-1F1FF":["flag_dz","dz"],"1F1E6-1F1F8":["flag_as","as"],"1F1E6-1F1E9":["flag_ad","ad"],"1F1E6-1F1F4":["flag_ao","ao"],"1F1E6-1F1EE":["flag_ai","ai"],"1F1E6-1F1F6":["flag_aq","aq"],"1F1E6-1F1EC":["flag_ag","ag"],"1F1E6-1F1F7":["flag_ar","ar"],"1F1E6-1F1F2":["flag_am","am"],"1F1E6-1F1FC":["flag_aw","aw"],"1F1E6-1F1FA":["flag_au","au"],"1F1E6-1F1F9":["flag_at","at"],"1F1E6-1F1FF":["flag_az","az"],"1F1E7-1F1F8":["flag_bs","bs"],"1F1E7-1F1ED":["flag_bh","bh"],"1F1E7-1F1E9":["flag_bd","bd"],"1F1E7-1F1E7":["flag_bb","bb"],"1F1E7-1F1FE":["flag_by","by"],"1F1E7-1F1EA":["flag_be","be"],"1F1E7-1F1FF":["flag_bz","bz"],"1F1E7-1F1EF":["flag_bj","bj"],"1F1E7-1F1F2":["flag_bm","bm"],"1F1E7-1F1F9":["flag_bt","bt"],"1F1E7-1F1F4":["flag_bo","bo"],"1F1E7-1F1E6":["flag_ba","ba"],"1F1E7-1F1FC":["flag_bw","bw"],"1F1E7-1F1F7":["flag_br","br"],"1F1EE-1F1F4":["flag_io","io"],"1F1FB-1F1EC":["flag_vg","vg"],"1F1E7-1F1F3":["flag_bn","bn"],"1F1E7-1F1EC":["flag_bg","bg"],"1F1E7-1F1EB":["flag_bf","bf"],"1F1E7-1F1EE":["flag_bi","bi"],"1F1F0-1F1ED":["flag_kh","kh"],"1F1E8-1F1F2":["flag_cm","cm"],"1F1E8-1F1E6":["flag_ca","ca"],"1F1EE-1F1E8":["flag_ic","ic"],"1F1E8-1F1FB":["flag_cv","cv"],"1F1E7-1F1F6":["flag_bq","bq"],"1F1F0-1F1FE":["flag_ky","ky"],"1F1E8-1F1EB":["flag_cf","cf"],"1F1F9-1F1E9":["flag_td","td"],"1F1E8-1F1F1":["flag_cl","chile"],"1F1E8-1F1F3":["flag_cn","cn"],"1F1E8-1F1FD":["flag_cx","cx"],"1F1E8-1F1E8":["flag_cc","cc"],"1F1E8-1F1F4":["flag_co","co"],"1F1F0-1F1F2":["flag_km","km"],"1F1E8-1F1EC":["flag_cg","cg"],"1F1E8-1F1E9":["flag_cd","congo"],"1F1E8-1F1F0":["flag_ck","ck"],"1F1E8-1F1F7":["flag_cr","cr"],"1F1E8-1F1EE":["flag_ci","ci"],"1F1ED-1F1F7":["flag_hr","hr"],"1F1E8-1F1FA":["flag_cu","cu"],"1F1E8-1F1FC":["flag_cw","cw"],"1F1E8-1F1FE":["flag_cy","cy"],"1F1E8-1F1FF":["flag_cz","cz"],"1F1E9-1F1F0":["flag_dk","dk"],"1F1E9-1F1EF":["flag_dj","dj"],"1F1E9-1F1F2":["flag_dm","dm"],"1F1E9-1F1F4":["flag_do","do"],"1F1EA-1F1E8":["flag_ec","ec"],"1F1EA-1F1EC":["flag_eg","eg"],"1F1F8-1F1FB":["flag_sv","sv"],"1F1EC-1F1F6":["flag_gq","gq"],"1F1EA-1F1F7":["flag_er","er"],"1F1EA-1F1EA":["flag_ee","ee"],"1F1EA-1F1F9":["flag_et","et"],"1F1EA-1F1FA":["flag_eu","eu"],"1F1EB-1F1F0":["flag_fk","fk"],"1F1EB-1F1F4":["flag_fo","fo"],"1F1EB-1F1EF":["flag_fj","fj"],"1F1EB-1F1EE":["flag_fi","fi"],"1F1EB-1F1F7":["flag_fr","fr"],"1F1EC-1F1EB":["flag_gf","gf"],"1F1F5-1F1EB":["flag_pf","pf"],"1F1F9-1F1EB":["flag_tf","tf"],"1F1EC-1F1E6":["flag_ga","ga"],"1F1EC-1F1F2":["flag_gm","gm"],"1F1EC-1F1EA":["flag_ge","ge"],"1F1E9-1F1EA":["flag_de","de"],"1F1EC-1F1ED":["flag_gh","gh"],"1F1EC-1F1EE":["flag_gi","gi"],"1F1EC-1F1F7":["flag_gr","gr"],"1F1EC-1F1F1":["flag_gl","gl"],"1F1EC-1F1E9":["flag_gd","gd"],"1F1EC-1F1F5":["flag_gp","gp"],"1F1EC-1F1FA":["flag_gu","gu"],"1F1EC-1F1F9":["flag_gt","gt"],"1F1EC-1F1EC":["flag_gg","gg"],"1F1EC-1F1F3":["flag_gn","gn"],"1F1EC-1F1FC":["flag_gw","gw"],"1F1EC-1F1FE":["flag_gy","gy"],"1F1ED-1F1F9":["flag_ht","ht"],"1F1ED-1F1F3":["flag_hn","hn"],"1F1ED-1F1F0":["flag_hk","hk"],"1F1ED-1F1FA":["flag_hu","hu"],"1F1EE-1F1F8":["flag_is","is"],"1F1EE-1F1F3":["flag_in","in"],"1F1EE-1F1E9":["flag_id","indonesia"],"1F1EE-1F1F7":["flag_ir","ir"],"1F1EE-1F1F6":["flag_iq","iq"],"1F1EE-1F1EA":["flag_ie","ie"],"1F1EE-1F1F2":["flag_im","im"],"1F1EE-1F1F1":["flag_il","il"],"1F1EE-1F1F9":["flag_it","it"],"1F1EF-1F1F2":["flag_jm","jm"],"1F1EF-1F1F5":["flag_jp","jp"],"1F38C":"crossed_flags","1F1EF-1F1EA":["flag_je","je"],"1F1EF-1F1F4":["flag_jo","jo"],"1F1F0-1F1FF":["flag_kz","kz"],"1F1F0-1F1EA":["flag_ke","ke"],"1F1F0-1F1EE":["flag_ki","ki"],"1F1FD-1F1F0":["flag_xk","xk"],"1F1F0-1F1FC":["flag_kw","kw"],"1F1F0-1F1EC":["flag_kg","kg"],"1F1F1-1F1E6":["flag_la","la"],"1F1F1-1F1FB":["flag_lv","lv"],"1F1F1-1F1E7":["flag_lb","lb"],"1F1F1-1F1F8":["flag_ls","ls"],"1F1F1-1F1F7":["flag_lr","lr"],"1F1F1-1F1FE":["flag_ly","ly"],"1F1F1-1F1EE":["flag_li","li"],"1F1F1-1F1F9":["flag_lt","lt"],"1F1F1-1F1FA":["flag_lu","lu"],"1F1F2-1F1F4":["flag_mo","mo"],"1F1F2-1F1F0":["flag_mk","mk"],"1F1F2-1F1EC":["flag_mg","mg"],"1F1F2-1F1FC":["flag_mw","mw"],"1F1F2-1F1FE":["flag_my","my"],"1F1F2-1F1FB":["flag_mv","mv"],"1F1F2-1F1F1":["flag_ml","ml"],"1F1F2-1F1F9":["flag_mt","mt"],"1F1F2-1F1ED":["flag_mh","mh"],"1F1F2-1F1F6":["flag_mq","mq"],"1F1F2-1F1F7":["flag_mr","mr"],"1F1F2-1F1FA":["flag_mu","mu"],"1F1FE-1F1F9":["flag_yt","yt"],"1F1F2-1F1FD":["flag_mx","mx"],"1F1EB-1F1F2":["flag_fm","fm"],"1F1F2-1F1E9":["flag_md","md"],"1F1F2-1F1E8":["flag_mc","mc"],"1F1F2-1F1F3":["flag_mn","mn"],"1F1F2-1F1EA":["flag_me","me"],"1F1F2-1F1F8":["flag_ms","ms"],"1F1F2-1F1E6":["flag_ma","ma"],"1F1F2-1F1FF":["flag_mz","mz"],"1F1F2-1F1F2":["flag_mm","mm"],"1F1F3-1F1E6":["flag_na","na"],"1F1F3-1F1F7":["flag_nr","nr"],"1F1F3-1F1F5":["flag_np","np"],"1F1F3-1F1F1":["flag_nl","nl"],"1F1F3-1F1E8":["flag_nc","nc"],"1F1F3-1F1FF":["flag_nz","nz"],"1F1F3-1F1EE":["flag_ni","ni"],"1F1F3-1F1EA":["flag_ne","ne"],"1F1F3-1F1EC":["flag_ng","nigeria"],"1F1F3-1F1FA":["flag_nu","nu"],"1F1F3-1F1EB":["flag_nf","nf"],"1F1F0-1F1F5":["flag_kp","kp"],"1F1F2-1F1F5":["flag_mp","mp"],"1F1F3-1F1F4":["flag_no","no"],"1F1F4-1F1F2":["flag_om","om"],"1F1F5-1F1F0":["flag_pk","pk"],"1F1F5-1F1FC":["flag_pw","pw"],"1F1F5-1F1F8":["flag_ps","ps"],"1F1F5-1F1E6":["flag_pa","pa"],"1F1F5-1F1EC":["flag_pg","pg"],"1F1F5-1F1FE":["flag_py","py"],"1F1F5-1F1EA":["flag_pe","pe"],"1F1F5-1F1ED":["flag_ph","ph"],"1F1F5-1F1F3":["flag_pn","pn"],"1F1F5-1F1F1":["flag_pl","pl"],"1F1F5-1F1F9":["flag_pt","pt"],"1F1F5-1F1F7":["flag_pr","pr"],"1F1F6-1F1E6":["flag_qa","qa"],"1F1F7-1F1EA":["flag_re","re"],"1F1F7-1F1F4":["flag_ro","ro"],"1F1F7-1F1FA":["flag_ru","ru"],"1F1F7-1F1FC":["flag_rw","rw"],"1F1FC-1F1F8":["flag_ws","ws"],"1F1F8-1F1F2":["flag_sm","sm"],"1F1F8-1F1F9":["flag_st","st"],"1F1F8-1F1E6":["flag_sa","saudiarabia","saudi"],"1F1F8-1F1F3":["flag_sn","sn"],"1F1F7-1F1F8":["flag_rs","rs"],"1F1F8-1F1E8":["flag_sc","sc"],"1F1F8-1F1F1":["flag_sl","sl"],"1F1F8-1F1EC":["flag_sg","sg"],"1F1F8-1F1FD":["flag_sx","sx"],"1F1F8-1F1F0":["flag_sk","sk"],"1F1F8-1F1EE":["flag_si","si"],"1F1EC-1F1F8":["flag_gs","gs"],"1F1F8-1F1E7":["flag_sb","sb"],"1F1F8-1F1F4":["flag_so","so"],"1F1FF-1F1E6":["flag_za","za"],"1F1F0-1F1F7":["flag_kr","kr"],"1F1F8-1F1F8":["flag_ss","ss"],"1F1EA-1F1F8":["flag_es","es"],"1F1F1-1F1F0":["flag_lk","lk"],"1F1E7-1F1F1":["flag_bl","bl"],"1F1F8-1F1ED":["flag_sh","sh"],"1F1F0-1F1F3":["flag_kn","kn"],"1F1F1-1F1E8":["flag_lc","lc"],"1F1F5-1F1F2":["flag_pm","pm"],"1F1FB-1F1E8":["flag_vc","vc"],"1F1F8-1F1E9":["flag_sd","sd"],"1F1F8-1F1F7":["flag_sr","sr"],"1F1F8-1F1FF":["flag_sz","sz"],"1F1F8-1F1EA":["flag_se","se"],"1F1E8-1F1ED":["flag_ch","ch"],"1F1F8-1F1FE":["flag_sy","sy"],"1F1F9-1F1FC":["flag_tw","tw"],"1F1F9-1F1EF":["flag_tj","tj"],"1F1F9-1F1FF":["flag_tz","tz"],"1F1F9-1F1ED":["flag_th","th"],"1F1F9-1F1F1":["flag_tl","tl"],"1F1F9-1F1EC":["flag_tg","tg"],"1F1F9-1F1F0":["flag_tk","tk"],"1F1F9-1F1F4":["flag_to","to"],"1F1F9-1F1F9":["flag_tt","tt"],"1F1F9-1F1F3":["flag_tn","tn"],"1F1F9-1F1F7":["flag_tr","tr"],"1F1F9-1F1F2":["flag_tm","turkmenistan"],"1F1F9-1F1E8":["flag_tc","tc"],"1F1FB-1F1EE":["flag_vi","vi"],"1F1F9-1F1FB":["flag_tv","tuvalu"],"1F1FA-1F1EC":["flag_ug","ug"],"1F1FA-1F1E6":["flag_ua","ua"],"1F1E6-1F1EA":["flag_ae","ae"],"1F1EC-1F1E7":["flag_gb","gb"],"1F3F4-E0067-E0062-E0065-E006E-E0067-E007F":"england","1F3F4-E0067-E0062-E0073-E0063-E0074-E007F":"scotland","1F3F4-E0067-E0062-E0077-E006C-E0073-E007F":"wales","1F1FA-1F1F8":["flag_us","us"],"1F1FA-1F1FE":["flag_uy","uy"],"1F1FA-1F1FF":["flag_uz","uz"],"1F1FB-1F1FA":["flag_vu","vu"],"1F1FB-1F1E6":["flag_va","va"],"1F1FB-1F1EA":["flag_ve","ve"],"1F1FB-1F1F3":["flag_vn","vn"],"1F1FC-1F1EB":["flag_wf","wf"],"1F1EA-1F1ED":["flag_eh","eh"],"1F1FE-1F1EA":["flag_ye","ye"],"1F1FF-1F1F2":["flag_zm","zm"],"1F1FF-1F1FC":["flag_zw","zw"],"1F1E6-1F1E8":["flag_ac","ac"],"1F1E7-1F1FB":["flag_bv","bv"],"1F1E8-1F1F5":["flag_cp","cp"],"1F1EA-1F1E6":["flag_ea","ea"],"1F1E9-1F1EC":["flag_dg","dg"],"1F1ED-1F1F2":["flag_hm","hm"],"1F1F2-1F1EB":["flag_mf","mf"],"1F1F8-1F1EF":["flag_sj","sj"],"1F1F9-1F1E6":["flag_ta","ta"],"1F1FA-1F1F2":["flag_um","um"],"1F1FA-1F1F3":"united_nations","1F3FB":"tone1","1F3FC":"tone2","1F3FD":"tone3","1F3FE":"tone4","1F3FF":"tone5","1F1FF":"regional_indicator_z","1F1FE":"regional_indicator_y","1F1FD":"regional_indicator_x","1F1FC":"regional_indicator_w","1F1FB":"regional_indicator_v","1F1FA":"regional_indicator_u","1F1F9":"regional_indicator_t","1F1F8":"regional_indicator_s","1F1F7":"regional_indicator_r","1F1F6":"regional_indicator_q","1F1F5":"regional_indicator_p","1F1F4":"regional_indicator_o","1F1F3":"regional_indicator_n","1F1F2":"regional_indicator_m","1F1F1":"regional_indicator_l","1F1F0":"regional_indicator_k","1F1EF":"regional_indicator_j","1F1EE":"regional_indicator_i","1F1ED":"regional_indicator_h","1F1EC":"regional_indicator_g","1F1EB":"regional_indicator_f","1F1EA":"regional_indicator_e","1F1E9":"regional_indicator_d","1F1E8":"regional_indicator_c","1F1E7":"regional_indicator_b","1F1E6":"regional_indicator_a"},FW={2049:["exclamation_question","interrobang"],2122:["tm","trade_mark"],2139:["info","information_source"],2194:"left_right_arrow",2195:"arrow_up_down",2196:"arrow_upper_left",2197:"arrow_upper_right",2198:"arrow_lower_right",2199:"arrow_lower_left",2328:"keyboard",2600:"sun",2601:"cloud",2602:"umbrella",2603:"snowman2",2604:"comet",2611:"ballot_box_with_check",2614:"umbrella_with_rain",2615:"coffee",2618:"shamrock",2620:"skull_and_crossbones",2622:"radioactive",2623:"biohazard",2626:"orthodox_cross",2638:"wheel_of_dharma",2639:"white_frowning_face",2640:["female","female_sign"],2642:["male","male_sign"],2648:"aries",2649:"taurus",2650:"sagittarius",2651:"capricorn",2652:"aquarius",2653:"pisces",2660:"spades",2663:"clubs",2665:"hearts",2666:"diamonds",2668:"hotsprings",2692:"hammer_and_pick",2693:"anchor",2694:"crossed_swords",2695:["medical","medical_symbol"],2696:"scales",2697:"alembic",2699:"gear",2702:"scissors",2705:["check_mark_button","white_check_mark"],2708:"airplane",2709:"envelope",2712:"black_nib",2714:["check_mark","heavy_check_mark"],2716:["multiplication","multiply"],2721:"star_of_david",2728:"sparkles",2733:"eight_spoked_asterisk",2734:"eight_pointed_black_star",2744:"snowflake",2747:"sparkle",2753:"question",2754:"white_question",2755:"white_exclamation",2757:"exclamation",2763:"heart_exclamation",2764:["heart","red_heart"],2795:"plus",2796:"minus",2797:["divide","division"],2934:"arrow_heading_up",2935:"arrow_heading_down",3030:"wavy_dash",3297:["congratulations","ja_congratulations"],3299:["ja_secret","secret"],"00A9":"copyright","00AE":"registered","203C":["bangbang","double_exclamation"],"21A9":["arrow_left_hook","leftwards_arrow_with_hook"],"21AA":["arrow_right_hook","rightwards_arrow_with_hook"],"231A":"watch","231B":"hourglass","23CF":"eject","23E9":"fast_forward","23EA":["fast_reverse","rewind"],"23EB":["arrow_double_up","fast_up"],"23EC":["arrow_double_down","fast_down"],"23ED":"next_track","23EE":"previous_track","23EF":"play_pause","23F0":"alarm_clock","23F1":"stopwatch","23F2":"timer_clock","23F3":"hourglass_flowing_sand","23F8":"pause","23F9":"stop","23FA":"record","24C2":"m","25AA":"black_small_square","25AB":"white_small_square","25B6":["arrow_forward","play"],"25C0":["arrow_backward","reverse"],"25FB":"white_medium_square","25FC":"black_medium_square","25FD":"white_medium_small_square","25FE":"black_medium_small_square","260E":"telephone","261D":"point_up_2","261D-1F3FB":"point_up_2_tone1","261D-1F3FC":"point_up_2_tone2","261D-1F3FD":"point_up_2_tone3","261D-1F3FE":"point_up_2_tone4","261D-1F3FF":"point_up_2_tone5","262A":"star_and_crescent","262E":["peace","peace_symbol"],"262F":"yin_yang","263A":["relaxed","smiling_face"],"264A":"gemini","264B":"cancer","264C":"leo","264D":"virgo","264E":"libra","264F":"scorpius","265F":"chess_pawn","267B":["recycle","recycling_symbol"],"267E":"infinity","267F":["handicapped","wheelchair"],"269B":["atom","atom_symbol"],"269C":"fleur-de-lis","26A0":"warning","26A1":["high_voltage","zap"],"26A7":"transgender_symbol","26AA":"white_circle","26AB":"black_circle","26B0":"coffin","26B1":"funeral_urn","26BD":"soccer","26BE":"baseball","26C4":"snowman","26C5":["partly_sunny","sun_behind_cloud"],"26C8":["stormy","thunder_cloud_and_rain"],"26CE":"ophiuchus","26CF":"pick","26D1":["helmet_with_cross","rescue_worker_helmet"],"26D3":"chains","26D4":"no_entry","26E9":"shinto_shrine","26EA":"church","26F0":"mountain","26F1":["beach_umbrella","umbrella_on_ground"],"26F2":"fountain","26F3":"golf","26F4":"ferry","26F5":"sailboat","26F7":["person_skiing","skier","skiing"],"26F8":"ice_skate","26F9":"person_bouncing_ball","26F9-1F3FB":"person_bouncing_ball_tone1","26F9-1F3FC":"person_bouncing_ball_tone2","26F9-1F3FD":"person_bouncing_ball_tone3","26F9-1F3FE":"person_bouncing_ball_tone4","26F9-1F3FF":"person_bouncing_ball_tone5","26FA":"tent","26FD":"fuelpump","270A":"fist","270A-1F3FB":"fist_tone1","270A-1F3FC":"fist_tone2","270A-1F3FD":"fist_tone3","270A-1F3FE":"fist_tone4","270A-1F3FF":"fist_tone5","270B":["high_five","raised_hand"],"270B-1F3FB":["high_five_tone1","raised_hand_tone1"],"270B-1F3FC":["high_five_tone2","raised_hand_tone2"],"270B-1F3FD":["high_five_tone3","raised_hand_tone3"],"270B-1F3FE":["high_five_tone4","raised_hand_tone4"],"270B-1F3FF":["high_five_tone5","raised_hand_tone5"],"270C":["v","victory"],"270C-1F3FB":["v_tone1","victory_tone1"],"270C-1F3FC":["v_tone2","victory_tone2"],"270C-1F3FD":["v_tone3","victory_tone3"],"270C-1F3FE":["v_tone4","victory_tone4"],"270C-1F3FF":["v_tone5","victory_tone5"],"270D":"writing_hand","270D-1F3FB":"writing_hand_tone1","270D-1F3FC":"writing_hand_tone2","270D-1F3FD":"writing_hand_tone3","270D-1F3FE":"writing_hand_tone4","270D-1F3FF":"writing_hand_tone5","270F":"pencil","271D":"latin_cross","274C":["cross_mark","x"],"274E":["cross_mark_button","negative_squared_cross_mark"],"27A1":"arrow_right","27B0":"curly_loop","27BF":["double_curly_loop","loop"],"2B05":"arrow_left","2B06":"arrow_up","2B07":"arrow_down","2B1B":"black_large_square","2B1C":"white_large_square","2B50":"star","2B55":["hollow_red_circle","red_o"],"303D":"part_alternation_mark","1F004":"mahjong","1F0CF":"black_joker","1F170":["a","a_blood"],"1F171":["b","b_blood"],"1F17E":["o","o_blood"],"1F17F":"parking","1F18E":["ab","ab_blood"],"1F191":"cl","1F192":"cool","1F193":"free","1F194":"id","1F195":"new","1F196":"ng","1F197":"ok","1F198":"sos","1F199":"up2","1F19A":"vs","1F1E6":"regional_indicator_a","1F1E7":"regional_indicator_b","1F1E8":"regional_indicator_c","1F1E9":"regional_indicator_d","1F1EA":"regional_indicator_e","1F1EB":"regional_indicator_f","1F1EC":"regional_indicator_g","1F1ED":"regional_indicator_h","1F1EE":"regional_indicator_i","1F1EF":"regional_indicator_j","1F1F0":"regional_indicator_k","1F1F1":"regional_indicator_l","1F1F2":"regional_indicator_m","1F1F3":"regional_indicator_n","1F1F4":"regional_indicator_o","1F1F5":"regional_indicator_p","1F1F6":"regional_indicator_q","1F1F7":"regional_indicator_r","1F1F8":"regional_indicator_s","1F1F9":"regional_indicator_t","1F1FA":"regional_indicator_u","1F1FB":"regional_indicator_v","1F1FC":"regional_indicator_w","1F1FD":"regional_indicator_x","1F1FE":"regional_indicator_y","1F1FF":"regional_indicator_z","1F201":["ja_here","koko"],"1F202":"ja_service_charge","1F21A":"ja_free_of_charge","1F22F":"ja_reserved","1F232":"ja_prohibited","1F233":"ja_vacancy","1F234":"ja_passing_grade","1F235":"ja_no_vacancy","1F236":"ja_not_free_of_carge","1F237":"ja_monthly_amount","1F238":"ja_application","1F239":"ja_discount","1F23A":"ja_open_for_business","1F250":["ideograph_advantage","ja_bargain"],"1F251":["accept","ja_acceptable"],"1F300":"cyclone","1F301":"foggy","1F302":"closed_umbrella","1F303":"night_with_stars","1F304":"sunrise_over_mountains","1F305":"sunrise","1F306":"city_dusk","1F307":["city_sunrise","city_sunset"],"1F308":"rainbow","1F309":"bridge_at_night","1F30A":["ocean","water_wave"],"1F30B":"volcano","1F30C":"milky_way","1F30D":["earth_africa","earth_europe"],"1F30E":"earth_americas","1F30F":"earth_asia","1F310":"globe_with_meridians","1F311":"new_moon","1F312":"waxing_crescent_moon","1F313":"first_quarter_moon","1F314":"waxing_gibbous_moon","1F315":"full_moon","1F316":"waning_gibbous_moon","1F317":"last_quarter_moon","1F318":"waning_crescent_moon","1F319":"crescent_moon","1F31A":"new_moon_with_face","1F31B":"first_quarter_moon_with_face","1F31C":"last_quarter_moon_with_face","1F31D":"full_moon_with_face","1F31E":"sun_with_face","1F31F":["glowing_star","star2"],"1F320":["shooting_star","stars"],"1F321":"thermometer","1F324":["sun_behind_small_cloud","sunny"],"1F325":["cloudy","sun_behind_large_cloud"],"1F326":["sun_and_rain","sun_behind_rain_cloud"],"1F327":["cloud_with_rain","rainy"],"1F328":["cloud_with_snow","snowy"],"1F329":["cloud_with_lightning","lightning"],"1F32A":"tornado","1F32B":"fog","1F32C":"wind_blowing_face","1F32D":"hotdog","1F32E":"taco","1F32F":"burrito","1F330":"chestnut","1F331":"seedling","1F332":"evergreen_tree","1F333":"deciduous_tree","1F334":"palm_tree","1F335":"cactus","1F336":"hot_pepper","1F337":"tulip","1F338":"cherry_blossom","1F339":"rose","1F33A":"hibiscus","1F33B":"sunflower","1F33C":"blossom","1F33D":["corn","ear_of_corn"],"1F33E":["ear_of_rice","sheaf_of_rice"],"1F33F":"herb","1F340":"four_leaf_clover","1F341":"maple_leaf","1F342":"fallen_leaf","1F343":"leaves","1F344":"mushroom","1F345":"tomato","1F346":"eggplant","1F347":"grapes","1F348":"melon","1F349":"watermelon","1F34A":["orange","tangerine"],"1F34B":"lemon","1F34C":"banana","1F34D":"pineapple","1F34E":["apple","red_apple"],"1F34F":"green_apple","1F350":"pear","1F351":"peach","1F352":"cherries","1F353":"strawberry","1F354":"hamburger","1F355":"pizza","1F356":"meat_on_bone","1F357":"poultry_leg","1F358":"rice_cracker","1F359":"rice_ball","1F35A":["cooked_rice","rice"],"1F35B":["curry","curry_rice"],"1F35C":["ramen","steaming_bowl"],"1F35D":"spaghetti","1F35E":"bread","1F35F":["french_fries","fries"],"1F360":"sweet_potato","1F361":"dango","1F362":"oden","1F363":"sushi","1F364":"fried_shrimp","1F365":"fish_cake","1F366":["icecream","soft_serve"],"1F367":"shaved_ice","1F368":"ice_cream","1F369":"doughnut","1F36A":"cookie","1F36B":"chocolate_bar","1F36C":"candy","1F36D":"lollipop","1F36E":"custard","1F36F":"honey_pot","1F370":["cake","shortcake"],"1F371":["bento","bento_box"],"1F372":["pot_of_food","stew"],"1F373":["cooking","fried_egg"],"1F374":"fork_and_knife","1F375":"tea","1F376":"sake","1F377":"wine_glass","1F378":"cocktail","1F379":"tropical_drink","1F37A":"beer","1F37B":"beers","1F37C":"baby_bottle","1F37D":"fork_knife_plate","1F37E":"champagne","1F37F":"popcorn","1F380":"ribbon","1F381":"gift","1F382":["birthday","birthday_cake"],"1F383":"jack_o_lantern","1F384":"christmas_tree","1F385":"santa","1F385-1F3FB":"santa_tone1","1F385-1F3FC":"santa_tone2","1F385-1F3FD":"santa_tone3","1F385-1F3FE":"santa_tone4","1F385-1F3FF":"santa_tone5","1F386":"fireworks","1F387":"sparkler","1F388":"balloon","1F389":["party","party_popper","tada"],"1F38A":"confetti_ball","1F38B":"tanabata_tree","1F38C":"crossed_flags","1F38D":"bamboo","1F38E":"dolls","1F38F":["carp_streamer","flags"],"1F390":"wind_chime","1F391":["moon_ceremony","rice_scene"],"1F392":["backpack","school_satchel"],"1F393":["graduation_cap","mortar_board"],"1F396":"military_medal","1F397":"reminder_ribbon","1F399":"studio_microphone","1F39A":"level_slider","1F39B":"control_knobs","1F39E":"film_frames","1F39F":["admission_tickets","tickets"],"1F3A0":"carousel_horse","1F3A1":"ferris_wheel","1F3A2":"roller_coaster","1F3A3":["fishing_pole","fishing_pole_and_fish"],"1F3A4":"microphone","1F3A5":"movie_camera","1F3A6":"cinema","1F3A7":"headphones","1F3A8":["art","palette"],"1F3A9":["top_hat","tophat"],"1F3AA":"circus_tent","1F3AB":"ticket","1F3AC":"clapper","1F3AD":"performing_arts","1F3AE":["controller","video_game"],"1F3AF":["bullseye","dart","direct_hit"],"1F3B0":"slot_machine","1F3B1":["8ball","billiards"],"1F3B2":"game_die","1F3B3":"bowling","1F3B4":"flower_playing_cards","1F3B5":"musical_note","1F3B6":["musical_notes","notes"],"1F3B7":"saxophone","1F3B8":"guitar","1F3B9":"musical_keyboard","1F3BA":"trumpet","1F3BB":"violin","1F3BC":"musical_score","1F3BD":["running_shirt","running_shirt_with_sash"],"1F3BE":"tennis","1F3BF":"ski","1F3C0":"basketball","1F3C1":"checkered_flag","1F3C2":["person_snowboarding","snowboarder","snowboarding"],"1F3C2-1F3FB":["person_snowboarding_tone1","snowboarder_tone1","snowboarding_tone1"],"1F3C2-1F3FC":["person_snowboarding_tone2","snowboarder_tone2","snowboarding_tone2"],"1F3C2-1F3FD":["person_snowboarding_tone3","snowboarder_tone3","snowboarding_tone3"],"1F3C2-1F3FE":["person_snowboarding_tone4","snowboarder_tone4","snowboarding_tone4"],"1F3C2-1F3FF":["person_snowboarding_tone5","snowboarder_tone5","snowboarding_tone5"],"1F3C3":["person_running","running"],"1F3C3-1F3FB":["person_running_tone1","running_tone1"],"1F3C3-1F3FC":["person_running_tone2","running_tone2"],"1F3C3-1F3FD":["person_running_tone3","running_tone3"],"1F3C3-1F3FE":["person_running_tone4","running_tone4"],"1F3C3-1F3FF":["person_running_tone5","running_tone5"],"1F3C4":["person_surfing","surfer","surfing"],"1F3C4-1F3FB":["person_surfing_tone1","surfer_tone1","surfing_tone1"],"1F3C4-1F3FC":["person_surfing_tone2","surfer_tone2","surfing_tone2"],"1F3C4-1F3FD":["person_surfing_tone3","surfer_tone3","surfing_tone3"],"1F3C4-1F3FE":["person_surfing_tone4","surfer_tone4","surfing_tone4"],"1F3C4-1F3FF":["person_surfing_tone5","surfer_tone5","surfing_tone5"],"1F3C5":"sports_medal","1F3C6":"trophy","1F3C7":"horse_racing","1F3C7-1F3FB":"horse_racing_tone1","1F3C7-1F3FC":"horse_racing_tone2","1F3C7-1F3FD":"horse_racing_tone3","1F3C7-1F3FE":"horse_racing_tone4","1F3C7-1F3FF":"horse_racing_tone5","1F3C8":"football","1F3C9":"rugby_football","1F3CA":["person_swimming","swimmer","swimming"],"1F3CA-1F3FB":["person_swimming_tone1","swimmer_tone1","swimming_tone1"],"1F3CA-1F3FC":["person_swimming_tone2","swimmer_tone2","swimming_tone2"],"1F3CA-1F3FD":["person_swimming_tone3","swimmer_tone3","swimming_tone3"],"1F3CA-1F3FE":["person_swimming_tone4","swimmer_tone4","swimming_tone4"],"1F3CA-1F3FF":["person_swimming_tone5","swimmer_tone5","swimming_tone5"],"1F3CB":["person_lifting_weights","weight_lifter","weight_lifting"],"1F3CB-1F3FB":["person_lifting_weights_tone1","weight_lifter_tone1","weight_lifting_tone1"],"1F3CB-1F3FC":["person_lifting_weights_tone2","weight_lifter_tone2","weight_lifting_tone2"],"1F3CB-1F3FD":["person_lifting_weights_tone3","weight_lifter_tone3","weight_lifting_tone3"],"1F3CB-1F3FE":["person_lifting_weights_tone4","weight_lifter_tone4","weight_lifting_tone4"],"1F3CB-1F3FF":["person_lifting_weights_tone5","weight_lifter_tone5","weight_lifting_tone5"],"1F3CC":["golfer","golfing","person_golfing"],"1F3CC-1F3FB":["golfer_tone1","golfing_tone1","person_golfing_tone1"],"1F3CC-1F3FC":["golfer_tone2","golfing_tone2","person_golfing_tone2"],"1F3CC-1F3FD":["golfer_tone3","golfing_tone3","person_golfing_tone3"],"1F3CC-1F3FE":["golfer_tone4","golfing_tone4","person_golfing_tone4"],"1F3CC-1F3FF":["golfer_tone5","golfing_tone5","person_golfing_tone5"],"1F3CD":"motorcycle","1F3CE":"racing_car","1F3CF":"cricket_game","1F3D0":"volleyball","1F3D1":"field_hockey","1F3D2":"hockey","1F3D3":"ping_pong","1F3D4":"mountain_snow","1F3D5":"camping","1F3D6":["beach","beach_with_umbrella"],"1F3D7":["building_construction","construction_site"],"1F3D8":["homes","houses"],"1F3D9":"cityscape","1F3DA":["derelict_house","house_abandoned"],"1F3DB":"classical_building","1F3DC":"desert","1F3DD":["desert_island","island"],"1F3DE":"national_park","1F3DF":"stadium","1F3E0":"house","1F3E1":"house_with_garden","1F3E2":"office","1F3E3":"post_office","1F3E4":"european_post_office","1F3E5":"hospital","1F3E6":"bank","1F3E7":"atm","1F3E8":"hotel","1F3E9":"love_hotel","1F3EA":"convenience_store","1F3EB":"school","1F3EC":"department_store","1F3ED":"factory","1F3EE":["izakaya_lantern","red_paper_lantern"],"1F3EF":"japanese_castle","1F3F0":["castle","european_castle"],"1F3F3":"white_flag","1F3F4":"black_flag","1F3F5":"rosette","1F3F7":"label","1F3F8":"badminton","1F3F9":"bow_and_arrow","1F3FA":"amphora","1F3FB":["tone1","tone_light"],"1F3FC":["tone2","tone_medium_light"],"1F3FD":["tone3","tone_medium"],"1F3FE":["tone4","tone_medium_dark"],"1F3FF":["tone5","tone_dark"],"1F400":"rat","1F401":"mouse","1F402":"ox","1F403":"water_buffalo","1F404":"cow","1F405":"tiger","1F406":"leopard","1F407":"rabbit","1F408":"cat","1F409":"dragon","1F40A":"crocodile","1F40B":"whale","1F40C":"snail","1F40D":"snake","1F40E":["horse","racehorse"],"1F40F":"ram","1F410":"goat","1F411":["ewe","sheep"],"1F412":"monkey","1F413":"rooster","1F414":["chicken","chicken_face"],"1F415":"dog","1F416":"pig","1F417":"boar","1F418":"elephant","1F419":"octopus","1F41A":"shell","1F41B":"bug","1F41C":"ant","1F41D":"bee","1F41E":"lady_beetle","1F41F":"fish","1F420":"tropical_fish","1F421":"blowfish","1F422":"turtle","1F423":"hatching_chick","1F424":"baby_chick","1F425":"hatched_chick","1F426":["bird","bird_face"],"1F427":["penguin","penguin_face"],"1F428":["koala","koala_face"],"1F429":"poodle","1F42A":"dromedary_camel","1F42B":"camel","1F42C":"dolphin","1F42D":"mouse_face","1F42E":"cow_face","1F42F":"tiger_face","1F430":"rabbit_face","1F431":"cat_face","1F432":"dragon_face","1F433":"spouting_whale","1F434":"horse_face","1F435":"monkey_face","1F436":"dog_face","1F437":"pig_face","1F438":["frog","frog_face"],"1F439":["hamster","hamster_face"],"1F43A":["wolf","wolf_face"],"1F43B":["bear","bear_face"],"1F43C":["panda","panda_face"],"1F43D":"pig_nose","1F43E":"paw_prints","1F43F":"chipmunk","1F440":"eyes","1F441":"eye","1F442":"ear","1F442-1F3FB":"ear_tone1","1F442-1F3FC":"ear_tone2","1F442-1F3FD":"ear_tone3","1F442-1F3FE":"ear_tone4","1F442-1F3FF":"ear_tone5","1F443":"nose","1F443-1F3FB":"nose_tone1","1F443-1F3FC":"nose_tone2","1F443-1F3FD":"nose_tone3","1F443-1F3FE":"nose_tone4","1F443-1F3FF":"nose_tone5","1F444":["lips","mouth"],"1F445":"tongue","1F446":"point_up","1F446-1F3FB":"point_up_tone1","1F446-1F3FC":"point_up_tone2","1F446-1F3FD":"point_up_tone3","1F446-1F3FE":"point_up_tone4","1F446-1F3FF":"point_up_tone5","1F447":"point_down","1F447-1F3FB":"point_down_tone1","1F447-1F3FC":"point_down_tone2","1F447-1F3FD":"point_down_tone3","1F447-1F3FE":"point_down_tone4","1F447-1F3FF":"point_down_tone5","1F448":"point_left","1F448-1F3FB":"point_left_tone1","1F448-1F3FC":"point_left_tone2","1F448-1F3FD":"point_left_tone3","1F448-1F3FE":"point_left_tone4","1F448-1F3FF":"point_left_tone5","1F449":"point_right","1F449-1F3FB":"point_right_tone1","1F449-1F3FC":"point_right_tone2","1F449-1F3FD":"point_right_tone3","1F449-1F3FE":"point_right_tone4","1F449-1F3FF":"point_right_tone5","1F44A":"punch","1F44A-1F3FB":"punch_tone1","1F44A-1F3FC":"punch_tone2","1F44A-1F3FD":"punch_tone3","1F44A-1F3FE":"punch_tone4","1F44A-1F3FF":"punch_tone5","1F44B":["wave","waving_hand"],"1F44B-1F3FB":["wave_tone1","waving_hand_tone1"],"1F44B-1F3FC":["wave_tone2","waving_hand_tone2"],"1F44B-1F3FD":["wave_tone3","waving_hand_tone3"],"1F44B-1F3FE":["wave_tone4","waving_hand_tone4"],"1F44B-1F3FF":["wave_tone5","waving_hand_tone5"],"1F44C":"ok_hand","1F44C-1F3FB":"ok_hand_tone1","1F44C-1F3FC":"ok_hand_tone2","1F44C-1F3FD":"ok_hand_tone3","1F44C-1F3FE":"ok_hand_tone4","1F44C-1F3FF":"ok_hand_tone5","1F44D":["+1","thumbsup","yes"],"1F44D-1F3FB":["+1_tone1","thumbsup_tone1","yes_tone1"],"1F44D-1F3FC":["+1_tone2","thumbsup_tone2","yes_tone2"],"1F44D-1F3FD":["+1_tone3","thumbsup_tone3","yes_tone3"],"1F44D-1F3FE":["+1_tone4","thumbsup_tone4","yes_tone4"],"1F44D-1F3FF":["+1_tone5","thumbsup_tone5","yes_tone5"],"1F44E":["-1","no","thumbsdown"],"1F44E-1F3FB":["-1_tone1","no_tone1","thumbsdown_tone1"],"1F44E-1F3FC":["-1_tone2","no_tone2","thumbsdown_tone2"],"1F44E-1F3FD":["-1_tone3","no_tone3","thumbsdown_tone3"],"1F44E-1F3FE":["-1_tone4","no_tone4","thumbsdown_tone4"],"1F44E-1F3FF":["-1_tone5","no_tone5","thumbsdown_tone5"],"1F44F":["clap","clapping_hands"],"1F44F-1F3FB":["clap_tone1","clapping_hands_tone1"],"1F44F-1F3FC":["clap_tone2","clapping_hands_tone2"],"1F44F-1F3FD":["clap_tone3","clapping_hands_tone3"],"1F44F-1F3FE":["clap_tone4","clapping_hands_tone4"],"1F44F-1F3FF":["clap_tone5","clapping_hands_tone5"],"1F450":"open_hands","1F450-1F3FB":"open_hands_tone1","1F450-1F3FC":"open_hands_tone2","1F450-1F3FD":"open_hands_tone3","1F450-1F3FE":"open_hands_tone4","1F450-1F3FF":"open_hands_tone5","1F451":"crown","1F452":"womans_hat","1F453":["eyeglasses","glasses"],"1F454":"necktie","1F455":"shirt","1F456":"jeans","1F457":"dress","1F458":"kimono","1F459":"bikini","1F45A":"womans_clothes","1F45B":"purse","1F45C":"handbag","1F45D":["clutch_bag","pouch"],"1F45E":"mans_shoe","1F45F":["athletic_shoe","sneaker"],"1F460":"high_heel","1F461":"sandal","1F462":"boot","1F463":"footprints","1F464":"bust_in_silhouette","1F465":"busts_in_silhouette","1F466":"boy","1F466-1F3FB":"boy_tone1","1F466-1F3FC":"boy_tone2","1F466-1F3FD":"boy_tone3","1F466-1F3FE":"boy_tone4","1F466-1F3FF":"boy_tone5","1F467":"girl","1F467-1F3FB":"girl_tone1","1F467-1F3FC":"girl_tone2","1F467-1F3FD":"girl_tone3","1F467-1F3FE":"girl_tone4","1F467-1F3FF":"girl_tone5","1F468":"man","1F468-1F3FB":"man_tone1","1F468-1F3FC":"man_tone2","1F468-1F3FD":"man_tone3","1F468-1F3FE":"man_tone4","1F468-1F3FF":"man_tone5","1F469":"woman","1F469-1F3FB":"woman_tone1","1F469-1F3FC":"woman_tone2","1F469-1F3FD":"woman_tone3","1F469-1F3FE":"woman_tone4","1F469-1F3FF":"woman_tone5","1F46A":"family","1F46B":"couple","1F46B-1F3FB":"couple_tone1","1F46B-1F3FC":"couple_tone2","1F46B-1F3FD":"couple_tone3","1F46B-1F3FE":"couple_tone4","1F46B-1F3FF":"couple_tone5","1F469-1F3FB-200D-1F91D-200D-1F468-1F3FC":"couple_tone1-2","1F469-1F3FB-200D-1F91D-200D-1F468-1F3FD":"couple_tone1-3","1F469-1F3FB-200D-1F91D-200D-1F468-1F3FE":"couple_tone1-4","1F469-1F3FB-200D-1F91D-200D-1F468-1F3FF":"couple_tone1-5","1F469-1F3FC-200D-1F91D-200D-1F468-1F3FB":"couple_tone2-1","1F469-1F3FC-200D-1F91D-200D-1F468-1F3FD":"couple_tone2-3","1F469-1F3FC-200D-1F91D-200D-1F468-1F3FE":"couple_tone2-4","1F469-1F3FC-200D-1F91D-200D-1F468-1F3FF":"couple_tone2-5","1F469-1F3FD-200D-1F91D-200D-1F468-1F3FB":"couple_tone3-1","1F469-1F3FD-200D-1F91D-200D-1F468-1F3FC":"couple_tone3-2","1F469-1F3FD-200D-1F91D-200D-1F468-1F3FE":"couple_tone3-4","1F469-1F3FD-200D-1F91D-200D-1F468-1F3FF":"couple_tone3-5","1F469-1F3FE-200D-1F91D-200D-1F468-1F3FB":"couple_tone4-1","1F469-1F3FE-200D-1F91D-200D-1F468-1F3FC":"couple_tone4-2","1F469-1F3FE-200D-1F91D-200D-1F468-1F3FD":"couple_tone4-3","1F469-1F3FE-200D-1F91D-200D-1F468-1F3FF":"couple_tone4-5","1F469-1F3FF-200D-1F91D-200D-1F468-1F3FB":"couple_tone5-1","1F469-1F3FF-200D-1F91D-200D-1F468-1F3FC":"couple_tone5-2","1F469-1F3FF-200D-1F91D-200D-1F468-1F3FD":"couple_tone5-3","1F469-1F3FF-200D-1F91D-200D-1F468-1F3FE":"couple_tone5-4","1F46C":"two_men_holding_hands","1F46C-1F3FB":"two_men_holding_hands_tone1","1F46C-1F3FC":"two_men_holding_hands_tone2","1F46C-1F3FD":"two_men_holding_hands_tone3","1F46C-1F3FE":"two_men_holding_hands_tone4","1F46C-1F3FF":"two_men_holding_hands_tone5","1F468-1F3FB-200D-1F91D-200D-1F468-1F3FC":"two_men_holding_hands_tone1-2","1F468-1F3FB-200D-1F91D-200D-1F468-1F3FD":"two_men_holding_hands_tone1-3","1F468-1F3FB-200D-1F91D-200D-1F468-1F3FE":"two_men_holding_hands_tone1-4","1F468-1F3FB-200D-1F91D-200D-1F468-1F3FF":"two_men_holding_hands_tone1-5","1F468-1F3FC-200D-1F91D-200D-1F468-1F3FB":"two_men_holding_hands_tone2-1","1F468-1F3FC-200D-1F91D-200D-1F468-1F3FD":"two_men_holding_hands_tone2-3","1F468-1F3FC-200D-1F91D-200D-1F468-1F3FE":"two_men_holding_hands_tone2-4","1F468-1F3FC-200D-1F91D-200D-1F468-1F3FF":"two_men_holding_hands_tone2-5","1F468-1F3FD-200D-1F91D-200D-1F468-1F3FB":"two_men_holding_hands_tone3-1","1F468-1F3FD-200D-1F91D-200D-1F468-1F3FC":"two_men_holding_hands_tone3-2","1F468-1F3FD-200D-1F91D-200D-1F468-1F3FE":"two_men_holding_hands_tone3-4","1F468-1F3FD-200D-1F91D-200D-1F468-1F3FF":"two_men_holding_hands_tone3-5","1F468-1F3FE-200D-1F91D-200D-1F468-1F3FB":"two_men_holding_hands_tone4-1","1F468-1F3FE-200D-1F91D-200D-1F468-1F3FC":"two_men_holding_hands_tone4-2","1F468-1F3FE-200D-1F91D-200D-1F468-1F3FD":"two_men_holding_hands_tone4-3","1F468-1F3FE-200D-1F91D-200D-1F468-1F3FF":"two_men_holding_hands_tone4-5","1F468-1F3FF-200D-1F91D-200D-1F468-1F3FB":"two_men_holding_hands_tone5-1","1F468-1F3FF-200D-1F91D-200D-1F468-1F3FC":"two_men_holding_hands_tone5-2","1F468-1F3FF-200D-1F91D-200D-1F468-1F3FD":"two_men_holding_hands_tone5-3","1F468-1F3FF-200D-1F91D-200D-1F468-1F3FE":"two_men_holding_hands_tone5-4","1F46D":"two_women_holding_hands","1F46D-1F3FB":"two_women_holding_hands_tone1","1F46D-1F3FC":"two_women_holding_hands_tone2","1F46D-1F3FD":"two_women_holding_hands_tone3","1F46D-1F3FE":"two_women_holding_hands_tone4","1F46D-1F3FF":"two_women_holding_hands_tone5","1F469-1F3FB-200D-1F91D-200D-1F469-1F3FC":"two_women_holding_hands_tone1-2","1F469-1F3FB-200D-1F91D-200D-1F469-1F3FD":"two_women_holding_hands_tone1-3","1F469-1F3FB-200D-1F91D-200D-1F469-1F3FE":"two_women_holding_hands_tone1-4","1F469-1F3FB-200D-1F91D-200D-1F469-1F3FF":"two_women_holding_hands_tone1-5","1F469-1F3FC-200D-1F91D-200D-1F469-1F3FB":"two_women_holding_hands_tone2-1","1F469-1F3FC-200D-1F91D-200D-1F469-1F3FD":"two_women_holding_hands_tone2-3","1F469-1F3FC-200D-1F91D-200D-1F469-1F3FE":"two_women_holding_hands_tone2-4","1F469-1F3FC-200D-1F91D-200D-1F469-1F3FF":"two_women_holding_hands_tone2-5","1F469-1F3FD-200D-1F91D-200D-1F469-1F3FB":"two_women_holding_hands_tone3-1","1F469-1F3FD-200D-1F91D-200D-1F469-1F3FC":"two_women_holding_hands_tone3-2","1F469-1F3FD-200D-1F91D-200D-1F469-1F3FE":"two_women_holding_hands_tone3-4","1F469-1F3FD-200D-1F91D-200D-1F469-1F3FF":"two_women_holding_hands_tone3-5","1F469-1F3FE-200D-1F91D-200D-1F469-1F3FB":"two_women_holding_hands_tone4-1","1F469-1F3FE-200D-1F91D-200D-1F469-1F3FC":"two_women_holding_hands_tone4-2","1F469-1F3FE-200D-1F91D-200D-1F469-1F3FD":"two_women_holding_hands_tone4-3","1F469-1F3FE-200D-1F91D-200D-1F469-1F3FF":"two_women_holding_hands_tone4-5","1F469-1F3FF-200D-1F91D-200D-1F469-1F3FB":"two_women_holding_hands_tone5-1","1F469-1F3FF-200D-1F91D-200D-1F469-1F3FC":"two_women_holding_hands_tone5-2","1F469-1F3FF-200D-1F91D-200D-1F469-1F3FD":"two_women_holding_hands_tone5-3","1F469-1F3FF-200D-1F91D-200D-1F469-1F3FE":"two_women_holding_hands_tone5-4","1F46E":["cop","police_officer"],"1F46E-1F3FB":["cop_tone1","police_officer_tone1"],"1F46E-1F3FC":["cop_tone2","police_officer_tone2"],"1F46E-1F3FD":["cop_tone3","police_officer_tone3"],"1F46E-1F3FE":["cop_tone4","police_officer_tone4"],"1F46E-1F3FF":["cop_tone5","police_officer_tone5"],"1F46F":["dancers","people_with_bunny_ears_partying"],"1F470":"person_with_veil","1F470-1F3FB":"person_with_veil_tone1","1F470-1F3FC":"person_with_veil_tone2","1F470-1F3FD":"person_with_veil_tone3","1F470-1F3FE":"person_with_veil_tone4","1F470-1F3FF":"person_with_veil_tone5","1F471":"blond_haired","1F471-1F3FB":"blond_haired_tone1","1F471-1F3FC":"blond_haired_tone2","1F471-1F3FD":"blond_haired_tone3","1F471-1F3FE":"blond_haired_tone4","1F471-1F3FF":"blond_haired_tone5","1F472":"person_with_skullcap","1F472-1F3FB":"person_with_skullcap_tone1","1F472-1F3FC":"person_with_skullcap_tone2","1F472-1F3FD":"person_with_skullcap_tone3","1F472-1F3FE":"person_with_skullcap_tone4","1F472-1F3FF":"person_with_skullcap_tone5","1F473":"person_wearing_turban","1F473-1F3FB":"person_wearing_turban_tone1","1F473-1F3FC":"person_wearing_turban_tone2","1F473-1F3FD":"person_wearing_turban_tone3","1F473-1F3FE":"person_wearing_turban_tone4","1F473-1F3FF":"person_wearing_turban_tone5","1F474":"older_man","1F474-1F3FB":"older_man_tone1","1F474-1F3FC":"older_man_tone2","1F474-1F3FD":"older_man_tone3","1F474-1F3FE":"older_man_tone4","1F474-1F3FF":"older_man_tone5","1F475":"older_woman","1F475-1F3FB":"older_woman_tone1","1F475-1F3FC":"older_woman_tone2","1F475-1F3FD":"older_woman_tone3","1F475-1F3FE":"older_woman_tone4","1F475-1F3FF":"older_woman_tone5","1F476":"baby","1F476-1F3FB":"baby_tone1","1F476-1F3FC":"baby_tone2","1F476-1F3FD":"baby_tone3","1F476-1F3FE":"baby_tone4","1F476-1F3FF":"baby_tone5","1F477":"construction_worker","1F477-1F3FB":"construction_worker_tone1","1F477-1F3FC":"construction_worker_tone2","1F477-1F3FD":"construction_worker_tone3","1F477-1F3FE":"construction_worker_tone4","1F477-1F3FF":"construction_worker_tone5","1F478":"princess","1F478-1F3FB":"princess_tone1","1F478-1F3FC":"princess_tone2","1F478-1F3FD":"princess_tone3","1F478-1F3FE":"princess_tone4","1F478-1F3FF":"princess_tone5","1F479":["japanese_ogre","ogre"],"1F47A":["goblin","japanese_goblin"],"1F47B":"ghost","1F47C":"angel","1F47C-1F3FB":"angel_tone1","1F47C-1F3FC":"angel_tone2","1F47C-1F3FD":"angel_tone3","1F47C-1F3FE":"angel_tone4","1F47C-1F3FF":"angel_tone5","1F47D":"alien","1F47E":["alien_monster","space_invader"],"1F47F":["angry_imp","imp"],"1F480":"skull","1F481":"person_tipping_hand","1F481-1F3FB":"person_tipping_hand_tone1","1F481-1F3FC":"person_tipping_hand_tone2","1F481-1F3FD":"person_tipping_hand_tone3","1F481-1F3FE":"person_tipping_hand_tone4","1F481-1F3FF":"person_tipping_hand_tone5","1F482":"guard","1F482-1F3FB":"guard_tone1","1F482-1F3FC":"guard_tone2","1F482-1F3FD":"guard_tone3","1F482-1F3FE":"guard_tone4","1F482-1F3FF":"guard_tone5","1F483":["dancer","woman_dancing"],"1F483-1F3FB":["dancer_tone1","woman_dancing_tone1"],"1F483-1F3FC":["dancer_tone2","woman_dancing_tone2"],"1F483-1F3FD":["dancer_tone3","woman_dancing_tone3"],"1F483-1F3FE":["dancer_tone4","woman_dancing_tone4"],"1F483-1F3FF":["dancer_tone5","woman_dancing_tone5"],"1F484":"lipstick","1F485":["nail_care","nail_polish"],"1F485-1F3FB":["nail_care_tone1","nail_polish_tone1"],"1F485-1F3FC":["nail_care_tone2","nail_polish_tone2"],"1F485-1F3FD":["nail_care_tone3","nail_polish_tone3"],"1F485-1F3FE":["nail_care_tone4","nail_polish_tone4"],"1F485-1F3FF":["nail_care_tone5","nail_polish_tone5"],"1F486":["massage","person_getting_massage"],"1F486-1F3FB":["massage_tone1","person_getting_massage_tone1"],"1F486-1F3FC":["massage_tone2","person_getting_massage_tone2"],"1F486-1F3FD":["massage_tone3","person_getting_massage_tone3"],"1F486-1F3FE":["massage_tone4","person_getting_massage_tone4"],"1F486-1F3FF":["massage_tone5","person_getting_massage_tone5"],"1F487":["haircut","person_getting_haircut"],"1F487-1F3FB":["haircut_tone1","person_getting_haircut_tone1"],"1F487-1F3FC":["haircut_tone2","person_getting_haircut_tone2"],"1F487-1F3FD":["haircut_tone3","person_getting_haircut_tone3"],"1F487-1F3FE":["haircut_tone4","person_getting_haircut_tone4"],"1F487-1F3FF":["haircut_tone5","person_getting_haircut_tone5"],"1F488":["barber","barber_pole"],"1F489":"syringe","1F48A":"pill","1F48B":"kiss","1F48C":"love_letter","1F48D":"ring","1F48E":"gem","1F48F":["couple_kiss","couplekiss"],"1F48F-1F3FB":["couple_kiss_tone1","couplekiss_tone1"],"1F48F-1F3FC":["couple_kiss_tone2","couplekiss_tone2"],"1F48F-1F3FD":["couple_kiss_tone3","couplekiss_tone3"],"1F48F-1F3FE":["couple_kiss_tone4","couplekiss_tone4"],"1F48F-1F3FF":["couple_kiss_tone5","couplekiss_tone5"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["couple_kiss_tone1-2","couplekiss_tone1-2"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["couple_kiss_tone1-3","couplekiss_tone1-3"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["couple_kiss_tone1-4","couplekiss_tone1-4"],"1F9D1-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["couple_kiss_tone1-5","couplekiss_tone1-5"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["couple_kiss_tone2-1","couplekiss_tone2-1"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["couple_kiss_tone2-3","couplekiss_tone2-3"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["couple_kiss_tone2-4","couplekiss_tone2-4"],"1F9D1-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["couple_kiss_tone2-5","couplekiss_tone2-5"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["couple_kiss_tone3-1","couplekiss_tone3-1"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["couple_kiss_tone3-2","couplekiss_tone3-2"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["couple_kiss_tone3-4","couplekiss_tone3-4"],"1F9D1-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["couple_kiss_tone3-5","couplekiss_tone3-5"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["couple_kiss_tone4-1","couplekiss_tone4-1"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["couple_kiss_tone4-2","couplekiss_tone4-2"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["couple_kiss_tone4-3","couplekiss_tone4-3"],"1F9D1-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FF":["couple_kiss_tone4-5","couplekiss_tone4-5"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FB":["couple_kiss_tone5-1","couplekiss_tone5-1"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FC":["couple_kiss_tone5-2","couplekiss_tone5-2"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FD":["couple_kiss_tone5-3","couplekiss_tone5-3"],"1F9D1-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F9D1-1F3FE":["couple_kiss_tone5-4","couplekiss_tone5-4"],"1F490":"bouquet","1F491":"couple_with_heart","1F491-1F3FB":"couple_with_heart_tone1","1F491-1F3FC":"couple_with_heart_tone2","1F491-1F3FD":"couple_with_heart_tone3","1F491-1F3FE":"couple_with_heart_tone4","1F491-1F3FF":"couple_with_heart_tone5","1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FC":"couple_with_heart_tone1-2","1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FD":"couple_with_heart_tone1-3","1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FE":"couple_with_heart_tone1-4","1F9D1-1F3FB-200D-2764-FE0F-200D-1F9D1-1F3FF":"couple_with_heart_tone1-5","1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FB":"couple_with_heart_tone2-1","1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FD":"couple_with_heart_tone2-3","1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FE":"couple_with_heart_tone2-4","1F9D1-1F3FC-200D-2764-FE0F-200D-1F9D1-1F3FF":"couple_with_heart_tone2-5","1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FB":"couple_with_heart_tone3-1","1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FC":"couple_with_heart_tone3-2","1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FE":"couple_with_heart_tone3-4","1F9D1-1F3FD-200D-2764-FE0F-200D-1F9D1-1F3FF":"couple_with_heart_tone3-5","1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FB":"couple_with_heart_tone4-1","1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FC":"couple_with_heart_tone4-2","1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FD":"couple_with_heart_tone4-3","1F9D1-1F3FE-200D-2764-FE0F-200D-1F9D1-1F3FF":"couple_with_heart_tone4-5","1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FB":"couple_with_heart_tone5-1","1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FC":"couple_with_heart_tone5-2","1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FD":"couple_with_heart_tone5-3","1F9D1-1F3FF-200D-2764-FE0F-200D-1F9D1-1F3FE":"couple_with_heart_tone5-4","1F492":"wedding","1F493":["beating_heart","heartbeat"],"1F494":"broken_heart","1F495":"two_hearts","1F496":"sparkling_heart","1F497":["growing_heart","heartpulse"],"1F498":["cupid","heart_with_arrow"],"1F499":"blue_heart","1F49A":"green_heart","1F49B":"yellow_heart","1F49C":"purple_heart","1F49D":["gift_heart","heart_with_ribbon"],"1F49E":"revolving_hearts","1F49F":"heart_decoration","1F4A0":["diamond_shape_with_a_dot_inside","diamond_with_a_dot"],"1F4A1":["bulb","light_bulb"],"1F4A2":"anger","1F4A3":"bomb","1F4A4":"zzz","1F4A5":["boom","collision"],"1F4A6":"sweat_drops","1F4A7":"droplet","1F4A8":["dash","dashing_away"],"1F4A9":["poop","shit"],"1F4AA":["muscle","right_bicep"],"1F4AA-1F3FB":["muscle_tone1","right_bicep_tone1"],"1F4AA-1F3FC":["muscle_tone2","right_bicep_tone2"],"1F4AA-1F3FD":["muscle_tone3","right_bicep_tone3"],"1F4AA-1F3FE":["muscle_tone4","right_bicep_tone4"],"1F4AA-1F3FF":["muscle_tone5","right_bicep_tone5"],"1F4AB":"dizzy","1F4AC":"speech_balloon","1F4AD":"thought_balloon","1F4AE":"white_flower","1F4AF":"100","1F4B0":"moneybag","1F4B1":"currency_exchange","1F4B2":"heavy_dollar_sign","1F4B3":"credit_card","1F4B4":"yen","1F4B5":"dollar","1F4B6":"euro","1F4B7":"pound","1F4B8":"money_with_wings","1F4B9":"chart","1F4BA":"seat","1F4BB":"laptop","1F4BC":"briefcase","1F4BD":["computer_disk","minidisc"],"1F4BE":"floppy_disk","1F4BF":["cd","optical_disk"],"1F4C0":"dvd","1F4C1":"file_folder","1F4C2":"open_file_folder","1F4C3":"page_with_curl","1F4C4":"page_facing_up","1F4C5":"date","1F4C6":"calendar","1F4C7":"card_index","1F4C8":["chart_increasing","chart_with_upwards_trend"],"1F4C9":["chart_decreasing","chart_with_downwards_trend"],"1F4CA":"bar_chart","1F4CB":"clipboard","1F4CC":"pushpin","1F4CD":"round_pushpin","1F4CE":"paperclip","1F4CF":"straight_ruler","1F4D0":"triangular_ruler","1F4D1":"bookmark_tabs","1F4D2":"ledger","1F4D3":"notebook","1F4D4":"notebook_with_decorative_cover","1F4D5":"closed_book","1F4D6":["book","open_book"],"1F4D7":"green_book","1F4D8":"blue_book","1F4D9":"orange_book","1F4DA":"books","1F4DB":"name_badge","1F4DC":"scroll","1F4DD":"memo","1F4DE":"telephone_receiver","1F4DF":"pager","1F4E0":["fax","fax_machine"],"1F4E1":"satellite_antenna","1F4E2":"loudspeaker","1F4E3":["mega","megaphone"],"1F4E4":"outbox_tray","1F4E5":"inbox_tray","1F4E6":"package","1F4E7":["e-mail","email"],"1F4E8":"incoming_envelope","1F4E9":"envelope_with_arrow","1F4EA":"mailbox_closed","1F4EB":"mailbox","1F4EC":"mailbox_with_mail","1F4ED":"mailbox_with_no_mail","1F4EE":"postbox","1F4EF":"postal_horn","1F4F0":"newspaper","1F4F1":["android","iphone","mobile_phone"],"1F4F2":["calling","mobile_phone_arrow"],"1F4F3":"vibration_mode","1F4F4":"mobile_phone_off","1F4F5":"no_mobile_phones","1F4F6":["antenna_bars","signal_strength"],"1F4F7":"camera","1F4F8":"camera_with_flash","1F4F9":"video_camera","1F4FA":"tv","1F4FB":"radio","1F4FC":["vhs","videocassette"],"1F4FD":"film_projector","1F4FF":"prayer_beads","1F500":["shuffle","twisted_rightwards_arrows"],"1F501":"repeat","1F502":"repeat_one","1F503":["arrows_clockwise","clockwise"],"1F504":["arrows_counterclockwise","counterclockwise"],"1F505":["dim_button","low_brightness"],"1F506":["bright_button","high_brightness"],"1F507":["mute","no_sound"],"1F508":["low_volume","quiet_sound","speaker"],"1F509":["medium_volumne","sound"],"1F50A":["high_volume","loud_sound"],"1F50B":"battery","1F50C":"electric_plug","1F50D":"mag","1F50E":"mag_right","1F50F":["lock_with_ink_pen","locked_with_pen"],"1F510":["closed_lock_with_key","locked_with_key"],"1F511":"key","1F512":["lock","locked"],"1F513":["unlock","unlocked"],"1F514":"bell","1F515":"no_bell","1F516":"bookmark","1F517":"link","1F518":"radio_button","1F519":"back","1F51A":"end","1F51B":"on","1F51C":"soon","1F51D":"top","1F51E":["no_one_under_18","underage"],"1F51F":"ten","1F520":"capital_abcd","1F521":"abcd","1F522":"1234","1F523":"symbols","1F524":"abc","1F525":"fire","1F526":"flashlight","1F527":"wrench","1F528":"hammer","1F529":"nut_and_bolt","1F52A":"knife","1F52B":["gun","pistol"],"1F52C":"microscope","1F52D":"telescope","1F52E":"crystal_ball","1F52F":"six_pointed_star","1F530":"beginner","1F531":"trident","1F532":"black_square_button","1F533":"white_square_button","1F534":"red_circle","1F535":"blue_circle","1F536":"large_orange_diamond","1F537":"large_blue_diamond","1F538":"small_orange_diamond","1F539":"small_blue_diamond","1F53A":"small_red_triangle","1F53B":"small_red_triangle_down","1F53C":["arrow_up_small","up"],"1F53D":["arrow_down_small","down"],"1F549":"om","1F54A":"dove","1F54B":"kaaba","1F54C":"mosque","1F54D":"synagogue","1F54E":"menorah","1F550":"clock1","1F551":"clock2","1F552":"clock3","1F553":"clock4","1F554":"clock5","1F555":"clock6","1F556":"clock7","1F557":"clock8","1F558":"clock9","1F559":"clock10","1F55A":"clock11","1F55B":"clock12","1F55C":"clock130","1F55D":"clock230","1F55E":"clock330","1F55F":"clock430","1F560":"clock530","1F561":"clock630","1F562":"clock730","1F563":"clock830","1F564":"clock930","1F565":"clock1030","1F566":"clock1130","1F567":"clock1230","1F56F":"candle","1F570":"clock","1F573":"hole","1F574":["levitate","levitating","person_in_suit_levitating"],"1F574-1F3FB":["levitate_tone1","levitating_tone1","person_in_suit_levitating_tone1"],"1F574-1F3FC":["levitate_tone2","levitating_tone2","person_in_suit_levitating_tone2"],"1F574-1F3FD":["levitate_tone3","levitating_tone3","person_in_suit_levitating_tone3"],"1F574-1F3FE":["levitate_tone4","levitating_tone4","person_in_suit_levitating_tone4"],"1F574-1F3FF":["levitate_tone5","levitating_tone5","person_in_suit_levitating_tone5"],"1F575":"detective","1F575-1F3FB":"detective_tone1","1F575-1F3FC":"detective_tone2","1F575-1F3FD":"detective_tone3","1F575-1F3FE":"detective_tone4","1F575-1F3FF":"detective_tone5","1F576":"sunglasses","1F577":"spider","1F578":"spider_web","1F579":"joystick","1F57A":"man_dancing","1F57A-1F3FB":"man_dancing_tone1","1F57A-1F3FC":"man_dancing_tone2","1F57A-1F3FD":"man_dancing_tone3","1F57A-1F3FE":"man_dancing_tone4","1F57A-1F3FF":"man_dancing_tone5","1F587":"paperclips","1F58A":"pen","1F58B":"fountain_pen","1F58C":"paintbrush","1F58D":"crayon","1F590":"raised_hand_with_fingers_splayed","1F590-1F3FB":"raised_hand_with_fingers_splayed_tone1","1F590-1F3FC":"raised_hand_with_fingers_splayed_tone2","1F590-1F3FD":"raised_hand_with_fingers_splayed_tone3","1F590-1F3FE":"raised_hand_with_fingers_splayed_tone4","1F590-1F3FF":"raised_hand_with_fingers_splayed_tone5","1F595":"middle_finger","1F595-1F3FB":"middle_finger_tone1","1F595-1F3FC":"middle_finger_tone2","1F595-1F3FD":"middle_finger_tone3","1F595-1F3FE":"middle_finger_tone4","1F595-1F3FF":"middle_finger_tone5","1F596":"vulcan","1F596-1F3FB":"vulcan_tone1","1F596-1F3FC":"vulcan_tone2","1F596-1F3FD":"vulcan_tone3","1F596-1F3FE":"vulcan_tone4","1F596-1F3FF":"vulcan_tone5","1F5A4":"black_heart","1F5A5":["computer","desktop_computer"],"1F5A8":"printer","1F5B1":"computer_mouse","1F5B2":"trackball","1F5BC":["frame_with_picture","framed_picture"],"1F5C2":"card_index_dividers","1F5C3":"card_file_box","1F5C4":"file_cabinet","1F5D1":["trashcan","wastebasket"],"1F5D2":"notepad_spiral","1F5D3":"calendar_spiral","1F5DC":["clamp","compression"],"1F5DD":"old_key","1F5DE":"rolled_up_newspaper","1F5E1":"dagger","1F5E3":"speaking_head","1F5E8":"left_speech_bubble","1F5EF":"right_anger_bubble","1F5F3":"ballot_box","1F5FA":"world_map","1F5FB":"mount_fuji","1F5FC":"tokyo_tower","1F5FD":"statue_of_liberty","1F5FE":"japan_map","1F5FF":["moai","moyai"],"1F600":["grinning","grinning_face"],"1F601":["beaming_face","grin"],"1F602":["joy","lmao","tears_of_joy"],"1F603":["grinning_face_with_big_eyes","smiley"],"1F604":["grinning_face_with_closed_eyes","smile"],"1F605":["grinning_face_with_sweat","sweat_smile"],"1F606":["laughing","lol","satisfied","squinting_face"],"1F607":["halo","innocent"],"1F608":"smiling_imp","1F609":["wink","winking_face"],"1F60A":["blush","smiling_face_with_closed_eyes"],"1F60B":["savoring_food","yum"],"1F60C":["relieved","relieved_face"],"1F60D":["heart_eyes","smiling_face_with_heart_eyes"],"1F60E":["smiling_face_with_sunglasses","sunglasses_cool","too_cool"],"1F60F":["smirk","smirking","smirking_face"],"1F610":["neutral","neutral_face"],"1F611":["expressionless","expressionless_face"],"1F612":["unamused","unamused_face"],"1F613":["downcast_face","sweat"],"1F614":["pensive","pensive_face"],"1F615":["confused","confused_face"],"1F616":["confounded","confounded_face"],"1F617":["kissing","kissing_face"],"1F618":["blowing_a_kiss","kissing_heart"],"1F619":["kissing_face_with_smiling_eyes","kissing_smiling_eyes"],"1F61A":["kissing_closed_eyes","kissing_face_with_closed_eyes"],"1F61B":["face_with_tongue","stuck_out_tongue"],"1F61C":"stuck_out_tongue_winking_eye","1F61D":"stuck_out_tongue_closed_eyes","1F61E":["disappointed","disappointed_face"],"1F61F":["worried","worried_face"],"1F620":["angry","angry_face"],"1F621":["pout","pouting_face","rage"],"1F622":["cry","crying_face"],"1F623":["persevere","persevering_face"],"1F624":["nose_steam","triumph"],"1F625":["disappointed_relieved","sad_relieved_face"],"1F626":["frowning","frowning_face"],"1F627":["anguished","anguished_face"],"1F628":["fearful","fearful_face"],"1F629":["weary","weary_face"],"1F62A":["sleepy","sleepy_face"],"1F62B":["tired","tired_face"],"1F62C":["grimacing","grimacing_face"],"1F62D":["loudly_crying_face","sob"],"1F62E":["face_with_open_mouth","open_mouth"],"1F62F":["hushed","hushed_face"],"1F630":["anxious","anxious_face","cold_sweat"],"1F631":["scream","screaming_in_fear"],"1F632":["astonished","astonished_face"],"1F633":["flushed","flushed_face"],"1F634":["sleeping","sleeping_face"],"1F635":["dizzy_face","knocked_out"],"1F636":"no_mouth","1F637":["mask","medical_mask"],"1F638":["grinning_cat_with_closed_eyes","smile_cat"],"1F639":["joy_cat","tears_of_joy_cat"],"1F63A":["grinning_cat","smiley_cat"],"1F63B":["heart_eyes_cat","smiling_cat_with_heart_eyes"],"1F63C":["smirk_cat","wry_smile_cat"],"1F63D":"kissing_cat","1F63E":"pouting_cat","1F63F":"crying_cat","1F640":["scream_cat","weary_cat"],"1F641":"slightly_frowning_face","1F642":"slightly_smiling_face","1F643":"upside_down_face","1F644":"rolling_eyes","1F645":["no_good","person_gesturing_no"],"1F645-1F3FB":["no_good_tone1","person_gesturing_no_tone1"],"1F645-1F3FC":["no_good_tone2","person_gesturing_no_tone2"],"1F645-1F3FD":["no_good_tone3","person_gesturing_no_tone3"],"1F645-1F3FE":["no_good_tone4","person_gesturing_no_tone4"],"1F645-1F3FF":["no_good_tone5","person_gesturing_no_tone5"],"1F646":["all_good","person_gesturing_ok"],"1F646-1F3FB":["all_good_tone1","person_gesturing_ok_tone1"],"1F646-1F3FC":["all_good_tone2","person_gesturing_ok_tone2"],"1F646-1F3FD":["all_good_tone3","person_gesturing_ok_tone3"],"1F646-1F3FE":["all_good_tone4","person_gesturing_ok_tone4"],"1F646-1F3FF":["all_good_tone5","person_gesturing_ok_tone5"],"1F647":["bow","person_bowing"],"1F647-1F3FB":["bow_tone1","person_bowing_tone1"],"1F647-1F3FC":["bow_tone2","person_bowing_tone2"],"1F647-1F3FD":["bow_tone3","person_bowing_tone3"],"1F647-1F3FE":["bow_tone4","person_bowing_tone4"],"1F647-1F3FF":["bow_tone5","person_bowing_tone5"],"1F648":"see_no_evil","1F649":"hear_no_evil","1F64A":"speak_no_evil","1F64B":"person_raising_hand","1F64B-1F3FB":"person_raising_hand_tone1","1F64B-1F3FC":"person_raising_hand_tone2","1F64B-1F3FD":"person_raising_hand_tone3","1F64B-1F3FE":"person_raising_hand_tone4","1F64B-1F3FF":"person_raising_hand_tone5","1F64C":"raised_hands","1F64C-1F3FB":"raised_hands_tone1","1F64C-1F3FC":"raised_hands_tone2","1F64C-1F3FD":"raised_hands_tone3","1F64C-1F3FE":"raised_hands_tone4","1F64C-1F3FF":"raised_hands_tone5","1F64D":"person_frowning","1F64D-1F3FB":"person_frowning_tone1","1F64D-1F3FC":"person_frowning_tone2","1F64D-1F3FD":"person_frowning_tone3","1F64D-1F3FE":"person_frowning_tone4","1F64D-1F3FF":"person_frowning_tone5","1F64E":["person_pouting","pouting"],"1F64E-1F3FB":["person_pouting_tone1","pouting_tone1"],"1F64E-1F3FC":["person_pouting_tone2","pouting_tone2"],"1F64E-1F3FD":["person_pouting_tone3","pouting_tone3"],"1F64E-1F3FE":["person_pouting_tone4","pouting_tone4"],"1F64E-1F3FF":["person_pouting_tone5","pouting_tone5"],"1F64F":["folded_hands","pray"],"1F64F-1F3FB":["folded_hands_tone1","pray_tone1"],"1F64F-1F3FC":["folded_hands_tone2","pray_tone2"],"1F64F-1F3FD":["folded_hands_tone3","pray_tone3"],"1F64F-1F3FE":["folded_hands_tone4","pray_tone4"],"1F64F-1F3FF":["folded_hands_tone5","pray_tone5"],"1F680":"rocket","1F681":"helicopter","1F682":"steam_locomotive","1F683":"railway_car","1F684":"bullettrain_side","1F685":"bullettrain_front","1F686":"train","1F687":"metro","1F688":"light_rail","1F689":"station","1F68A":"tram","1F68B":"tram_car","1F68C":"bus","1F68D":"oncoming_bus","1F68E":"trolleybus","1F68F":"busstop","1F690":"minibus","1F691":"ambulance","1F692":"fire_engine","1F693":"police_car","1F694":"oncoming_police_car","1F695":"taxi","1F696":"oncoming_taxi","1F697":["car","red_car"],"1F698":"oncoming_automobile","1F699":["blue_car","suv"],"1F69A":["delivery_truck","truck"],"1F69B":"articulated_lorry","1F69C":"tractor","1F69D":"monorail","1F69E":"mountain_railway","1F69F":"suspension_railway","1F6A0":"mountain_cableway","1F6A1":"aerial_tramway","1F6A2":"ship","1F6A3":["person_rowing_boat","rowboat"],"1F6A3-1F3FB":["person_rowing_boat_tone1","rowboat_tone1"],"1F6A3-1F3FC":["person_rowing_boat_tone2","rowboat_tone2"],"1F6A3-1F3FD":["person_rowing_boat_tone3","rowboat_tone3"],"1F6A3-1F3FE":["person_rowing_boat_tone4","rowboat_tone4"],"1F6A3-1F3FF":["person_rowing_boat_tone5","rowboat_tone5"],"1F6A4":"speedboat","1F6A5":"traffic_light","1F6A6":"vertical_traffic_light","1F6A7":"construction","1F6A8":"rotating_light","1F6A9":["triangular_flag","triangular_flag_on_post"],"1F6AA":"door","1F6AB":"no_entry_sign","1F6AC":["cigarette","smoking"],"1F6AD":"no_smoking","1F6AE":["litter_bin","put_litter_in_its_place"],"1F6AF":["do_not_litter","no_littering"],"1F6B0":"potable_water","1F6B1":"non-potable_water","1F6B2":["bicycle","bike"],"1F6B3":"no_bicycles","1F6B4":["bicyclist","biking","person_biking"],"1F6B4-1F3FB":["bicyclist_tone1","biking_tone1","person_biking_tone1"],"1F6B4-1F3FC":["bicyclist_tone2","biking_tone2","person_biking_tone2"],"1F6B4-1F3FD":["bicyclist_tone3","biking_tone3","person_biking_tone3"],"1F6B4-1F3FE":["bicyclist_tone4","biking_tone4","person_biking_tone4"],"1F6B4-1F3FF":["bicyclist_tone5","biking_tone5","person_biking_tone5"],"1F6B5":["mountain_bicyclist","mountain_biking","person_mountain_biking"],"1F6B5-1F3FB":["mountain_bicyclist_tone1","mountain_biking_tone1","person_mountain_biking_tone1"],"1F6B5-1F3FC":["mountain_bicyclist_tone2","mountain_biking_tone2","person_mountain_biking_tone2"],"1F6B5-1F3FD":["mountain_bicyclist_tone3","mountain_biking_tone3","person_mountain_biking_tone3"],"1F6B5-1F3FE":["mountain_bicyclist_tone4","mountain_biking_tone4","person_mountain_biking_tone4"],"1F6B5-1F3FF":["mountain_bicyclist_tone5","mountain_biking_tone5","person_mountain_biking_tone5"],"1F6B6":["person_walking","walking"],"1F6B6-1F3FB":["person_walking_tone1","walking_tone1"],"1F6B6-1F3FC":["person_walking_tone2","walking_tone2"],"1F6B6-1F3FD":["person_walking_tone3","walking_tone3"],"1F6B6-1F3FE":["person_walking_tone4","walking_tone4"],"1F6B6-1F3FF":["person_walking_tone5","walking_tone5"],"1F6B7":"no_pedestrians","1F6B8":"children_crossing","1F6B9":"mens","1F6BA":"womens","1F6BB":["bathroom","restroom"],"1F6BC":"baby_symbol","1F6BD":"toilet","1F6BE":["water_closet","wc"],"1F6BF":"shower","1F6C0":["bath","person_taking_bath"],"1F6C0-1F3FB":["bath_tone1","person_taking_bath_tone1"],"1F6C0-1F3FC":["bath_tone2","person_taking_bath_tone2"],"1F6C0-1F3FD":["bath_tone3","person_taking_bath_tone3"],"1F6C0-1F3FE":["bath_tone4","person_taking_bath_tone4"],"1F6C0-1F3FF":["bath_tone5","person_taking_bath_tone5"],"1F6C1":"bathtub","1F6C2":"passport_control","1F6C3":"customs","1F6C4":"baggage_claim","1F6C5":"left_luggage","1F6CB":"couch_and_lamp","1F6CC":["person_in_bed","sleeping_accommodation"],"1F6CC-1F3FB":["person_in_bed_tone1","sleeping_accommodation_tone1"],"1F6CC-1F3FC":["person_in_bed_tone2","sleeping_accommodation_tone2"],"1F6CC-1F3FD":["person_in_bed_tone3","sleeping_accommodation_tone3"],"1F6CC-1F3FE":["person_in_bed_tone4","sleeping_accommodation_tone4"],"1F6CC-1F3FF":["person_in_bed_tone5","sleeping_accommodation_tone5"],"1F6CD":"shopping_bags","1F6CE":"bellhop","1F6CF":"bed","1F6D0":"place_of_worship","1F6D1":["octagonal_sign","stop_sign"],"1F6D2":"shopping_cart","1F6D5":"hindu_temple","1F6D6":"hut","1F6D7":"elevator","1F6DD":["playground_slide","slide"],"1F6DE":"wheel","1F6DF":["lifebuoy","ring_buoy"],"1F6E0":"hammer_and_wrench","1F6E1":"shield","1F6E2":"oil_drum","1F6E3":"motorway","1F6E4":"railway_track","1F6E5":"motorboat","1F6E9":"small_airplane","1F6EB":"airplane_departure","1F6EC":"airplane_arriving","1F6F0":"satellite","1F6F3":["cruise_ship","passenger_ship"],"1F6F4":"scooter","1F6F5":"motor_scooter","1F6F6":"canoe","1F6F7":"sled","1F6F8":"flying_saucer","1F6F9":"skateboard","1F6FA":"auto_rickshaw","1F6FB":"pickup_truck","1F6FC":"roller_skate","1F7E0":"orange_circle","1F7E1":"yellow_circle","1F7E2":"green_circle","1F7E3":"purple_circle","1F7E4":"brown_circle","1F7E5":"red_square","1F7E6":"blue_square","1F7E7":"orange_square","1F7E8":"yellow_square","1F7E9":"green_square","1F7EA":"purple_square","1F7EB":"brown_square","1F7F0":"heavy_equals_sign","1F90C":["pinch","pinched_fingers"],"1F90C-1F3FB":["pinch_tone1","pinched_fingers_tone1"],"1F90C-1F3FC":["pinch_tone2","pinched_fingers_tone2"],"1F90C-1F3FD":["pinch_tone3","pinched_fingers_tone3"],"1F90C-1F3FE":["pinch_tone4","pinched_fingers_tone4"],"1F90C-1F3FF":["pinch_tone5","pinched_fingers_tone5"],"1F90D":"white_heart","1F90E":"brown_heart","1F90F":"pinching_hand","1F90F-1F3FB":"pinching_hand_tone1","1F90F-1F3FC":"pinching_hand_tone2","1F90F-1F3FD":"pinching_hand_tone3","1F90F-1F3FE":"pinching_hand_tone4","1F90F-1F3FF":"pinching_hand_tone5","1F910":["zipper_mouth","zipper_mouth_face"],"1F911":"money_mouth_face","1F912":"face_with_thermometer","1F913":["nerd","nerd_face"],"1F914":["thinking","thinking_face","wtf"],"1F915":"face_with_head_bandage","1F916":["robot","robot_face"],"1F917":["hug","hugging","hugging_face"],"1F918":["metal","sign_of_the_horns"],"1F918-1F3FB":["metal_tone1","sign_of_the_horns_tone1"],"1F918-1F3FC":["metal_tone2","sign_of_the_horns_tone2"],"1F918-1F3FD":["metal_tone3","sign_of_the_horns_tone3"],"1F918-1F3FE":["metal_tone4","sign_of_the_horns_tone4"],"1F918-1F3FF":["metal_tone5","sign_of_the_horns_tone5"],"1F919":"call_me_hand","1F919-1F3FB":"call_me_hand_tone1","1F919-1F3FC":"call_me_hand_tone2","1F919-1F3FD":"call_me_hand_tone3","1F919-1F3FE":"call_me_hand_tone4","1F919-1F3FF":"call_me_hand_tone5","1F91A":"raised_back_of_hand","1F91A-1F3FB":"raised_back_of_hand_tone1","1F91A-1F3FC":"raised_back_of_hand_tone2","1F91A-1F3FD":"raised_back_of_hand_tone3","1F91A-1F3FE":"raised_back_of_hand_tone4","1F91A-1F3FF":"raised_back_of_hand_tone5","1F91B":"left_facing_fist","1F91B-1F3FB":"left_facing_fist_tone1","1F91B-1F3FC":"left_facing_fist_tone2","1F91B-1F3FD":"left_facing_fist_tone3","1F91B-1F3FE":"left_facing_fist_tone4","1F91B-1F3FF":"left_facing_fist_tone5","1F91C":"right_facing_fist","1F91C-1F3FB":"right_facing_fist_tone1","1F91C-1F3FC":"right_facing_fist_tone2","1F91C-1F3FD":"right_facing_fist_tone3","1F91C-1F3FE":"right_facing_fist_tone4","1F91C-1F3FF":"right_facing_fist_tone5","1F91D":"handshake","1F91D-1F3FB":"handshake_tone1","1F91D-1F3FC":"handshake_tone2","1F91D-1F3FD":"handshake_tone3","1F91D-1F3FE":"handshake_tone4","1F91D-1F3FF":"handshake_tone5","1FAF1-1F3FB-200D-1FAF2-1F3FC":"handshake_tone1-2","1FAF1-1F3FB-200D-1FAF2-1F3FD":"handshake_tone1-3","1FAF1-1F3FB-200D-1FAF2-1F3FE":"handshake_tone1-4","1FAF1-1F3FB-200D-1FAF2-1F3FF":"handshake_tone1-5","1FAF1-1F3FC-200D-1FAF2-1F3FB":"handshake_tone2-1","1FAF1-1F3FC-200D-1FAF2-1F3FD":"handshake_tone2-3","1FAF1-1F3FC-200D-1FAF2-1F3FE":"handshake_tone2-4","1FAF1-1F3FC-200D-1FAF2-1F3FF":"handshake_tone2-5","1FAF1-1F3FD-200D-1FAF2-1F3FB":"handshake_tone3-1","1FAF1-1F3FD-200D-1FAF2-1F3FC":"handshake_tone3-2","1FAF1-1F3FD-200D-1FAF2-1F3FE":"handshake_tone3-4","1FAF1-1F3FD-200D-1FAF2-1F3FF":"handshake_tone3-5","1FAF1-1F3FE-200D-1FAF2-1F3FB":"handshake_tone4-1","1FAF1-1F3FE-200D-1FAF2-1F3FC":"handshake_tone4-2","1FAF1-1F3FE-200D-1FAF2-1F3FD":"handshake_tone4-3","1FAF1-1F3FE-200D-1FAF2-1F3FF":"handshake_tone4-5","1FAF1-1F3FF-200D-1FAF2-1F3FB":"handshake_tone5-1","1FAF1-1F3FF-200D-1FAF2-1F3FC":"handshake_tone5-2","1FAF1-1F3FF-200D-1FAF2-1F3FD":"handshake_tone5-3","1FAF1-1F3FF-200D-1FAF2-1F3FE":"handshake_tone5-4","1F91E":"fingers_crossed","1F91E-1F3FB":"fingers_crossed_tone1","1F91E-1F3FC":"fingers_crossed_tone2","1F91E-1F3FD":"fingers_crossed_tone3","1F91E-1F3FE":"fingers_crossed_tone4","1F91E-1F3FF":"fingers_crossed_tone5","1F91F":"love_you_gesture","1F91F-1F3FB":"love_you_gesture_tone1","1F91F-1F3FC":"love_you_gesture_tone2","1F91F-1F3FD":"love_you_gesture_tone3","1F91F-1F3FE":"love_you_gesture_tone4","1F91F-1F3FF":"love_you_gesture_tone5","1F920":["cowboy","cowboy_face"],"1F921":["clown","clown_face"],"1F922":["nauseated","nauseated_face"],"1F923":"rofl","1F924":["drooling","drooling_face"],"1F925":["lying","lying_face"],"1F926":["facepalm","person_facepalming"],"1F926-1F3FB":["facepalm_tone1","person_facepalming_tone1"],"1F926-1F3FC":["facepalm_tone2","person_facepalming_tone2"],"1F926-1F3FD":["facepalm_tone3","person_facepalming_tone3"],"1F926-1F3FE":["facepalm_tone4","person_facepalming_tone4"],"1F926-1F3FF":["facepalm_tone5","person_facepalming_tone5"],"1F927":["sneezing","sneezing_face"],"1F928":["face_with_raised_eyebrow","raised_eyebrow"],"1F929":"star_struck","1F92A":["zany","zany_face"],"1F92B":["shush","shushing_face"],"1F92C":["censored","face_with_symbols_on_mouth"],"1F92D":["face_with_hand_over_mouth","hand_over_mouth"],"1F92E":["face_vomiting","vomiting"],"1F92F":"exploding_head","1F930":"pregnant_woman","1F930-1F3FB":"pregnant_woman_tone1","1F930-1F3FC":"pregnant_woman_tone2","1F930-1F3FD":"pregnant_woman_tone3","1F930-1F3FE":"pregnant_woman_tone4","1F930-1F3FF":"pregnant_woman_tone5","1F931":"breast_feeding","1F931-1F3FB":"breast_feeding_tone1","1F931-1F3FC":"breast_feeding_tone2","1F931-1F3FD":"breast_feeding_tone3","1F931-1F3FE":"breast_feeding_tone4","1F931-1F3FF":"breast_feeding_tone5","1F932":"palms_up_together","1F932-1F3FB":"palms_up_together_tone1","1F932-1F3FC":"palms_up_together_tone2","1F932-1F3FD":"palms_up_together_tone3","1F932-1F3FE":"palms_up_together_tone4","1F932-1F3FF":"palms_up_together_tone5","1F933":"selfie","1F933-1F3FB":"selfie_tone1","1F933-1F3FC":"selfie_tone2","1F933-1F3FD":"selfie_tone3","1F933-1F3FE":"selfie_tone4","1F933-1F3FF":"selfie_tone5","1F934":"prince","1F934-1F3FB":"prince_tone1","1F934-1F3FC":"prince_tone2","1F934-1F3FD":"prince_tone3","1F934-1F3FE":"prince_tone4","1F934-1F3FF":"prince_tone5","1F935":"person_in_tuxedo","1F935-1F3FB":"person_in_tuxedo_tone1","1F935-1F3FC":"person_in_tuxedo_tone2","1F935-1F3FD":"person_in_tuxedo_tone3","1F935-1F3FE":"person_in_tuxedo_tone4","1F935-1F3FF":"person_in_tuxedo_tone5","1F936":"mrs_claus","1F936-1F3FB":"mrs_claus_tone1","1F936-1F3FC":"mrs_claus_tone2","1F936-1F3FD":"mrs_claus_tone3","1F936-1F3FE":"mrs_claus_tone4","1F936-1F3FF":"mrs_claus_tone5","1F937":["person_shrugging","shrug"],"1F937-1F3FB":["person_shrugging_tone1","shrug_tone1"],"1F937-1F3FC":["person_shrugging_tone2","shrug_tone2"],"1F937-1F3FD":["person_shrugging_tone3","shrug_tone3"],"1F937-1F3FE":["person_shrugging_tone4","shrug_tone4"],"1F937-1F3FF":["person_shrugging_tone5","shrug_tone5"],"1F938":["cartwheeling","person_cartwheel"],"1F938-1F3FB":["cartwheeling_tone1","person_cartwheel_tone1"],"1F938-1F3FC":["cartwheeling_tone2","person_cartwheel_tone2"],"1F938-1F3FD":["cartwheeling_tone3","person_cartwheel_tone3"],"1F938-1F3FE":["cartwheeling_tone4","person_cartwheel_tone4"],"1F938-1F3FF":["cartwheeling_tone5","person_cartwheel_tone5"],"1F939":["juggler","juggling","person_juggling"],"1F939-1F3FB":["juggler_tone1","juggling_tone1","person_juggling_tone1"],"1F939-1F3FC":["juggler_tone2","juggling_tone2","person_juggling_tone2"],"1F939-1F3FD":["juggler_tone3","juggling_tone3","person_juggling_tone3"],"1F939-1F3FE":["juggler_tone4","juggling_tone4","person_juggling_tone4"],"1F939-1F3FF":["juggler_tone5","juggling_tone5","person_juggling_tone5"],"1F93A":["fencer","fencing","person_fencing"],"1F93C":["people_wrestling","wrestlers","wrestling"],"1F93D":["person_playing_water_polo","water_polo"],"1F93D-1F3FB":["person_playing_water_polo_tone1","water_polo_tone1"],"1F93D-1F3FC":["person_playing_water_polo_tone2","water_polo_tone2"],"1F93D-1F3FD":["person_playing_water_polo_tone3","water_polo_tone3"],"1F93D-1F3FE":["person_playing_water_polo_tone4","water_polo_tone4"],"1F93D-1F3FF":["person_playing_water_polo_tone5","water_polo_tone5"],"1F93E":["handball","person_playing_handball"],"1F93E-1F3FB":["handball_tone1","person_playing_handball_tone1"],"1F93E-1F3FC":["handball_tone2","person_playing_handball_tone2"],"1F93E-1F3FD":["handball_tone3","person_playing_handball_tone3"],"1F93E-1F3FE":["handball_tone4","person_playing_handball_tone4"],"1F93E-1F3FF":["handball_tone5","person_playing_handball_tone5"],"1F93F":"diving_mask","1F940":"wilted_flower","1F941":"drum","1F942":"clinking_glasses","1F943":["tumbler_glass","whisky"],"1F944":"spoon","1F945":"goal_net","1F947":["1st","first_place_medal"],"1F948":["2nd","second_place_medal"],"1F949":["3rd","third_place_medal"],"1F94A":"boxing_glove","1F94B":"martial_arts_uniform","1F94C":"curling_stone","1F94D":"lacrosse","1F94E":"softball","1F94F":"flying_disc","1F950":"croissant","1F951":"avocado","1F952":"cucumber","1F953":"bacon","1F954":"potato","1F955":"carrot","1F956":"baguette_bread","1F957":["green_salad","salad"],"1F958":"shallow_pan_of_food","1F959":"stuffed_flatbread","1F95A":"egg","1F95B":["glass_of_milk","milk"],"1F95C":"peanuts","1F95D":"kiwi","1F95E":"pancakes","1F95F":"dumpling","1F960":"fortune_cookie","1F961":"takeout_box","1F962":"chopsticks","1F963":"bowl_with_spoon","1F964":"cup_with_straw","1F965":"coconut","1F966":"broccoli","1F967":"pie","1F968":"pretzel","1F969":"cut_of_meat","1F96A":"sandwich","1F96B":"canned_food","1F96C":"leafy_green","1F96D":"mango","1F96E":"moon_cake","1F96F":"bagel","1F970":"smiling_face_with_3_hearts","1F971":["yawn","yawning","yawning_face"],"1F972":"smiling_face_with_tear","1F973":["hooray","partying","partying_face"],"1F974":["woozy","woozy_face"],"1F975":["hot","hot_face"],"1F976":["cold","cold_face"],"1F977":"ninja","1F977-1F3FB":"ninja_tone1","1F977-1F3FC":"ninja_tone2","1F977-1F3FD":"ninja_tone3","1F977-1F3FE":"ninja_tone4","1F977-1F3FF":"ninja_tone5","1F978":["disguised","disguised_face"],"1F979":["face_holding_back_tears","watery_eyes"],"1F97A":["pleading","pleading_face"],"1F97B":"sari","1F97C":"lab_coat","1F97D":"goggles","1F97E":"hiking_boot","1F97F":["flat_shoe","womans_flat_shoe"],"1F980":"crab","1F981":["lion","lion_face"],"1F982":"scorpion","1F983":"turkey","1F984":["unicorn","unicorn_face"],"1F985":"eagle","1F986":"duck","1F987":"bat","1F988":"shark","1F989":"owl","1F98A":["fox","fox_face"],"1F98B":"butterfly","1F98C":"deer","1F98D":"gorilla","1F98E":"lizard","1F98F":["rhino","rhinoceros"],"1F990":"shrimp","1F991":"squid","1F992":"giraffe","1F993":"zebra","1F994":"hedgehog","1F995":"sauropod","1F996":["t-rex","trex"],"1F997":"cricket","1F998":"kangaroo","1F999":"llama","1F99A":"peacock","1F99B":"hippo","1F99C":"parrot","1F99D":"raccoon","1F99E":"lobster","1F99F":"mosquito","1F9A0":"microbe","1F9A1":"badger","1F9A2":"swan","1F9A3":"mammoth","1F9A4":"dodo","1F9A5":"sloth","1F9A6":"otter","1F9A7":"orangutan","1F9A8":"skunk","1F9A9":"flamingo","1F9AA":"oyster","1F9AB":"beaver","1F9AC":"bison","1F9AD":"seal","1F9AE":"guide_dog","1F9AF":["probing_cane","white_cane"],"1F9B0":"red_hair","1F9B1":"curly_hair","1F9B2":"no_hair","1F9B3":"white_hair","1F9B4":"bone","1F9B5":"leg","1F9B5-1F3FB":"leg_tone1","1F9B5-1F3FC":"leg_tone2","1F9B5-1F3FD":"leg_tone3","1F9B5-1F3FE":"leg_tone4","1F9B5-1F3FF":"leg_tone5","1F9B6":"foot","1F9B6-1F3FB":"foot_tone1","1F9B6-1F3FC":"foot_tone2","1F9B6-1F3FD":"foot_tone3","1F9B6-1F3FE":"foot_tone4","1F9B6-1F3FF":"foot_tone5","1F9B7":"tooth","1F9B8":"superhero","1F9B8-1F3FB":"superhero_tone1","1F9B8-1F3FC":"superhero_tone2","1F9B8-1F3FD":"superhero_tone3","1F9B8-1F3FE":"superhero_tone4","1F9B8-1F3FF":"superhero_tone5","1F9B9":"supervillain","1F9B9-1F3FB":"supervillain_tone1","1F9B9-1F3FC":"supervillain_tone2","1F9B9-1F3FD":"supervillain_tone3","1F9B9-1F3FE":"supervillain_tone4","1F9B9-1F3FF":"supervillain_tone5","1F9BA":"safety_vest","1F9BB":["ear_with_hearing_aid","hearing_aid"],"1F9BB-1F3FB":["ear_with_hearing_aid_tone1","hearing_aid_tone1"],"1F9BB-1F3FC":["ear_with_hearing_aid_tone2","hearing_aid_tone2"],"1F9BB-1F3FD":["ear_with_hearing_aid_tone3","hearing_aid_tone3"],"1F9BB-1F3FE":["ear_with_hearing_aid_tone4","hearing_aid_tone4"],"1F9BB-1F3FF":["ear_with_hearing_aid_tone5","hearing_aid_tone5"],"1F9BC":"motorized_wheelchair","1F9BD":"manual_wheelchair","1F9BE":"mechanical_arm","1F9BF":"mechanical_leg","1F9C0":"cheese","1F9C1":"cupcake","1F9C2":"salt","1F9C3":["beverage_box","juice_box"],"1F9C4":"garlic","1F9C5":"onion","1F9C6":"falafel","1F9C7":"waffle","1F9C8":"butter","1F9C9":"mate","1F9CA":["ice","ice_cube"],"1F9CB":["boba_drink","bubble_tea"],"1F9CC":"troll","1F9CD":["person_standing","standing"],"1F9CD-1F3FB":["person_standing_tone1","standing_tone1"],"1F9CD-1F3FC":["person_standing_tone2","standing_tone2"],"1F9CD-1F3FD":["person_standing_tone3","standing_tone3"],"1F9CD-1F3FE":["person_standing_tone4","standing_tone4"],"1F9CD-1F3FF":["person_standing_tone5","standing_tone5"],"1F9CE":["kneeling","person_kneeling"],"1F9CE-1F3FB":["kneeling_tone1","person_kneeling_tone1"],"1F9CE-1F3FC":["kneeling_tone2","person_kneeling_tone2"],"1F9CE-1F3FD":["kneeling_tone3","person_kneeling_tone3"],"1F9CE-1F3FE":["kneeling_tone4","person_kneeling_tone4"],"1F9CE-1F3FF":["kneeling_tone5","person_kneeling_tone5"],"1F9CF":"deaf_person","1F9CF-1F3FB":"deaf_person_tone1","1F9CF-1F3FC":"deaf_person_tone2","1F9CF-1F3FD":"deaf_person_tone3","1F9CF-1F3FE":"deaf_person_tone4","1F9CF-1F3FF":"deaf_person_tone5","1F9D0":"face_with_monocle","1F9D1":"adult","1F9D1-1F3FB":"adult_tone1","1F9D1-1F3FC":"adult_tone2","1F9D1-1F3FD":"adult_tone3","1F9D1-1F3FE":"adult_tone4","1F9D1-1F3FF":"adult_tone5","1F9D2":"child","1F9D2-1F3FB":"child_tone1","1F9D2-1F3FC":"child_tone2","1F9D2-1F3FD":"child_tone3","1F9D2-1F3FE":"child_tone4","1F9D2-1F3FF":"child_tone5","1F9D3":"older_adult","1F9D3-1F3FB":"older_adult_tone1","1F9D3-1F3FC":"older_adult_tone2","1F9D3-1F3FD":"older_adult_tone3","1F9D3-1F3FE":"older_adult_tone4","1F9D3-1F3FF":"older_adult_tone5","1F9D4":"person_bearded","1F9D4-1F3FB":"person_bearded_tone1","1F9D4-1F3FC":"person_bearded_tone2","1F9D4-1F3FD":"person_bearded_tone3","1F9D4-1F3FE":"person_bearded_tone4","1F9D4-1F3FF":"person_bearded_tone5","1F9D5":"woman_with_headscarf","1F9D5-1F3FB":"woman_with_headscarf_tone1","1F9D5-1F3FC":"woman_with_headscarf_tone2","1F9D5-1F3FD":"woman_with_headscarf_tone3","1F9D5-1F3FE":"woman_with_headscarf_tone4","1F9D5-1F3FF":"woman_with_headscarf_tone5","1F9D6":"person_in_steamy_room","1F9D6-1F3FB":"person_in_steamy_room_tone1","1F9D6-1F3FC":"person_in_steamy_room_tone2","1F9D6-1F3FD":"person_in_steamy_room_tone3","1F9D6-1F3FE":"person_in_steamy_room_tone4","1F9D6-1F3FF":"person_in_steamy_room_tone5","1F9D7":["climbing","person_climbing"],"1F9D7-1F3FB":["climbing_tone1","person_climbing_tone1"],"1F9D7-1F3FC":["climbing_tone2","person_climbing_tone2"],"1F9D7-1F3FD":["climbing_tone3","person_climbing_tone3"],"1F9D7-1F3FE":["climbing_tone4","person_climbing_tone4"],"1F9D7-1F3FF":["climbing_tone5","person_climbing_tone5"],"1F9D8":"person_in_lotus_position","1F9D8-1F3FB":"person_in_lotus_position_tone1","1F9D8-1F3FC":"person_in_lotus_position_tone2","1F9D8-1F3FD":"person_in_lotus_position_tone3","1F9D8-1F3FE":"person_in_lotus_position_tone4","1F9D8-1F3FF":"person_in_lotus_position_tone5","1F9D9":"mage","1F9D9-1F3FB":"mage_tone1","1F9D9-1F3FC":"mage_tone2","1F9D9-1F3FD":"mage_tone3","1F9D9-1F3FE":"mage_tone4","1F9D9-1F3FF":"mage_tone5","1F9DA":"fairy","1F9DA-1F3FB":"fairy_tone1","1F9DA-1F3FC":"fairy_tone2","1F9DA-1F3FD":"fairy_tone3","1F9DA-1F3FE":"fairy_tone4","1F9DA-1F3FF":"fairy_tone5","1F9DB":"vampire","1F9DB-1F3FB":"vampire_tone1","1F9DB-1F3FC":"vampire_tone2","1F9DB-1F3FD":"vampire_tone3","1F9DB-1F3FE":"vampire_tone4","1F9DB-1F3FF":"vampire_tone5","1F9DC":"merperson","1F9DC-1F3FB":"merperson_tone1","1F9DC-1F3FC":"merperson_tone2","1F9DC-1F3FD":"merperson_tone3","1F9DC-1F3FE":"merperson_tone4","1F9DC-1F3FF":"merperson_tone5","1F9DD":"elf","1F9DD-1F3FB":"elf_tone1","1F9DD-1F3FC":"elf_tone2","1F9DD-1F3FD":"elf_tone3","1F9DD-1F3FE":"elf_tone4","1F9DD-1F3FF":"elf_tone5","1F9DE":"genie","1F9DF":"zombie","1F9E0":"brain","1F9E1":"orange_heart","1F9E2":"billed_cap","1F9E3":"scarf","1F9E4":"gloves","1F9E5":"coat","1F9E6":"socks","1F9E7":"red_envelope","1F9E8":"firecracker","1F9E9":["jigsaw","puzzle_piece"],"1F9EA":"test_tube","1F9EB":"petri_dish","1F9EC":["dna","double_helix"],"1F9ED":"compass","1F9EE":"abacus","1F9EF":"fire_extinguisher","1F9F0":"toolbox","1F9F1":"bricks","1F9F2":"magnet","1F9F3":"luggage","1F9F4":"lotion_bottle","1F9F5":"thread","1F9F6":"yarn","1F9F7":"safety_pin","1F9F8":"teddy_bear","1F9F9":"broom","1F9FA":"basket","1F9FB":["roll_of_paper","toilet_paper"],"1F9FC":"soap","1F9FD":"sponge","1F9FE":"receipt","1F9FF":"nazar_amulet","1FA70":"ballet_shoes","1FA71":"one_piece_swimsuit","1FA72":"briefs","1FA73":"shorts","1FA74":"thong_sandal","1FA78":"drop_of_blood","1FA79":["adhesive_bandage","bandaid"],"1FA7A":"stethoscope","1FA7B":["x-ray","xray"],"1FA7C":"crutch","1FA80":"yo_yo","1FA81":"kite","1FA82":"parachute","1FA83":"boomerang","1FA84":"magic_wand","1FA85":"pinata","1FA86":"nesting_dolls","1FA90":["ringed_planet","saturn"],"1FA91":"chair","1FA92":"razor","1FA93":"axe","1FA94":"diya_lamp","1FA95":"banjo","1FA96":"military_helmet","1FA97":"accordion","1FA98":"long_drum","1FA99":"coin","1FA9A":"carpentry_saw","1FA9B":"screwdriver","1FA9C":"ladder","1FA9D":"hook","1FA9E":"mirror","1FA9F":"window","1FAA0":"plunger","1FAA1":"sewing_needle","1FAA2":"knot","1FAA3":"bucket","1FAA4":"mouse_trap","1FAA5":"toothbrush","1FAA6":"headstone","1FAA7":"placard","1FAA8":"rock","1FAA9":["disco","disco_ball","mirror_ball"],"1FAAA":"id_card","1FAAB":"low_battery","1FAAC":"hamsa","1FAB0":"fly","1FAB1":"worm","1FAB2":"beetle","1FAB3":"cockroach","1FAB4":"potted_plant","1FAB5":"wood","1FAB6":"feather","1FAB7":"lotus","1FAB8":"coral","1FAB9":["empty_nest","nest"],"1FABA":"nest_with_eggs","1FAC0":"anatomical_heart","1FAC1":"lungs","1FAC2":"people_hugging","1FAC3":"pregnant_man","1FAC3-1F3FB":"pregnant_man_tone1","1FAC3-1F3FC":"pregnant_man_tone2","1FAC3-1F3FD":"pregnant_man_tone3","1FAC3-1F3FE":"pregnant_man_tone4","1FAC3-1F3FF":"pregnant_man_tone5","1FAC4":"pregnant_person","1FAC4-1F3FB":"pregnant_person_tone1","1FAC4-1F3FC":"pregnant_person_tone2","1FAC4-1F3FD":"pregnant_person_tone3","1FAC4-1F3FE":"pregnant_person_tone4","1FAC4-1F3FF":"pregnant_person_tone5","1FAC5":["person_with_crown","royalty"],"1FAC5-1F3FB":["person_with_crown_tone1","royalty_tone1"],"1FAC5-1F3FC":["person_with_crown_tone2","royalty_tone2"],"1FAC5-1F3FD":["person_with_crown_tone3","royalty_tone3"],"1FAC5-1F3FE":["person_with_crown_tone4","royalty_tone4"],"1FAC5-1F3FF":["person_with_crown_tone5","royalty_tone5"],"1FAD0":"blueberries","1FAD1":"bell_pepper","1FAD2":"olive","1FAD3":"flatbread","1FAD4":"tamale","1FAD5":"fondue","1FAD6":"teapot","1FAD7":["pour","pouring_liquid"],"1FAD8":"beans","1FAD9":"jar","1FAE0":["melt","melting_face"],"1FAE1":["salute","saluting_face"],"1FAE2":["face_with_open_eyes_hand_over_mouth","gasp"],"1FAE3":["face_with_peeking_eye","peek"],"1FAE4":"face_with_diagonal_mouth","1FAE5":"dotted_line_face","1FAE6":"biting_lip","1FAE7":"bubbles","1FAF0":"hand_with_index_finger_and_thumb_crossed","1FAF0-1F3FB":"hand_with_index_finger_and_thumb_crossed_tone1","1FAF0-1F3FC":"hand_with_index_finger_and_thumb_crossed_tone2","1FAF0-1F3FD":"hand_with_index_finger_and_thumb_crossed_tone3","1FAF0-1F3FE":"hand_with_index_finger_and_thumb_crossed_tone4","1FAF0-1F3FF":"hand_with_index_finger_and_thumb_crossed_tone5","1FAF1":"rightwards_hand","1FAF1-1F3FB":"rightwards_hand_tone1","1FAF1-1F3FC":"rightwards_hand_tone2","1FAF1-1F3FD":"rightwards_hand_tone3","1FAF1-1F3FE":"rightwards_hand_tone4","1FAF1-1F3FF":"rightwards_hand_tone5","1FAF2":"leftwards_hand","1FAF2-1F3FB":"leftwards_hand_tone1","1FAF2-1F3FC":"leftwards_hand_tone2","1FAF2-1F3FD":"leftwards_hand_tone3","1FAF2-1F3FE":"leftwards_hand_tone4","1FAF2-1F3FF":"leftwards_hand_tone5","1FAF3":"palm_down","1FAF3-1F3FB":"palm_down_tone1","1FAF3-1F3FC":"palm_down_tone2","1FAF3-1F3FD":"palm_down_tone3","1FAF3-1F3FE":"palm_down_tone4","1FAF3-1F3FF":"palm_down_tone5","1FAF4":"palm_up","1FAF4-1F3FB":"palm_up_tone1","1FAF4-1F3FC":"palm_up_tone2","1FAF4-1F3FD":"palm_up_tone3","1FAF4-1F3FE":"palm_up_tone4","1FAF4-1F3FF":"palm_up_tone5","1FAF5":"point_forward","1FAF5-1F3FB":"point_forward_tone1","1FAF5-1F3FC":"point_forward_tone2","1FAF5-1F3FD":"point_forward_tone3","1FAF5-1F3FE":"point_forward_tone4","1FAF5-1F3FF":"point_forward_tone5","1FAF6":"heart_hands","1FAF6-1F3FB":"heart_hands_tone1","1FAF6-1F3FC":"heart_hands_tone2","1FAF6-1F3FD":"heart_hands_tone3","1FAF6-1F3FE":"heart_hands_tone4","1FAF6-1F3FF":"heart_hands_tone5","0023-FE0F-20E3":["hash","number_sign"],"002A-FE0F-20E3":"asterisk","0030-FE0F-20E3":"zero","0031-FE0F-20E3":"one","0032-FE0F-20E3":"two","0033-FE0F-20E3":"three","0034-FE0F-20E3":"four","0035-FE0F-20E3":"five","0036-FE0F-20E3":"six","0037-FE0F-20E3":"seven","0038-FE0F-20E3":"eight","0039-FE0F-20E3":"nine","1F1E6-1F1E8":["ascension_island","flag_ac"],"1F1E6-1F1E9":["andorra","flag_ad"],"1F1E6-1F1EA":["flag_ae","united_arab_emirates"],"1F1E6-1F1EB":["afghanistan","flag_af"],"1F1E6-1F1EC":["antigua_barbuda","flag_ag"],"1F1E6-1F1EE":["anguilla","flag_ai"],"1F1E6-1F1F1":["albania","flag_al"],"1F1E6-1F1F2":["armenia","flag_am"],"1F1E6-1F1F4":["angola","flag_ao"],"1F1E6-1F1F6":["antarctica","flag_aq"],"1F1E6-1F1F7":["argentina","flag_ar"],"1F1E6-1F1F8":["american_samoa","flag_as"],"1F1E6-1F1F9":["austria","flag_at"],"1F1E6-1F1FA":["australia","flag_au"],"1F1E6-1F1FC":["aruba","flag_aw"],"1F1E6-1F1FD":["aland_islands","flag_ax"],"1F1E6-1F1FF":["azerbaijan","flag_az"],"1F1E7-1F1E6":["bosnia_herzegovina","flag_ba"],"1F1E7-1F1E7":["barbados","flag_bb"],"1F1E7-1F1E9":["bangladesh","flag_bd"],"1F1E7-1F1EA":["belgium","flag_be"],"1F1E7-1F1EB":["burkina_faso","flag_bf"],"1F1E7-1F1EC":["bulgaria","flag_bg"],"1F1E7-1F1ED":["bahrain","flag_bh"],"1F1E7-1F1EE":["burundi","flag_bi"],"1F1E7-1F1EF":["benin","flag_bj"],"1F1E7-1F1F1":["flag_bl","st_barthelemy"],"1F1E7-1F1F2":["bermuda","flag_bm"],"1F1E7-1F1F3":["brunei","flag_bn"],"1F1E7-1F1F4":["bolivia","flag_bo"],"1F1E7-1F1F6":["caribbean_netherlands","flag_bq"],"1F1E7-1F1F7":["brazil","flag_br"],"1F1E7-1F1F8":["bahamas","flag_bs"],"1F1E7-1F1F9":["bhutan","flag_bt"],"1F1E7-1F1FB":["bouvet_island","flag_bv"],"1F1E7-1F1FC":["botswana","flag_bw"],"1F1E7-1F1FE":["belarus","flag_by"],"1F1E7-1F1FF":["belize","flag_bz"],"1F1E8-1F1E6":["canada","flag_ca"],"1F1E8-1F1E8":["cocos_islands","flag_cc"],"1F1E8-1F1E9":["congo_kinshasa","flag_cd"],"1F1E8-1F1EB":["central_african_republic","flag_cf"],"1F1E8-1F1EC":["congo_brazzaville","flag_cg"],"1F1E8-1F1ED":["flag_ch","switzerland"],"1F1E8-1F1EE":["cote_divoire","flag_ci"],"1F1E8-1F1F0":["cook_islands","flag_ck"],"1F1E8-1F1F1":["chile","flag_cl"],"1F1E8-1F1F2":["cameroon","flag_cm"],"1F1E8-1F1F3":["china","flag_cn"],"1F1E8-1F1F4":["colombia","flag_co"],"1F1E8-1F1F5":["clipperton_island","flag_cp"],"1F1E8-1F1F7":["costa_rica","flag_cr"],"1F1E8-1F1FA":["cuba","flag_cu"],"1F1E8-1F1FB":["cape_verde","flag_cv"],"1F1E8-1F1FC":["curacao","flag_cw"],"1F1E8-1F1FD":["christmas_island","flag_cx"],"1F1E8-1F1FE":["cyprus","flag_cy"],"1F1E8-1F1FF":["czech_republic","czechia","flag_cz"],"1F1E9-1F1EA":["flag_de","germany"],"1F1E9-1F1EC":["diego_garcia","flag_dg"],"1F1E9-1F1EF":["djibouti","flag_dj"],"1F1E9-1F1F0":["denmark","flag_dk"],"1F1E9-1F1F2":["dominica","flag_dm"],"1F1E9-1F1F4":["dominican_republic","flag_do"],"1F1E9-1F1FF":["algeria","flag_dz"],"1F1EA-1F1E6":["ceuta_melilla","flag_ea"],"1F1EA-1F1E8":["ecuador","flag_ec"],"1F1EA-1F1EA":["estonia","flag_ee"],"1F1EA-1F1EC":["egypt","flag_eg"],"1F1EA-1F1ED":["flag_eh","western_sahara"],"1F1EA-1F1F7":["eritrea","flag_er"],"1F1EA-1F1F8":["flag_es","spain"],"1F1EA-1F1F9":["ethiopia","flag_et"],"1F1EA-1F1FA":["european_union","flag_eu"],"1F1EB-1F1EE":["finland","flag_fi"],"1F1EB-1F1EF":["fiji","flag_fj"],"1F1EB-1F1F0":["falkland_islands","flag_fk"],"1F1EB-1F1F2":["flag_fm","micronesia"],"1F1EB-1F1F4":["faroe_islands","flag_fo"],"1F1EB-1F1F7":["flag_fr","france"],"1F1EC-1F1E6":["flag_ga","gabon"],"1F1EC-1F1E7":["flag_gb","uk","united_kingdom"],"1F1EC-1F1E9":["flag_gd","grenada"],"1F1EC-1F1EA":["flag_ge","georgia"],"1F1EC-1F1EB":["flag_gf","french_guiana"],"1F1EC-1F1EC":["flag_gg","guernsey"],"1F1EC-1F1ED":["flag_gh","ghana"],"1F1EC-1F1EE":["flag_gi","gibraltar"],"1F1EC-1F1F1":["flag_gl","greenland"],"1F1EC-1F1F2":["flag_gm","gambia"],"1F1EC-1F1F3":["flag_gn","guinea"],"1F1EC-1F1F5":["flag_gp","guadeloupe"],"1F1EC-1F1F6":["equatorial_guinea","flag_gq"],"1F1EC-1F1F7":["flag_gr","greece"],"1F1EC-1F1F8":["flag_gs","south_georgia_south_sandwich_islands"],"1F1EC-1F1F9":["flag_gt","guatemala"],"1F1EC-1F1FA":["flag_gu","guam"],"1F1EC-1F1FC":["flag_gw","guinea_bissau"],"1F1EC-1F1FE":["flag_gy","guyana"],"1F1ED-1F1F0":["flag_hk","hong_kong"],"1F1ED-1F1F2":["flag_hm","heard_mcdonald_islands"],"1F1ED-1F1F3":["flag_hn","honduras"],"1F1ED-1F1F7":["croatia","flag_hr"],"1F1ED-1F1F9":["flag_ht","haiti"],"1F1ED-1F1FA":["flag_hu","hungary"],"1F1EE-1F1E8":["canary_islands","flag_ic"],"1F1EE-1F1E9":["flag_id","indonesia"],"1F1EE-1F1EA":["flag_ie","ireland"],"1F1EE-1F1F1":["flag_il","israel"],"1F1EE-1F1F2":["flag_im","isle_of_man"],"1F1EE-1F1F3":["flag_in","india"],"1F1EE-1F1F4":["british_indian_ocean_territory","flag_io"],"1F1EE-1F1F6":["flag_iq","iraq"],"1F1EE-1F1F7":["flag_ir","iran"],"1F1EE-1F1F8":["flag_is","iceland"],"1F1EE-1F1F9":["flag_it","italy"],"1F1EF-1F1EA":["flag_je","jersey"],"1F1EF-1F1F2":["flag_jm","jamaica"],"1F1EF-1F1F4":["flag_jo","jordan"],"1F1EF-1F1F5":["flag_jp","japan"],"1F1F0-1F1EA":["flag_ke","kenya"],"1F1F0-1F1EC":["flag_kg","kyrgyzstan"],"1F1F0-1F1ED":["cambodia","flag_kh"],"1F1F0-1F1EE":["flag_ki","kiribati"],"1F1F0-1F1F2":["comoros","flag_km"],"1F1F0-1F1F3":["flag_kn","st_kitts_nevis"],"1F1F0-1F1F5":["flag_kp","north_korea"],"1F1F0-1F1F7":["flag_kr","south_korea"],"1F1F0-1F1FC":["flag_kw","kuwait"],"1F1F0-1F1FE":["cayman_islands","flag_ky"],"1F1F0-1F1FF":["flag_kz","kazakhstan"],"1F1F1-1F1E6":["flag_la","laos"],"1F1F1-1F1E7":["flag_lb","lebanon"],"1F1F1-1F1E8":["flag_lc","st_lucia"],"1F1F1-1F1EE":["flag_li","liechtenstein"],"1F1F1-1F1F0":["flag_lk","sri_lanka"],"1F1F1-1F1F7":["flag_lr","liberia"],"1F1F1-1F1F8":["flag_ls","lesotho"],"1F1F1-1F1F9":["flag_lt","lithuania"],"1F1F1-1F1FA":["flag_lu","luxembourg"],"1F1F1-1F1FB":["flag_lv","latvia"],"1F1F1-1F1FE":["flag_ly","libya"],"1F1F2-1F1E6":["flag_ma","morocco"],"1F1F2-1F1E8":["flag_mc","monaco"],"1F1F2-1F1E9":["flag_md","moldova"],"1F1F2-1F1EA":["flag_me","montenegro"],"1F1F2-1F1EB":["flag_mf","st_martin"],"1F1F2-1F1EC":["flag_mg","madagascar"],"1F1F2-1F1ED":["flag_mh","marshall_islands"],"1F1F2-1F1F0":["flag_mk","macedonia"],"1F1F2-1F1F1":["flag_ml","mali"],"1F1F2-1F1F2":["burma","flag_mm","myanmar"],"1F1F2-1F1F3":["flag_mn","mongolia"],"1F1F2-1F1F4":["flag_mo","macao","macau"],"1F1F2-1F1F5":["flag_mp","northern_mariana_islands"],"1F1F2-1F1F6":["flag_mq","martinique"],"1F1F2-1F1F7":["flag_mr","mauritania"],"1F1F2-1F1F8":["flag_ms","montserrat"],"1F1F2-1F1F9":["flag_mt","malta"],"1F1F2-1F1FA":["flag_mu","mauritius"],"1F1F2-1F1FB":["flag_mv","maldives"],"1F1F2-1F1FC":["flag_mw","malawi"],"1F1F2-1F1FD":["flag_mx","mexico"],"1F1F2-1F1FE":["flag_my","malaysia"],"1F1F2-1F1FF":["flag_mz","mozambique"],"1F1F3-1F1E6":["flag_na","namibia"],"1F1F3-1F1E8":["flag_nc","new_caledonia"],"1F1F3-1F1EA":["flag_ne","niger"],"1F1F3-1F1EB":["flag_nf","norfolk_island"],"1F1F3-1F1EC":["flag_ng","nigeria"],"1F1F3-1F1EE":["flag_ni","nicaragua"],"1F1F3-1F1F1":["flag_nl","netherlands"],"1F1F3-1F1F4":["flag_no","norway"],"1F1F3-1F1F5":["flag_np","nepal"],"1F1F3-1F1F7":["flag_nr","nauru"],"1F1F3-1F1FA":["flag_nu","niue"],"1F1F3-1F1FF":["flag_nz","new_zealand"],"1F1F4-1F1F2":["flag_om","oman"],"1F1F5-1F1E6":["flag_pa","panama"],"1F1F5-1F1EA":["flag_pe","peru"],"1F1F5-1F1EB":["flag_pf","french_polynesia"],"1F1F5-1F1EC":["flag_pg","papua_new_guinea"],"1F1F5-1F1ED":["flag_ph","philippines"],"1F1F5-1F1F0":["flag_pk","pakistan"],"1F1F5-1F1F1":["flag_pl","poland"],"1F1F5-1F1F2":["flag_pm","st_pierre_miquelon"],"1F1F5-1F1F3":["flag_pn","pitcairn_islands"],"1F1F5-1F1F7":["flag_pr","puerto_rico"],"1F1F5-1F1F8":["flag_ps","palestinian_territories"],"1F1F5-1F1F9":["flag_pt","portugal"],"1F1F5-1F1FC":["flag_pw","palau"],"1F1F5-1F1FE":["flag_py","paraguay"],"1F1F6-1F1E6":["flag_qa","qatar"],"1F1F7-1F1EA":["flag_re","reunion"],"1F1F7-1F1F4":["flag_ro","romania"],"1F1F7-1F1F8":["flag_rs","serbia"],"1F1F7-1F1FA":["flag_ru","russia"],"1F1F7-1F1FC":["flag_rw","rwanda"],"1F1F8-1F1E6":["flag_sa","saudi_arabia"],"1F1F8-1F1E7":["flag_sb","solomon_islands"],"1F1F8-1F1E8":["flag_sc","seychelles"],"1F1F8-1F1E9":["flag_sd","sudan"],"1F1F8-1F1EA":["flag_se","sweden"],"1F1F8-1F1EC":["flag_sg","singapore"],"1F1F8-1F1ED":["flag_sh","st_helena"],"1F1F8-1F1EE":["flag_si","slovenia"],"1F1F8-1F1EF":["flag_sj","svalbard_jan_mayen"],"1F1F8-1F1F0":["flag_sk","slovakia"],"1F1F8-1F1F1":["flag_sl","sierra_leone"],"1F1F8-1F1F2":["flag_sm","san_marino"],"1F1F8-1F1F3":["flag_sn","senegal"],"1F1F8-1F1F4":["flag_so","somalia"],"1F1F8-1F1F7":["flag_sr","suriname"],"1F1F8-1F1F8":["flag_ss","south_sudan"],"1F1F8-1F1F9":["flag_st","sao_tome_principe"],"1F1F8-1F1FB":["el_salvador","flag_sv"],"1F1F8-1F1FD":["flag_sx","sint_maarten"],"1F1F8-1F1FE":["flag_sy","syria"],"1F1F8-1F1FF":["eswatini","flag_sz","swaziland"],"1F1F9-1F1E6":["flag_ta","tristan_da_cunha"],"1F1F9-1F1E8":["flag_tc","turks_caicos_islands"],"1F1F9-1F1E9":["chad","flag_td"],"1F1F9-1F1EB":["flag_tf","french_southern_territories"],"1F1F9-1F1EC":["flag_tg","togo"],"1F1F9-1F1ED":["flag_th","thailand"],"1F1F9-1F1EF":["flag_tj","tajikistan"],"1F1F9-1F1F0":["flag_tk","tokelau"],"1F1F9-1F1F1":["flag_tl","timor_leste"],"1F1F9-1F1F2":["flag_tm","turkmenistan"],"1F1F9-1F1F3":["flag_tn","tunisia"],"1F1F9-1F1F4":["flag_to","tonga"],"1F1F9-1F1F7":["flag_tr","turkey_tr"],"1F1F9-1F1F9":["flag_tt","trinidad_tobago"],"1F1F9-1F1FB":["flag_tv","tuvalu"],"1F1F9-1F1FC":["flag_tw","taiwan"],"1F1F9-1F1FF":["flag_tz","tanzania"],"1F1FA-1F1E6":["flag_ua","ukraine"],"1F1FA-1F1EC":["flag_ug","uganda"],"1F1FA-1F1F2":["flag_um","us_outlying_islands"],"1F1FA-1F1F3":["flag_un","un","united_nations"],"1F1FA-1F1F8":["flag_us","united_states","usa"],"1F1FA-1F1FE":["flag_uy","uruguay"],"1F1FA-1F1FF":["flag_uz","uzbekistan"],"1F1FB-1F1E6":["flag_va","vatican_city"],"1F1FB-1F1E8":["flag_vc","st_vincent_grenadines"],"1F1FB-1F1EA":["flag_ve","venezuela"],"1F1FB-1F1EC":["british_virgin_islands","flag_vg"],"1F1FB-1F1EE":["flag_vi","us_virgin_islands"],"1F1FB-1F1F3":["flag_vn","vietnam"],"1F1FB-1F1FA":["flag_vu","vanuatu"],"1F1FC-1F1EB":["flag_wf","wallis_futuna"],"1F1FC-1F1F8":["flag_ws","samoa"],"1F1FD-1F1F0":["flag_xk","kosovo"],"1F1FE-1F1EA":["flag_ye","yemen"],"1F1FE-1F1F9":["flag_yt","mayotte"],"1F1FF-1F1E6":["flag_za","south_africa"],"1F1FF-1F1F2":["flag_zm","zambia"],"1F1FF-1F1FC":["flag_zw","zimbabwe"],"1F3F4-E0067-E0062-E0065-E006E-E0067-E007F":["england","flag_gbeng"],"1F3F4-E0067-E0062-E0073-E0063-E0074-E007F":["flag_gbsct","scotland"],"1F3F4-E0067-E0062-E0077-E006C-E0073-E007F":["flag_gbwls","wales"],"1F468-200D-2764-FE0F-200D-1F468":"couple_with_heart_mm","1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB":"couple_with_heart_mm_tone1","1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC":"couple_with_heart_mm_tone1-2","1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD":"couple_with_heart_mm_tone1-3","1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE":"couple_with_heart_mm_tone1-4","1F468-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF":"couple_with_heart_mm_tone1-5","1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB":"couple_with_heart_mm_tone2-1","1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC":"couple_with_heart_mm_tone2","1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD":"couple_with_heart_mm_tone2-3","1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE":"couple_with_heart_mm_tone2-4","1F468-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF":"couple_with_heart_mm_tone2-5","1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB":"couple_with_heart_mm_tone3-1","1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC":"couple_with_heart_mm_tone3-2","1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD":"couple_with_heart_mm_tone3","1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE":"couple_with_heart_mm_tone3-4","1F468-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF":"couple_with_heart_mm_tone3-5","1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB":"couple_with_heart_mm_tone4-1","1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC":"couple_with_heart_mm_tone4-2","1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD":"couple_with_heart_mm_tone4-3","1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE":"couple_with_heart_mm_tone4","1F468-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF":"couple_with_heart_mm_tone4-5","1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB":"couple_with_heart_mm_tone5-1","1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC":"couple_with_heart_mm_tone5-2","1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD":"couple_with_heart_mm_tone5-3","1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE":"couple_with_heart_mm_tone5-4","1F468-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF":"couple_with_heart_mm_tone5","1F468-200D-2764-FE0F-200D-1F48B-200D-1F468":"kiss_mm","1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":"kiss_mm_tone1","1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":"kiss_mm_tone1-2","1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":"kiss_mm_tone1-3","1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":"kiss_mm_tone1-4","1F468-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":"kiss_mm_tone1-5","1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":"kiss_mm_tone2-1","1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":"kiss_mm_tone2","1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":"kiss_mm_tone2-3","1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":"kiss_mm_tone2-4","1F468-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":"kiss_mm_tone2-5","1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":"kiss_mm_tone3-1","1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":"kiss_mm_tone3-2","1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":"kiss_mm_tone3","1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":"kiss_mm_tone3-4","1F468-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":"kiss_mm_tone3-5","1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":"kiss_mm_tone4-1","1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":"kiss_mm_tone4-2","1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":"kiss_mm_tone4-3","1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":"kiss_mm_tone4","1F468-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":"kiss_mm_tone4-5","1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":"kiss_mm_tone5-1","1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":"kiss_mm_tone5-2","1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":"kiss_mm_tone5-3","1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":"kiss_mm_tone5-4","1F468-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":"kiss_mm_tone5","1F468-200D-1F466":"family_mb","1F468-200D-1F466-200D-1F466":"family_mbb","1F468-200D-1F467":"family_mg","1F468-200D-1F467-200D-1F466":"family_mgb","1F468-200D-1F467-200D-1F467":"family_mgg","1F468-200D-1F468-200D-1F466":"family_mmb","1F468-200D-1F468-200D-1F466-200D-1F466":"family_mmbb","1F468-200D-1F468-200D-1F467":"family_mmg","1F468-200D-1F468-200D-1F467-200D-1F466":"family_mmgb","1F468-200D-1F468-200D-1F467-200D-1F467":"family_mmgg","1F468-200D-1F469-200D-1F466":"family_mwb","1F468-200D-1F469-200D-1F466-200D-1F466":"family_mwbb","1F468-200D-1F469-200D-1F467":"family_mwg","1F468-200D-1F469-200D-1F467-200D-1F466":"family_mwgb","1F468-200D-1F469-200D-1F467-200D-1F467":"family_mwgg","1F469-200D-2764-FE0F-200D-1F468":["couple_with_heart_mw","couple_with_heart_wm"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_mw_tone1","couple_with_heart_wm_tone1"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_mw_tone1-2","couple_with_heart_wm_tone1-2"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_mw_tone1-3","couple_with_heart_wm_tone1-3"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_mw_tone1-4","couple_with_heart_wm_tone1-4"],"1F469-1F3FB-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_mw_tone1-5","couple_with_heart_wm_tone1-5"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_mw_tone2-1","couple_with_heart_wm_tone2-1"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_mw_tone2","couple_with_heart_wm_tone2"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_mw_tone2-3","couple_with_heart_wm_tone2-3"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_mw_tone2-4","couple_with_heart_wm_tone2-4"],"1F469-1F3FC-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_mw_tone2-5","couple_with_heart_wm_tone2-5"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_mw_tone3-1","couple_with_heart_wm_tone3-1"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_mw_tone3-2","couple_with_heart_wm_tone3-2"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_mw_tone3","couple_with_heart_wm_tone3"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_mw_tone3-4","couple_with_heart_wm_tone3-4"],"1F469-1F3FD-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_mw_tone3-5","couple_with_heart_wm_tone3-5"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_mw_tone4-1","couple_with_heart_wm_tone4-1"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_mw_tone4-2","couple_with_heart_wm_tone4-2"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_mw_tone4-3","couple_with_heart_wm_tone4-3"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_mw_tone4","couple_with_heart_wm_tone4"],"1F469-1F3FE-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_mw_tone4-5","couple_with_heart_wm_tone4-5"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FB":["couple_with_heart_mw_tone5-1","couple_with_heart_wm_tone5-1"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FC":["couple_with_heart_mw_tone5-2","couple_with_heart_wm_tone5-2"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FD":["couple_with_heart_mw_tone5-3","couple_with_heart_wm_tone5-3"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FE":["couple_with_heart_mw_tone5-4","couple_with_heart_wm_tone5-4"],"1F469-1F3FF-200D-2764-FE0F-200D-1F468-1F3FF":["couple_with_heart_mw_tone5","couple_with_heart_wm_tone5"],"1F469-200D-2764-FE0F-200D-1F469":"couple_with_heart_ww","1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FB":"couple_with_heart_ww_tone1","1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FC":"couple_with_heart_ww_tone1-2","1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FD":"couple_with_heart_ww_tone1-3","1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FE":"couple_with_heart_ww_tone1-4","1F469-1F3FB-200D-2764-FE0F-200D-1F469-1F3FF":"couple_with_heart_ww_tone1-5","1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FB":"couple_with_heart_ww_tone2-1","1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FC":"couple_with_heart_ww_tone2","1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FD":"couple_with_heart_ww_tone2-3","1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FE":"couple_with_heart_ww_tone2-4","1F469-1F3FC-200D-2764-FE0F-200D-1F469-1F3FF":"couple_with_heart_ww_tone2-5","1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FB":"couple_with_heart_ww_tone3-1","1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FC":"couple_with_heart_ww_tone3-2","1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FD":"couple_with_heart_ww_tone3","1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FE":"couple_with_heart_ww_tone3-4","1F469-1F3FD-200D-2764-FE0F-200D-1F469-1F3FF":"couple_with_heart_ww_tone3-5","1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FB":"couple_with_heart_ww_tone4-1","1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FC":"couple_with_heart_ww_tone4-2","1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FD":"couple_with_heart_ww_tone4-3","1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FE":"couple_with_heart_ww_tone4","1F469-1F3FE-200D-2764-FE0F-200D-1F469-1F3FF":"couple_with_heart_ww_tone4-5","1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FB":"couple_with_heart_ww_tone5-1","1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FC":"couple_with_heart_ww_tone5-2","1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FD":"couple_with_heart_ww_tone5-3","1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FE":"couple_with_heart_ww_tone5-4","1F469-1F3FF-200D-2764-FE0F-200D-1F469-1F3FF":"couple_with_heart_ww_tone5","1F469-200D-2764-FE0F-200D-1F48B-200D-1F468":["kiss_mw","kiss_wm"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_mw_tone1","kiss_wm_tone1"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_mw_tone1-2","kiss_wm_tone1-2"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_mw_tone1-3","kiss_wm_tone1-3"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_mw_tone1-4","kiss_wm_tone1-4"],"1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_mw_tone1-5","kiss_wm_tone1-5"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_mw_tone2-1","kiss_wm_tone2-1"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_mw_tone2","kiss_wm_tone2"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_mw_tone2-3","kiss_wm_tone2-3"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_mw_tone2-4","kiss_wm_tone2-4"],"1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_mw_tone2-5","kiss_wm_tone2-5"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_mw_tone3-1","kiss_wm_tone3-1"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_mw_tone3-2","kiss_wm_tone3-2"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_mw_tone3","kiss_wm_tone3"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_mw_tone3-4","kiss_wm_tone3-4"],"1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_mw_tone3-5","kiss_wm_tone3-5"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_mw_tone4-1","kiss_wm_tone4-1"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_mw_tone4-2","kiss_wm_tone4-2"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_mw_tone4-3","kiss_wm_tone4-3"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_mw_tone4","kiss_wm_tone4"],"1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_mw_tone4-5","kiss_wm_tone4-5"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FB":["kiss_mw_tone5-1","kiss_wm_tone5-1"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FC":["kiss_mw_tone5-2","kiss_wm_tone5-2"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FD":["kiss_mw_tone5-3","kiss_wm_tone5-3"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FE":["kiss_mw_tone5-4","kiss_wm_tone5-4"],"1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F468-1F3FF":["kiss_mw_tone5","kiss_wm_tone5"],"1F469-200D-2764-FE0F-200D-1F48B-200D-1F469":"kiss_ww","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":"kiss_ww_tone1","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":"kiss_ww_tone1-2","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":"kiss_ww_tone1-3","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":"kiss_ww_tone1-4","1F469-1F3FB-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":"kiss_ww_tone1-5","1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":"kiss_ww_tone2-1","1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":"kiss_ww_tone2","1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":"kiss_ww_tone2-3","1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":"kiss_ww_tone2-4","1F469-1F3FC-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":"kiss_ww_tone2-5","1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":"kiss_ww_tone3-1","1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":"kiss_ww_tone3-2","1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":"kiss_ww_tone3","1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":"kiss_ww_tone3-4","1F469-1F3FD-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":"kiss_ww_tone3-5","1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":"kiss_ww_tone4-1","1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":"kiss_ww_tone4-2","1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":"kiss_ww_tone4-3","1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":"kiss_ww_tone4","1F469-1F3FE-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":"kiss_ww_tone4-5","1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FB":"kiss_ww_tone5-1","1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FC":"kiss_ww_tone5-2","1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FD":"kiss_ww_tone5-3","1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FE":"kiss_ww_tone5-4","1F469-1F3FF-200D-2764-FE0F-200D-1F48B-200D-1F469-1F3FF":"kiss_ww_tone5","1F469-200D-1F466":"family_wb","1F469-200D-1F466-200D-1F466":"family_wbb","1F469-200D-1F467":"family_wg","1F469-200D-1F467-200D-1F466":"family_wgb","1F469-200D-1F467-200D-1F467":"family_wgg","1F469-200D-1F469-200D-1F466":"family_wwb","1F469-200D-1F469-200D-1F466-200D-1F466":"family_wwbb","1F469-200D-1F469-200D-1F467":"family_wwg","1F469-200D-1F469-200D-1F467-200D-1F466":"family_wwgb","1F469-200D-1F469-200D-1F467-200D-1F467":"family_wwgg","1F9D1-200D-1F91D-200D-1F9D1":"people_holding_hands","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FB":"people_holding_hands_tone1","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FC":"people_holding_hands_tone1-2","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FD":"people_holding_hands_tone1-3","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FE":"people_holding_hands_tone1-4","1F9D1-1F3FB-200D-1F91D-200D-1F9D1-1F3FF":"people_holding_hands_tone1-5","1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FB":"people_holding_hands_tone2-1","1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FC":"people_holding_hands_tone2","1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FD":"people_holding_hands_tone2-3","1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FE":"people_holding_hands_tone2-4","1F9D1-1F3FC-200D-1F91D-200D-1F9D1-1F3FF":"people_holding_hands_tone2-5","1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FB":"people_holding_hands_tone3-1","1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FC":"people_holding_hands_tone3-2","1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FD":"people_holding_hands_tone3","1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FE":"people_holding_hands_tone3-4","1F9D1-1F3FD-200D-1F91D-200D-1F9D1-1F3FF":"people_holding_hands_tone3-5","1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FB":"people_holding_hands_tone4-1","1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FC":"people_holding_hands_tone4-2","1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FD":"people_holding_hands_tone4-3","1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FE":"people_holding_hands_tone4","1F9D1-1F3FE-200D-1F91D-200D-1F9D1-1F3FF":"people_holding_hands_tone4-5","1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FB":"people_holding_hands_tone5-1","1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FC":"people_holding_hands_tone5-2","1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FD":"people_holding_hands_tone5-3","1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FE":"people_holding_hands_tone5-4","1F9D1-1F3FF-200D-1F91D-200D-1F9D1-1F3FF":"people_holding_hands_tone5","1F468-200D-2695-FE0F":"man_health_worker","1F468-1F3FB-200D-2695-FE0F":"man_health_worker_tone1","1F468-1F3FC-200D-2695-FE0F":"man_health_worker_tone2","1F468-1F3FD-200D-2695-FE0F":"man_health_worker_tone3","1F468-1F3FE-200D-2695-FE0F":"man_health_worker_tone4","1F468-1F3FF-200D-2695-FE0F":"man_health_worker_tone5","1F468-200D-2696-FE0F":"man_judge","1F468-1F3FB-200D-2696-FE0F":"man_judge_tone1","1F468-1F3FC-200D-2696-FE0F":"man_judge_tone2","1F468-1F3FD-200D-2696-FE0F":"man_judge_tone3","1F468-1F3FE-200D-2696-FE0F":"man_judge_tone4","1F468-1F3FF-200D-2696-FE0F":"man_judge_tone5","1F468-200D-2708-FE0F":"man_pilot","1F468-1F3FB-200D-2708-FE0F":"man_pilot_tone1","1F468-1F3FC-200D-2708-FE0F":"man_pilot_tone2","1F468-1F3FD-200D-2708-FE0F":"man_pilot_tone3","1F468-1F3FE-200D-2708-FE0F":"man_pilot_tone4","1F468-1F3FF-200D-2708-FE0F":"man_pilot_tone5","1F468-200D-1F33E":"man_farmer","1F468-1F3FB-200D-1F33E":"man_farmer_tone1","1F468-1F3FC-200D-1F33E":"man_farmer_tone2","1F468-1F3FD-200D-1F33E":"man_farmer_tone3","1F468-1F3FE-200D-1F33E":"man_farmer_tone4","1F468-1F3FF-200D-1F33E":"man_farmer_tone5","1F468-200D-1F373":"man_cook","1F468-1F3FB-200D-1F373":"man_cook_tone1","1F468-1F3FC-200D-1F373":"man_cook_tone2","1F468-1F3FD-200D-1F373":"man_cook_tone3","1F468-1F3FE-200D-1F373":"man_cook_tone4","1F468-1F3FF-200D-1F373":"man_cook_tone5","1F468-200D-1F37C":"man_feeding_baby","1F468-1F3FB-200D-1F37C":"man_feeding_baby_tone1","1F468-1F3FC-200D-1F37C":"man_feeding_baby_tone2","1F468-1F3FD-200D-1F37C":"man_feeding_baby_tone3","1F468-1F3FE-200D-1F37C":"man_feeding_baby_tone4","1F468-1F3FF-200D-1F37C":"man_feeding_baby_tone5","1F468-200D-1F393":"man_student","1F468-1F3FB-200D-1F393":"man_student_tone1","1F468-1F3FC-200D-1F393":"man_student_tone2","1F468-1F3FD-200D-1F393":"man_student_tone3","1F468-1F3FE-200D-1F393":"man_student_tone4","1F468-1F3FF-200D-1F393":"man_student_tone5","1F468-200D-1F3A4":"man_singer","1F468-1F3FB-200D-1F3A4":"man_singer_tone1","1F468-1F3FC-200D-1F3A4":"man_singer_tone2","1F468-1F3FD-200D-1F3A4":"man_singer_tone3","1F468-1F3FE-200D-1F3A4":"man_singer_tone4","1F468-1F3FF-200D-1F3A4":"man_singer_tone5","1F468-200D-1F3A8":"man_artist","1F468-1F3FB-200D-1F3A8":"man_artist_tone1","1F468-1F3FC-200D-1F3A8":"man_artist_tone2","1F468-1F3FD-200D-1F3A8":"man_artist_tone3","1F468-1F3FE-200D-1F3A8":"man_artist_tone4","1F468-1F3FF-200D-1F3A8":"man_artist_tone5","1F468-200D-1F3EB":"man_teacher","1F468-1F3FB-200D-1F3EB":"man_teacher_tone1","1F468-1F3FC-200D-1F3EB":"man_teacher_tone2","1F468-1F3FD-200D-1F3EB":"man_teacher_tone3","1F468-1F3FE-200D-1F3EB":"man_teacher_tone4","1F468-1F3FF-200D-1F3EB":"man_teacher_tone5","1F468-200D-1F3ED":"man_factory_worker","1F468-1F3FB-200D-1F3ED":"man_factory_worker_tone1","1F468-1F3FC-200D-1F3ED":"man_factory_worker_tone2","1F468-1F3FD-200D-1F3ED":"man_factory_worker_tone3","1F468-1F3FE-200D-1F3ED":"man_factory_worker_tone4","1F468-1F3FF-200D-1F3ED":"man_factory_worker_tone5","1F468-200D-1F4BB":"man_technologist","1F468-1F3FB-200D-1F4BB":"man_technologist_tone1","1F468-1F3FC-200D-1F4BB":"man_technologist_tone2","1F468-1F3FD-200D-1F4BB":"man_technologist_tone3","1F468-1F3FE-200D-1F4BB":"man_technologist_tone4","1F468-1F3FF-200D-1F4BB":"man_technologist_tone5","1F468-200D-1F4BC":"man_office_worker","1F468-1F3FB-200D-1F4BC":"man_office_worker_tone1","1F468-1F3FC-200D-1F4BC":"man_office_worker_tone2","1F468-1F3FD-200D-1F4BC":"man_office_worker_tone3","1F468-1F3FE-200D-1F4BC":"man_office_worker_tone4","1F468-1F3FF-200D-1F4BC":"man_office_worker_tone5","1F468-200D-1F527":"man_mechanic","1F468-1F3FB-200D-1F527":"man_mechanic_tone1","1F468-1F3FC-200D-1F527":"man_mechanic_tone2","1F468-1F3FD-200D-1F527":"man_mechanic_tone3","1F468-1F3FE-200D-1F527":"man_mechanic_tone4","1F468-1F3FF-200D-1F527":"man_mechanic_tone5","1F468-200D-1F52C":"man_scientist","1F468-1F3FB-200D-1F52C":"man_scientist_tone1","1F468-1F3FC-200D-1F52C":"man_scientist_tone2","1F468-1F3FD-200D-1F52C":"man_scientist_tone3","1F468-1F3FE-200D-1F52C":"man_scientist_tone4","1F468-1F3FF-200D-1F52C":"man_scientist_tone5","1F468-200D-1F680":"man_astronaut","1F468-1F3FB-200D-1F680":"man_astronaut_tone1","1F468-1F3FC-200D-1F680":"man_astronaut_tone2","1F468-1F3FD-200D-1F680":"man_astronaut_tone3","1F468-1F3FE-200D-1F680":"man_astronaut_tone4","1F468-1F3FF-200D-1F680":"man_astronaut_tone5","1F468-200D-1F692":"man_firefighter","1F468-1F3FB-200D-1F692":"man_firefighter_tone1","1F468-1F3FC-200D-1F692":"man_firefighter_tone2","1F468-1F3FD-200D-1F692":"man_firefighter_tone3","1F468-1F3FE-200D-1F692":"man_firefighter_tone4","1F468-1F3FF-200D-1F692":"man_firefighter_tone5","1F468-200D-1F9AF":["man_with_probing_cane","man_with_white_cane"],"1F468-1F3FB-200D-1F9AF":["man_with_probing_cane_tone1","man_with_white_cane_tone1"],"1F468-1F3FC-200D-1F9AF":["man_with_probing_cane_tone2","man_with_white_cane_tone2"],"1F468-1F3FD-200D-1F9AF":["man_with_probing_cane_tone3","man_with_white_cane_tone3"],"1F468-1F3FE-200D-1F9AF":["man_with_probing_cane_tone4","man_with_white_cane_tone4"],"1F468-1F3FF-200D-1F9AF":["man_with_probing_cane_tone5","man_with_white_cane_tone5"],"1F468-200D-1F9BC":"man_in_motorized_wheelchair","1F468-1F3FB-200D-1F9BC":"man_in_motorized_wheelchair_tone1","1F468-1F3FC-200D-1F9BC":"man_in_motorized_wheelchair_tone2","1F468-1F3FD-200D-1F9BC":"man_in_motorized_wheelchair_tone3","1F468-1F3FE-200D-1F9BC":"man_in_motorized_wheelchair_tone4","1F468-1F3FF-200D-1F9BC":"man_in_motorized_wheelchair_tone5","1F468-200D-1F9BD":"man_in_manual_wheelchair","1F468-1F3FB-200D-1F9BD":"man_in_manual_wheelchair_tone1","1F468-1F3FC-200D-1F9BD":"man_in_manual_wheelchair_tone2","1F468-1F3FD-200D-1F9BD":"man_in_manual_wheelchair_tone3","1F468-1F3FE-200D-1F9BD":"man_in_manual_wheelchair_tone4","1F468-1F3FF-200D-1F9BD":"man_in_manual_wheelchair_tone5","1F469-200D-2695-FE0F":"woman_health_worker","1F469-1F3FB-200D-2695-FE0F":"woman_health_worker_tone1","1F469-1F3FC-200D-2695-FE0F":"woman_health_worker_tone2","1F469-1F3FD-200D-2695-FE0F":"woman_health_worker_tone3","1F469-1F3FE-200D-2695-FE0F":"woman_health_worker_tone4","1F469-1F3FF-200D-2695-FE0F":"woman_health_worker_tone5","1F469-200D-2696-FE0F":"woman_judge","1F469-1F3FB-200D-2696-FE0F":"woman_judge_tone1","1F469-1F3FC-200D-2696-FE0F":"woman_judge_tone2","1F469-1F3FD-200D-2696-FE0F":"woman_judge_tone3","1F469-1F3FE-200D-2696-FE0F":"woman_judge_tone4","1F469-1F3FF-200D-2696-FE0F":"woman_judge_tone5","1F469-200D-2708-FE0F":"woman_pilot","1F469-1F3FB-200D-2708-FE0F":"woman_pilot_tone1","1F469-1F3FC-200D-2708-FE0F":"woman_pilot_tone2","1F469-1F3FD-200D-2708-FE0F":"woman_pilot_tone3","1F469-1F3FE-200D-2708-FE0F":"woman_pilot_tone4","1F469-1F3FF-200D-2708-FE0F":"woman_pilot_tone5","1F469-200D-1F33E":"woman_farmer","1F469-1F3FB-200D-1F33E":"woman_farmer_tone1","1F469-1F3FC-200D-1F33E":"woman_farmer_tone2","1F469-1F3FD-200D-1F33E":"woman_farmer_tone3","1F469-1F3FE-200D-1F33E":"woman_farmer_tone4","1F469-1F3FF-200D-1F33E":"woman_farmer_tone5","1F469-200D-1F373":"woman_cook","1F469-1F3FB-200D-1F373":"woman_cook_tone1","1F469-1F3FC-200D-1F373":"woman_cook_tone2","1F469-1F3FD-200D-1F373":"woman_cook_tone3","1F469-1F3FE-200D-1F373":"woman_cook_tone4","1F469-1F3FF-200D-1F373":"woman_cook_tone5","1F469-200D-1F37C":"woman_feeding_baby","1F469-1F3FB-200D-1F37C":"woman_feeding_baby_tone1","1F469-1F3FC-200D-1F37C":"woman_feeding_baby_tone2","1F469-1F3FD-200D-1F37C":"woman_feeding_baby_tone3","1F469-1F3FE-200D-1F37C":"woman_feeding_baby_tone4","1F469-1F3FF-200D-1F37C":"woman_feeding_baby_tone5","1F469-200D-1F393":"woman_student","1F469-1F3FB-200D-1F393":"woman_student_tone1","1F469-1F3FC-200D-1F393":"woman_student_tone2","1F469-1F3FD-200D-1F393":"woman_student_tone3","1F469-1F3FE-200D-1F393":"woman_student_tone4","1F469-1F3FF-200D-1F393":"woman_student_tone5","1F469-200D-1F3A4":"woman_singer","1F469-1F3FB-200D-1F3A4":"woman_singer_tone1","1F469-1F3FC-200D-1F3A4":"woman_singer_tone2","1F469-1F3FD-200D-1F3A4":"woman_singer_tone3","1F469-1F3FE-200D-1F3A4":"woman_singer_tone4","1F469-1F3FF-200D-1F3A4":"woman_singer_tone5","1F469-200D-1F3A8":"woman_artist","1F469-1F3FB-200D-1F3A8":"woman_artist_tone1","1F469-1F3FC-200D-1F3A8":"woman_artist_tone2","1F469-1F3FD-200D-1F3A8":"woman_artist_tone3","1F469-1F3FE-200D-1F3A8":"woman_artist_tone4","1F469-1F3FF-200D-1F3A8":"woman_artist_tone5","1F469-200D-1F3EB":"woman_teacher","1F469-1F3FB-200D-1F3EB":"woman_teacher_tone1","1F469-1F3FC-200D-1F3EB":"woman_teacher_tone2","1F469-1F3FD-200D-1F3EB":"woman_teacher_tone3","1F469-1F3FE-200D-1F3EB":"woman_teacher_tone4","1F469-1F3FF-200D-1F3EB":"woman_teacher_tone5","1F469-200D-1F3ED":"woman_factory_worker","1F469-1F3FB-200D-1F3ED":"woman_factory_worker_tone1","1F469-1F3FC-200D-1F3ED":"woman_factory_worker_tone2","1F469-1F3FD-200D-1F3ED":"woman_factory_worker_tone3","1F469-1F3FE-200D-1F3ED":"woman_factory_worker_tone4","1F469-1F3FF-200D-1F3ED":"woman_factory_worker_tone5","1F469-200D-1F4BB":"woman_technologist","1F469-1F3FB-200D-1F4BB":"woman_technologist_tone1","1F469-1F3FC-200D-1F4BB":"woman_technologist_tone2","1F469-1F3FD-200D-1F4BB":"woman_technologist_tone3","1F469-1F3FE-200D-1F4BB":"woman_technologist_tone4","1F469-1F3FF-200D-1F4BB":"woman_technologist_tone5","1F469-200D-1F4BC":"woman_office_worker","1F469-1F3FB-200D-1F4BC":"woman_office_worker_tone1","1F469-1F3FC-200D-1F4BC":"woman_office_worker_tone2","1F469-1F3FD-200D-1F4BC":"woman_office_worker_tone3","1F469-1F3FE-200D-1F4BC":"woman_office_worker_tone4","1F469-1F3FF-200D-1F4BC":"woman_office_worker_tone5","1F469-200D-1F527":"woman_mechanic","1F469-1F3FB-200D-1F527":"woman_mechanic_tone1","1F469-1F3FC-200D-1F527":"woman_mechanic_tone2","1F469-1F3FD-200D-1F527":"woman_mechanic_tone3","1F469-1F3FE-200D-1F527":"woman_mechanic_tone4","1F469-1F3FF-200D-1F527":"woman_mechanic_tone5","1F469-200D-1F52C":"woman_scientist","1F469-1F3FB-200D-1F52C":"woman_scientist_tone1","1F469-1F3FC-200D-1F52C":"woman_scientist_tone2","1F469-1F3FD-200D-1F52C":"woman_scientist_tone3","1F469-1F3FE-200D-1F52C":"woman_scientist_tone4","1F469-1F3FF-200D-1F52C":"woman_scientist_tone5","1F469-200D-1F680":"woman_astronaut","1F469-1F3FB-200D-1F680":"woman_astronaut_tone1","1F469-1F3FC-200D-1F680":"woman_astronaut_tone2","1F469-1F3FD-200D-1F680":"woman_astronaut_tone3","1F469-1F3FE-200D-1F680":"woman_astronaut_tone4","1F469-1F3FF-200D-1F680":"woman_astronaut_tone5","1F469-200D-1F692":"woman_firefighter","1F469-1F3FB-200D-1F692":"woman_firefighter_tone1","1F469-1F3FC-200D-1F692":"woman_firefighter_tone2","1F469-1F3FD-200D-1F692":"woman_firefighter_tone3","1F469-1F3FE-200D-1F692":"woman_firefighter_tone4","1F469-1F3FF-200D-1F692":"woman_firefighter_tone5","1F469-200D-1F9AF":["woman_with_probing_cane","woman_with_white_cane"],"1F469-1F3FB-200D-1F9AF":["woman_with_probing_cane_tone1","woman_with_white_cane_tone1"],"1F469-1F3FC-200D-1F9AF":["woman_with_probing_cane_tone2","woman_with_white_cane_tone2"],"1F469-1F3FD-200D-1F9AF":["woman_with_probing_cane_tone3","woman_with_white_cane_tone3"],"1F469-1F3FE-200D-1F9AF":["woman_with_probing_cane_tone4","woman_with_white_cane_tone4"],"1F469-1F3FF-200D-1F9AF":["woman_with_probing_cane_tone5","woman_with_white_cane_tone5"],"1F469-200D-1F9BC":"woman_in_motorized_wheelchair","1F469-1F3FB-200D-1F9BC":"woman_in_motorized_wheelchair_tone1","1F469-1F3FC-200D-1F9BC":"woman_in_motorized_wheelchair_tone2","1F469-1F3FD-200D-1F9BC":"woman_in_motorized_wheelchair_tone3","1F469-1F3FE-200D-1F9BC":"woman_in_motorized_wheelchair_tone4","1F469-1F3FF-200D-1F9BC":"woman_in_motorized_wheelchair_tone5","1F469-200D-1F9BD":"woman_in_manual_wheelchair","1F469-1F3FB-200D-1F9BD":"woman_in_manual_wheelchair_tone1","1F469-1F3FC-200D-1F9BD":"woman_in_manual_wheelchair_tone2","1F469-1F3FD-200D-1F9BD":"woman_in_manual_wheelchair_tone3","1F469-1F3FE-200D-1F9BD":"woman_in_manual_wheelchair_tone4","1F469-1F3FF-200D-1F9BD":"woman_in_manual_wheelchair_tone5","1F9D1-200D-2695-FE0F":"health_worker","1F9D1-1F3FB-200D-2695-FE0F":"health_worker_tone1","1F9D1-1F3FC-200D-2695-FE0F":"health_worker_tone2","1F9D1-1F3FD-200D-2695-FE0F":"health_worker_tone3","1F9D1-1F3FE-200D-2695-FE0F":"health_worker_tone4","1F9D1-1F3FF-200D-2695-FE0F":"health_worker_tone5","1F9D1-200D-2696-FE0F":"judge","1F9D1-1F3FB-200D-2696-FE0F":"judge_tone1","1F9D1-1F3FC-200D-2696-FE0F":"judge_tone2","1F9D1-1F3FD-200D-2696-FE0F":"judge_tone3","1F9D1-1F3FE-200D-2696-FE0F":"judge_tone4","1F9D1-1F3FF-200D-2696-FE0F":"judge_tone5","1F9D1-200D-2708-FE0F":"pilot","1F9D1-1F3FB-200D-2708-FE0F":"pilot_tone1","1F9D1-1F3FC-200D-2708-FE0F":"pilot_tone2","1F9D1-1F3FD-200D-2708-FE0F":"pilot_tone3","1F9D1-1F3FE-200D-2708-FE0F":"pilot_tone4","1F9D1-1F3FF-200D-2708-FE0F":"pilot_tone5","1F9D1-200D-1F33E":"farmer","1F9D1-1F3FB-200D-1F33E":"farmer_tone1","1F9D1-1F3FC-200D-1F33E":"farmer_tone2","1F9D1-1F3FD-200D-1F33E":"farmer_tone3","1F9D1-1F3FE-200D-1F33E":"farmer_tone4","1F9D1-1F3FF-200D-1F33E":"farmer_tone5","1F9D1-200D-1F373":"cook","1F9D1-1F3FB-200D-1F373":"cook_tone1","1F9D1-1F3FC-200D-1F373":"cook_tone2","1F9D1-1F3FD-200D-1F373":"cook_tone3","1F9D1-1F3FE-200D-1F373":"cook_tone4","1F9D1-1F3FF-200D-1F373":"cook_tone5","1F9D1-200D-1F37C":"person_feeding_baby","1F9D1-1F3FB-200D-1F37C":"person_feeding_baby_tone1","1F9D1-1F3FC-200D-1F37C":"person_feeding_baby_tone2","1F9D1-1F3FD-200D-1F37C":"person_feeding_baby_tone3","1F9D1-1F3FE-200D-1F37C":"person_feeding_baby_tone4","1F9D1-1F3FF-200D-1F37C":"person_feeding_baby_tone5","1F9D1-200D-1F393":"student","1F9D1-1F3FB-200D-1F393":"student_tone1","1F9D1-1F3FC-200D-1F393":"student_tone2","1F9D1-1F3FD-200D-1F393":"student_tone3","1F9D1-1F3FE-200D-1F393":"student_tone4","1F9D1-1F3FF-200D-1F393":"student_tone5","1F9D1-200D-1F3A4":"singer","1F9D1-1F3FB-200D-1F3A4":"singer_tone1","1F9D1-1F3FC-200D-1F3A4":"singer_tone2","1F9D1-1F3FD-200D-1F3A4":"singer_tone3","1F9D1-1F3FE-200D-1F3A4":"singer_tone4","1F9D1-1F3FF-200D-1F3A4":"singer_tone5","1F9D1-200D-1F3A8":"artist","1F9D1-1F3FB-200D-1F3A8":"artist_tone1","1F9D1-1F3FC-200D-1F3A8":"artist_tone2","1F9D1-1F3FD-200D-1F3A8":"artist_tone3","1F9D1-1F3FE-200D-1F3A8":"artist_tone4","1F9D1-1F3FF-200D-1F3A8":"artist_tone5","1F9D1-200D-1F3EB":"teacher","1F9D1-1F3FB-200D-1F3EB":"teacher_tone1","1F9D1-1F3FC-200D-1F3EB":"teacher_tone2","1F9D1-1F3FD-200D-1F3EB":"teacher_tone3","1F9D1-1F3FE-200D-1F3EB":"teacher_tone4","1F9D1-1F3FF-200D-1F3EB":"teacher_tone5","1F9D1-200D-1F3ED":"factory_worker","1F9D1-1F3FB-200D-1F3ED":"factory_worker_tone1","1F9D1-1F3FC-200D-1F3ED":"factory_worker_tone2","1F9D1-1F3FD-200D-1F3ED":"factory_worker_tone3","1F9D1-1F3FE-200D-1F3ED":"factory_worker_tone4","1F9D1-1F3FF-200D-1F3ED":"factory_worker_tone5","1F9D1-200D-1F4BB":"technologist","1F9D1-1F3FB-200D-1F4BB":"technologist_tone1","1F9D1-1F3FC-200D-1F4BB":"technologist_tone2","1F9D1-1F3FD-200D-1F4BB":"technologist_tone3","1F9D1-1F3FE-200D-1F4BB":"technologist_tone4","1F9D1-1F3FF-200D-1F4BB":"technologist_tone5","1F9D1-200D-1F4BC":"office_worker","1F9D1-1F3FB-200D-1F4BC":"office_worker_tone1","1F9D1-1F3FC-200D-1F4BC":"office_worker_tone2","1F9D1-1F3FD-200D-1F4BC":"office_worker_tone3","1F9D1-1F3FE-200D-1F4BC":"office_worker_tone4","1F9D1-1F3FF-200D-1F4BC":"office_worker_tone5","1F9D1-200D-1F527":"mechanic","1F9D1-1F3FB-200D-1F527":"mechanic_tone1","1F9D1-1F3FC-200D-1F527":"mechanic_tone2","1F9D1-1F3FD-200D-1F527":"mechanic_tone3","1F9D1-1F3FE-200D-1F527":"mechanic_tone4","1F9D1-1F3FF-200D-1F527":"mechanic_tone5","1F9D1-200D-1F52C":"scientist","1F9D1-1F3FB-200D-1F52C":"scientist_tone1","1F9D1-1F3FC-200D-1F52C":"scientist_tone2","1F9D1-1F3FD-200D-1F52C":"scientist_tone3","1F9D1-1F3FE-200D-1F52C":"scientist_tone4","1F9D1-1F3FF-200D-1F52C":"scientist_tone5","1F9D1-200D-1F680":"astronaut","1F9D1-1F3FB-200D-1F680":"astronaut_tone1","1F9D1-1F3FC-200D-1F680":"astronaut_tone2","1F9D1-1F3FD-200D-1F680":"astronaut_tone3","1F9D1-1F3FE-200D-1F680":"astronaut_tone4","1F9D1-1F3FF-200D-1F680":"astronaut_tone5","1F9D1-200D-1F692":"firefighter","1F9D1-1F3FB-200D-1F692":"firefighter_tone1","1F9D1-1F3FC-200D-1F692":"firefighter_tone2","1F9D1-1F3FD-200D-1F692":"firefighter_tone3","1F9D1-1F3FE-200D-1F692":"firefighter_tone4","1F9D1-1F3FF-200D-1F692":"firefighter_tone5","1F9D1-200D-1F9AF":["person_with_probing_cane","person_with_white_cane"],"1F9D1-1F3FB-200D-1F9AF":["person_with_probing_cane_tone1","person_with_white_cane_tone1"],"1F9D1-1F3FC-200D-1F9AF":["person_with_probing_cane_tone2","person_with_white_cane_tone2"],"1F9D1-1F3FD-200D-1F9AF":["person_with_probing_cane_tone3","person_with_white_cane_tone3"],"1F9D1-1F3FE-200D-1F9AF":["person_with_probing_cane_tone4","person_with_white_cane_tone4"],"1F9D1-1F3FF-200D-1F9AF":["person_with_probing_cane_tone5","person_with_white_cane_tone5"],"1F9D1-200D-1F9BC":"person_in_motorized_wheelchair","1F9D1-1F3FB-200D-1F9BC":"person_in_motorized_wheelchair_tone1","1F9D1-1F3FC-200D-1F9BC":"person_in_motorized_wheelchair_tone2","1F9D1-1F3FD-200D-1F9BC":"person_in_motorized_wheelchair_tone3","1F9D1-1F3FE-200D-1F9BC":"person_in_motorized_wheelchair_tone4","1F9D1-1F3FF-200D-1F9BC":"person_in_motorized_wheelchair_tone5","1F9D1-200D-1F9BD":"person_in_manual_wheelchair","1F9D1-1F3FB-200D-1F9BD":"person_in_manual_wheelchair_tone1","1F9D1-1F3FC-200D-1F9BD":"person_in_manual_wheelchair_tone2","1F9D1-1F3FD-200D-1F9BD":"person_in_manual_wheelchair_tone3","1F9D1-1F3FE-200D-1F9BD":"person_in_manual_wheelchair_tone4","1F9D1-1F3FF-200D-1F9BD":"person_in_manual_wheelchair_tone5","26F9-FE0F-200D-2640-FE0F":"woman_bouncing_ball","26F9-1F3FB-200D-2640-FE0F":"woman_bouncing_ball_tone1","26F9-1F3FC-200D-2640-FE0F":"woman_bouncing_ball_tone2","26F9-1F3FD-200D-2640-FE0F":"woman_bouncing_ball_tone3","26F9-1F3FE-200D-2640-FE0F":"woman_bouncing_ball_tone4","26F9-1F3FF-200D-2640-FE0F":"woman_bouncing_ball_tone5","26F9-FE0F-200D-2642-FE0F":"man_bouncing_ball","26F9-1F3FB-200D-2642-FE0F":"man_bouncing_ball_tone1","26F9-1F3FC-200D-2642-FE0F":"man_bouncing_ball_tone2","26F9-1F3FD-200D-2642-FE0F":"man_bouncing_ball_tone3","26F9-1F3FE-200D-2642-FE0F":"man_bouncing_ball_tone4","26F9-1F3FF-200D-2642-FE0F":"man_bouncing_ball_tone5","1F3C3-200D-2640-FE0F":"woman_running","1F3C3-1F3FB-200D-2640-FE0F":"woman_running_tone1","1F3C3-1F3FC-200D-2640-FE0F":"woman_running_tone2","1F3C3-1F3FD-200D-2640-FE0F":"woman_running_tone3","1F3C3-1F3FE-200D-2640-FE0F":"woman_running_tone4","1F3C3-1F3FF-200D-2640-FE0F":"woman_running_tone5","1F3C3-200D-2642-FE0F":"man_running","1F3C3-1F3FB-200D-2642-FE0F":"man_running_tone1","1F3C3-1F3FC-200D-2642-FE0F":"man_running_tone2","1F3C3-1F3FD-200D-2642-FE0F":"man_running_tone3","1F3C3-1F3FE-200D-2642-FE0F":"man_running_tone4","1F3C3-1F3FF-200D-2642-FE0F":"man_running_tone5","1F3C4-200D-2640-FE0F":"woman_surfing","1F3C4-1F3FB-200D-2640-FE0F":"woman_surfing_tone1","1F3C4-1F3FC-200D-2640-FE0F":"woman_surfing_tone2","1F3C4-1F3FD-200D-2640-FE0F":"woman_surfing_tone3","1F3C4-1F3FE-200D-2640-FE0F":"woman_surfing_tone4","1F3C4-1F3FF-200D-2640-FE0F":"woman_surfing_tone5","1F3C4-200D-2642-FE0F":"man_surfing","1F3C4-1F3FB-200D-2642-FE0F":"man_surfing_tone1","1F3C4-1F3FC-200D-2642-FE0F":"man_surfing_tone2","1F3C4-1F3FD-200D-2642-FE0F":"man_surfing_tone3","1F3C4-1F3FE-200D-2642-FE0F":"man_surfing_tone4","1F3C4-1F3FF-200D-2642-FE0F":"man_surfing_tone5","1F3CA-200D-2640-FE0F":"woman_swimming","1F3CA-1F3FB-200D-2640-FE0F":"woman_swimming_tone1","1F3CA-1F3FC-200D-2640-FE0F":"woman_swimming_tone2","1F3CA-1F3FD-200D-2640-FE0F":"woman_swimming_tone3","1F3CA-1F3FE-200D-2640-FE0F":"woman_swimming_tone4","1F3CA-1F3FF-200D-2640-FE0F":"woman_swimming_tone5","1F3CA-200D-2642-FE0F":"man_swimming","1F3CA-1F3FB-200D-2642-FE0F":"man_swimming_tone1","1F3CA-1F3FC-200D-2642-FE0F":"man_swimming_tone2","1F3CA-1F3FD-200D-2642-FE0F":"man_swimming_tone3","1F3CA-1F3FE-200D-2642-FE0F":"man_swimming_tone4","1F3CA-1F3FF-200D-2642-FE0F":"man_swimming_tone5","1F3CB-FE0F-200D-2640-FE0F":"woman_lifting_weights","1F3CB-1F3FB-200D-2640-FE0F":"woman_lifting_weights_tone1","1F3CB-1F3FC-200D-2640-FE0F":"woman_lifting_weights_tone2","1F3CB-1F3FD-200D-2640-FE0F":"woman_lifting_weights_tone3","1F3CB-1F3FE-200D-2640-FE0F":"woman_lifting_weights_tone4","1F3CB-1F3FF-200D-2640-FE0F":"woman_lifting_weights_tone5","1F3CB-FE0F-200D-2642-FE0F":"man_lifting_weights","1F3CB-1F3FB-200D-2642-FE0F":"man_lifting_weights_tone1","1F3CB-1F3FC-200D-2642-FE0F":"man_lifting_weights_tone2","1F3CB-1F3FD-200D-2642-FE0F":"man_lifting_weights_tone3","1F3CB-1F3FE-200D-2642-FE0F":"man_lifting_weights_tone4","1F3CB-1F3FF-200D-2642-FE0F":"man_lifting_weights_tone5","1F3CC-FE0F-200D-2640-FE0F":"woman_golfing","1F3CC-1F3FB-200D-2640-FE0F":"woman_golfing_tone1","1F3CC-1F3FC-200D-2640-FE0F":"woman_golfing_tone2","1F3CC-1F3FD-200D-2640-FE0F":"woman_golfing_tone3","1F3CC-1F3FE-200D-2640-FE0F":"woman_golfing_tone4","1F3CC-1F3FF-200D-2640-FE0F":"woman_golfing_tone5","1F3CC-FE0F-200D-2642-FE0F":"man_golfing","1F3CC-1F3FB-200D-2642-FE0F":"man_golfing_tone1","1F3CC-1F3FC-200D-2642-FE0F":"man_golfing_tone2","1F3CC-1F3FD-200D-2642-FE0F":"man_golfing_tone3","1F3CC-1F3FE-200D-2642-FE0F":"man_golfing_tone4","1F3CC-1F3FF-200D-2642-FE0F":"man_golfing_tone5","1F46E-200D-2640-FE0F":"woman_police_officer","1F46E-1F3FB-200D-2640-FE0F":"woman_police_officer_tone1","1F46E-1F3FC-200D-2640-FE0F":"woman_police_officer_tone2","1F46E-1F3FD-200D-2640-FE0F":"woman_police_officer_tone3","1F46E-1F3FE-200D-2640-FE0F":"woman_police_officer_tone4","1F46E-1F3FF-200D-2640-FE0F":"woman_police_officer_tone5","1F46E-200D-2642-FE0F":"man_police_officer","1F46E-1F3FB-200D-2642-FE0F":"man_police_officer_tone1","1F46E-1F3FC-200D-2642-FE0F":"man_police_officer_tone2","1F46E-1F3FD-200D-2642-FE0F":"man_police_officer_tone3","1F46E-1F3FE-200D-2642-FE0F":"man_police_officer_tone4","1F46E-1F3FF-200D-2642-FE0F":"man_police_officer_tone5","1F46F-200D-2640-FE0F":"women_with_bunny_ears_partying","1F46F-200D-2642-FE0F":"men_with_bunny_ears_partying","1F470-200D-2640-FE0F":"woman_with_veil","1F470-1F3FB-200D-2640-FE0F":"woman_with_veil_tone1","1F470-1F3FC-200D-2640-FE0F":"woman_with_veil_tone2","1F470-1F3FD-200D-2640-FE0F":"woman_with_veil_tone3","1F470-1F3FE-200D-2640-FE0F":"woman_with_veil_tone4","1F470-1F3FF-200D-2640-FE0F":"woman_with_veil_tone5","1F470-200D-2642-FE0F":"man_with_veil","1F470-1F3FB-200D-2642-FE0F":"man_with_veil_tone1","1F470-1F3FC-200D-2642-FE0F":"man_with_veil_tone2","1F470-1F3FD-200D-2642-FE0F":"man_with_veil_tone3","1F470-1F3FE-200D-2642-FE0F":"man_with_veil_tone4","1F470-1F3FF-200D-2642-FE0F":"man_with_veil_tone5","1F471-200D-2640-FE0F":"woman_blond_haired","1F471-1F3FB-200D-2640-FE0F":"woman_blond_haired_tone1","1F471-1F3FC-200D-2640-FE0F":"woman_blond_haired_tone2","1F471-1F3FD-200D-2640-FE0F":"woman_blond_haired_tone3","1F471-1F3FE-200D-2640-FE0F":"woman_blond_haired_tone4","1F471-1F3FF-200D-2640-FE0F":"woman_blond_haired_tone5","1F471-200D-2642-FE0F":"man_blond_haired","1F471-1F3FB-200D-2642-FE0F":"man_blond_haired_tone1","1F471-1F3FC-200D-2642-FE0F":"man_blond_haired_tone2","1F471-1F3FD-200D-2642-FE0F":"man_blond_haired_tone3","1F471-1F3FE-200D-2642-FE0F":"man_blond_haired_tone4","1F471-1F3FF-200D-2642-FE0F":"man_blond_haired_tone5","1F473-200D-2640-FE0F":"woman_wearing_turban","1F473-1F3FB-200D-2640-FE0F":"woman_wearing_turban_tone1","1F473-1F3FC-200D-2640-FE0F":"woman_wearing_turban_tone2","1F473-1F3FD-200D-2640-FE0F":"woman_wearing_turban_tone3","1F473-1F3FE-200D-2640-FE0F":"woman_wearing_turban_tone4","1F473-1F3FF-200D-2640-FE0F":"woman_wearing_turban_tone5","1F473-200D-2642-FE0F":"man_wearing_turban","1F473-1F3FB-200D-2642-FE0F":"man_wearing_turban_tone1","1F473-1F3FC-200D-2642-FE0F":"man_wearing_turban_tone2","1F473-1F3FD-200D-2642-FE0F":"man_wearing_turban_tone3","1F473-1F3FE-200D-2642-FE0F":"man_wearing_turban_tone4","1F473-1F3FF-200D-2642-FE0F":"man_wearing_turban_tone5","1F477-200D-2640-FE0F":"woman_construction_worker","1F477-1F3FB-200D-2640-FE0F":"woman_construction_worker_tone1","1F477-1F3FC-200D-2640-FE0F":"woman_construction_worker_tone2","1F477-1F3FD-200D-2640-FE0F":"woman_construction_worker_tone3","1F477-1F3FE-200D-2640-FE0F":"woman_construction_worker_tone4","1F477-1F3FF-200D-2640-FE0F":"woman_construction_worker_tone5","1F477-200D-2642-FE0F":"man_construction_worker","1F477-1F3FB-200D-2642-FE0F":"man_construction_worker_tone1","1F477-1F3FC-200D-2642-FE0F":"man_construction_worker_tone2","1F477-1F3FD-200D-2642-FE0F":"man_construction_worker_tone3","1F477-1F3FE-200D-2642-FE0F":"man_construction_worker_tone4","1F477-1F3FF-200D-2642-FE0F":"man_construction_worker_tone5","1F481-200D-2640-FE0F":"woman_tipping_hand","1F481-1F3FB-200D-2640-FE0F":"woman_tipping_hand_tone1","1F481-1F3FC-200D-2640-FE0F":"woman_tipping_hand_tone2","1F481-1F3FD-200D-2640-FE0F":"woman_tipping_hand_tone3","1F481-1F3FE-200D-2640-FE0F":"woman_tipping_hand_tone4","1F481-1F3FF-200D-2640-FE0F":"woman_tipping_hand_tone5","1F481-200D-2642-FE0F":"man_tipping_hand","1F481-1F3FB-200D-2642-FE0F":"man_tipping_hand_tone1","1F481-1F3FC-200D-2642-FE0F":"man_tipping_hand_tone2","1F481-1F3FD-200D-2642-FE0F":"man_tipping_hand_tone3","1F481-1F3FE-200D-2642-FE0F":"man_tipping_hand_tone4","1F481-1F3FF-200D-2642-FE0F":"man_tipping_hand_tone5","1F482-200D-2640-FE0F":"woman_guard","1F482-1F3FB-200D-2640-FE0F":"woman_guard_tone1","1F482-1F3FC-200D-2640-FE0F":"woman_guard_tone2","1F482-1F3FD-200D-2640-FE0F":"woman_guard_tone3","1F482-1F3FE-200D-2640-FE0F":"woman_guard_tone4","1F482-1F3FF-200D-2640-FE0F":"woman_guard_tone5","1F482-200D-2642-FE0F":"man_guard","1F482-1F3FB-200D-2642-FE0F":"man_guard_tone1","1F482-1F3FC-200D-2642-FE0F":"man_guard_tone2","1F482-1F3FD-200D-2642-FE0F":"man_guard_tone3","1F482-1F3FE-200D-2642-FE0F":"man_guard_tone4","1F482-1F3FF-200D-2642-FE0F":"man_guard_tone5","1F486-200D-2640-FE0F":"woman_getting_massage","1F486-1F3FB-200D-2640-FE0F":"woman_getting_massage_tone1","1F486-1F3FC-200D-2640-FE0F":"woman_getting_massage_tone2","1F486-1F3FD-200D-2640-FE0F":"woman_getting_massage_tone3","1F486-1F3FE-200D-2640-FE0F":"woman_getting_massage_tone4","1F486-1F3FF-200D-2640-FE0F":"woman_getting_massage_tone5","1F486-200D-2642-FE0F":"man_getting_massage","1F486-1F3FB-200D-2642-FE0F":"man_getting_massage_tone1","1F486-1F3FC-200D-2642-FE0F":"man_getting_massage_tone2","1F486-1F3FD-200D-2642-FE0F":"man_getting_massage_tone3","1F486-1F3FE-200D-2642-FE0F":"man_getting_massage_tone4","1F486-1F3FF-200D-2642-FE0F":"man_getting_massage_tone5","1F487-200D-2640-FE0F":"woman_getting_haircut","1F487-1F3FB-200D-2640-FE0F":"woman_getting_haircut_tone1","1F487-1F3FC-200D-2640-FE0F":"woman_getting_haircut_tone2","1F487-1F3FD-200D-2640-FE0F":"woman_getting_haircut_tone3","1F487-1F3FE-200D-2640-FE0F":"woman_getting_haircut_tone4","1F487-1F3FF-200D-2640-FE0F":"woman_getting_haircut_tone5","1F487-200D-2642-FE0F":"man_getting_haircut","1F487-1F3FB-200D-2642-FE0F":"man_getting_haircut_tone1","1F487-1F3FC-200D-2642-FE0F":"man_getting_haircut_tone2","1F487-1F3FD-200D-2642-FE0F":"man_getting_haircut_tone3","1F487-1F3FE-200D-2642-FE0F":"man_getting_haircut_tone4","1F487-1F3FF-200D-2642-FE0F":"man_getting_haircut_tone5","1F575-FE0F-200D-2640-FE0F":"woman_detective","1F575-1F3FB-200D-2640-FE0F":"woman_detective_tone1","1F575-1F3FC-200D-2640-FE0F":"woman_detective_tone2","1F575-1F3FD-200D-2640-FE0F":"woman_detective_tone3","1F575-1F3FE-200D-2640-FE0F":"woman_detective_tone4","1F575-1F3FF-200D-2640-FE0F":"woman_detective_tone5","1F575-FE0F-200D-2642-FE0F":"man_detective","1F575-1F3FB-200D-2642-FE0F":"man_detective_tone1","1F575-1F3FC-200D-2642-FE0F":"man_detective_tone2","1F575-1F3FD-200D-2642-FE0F":"man_detective_tone3","1F575-1F3FE-200D-2642-FE0F":"man_detective_tone4","1F575-1F3FF-200D-2642-FE0F":"man_detective_tone5","1F645-200D-2640-FE0F":"woman_gesturing_no","1F645-1F3FB-200D-2640-FE0F":"woman_gesturing_no_tone1","1F645-1F3FC-200D-2640-FE0F":"woman_gesturing_no_tone2","1F645-1F3FD-200D-2640-FE0F":"woman_gesturing_no_tone3","1F645-1F3FE-200D-2640-FE0F":"woman_gesturing_no_tone4","1F645-1F3FF-200D-2640-FE0F":"woman_gesturing_no_tone5","1F645-200D-2642-FE0F":"man_gesturing_no","1F645-1F3FB-200D-2642-FE0F":"man_gesturing_no_tone1","1F645-1F3FC-200D-2642-FE0F":"man_gesturing_no_tone2","1F645-1F3FD-200D-2642-FE0F":"man_gesturing_no_tone3","1F645-1F3FE-200D-2642-FE0F":"man_gesturing_no_tone4","1F645-1F3FF-200D-2642-FE0F":"man_gesturing_no_tone5","1F646-200D-2640-FE0F":"woman_gesturing_ok","1F646-1F3FB-200D-2640-FE0F":"woman_gesturing_ok_tone1","1F646-1F3FC-200D-2640-FE0F":"woman_gesturing_ok_tone2","1F646-1F3FD-200D-2640-FE0F":"woman_gesturing_ok_tone3","1F646-1F3FE-200D-2640-FE0F":"woman_gesturing_ok_tone4","1F646-1F3FF-200D-2640-FE0F":"woman_gesturing_ok_tone5","1F646-200D-2642-FE0F":"man_gesturing_ok","1F646-1F3FB-200D-2642-FE0F":"man_gesturing_ok_tone1","1F646-1F3FC-200D-2642-FE0F":"man_gesturing_ok_tone2","1F646-1F3FD-200D-2642-FE0F":"man_gesturing_ok_tone3","1F646-1F3FE-200D-2642-FE0F":"man_gesturing_ok_tone4","1F646-1F3FF-200D-2642-FE0F":"man_gesturing_ok_tone5","1F647-200D-2640-FE0F":"woman_bowing","1F647-1F3FB-200D-2640-FE0F":"woman_bowing_tone1","1F647-1F3FC-200D-2640-FE0F":"woman_bowing_tone2","1F647-1F3FD-200D-2640-FE0F":"woman_bowing_tone3","1F647-1F3FE-200D-2640-FE0F":"woman_bowing_tone4","1F647-1F3FF-200D-2640-FE0F":"woman_bowing_tone5","1F647-200D-2642-FE0F":"man_bowing","1F647-1F3FB-200D-2642-FE0F":"man_bowing_tone1","1F647-1F3FC-200D-2642-FE0F":"man_bowing_tone2","1F647-1F3FD-200D-2642-FE0F":"man_bowing_tone3","1F647-1F3FE-200D-2642-FE0F":"man_bowing_tone4","1F647-1F3FF-200D-2642-FE0F":"man_bowing_tone5","1F64B-200D-2640-FE0F":"woman_raising_hand","1F64B-1F3FB-200D-2640-FE0F":"woman_raising_hand_tone1","1F64B-1F3FC-200D-2640-FE0F":"woman_raising_hand_tone2","1F64B-1F3FD-200D-2640-FE0F":"woman_raising_hand_tone3","1F64B-1F3FE-200D-2640-FE0F":"woman_raising_hand_tone4","1F64B-1F3FF-200D-2640-FE0F":"woman_raising_hand_tone5","1F64B-200D-2642-FE0F":"man_raising_hand","1F64B-1F3FB-200D-2642-FE0F":"man_raising_hand_tone1","1F64B-1F3FC-200D-2642-FE0F":"man_raising_hand_tone2","1F64B-1F3FD-200D-2642-FE0F":"man_raising_hand_tone3","1F64B-1F3FE-200D-2642-FE0F":"man_raising_hand_tone4","1F64B-1F3FF-200D-2642-FE0F":"man_raising_hand_tone5","1F64D-200D-2640-FE0F":"woman_frowning","1F64D-1F3FB-200D-2640-FE0F":"woman_frowning_tone1","1F64D-1F3FC-200D-2640-FE0F":"woman_frowning_tone2","1F64D-1F3FD-200D-2640-FE0F":"woman_frowning_tone3","1F64D-1F3FE-200D-2640-FE0F":"woman_frowning_tone4","1F64D-1F3FF-200D-2640-FE0F":"woman_frowning_tone5","1F64D-200D-2642-FE0F":"man_frowning","1F64D-1F3FB-200D-2642-FE0F":"man_frowning_tone1","1F64D-1F3FC-200D-2642-FE0F":"man_frowning_tone2","1F64D-1F3FD-200D-2642-FE0F":"man_frowning_tone3","1F64D-1F3FE-200D-2642-FE0F":"man_frowning_tone4","1F64D-1F3FF-200D-2642-FE0F":"man_frowning_tone5","1F64E-200D-2640-FE0F":"woman_pouting","1F64E-1F3FB-200D-2640-FE0F":"woman_pouting_tone1","1F64E-1F3FC-200D-2640-FE0F":"woman_pouting_tone2","1F64E-1F3FD-200D-2640-FE0F":"woman_pouting_tone3","1F64E-1F3FE-200D-2640-FE0F":"woman_pouting_tone4","1F64E-1F3FF-200D-2640-FE0F":"woman_pouting_tone5","1F64E-200D-2642-FE0F":"man_pouting","1F64E-1F3FB-200D-2642-FE0F":"man_pouting_tone1","1F64E-1F3FC-200D-2642-FE0F":"man_pouting_tone2","1F64E-1F3FD-200D-2642-FE0F":"man_pouting_tone3","1F64E-1F3FE-200D-2642-FE0F":"man_pouting_tone4","1F64E-1F3FF-200D-2642-FE0F":"man_pouting_tone5","1F6A3-200D-2640-FE0F":"woman_rowing_boat","1F6A3-1F3FB-200D-2640-FE0F":"woman_rowing_boat_tone1","1F6A3-1F3FC-200D-2640-FE0F":"woman_rowing_boat_tone2","1F6A3-1F3FD-200D-2640-FE0F":"woman_rowing_boat_tone3","1F6A3-1F3FE-200D-2640-FE0F":"woman_rowing_boat_tone4","1F6A3-1F3FF-200D-2640-FE0F":"woman_rowing_boat_tone5","1F6A3-200D-2642-FE0F":"man_rowing_boat","1F6A3-1F3FB-200D-2642-FE0F":"man_rowing_boat_tone1","1F6A3-1F3FC-200D-2642-FE0F":"man_rowing_boat_tone2","1F6A3-1F3FD-200D-2642-FE0F":"man_rowing_boat_tone3","1F6A3-1F3FE-200D-2642-FE0F":"man_rowing_boat_tone4","1F6A3-1F3FF-200D-2642-FE0F":"man_rowing_boat_tone5","1F6B4-200D-2640-FE0F":"woman_biking","1F6B4-1F3FB-200D-2640-FE0F":"woman_biking_tone1","1F6B4-1F3FC-200D-2640-FE0F":"woman_biking_tone2","1F6B4-1F3FD-200D-2640-FE0F":"woman_biking_tone3","1F6B4-1F3FE-200D-2640-FE0F":"woman_biking_tone4","1F6B4-1F3FF-200D-2640-FE0F":"woman_biking_tone5","1F6B4-200D-2642-FE0F":"man_biking","1F6B4-1F3FB-200D-2642-FE0F":"man_biking_tone1","1F6B4-1F3FC-200D-2642-FE0F":"man_biking_tone2","1F6B4-1F3FD-200D-2642-FE0F":"man_biking_tone3","1F6B4-1F3FE-200D-2642-FE0F":"man_biking_tone4","1F6B4-1F3FF-200D-2642-FE0F":"man_biking_tone5","1F6B5-200D-2640-FE0F":"woman_mountain_biking","1F6B5-1F3FB-200D-2640-FE0F":"woman_mountain_biking_tone1","1F6B5-1F3FC-200D-2640-FE0F":"woman_mountain_biking_tone2","1F6B5-1F3FD-200D-2640-FE0F":"woman_mountain_biking_tone3","1F6B5-1F3FE-200D-2640-FE0F":"woman_mountain_biking_tone4","1F6B5-1F3FF-200D-2640-FE0F":"woman_mountain_biking_tone5","1F6B5-200D-2642-FE0F":"man_mountain_biking","1F6B5-1F3FB-200D-2642-FE0F":"man_mountain_biking_tone1","1F6B5-1F3FC-200D-2642-FE0F":"man_mountain_biking_tone2","1F6B5-1F3FD-200D-2642-FE0F":"man_mountain_biking_tone3","1F6B5-1F3FE-200D-2642-FE0F":"man_mountain_biking_tone4","1F6B5-1F3FF-200D-2642-FE0F":"man_mountain_biking_tone5","1F6B6-200D-2640-FE0F":"woman_walking","1F6B6-1F3FB-200D-2640-FE0F":"woman_walking_tone1","1F6B6-1F3FC-200D-2640-FE0F":"woman_walking_tone2","1F6B6-1F3FD-200D-2640-FE0F":"woman_walking_tone3","1F6B6-1F3FE-200D-2640-FE0F":"woman_walking_tone4","1F6B6-1F3FF-200D-2640-FE0F":"woman_walking_tone5","1F6B6-200D-2642-FE0F":"man_walking","1F6B6-1F3FB-200D-2642-FE0F":"man_walking_tone1","1F6B6-1F3FC-200D-2642-FE0F":"man_walking_tone2","1F6B6-1F3FD-200D-2642-FE0F":"man_walking_tone3","1F6B6-1F3FE-200D-2642-FE0F":"man_walking_tone4","1F6B6-1F3FF-200D-2642-FE0F":"man_walking_tone5","1F926-200D-2640-FE0F":"woman_facepalming","1F926-1F3FB-200D-2640-FE0F":"woman_facepalming_tone1","1F926-1F3FC-200D-2640-FE0F":"woman_facepalming_tone2","1F926-1F3FD-200D-2640-FE0F":"woman_facepalming_tone3","1F926-1F3FE-200D-2640-FE0F":"woman_facepalming_tone4","1F926-1F3FF-200D-2640-FE0F":"woman_facepalming_tone5","1F926-200D-2642-FE0F":"man_facepalming","1F926-1F3FB-200D-2642-FE0F":"man_facepalming_tone1","1F926-1F3FC-200D-2642-FE0F":"man_facepalming_tone2","1F926-1F3FD-200D-2642-FE0F":"man_facepalming_tone3","1F926-1F3FE-200D-2642-FE0F":"man_facepalming_tone4","1F926-1F3FF-200D-2642-FE0F":"man_facepalming_tone5","1F935-200D-2640-FE0F":"woman_in_tuxedo","1F935-1F3FB-200D-2640-FE0F":"woman_in_tuxedo_tone1","1F935-1F3FC-200D-2640-FE0F":"woman_in_tuxedo_tone2","1F935-1F3FD-200D-2640-FE0F":"woman_in_tuxedo_tone3","1F935-1F3FE-200D-2640-FE0F":"woman_in_tuxedo_tone4","1F935-1F3FF-200D-2640-FE0F":"woman_in_tuxedo_tone5","1F935-200D-2642-FE0F":"man_in_tuxedo","1F935-1F3FB-200D-2642-FE0F":"man_in_tuxedo_tone1","1F935-1F3FC-200D-2642-FE0F":"man_in_tuxedo_tone2","1F935-1F3FD-200D-2642-FE0F":"man_in_tuxedo_tone3","1F935-1F3FE-200D-2642-FE0F":"man_in_tuxedo_tone4","1F935-1F3FF-200D-2642-FE0F":"man_in_tuxedo_tone5","1F937-200D-2640-FE0F":"woman_shrugging","1F937-1F3FB-200D-2640-FE0F":"woman_shrugging_tone1","1F937-1F3FC-200D-2640-FE0F":"woman_shrugging_tone2","1F937-1F3FD-200D-2640-FE0F":"woman_shrugging_tone3","1F937-1F3FE-200D-2640-FE0F":"woman_shrugging_tone4","1F937-1F3FF-200D-2640-FE0F":"woman_shrugging_tone5","1F937-200D-2642-FE0F":"man_shrugging","1F937-1F3FB-200D-2642-FE0F":"man_shrugging_tone1","1F937-1F3FC-200D-2642-FE0F":"man_shrugging_tone2","1F937-1F3FD-200D-2642-FE0F":"man_shrugging_tone3","1F937-1F3FE-200D-2642-FE0F":"man_shrugging_tone4","1F937-1F3FF-200D-2642-FE0F":"man_shrugging_tone5","1F938-200D-2640-FE0F":"woman_cartwheeling","1F938-1F3FB-200D-2640-FE0F":"woman_cartwheeling_tone1","1F938-1F3FC-200D-2640-FE0F":"woman_cartwheeling_tone2","1F938-1F3FD-200D-2640-FE0F":"woman_cartwheeling_tone3","1F938-1F3FE-200D-2640-FE0F":"woman_cartwheeling_tone4","1F938-1F3FF-200D-2640-FE0F":"woman_cartwheeling_tone5","1F938-200D-2642-FE0F":"man_cartwheeling","1F938-1F3FB-200D-2642-FE0F":"man_cartwheeling_tone1","1F938-1F3FC-200D-2642-FE0F":"man_cartwheeling_tone2","1F938-1F3FD-200D-2642-FE0F":"man_cartwheeling_tone3","1F938-1F3FE-200D-2642-FE0F":"man_cartwheeling_tone4","1F938-1F3FF-200D-2642-FE0F":"man_cartwheeling_tone5","1F939-200D-2640-FE0F":"woman_juggling","1F939-1F3FB-200D-2640-FE0F":"woman_juggling_tone1","1F939-1F3FC-200D-2640-FE0F":"woman_juggling_tone2","1F939-1F3FD-200D-2640-FE0F":"woman_juggling_tone3","1F939-1F3FE-200D-2640-FE0F":"woman_juggling_tone4","1F939-1F3FF-200D-2640-FE0F":"woman_juggling_tone5","1F939-200D-2642-FE0F":"man_juggling","1F939-1F3FB-200D-2642-FE0F":"man_juggling_tone1","1F939-1F3FC-200D-2642-FE0F":"man_juggling_tone2","1F939-1F3FD-200D-2642-FE0F":"man_juggling_tone3","1F939-1F3FE-200D-2642-FE0F":"man_juggling_tone4","1F939-1F3FF-200D-2642-FE0F":"man_juggling_tone5","1F93C-200D-2640-FE0F":"women_wrestling","1F93C-200D-2642-FE0F":"men_wrestling","1F93D-200D-2640-FE0F":"woman_playing_water_polo","1F93D-1F3FB-200D-2640-FE0F":"woman_playing_water_polo_tone1","1F93D-1F3FC-200D-2640-FE0F":"woman_playing_water_polo_tone2","1F93D-1F3FD-200D-2640-FE0F":"woman_playing_water_polo_tone3","1F93D-1F3FE-200D-2640-FE0F":"woman_playing_water_polo_tone4","1F93D-1F3FF-200D-2640-FE0F":"woman_playing_water_polo_tone5","1F93D-200D-2642-FE0F":"man_playing_water_polo","1F93D-1F3FB-200D-2642-FE0F":"man_playing_water_polo_tone1","1F93D-1F3FC-200D-2642-FE0F":"man_playing_water_polo_tone2","1F93D-1F3FD-200D-2642-FE0F":"man_playing_water_polo_tone3","1F93D-1F3FE-200D-2642-FE0F":"man_playing_water_polo_tone4","1F93D-1F3FF-200D-2642-FE0F":"man_playing_water_polo_tone5","1F93E-200D-2640-FE0F":"woman_playing_handball","1F93E-1F3FB-200D-2640-FE0F":"woman_playing_handball_tone1","1F93E-1F3FC-200D-2640-FE0F":"woman_playing_handball_tone2","1F93E-1F3FD-200D-2640-FE0F":"woman_playing_handball_tone3","1F93E-1F3FE-200D-2640-FE0F":"woman_playing_handball_tone4","1F93E-1F3FF-200D-2640-FE0F":"woman_playing_handball_tone5","1F93E-200D-2642-FE0F":"man_playing_handball","1F93E-1F3FB-200D-2642-FE0F":"man_playing_handball_tone1","1F93E-1F3FC-200D-2642-FE0F":"man_playing_handball_tone2","1F93E-1F3FD-200D-2642-FE0F":"man_playing_handball_tone3","1F93E-1F3FE-200D-2642-FE0F":"man_playing_handball_tone4","1F93E-1F3FF-200D-2642-FE0F":"man_playing_handball_tone5","1F9B8-200D-2640-FE0F":"woman_superhero","1F9B8-1F3FB-200D-2640-FE0F":"woman_superhero_tone1","1F9B8-1F3FC-200D-2640-FE0F":"woman_superhero_tone2","1F9B8-1F3FD-200D-2640-FE0F":"woman_superhero_tone3","1F9B8-1F3FE-200D-2640-FE0F":"woman_superhero_tone4","1F9B8-1F3FF-200D-2640-FE0F":"woman_superhero_tone5","1F9B8-200D-2642-FE0F":"man_superhero","1F9B8-1F3FB-200D-2642-FE0F":"man_superhero_tone1","1F9B8-1F3FC-200D-2642-FE0F":"man_superhero_tone2","1F9B8-1F3FD-200D-2642-FE0F":"man_superhero_tone3","1F9B8-1F3FE-200D-2642-FE0F":"man_superhero_tone4","1F9B8-1F3FF-200D-2642-FE0F":"man_superhero_tone5","1F9B9-200D-2640-FE0F":"woman_supervillain","1F9B9-1F3FB-200D-2640-FE0F":"woman_supervillain_tone1","1F9B9-1F3FC-200D-2640-FE0F":"woman_supervillain_tone2","1F9B9-1F3FD-200D-2640-FE0F":"woman_supervillain_tone3","1F9B9-1F3FE-200D-2640-FE0F":"woman_supervillain_tone4","1F9B9-1F3FF-200D-2640-FE0F":"woman_supervillain_tone5","1F9B9-200D-2642-FE0F":"man_supervillain","1F9B9-1F3FB-200D-2642-FE0F":"man_supervillain_tone1","1F9B9-1F3FC-200D-2642-FE0F":"man_supervillain_tone2","1F9B9-1F3FD-200D-2642-FE0F":"man_supervillain_tone3","1F9B9-1F3FE-200D-2642-FE0F":"man_supervillain_tone4","1F9B9-1F3FF-200D-2642-FE0F":"man_supervillain_tone5","1F9CD-200D-2640-FE0F":"woman_standing","1F9CD-1F3FB-200D-2640-FE0F":"woman_standing_tone1","1F9CD-1F3FC-200D-2640-FE0F":"woman_standing_tone2","1F9CD-1F3FD-200D-2640-FE0F":"woman_standing_tone3","1F9CD-1F3FE-200D-2640-FE0F":"woman_standing_tone4","1F9CD-1F3FF-200D-2640-FE0F":"woman_standing_tone5","1F9CD-200D-2642-FE0F":"man_standing","1F9CD-1F3FB-200D-2642-FE0F":"man_standing_tone1","1F9CD-1F3FC-200D-2642-FE0F":"man_standing_tone2","1F9CD-1F3FD-200D-2642-FE0F":"man_standing_tone3","1F9CD-1F3FE-200D-2642-FE0F":"man_standing_tone4","1F9CD-1F3FF-200D-2642-FE0F":"man_standing_tone5","1F9CE-200D-2640-FE0F":"woman_kneeling","1F9CE-1F3FB-200D-2640-FE0F":"woman_kneeling_tone1","1F9CE-1F3FC-200D-2640-FE0F":"woman_kneeling_tone2","1F9CE-1F3FD-200D-2640-FE0F":"woman_kneeling_tone3","1F9CE-1F3FE-200D-2640-FE0F":"woman_kneeling_tone4","1F9CE-1F3FF-200D-2640-FE0F":"woman_kneeling_tone5","1F9CE-200D-2642-FE0F":"man_kneeling","1F9CE-1F3FB-200D-2642-FE0F":"man_kneeling_tone1","1F9CE-1F3FC-200D-2642-FE0F":"man_kneeling_tone2","1F9CE-1F3FD-200D-2642-FE0F":"man_kneeling_tone3","1F9CE-1F3FE-200D-2642-FE0F":"man_kneeling_tone4","1F9CE-1F3FF-200D-2642-FE0F":"man_kneeling_tone5","1F9CF-200D-2640-FE0F":"deaf_woman","1F9CF-1F3FB-200D-2640-FE0F":"deaf_woman_tone1","1F9CF-1F3FC-200D-2640-FE0F":"deaf_woman_tone2","1F9CF-1F3FD-200D-2640-FE0F":"deaf_woman_tone3","1F9CF-1F3FE-200D-2640-FE0F":"deaf_woman_tone4","1F9CF-1F3FF-200D-2640-FE0F":"deaf_woman_tone5","1F9CF-200D-2642-FE0F":"deaf_man","1F9CF-1F3FB-200D-2642-FE0F":"deaf_man_tone1","1F9CF-1F3FC-200D-2642-FE0F":"deaf_man_tone2","1F9CF-1F3FD-200D-2642-FE0F":"deaf_man_tone3","1F9CF-1F3FE-200D-2642-FE0F":"deaf_man_tone4","1F9CF-1F3FF-200D-2642-FE0F":"deaf_man_tone5","1F9D4-200D-2640-FE0F":"woman_bearded","1F9D4-1F3FB-200D-2640-FE0F":"woman_bearded_tone1","1F9D4-1F3FC-200D-2640-FE0F":"woman_bearded_tone2","1F9D4-1F3FD-200D-2640-FE0F":"woman_bearded_tone3","1F9D4-1F3FE-200D-2640-FE0F":"woman_bearded_tone4","1F9D4-1F3FF-200D-2640-FE0F":"woman_bearded_tone5","1F9D4-200D-2642-FE0F":"man_bearded","1F9D4-1F3FB-200D-2642-FE0F":"man_bearded_tone1","1F9D4-1F3FC-200D-2642-FE0F":"man_bearded_tone2","1F9D4-1F3FD-200D-2642-FE0F":"man_bearded_tone3","1F9D4-1F3FE-200D-2642-FE0F":"man_bearded_tone4","1F9D4-1F3FF-200D-2642-FE0F":"man_bearded_tone5","1F9D6-200D-2640-FE0F":"woman_in_steamy_room","1F9D6-1F3FB-200D-2640-FE0F":"woman_in_steamy_room_tone1","1F9D6-1F3FC-200D-2640-FE0F":"woman_in_steamy_room_tone2","1F9D6-1F3FD-200D-2640-FE0F":"woman_in_steamy_room_tone3","1F9D6-1F3FE-200D-2640-FE0F":"woman_in_steamy_room_tone4","1F9D6-1F3FF-200D-2640-FE0F":"woman_in_steamy_room_tone5","1F9D6-200D-2642-FE0F":"man_in_steamy_room","1F9D6-1F3FB-200D-2642-FE0F":"man_in_steamy_room_tone1","1F9D6-1F3FC-200D-2642-FE0F":"man_in_steamy_room_tone2","1F9D6-1F3FD-200D-2642-FE0F":"man_in_steamy_room_tone3","1F9D6-1F3FE-200D-2642-FE0F":"man_in_steamy_room_tone4","1F9D6-1F3FF-200D-2642-FE0F":"man_in_steamy_room_tone5","1F9D7-200D-2640-FE0F":"woman_climbing","1F9D7-1F3FB-200D-2640-FE0F":"woman_climbing_tone1","1F9D7-1F3FC-200D-2640-FE0F":"woman_climbing_tone2","1F9D7-1F3FD-200D-2640-FE0F":"woman_climbing_tone3","1F9D7-1F3FE-200D-2640-FE0F":"woman_climbing_tone4","1F9D7-1F3FF-200D-2640-FE0F":"woman_climbing_tone5","1F9D7-200D-2642-FE0F":"man_climbing","1F9D7-1F3FB-200D-2642-FE0F":"man_climbing_tone1","1F9D7-1F3FC-200D-2642-FE0F":"man_climbing_tone2","1F9D7-1F3FD-200D-2642-FE0F":"man_climbing_tone3","1F9D7-1F3FE-200D-2642-FE0F":"man_climbing_tone4","1F9D7-1F3FF-200D-2642-FE0F":"man_climbing_tone5","1F9D8-200D-2640-FE0F":"woman_in_lotus_position","1F9D8-1F3FB-200D-2640-FE0F":"woman_in_lotus_position_tone1","1F9D8-1F3FC-200D-2640-FE0F":"woman_in_lotus_position_tone2","1F9D8-1F3FD-200D-2640-FE0F":"woman_in_lotus_position_tone3","1F9D8-1F3FE-200D-2640-FE0F":"woman_in_lotus_position_tone4","1F9D8-1F3FF-200D-2640-FE0F":"woman_in_lotus_position_tone5","1F9D8-200D-2642-FE0F":"man_in_lotus_position","1F9D8-1F3FB-200D-2642-FE0F":"man_in_lotus_position_tone1","1F9D8-1F3FC-200D-2642-FE0F":"man_in_lotus_position_tone2","1F9D8-1F3FD-200D-2642-FE0F":"man_in_lotus_position_tone3","1F9D8-1F3FE-200D-2642-FE0F":"man_in_lotus_position_tone4","1F9D8-1F3FF-200D-2642-FE0F":"man_in_lotus_position_tone5","1F9D9-200D-2640-FE0F":"woman_mage","1F9D9-1F3FB-200D-2640-FE0F":"woman_mage_tone1","1F9D9-1F3FC-200D-2640-FE0F":"woman_mage_tone2","1F9D9-1F3FD-200D-2640-FE0F":"woman_mage_tone3","1F9D9-1F3FE-200D-2640-FE0F":"woman_mage_tone4","1F9D9-1F3FF-200D-2640-FE0F":"woman_mage_tone5","1F9D9-200D-2642-FE0F":"man_mage","1F9D9-1F3FB-200D-2642-FE0F":"man_mage_tone1","1F9D9-1F3FC-200D-2642-FE0F":"man_mage_tone2","1F9D9-1F3FD-200D-2642-FE0F":"man_mage_tone3","1F9D9-1F3FE-200D-2642-FE0F":"man_mage_tone4","1F9D9-1F3FF-200D-2642-FE0F":"man_mage_tone5","1F9DA-200D-2640-FE0F":"woman_fairy","1F9DA-1F3FB-200D-2640-FE0F":"woman_fairy_tone1","1F9DA-1F3FC-200D-2640-FE0F":"woman_fairy_tone2","1F9DA-1F3FD-200D-2640-FE0F":"woman_fairy_tone3","1F9DA-1F3FE-200D-2640-FE0F":"woman_fairy_tone4","1F9DA-1F3FF-200D-2640-FE0F":"woman_fairy_tone5","1F9DA-200D-2642-FE0F":"man_fairy","1F9DA-1F3FB-200D-2642-FE0F":"man_fairy_tone1","1F9DA-1F3FC-200D-2642-FE0F":"man_fairy_tone2","1F9DA-1F3FD-200D-2642-FE0F":"man_fairy_tone3","1F9DA-1F3FE-200D-2642-FE0F":"man_fairy_tone4","1F9DA-1F3FF-200D-2642-FE0F":"man_fairy_tone5","1F9DB-200D-2640-FE0F":"woman_vampire","1F9DB-1F3FB-200D-2640-FE0F":"woman_vampire_tone1","1F9DB-1F3FC-200D-2640-FE0F":"woman_vampire_tone2","1F9DB-1F3FD-200D-2640-FE0F":"woman_vampire_tone3","1F9DB-1F3FE-200D-2640-FE0F":"woman_vampire_tone4","1F9DB-1F3FF-200D-2640-FE0F":"woman_vampire_tone5","1F9DB-200D-2642-FE0F":"man_vampire","1F9DB-1F3FB-200D-2642-FE0F":"man_vampire_tone1","1F9DB-1F3FC-200D-2642-FE0F":"man_vampire_tone2","1F9DB-1F3FD-200D-2642-FE0F":"man_vampire_tone3","1F9DB-1F3FE-200D-2642-FE0F":"man_vampire_tone4","1F9DB-1F3FF-200D-2642-FE0F":"man_vampire_tone5","1F9DC-200D-2640-FE0F":"mermaid","1F9DC-1F3FB-200D-2640-FE0F":"mermaid_tone1","1F9DC-1F3FC-200D-2640-FE0F":"mermaid_tone2","1F9DC-1F3FD-200D-2640-FE0F":"mermaid_tone3","1F9DC-1F3FE-200D-2640-FE0F":"mermaid_tone4","1F9DC-1F3FF-200D-2640-FE0F":"mermaid_tone5","1F9DC-200D-2642-FE0F":"merman","1F9DC-1F3FB-200D-2642-FE0F":"merman_tone1","1F9DC-1F3FC-200D-2642-FE0F":"merman_tone2","1F9DC-1F3FD-200D-2642-FE0F":"merman_tone3","1F9DC-1F3FE-200D-2642-FE0F":"merman_tone4","1F9DC-1F3FF-200D-2642-FE0F":"merman_tone5","1F9DD-200D-2640-FE0F":"woman_elf","1F9DD-1F3FB-200D-2640-FE0F":"woman_elf_tone1","1F9DD-1F3FC-200D-2640-FE0F":"woman_elf_tone2","1F9DD-1F3FD-200D-2640-FE0F":"woman_elf_tone3","1F9DD-1F3FE-200D-2640-FE0F":"woman_elf_tone4","1F9DD-1F3FF-200D-2640-FE0F":"woman_elf_tone5","1F9DD-200D-2642-FE0F":"man_elf","1F9DD-1F3FB-200D-2642-FE0F":"man_elf_tone1","1F9DD-1F3FC-200D-2642-FE0F":"man_elf_tone2","1F9DD-1F3FD-200D-2642-FE0F":"man_elf_tone3","1F9DD-1F3FE-200D-2642-FE0F":"man_elf_tone4","1F9DD-1F3FF-200D-2642-FE0F":"man_elf_tone5","1F9DE-200D-2640-FE0F":"woman_genie","1F9DE-200D-2642-FE0F":"man_genie","1F9DF-200D-2640-FE0F":"woman_zombie","1F9DF-200D-2642-FE0F":"man_zombie","1F468-200D-1F9B0":"man_red_haired","1F468-1F3FB-200D-1F9B0":"man_red_haired_tone1","1F468-1F3FC-200D-1F9B0":"man_red_haired_tone2","1F468-1F3FD-200D-1F9B0":"man_red_haired_tone3","1F468-1F3FE-200D-1F9B0":"man_red_haired_tone4","1F468-1F3FF-200D-1F9B0":"man_red_haired_tone5","1F468-200D-1F9B1":"man_curly_haired","1F468-1F3FB-200D-1F9B1":"man_curly_haired_tone1","1F468-1F3FC-200D-1F9B1":"man_curly_haired_tone2","1F468-1F3FD-200D-1F9B1":"man_curly_haired_tone3","1F468-1F3FE-200D-1F9B1":"man_curly_haired_tone4","1F468-1F3FF-200D-1F9B1":"man_curly_haired_tone5","1F468-200D-1F9B2":"man_bald","1F468-1F3FB-200D-1F9B2":"man_bald_tone1","1F468-1F3FC-200D-1F9B2":"man_bald_tone2","1F468-1F3FD-200D-1F9B2":"man_bald_tone3","1F468-1F3FE-200D-1F9B2":"man_bald_tone4","1F468-1F3FF-200D-1F9B2":"man_bald_tone5","1F468-200D-1F9B3":"man_white_haired","1F468-1F3FB-200D-1F9B3":"man_white_haired_tone1","1F468-1F3FC-200D-1F9B3":"man_white_haired_tone2","1F468-1F3FD-200D-1F9B3":"man_white_haired_tone3","1F468-1F3FE-200D-1F9B3":"man_white_haired_tone4","1F468-1F3FF-200D-1F9B3":"man_white_haired_tone5","1F469-200D-1F9B0":"woman_red_haired","1F469-1F3FB-200D-1F9B0":"woman_red_haired_tone1","1F469-1F3FC-200D-1F9B0":"woman_red_haired_tone2","1F469-1F3FD-200D-1F9B0":"woman_red_haired_tone3","1F469-1F3FE-200D-1F9B0":"woman_red_haired_tone4","1F469-1F3FF-200D-1F9B0":"woman_red_haired_tone5","1F469-200D-1F9B1":"woman_curly_haired","1F469-1F3FB-200D-1F9B1":"woman_curly_haired_tone1","1F469-1F3FC-200D-1F9B1":"woman_curly_haired_tone2","1F469-1F3FD-200D-1F9B1":"woman_curly_haired_tone3","1F469-1F3FE-200D-1F9B1":"woman_curly_haired_tone4","1F469-1F3FF-200D-1F9B1":"woman_curly_haired_tone5","1F469-200D-1F9B2":"woman_bald","1F469-1F3FB-200D-1F9B2":"woman_bald_tone1","1F469-1F3FC-200D-1F9B2":"woman_bald_tone2","1F469-1F3FD-200D-1F9B2":"woman_bald_tone3","1F469-1F3FE-200D-1F9B2":"woman_bald_tone4","1F469-1F3FF-200D-1F9B2":"woman_bald_tone5","1F469-200D-1F9B3":"woman_white_haired","1F469-1F3FB-200D-1F9B3":"woman_white_haired_tone1","1F469-1F3FC-200D-1F9B3":"woman_white_haired_tone2","1F469-1F3FD-200D-1F9B3":"woman_white_haired_tone3","1F469-1F3FE-200D-1F9B3":"woman_white_haired_tone4","1F469-1F3FF-200D-1F9B3":"woman_white_haired_tone5","1F9D1-200D-1F9B0":"red_haired","1F9D1-1F3FB-200D-1F9B0":"red_haired_tone1","1F9D1-1F3FC-200D-1F9B0":"red_haired_tone2","1F9D1-1F3FD-200D-1F9B0":"red_haired_tone3","1F9D1-1F3FE-200D-1F9B0":"red_haired_tone4","1F9D1-1F3FF-200D-1F9B0":"red_haired_tone5","1F9D1-200D-1F9B1":"curly_haired","1F9D1-1F3FB-200D-1F9B1":"curly_haired_tone1","1F9D1-1F3FC-200D-1F9B1":"curly_haired_tone2","1F9D1-1F3FD-200D-1F9B1":"curly_haired_tone3","1F9D1-1F3FE-200D-1F9B1":"curly_haired_tone4","1F9D1-1F3FF-200D-1F9B1":"curly_haired_tone5","1F9D1-200D-1F9B2":"bald","1F9D1-1F3FB-200D-1F9B2":"bald_tone1","1F9D1-1F3FC-200D-1F9B2":"bald_tone2","1F9D1-1F3FD-200D-1F9B2":"bald_tone3","1F9D1-1F3FE-200D-1F9B2":"bald_tone4","1F9D1-1F3FF-200D-1F9B2":"bald_tone5","1F9D1-200D-1F9B3":"white_haired","1F9D1-1F3FB-200D-1F9B3":"white_haired_tone1","1F9D1-1F3FC-200D-1F9B3":"white_haired_tone2","1F9D1-1F3FD-200D-1F9B3":"white_haired_tone3","1F9D1-1F3FE-200D-1F9B3":"white_haired_tone4","1F9D1-1F3FF-200D-1F9B3":"white_haired_tone5","2764-FE0F-200D-1F525":"heart_on_fire","2764-FE0F-200D-1FA79":"mending_heart","1F3F3-FE0F-200D-26A7-FE0F":"transgender_flag","1F3F3-FE0F-200D-1F308":"rainbow_flag","1F3F4-200D-2620-FE0F":["jolly_roger","pirate_flag"],"1F408-200D-2B1B":"black_cat","1F415-200D-1F9BA":"service_dog","1F43B-200D-2744-FE0F":["polar_bear","polar_bear_face"],"1F441-FE0F-200D-1F5E8-FE0F":"eye_in_speech_bubble","1F62E-200D-1F4A8":["exhale","exhaling"],"1F635-200D-1F4AB":"dizzy_eyes","1F636-200D-1F32B-FE0F":"in_clouds","1F9D1-200D-1F384":"mx_claus","1F9D1-1F3FB-200D-1F384":"mx_claus_tone1","1F9D1-1F3FC-200D-1F384":"mx_claus_tone2","1F9D1-1F3FD-200D-1F384":"mx_claus_tone3","1F9D1-1F3FE-200D-1F384":"mx_claus_tone4","1F9D1-1F3FF-200D-1F384":"mx_claus_tone5"},$h=[{name:"Smileys & people",order:0,emojis:[]},{name:"Animals & nature",order:1,emojis:[]},{name:"Food & drinks",order:2,emojis:[]},{name:"Activity",order:3,emojis:[]},{name:"Travel & places",order:4,emojis:[]},{name:"Objects",order:5,emojis:[]},{name:"Symbols",order:6,emojis:[]},{name:"Flags",order:7,emojis:[]}];Object.freeze($h);function da(t,e){$h[e].emojis.push(t)}function _W(t){t.group===0||t.group===1?da(t,0):t.group===3?da(t,1):t.group===4?da(t,2):t.group===6?da(t,3):t.group===5?da(t,4):t.group===7?da(t,5):t.group===8||typeof t.group>"u"?da(t,6):t.group===9&&da(t,7)}const dg=[];pW.forEach(t=>{const e=mW[t.hexcode]||FW[t.hexcode];if(!e)return;const n={...t,shortcode:Array.isArray(e)?e[0]:e,shortcodes:e};_W(n),dg.push(n)});let kl=class{static parsePack(e,n){return!e||typeof(n==null?void 0:n.images)!="object"?null:new kl(e,n)}constructor(e,n){this.id=e,this.content=JSON.parse(JSON.stringify(n)),this.applyPack(n),this.applyImages(n)}applyPack(e){const n=e.pack??{};this.displayName=n.display_name,this.avatarUrl=n.avatar_url,this.usage=n.usage??["emoticon","sticker"],this.attribution=n.attribution}applyImages(e){this.images=new Map,this.emoticons=[],this.stickers=[],Object.entries(e.images).forEach(([n,r])=>{const o=r.url,i=r.body??n,a=r.usage??this.usage,{info:l}=r;if(!o)return;const u={shortcode:n,mxc:o,body:i,usage:a,info:l};this.images.set(n,u),a.includes("emoticon")&&this.emoticons.push(u),a.includes("sticker")&&this.stickers.push(u)})}getImages(){return this.images}getEmojis(){return this.emoticons}getStickers(){return this.stickers}getContent(){return this.content}_updatePackProperty(e,n){this.content.pack===void 0&&(this.content.pack={}),this.content.pack[e]=n,this.applyPack(this.content)}setAvatarUrl(e){this._updatePackProperty("avatar_url",e)}setDisplayName(e){this._updatePackProperty("display_name",e)}setAttribution(e){this._updatePackProperty("attribution",e)}setUsage(e){this._updatePackProperty("usage",e)}addImage(e,n){this.content.images={[e]:n,...this.content.images},this.applyImages(this.content)}removeImage(e){this.content.images[e]!==void 0&&(delete this.content.images[e],this.applyImages(this.content))}updateImageKey(e,n){if(this.content.images[e]===void 0)return;const r={};Object.keys(this.content.images).forEach(o=>{r[o===e?n:o]=this.content.images[o]}),this.content.images=r,this.applyImages(this.content)}_updateImageProperty(e,n,r){this.content.images[e]!==void 0&&(this.content.images[e][n]=r,this.applyImages(this.content))}setImageUrl(e,n){this._updateImageProperty(e,"url",n)}setImageBody(e,n){this._updateImageProperty(e,"body",n)}setImageInfo(e,n){this._updateImageProperty(e,"info",n)}setImageUsage(e,n){this._updateImageProperty(e,"usage",n)}};function vW(t){var i;const e=(i=t.getAccountData("im.ponies.emote_rooms"))==null?void 0:i.getContent();if(typeof e!="object")return[];const{rooms:n}=e;return typeof n!="object"?[]:Object.keys(n).flatMap(a=>{if(typeof n[a]!="object")return[];const l=t.getRoom(a);return l?Object.keys(n[a]).map(d=>{const s=l.currentState.getStateEvents("im.ponies.room_emotes",d),g=kl.parsePack(s==null?void 0:s.getId(),s==null?void 0:s.getContent());return g&&(g.displayName??(g.displayName=l.name),g.avatarUrl??(g.avatarUrl=l.getMxcAvatarUrl())),g}).filter(d=>d!==null):[]})}function yW(t){const e=t.getAccountData("im.ponies.user_emotes");if(!e)return null;const n=kl.parsePack(t.getUserId(),e.event.content);return n&&(n.displayName??(n.displayName="Personal Emoji")),n}function bW(t){return t.currentState.getStateEvents("im.ponies.room_emotes").map(n=>{const r=kl.parsePack(n==null?void 0:n.getId(),n==null?void 0:n.getContent());return r&&(r.displayName??(r.displayName=t.name),r.avatarUrl??(r.avatarUrl=t.getMxcAvatarUrl())),r}).filter(n=>n!==null)}function $m(t,e){const n=t?yW(t):[],r=t?vW(t):[],o=new Set(r.map(a=>a.id)),i=(e==null?void 0:e.flatMap(bW))??[];return[].concat(n??[],r,i.filter(a=>!o.has(a.id)))}function EW(t,e){const n=new Map;return dg.forEach(r=>{Array.isArray(r.shortcodes)?r.shortcodes.forEach(o=>{n.set(o,r)}):n.set(r.shortcodes,r)}),$m(t,e).flatMap(r=>r.getEmojis()).forEach(r=>{n.set(r.shortcode,r)}),n}function wW(t,e){const n=new Map;return $m(t,e).flatMap(r=>r.getEmojis()).forEach(r=>{n.set(r.shortcode,r)}),Array.from(n.values()).concat(dg.filter(r=>!n.has(r.shortcode)))}const DW=["image/jpeg","image/gif","image/png","image/apng","image/webp","image/avif","video/mp4","video/webm","video/ogg","video/quicktime","audio/mp4","audio/webm","audio/aac","audio/mpeg","audio/ogg","audio/wave","audio/wav","audio/x-wav","audio/x-pn-wav","audio/flac","audio/x-flac"];function hg(t){if(typeof t!="string")return"application/octet-stream";const[e]=t.split(";");return DW.includes(e)?e==="video/quicktime"?"video/mp4":e:"application/octet-stream"}var VA={},qm={},iE={},Sf={},aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}));var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}));var cy={};(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(i){var a="";return i>65535&&(i-=65536,a+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),a+=String.fromCharCode(i),a};function r(i){var a;return i>=55296&&i<=57343||i>1114111?65533:(a=n.get(i))!==null&&a!==void 0?a:i}t.replaceCodePoint=r;function o(i){return(0,t.fromCodePoint)(r(i))}t.default=o})(cy);(function(t){var e=Pe&&Pe.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTML=t.determineBranch=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var n=e(aE);t.htmlDecodeTree=n.default;var r=e(sE);t.xmlDecodeTree=r.default;var o=e(cy);t.decodeCodePoint=o.default;var i=cy;Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return i.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return i.fromCodePoint}});var a;(function(F){F[F.NUM=35]="NUM",F[F.SEMI=59]="SEMI",F[F.ZERO=48]="ZERO",F[F.NINE=57]="NINE",F[F.LOWER_A=97]="LOWER_A",F[F.LOWER_F=102]="LOWER_F",F[F.LOWER_X=120]="LOWER_X",F[F.To_LOWER_BIT=32]="To_LOWER_BIT"})(a||(a={}));var l;(function(F){F[F.VALUE_LENGTH=49152]="VALUE_LENGTH",F[F.BRANCH_LENGTH=16256]="BRANCH_LENGTH",F[F.JUMP_TABLE=127]="JUMP_TABLE"})(l=t.BinTrieFlags||(t.BinTrieFlags={}));function u(F){return function(p,f){for(var v="",y=0,w=0;(w=p.indexOf("&",w))>=0;){if(v+=p.slice(y,w),y=w,w+=1,p.charCodeAt(w)===a.NUM){var b=w+1,S=10,x=p.charCodeAt(b);(x|a.To_LOWER_BIT)===a.LOWER_X&&(S=16,w+=1,b+=1);do x=p.charCodeAt(++w);while(x>=a.ZERO&&x<=a.NINE||S===16&&(x|a.To_LOWER_BIT)>=a.LOWER_A&&(x|a.To_LOWER_BIT)<=a.LOWER_F);if(b!==w){var N=p.substring(b,w),U=parseInt(N,S);if(p.charCodeAt(w)===a.SEMI)w+=1;else if(f)continue;v+=(0,o.default)(U),y=w}continue}for(var q=0,P=1,G=0,C=F[G];w<p.length&&(G=d(F,C,G+1,p.charCodeAt(w)),!(G<0));w++,P++){C=F[G];var I=C&l.VALUE_LENGTH;if(I){(!f||p.charCodeAt(w)===a.SEMI)&&(q=G,P=0);var M=(I>>14)-1;if(M===0)break;G+=M}}if(q!==0){var M=(F[q]&l.VALUE_LENGTH)>>14;v+=M===1?String.fromCharCode(F[q]&~l.VALUE_LENGTH):M===2?String.fromCharCode(F[q+1]):String.fromCharCode(F[q+1],F[q+2]),y=w-P+1}}return v+p.slice(y)}}function d(F,m,p,f){var v=(m&l.BRANCH_LENGTH)>>7,y=m&l.JUMP_TABLE;if(v===0)return y!==0&&f===y?p:-1;if(y){var w=f-y;return w<0||w>=v?-1:F[p+w]-1}for(var b=p,S=b+v-1;b<=S;){var x=b+S>>>1,N=F[x];if(N<f)b=x+1;else if(N>f)S=x-1;else return F[x+v]}return-1}t.determineBranch=d;var s=u(n.default),g=u(r.default);function c(F){return s(F,!1)}t.decodeHTML=c;function h(F){return s(F,!0)}t.decodeHTMLStrict=h;function _(F){return g(F,!0)}t.decodeXML=_})(Sf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Sf,n;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Num=35]="Num",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.SpecialStartSequence=23]="SpecialStartSequence",c[c.InSpecialTag=24]="InSpecialTag",c[c.BeforeEntity=25]="BeforeEntity",c[c.BeforeNumericEntity=26]="BeforeNumericEntity",c[c.InNamedEntity=27]="InNamedEntity",c[c.InNumericEntity=28]="InNumericEntity",c[c.InHexEntity=29]="InHexEntity"})(r||(r={}));function o(c){return c===n.Space||c===n.NewLine||c===n.Tab||c===n.FormFeed||c===n.CarriageReturn}function i(c){return c===n.Slash||c===n.Gt||o(c)}function a(c){return c>=n.Zero&&c<=n.Nine}function l(c){return c>=n.LowerA&&c<=n.LowerZ||c>=n.UpperA&&c<=n.UpperZ}function u(c){return c>=n.UpperA&&c<=n.UpperF||c>=n.LowerA&&c<=n.LowerF}var d;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(d=t.QuoteType||(t.QuoteType={}));var s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},g=function(){function c(h,_){var F=h.xmlMode,m=F===void 0?!1:F,p=h.decodeEntities,f=p===void 0?!0:p;this.cbs=_,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=m,this.decodeEntities=f,this.entityTrie=m?e.xmlDecodeTree:e.htmlDecodeTree}return c.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.getIndex=function(){return this.index},c.prototype.getSectionStart=function(){return this.sectionStart},c.prototype.stateText=function(h){h===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===n.Amp&&(this.state=r.BeforeEntity)},c.prototype.stateSpecialStartSequence=function(h){var _=this.sequenceIndex===this.currentSequence.length,F=_?i(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!F)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(h)},c.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===n.Gt||o(h)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var F=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=F}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&h===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(h===n.Lt)},c.prototype.stateCDATASequence=function(h){h===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(h))},c.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(h){return this.xmlMode?!i(h):l(h)},c.prototype.startSpecial=function(h,_){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=_,this.state=r.SpecialStartSequence},c.prototype.stateBeforeTagName=function(h){if(h===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var _=h|32;this.sectionStart=this.index,!this.xmlMode&&_===s.TitleEnd[2]?this.startSpecial(s.TitleEnd,3):this.state=!this.xmlMode&&_===s.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else h===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(h))},c.prototype.stateInTagName=function(h){i(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateBeforeClosingTagName=function(h){o(h)||(h===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(h)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(h){(h===n.Gt||o(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(h))},c.prototype.stateAfterClosingTagName=function(h){(h===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(h){h===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===n.Slash?this.state=r.InSelfClosingTag:o(h)||(this.state=r.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(h){h===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):o(h)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h))},c.prototype.stateInAttributeName=function(h){(h===n.Eq||i(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(h))},c.prototype.stateAfterAttributeName=function(h){h===n.Eq?this.state=r.BeforeAttributeValue:h===n.Slash||h===n.Gt?(this.cbs.onattribend(d.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h)):o(h)||(this.cbs.onattribend(d.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(h){h===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):h===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):o(h)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},c.prototype.handleInAttributeValue=function(h,_){h===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===n.DoubleQuote?d.Double:d.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&h===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},c.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,n.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,n.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(h){o(h)||h===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},c.prototype.stateBeforeDeclaration=function(h){h===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=h===n.Dash?r.BeforeComment:r.InDeclaration},c.prototype.stateInDeclaration=function(h){(h===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(h){(h===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(h){h===n.Dash?(this.state=r.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},c.prototype.stateInSpecialComment=function(h){(h===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(h){var _=h|32;_===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):_===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(h))},c.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===n.Num?this.state=r.BeforeNumericEntity:h===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(h))},c.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(_){var F=(_>>14)-1;if(!this.allowLegacyEntity()&&h!==n.Semi)this.trieIndex+=F;else{var m=this.index-this.entityExcess+1;m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.entityResult=this.trieIndex,this.trieIndex+=F,this.entityExcess=0,this.sectionStart=this.index+1,F===0&&this.emitNamedEntity()}}},c.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},c.prototype.stateBeforeNumericEntity=function(h){(h|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(h))},c.prototype.emitNumericEntity=function(h){var _=this.index-this.entityExcess-1,F=_+2+Number(this.state===r.InHexEntity);F!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},c.prototype.stateInNumericEntity=function(h){h===n.Semi?this.emitNumericEntity(!0):a(h)?(this.entityResult=this.entityResult*10+(h-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.stateInHexEntity=function(h){h===n.Semi?this.emitNumericEntity(!0):a(h)?(this.entityResult=this.entityResult*16+(h-n.Zero),this.entityExcess++):u(h)?(this.entityResult=this.entityResult*16+((h|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},c.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);this.state===r.Text?this.stateText(h):this.state===r.SpecialStartSequence?this.stateSpecialStartSequence(h):this.state===r.InSpecialTag?this.stateInSpecialTag(h):this.state===r.CDATASequence?this.stateCDATASequence(h):this.state===r.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(h):this.state===r.InAttributeName?this.stateInAttributeName(h):this.state===r.InCommentLike?this.stateInCommentLike(h):this.state===r.InSpecialComment?this.stateInSpecialComment(h):this.state===r.BeforeAttributeName?this.stateBeforeAttributeName(h):this.state===r.InTagName?this.stateInTagName(h):this.state===r.InClosingTagName?this.stateInClosingTagName(h):this.state===r.BeforeTagName?this.stateBeforeTagName(h):this.state===r.AfterAttributeName?this.stateAfterAttributeName(h):this.state===r.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(h):this.state===r.BeforeAttributeValue?this.stateBeforeAttributeValue(h):this.state===r.BeforeClosingTagName?this.stateBeforeClosingTagName(h):this.state===r.AfterClosingTagName?this.stateAfterClosingTagName(h):this.state===r.BeforeSpecialS?this.stateBeforeSpecialS(h):this.state===r.InAttributeValueNq?this.stateInAttributeValueNoQuotes(h):this.state===r.InSelfClosingTag?this.stateInSelfClosingTag(h):this.state===r.InDeclaration?this.stateInDeclaration(h):this.state===r.BeforeDeclaration?this.stateBeforeDeclaration(h):this.state===r.BeforeComment?this.stateBeforeComment(h):this.state===r.InProcessingInstruction?this.stateInProcessingInstruction(h):this.state===r.InNamedEntity?this.stateInNamedEntity(h):this.state===r.BeforeEntity?this.stateBeforeEntity(h):this.state===r.InHexEntity?this.stateInHexEntity(h):this.state===r.InNumericEntity?this.stateInNumericEntity(h):this.stateBeforeNumericEntity(h),this.index++}this.cleanup()},c.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},c.prototype.emitPartial=function(h,_){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(h,_):this.cbs.ontext(h,_)},c.prototype.emitCodePoint=function(h){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},c}();t.default=g})(iE);var kW=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),SW=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xW=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&kW(e,t,n);return SW(e,t),e};Object.defineProperty(qm,"__esModule",{value:!0});qm.Parser=void 0;var _1=xW(iE),tC=Sf,Zl=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ot=new Set(["p"]),nC=new Set(["thead","tbody"]),rC=new Set(["dd","dt"]),oC=new Set(["rt","rp"]),CW=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ot],["h1",Ot],["h2",Ot],["h3",Ot],["h4",Ot],["h5",Ot],["h6",Ot],["select",Zl],["input",Zl],["output",Zl],["button",Zl],["datalist",Zl],["textarea",Zl],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",rC],["dt",rC],["address",Ot],["article",Ot],["aside",Ot],["blockquote",Ot],["details",Ot],["div",Ot],["dl",Ot],["fieldset",Ot],["figcaption",Ot],["figure",Ot],["footer",Ot],["form",Ot],["header",Ot],["hr",Ot],["main",Ot],["nav",Ot],["ol",Ot],["pre",Ot],["section",Ot],["table",Ot],["ul",Ot],["rt",oC],["rp",oC],["tbody",nC],["tfoot",nC]]),TW=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),iC=new Set(["math","svg"]),aC=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),IW=/\s|\//,RW=function(){function t(e,n){n===void 0&&(n={});var r,o,i,a,l;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:!n.xmlMode,this.lowerCaseAttributeNames=(o=n.lowerCaseAttributeNames)!==null&&o!==void 0?o:!n.xmlMode,this.tokenizer=new((i=n.Tokenizer)!==null&&i!==void 0?i:_1.default)(this.options,this),(l=(a=this.cbs).onparserinit)===null||l===void 0||l.call(a,this)}return t.prototype.ontext=function(e,n){var r,o,i=this.getSlice(e,n);this.endIndex=n-1,(o=(r=this.cbs).ontext)===null||o===void 0||o.call(r,i),this.startIndex=n},t.prototype.ontextentity=function(e){var n,r,o=this.tokenizer.getSectionStart();this.endIndex=o-1,(r=(n=this.cbs).ontext)===null||r===void 0||r.call(n,(0,tC.fromCodePoint)(e)),this.startIndex=o},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&TW.has(e)},t.prototype.onopentagname=function(e,n){this.endIndex=n;var r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},t.prototype.emitOpenTag=function(e){var n,r,o,i;this.openTagStart=this.startIndex,this.tagname=e;var a=!this.options.xmlMode&&CW.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){var l=this.stack.pop();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,l,!0)}this.isVoidElement(e)||(this.stack.push(e),iC.has(e)?this.foreignContext.push(!0):aC.has(e)&&this.foreignContext.push(!1)),(i=(o=this.cbs).onopentagname)===null||i===void 0||i.call(o,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,n){var r,o,i,a,l,u;this.endIndex=n;var d=this.getSlice(e,n);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),(iC.has(d)||aC.has(d))&&this.foreignContext.pop(),this.isVoidElement(d))!this.options.xmlMode&&d==="br"&&((o=(r=this.cbs).onopentagname)===null||o===void 0||o.call(r,"br"),(a=(i=this.cbs).onopentag)===null||a===void 0||a.call(i,"br",{},!0),(u=(l=this.cbs).onclosetag)===null||u===void 0||u.call(l,"br",!1));else{var s=this.stack.lastIndexOf(d);if(s!==-1)if(this.cbs.onclosetag)for(var g=this.stack.length-s;g--;)this.cbs.onclosetag(this.stack.pop(),g!==0);else this.stack.length=s;else!this.options.xmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var n,r,o=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===o&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!e),this.stack.pop())},t.prototype.onattribname=function(e,n){this.startIndex=e;var r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},t.prototype.onattribdata=function(e,n){this.attribvalue+=this.getSlice(e,n)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,tC.fromCodePoint)(e)},t.prototype.onattribend=function(e,n){var r,o;this.endIndex=n,(o=(r=this.cbs).onattribute)===null||o===void 0||o.call(r,this.attribname,this.attribvalue,e===_1.QuoteType.Double?'"':e===_1.QuoteType.Single?"'":e===_1.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var n=e.search(IW),r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(e,n){this.endIndex=n;var r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){var o=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(o),"!".concat(r))}this.startIndex=n+1},t.prototype.onprocessinginstruction=function(e,n){this.endIndex=n;var r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){var o=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(o),"?".concat(r))}this.startIndex=n+1},t.prototype.oncomment=function(e,n,r){var o,i,a,l;this.endIndex=n,(i=(o=this.cbs).oncomment)===null||i===void 0||i.call(o,this.getSlice(e,n-r)),(l=(a=this.cbs).oncommentend)===null||l===void 0||l.call(a),this.startIndex=n+1},t.prototype.oncdata=function(e,n,r){var o,i,a,l,u,d,s,g,c,h;this.endIndex=n;var _=this.getSlice(e,n-r);this.options.xmlMode||this.options.recognizeCDATA?((i=(o=this.cbs).oncdatastart)===null||i===void 0||i.call(o),(l=(a=this.cbs).ontext)===null||l===void 0||l.call(a,_),(d=(u=this.cbs).oncdataend)===null||d===void 0||d.call(u)):((g=(s=this.cbs).oncomment)===null||g===void 0||g.call(s,"[CDATA[".concat(_,"]]")),(h=(c=this.cbs).oncommentend)===null||h===void 0||h.call(c)),this.startIndex=n+1},t.prototype.onend=function(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)},t.prototype.reset=function(){var e,n,r,o;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(o=(r=this.cbs).onparserinit)===null||o===void 0||o.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();qm.Parser=RW;var yi={},Pc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Pc);var bt={},es=Pe&&Pe.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qh=Pe&&Pe.__assign||function(){return qh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qh.apply(this,arguments)};Object.defineProperty(bt,"__esModule",{value:!0});bt.cloneNode=bt.hasChildren=bt.isDocument=bt.isDirective=bt.isComment=bt.isText=bt.isCDATA=bt.isTag=bt.Element=bt.Document=bt.CDATA=bt.NodeWithChildren=bt.ProcessingInstruction=bt.Comment=bt.Text=bt.DataNode=bt.Node=void 0;var wr=Pc,lE=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),uE(this,e)},t}();bt.Node=lE;var Vm=function(t){es(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(lE);bt.DataNode=Vm;var GA=function(t){es(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=wr.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Vm);bt.Text=GA;var KA=function(t){es(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=wr.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Vm);bt.Comment=KA;var HA=function(t){es(e,t);function e(n,r){var o=t.call(this,r)||this;return o.name=n,o.type=wr.ElementType.Directive,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Vm);bt.ProcessingInstruction=HA;var Gm=function(t){es(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(lE);bt.NodeWithChildren=Gm;var zA=function(t){es(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=wr.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Gm);bt.CDATA=zA;var WA=function(t){es(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=wr.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Gm);bt.Document=WA;var YA=function(t){es(e,t);function e(n,r,o,i){o===void 0&&(o=[]),i===void 0&&(i=n==="script"?wr.ElementType.Script:n==="style"?wr.ElementType.Style:wr.ElementType.Tag);var a=t.call(this,o)||this;return a.name=n,a.attribs=r,a.type=i,a}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var o,i;return{name:r,value:n.attribs[r],namespace:(o=n["x-attribsNamespace"])===null||o===void 0?void 0:o[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),e}(Gm);bt.Element=YA;function JA(t){return(0,wr.isTag)(t)}bt.isTag=JA;function XA(t){return t.type===wr.ElementType.CDATA}bt.isCDATA=XA;function QA(t){return t.type===wr.ElementType.Text}bt.isText=QA;function ZA(t){return t.type===wr.ElementType.Comment}bt.isComment=ZA;function eO(t){return t.type===wr.ElementType.Directive}bt.isDirective=eO;function tO(t){return t.type===wr.ElementType.Root}bt.isDocument=tO;function AW(t){return Object.prototype.hasOwnProperty.call(t,"children")}bt.hasChildren=AW;function uE(t,e){e===void 0&&(e=!1);var n;if(QA(t))n=new GA(t.data);else if(ZA(t))n=new KA(t.data);else if(JA(t)){var r=e?c2(t.children):[],o=new YA(t.name,qh({},t.attribs),r);r.forEach(function(u){return u.parent=o}),t.namespace!=null&&(o.namespace=t.namespace),t["x-attribsNamespace"]&&(o["x-attribsNamespace"]=qh({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(o["x-attribsPrefix"]=qh({},t["x-attribsPrefix"])),n=o}else if(XA(t)){var r=e?c2(t.children):[],i=new zA(r);r.forEach(function(d){return d.parent=i}),n=i}else if(tO(t)){var r=e?c2(t.children):[],a=new WA(r);r.forEach(function(d){return d.parent=a}),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(eO(t)){var l=new HA(t.name,t.data);t["x-name"]!=null&&(l["x-name"]=t["x-name"],l["x-publicId"]=t["x-publicId"],l["x-systemId"]=t["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}bt.cloneNode=uE;function c2(t){for(var e=t.map(function(r){return uE(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Pe&&Pe.__createBinding||(Object.create?function(l,u,d,s){s===void 0&&(s=d);var g=Object.getOwnPropertyDescriptor(u,d);(!g||("get"in g?!u.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(l,s,g)}:function(l,u,d,s){s===void 0&&(s=d),l[s]=u[d]}),n=Pe&&Pe.__exportStar||function(l,u){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&e(u,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Pc,o=bt;n(bt,t);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function l(u,d,s){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(s=d,d=i),typeof u=="object"&&(d=u,u=void 0),this.callback=u??null,this.options=d??i,this.elementCB=s??null}return l.prototype.onparserinit=function(u){this.parser=u},l.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(u){this.handleCallback(u)},l.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},l.prototype.onopentag=function(u,d){var s=this.options.xmlMode?r.ElementType.Tag:void 0,g=new o.Element(u,d,void 0,s);this.addNode(g),this.tagStack.push(g)},l.prototype.ontext=function(u){var d=this.lastNode;if(d&&d.type===r.ElementType.Text)d.data+=u,this.options.withEndIndices&&(d.endIndex=this.parser.endIndex);else{var s=new o.Text(u);this.addNode(s),this.lastNode=s}},l.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var d=new o.Comment(u);this.addNode(d),this.lastNode=d},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var u=new o.Text(""),d=new o.CDATA([u]);this.addNode(d),u.parent=d,this.lastNode=u},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(u,d){var s=new o.ProcessingInstruction(u,d);this.addNode(s)},l.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},l.prototype.addNode=function(u){var d=this.tagStack[this.tagStack.length-1],s=d.children[d.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),d.children.push(u),s&&(u.prev=s,s.next=u),u.parent=d,this.lastNode=null},l}();t.DomHandler=a,t.default=a})(yi);var dy={},Br={},fg={},nO={},ol={},cE={};Object.defineProperty(cE,"__esModule",{value:!0});function v1(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}cE.default=new Map(v1([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(v1([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(v1([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(v1([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Q0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(o,i){return o.codePointAt(i)}:function(o,i){return(o.charCodeAt(i)&64512)===55296?(o.charCodeAt(i)-55296)*1024+o.charCodeAt(i+1)-56320+65536:o.charCodeAt(i)};function n(o){for(var i="",a=0,l;(l=t.xmlReplacer.exec(o))!==null;){var u=l.index,d=o.charCodeAt(u),s=e.get(d);s!==void 0?(i+=o.substring(a,u)+s,a=u+1):(i+="".concat(o.substring(a,u),"&#x").concat((0,t.getCodePoint)(o,u).toString(16),";"),a=t.xmlReplacer.lastIndex+=Number((d&64512)===55296))}return i+o.substr(a)}t.encodeXML=n,t.escape=n;function r(o,i){return function(l){for(var u,d=0,s="";u=o.exec(l);)d!==u.index&&(s+=l.substring(d,u.index)),s+=i.get(u[0].charCodeAt(0)),d=u.index+1;return s+l.substring(d)}}t.escapeUTF8=r(/[&<>'"]/g,e),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Q0);var OW=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ol,"__esModule",{value:!0});ol.encodeNonAsciiHTML=ol.encodeHTML=void 0;var BW=OW(cE),rO=Q0,PW=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function MW(t){return oO(PW,t)}ol.encodeHTML=MW;function NW(t){return oO(rO.xmlReplacer,t)}ol.encodeNonAsciiHTML=NW;function oO(t,e){for(var n="",r=0,o;(o=t.exec(e))!==null;){var i=o.index;n+=e.substring(r,i);var a=e.charCodeAt(i),l=BW.default.get(a);if(typeof l=="object"){if(i+1<e.length){var u=e.charCodeAt(i+1),d=typeof l.n=="number"?l.n===u?l.o:void 0:l.n.get(u);if(d!==void 0){n+=d,r=t.lastIndex+=1;continue}}l=l.v}if(l!==void 0)n+=l,r=i+1;else{var s=(0,rO.getCodePoint)(e,i);n+="&#x".concat(s.toString(16),";"),r=t.lastIndex+=Number(s!==a)}}return n+e.substr(r)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.DecodingMode=t.EntityLevel=void 0;var e=Sf,n=ol,r=Q0,o;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(o=t.EntityLevel||(t.EntityLevel={}));var i;(function(h){h[h.Legacy=0]="Legacy",h[h.Strict=1]="Strict"})(i=t.DecodingMode||(t.DecodingMode={}));var a;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(a=t.EncodingMode||(t.EncodingMode={}));function l(h,_){_===void 0&&(_=o.XML);var F=typeof _=="number"?{level:_}:_;return F.level===o.HTML?F.mode===i.Strict?(0,e.decodeHTMLStrict)(h):(0,e.decodeHTML)(h):(0,e.decodeXML)(h)}t.decode=l;function u(h,_){_===void 0&&(_=o.XML);var F=typeof _=="number"?{level:_}:_;return F.level===o.HTML?F.mode===i.Legacy?(0,e.decodeHTML)(h):(0,e.decodeHTMLStrict)(h):(0,e.decodeXML)(h)}t.decodeStrict=u;function d(h,_){_===void 0&&(_=o.XML);var F=typeof _=="number"?{level:_}:_;return F.mode===a.UTF8?(0,r.escapeUTF8)(h):F.mode===a.Attribute?(0,r.escapeAttribute)(h):F.mode===a.Text?(0,r.escapeText)(h):F.level===o.HTML?F.mode===a.ASCII?(0,n.encodeNonAsciiHTML)(h):(0,n.encodeHTML)(h):(0,r.encodeXML)(h)}t.encode=d;var s=Q0;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return s.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return s.escapeText}});var g=ol;Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return g.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return g.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return g.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return g.encodeHTML}});var c=Sf;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return c.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return c.decodeXML}})})(nO);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.attributeNames=tc.elementNames=void 0;tc.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]}));tc.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}));var vu=Pe&&Pe.__assign||function(){return vu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},vu.apply(this,arguments)},LW=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),UW=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jW=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&LW(e,t,n);return UW(e,t),e};Object.defineProperty(fg,"__esModule",{value:!0});fg.render=void 0;var xi=jW(Pc),Z0=nO,iO=tc,$W=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function qW(t){return t.replace(/"/g,"&quot;")}function VW(t,e){var n;if(t){var r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?qW:e.xmlMode||e.encodeEntities!=="utf8"?Z0.encodeXML:Z0.escapeAttribute;return Object.keys(t).map(function(o){var i,a,l=(i=t[o])!==null&&i!==void 0?i:"";return e.xmlMode==="foreign"&&(o=(a=iO.attributeNames.get(o))!==null&&a!==void 0?a:o),!e.emptyAttrs&&!e.xmlMode&&l===""?o:"".concat(o,'="').concat(r(l),'"')}).join(" ")}}var sC=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Km(t,e){e===void 0&&(e={});for(var n=("length"in t)?t:[t],r="",o=0;o<n.length;o++)r+=GW(n[o],e);return r}fg.render=Km;fg.default=Km;function GW(t,e){switch(t.type){case xi.Root:return Km(t.children,e);case xi.Doctype:case xi.Directive:return WW(t);case xi.Comment:return XW(t);case xi.CDATA:return JW(t);case xi.Script:case xi.Style:case xi.Tag:return zW(t,e);case xi.Text:return YW(t,e)}}var KW=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),HW=new Set(["svg","math"]);function zW(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=iO.elementNames.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&KW.has(t.parent.name)&&(e=vu(vu({},e),{xmlMode:!1}))),!e.xmlMode&&HW.has(t.name)&&(e=vu(vu({},e),{xmlMode:"foreign"}));var r="<".concat(t.name),o=VW(t.attribs,e);return o&&(r+=" ".concat(o)),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&sC.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=Km(t.children,e)),(e.xmlMode||!sC.has(t.name))&&(r+="</".concat(t.name,">"))),r}function WW(t){return"<".concat(t.data,">")}function YW(t,e){var n,r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&$W.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?(0,Z0.encodeXML)(r):(0,Z0.escapeText)(r)),r}function JW(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}function XW(t){return"<!--".concat(t.data,"-->")}var QW=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.innerText=Br.textContent=Br.getText=Br.getInnerHTML=Br.getOuterHTML=void 0;var li=yi,ZW=QW(fg),eY=Pc;function aO(t,e){return(0,ZW.default)(t,e)}Br.getOuterHTML=aO;function tY(t,e){return(0,li.hasChildren)(t)?t.children.map(function(n){return aO(n,e)}).join(""):""}Br.getInnerHTML=tY;function l0(t){return Array.isArray(t)?t.map(l0).join(""):(0,li.isTag)(t)?t.name==="br"?`
`:l0(t.children):(0,li.isCDATA)(t)?l0(t.children):(0,li.isText)(t)?t.data:""}Br.getText=l0;function hy(t){return Array.isArray(t)?t.map(hy).join(""):(0,li.hasChildren)(t)&&!(0,li.isComment)(t)?hy(t.children):(0,li.isText)(t)?t.data:""}Br.textContent=hy;function fy(t){return Array.isArray(t)?t.map(fy).join(""):(0,li.hasChildren)(t)&&(t.type===eY.ElementType.Tag||(0,li.isCDATA)(t))?fy(t.children):(0,li.isText)(t)?t.data:""}Br.innerText=fy;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.prevElementSibling=Fn.nextElementSibling=Fn.getName=Fn.hasAttrib=Fn.getAttributeValue=Fn.getSiblings=Fn.getParent=Fn.getChildren=void 0;var dE=yi;function sO(t){return(0,dE.hasChildren)(t)?t.children:[]}Fn.getChildren=sO;function lO(t){return t.parent||null}Fn.getParent=lO;function nY(t){var e,n,r=lO(t);if(r!=null)return sO(r);for(var o=[t],i=t.prev,a=t.next;i!=null;)o.unshift(i),e=i,i=e.prev;for(;a!=null;)o.push(a),n=a,a=n.next;return o}Fn.getSiblings=nY;function rY(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}Fn.getAttributeValue=rY;function oY(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}Fn.hasAttrib=oY;function iY(t){return t.name}Fn.getName=iY;function aY(t){for(var e,n=t.next;n!==null&&!(0,dE.isTag)(n);)e=n,n=e.next;return n}Fn.nextElementSibling=aY;function sY(t){for(var e,n=t.prev;n!==null&&!(0,dE.isTag)(n);)e=n,n=e.prev;return n}Fn.prevElementSibling=sY;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.prepend=Fr.prependChild=Fr.append=Fr.appendChild=Fr.replaceElement=Fr.removeElement=void 0;function gg(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}}Fr.removeElement=gg;function lY(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var o=e.parent=t.parent;if(o){var i=o.children;i[i.lastIndexOf(t)]=e,t.parent=null}}Fr.replaceElement=lY;function uY(t,e){if(gg(e),e.next=null,e.parent=t,t.children.push(e)>1){var n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}Fr.appendChild=uY;function cY(t,e){gg(e);var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var o=n.children;o.splice(o.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}Fr.append=cY;function dY(t,e){if(gg(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){var n=t.children[1];n.prev=e,e.next=n}else e.next=null}Fr.prependChild=dY;function hY(t,e){gg(e);var n=t.parent;if(n){var r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}Fr.prepend=hY;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.findAll=tr.existsOne=tr.findOne=tr.findOneChild=tr.find=tr.filter=void 0;var xf=yi;function fY(t,e,n,r){return n===void 0&&(n=!0),r===void 0&&(r=1/0),Array.isArray(e)||(e=[e]),hE(t,e,n,r)}tr.filter=fY;function hE(t,e,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var l=a[i];if(t(l)&&(o.push(l),--r<=0))break;if(n&&(0,xf.hasChildren)(l)&&l.children.length>0){var u=hE(t,l.children,n,r);if(o.push.apply(o,u),r-=u.length,r<=0)break}}return o}tr.find=hE;function gY(t,e){return e.find(t)}tr.findOneChild=gY;function uO(t,e,n){n===void 0&&(n=!0);for(var r=null,o=0;o<e.length&&!r;o++){var i=e[o];if((0,xf.isTag)(i))t(i)?r=i:n&&i.children.length>0&&(r=uO(t,i.children,!0));else continue}return r}tr.findOne=uO;function cO(t,e){return e.some(function(n){return(0,xf.isTag)(n)&&(t(n)||n.children.length>0&&cO(t,n.children))})}tr.existsOne=cO;function pY(t,e){for(var n,r=[],o=e.filter(xf.isTag),i;i=o.shift();){var a=(n=i.children)===null||n===void 0?void 0:n.filter(xf.isTag);a&&a.length>0&&o.unshift.apply(o,a),t(i)&&r.push(i)}return r}tr.findAll=pY;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getElementsByTagType=Pr.getElementsByTagName=Pr.getElementById=Pr.getElements=Pr.testElement=void 0;var As=yi,Hm=tr,ep={tag_name:function(t){return typeof t=="function"?function(e){return(0,As.isTag)(e)&&t(e.name)}:t==="*"?As.isTag:function(e){return(0,As.isTag)(e)&&e.name===t}},tag_type:function(t){return typeof t=="function"?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return typeof t=="function"?function(e){return(0,As.isText)(e)&&t(e.data)}:function(e){return(0,As.isText)(e)&&e.data===t}}};function dO(t,e){return typeof e=="function"?function(n){return(0,As.isTag)(n)&&e(n.attribs[t])}:function(n){return(0,As.isTag)(n)&&n.attribs[t]===e}}function mY(t,e){return function(n){return t(n)||e(n)}}function hO(t){var e=Object.keys(t).map(function(n){var r=t[n];return Object.prototype.hasOwnProperty.call(ep,n)?ep[n](r):dO(n,r)});return e.length===0?null:e.reduce(mY)}function FY(t,e){var n=hO(t);return n?n(e):!0}Pr.testElement=FY;function _Y(t,e,n,r){r===void 0&&(r=1/0);var o=hO(t);return o?(0,Hm.filter)(o,e,n,r):[]}Pr.getElements=_Y;function vY(t,e,n){return n===void 0&&(n=!0),Array.isArray(e)||(e=[e]),(0,Hm.findOne)(dO("id",t),e,n)}Pr.getElementById=vY;function yY(t,e,n,r){return n===void 0&&(n=!0),r===void 0&&(r=1/0),(0,Hm.filter)(ep.tag_name(t),e,n,r)}Pr.getElementsByTagName=yY;function bY(t,e,n,r){return n===void 0&&(n=!0),r===void 0&&(r=1/0),(0,Hm.filter)(ep.tag_type(t),e,n,r)}Pr.getElementsByTagType=bY;var fO={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var e=yi;function n(a){for(var l=a.length;--l>=0;){var u=a[l];if(l>0&&a.lastIndexOf(u,l-1)>=0){a.splice(l,1);continue}for(var d=u.parent;d;d=d.parent)if(a.includes(d)){a.splice(l,1);break}}return a}t.removeSubsets=n;var r;(function(a){a[a.DISCONNECTED=1]="DISCONNECTED",a[a.PRECEDING=2]="PRECEDING",a[a.FOLLOWING=4]="FOLLOWING",a[a.CONTAINS=8]="CONTAINS",a[a.CONTAINED_BY=16]="CONTAINED_BY"})(r=t.DocumentPosition||(t.DocumentPosition={}));function o(a,l){var u=[],d=[];if(a===l)return 0;for(var s=(0,e.hasChildren)(a)?a:a.parent;s;)u.unshift(s),s=s.parent;for(s=(0,e.hasChildren)(l)?l:l.parent;s;)d.unshift(s),s=s.parent;for(var g=Math.min(u.length,d.length),c=0;c<g&&u[c]===d[c];)c++;if(c===0)return r.DISCONNECTED;var h=u[c-1],_=h.children,F=u[c],m=d[c];return _.indexOf(F)>_.indexOf(m)?h===l?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:h===a?r.PRECEDING|r.CONTAINS:r.PRECEDING}t.compareDocumentPosition=o;function i(a){return a=a.filter(function(l,u,d){return!d.includes(l,u+1)}),a.sort(function(l,u){var d=o(l,u);return d&r.PRECEDING?-1:d&r.FOLLOWING?1:0}),a}t.uniqueSort=i})(fO);var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.getFeed=void 0;var EY=Br,pg=Pr;function wY(t){var e=tp(CY,t);return e?e.name==="feed"?DY(e):kY(e):null}zm.getFeed=wY;function DY(t){var e,n=t.children,r={type:"atom",items:(0,pg.getElementsByTagName)("entry",n).map(function(a){var l,u=a.children,d={media:gO(u)};mr(d,"id","id",u),mr(d,"title","title",u);var s=(l=tp("link",u))===null||l===void 0?void 0:l.attribs.href;s&&(d.link=s);var g=Gs("summary",u)||Gs("content",u);g&&(d.description=g);var c=Gs("updated",u);return c&&(d.pubDate=new Date(c)),d})};mr(r,"id","id",n),mr(r,"title","title",n);var o=(e=tp("link",n))===null||e===void 0?void 0:e.attribs.href;o&&(r.link=o),mr(r,"description","subtitle",n);var i=Gs("updated",n);return i&&(r.updated=new Date(i)),mr(r,"author","email",n,!0),r}function kY(t){var e,n,r=(n=(e=tp("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],o={type:t.name.substr(0,3),id:"",items:(0,pg.getElementsByTagName)("item",t.children).map(function(a){var l=a.children,u={media:gO(l)};mr(u,"id","guid",l),mr(u,"title","title",l),mr(u,"link","link",l),mr(u,"description","description",l);var d=Gs("pubDate",l);return d&&(u.pubDate=new Date(d)),u})};mr(o,"title","title",r),mr(o,"link","link",r),mr(o,"description","description",r);var i=Gs("lastBuildDate",r);return i&&(o.updated=new Date(i)),mr(o,"author","managingEditor",r,!0),o}var SY=["url","type","lang"],xY=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function gO(t){return(0,pg.getElementsByTagName)("media:content",t).map(function(e){for(var n=e.attribs,r={medium:n.medium,isDefault:!!n.isDefault},o=0,i=SY;o<i.length;o++){var a=i[o];n[a]&&(r[a]=n[a])}for(var l=0,u=xY;l<u.length;l++){var a=u[l];n[a]&&(r[a]=parseInt(n[a],10))}return n.expression&&(r.expression=n.expression),r})}function tp(t,e){return(0,pg.getElementsByTagName)(t,e,!0,1)[0]}function Gs(t,e,n){return n===void 0&&(n=!1),(0,EY.textContent)((0,pg.getElementsByTagName)(t,e,n,1)).trim()}function mr(t,e,n,r,o){o===void 0&&(o=!1);var i=Gs(n,r,o);i&&(t[e]=i)}function CY(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}(function(t){var e=Pe&&Pe.__createBinding||(Object.create?function(o,i,a,l){l===void 0&&(l=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(o,l,u)}:function(o,i,a,l){l===void 0&&(l=a),o[l]=i[a]}),n=Pe&&Pe.__exportStar||function(o,i){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,o,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(Br,t),n(Fn,t),n(Fr,t),n(tr,t),n(Pr,t),n(fO,t),n(zm,t);var r=yi;Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(dy);(function(t){var e=Pe&&Pe.__createBinding||(Object.create?function(_,F,m,p){p===void 0&&(p=m);var f=Object.getOwnPropertyDescriptor(F,m);(!f||("get"in f?!F.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return F[m]}}),Object.defineProperty(_,p,f)}:function(_,F,m,p){p===void 0&&(p=m),_[p]=F[m]}),n=Pe&&Pe.__setModuleDefault||(Object.create?function(_,F){Object.defineProperty(_,"default",{enumerable:!0,value:F})}:function(_,F){_.default=F}),r=Pe&&Pe.__importStar||function(_){if(_&&_.__esModule)return _;var F={};if(_!=null)for(var m in _)m!=="default"&&Object.prototype.hasOwnProperty.call(_,m)&&e(F,_,m);return n(F,_),F},o=Pe&&Pe.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultHandler=t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var i=qm;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=yi;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}});function l(_,F){var m=new a.DomHandler(void 0,F);return new i.Parser(m,F).end(_),m.root}t.parseDocument=l;function u(_,F){return l(_,F).children}t.parseDOM=u;function d(_,F,m){var p=new a.DomHandler(_,F,m);return new i.Parser(p,F)}t.createDomStream=d;var s=iE;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return o(s).default}});var g=r(Pc);t.ElementType=g;var c=dy;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return c.getFeed}});function h(_,F){return F===void 0&&(F={xmlMode:!0}),(0,c.getFeed)(u(_,F))}t.parseFeed=h,t.DomUtils=r(dy)})(VA);var TY=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},fE={};Object.defineProperty(fE,"__esModule",{value:!0});function lC(t){return Object.prototype.toString.call(t)==="[object Object]"}function IY(t){var e,n;return lC(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(lC(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}fE.isPlainObject=IY;var RY=function(e){return AY(e)&&!OY(e)};function AY(t){return!!t&&typeof t=="object"}function OY(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||MY(t)}var BY=typeof Symbol=="function"&&Symbol.for,PY=BY?Symbol.for("react.element"):60103;function MY(t){return t.$$typeof===PY}function NY(t){return Array.isArray(t)?[]:{}}function Cf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?nc(NY(t),t,e):t}function LY(t,e,n){return t.concat(e).map(function(r){return Cf(r,n)})}function UY(t,e){if(!e.customMerge)return nc;var n=e.customMerge(t);return typeof n=="function"?n:nc}function jY(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function uC(t){return Object.keys(t).concat(jY(t))}function pO(t,e){try{return e in t}catch{return!1}}function $Y(t,e){return pO(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function qY(t,e,n){var r={};return n.isMergeableObject(t)&&uC(t).forEach(function(o){r[o]=Cf(t[o],n)}),uC(e).forEach(function(o){$Y(t,o)||(pO(t,o)&&n.isMergeableObject(e[o])?r[o]=UY(o,n)(t[o],e[o],n):r[o]=Cf(e[o],n))}),r}function nc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||LY,n.isMergeableObject=n.isMergeableObject||RY,n.cloneUnlessOtherwiseSpecified=Cf;var r=Array.isArray(e),o=Array.isArray(t),i=r===o;return i?r?n.arrayMerge(t,e,n):qY(t,e,n):Cf(e,n)}nc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,o){return nc(r,o,n)},{})};var VY=nc,GY=VY,mO={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.parseSrcset=n()})(Pe,function(){return function(e){function n(y){return y===" "||y==="	"||y===`
`||y==="\f"||y==="\r"}function r(y){var w,b=y.exec(e.substring(m));if(b)return w=b[0],m+=w.length,w}for(var o=e.length,i=/^[ \t\n\r\u000c]+/,a=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,u=/[,]+$/,d=/^\d+$/,s=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g,c,h,_,F,m=0,p=[];;){if(r(a),m>=o)return p;g=r(l),c=[],g.slice(-1)===","?(g=g.replace(u,""),v()):f()}function f(){for(r(i),h="",_="in descriptor";;){if(F=e.charAt(m),_==="in descriptor")if(n(F))h&&(c.push(h),h="",_="after descriptor");else if(F===","){m+=1,h&&c.push(h),v();return}else if(F==="(")h=h+F,_="in parens";else if(F===""){h&&c.push(h),v();return}else h=h+F;else if(_==="in parens")if(F===")")h=h+F,_="in descriptor";else if(F===""){c.push(h),v();return}else h=h+F;else if(_==="after descriptor"&&!n(F))if(F===""){v();return}else _="in descriptor",m-=1;m+=1}}function v(){var y=!1,w,b,S,x,N={},U,q,P,G,C;for(x=0;x<c.length;x++)U=c[x],q=U[U.length-1],P=U.substring(0,U.length-1),G=parseInt(P,10),C=parseFloat(P),d.test(P)&&q==="w"?((w||b)&&(y=!0),G===0?y=!0:w=G):s.test(P)&&q==="x"?((w||b||S)&&(y=!0),C<0?y=!0:b=C):d.test(P)&&q==="h"?((S||b)&&(y=!0),G===0?y=!0:S=G):y=!0;y?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+U+"'."):(N.url=g,w&&(N.w=w),b&&(N.d=b),S&&(N.h=S),p.push(N))}}})})(mO);var gE={exports:{}},Ut=String,FO=function(){return{isColorSupported:!1,reset:Ut,bold:Ut,dim:Ut,italic:Ut,underline:Ut,inverse:Ut,hidden:Ut,strikethrough:Ut,black:Ut,red:Ut,green:Ut,yellow:Ut,blue:Ut,magenta:Ut,cyan:Ut,white:Ut,gray:Ut,bgBlack:Ut,bgRed:Ut,bgGreen:Ut,bgYellow:Ut,bgBlue:Ut,bgMagenta:Ut,bgCyan:Ut,bgWhite:Ut}};gE.exports=FO();gE.exports.createColors=FO;let cC=gE.exports,dC=Tn,np=class extends Error{constructor(e,n,r,o,i,a){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),o&&(this.source=o),a&&(this.plugin=a),typeof n<"u"&&typeof r<"u"&&(typeof n=="number"?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,np)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let n=this.source;e==null&&(e=cC.isColorSupported),dC&&e&&(n=dC(n));let r=n.split(/\r?\n/),o=Math.max(this.line-3,0),i=Math.min(this.line+2,r.length),a=String(i).length,l,u;if(e){let{bold:d,red:s,gray:g}=cC.createColors(!0);l=c=>d(s(c)),u=c=>g(c)}else l=u=d=>d;return r.slice(o,i).map((d,s)=>{let g=o+1+s,c=" "+(" "+g).slice(-a)+" | ";if(g===this.line){let h=u(c.replace(/\d/g," "))+d.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+u(c)+d+`
 `+h+l("^")}return" "+u(c)+d}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var pE=np;np.default=np;var mg={};mg.isClean=Symbol("isClean");mg.my=Symbol("my");const hC={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function KY(t){return t[0].toUpperCase()+t.slice(1)}let gy=class{constructor(e){this.builder=e}stringify(e,n){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,n)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let n=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+n+e.text+r+"*/",e)}decl(e,n){let r=this.raw(e,"between","colon"),o=e.prop+r+this.rawValue(e,"value");e.important&&(o+=e.raws.important||" !important"),n&&(o+=";"),this.builder(o,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,n){let r="@"+e.name,o=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:o&&(r+=" "),e.nodes)this.block(e,r+o);else{let i=(e.raws.between||"")+(n?";":"");this.builder(r+o+i,e)}}body(e){let n=e.nodes.length-1;for(;n>0&&e.nodes[n].type==="comment";)n-=1;let r=this.raw(e,"semicolon");for(let o=0;o<e.nodes.length;o++){let i=e.nodes[o],a=this.raw(i,"before");a&&this.builder(a),this.stringify(i,n!==o||r)}}block(e,n){let r=this.raw(e,"between","beforeOpen");this.builder(n+r+"{",e,"start");let o;e.nodes&&e.nodes.length?(this.body(e),o=this.raw(e,"after")):o=this.raw(e,"after","emptyBody"),o&&this.builder(o),this.builder("}",e,"end")}raw(e,n,r){let o;if(r||(r=n),n&&(o=e.raws[n],typeof o<"u"))return o;let i=e.parent;if(r==="before"&&(!i||i.type==="root"&&i.first===e||i&&i.type==="document"))return"";if(!i)return hC[r];let a=e.root();if(a.rawCache||(a.rawCache={}),typeof a.rawCache[r]<"u")return a.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+KY(r);this[l]?o=this[l](a,e):a.walk(u=>{if(o=u.raws[n],typeof o<"u")return!1})}return typeof o>"u"&&(o=hC[r]),a.rawCache[r]=o,o}rawSemicolon(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(n=r.raws.semicolon,typeof n<"u"))return!1}),n}rawEmptyBody(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(n=r.raws.after,typeof n<"u"))return!1}),n}rawIndent(e){if(e.raws.indent)return e.raws.indent;let n;return e.walk(r=>{let o=r.parent;if(o&&o!==e&&o.parent&&o.parent===e&&typeof r.raws.before<"u"){let i=r.raws.before.split(`
`);return n=i[i.length-1],n=n.replace(/\S/g,""),!1}}),n}rawBeforeComment(e,n){let r;return e.walkComments(o=>{if(typeof o.raws.before<"u")return r=o.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,n){let r;return e.walkDecls(o=>{if(typeof o.raws.before<"u")return r=o.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeRule(e){let n;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return n=r.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeClose(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return n=r.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let n;return e.walk(r=>{if(r.type!=="decl"&&(n=r.raws.between,typeof n<"u"))return!1}),n}rawColon(e){let n;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return n=r.raws.between.replace(/[^\s:]/g,""),!1}),n}beforeAfter(e,n){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):n==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let o=e.parent,i=0;for(;o&&o.type!=="root";)i+=1,o=o.parent;if(r.includes(`
`)){let a=this.raw(e,null,"indent");if(a.length)for(let l=0;l<i;l++)r+=a}return r}rawValue(e,n){let r=e[n],o=e.raws[n];return o&&o.value===r?o.raw:r}};var _O=gy;gy.default=gy;let HY=_O;function py(t,e){new HY(e).stringify(t)}var Wm=py;py.default=py;let{isClean:y1,my:zY}=mg,WY=pE,YY=_O,JY=Wm;function my(t,e){let n=new t.constructor;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||r==="proxyCache")continue;let o=t[r],i=typeof o;r==="parent"&&i==="object"?e&&(n[r]=e):r==="source"?n[r]=o:Array.isArray(o)?n[r]=o.map(a=>my(a,n)):(i==="object"&&o!==null&&(o=my(o)),n[r]=o)}return n}let Fy=class{constructor(e={}){this.raws={},this[y1]=!1,this[zY]=!0;for(let n in e)if(n==="nodes"){this.nodes=[];for(let r of e[n])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[n]=e[n]}error(e,n={}){if(this.source){let{start:r,end:o}=this.rangeBy(n);return this.source.input.error(e,{line:r.line,column:r.column},{line:o.line,column:o.column},n)}return new WY(e)}warn(e,n,r){let o={node:this};for(let i in r)o[i]=r[i];return e.warn(n,o)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=JY){e.stringify&&(e=e.stringify);let n="";return e(this,r=>{n+=r}),n}assign(e={}){for(let n in e)this[n]=e[n];return this}clone(e={}){let n=my(this);for(let r in e)n[r]=e[r];return n}cloneBefore(e={}){let n=this.clone(e);return this.parent.insertBefore(this,n),n}cloneAfter(e={}){let n=this.clone(e);return this.parent.insertAfter(this,n),n}replaceWith(...e){if(this.parent){let n=this,r=!1;for(let o of e)o===this?r=!0:r?(this.parent.insertAfter(n,o),n=o):this.parent.insertBefore(n,o);r||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}raw(e,n){return new YY().raw(this,e,n)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,n){let r={},o=n==null;n=n||new Map;let i=0;for(let a in this){if(!Object.prototype.hasOwnProperty.call(this,a)||a==="parent"||a==="proxyCache")continue;let l=this[a];if(Array.isArray(l))r[a]=l.map(u=>typeof u=="object"&&u.toJSON?u.toJSON(null,n):u);else if(typeof l=="object"&&l.toJSON)r[a]=l.toJSON(null,n);else if(a==="source"){let u=n.get(l.input);u==null&&(u=i,n.set(l.input,i),i++),r[a]={inputId:u,start:l.start,end:l.end}}else r[a]=l}return o&&(r.inputs=[...n.keys()].map(a=>a.toJSON())),r}positionInside(e){let n=this.toString(),r=this.source.start.column,o=this.source.start.line;for(let i=0;i<e;i++)n[i]===`
`?(r=1,o+=1):r+=1;return{line:o,column:r}}positionBy(e){let n=this.source.start;if(e.index)n=this.positionInside(e.index);else if(e.word){let r=this.toString().indexOf(e.word);r!==-1&&(n=this.positionInside(r))}return n}rangeBy(e){let n={line:this.source.start.line,column:this.source.start.column},r=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:n.line,column:n.column+1};if(e.word){let o=this.toString().indexOf(e.word);o!==-1&&(n=this.positionInside(o),r=this.positionInside(o+e.word.length))}else e.start?n={line:e.start.line,column:e.start.column}:e.index&&(n=this.positionInside(e.index)),e.end?r={line:e.end.line,column:e.end.column}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<n.line||r.line===n.line&&r.column<=n.column)&&(r={line:n.line,column:n.column+1}),{start:n,end:r}}getProxyProcessor(){return{set(e,n,r){return e[n]===r||(e[n]=r,(n==="prop"||n==="value"||n==="name"||n==="params"||n==="important"||n==="text")&&e.markDirty()),!0},get(e,n){return n==="proxyOf"?e:n==="root"?()=>e.root().toProxy():e[n]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let n=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${n.input.from}:${n.start.line}:${n.start.column}$&`)}return e}markDirty(){if(this[y1]){this[y1]=!1;let e=this;for(;e=e.parent;)e[y1]=!1}}get proxyOf(){return this}};var Ym=Fy;Fy.default=Fy;let XY=Ym,_y=class extends XY{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Jm=_y;_y.default=_y;let QY="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ZY=(t,e=21)=>(n=e)=>{let r="",o=n;for(;o--;)r+=t[Math.random()*t.length|0];return r},eJ=(t=21)=>{let e="",n=t;for(;n--;)e+=QY[Math.random()*64|0];return e};const tJ=Object.freeze(Object.defineProperty({__proto__:null,nanoid:eJ,customAlphabet:ZY},Symbol.toStringTag,{value:"Module"})),nJ=yb(tJ);let{SourceMapConsumer:fC,SourceMapGenerator:gC}=Tn,{existsSync:rJ,readFileSync:oJ}=Tn,{dirname:d2,join:iJ}=Tn;function aJ(t){return Wt.Buffer?Wt.Buffer.from(t,"base64").toString():window.atob(t)}let vy=class{constructor(e,n){if(n.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=n.map?n.map.prev:void 0,o=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=d2(this.mapFile)),o&&(this.text=o)}consumer(){return this.consumerCache||(this.consumerCache=new fC(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,n){return e?e.substr(0,n.length)===n:!1}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let n=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!n)return;let r=e.lastIndexOf(n.pop()),o=e.indexOf("*/",r);r>-1&&o>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,o)))}decodeInline(e){let n=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,o=/^data:application\/json;charset=utf-?8,/,i=/^data:application\/json,/;if(o.test(e)||i.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(n.test(e)||r.test(e))return aJ(e.substr(RegExp.lastMatch.length));let a=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}loadFile(e){if(this.root=d2(e),rJ(e))return this.mapFile=e,oJ(e,"utf-8").toString().trim()}loadMap(e,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let r=n(e);if(r){let o=this.loadFile(r);if(!o)throw new Error("Unable to load previous source map: "+r.toString());return o}}else{if(n instanceof fC)return gC.fromSourceMap(n).toString();if(n instanceof gC)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=iJ(d2(e),r)),this.loadFile(r)}}}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}};var vO=vy;vy.default=vy;let{SourceMapConsumer:sJ,SourceMapGenerator:lJ}=Tn,{fileURLToPath:pC,pathToFileURL:b1}=Tn,{resolve:yy,isAbsolute:by}=Tn,{nanoid:uJ}=nJ,h2=Tn,mC=pE,cJ=vO,f2=Symbol("fromOffsetCache"),dJ=Boolean(sJ&&lJ),FC=Boolean(yy&&by),rp=class{constructor(e,n={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!FC||/^\w+:\/\//.test(n.from)||by(n.from)?this.file=n.from:this.file=yy(n.from)),FC&&dJ){let r=new cJ(this.css,n);if(r.text){this.map=r;let o=r.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+uJ(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let n,r;if(this[f2])r=this[f2];else{let i=this.css.split(`
`);r=new Array(i.length);let a=0;for(let l=0,u=i.length;l<u;l++)r[l]=a,a+=i[l].length+1;this[f2]=r}n=r[r.length-1];let o=0;if(e>=n)o=r.length-1;else{let i=r.length-2,a;for(;o<i;)if(a=o+(i-o>>1),e<r[a])i=a-1;else if(e>=r[a+1])o=a+1;else{o=a;break}}return{line:o+1,col:e-r[o]+1}}error(e,n,r,o={}){let i,a,l;if(n&&typeof n=="object"){let d=n,s=r;if(typeof n.offset=="number"){let g=this.fromOffset(d.offset);n=g.line,r=g.col}else n=d.line,r=d.column;if(typeof s.offset=="number"){let g=this.fromOffset(s.offset);a=g.line,l=g.col}else a=s.line,l=s.column}else if(!r){let d=this.fromOffset(n);n=d.line,r=d.col}let u=this.origin(n,r,a,l);return u?i=new mC(e,u.endLine===void 0?u.line:{line:u.line,column:u.column},u.endLine===void 0?u.column:{line:u.endLine,column:u.endColumn},u.source,u.file,o.plugin):i=new mC(e,a===void 0?n:{line:n,column:r},a===void 0?r:{line:a,column:l},this.css,this.file,o.plugin),i.input={line:n,column:r,endLine:a,endColumn:l,source:this.css},this.file&&(b1&&(i.input.url=b1(this.file).toString()),i.input.file=this.file),i}origin(e,n,r,o){if(!this.map)return!1;let i=this.map.consumer(),a=i.originalPositionFor({line:e,column:n});if(!a.source)return!1;let l;typeof r=="number"&&(l=i.originalPositionFor({line:r,column:o}));let u;by(a.source)?u=b1(a.source):u=new URL(a.source,this.map.consumer().sourceRoot||b1(this.map.mapFile));let d={url:u.toString(),line:a.line,column:a.column,endLine:l&&l.line,endColumn:l&&l.column};if(u.protocol==="file:")if(pC)d.file=pC(u);else throw new Error("file: protocol is not available in this PostCSS build");let s=i.sourceContentFor(a.source);return s&&(d.source=s),d}mapResolve(e){return/^\w+:\/\//.test(e)?e:yy(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let n of["hasBOM","css","file","id"])this[n]!=null&&(e[n]=this[n]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}};var Xm=rp;rp.default=rp;h2&&h2.registerInput&&h2.registerInput(rp);let{SourceMapConsumer:yO,SourceMapGenerator:u0}=Tn,{dirname:c0,resolve:bO,relative:EO,sep:wO}=Tn,{pathToFileURL:_C}=Tn,hJ=Xm,fJ=Boolean(yO&&u0),gJ=Boolean(c0&&bO&&EO&&wO),pJ=class{constructor(e,n,r,o){this.stringify=e,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let n=e.source.input.map;this.previousMaps.includes(n)||this.previousMaps.push(n)}});else{let e=new hJ(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(n=>n.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let n=this.root.nodes.length-1;n>=0;n--)e=this.root.nodes[n],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(n)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk(n=>{if(n.source){let r=n.source.input.from;if(r&&!e[r]){e[r]=!0;let o=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(o,n.source.input.css)}}});else if(this.css){let n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}applyPrevMaps(){for(let e of this.previous()){let n=this.toUrl(this.path(e.file)),r=e.root||c0(e.file),o;this.mapOpts.sourcesContent===!1?(o=new yO(e.text),o.sourcesContent&&(o.sourcesContent=o.sourcesContent.map(()=>null))):o=e.consumer(),this.map.applySourceMap(o,n,this.toUrl(this.path(r)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}toBase64(e){return Wt.Buffer?Wt.Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=u0.fromSourceMap(e)}else this.map=new u0({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(e.indexOf("<")===0||/^\w+:\/\//.test(e)||this.mapOpts.absolute)return e;let n=this.opts.to?c0(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(n=c0(bO(n,this.mapOpts.annotation))),e=EO(n,e),e}toUrl(e){return wO==="\\"&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}toFileUrl(e){if(_C)return _C(e).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new u0({file:this.outputFile()});let e=1,n=1,r="<no source>",o={source:"",generated:{line:0,column:0},original:{line:0,column:0}},i,a;this.stringify(this.root,(l,u,d)=>{if(this.css+=l,u&&d!=="end"&&(o.generated.line=e,o.generated.column=n-1,u.source&&u.source.start?(o.source=this.sourcePath(u),o.original.line=u.source.start.line,o.original.column=u.source.start.column-1,this.map.addMapping(o)):(o.source=r,o.original.line=1,o.original.column=0,this.map.addMapping(o))),i=l.match(/\n/g),i?(e+=i.length,a=l.lastIndexOf(`
`),n=l.length-a):n+=l.length,u&&d!=="start"){let s=u.parent||{raws:{}};(!(u.type==="decl"||u.type==="atrule"&&!u.nodes)||u!==s.last||s.raws.semicolon)&&(u.source&&u.source.end?(o.source=this.sourcePath(u),o.original.line=u.source.end.line,o.original.column=u.source.end.column-1,o.generated.line=e,o.generated.column=n-2,this.map.addMapping(o)):(o.source=r,o.original.line=1,o.original.column=0,o.generated.line=e,o.generated.column=n-1,this.map.addMapping(o)))}})}generate(){if(this.clearAnnotation(),gJ&&fJ&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,n=>{e+=n}),[e]}}};var DO=pJ;let mJ=Ym,Ey=class extends mJ{constructor(e){super(e),this.type="comment"}};var Qm=Ey;Ey.default=Ey;let{isClean:kO,my:SO}=mg,xO=Jm,CO=Qm,FJ=Ym,TO,mE,FE,IO;function RO(t){return t.map(e=>(e.nodes&&(e.nodes=RO(e.nodes)),delete e.source,e))}function AO(t){if(t[kO]=!1,t.proxyOf.nodes)for(let e of t.proxyOf.nodes)AO(e)}let hi=class extends FJ{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let n=this.getIterator(),r,o;for(;this.indexes[n]<this.proxyOf.nodes.length&&(r=this.indexes[n],o=e(this.proxyOf.nodes[r],r),o!==!1);)this.indexes[n]+=1;return delete this.indexes[n],o}walk(e){return this.each((n,r)=>{let o;try{o=e(n,r)}catch(i){throw n.addToError(i)}return o!==!1&&n.walk&&(o=n.walk(e)),o})}walkDecls(e,n){return n?e instanceof RegExp?this.walk((r,o)=>{if(r.type==="decl"&&e.test(r.prop))return n(r,o)}):this.walk((r,o)=>{if(r.type==="decl"&&r.prop===e)return n(r,o)}):(n=e,this.walk((r,o)=>{if(r.type==="decl")return n(r,o)}))}walkRules(e,n){return n?e instanceof RegExp?this.walk((r,o)=>{if(r.type==="rule"&&e.test(r.selector))return n(r,o)}):this.walk((r,o)=>{if(r.type==="rule"&&r.selector===e)return n(r,o)}):(n=e,this.walk((r,o)=>{if(r.type==="rule")return n(r,o)}))}walkAtRules(e,n){return n?e instanceof RegExp?this.walk((r,o)=>{if(r.type==="atrule"&&e.test(r.name))return n(r,o)}):this.walk((r,o)=>{if(r.type==="atrule"&&r.name===e)return n(r,o)}):(n=e,this.walk((r,o)=>{if(r.type==="atrule")return n(r,o)}))}walkComments(e){return this.walk((n,r)=>{if(n.type==="comment")return e(n,r)})}append(...e){for(let n of e){let r=this.normalize(n,this.last);for(let o of r)this.proxyOf.nodes.push(o)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let n of e){let r=this.normalize(n,this.first,"prepend").reverse();for(let o of r)this.proxyOf.nodes.unshift(o);for(let o in this.indexes)this.indexes[o]=this.indexes[o]+r.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let n of this.nodes)n.cleanRaws(e)}insertBefore(e,n){let r=this.index(e),o=r===0?"prepend":!1,i=this.normalize(n,this.proxyOf.nodes[r],o).reverse();r=this.index(e);for(let l of i)this.proxyOf.nodes.splice(r,0,l);let a;for(let l in this.indexes)a=this.indexes[l],r<=a&&(this.indexes[l]=a+i.length);return this.markDirty(),this}insertAfter(e,n){let r=this.index(e),o=this.normalize(n,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let a of o)this.proxyOf.nodes.splice(r+1,0,a);let i;for(let a in this.indexes)i=this.indexes[a],r<i&&(this.indexes[a]=i+o.length);return this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let n;for(let r in this.indexes)n=this.indexes[r],n>=e&&(this.indexes[r]=n-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,n,r){return r||(r=n,n={}),this.walkDecls(o=>{n.props&&!n.props.includes(o.prop)||n.fast&&!o.value.includes(n.fast)||(o.value=o.value.replace(e,r))}),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,n){if(typeof e=="string")e=RO(TO(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let o of e)o.parent&&o.parent.removeChild(o,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let o of e)o.parent&&o.parent.removeChild(o,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new xO(e)]}else if(e.selector)e=[new mE(e)];else if(e.name)e=[new FE(e)];else if(e.text)e=[new CO(e)];else throw new Error("Unknown node type in node creation");return e.map(o=>(o[SO]||hi.rebuild(o),o=o.proxyOf,o.parent&&o.parent.removeChild(o),o[kO]&&AO(o),typeof o.raws.before>"u"&&n&&typeof n.raws.before<"u"&&(o.raws.before=n.raws.before.replace(/\S/g,"")),o.parent=this.proxyOf,o))}getProxyProcessor(){return{set(e,n,r){return e[n]===r||(e[n]=r,(n==="name"||n==="params"||n==="selector")&&e.markDirty()),!0},get(e,n){return n==="proxyOf"?e:e[n]?n==="each"||typeof n=="string"&&n.startsWith("walk")?(...r)=>e[n](...r.map(o=>typeof o=="function"?(i,a)=>o(i.toProxy(),a):o)):n==="every"||n==="some"?r=>e[n]((o,...i)=>r(o.toProxy(),...i)):n==="root"?()=>e.root().toProxy():n==="nodes"?e.nodes.map(r=>r.toProxy()):n==="first"||n==="last"?e[n].toProxy():e[n]:e[n]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}};hi.registerParse=t=>{TO=t};hi.registerRule=t=>{mE=t};hi.registerAtRule=t=>{FE=t};hi.registerRoot=t=>{IO=t};var Sl=hi;hi.default=hi;hi.rebuild=t=>{t.type==="atrule"?Object.setPrototypeOf(t,FE.prototype):t.type==="rule"?Object.setPrototypeOf(t,mE.prototype):t.type==="decl"?Object.setPrototypeOf(t,xO.prototype):t.type==="comment"?Object.setPrototypeOf(t,CO.prototype):t.type==="root"&&Object.setPrototypeOf(t,IO.prototype),t[SO]=!0,t.nodes&&t.nodes.forEach(e=>{hi.rebuild(e)})};let _J=Sl,OO,BO,Tf=class extends _J{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new OO(new BO,this,e).stringify()}};Tf.registerLazyResult=t=>{OO=t};Tf.registerProcessor=t=>{BO=t};var _E=Tf;Tf.default=Tf;let wy=class{constructor(e,n={}){if(this.type="warning",this.text=e,n.node&&n.node.source){let r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in n)this[r]=n[r]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var PO=wy;wy.default=wy;let vJ=PO,Dy=class{constructor(e,n,r){this.processor=e,this.messages=[],this.root=n,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,n={}){n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);let r=new vJ(e,n);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var vE=Dy;Dy.default=Dy;const g2="'".charCodeAt(0),vC='"'.charCodeAt(0),E1="\\".charCodeAt(0),yC="/".charCodeAt(0),w1=`
`.charCodeAt(0),th=" ".charCodeAt(0),D1="\f".charCodeAt(0),k1="	".charCodeAt(0),S1="\r".charCodeAt(0),yJ="[".charCodeAt(0),bJ="]".charCodeAt(0),EJ="(".charCodeAt(0),wJ=")".charCodeAt(0),DJ="{".charCodeAt(0),kJ="}".charCodeAt(0),SJ=";".charCodeAt(0),xJ="*".charCodeAt(0),CJ=":".charCodeAt(0),TJ="@".charCodeAt(0),x1=/[\t\n\f\r "#'()/;[\\\]{}]/g,C1=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,IJ=/.[\n"'(/\\]/,bC=/[\da-f]/i;var RJ=function(e,n={}){let r=e.css.valueOf(),o=n.ignoreErrors,i,a,l,u,d,s,g,c,h,_,F=r.length,m=0,p=[],f=[];function v(){return m}function y(x){throw e.error("Unclosed "+x,m)}function w(){return f.length===0&&m>=F}function b(x){if(f.length)return f.pop();if(m>=F)return;let N=x?x.ignoreUnclosed:!1;switch(i=r.charCodeAt(m),i){case w1:case th:case k1:case S1:case D1:{a=m;do a+=1,i=r.charCodeAt(a);while(i===th||i===w1||i===k1||i===S1||i===D1);_=["space",r.slice(m,a)],m=a-1;break}case yJ:case bJ:case DJ:case kJ:case CJ:case SJ:case wJ:{let U=String.fromCharCode(i);_=[U,U,m];break}case EJ:{if(c=p.length?p.pop()[1]:"",h=r.charCodeAt(m+1),c==="url"&&h!==g2&&h!==vC&&h!==th&&h!==w1&&h!==k1&&h!==D1&&h!==S1){a=m;do{if(s=!1,a=r.indexOf(")",a+1),a===-1)if(o||N){a=m;break}else y("bracket");for(g=a;r.charCodeAt(g-1)===E1;)g-=1,s=!s}while(s);_=["brackets",r.slice(m,a+1),m,a],m=a}else a=r.indexOf(")",m+1),u=r.slice(m,a+1),a===-1||IJ.test(u)?_=["(","(",m]:(_=["brackets",u,m,a],m=a);break}case g2:case vC:{l=i===g2?"'":'"',a=m;do{if(s=!1,a=r.indexOf(l,a+1),a===-1)if(o||N){a=m+1;break}else y("string");for(g=a;r.charCodeAt(g-1)===E1;)g-=1,s=!s}while(s);_=["string",r.slice(m,a+1),m,a],m=a;break}case TJ:{x1.lastIndex=m+1,x1.test(r),x1.lastIndex===0?a=r.length-1:a=x1.lastIndex-2,_=["at-word",r.slice(m,a+1),m,a],m=a;break}case E1:{for(a=m,d=!0;r.charCodeAt(a+1)===E1;)a+=1,d=!d;if(i=r.charCodeAt(a+1),d&&i!==yC&&i!==th&&i!==w1&&i!==k1&&i!==S1&&i!==D1&&(a+=1,bC.test(r.charAt(a)))){for(;bC.test(r.charAt(a+1));)a+=1;r.charCodeAt(a+1)===th&&(a+=1)}_=["word",r.slice(m,a+1),m,a],m=a;break}default:{i===yC&&r.charCodeAt(m+1)===xJ?(a=r.indexOf("*/",m+2)+1,a===0&&(o||N?a=r.length:y("comment")),_=["comment",r.slice(m,a+1),m,a],m=a):(C1.lastIndex=m+1,C1.test(r),C1.lastIndex===0?a=r.length-1:a=C1.lastIndex-2,_=["word",r.slice(m,a+1),m,a],p.push(_),m=a);break}}return m++,_}function S(x){f.push(x)}return{back:S,nextToken:b,endOfFile:w,position:v}};let MO=Sl,op=class extends MO{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var yE=op;op.default=op;MO.registerAtRule(op);let NO=Sl,LO,UO,rc=class extends NO{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,n){let r=this.index(e);return!n&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}normalize(e,n,r){let o=super.normalize(e);if(n){if(r==="prepend")this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n)for(let i of o)i.raws.before=n.raws.before}return o}toResult(e={}){return new LO(new UO,this,e).stringify()}};rc.registerLazyResult=t=>{LO=t};rc.registerProcessor=t=>{UO=t};var Fg=rc;rc.default=rc;NO.registerRoot(rc);let If={split(t,e,n){let r=[],o="",i=!1,a=0,l=!1,u="",d=!1;for(let s of t)d?d=!1:s==="\\"?d=!0:l?s===u&&(l=!1):s==='"'||s==="'"?(l=!0,u=s):s==="("?a+=1:s===")"?a>0&&(a-=1):a===0&&e.includes(s)&&(i=!0),i?(o!==""&&r.push(o.trim()),o="",i=!1):o+=s;return(n||o!=="")&&r.push(o.trim()),r},space(t){let e=[" ",`
`,"	"];return If.split(t,e)},comma(t){return If.split(t,[","],!0)}};var jO=If;If.default=If;let $O=Sl,AJ=jO,ip=class extends $O{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return AJ.comma(this.selector)}set selectors(e){let n=this.selector?this.selector.match(/,\s*/):null,r=n?n[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var bE=ip;ip.default=ip;$O.registerRule(ip);let OJ=Jm,BJ=RJ,PJ=Qm,MJ=yE,NJ=Fg,EC=bE;const wC={empty:!0,space:!0};function LJ(t){for(let e=t.length-1;e>=0;e--){let n=t[e],r=n[3]||n[2];if(r)return r}}let UJ=class{constructor(e){this.input=e,this.root=new NJ,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=BJ(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}comment(e){let n=new PJ;this.init(n,e[2]),n.source.end=this.getPosition(e[3]||e[2]);let r=e[1].slice(2,-2);if(/^\s*$/.test(r))n.text="",n.raws.left=r,n.raws.right="";else{let o=r.match(/^(\s*)([^]*\S)(\s*)$/);n.text=o[2],n.raws.left=o[1],n.raws.right=o[3]}}emptyRule(e){let n=new EC;this.init(n,e[2]),n.selector="",n.raws.between="",this.current=n}other(e){let n=!1,r=null,o=!1,i=null,a=[],l=e[1].startsWith("--"),u=[],d=e;for(;d;){if(r=d[0],u.push(d),r==="("||r==="[")i||(i=d),a.push(r==="("?")":"]");else if(l&&o&&r==="{")i||(i=d),a.push("}");else if(a.length===0)if(r===";")if(o){this.decl(u,l);return}else break;else if(r==="{"){this.rule(u);return}else if(r==="}"){this.tokenizer.back(u.pop()),n=!0;break}else r===":"&&(o=!0);else r===a[a.length-1]&&(a.pop(),a.length===0&&(i=null));d=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),a.length>0&&this.unclosedBracket(i),n&&o){if(!l)for(;u.length&&(d=u[u.length-1][0],!(d!=="space"&&d!=="comment"));)this.tokenizer.back(u.pop());this.decl(u,l)}else this.unknownWord(u)}rule(e){e.pop();let n=new EC;this.init(n,e[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(n,"selector",e),this.current=n}decl(e,n){let r=new OJ;this.init(r,e[0][2]);let o=e[e.length-1];for(o[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(o[3]||o[2]||LJ(e));e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let d=e[0][0];if(d===":"||d==="space"||d==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let i;for(;e.length;)if(i=e.shift(),i[0]===":"){r.raws.between+=i[1];break}else i[0]==="word"&&/\w/.test(i[1])&&this.unknownWord([i]),r.raws.between+=i[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let a=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)a.push(e.shift());this.precheckMissedSemicolon(e);for(let d=e.length-1;d>=0;d--){if(i=e[d],i[1].toLowerCase()==="!important"){r.important=!0;let s=this.stringFrom(e,d);s=this.spacesFromEnd(e)+s,s!==" !important"&&(r.raws.important=s);break}else if(i[1].toLowerCase()==="important"){let s=e.slice(0),g="";for(let c=d;c>0;c--){let h=s[c][0];if(g.trim().indexOf("!")===0&&h!=="space")break;g=s.pop()[1]+g}g.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=g,e=s)}if(i[0]!=="space"&&i[0]!=="comment")break}e.some(d=>d[0]!=="space"&&d[0]!=="comment")&&(r.raws.between+=a.map(d=>d[1]).join(""),a=[]),this.raw(r,"value",a.concat(e),n),r.value.includes(":")&&!n&&this.checkMissedSemicolon(e)}atrule(e){let n=new MJ;n.name=e[1].slice(1),n.name===""&&this.unnamedAtrule(n,e),this.init(n,e[2]);let r,o,i,a=!1,l=!1,u=[],d=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?d.push(r==="("?")":"]"):r==="{"&&d.length>0?d.push("}"):r===d[d.length-1]&&d.pop(),d.length===0)if(r===";"){n.source.end=this.getPosition(e[2]),this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(u.length>0){for(i=u.length-1,o=u[i];o&&o[0]==="space";)o=u[--i];o&&(n.source.end=this.getPosition(o[3]||o[2]))}this.end(e);break}else u.push(e);else u.push(e);if(this.tokenizer.endOfFile()){a=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(u),u.length?(n.raws.afterName=this.spacesAndCommentsFromStart(u),this.raw(n,"params",u),a&&(e=u[u.length-1],n.source.end=this.getPosition(e[3]||e[2]),this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),l&&(n.nodes=[],this.current=n)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let n=this.input.fromOffset(e);return{offset:e,line:n.line,column:n.col}}init(e,n){this.current.push(e),e.source={start:this.getPosition(n),input:this.input},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}raw(e,n,r,o){let i,a,l=r.length,u="",d=!0,s,g;for(let c=0;c<l;c+=1)i=r[c],a=i[0],a==="space"&&c===l-1&&!o?d=!1:a==="comment"?(g=r[c-1]?r[c-1][0]:"empty",s=r[c+1]?r[c+1][0]:"empty",!wC[g]&&!wC[s]?u.slice(-1)===","?d=!1:u+=i[1]:d=!1):u+=i[1];if(!d){let c=r.reduce((h,_)=>h+_[1],"");e.raws[n]={value:u,raw:c}}e[n]=u}spacesAndCommentsFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],!(n!=="space"&&n!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let n,r="";for(;e.length&&(n=e[0][0],!(n!=="space"&&n!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],n==="space");)r=e.pop()[1]+r;return r}stringFrom(e,n){let r="";for(let o=n;o<e.length;o++)r+=e[o][1];return e.splice(n,e.length-n),r}colon(e){let n=0,r,o,i;for(let[a,l]of e.entries()){if(r=l,o=r[0],o==="("&&(n+=1),o===")"&&(n-=1),n===0&&o===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return a}i=r}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let n=this.colon(e);if(n===!1)return;let r=0,o;for(let i=n-1;i>=0&&(o=e[i],!(o[0]!=="space"&&(r+=1,r===2)));i--);throw this.input.error("Missed semicolon",o[0]==="word"?o[3]+1:o[2])}};var jJ=UJ;let $J=Sl,qJ=jJ,VJ=Xm;function ap(t,e){let n=new VJ(t,e),r=new qJ(n);try{r.parse()}catch(o){throw o}return r.root}var EE=ap;ap.default=ap;$J.registerParse(ap);let{isClean:Yo,my:GJ}=mg,KJ=DO,HJ=Wm,zJ=Sl,WJ=_E,DC=vE,YJ=EE,JJ=Fg;const XJ={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},QJ={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},ZJ={postcssPlugin:!0,prepare:!0,Once:!0},oc=0;function nh(t){return typeof t=="object"&&typeof t.then=="function"}function qO(t){let e=!1,n=XJ[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[n,n+"-"+e,oc,n+"Exit",n+"Exit-"+e]:e?[n,n+"-"+e,n+"Exit",n+"Exit-"+e]:t.append?[n,oc,n+"Exit"]:[n,n+"Exit"]}function kC(t){let e;return t.type==="document"?e=["Document",oc,"DocumentExit"]:t.type==="root"?e=["Root",oc,"RootExit"]:e=qO(t),{node:t,events:e,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function ky(t){return t[Yo]=!1,t.nodes&&t.nodes.forEach(e=>ky(e)),t}let Sy={},il=class{constructor(e,n,r){this.stringified=!1,this.processed=!1;let o;if(typeof n=="object"&&n!==null&&(n.type==="root"||n.type==="document"))o=ky(n);else if(n instanceof il||n instanceof DC)o=ky(n.root),n.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let i=YJ;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{o=i(n,r)}catch(a){this.processed=!0,this.error=a}o&&!o[GJ]&&zJ.rebuild(o)}this.result=new DC(e,o,r),this.helpers={...Sy,result:this.result,postcss:Sy},this.plugins=this.processor.plugins.map(i=>typeof i=="object"&&i.prepare?{...i,...i.prepare(this.result)}:i)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,n){return this.async().then(e,n)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let n=this.runOnRoot(e);if(nh(n))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Yo];)e[Yo]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let n of e.nodes)this.visitSync(this.listeners.OnceExit,n);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,n=HJ;e.syntax&&(n=e.syntax.stringify),e.stringifier&&(n=e.stringifier),n.stringify&&(n=n.stringify);let o=new KJ(n,this.result.root,this.result.opts).generate();return this.result.css=o[0],this.result.map=o[1],this.result}walkSync(e){e[Yo]=!0;let n=qO(e);for(let r of n)if(r===oc)e.nodes&&e.each(o=>{o[Yo]||this.walkSync(o)});else{let o=this.listeners[r];if(o&&this.visitSync(o,e.toProxy()))return}}visitSync(e,n){for(let[r,o]of e){this.result.lastPlugin=r;let i;try{i=o(n,this.helpers)}catch(a){throw this.handleError(a,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(nh(i))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let n=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return nh(n[0])?Promise.all(n):n}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(n){throw this.handleError(n)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,n){let r=this.result.lastPlugin;try{n&&n.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(o){console&&console.error&&console.error(o)}return e}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let n=this.plugins[e],r=this.runOnRoot(n);if(nh(r))try{await r}catch(o){throw this.handleError(o)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Yo];){e[Yo]=!0;let n=[kC(e)];for(;n.length>0;){let r=this.visitTick(n);if(nh(r))try{await r}catch(o){let i=n[n.length-1].node;throw this.handleError(o,i)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if(e.type==="document"){let o=e.nodes.map(i=>r(i,this.helpers));await Promise.all(o)}else await r(e,this.helpers)}catch(o){throw this.handleError(o)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(n,r,o)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([n,o])};for(let n of this.plugins)if(typeof n=="object")for(let r in n){if(!QJ[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${n.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!ZJ[r])if(typeof n[r]=="object")for(let o in n[r])o==="*"?e(n,r,n[r][o]):e(n,r+"-"+o.toLowerCase(),n[r][o]);else typeof n[r]=="function"&&e(n,r,n[r])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let n=e[e.length-1],{node:r,visitors:o}=n;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(o.length>0&&n.visitorIndex<o.length){let[a,l]=o[n.visitorIndex];n.visitorIndex+=1,n.visitorIndex===o.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=a;try{return l(r.toProxy(),this.helpers)}catch(u){throw this.handleError(u,r)}}if(n.iterator!==0){let a=n.iterator,l;for(;l=r.nodes[r.indexes[a]];)if(r.indexes[a]+=1,!l[Yo]){l[Yo]=!0,e.push(kC(l));return}n.iterator=0,delete r.indexes[a]}let i=n.events;for(;n.eventIndex<i.length;){let a=i[n.eventIndex];if(n.eventIndex+=1,a===oc){r.nodes&&r.nodes.length&&(r[Yo]=!0,n.iterator=r.getIterator());return}else if(this.listeners[a]){n.visitors=this.listeners[a];return}}e.pop()}};il.registerPostcss=t=>{Sy=t};var VO=il;il.default=il;JJ.registerLazyResult(il);WJ.registerLazyResult(il);let eX=DO,tX=Wm,nX=EE;const rX=vE;let xy=class{constructor(e,n,r){n=n.toString(),this.stringified=!1,this._processor=e,this._css=n,this._opts=r,this._map=void 0;let o,i=tX;this.result=new rX(this._processor,o,this._opts),this.result.css=n;let a=this;Object.defineProperty(this.result,"root",{get(){return a.root}});let l=new eX(i,o,this._opts,n);if(l.isMap()){let[u,d]=l.generate();u&&(this.result.css=u),d&&(this.result.map=d)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,n=nX;try{e=n(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,n){return this.async().then(e,n)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}};var oX=xy;xy.default=xy;let iX=oX,aX=VO,sX=_E,lX=Fg,Rf=class{constructor(e=[]){this.version="8.4.20",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,n={}){return this.plugins.length===0&&typeof n.parser>"u"&&typeof n.stringifier>"u"&&typeof n.syntax>"u"?new iX(this,e,n):new aX(this,e,n)}normalize(e){let n=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))n=n.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)n.push(r);else if(typeof r=="function")n.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return n}};var uX=Rf;Rf.default=Rf;lX.registerProcessor(Rf);sX.registerProcessor(Rf);let cX=Jm,dX=vO,hX=Qm,fX=yE,gX=Xm,pX=Fg,mX=bE;function Af(t,e){if(Array.isArray(t))return t.map(o=>Af(o));let{inputs:n,...r}=t;if(n){e=[];for(let o of n){let i={...o,__proto__:gX.prototype};i.map&&(i.map={...i.map,__proto__:dX.prototype}),e.push(i)}}if(r.nodes&&(r.nodes=t.nodes.map(o=>Af(o,e))),r.source){let{inputId:o,...i}=r.source;r.source=i,o!=null&&(r.source.input=e[o])}if(r.type==="root")return new pX(r);if(r.type==="decl")return new cX(r);if(r.type==="rule")return new mX(r);if(r.type==="comment")return new hX(r);if(r.type==="atrule")return new fX(r);throw new Error("Unknown node type: "+t.type)}var FX=Af;Af.default=Af;let _X=pE,GO=Jm,vX=VO,yX=Sl,wE=uX,bX=Wm,EX=FX,KO=_E,wX=PO,HO=Qm,zO=yE,DX=vE,kX=Xm,SX=EE,xX=jO,WO=bE,YO=Fg,CX=Ym;function Rt(...t){return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new wE(t)}Rt.plugin=function(e,n){let r=!1;function o(...a){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let l=n(...a);return l.postcssPlugin=e,l.postcssVersion=new wE().version,l}let i;return Object.defineProperty(o,"postcss",{get(){return i||(i=o()),i}}),o.process=function(a,l,u){return Rt([o(u)]).process(a,l)},o};Rt.stringify=bX;Rt.parse=SX;Rt.fromJSON=EX;Rt.list=xX;Rt.comment=t=>new HO(t);Rt.atRule=t=>new zO(t);Rt.decl=t=>new GO(t);Rt.rule=t=>new WO(t);Rt.root=t=>new YO(t);Rt.document=t=>new KO(t);Rt.CssSyntaxError=_X;Rt.Declaration=GO;Rt.Container=yX;Rt.Processor=wE;Rt.Document=KO;Rt.Comment=HO;Rt.Warning=wX;Rt.AtRule=zO;Rt.Result=DX;Rt.Input=kX;Rt.Rule=WO;Rt.Root=YO;Rt.Node=CX;vX.registerPostcss(Rt);var TX=Rt;Rt.default=Rt;const IX=VA,SC=TY,{isPlainObject:RX}=fE,xC=GY,AX=mO.exports,{parse:OX}=TX,BX=["img","audio","video","picture","svg","object","map","iframe","embed"],PX=["script","style"];function yh(t,e){t&&Object.keys(t).forEach(function(n){e(t[n],n)})}function Ci(t,e){return{}.hasOwnProperty.call(t,e)}function CC(t,e){const n=[];return yh(t,function(r){e(r)&&n.push(r)}),n}function MX(t){for(const e in t)if(Ci(t,e))return!1;return!0}function NX(t){return t.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}var LX=Of;const UX=/^[^\0\t\n\f\r /<=>]+$/;function Of(t,e,n){if(t==null)return"";let r="",o="";function i(C,I){const M=this;this.tag=C,this.attribs=I||{},this.tagPosition=r.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(F.length){const A=F[F.length-1];A.text+=M.text}},this.updateParentNodeMediaChildren=function(){F.length&&BX.includes(this.tag)&&F[F.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},Of.defaults,e),e.parser=Object.assign({},jX,e.parser),PX.forEach(function(C){e.allowedTags!==!1&&(e.allowedTags||[]).indexOf(C)>-1&&!e.allowVulnerableTags&&console.warn(`

 Your \`allowedTags\` option includes, \`${C}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const a=e.nonTextTags||["script","style","textarea","option"];let l,u;e.allowedAttributes&&(l={},u={},yh(e.allowedAttributes,function(C,I){l[I]=[];const M=[];C.forEach(function(A){typeof A=="string"&&A.indexOf("*")>=0?M.push(SC(A).replace(/\\\*/g,".*")):l[I].push(A)}),M.length&&(u[I]=new RegExp("^("+M.join("|")+")$"))}));const d={},s={},g={};yh(e.allowedClasses,function(C,I){l&&(Ci(l,I)||(l[I]=[]),l[I].push("class")),d[I]=[],g[I]=[];const M=[];C.forEach(function(A){typeof A=="string"&&A.indexOf("*")>=0?M.push(SC(A).replace(/\\\*/g,".*")):A instanceof RegExp?g[I].push(A):d[I].push(A)}),M.length&&(s[I]=new RegExp("^("+M.join("|")+")$"))});const c={};let h;yh(e.transformTags,function(C,I){let M;typeof C=="function"?M=C:typeof C=="string"&&(M=Of.simpleTransform(C)),I==="*"?h=M:c[I]=M});let _,F,m,p,f,v,y=!1;b();const w=new IX.Parser({onopentag:function(C,I){if(e.enforceHtmlBoundary&&C==="html"&&b(),f){v++;return}const M=new i(C,I);F.push(M);let A=!1;const $=!!M.text;let Y;if(Ci(c,C)&&(Y=c[C](C,I),M.attribs=I=Y.attribs,Y.text!==void 0&&(M.innerText=Y.text),C!==Y.tagName&&(M.name=C=Y.tagName,p[_]=Y.tagName)),h&&(Y=h(C,I),M.attribs=I=Y.attribs,C!==Y.tagName&&(M.name=C=Y.tagName,p[_]=Y.tagName)),(e.allowedTags!==!1&&(e.allowedTags||[]).indexOf(C)===-1||e.disallowedTagsMode==="recursiveEscape"&&!MX(m)||e.nestingLimit!=null&&_>=e.nestingLimit)&&(A=!0,m[_]=!0,e.disallowedTagsMode==="discard"&&a.indexOf(C)!==-1&&(f=!0,v=1),m[_]=!0),_++,A){if(e.disallowedTagsMode==="discard")return;o=r,r=""}r+="<"+C,C==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(M.innerText=""),(!l||Ci(l,C)||l["*"])&&yh(I,function(T,D){if(!UX.test(D)){delete M.attribs[D];return}let R=!1;if(!l||Ci(l,C)&&l[C].indexOf(D)!==-1||l["*"]&&l["*"].indexOf(D)!==-1||Ci(u,C)&&u[C].test(D)||u["*"]&&u["*"].test(D))R=!0;else if(l&&l[C]){for(const B of l[C])if(RX(B)&&B.name&&B.name===D){R=!0;let H="";if(B.multiple===!0){const Q=T.split(" ");for(const L of Q)B.values.indexOf(L)!==-1&&(H===""?H=L:H+=" "+L)}else B.values.indexOf(T)>=0&&(H=T);T=H}}if(R){if(e.allowedSchemesAppliedToAttributes.indexOf(D)!==-1&&x(C,T)){delete M.attribs[D];return}if(C==="script"&&D==="src"){let B=!0;try{const H=N(T);if(e.allowedScriptHostnames||e.allowedScriptDomains){const Q=(e.allowedScriptHostnames||[]).find(function(le){return le===H.url.hostname}),L=(e.allowedScriptDomains||[]).find(function(le){return H.url.hostname===le||H.url.hostname.endsWith(`.${le}`)});B=Q||L}}catch{B=!1}if(!B){delete M.attribs[D];return}}if(C==="iframe"&&D==="src"){let B=!0;try{const H=N(T);if(H.isRelativeUrl)B=Ci(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){const Q=(e.allowedIframeHostnames||[]).find(function(le){return le===H.url.hostname}),L=(e.allowedIframeDomains||[]).find(function(le){return H.url.hostname===le||H.url.hostname.endsWith(`.${le}`)});B=Q||L}}catch{B=!1}if(!B){delete M.attribs[D];return}}if(D==="srcset")try{let B=AX(T);if(B.forEach(function(H){x("srcset",H.url)&&(H.evil=!0)}),B=CC(B,function(H){return!H.evil}),B.length)T=NX(CC(B,function(H){return!H.evil})),M.attribs[D]=T;else{delete M.attribs[D];return}}catch{delete M.attribs[D];return}if(D==="class"){const B=d[C],H=d["*"],Q=s[C],L=g[C],le=s["*"],he=[Q,le].concat(L).filter(function(De){return De});if(B&&H?T=G(T,xC(B,H),he):T=G(T,B||H,he),!T.length){delete M.attribs[D];return}}if(D==="style")try{const B=OX(C+" {"+T+"}"),H=U(B,e.allowedStyles);if(T=q(H),T.length===0){delete M.attribs[D];return}}catch{delete M.attribs[D];return}r+=" "+D,T&&T.length&&(r+='="'+S(T,!0)+'"')}else delete M.attribs[D]}),e.selfClosing.indexOf(C)!==-1?r+=" />":(r+=">",M.innerText&&!$&&!e.textFilter&&(r+=S(M.innerText),y=!0)),A&&(r=o+S(r),o="")},ontext:function(C){if(f)return;const I=F[F.length-1];let M;if(I&&(M=I.tag,C=I.innerText!==void 0?I.innerText:C),e.disallowedTagsMode==="discard"&&(M==="script"||M==="style"))r+=C;else{const A=S(C,!1);e.textFilter&&!y?r+=e.textFilter(A,M):y||(r+=A)}if(F.length){const A=F[F.length-1];A.text+=C}},onclosetag:function(C){if(f)if(v--,!v)f=!1;else return;const I=F.pop();if(!I)return;if(I.tag!==C){F.push(I);return}f=e.enforceHtmlBoundary?C==="html":!1,_--;const M=m[_];if(M){if(delete m[_],e.disallowedTagsMode==="discard"){I.updateParentNodeText();return}o=r,r=""}if(p[_]&&(C=p[_],delete p[_]),e.exclusiveFilter&&e.exclusiveFilter(I)){r=r.substr(0,I.tagPosition);return}if(I.updateParentNodeMediaChildren(),I.updateParentNodeText(),e.selfClosing.indexOf(C)!==-1){M&&(r=o,o="");return}r+="</"+C+">",M&&(r=o+S(r),o=""),y=!1}},e.parser);return w.write(t),w.end(),r;function b(){r="",_=0,F=[],m={},p={},f=!1,v=0}function S(C,I){return typeof C!="string"&&(C=C+""),e.parser.decodeEntities&&(C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),I&&(C=C.replace(/"/g,"&quot;"))),C=C.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),I&&(C=C.replace(/"/g,"&quot;")),C}function x(C,I){for(I=I.replace(/[\x00-\x20]+/g,"");;){const $=I.indexOf("<!--");if($===-1)break;const Y=I.indexOf("-->",$+4);if(Y===-1)break;I=I.substring(0,$)+I.substring(Y+3)}const M=I.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!M)return I.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;const A=M[1].toLowerCase();return Ci(e.allowedSchemesByTag,C)?e.allowedSchemesByTag[C].indexOf(A)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(A)===-1}function N(C){if(C=C.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),C.startsWith("relative:"))throw new Error("relative: exploit attempt");let I="relative://relative-site";for(let $=0;$<100;$++)I+=`/${$}`;const M=new URL(C,I);return{isRelativeUrl:M&&M.hostname==="relative-site"&&M.protocol==="relative:",url:M}}function U(C,I){if(!I)return C;const M=C.nodes[0];let A;return I[M.selector]&&I["*"]?A=xC(I[M.selector],I["*"]):A=I[M.selector]||I["*"],A&&(C.nodes[0].nodes=M.nodes.reduce(P(A),[])),C}function q(C){return C.nodes[0].nodes.reduce(function(I,M){return I.push(`${M.prop}:${M.value}${M.important?" !important":""}`),I},[]).join(";")}function P(C){return function(I,M){return Ci(C,M.prop)&&C[M.prop].some(function($){return $.test(M.value)})&&I.push(M),I}}function G(C,I,M){return I?(C=C.split(/\s+/),C.filter(function(A){return I.indexOf(A)!==-1||M.some(function($){return $.test(A)})}).join(" ")):C}}const jX={decodeEntities:!0};Of.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1};Of.simpleTransform=function(t,e,n){return n=n===void 0?!0:n,e=e||{},function(r,o){let i;if(n)for(i in e)o[i]=e[i];else o=e;return{tagName:t,attribs:o}}};const $X=LX,qX=100;let Ys=null;const VX=["font","del","h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","sup","sub","li","b","i","u","strong","em","strike","code","hr","br","div","table","thead","tbody","tr","th","td","caption","pre","span","img","details","summary"],TC=["https","http","ftp","mailto","magnet"],GX={font:["style","data-mx-bg-color","data-mx-color","color"],span:["style","data-mx-bg-color","data-mx-color","data-mx-spoiler","data-mx-maths","data-mx-pill","data-mx-ping"],div:["data-mx-maths"],a:["name","target","href","rel"],img:["width","height","alt","title","src","data-mx-emoticon"],ol:["start"],code:["class"]};function KX(t,e){return{tagName:t,attribs:{...e,style:`background-color: ${e["data-mx-bg-color"]}; color: ${e["data-mx-color"]}`}}}function HX(t,e){return{tagName:t,attribs:{...e,style:`background-color: ${e["data-mx-bg-color"]}; color: ${e["data-mx-color"]}`}}}function zX(t,e){const n=decodeURIComponent(e.href).match(/^https?:\/\/matrix.to\/#\/(@.+:.+)/);if(n!==null){const i=n[1],a={tagName:"span",attribs:{"data-mx-pill":i}};return i===(Ys==null?void 0:Ys.getUserId())&&(a.attribs["data-mx-ping"]=void 0),a}const r=/[\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/ug,o=e.href.replace(r,i=>`[e-${i.codePointAt(0).toString(16)}]`);return{tagName:t,attribs:{...e,href:o,rel:"noopener",target:"_blank"}}}function WX(t,e){const{src:n}=e;return n.startsWith("mxc://")===!1?{tagName:"a",attribs:{href:n,rel:"noopener",target:"_blank"},text:e.alt||n}:{tagName:t,attribs:{...e,src:Ys==null?void 0:Ys.mxcUrlToHttp(n)}}}function YX(t,e){return Ys=t,$X(e,{allowedTags:VX,allowedAttributes:GX,disallowedTagsMode:"discard",allowedSchemes:TC,allowedSchemesByTag:{a:TC},allowedSchemesAppliedToAttributes:["href"],allowProtocolRelative:!1,allowedClasses:{code:["language-*"]},allowedStyles:{"*":{color:[/^#(?:[0-9a-fA-F]{3}){1,2}$/],"background-color":[/^#(?:[0-9a-fA-F]{3}){1,2}$/]}},transformTags:{font:KX,span:HX,a:zX,img:WX},nonTextTags:["style","script","textarea","option","noscript","mx-reply"],nestingLimit:qX})}function Cy(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>'"]/g,n=>e[n]||n)}var JX=/\r\n?/g,XX=/\t/g,QX=/\f/g,JO=function(e){return e.replace(JX,`
`).replace(QX,"").replace(XX,"    ")},XO=function(e,n){var r=e||{};if(n!=null)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r},QO=function(e,n){var r=Object.keys(e).filter(function(l){var u=e[l];if(u==null||u.match==null)return!1;var d=u.order;return(typeof d!="number"||!isFinite(d))&&typeof console<"u"&&console.warn("simple-markdown: Invalid order for rule `"+l+"`: "+String(d)),!0});r.sort(function(l,u){var d=e[l],s=e[u],g=d.order,c=s.order;if(g!==c)return g-c;var h=d.quality?0:1,_=s.quality?0:1;return h!==_?h-_:l<u?-1:l>u?1:0});var o,i=function l(u,d){var s=[];for(d=d||o,o=d;u;){var g=null,c=null,h=null,_=NaN,F=0,m=r[0],p=e[m];do{var f=p.order,v=d.prevCapture==null?"":d.prevCapture[0],y=p.match(u,d,v);if(y){var w=p.quality?p.quality(y,d,v):0;w<=_||(g=m,c=p,h=y,_=w)}F++,m=r[F],p=e[m]}while(p&&(!h||p.order===f&&p.quality));if(c==null||h==null)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+r[r.length-1]+`'. It seems to not match the following source:
`+u);if(h.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var b=c.parse(h,l,d);if(Array.isArray(b))Array.prototype.push.apply(s,b);else{if(b==null||typeof b!="object")throw new Error("parse() function returned invalid parse result: '".concat(b,"'"));b.type==null&&(b.type=g),s.push(b)}d.prevCapture=h,u=u.substring(d.prevCapture[0].length)}return s},a=function(u,d){return o=XO(d,n),!o.inline&&!o.disableAutoBlockNewlines&&(u=u+`

`),o.prevCapture=null,i(JO(u),o)};return a},gr=function(e){var n=function(o,i,a){return i.inline?e.exec(o):null};return n.regex=e,n},Jr=function(e){var n=function(o,i){return i.inline?null:e.exec(o)};return n.regex=e,n},Ty=function(e){var n=function(o,i){return e.exec(o)};return n.regex=e,n},ZX=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,$t=function(e,n,r){var o={$$typeof:ZX,type:e,key:n??void 0,ref:null,props:r,_owner:null};return o},Zt=function(e,n,r,o){r=r||{},o=typeof o<"u"?o:!0;var i="";for(var a in r){var l=r[a];Object.prototype.hasOwnProperty.call(r,a)&&l&&(i+=" "+Hu(a)+'="'+Hu(l)+'"')}var u="<"+e+i+">";return o?u+n+"</"+e+">":u},IC={},bh=function(e){if(e==null)return null;try{var n=new URL(e,"https://localhost").protocol;if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}catch{return null}return e},eQ=/[<>&"']/g,tQ={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},Hu=function(e){return String(e).replace(eQ,function(n){return tQ[n]})},nQ=/\\([^0-9A-Za-z\s])/g,Iy=function(e){return e.replace(nQ,"$1")},sp=function(e,n,r){var o=r.inline||!1;r.inline=!0;var i=e(n,r);return r.inline=o,i},rQ=function(e,n,r){var o=r.inline||!1;r.inline=!1;var i=e(n+`

`,r);return r.inline=o,i},T1=function(e,n,r){return{content:sp(n,e[1],r)}},p2=function(){return{}},lp="(?:[*+-]|\\d+\\.)",ZO="( *)("+lp+") +",RC=new RegExp("^"+ZO),oQ=new RegExp(ZO+"[^\\n]*(?:\\n(?!\\1"+lp+` )[^\\n]*)*(
|$)`,"gm"),e5=/\n{2,}$/,iQ=/^ (?= *`)|(` *) $/g,aQ=e5,AC=/ *\n+$/,sQ=new RegExp("^( *)("+lp+`) [\\s\\S]+?(?:
{2,}(?! )(?!\\1`+lp+` )\\n*|\\s*
*$)`),lQ=/(?:^|\n)( *)$/,I1=function(){var t=/^ *\| *| *\| *$/g,e=/ *$/,n=/^ *-+: *$/,r=/^ *:-+: *$/,o=/^ *:-+ *$/,i=function(g){return n.test(g)?"right":r.test(g)?"center":o.test(g)?"left":null},a=function(g,c,h,_){_&&(g=g.replace(t,""));var F=g.trim().split("|");return F.map(i)},l=function(g,c,h,_){var F=h.inTable;h.inTable=!0;var m=c(g.trim(),h);h.inTable=F;var p=[[]];return m.forEach(function(f,v){f.type==="tableSeparator"?(!_||v!==0&&v!==m.length-1)&&p.push([]):(f.type==="text"&&(m[v+1]==null||m[v+1].type==="tableSeparator")&&(f.content=f.content.replace(e,"")),p[p.length-1].push(f))}),p},u=function(g,c,h,_){var F=g.trim().split(`
`);return F.map(function(m){return l(m,c,h,_)})},d=function(g){return function(c,h,_){_.inline=!0;var F=l(c[1],h,_,g),m=a(c[2],h,_,g),p=u(c[3],h,_,g);return _.inline=!1,{type:"table",header:F,align:m,cells:p}}};return{parseTable:d(!0),parseNpTable:d(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}}(),R1="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",OC=`\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*`,uQ=/mailto:/i,BC=function(e,n,r){var o=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(n._defs&&n._defs[o]){var i=n._defs[o];r.target=i.target,r.title=i.title}return n._refs=n._refs||{},n._refs[o]=n._refs[o]||[],n._refs[o].push(r),r},Bt=0,_g={Array:{react:function(e,n,r){for(var o=r.key,i=[],a=0,l=0;a<e.length;a++,l++){r.key=""+a;var u=e[a];if(u.type==="text")for(u={type:"text",content:u.content};a+1<e.length&&e[a+1].type==="text";a++)u.content+=e[a+1].content;i.push(n(u,r))}return r.key=o,i},html:function(e,n,r){for(var o="",i=0;i<e.length;i++){var a=e[i];if(a.type==="text")for(a={type:"text",content:a.content};i+1<e.length&&e[i+1].type==="text";i++)a.content+=e[i+1].content;o+=n(a,r)}return o}},heading:{order:Bt++,match:Jr(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{level:t[1].length,content:sp(e,t[2].trim(),n)}}),react:function(e,n,r){return $t("h"+e.level,r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("h"+e.level,n(e.content,r))}},nptable:{order:Bt++,match:Jr(I1.NPTABLE_REGEX),parse:I1.parseNpTable,react:null,html:null},lheading:{order:Bt++,match:Jr(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{type:"heading",level:t[2]==="="?1:2,content:sp(e,t[1],n)}}),react:null,html:null},hr:{order:Bt++,match:Jr(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:p2,react:function(e,n,r){return $t("hr",r.key,IC)},html:function(e,n,r){return"<hr>"}},codeBlock:{order:Bt++,match:Jr(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r=t[0].replace(/^    /gm,"").replace(/\n+$/,"");return{lang:void 0,content:r}}),react:function(e,n,r){var o=e.lang?"markdown-code-"+e.lang:void 0;return $t("pre",r.key,{children:$t("code",null,{className:o,children:e.content})})},html:function(e,n,r){var o=e.lang?"markdown-code-"+e.lang:void 0,i=Zt("code",Hu(e.content),{class:o});return Zt("pre",i)}},fence:{order:Bt++,match:Jr(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{type:"codeBlock",lang:t[2]||void 0,content:t[3]}}),react:null,html:null},blockQuote:{order:Bt++,match:Jr(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r=t[0].replace(/^ *> ?/gm,"");return{content:e(r,n)}}),react:function(e,n,r){return $t("blockquote",r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("blockquote",n(e.content,r))}},list:{order:Bt++,match:function(e,n){var r=n.prevCapture==null?"":n.prevCapture[0],o=lQ.exec(r),i=n._list||!n.inline;return o&&i?(e=o[1]+e,sQ.exec(e)):null},parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r=t[2],o=r.length>1,i=o?+r:void 0,a=t[0].replace(aQ,`
`).match(oQ),l=!1,u=a.map(function(d,s){var g=RC.exec(d),c=g?g[0].length:0,h=new RegExp("^ {1,"+c+"}","gm"),_=d.replace(h,"").replace(RC,""),F=s===a.length-1,m=_.indexOf(`

`)!==-1,p=m||F&&l;l=p;var f=n.inline,v=n._list;n._list=!0;var y;p?(n.inline=!1,y=_.replace(AC,`

`)):(n.inline=!0,y=_.replace(AC,""));var w=e(y,n);return n.inline=f,n._list=v,w});return{ordered:o,start:i,items:u}}),react:function(e,n,r){var o=e.ordered?"ol":"ul";return $t(o,r.key,{start:e.start,children:e.items.map(function(i,a){return $t("li",""+a,{children:n(i,r)})})})},html:function(e,n,r){var o=e.items.map(function(l){return Zt("li",n(l,r))}).join(""),i=e.ordered?"ol":"ul",a={start:e.start};return Zt(i,o,a)}},def:{order:Bt++,match:Jr(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r=t[1].replace(/\s+/g," ").toLowerCase(),o=t[2],i=t[3];return n._refs&&n._refs[r]&&n._refs[r].forEach(function(a){a.target=o,a.title=i}),n._defs=n._defs||{},n._defs[r]={target:o,title:i},{def:r,target:o,title:i}}),react:function(){return null},html:function(){return""}},table:{order:Bt++,match:Jr(I1.TABLE_REGEX),parse:I1.parseTable,react:function(e,n,r){var o=function(u){return e.align[u]==null?{}:{textAlign:e.align[u]}},i=e.header.map(function(l,u){return $t("th",""+u,{style:o(u),scope:"col",children:n(l,r)})}),a=e.cells.map(function(l,u){return $t("tr",""+u,{children:l.map(function(d,s){return $t("td",""+s,{style:o(s),children:n(d,r)})})})});return $t("table",r.key,{children:[$t("thead","thead",{children:$t("tr",null,{children:i})}),$t("tbody","tbody",{children:a})]})},html:function(e,n,r){var o=function(s){return e.align[s]==null?"":"text-align:"+e.align[s]+";"},i=e.header.map(function(d,s){return Zt("th",n(d,r),{style:o(s),scope:"col"})}).join(""),a=e.cells.map(function(d){var s=d.map(function(g,c){return Zt("td",n(g,r),{style:o(c)})}).join("");return Zt("tr",s)}).join(""),l=Zt("thead",Zt("tr",i)),u=Zt("tbody",a);return Zt("table",l+u)}},newline:{order:Bt++,match:Jr(/^(?:\n *)*\n/),parse:p2,react:function(e,n,r){return`
`},html:function(e,n,r){return`
`}},paragraph:{order:Bt++,match:Jr(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:T1,react:function(e,n,r){return $t("div",r.key,{className:"paragraph",children:n(e.content,r)})},html:function(e,n,r){var o={class:"paragraph"};return Zt("div",n(e.content,r),o)}},escape:{order:Bt++,match:gr(/^\\([^0-9A-Za-z\s])/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{type:"text",content:t[1]}}),react:null,html:null},tableSeparator:{order:Bt++,match:function(e,n){return n.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:Bt++,match:gr(/^<([^: >]+:\/[^ >]+)>/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{type:"link",content:[{type:"text",content:t[1]}],target:t[1]}}),react:null,html:null},mailto:{order:Bt++,match:gr(/^<([^ >]+@[^ >]+)>/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r=t[1],o=t[1];return uQ.test(o)||(o="mailto:"+o),{type:"link",content:[{type:"text",content:r}],target:o}}),react:null,html:null},url:{order:Bt++,match:gr(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{type:"link",content:[{type:"text",content:t[1]}],target:t[1],title:void 0}}),react:null,html:null},link:{order:Bt++,match:gr(new RegExp("^\\[("+R1+")\\]\\("+OC+"\\)")),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r={content:e(t[1],n),target:Iy(t[2]),title:t[3]};return r}),react:function(e,n,r){return $t("a",r.key,{href:bh(e.target),title:e.title,children:n(e.content,r)})},html:function(e,n,r){var o={href:bh(e.target),title:e.title};return Zt("a",n(e.content,r),o)}},image:{order:Bt++,match:gr(new RegExp("^!\\[("+R1+")\\]\\("+OC+"\\)")),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){var r={alt:t[1],target:Iy(t[2]),title:t[3]};return r}),react:function(e,n,r){return $t("img",r.key,{src:bh(e.target),alt:e.alt,title:e.title})},html:function(e,n,r){var o={src:bh(e.target),alt:e.alt,title:e.title};return Zt("img","",o,!1)}},reflink:{order:Bt++,match:gr(new RegExp("^\\[("+R1+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return BC(t,n,{type:"link",content:e(t[1],n)})}),react:null,html:null},refimage:{order:Bt++,match:gr(new RegExp("^!\\[("+R1+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return BC(t,n,{type:"image",alt:t[1]})}),react:null,html:null},em:{order:Bt,match:gr(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{content:e(t[2]||t[1],n)}}),react:function(e,n,r){return $t("em",r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("em",n(e.content,r))}},strong:{order:Bt,match:gr(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:T1,react:function(e,n,r){return $t("strong",r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("strong",n(e.content,r))}},u:{order:Bt++,match:gr(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:T1,react:function(e,n,r){return $t("u",r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("u",n(e.content,r))}},del:{order:Bt++,match:gr(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:T1,react:function(e,n,r){return $t("del",r.key,{children:n(e.content,r)})},html:function(e,n,r){return Zt("del",n(e.content,r))}},inlineCode:{order:Bt++,match:gr(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{content:t[2].replace(iQ,"$1")}}),react:function(e,n,r){return $t("code",r.key,{children:e.content})},html:function(e,n,r){return Zt("code",Hu(e.content))}},br:{order:Bt++,match:Ty(/^ {2,}\n/),parse:p2,react:function(e,n,r){return $t("br",r.key,IC)},html:function(e,n,r){return"<br>"}},text:{order:Bt++,match:Ty(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(t){function e(n,r,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return{content:t[0]}}),react:function(e,n,r){return e.content},html:function(e,n,r){return Hu(e.content)}}},cQ=function(e,n){!n&&typeof console<"u"&&console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument.");var r=function(i,a,l){return e[i.type][n](i,a,l)};return r},dQ=function(e){var n=function r(o,i){if(i=i||{},Array.isArray(o)){for(var a=i.key,l=[],u=null,d=0;d<o.length;d++){i.key=""+d;var s=r(o[d],i);typeof s=="string"&&typeof u=="string"?(u=u+s,l[l.length-1]=u):(l.push(s),u=s)}return i.key=a,l}else return e(o,r,i)};return n},hQ=function(e){var n=function r(o,i){return i=i||{},Array.isArray(o)?o.map(function(a){return r(a,i)}).join(""):e(o,r,i)};return n},DE=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var o,i=e.Array||_g.Array,a=i[n];if(!a)throw new Error("simple-markdown: outputFor: to join nodes of type `"+n+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var l=a,u=function s(g,c){return c=c||o,o=c,Array.isArray(g)?l(g,s,c):e[g.type][n](g,s,c)},d=function(g,c){return o=XO(c,r),u(g,o)};return d},Zm=QO(_g),kE=function(e,n){return n=n||{},n.inline=!1,Zm(e,n)},fQ=function(e,n){return n=n||{},n.inline=!0,Zm(e,n)},PC=function(e,n){var r=e5.test(e);return n=n||{},n.inline=!r,Zm(e,n)},Ry=DE(_g,"react"),t5=DE(_g,"html"),n5=function(e,n){return Ry(kE(e,n),n)},gQ=function(e,n){return t5(kE(e,n),n)},pQ=function(e){var n={};for(var r in e)r!=="source"&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.children=n5(e.source),$t("div",null,n)},mQ={defaultRules:_g,parserFor:QO,outputFor:DE,inlineRegex:gr,blockRegex:Jr,anyScopeRegex:Ty,parseInline:sp,parseBlock:rQ,markdownToReact:n5,markdownToHtml:gQ,ReactMarkdown:pQ,defaultBlockParse:kE,defaultInlineParse:fQ,defaultImplicitParse:PC,defaultReactOutput:Ry,defaultHtmlOutput:t5,preprocess:JO,sanitizeText:Hu,sanitizeUrl:bh,unescapeUrl:Iy,htmlTag:Zt,reactElement:$t,defaultRawParse:Zm,ruleOutput:cQ,reactFor:dQ,htmlFor:hQ,defaultParse:function(){return typeof console<"u"&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`"),PC.apply(null,arguments)},defaultOutput:function(){return typeof console<"u"&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`"),Ry.apply(null,arguments)}};const{defaultRules:xt,parserFor:r5,outputFor:eF,anyScopeRegex:MC,blockRegex:Ks,inlineRegex:yu,sanitizeText:ic,sanitizeUrl:A1}=mQ;function Qo(t,e,n,r){let o="";return Object.entries(n||{}).forEach(([i,a])=>{a!==void 0&&(o+=` ${ic(i)}`,a!==null&&(o+=`="${ic(a)}"`))}),o=`<${t}${o}>`,r===!1?o:`${o}${e}</${t}>`}function NC(t,e){return Qo(t,Qo("code",ic(e.content)),{"data-mx-maths":e.content})}const FQ=/^:([\w-]+):/,tF={Array:{...xt.Array,plain:xt.Array.html},userMention:{order:xt.em.order-.9,match:yu(Qx("@",void 0,"^")),parse:(t,e,n)=>({type:"mention",content:n.userNames[t[1]]?`@${n.userNames[t[1]]}`:t[1],id:t[1]})},roomMention:{order:xt.em.order-.8,match:yu(Qx("#",void 0,"^")),parse:t=>({type:"mention",content:t[1],id:t[1]})},mention:{plain:(t,e,n)=>n.kind==="edit"?t.id:t.content,html:t=>Qo("a",ic(t.content),{href:`https://matrix.to/#/${encodeURIComponent(t.id)}`})},emoji:{order:xt.em.order-.1,match:(t,e)=>{if(!e.inline)return null;const n=FQ.exec(t);return n&&e.emojis.get(n[1])?n:null},parse:(t,e,n)=>({content:t[1],emoji:n.emojis.get(t[1])}),plain:({emoji:t})=>t.mxc?`:${t.shortcode}:`:t.unicode,html:({emoji:t})=>t.mxc?Qo("img",null,{"data-mx-emoticon":null,src:t.mxc,alt:`:${t.shortcode}:`,title:`:${t.shortcode}:`,height:32},!1):t.unicode},newline:{...xt.newline,match:Ks(/^ *\n/),plain:()=>`
`,html:()=>"<br>"},paragraph:{...xt.paragraph,match:(t,e)=>{const n=Ks(/^([^\n]*)\n*$/);return n?(e.end=!0,n(t,e)):Ks(/^([^\n]*)\n?/)(t,e)},plain:(t,e,n)=>`${e(t.content,n)}${n.end?"":`
`}`,html:(t,e,n)=>`${e(t.content,n)}${n.end?"":"<br>"}`},escape:{...xt.escape,plain:(t,e,n)=>`\\${e(t.content,n)}`},br:{...xt.br,match:MC(/^ *\n/),plain:()=>`
`},text:{...xt.text,match:MC(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]| *\n|\w+:\S|$)/),plain:t=>t.content}},SE={...xt,...tF,heading:{...xt.heading,match:Ks(/^ *(#{1,6})([^\n:]*?(?: [^\n]*?)?)#* *(?:\n *)*\n/),plain:(t,e,n)=>{const r=e(t.content,n);return n.kind==="edit"||n.kind==="notification"||t.level>2?`${"#".repeat(t.level)} ${r}

`:`${r}
${(t.level===1?"=":"-").repeat(r.length)}

`}},hr:{...xt.hr,plain:()=>`---

`},codeBlock:{...xt.codeBlock,plain:t=>`\`\`\`${t.lang||""}
${t.content}
\`\`\`
`,html:t=>Qo("pre",Qo("code",ic(t.content),{class:t.lang?`language-${t.lang}`:void 0}))},fence:{...xt.fence,match:Ks(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)*\n/)},blockQuote:{...xt.blockQuote,match:Ks(/^( *>[^\n]+(\n *>+[^\n]+)*\n?)+/),parse:(t,e,n)=>{const r=t[0].replace(/^ *> ?/gm,"");return{content:e(`${r}`,n)}},plain:(t,e,n)=>`> ${e(t.content,n).trim().replace(/\n/g,`
> `)}
`,html:(t,e,n)=>Qo("blockquote",e(t.content,n))},list:{...xt.list,plain:(t,e,n)=>{const r=n._list;n._list=!0;let o=t.items.map((i,a)=>{const l=t.ordered?`${t.start+a}. `:"* ";return l+e(i,n).replace(/\n/g,`
${" ".repeat(l.length)}`)}).join(`
`);return n._list=r,n._list||(o+=`

`),o}},def:void 0,table:{...xt.table,plain:(t,e,n)=>{const r=t.header.map(d=>e(d,n)),o=t.align.map(d=>{switch(d){case"left":case"right":return 2;case"center":return 3;default:return 1}});r.forEach((d,s)=>{d.length>o[s]&&(o[s]=d.length)});const i=t.cells.map(d=>d.map((s,g)=>{const c=e(s,n);return(o[g]===void 0||c.length>o[g])&&(o[g]=c.length),c}));function a(d,s){switch(t.align[s]){case"right":return d.padStart(o[s]);case"center":return d.padStart(d.length+Math.floor((o[s]-d.length)/2)).padEnd(o[s]);default:return d.padEnd(o[s])}}const l=o.map((d,s)=>{switch(t.align[s]){case"left":return`:${"-".repeat(d-1)}`;case"center":return`:${"-".repeat(d-2)}:`;case"right":return`${"-".repeat(d-1)}:`;default:return"-".repeat(d)}});return[r.map(a),l,...i.map(d=>d.map(a))].map(d=>`| ${d.join(" | ")} |
`).join("")}},displayMath:{order:xt.table.order+.1,match:Ks(/^ *\$\$ *\n?([\s\S]+?)\n?\$\$ *(?:\n *)*\n/),parse:t=>({content:t[1]}),plain:t=>t.content.includes(`
`)?`$$
${t.content}
$$
`:`$$${t.content}$$
`,html:t=>NC("div",t)},shrug:{order:xt.escape.order-.1,match:yu(/^\\_\(\)_\//),parse:t=>({type:"text",content:t[0]})},tableSeparator:{...xt.tableSeparator,plain:()=>" | "},link:{...xt.link,plain:(t,e,n)=>{const r=e(t.content,n),o=A1(t.target)||"";return r!==o||t.title?`[${r}](${o}${t.title?` "${t.title}"`:""})`:r},html:(t,e,n)=>{const r=e(t.content,n),o=A1(t.target)||"";return r!==o||t.title?Qo("a",r,{href:o,title:t.title}):o}},image:{...xt.image,plain:t=>`![${t.alt}](${A1(t.target)||""}${t.title?` "${t.title}"`:""})`,html:t=>Qo("img","",{src:A1(t.target)||"",alt:t.alt,title:t.title},!1)},reflink:void 0,refimage:void 0,em:{...xt.em,plain:(t,e,n)=>`_${e(t.content,n)}_`},strong:{...xt.strong,plain:(t,e,n)=>`**${e(t.content,n)}**`},u:{...xt.u,plain:(t,e,n)=>`__${e(t.content,n)}__`},del:{...xt.del,plain:(t,e,n)=>`~~${e(t.content,n)}~~`},inlineCode:{...xt.inlineCode,match:yu(/^(`+)([^\n]*?[^`\n])\1(?!`)/),plain:t=>`\`${t.content}\``},spoiler:{order:xt.inlineCode.order+.1,match:yu(/^\|\|([\s\S]+?)\|\|(?:\(([\s\S]+?)\))?/),parse:(t,e,n)=>({content:e(t[1],n),reason:t[2]}),plain:(t,e,n)=>{const r=`spoiler${t.reason?`: ${t.reason}`:""}`;switch(n.kind){case"edit":return`||${e(t.content,n)}||${t.reason?`(${t.reason})`:""}`;case"notification":return`<${r}>`;default:return`[${r}](${e(t.content,n)})`}},html:(t,e,n)=>Qo("span",e(t.content,n),{"data-mx-spoiler":t.reason||null})},inlineMath:{order:xt.del.order+.2,match:yu(/^\$(\S[\s\S]+?\S|\S)\$(?!\d)/),parse:t=>({content:t[1]}),plain:t=>`$${t.content}$`,html:t=>NC("span",t)}};function _Q(t){switch(t.tagName){case"MX-REPLY":return[];case"P":return[{type:"paragraph",content:Qn(t)}];case"BR":return[{type:"br"}];case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":return[{type:"heading",level:Number(t.tagName[1]),content:Qn(t)}];case"HR":return[{type:"hr"}];case"PRE":{let e;return t.firstChild&&Array.from(t.firstChild.classList).some(n=>{const r="language-";return n.startsWith(r)?(e=n.slice(r.length),!0):!1}),[{type:"codeBlock",lang:e,content:t.innerText}]}case"BLOCKQUOTE":return[{type:"blockQuote",content:Qn(t)}];case"UL":return[{type:"list",items:Array.from(t.childNodes).map(Ay)}];case"OL":return[{type:"list",ordered:!0,start:Number(t.getAttribute("start")),items:Array.from(t.childNodes).map(Ay)}];case"TABLE":{const e=Array.from(t.querySelector("thead > tr").childNodes),n=e.map(r=>r.style["text-align"]);return[{type:"table",header:e.map(Qn),align:n,cells:Array.from(t.querySelectorAll("tbody > tr")).map(r=>Array.from(r.childNodes).map((o,i)=>(n[i]===void 0&&(n[i]=o.style["text-align"]),Qn(o))))}]}case"A":{const e=t.getAttribute("href"),n=Yz(e);return n?[{type:"mention",content:t.innerText,id:n}]:[{type:"link",target:t.getAttribute("href"),title:t.getAttribute("title"),content:Qn(t)}]}case"IMG":{const e=t.getAttribute("src");let n=t.getAttribute("title");return t.hasAttribute("data-mx-emoticon")?(n.length>2&&n.startsWith(":")&&n.endsWith(":")&&(n=n.slice(1,-1)),[{type:"emoji",content:n,emoji:{mxc:e,shortcode:n}}]):[{type:"image",alt:t.getAttribute("alt"),target:e,title:n}]}case"EM":case"I":return[{type:"em",content:Qn(t)}];case"STRONG":case"B":return[{type:"strong",content:Qn(t)}];case"U":return[{type:"u",content:Qn(t)}];case"DEL":case"STRIKE":return[{type:"del",content:Qn(t)}];case"CODE":return[{type:"inlineCode",content:t.innerText}];case"DIV":return t.hasAttribute("data-mx-maths")?[{type:"displayMath",content:t.getAttribute("data-mx-maths")}]:Qn(t);case"SPAN":return t.hasAttribute("data-mx-spoiler")?[{type:"spoiler",reason:t.getAttribute("data-mx-spoiler"),content:Qn(t)}]:t.hasAttribute("data-mx-maths")?[{type:"inlineMath",content:t.getAttribute("data-mx-maths")}]:Qn(t);default:return Qn(t)}}function Ay(t){switch(t.nodeType){case Node.TEXT_NODE:return[{type:"text",content:t.textContent}];case Node.ELEMENT_NODE:return _Q(t);default:return[]}}function Qn(t){return Array.from(t.childNodes).reduce((e,n)=>(e.push(...Ay(n)),e),[])}function xE(t,e,n,r){let o=t;t.length===1&&t[0].type==="paragraph"&&(o=o[0].content);const i=n(o,e).trim();if(e.onlyPlain)return{plain:i};const a=r(o,e),l=a.replace(/<br>/g,`
`).replace(/<\/p><p>/g,`

`).replace(/<\/?p>/g,"");return{onlyPlain:ic(i)===l,plain:i,html:a}}const vQ=r5(tF,{disableAutoBlockNewlines:!0}),yQ=eF(tF,"plain"),bQ=eF(tF,"html"),EQ=r5(SE,{disableAutoBlockNewlines:!0}),o5=eF(SE,"plain"),i5=eF(SE,"html");function CE(t,e){return xE(vQ(t,e),e,yQ,bQ)}function wQ(t,e){return xE(EQ(t,e),e,o5,i5)}function a5(t,e){const n=document.createElement("template");return n.innerHTML=t,xE(Qn(n.content),e,o5,i5)}const LC="xyz.amorgan.blurhash";function UC(t){const e=document.createElement("canvas");e.width=100,e.height=100;const n=e.getContext("2d");n.drawImage(t,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height);return gW(r.data,r.width,r.height,4,4)}function DQ(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=o=>n(o),r.src=t})}function kQ(t){return new Promise((e,n)=>{const r=document.createElement("video");r.preload="metadata",r.playsInline=!0,r.muted=!0;const o=new FileReader;if(o.onload=i=>{r.onloadeddata=async()=>{e(r),r.pause()},r.onerror=a=>{n(a)},r.src=i.target.result,r.load(),r.play()},o.onerror=i=>{n(i)},t.type==="video/quicktime"){const i=new File([t],t.name,{type:"video/mp4"});o.readAsDataURL(i)}else o.readAsDataURL(t)})}function SQ(t,e,n,r){return new Promise(o=>{let l=e,u=n;u>600&&(l=Math.floor(l*(600/u)),u=600),l>800&&(u=Math.floor(u*(800/l)),l=800);const d=document.createElement("canvas");d.width=l,d.height=u,d.getContext("2d").drawImage(t,0,0,l,u),d.toBlob(g=>{o({thumbnail:g,info:{w:l,h:u,mimetype:g.type,size:g.size}})},r)})}class xQ extends Gn.exports{constructor(e,n){super(),this.matrixClient=e,this.roomList=n,this.roomIdToInput=new Map}cleanEmptyEntry(e){const n=this.getInput(e);typeof n.attachment>"u"&&typeof n.replyTo>"u"&&(typeof n.message>"u"||n.message==="")&&this.roomIdToInput.delete(e)}getInput(e){return this.roomIdToInput.get(e)||{}}setMessage(e,n){const r=this.getInput(e);r.message=n,this.roomIdToInput.set(e,r),n===""&&this.cleanEmptyEntry(e)}getMessage(e){const n=this.getInput(e);return typeof n.message>"u"?"":n.message}setReplyTo(e,n){const r=this.getInput(e);r.replyTo=n,this.roomIdToInput.set(e,r)}getReplyTo(e){const n=this.getInput(e);return typeof n.replyTo>"u"?null:n.replyTo}cancelReplyTo(e){const n=this.getInput(e);typeof n.replyTo>"u"||(delete n.replyTo,this.roomIdToInput.set(e,n))}setAttachment(e,n){const r=this.getInput(e);r.attachment={file:n},this.roomIdToInput.set(e,r)}getAttachment(e){const n=this.getInput(e);return typeof n.attachment>"u"?null:n.attachment.file}cancelAttachment(e){const n=this.getInput(e);if(typeof n.attachment>"u")return;const{uploadingPromise:r}=n.attachment;r&&(this.matrixClient.cancelUpload(r),delete n.attachment.uploadingPromise),delete n.attachment,delete n.isSending,this.roomIdToInput.set(e,n),this.emit(te.events.roomsInput.ATTACHMENT_CANCELED,e)}isSending(e){var n;return((n=this.roomIdToInput.get(e))==null?void 0:n.isSending)||!1}getContent(e,n,r,o,i){var m;const a=(n==null?void 0:n.msgType)||"m.text",l=(n==null?void 0:n.autoMarkdown)??!0,u=this.matrixClient.getRoom(e),d=u.currentState.userIdsToDisplayNames,g=[...this.roomList.getAllParentSpaces(u.roomId)].map(p=>this.matrixClient.getRoom(p)),c=EW(this.matrixClient,[u,...g]),_=(at.isMarkdown&&l?wQ:CE)(r,{userNames:d,emojis:c}),F={body:_.plain,msgtype:a};if((!_.onlyPlain||o)&&(F.format="org.matrix.custom.html",F.formatted_body=_.html),n.format==="org.matrix.custom.html"&&(F.format="org.matrix.custom.html",F.formatted_body=n.formatted_body),i){F["m.new_content"]={...F},F["m.relates_to"]={event_id:i.getId(),rel_type:"m.replace"};const p=(m=i.getWireContent()["m.relates_to"])==null?void 0:m["m.in_reply_to"];if(p&&(F.format="org.matrix.custom.html",F.formatted_body=_.html),F.body=` * ${F.body}`,F.formatted_body&&(F.formatted_body=` * ${F.formatted_body}`),p){const f=i.getContent().body,v=f.substring(0,f.indexOf(`

`));v&&(F.body=`${v}

${F.body}`);const y=i.getContent().formatted_body,w=y.substring(0,y.indexOf("</mx-reply>"));w&&(F.formatted_body=`${w}</mx-reply>${F.formatted_body}`)}}if(o){F["m.relates_to"]={"m.in_reply_to":{event_id:o.eventId}},F.body=`> <${o.userId}> ${o.body.replace(/\n/g,`
> `)}

${F.body}`;const p=`<a href="https://matrix.to/#/${encodeURIComponent(e)}/${encodeURIComponent(o.eventId)}">In reply to</a>`,f=`<a href="https://matrix.to/#/${encodeURIComponent(o.userId)}">${Cy(o.userId)}</a>`,v=`<mx-reply><blockquote>${p}${f}<br />${o.formattedBody||Cy(o.body)}</blockquote></mx-reply>`;F.formatted_body=v+F.formatted_body}return F}async sendInput(e,n){const r=this.getInput(e);if(r.isSending=!0,this.roomIdToInput.set(e,r),!(r.attachment&&(await this.sendFile(e,r.attachment.file),!this.isSending(e)))){if(this.getMessage(e).trim()!==""){const o=this.getContent(e,n,r.message,r.replyTo);this.matrixClient.sendMessage(e,o)}this.isSending(e)&&this.roomIdToInput.delete(e),this.emit(te.events.roomsInput.MESSAGE_SENT,e)}}async sendSticker(e,n){const{mxc:r,body:o,httpUrl:i}=n,a={},l=new Image;l.src=i;try{const d=await(await fetch(i)).blob();a.w=l.width,a.h=l.height,a.mimetype=d.type,a.size=d.size,a.thumbnail_info={...a},a.thumbnail_url=r}catch{}this.matrixClient.sendEvent(e,"m.sticker",{body:o,url:r,info:a}),this.emit(te.events.roomsInput.MESSAGE_SENT,e)}async sendFile(e,n){const r=hg(n.type).slice(0,n.type.indexOf("/")),o={mimetype:n.type,size:n.size},i={info:o};let a=null;if(r==="image"){const l=await DQ(URL.createObjectURL(n));o.w=l.width,o.h=l.height,o[LC]=UC(l),i.msgtype="m.image",i.body=n.name||"Image"}else if(r==="video"){i.msgtype="m.video",i.body=n.name||"Video";try{const l=await kQ(n);o.w=l.videoWidth,o.h=l.videoHeight,o[LC]=UC(l);const u=await SQ(l,l.videoWidth,l.videoHeight,"image/jpeg"),d=await this.uploadFile(e,u.thumbnail);o.thumbnail_info=u.info,this.matrixClient.isRoomEncrypted(e)?o.thumbnail_file=d.file:o.thumbnail_url=d.url}catch{this.emit(te.events.roomsInput.FILE_UPLOAD_CANCELED,e);return}}else r==="audio"?(i.msgtype="m.audio",i.body=n.name||"Audio"):(i.msgtype="m.file",i.body=n.name||"File");try{a=await this.uploadFile(e,n,l=>{this.emit(te.events.roomsInput.UPLOAD_PROGRESS_CHANGES,e,l)}),this.emit(te.events.roomsInput.FILE_UPLOADED,e)}catch{this.emit(te.events.roomsInput.FILE_UPLOAD_CANCELED,e);return}this.matrixClient.isRoomEncrypted(e)?(i.file=a.file,await this.matrixClient.sendMessage(e,i)):(i.url=a.url,await this.matrixClient.sendMessage(e,i))}async uploadFile(e,n,r){const o=this.matrixClient.isRoomEncrypted(e);let i=null,a=null;if(o){const s=await n.arrayBuffer();if(typeof this.getInput(e).attachment>"u")throw new Error("Attachment canceled");const g=await J0.encryptAttachment(s);if(typeof this.getInput(e).attachment>"u")throw new Error("Attachment canceled");i=g.info,a=new Blob([g.data])}const l=this.matrixClient.uploadContent(o?a:n,{includeFilename:!o,progressHandler:r}),u=this.getInput(e);u.attachment.uploadingPromise=l,this.roomIdToInput.set(e,u);const{content_uri:d}=await l;return delete u.attachment.uploadingPromise,this.roomIdToInput.set(e,u),o?(i.url=d,n.type&&(i.mimetype=n.type),{file:i}):{url:d}}async sendEditedMessage(e,n,r){const o=this.getContent(e,{msgType:n.getWireContent().msgtype},r,null,n);this.matrixClient.sendMessage(e,o)}}async function CQ({text:t,bgColor:e,imageSrc:n,size:r,borderRadius:o,scale:i}){try{const a=document.createElement("canvas");a.width=r*i,a.height=r*i;const l=a.getContext("2d");if(l.scale(i,i),l.beginPath(),l.moveTo(r,r),l.arcTo(0,r,0,0,o),l.arcTo(0,0,r,0,o),l.arcTo(r,0,r,r,o),l.arcTo(r,r,0,r,o),n){l.closePath(),l.clip();const u=new Image;u.crossOrigin="anonymous";const d=new Promise((s,g)=>{u.onerror=g,u.onload=s});u.src=n,await d,l.drawImage(u,0,0,r,r)}else l.fillStyle=u2(e),l.fill(),l.fillStyle="#fff",l.font=`${u2("--fs-s1")} ${u2("--font-primary")}`,l.textBaseline="middle",l.textAlign="center",l.fillText(LA(t),r/2,r/2);return a.toDataURL()}catch(a){return console.error(a),n}}function TQ(t){let e=0,n,r;if(t.length===0)return e;for(n=0;n<t.length;n+=1)r=t.charCodeAt(n),e=(e<<5)-e+r,e|=0;return Math.abs(e)}function s5(t){return`--mx-uc-${TQ(t)%8+1}`}function ln(t){return`var(${s5(t)})`}function fi(t){ct.dispatch({type:te.actions.navigation.SELECT_TAB,tabId:t})}function TE(t){ct.dispatch({type:te.actions.navigation.SELECT_SPACE,roomId:t})}function An(t,e){ct.dispatch({type:te.actions.navigation.SELECT_ROOM,roomId:t,eventId:e})}function l5(){ct.dispatch({type:te.actions.navigation.OPEN_NAVIGATION})}function IQ(){ct.dispatch({type:te.actions.navigation.TOGGLE_NAVIGATION})}function RQ(t,e){ct.dispatch({type:te.actions.navigation.OPEN_SPACE_SETTINGS,roomId:t,tabText:e})}function u5(t){ct.dispatch({type:te.actions.navigation.OPEN_SPACE_MANAGE,roomId:t})}function AQ(t){ct.dispatch({type:te.actions.navigation.OPEN_SPACE_ADDEXISTING,roomId:t})}function Vh(t){ct.dispatch({type:te.actions.navigation.TOGGLE_ROOM_SETTINGS,tabText:t})}function OQ(){ct.dispatch({type:te.actions.navigation.OPEN_SHORTCUT_SPACES})}function BQ(){ct.dispatch({type:te.actions.navigation.OPEN_INVITE_LIST})}function PQ(t){ct.dispatch({type:te.actions.navigation.OPEN_PUBLIC_ROOMS,searchTerm:t})}function jC(t=!1,e=null){ct.dispatch({type:te.actions.navigation.OPEN_CREATE_ROOM,isSpace:t,parentId:e})}function MQ(t){ct.dispatch({type:te.actions.navigation.OPEN_JOIN_ALIAS,term:t})}function vg(t,e){ct.dispatch({type:te.actions.navigation.OPEN_INVITE_USER,roomId:t,searchTerm:e})}function yg(t,e){ct.dispatch({type:te.actions.navigation.OPEN_PROFILE_VIEWER,userId:t,roomId:e})}function c5(t){ct.dispatch({type:te.actions.navigation.OPEN_SETTINGS,tabText:t})}function d5(t,e){ct.dispatch({type:te.actions.navigation.OPEN_EMOJIBOARD,cords:t,requestEmojiCallback:e})}function h5(t,e){ct.dispatch({type:te.actions.navigation.OPEN_READRECEIPTS,roomId:t,userIds:e})}function NQ(t){ct.dispatch({type:te.actions.navigation.OPEN_VIEWSOURCE,event:t})}function LQ(t){ct.dispatch({type:te.actions.navigation.OPEN_TEXTTRANSLATE,event:t})}function UQ(t,e,n,r){ct.dispatch({type:te.actions.navigation.CLICK_REPLY_TO,userId:t,eventId:e,body:n,formattedBody:r})}function f5(t){ct.dispatch({type:te.actions.navigation.OPEN_SEARCH,term:t})}function rr(t,e,n,r){ct.dispatch({type:te.actions.navigation.OPEN_REUSABLE_CONTEXT_MENU,placement:t,cords:e,render:n,afterClose:r})}function Dr(t,e,n){ct.dispatch({type:te.actions.navigation.OPEN_REUSABLE_DIALOG,title:t,render:e,afterClose:n})}function jQ(t,e){ct.dispatch({type:te.actions.navigation.OPEN_EMOJI_VERIFICATION,request:t,targetDevice:e})}let $Q=class extends Gn.exports{constructor(){super(),this.initMatrix={},this.selectedTab=te.tabs.HOME,this.selectedSpaceId=null,this.selectedSpacePath=[te.tabs.HOME],this.selectedRoomId=null,this.isRoomSettings=!1,this.recentRooms=[],this.spaceToRoom=new Map,this.rawModelStack=[]}_addToSpacePath(e,n){if(typeof e!="string"){this.selectedSpacePath=[te.tabs.HOME];return}if(n){this.selectedSpacePath=[e];return}if(this.selectedSpacePath.includes(e)){const r=this.selectedSpacePath.indexOf(e);this.selectedSpacePath=this.selectedSpacePath.slice(0,r+1);return}this.selectedSpacePath.push(e)}_mapRoomToSpace(e){const{roomList:n,accountData:r}=this.initMatrix;if(this.selectedTab===te.tabs.HOME&&n.rooms.has(e)&&!n.roomIdToParents.has(e)){this.spaceToRoom.set(te.tabs.HOME,{roomId:e,timestamp:Date.now()});return}if(this.selectedTab===te.tabs.DIRECTS&&n.directs.has(e)){this.spaceToRoom.set(te.tabs.DIRECTS,{roomId:e,timestamp:Date.now()});return}const o=n.roomIdToParents.get(e);if(o){if(o.has(this.selectedSpaceId))this.spaceToRoom.set(this.selectedSpaceId,{roomId:e,timestamp:Date.now()});else if(r.categorizedSpaces.has(this.selectedSpaceId)){const i=n.getCategorizedSpaces([this.selectedSpaceId]),a=[...o].find(l=>i.has(l));a&&this.spaceToRoom.set(a,{roomId:e,timestamp:Date.now()})}}}_selectRoom(e,n){const r=this.selectedRoomId;this.selectedRoomId=e,r!==e&&this._mapRoomToSpace(e),this.removeRecentRoom(r),this.addRecentRoom(r),this.removeRecentRoom(this.selectedRoomId),this.isRoomSettings&&typeof this.selectedRoomId=="string"&&(this.isRoomSettings=!this.isRoomSettings,this.emit(te.events.navigation.ROOM_SETTINGS_TOGGLED,this.isRoomSettings)),this.emit(te.events.navigation.ROOM_SELECTED,this.selectedRoomId,r,n)}_selectTabWithRoom(e){const{roomList:n,accountData:r}=this.initMatrix,{categorizedSpaces:o}=r;if(n.isOrphan(e)){if(n.directs.has(e)){this._selectSpace(null,!0,!1),this._selectTab(te.tabs.DIRECTS,!1);return}this._selectSpace(null,!0,!1),this._selectTab(te.tabs.HOME,!1);return}const i=n.roomIdToParents.get(e);if(i.has(this.selectedSpaceId))return;if(o.has(this.selectedSpaceId)){const l=n.getCategorizedSpaces([this.selectedSpaceId]);if([...i].find(u=>l.has(u)))return}const a=[...this.selectedSpacePath].reverse().find(l=>i.has(l));if(a){this._selectSpace(a,!1,!1);return}if(n.directs.has(e)){this._selectSpace(null,!0,!1),this._selectTab(te.tabs.DIRECTS,!1);return}if(i.size>0){const l=[...i].sort((u,d)=>{var c,h;const s=((c=this.spaceToRoom.get(u))==null?void 0:c.timestamp)??0;return(((h=this.spaceToRoom.get(d))==null?void 0:h.timestamp)??0)-s});this._selectSpace(l[0],!0,!1),this._selectTab(l[0],!1)}}_getLatestActiveRoomId(e){const n=this.initMatrix.matrixClient;let r=0,o=null;return e.forEach(i=>{const a=n.getRoom(i);if(!a)return;const l=a.getLastActiveTimestamp();l>r&&(r=l,o=i)}),o}_getLatestSelectedRoomId(e){let n=0,r=null;return e.forEach(o=>{const i=this.spaceToRoom.get(o);if(!i)return;const a=i.timestamp;a>n&&(n=a,r=i.roomId)}),r}_selectTab(e,n=!0){this.selectedTab=e,n&&this._selectRoomWithTab(this.selectedTab),this.emit(te.events.navigation.TAB_SELECTED,this.selectedTab)}_selectSpace(e,n,r=!0){this._addToSpacePath(e,n),this.selectedSpaceId=e,!n&&r&&this._selectRoomWithSpace(this.selectedSpaceId),this.emit(te.events.navigation.SPACE_SELECTED,this.selectedSpaceId)}_selectRoomWithSpace(e){if(!e)return;const{roomList:n,accountData:r,matrixClient:o}=this.initMatrix,{categorizedSpaces:i}=r,a=this.spaceToRoom.get(e);if(a&&!i.has(e)){this._selectRoom(a.roomId);return}const l=[];if(i.has(e)){const u=n.getCategorizedSpaces([e]),d=this._getLatestSelectedRoomId([...u.keys()]);if(d){this._selectRoom(d);return}u==null||u.forEach(s=>{s==null||s.forEach(g=>{l.push(g)})})}else n.getSpaceChildren(e).forEach(u=>{var d;((d=o.getRoom(u))==null?void 0:d.isSpaceRoom())===!1&&l.push(u)});if(!l){this._selectRoom(null);return}this._selectRoom(this._getLatestActiveRoomId(l))}_selectRoomWithTab(e){const{roomList:n}=this.initMatrix;if(e===te.tabs.HOME||e===te.tabs.DIRECTS){const r=this.spaceToRoom.get(e);if(r){this._selectRoom(r.roomId);return}const o=e===te.tabs.HOME?n.getOrphanRooms():[...n.directs];this._selectRoom(this._getLatestActiveRoomId(o));return}this._selectRoomWithSpace(e)}removeRecentRoom(e){if(typeof e!="string")return;const n=this.recentRooms.indexOf(e);n>=0&&this.recentRooms.splice(n,1)}addRecentRoom(e){typeof e=="string"&&(this.recentRooms.push(e),this.recentRooms.length>10&&this.recentRooms.splice(0,1))}get isRawModalVisible(){return this.rawModelStack.length>0}setIsRawModalVisible(e){e?this.rawModelStack.push(!0):this.rawModelStack.pop()}navigate(e){var r;const n={[te.actions.navigation.SELECT_TAB]:()=>{const o=e.tabId!==te.tabs.HOME&&e.tabId!==te.tabs.DIRECTS?e.tabId:null;this._selectSpace(o,!0),this._selectTab(e.tabId)},[te.actions.navigation.SELECT_SPACE]:()=>{this._selectSpace(e.roomId,!1)},[te.actions.navigation.SELECT_ROOM]:()=>{e.roomId&&this._selectTabWithRoom(e.roomId),this._selectRoom(e.roomId,e.eventId)},[te.actions.navigation.OPEN_SPACE_SETTINGS]:()=>{this.emit(te.events.navigation.SPACE_SETTINGS_OPENED,e.roomId,e.tabText)},[te.actions.navigation.OPEN_SPACE_MANAGE]:()=>{this.emit(te.events.navigation.SPACE_MANAGE_OPENED,e.roomId)},[te.actions.navigation.OPEN_SPACE_ADDEXISTING]:()=>{this.emit(te.events.navigation.SPACE_ADDEXISTING_OPENED,e.roomId)},[te.actions.navigation.TOGGLE_ROOM_SETTINGS]:()=>{this.isRoomSettings=!this.isRoomSettings,this.emit(te.events.navigation.ROOM_SETTINGS_TOGGLED,this.isRoomSettings,e.tabText)},[te.actions.navigation.OPEN_SHORTCUT_SPACES]:()=>{this.emit(te.events.navigation.SHORTCUT_SPACES_OPENED)},[te.actions.navigation.OPEN_INVITE_LIST]:()=>{this.emit(te.events.navigation.INVITE_LIST_OPENED)},[te.actions.navigation.OPEN_PUBLIC_ROOMS]:()=>{this.emit(te.events.navigation.PUBLIC_ROOMS_OPENED,e.searchTerm)},[te.actions.navigation.OPEN_CREATE_ROOM]:()=>{this.emit(te.events.navigation.CREATE_ROOM_OPENED,e.isSpace,e.parentId)},[te.actions.navigation.OPEN_JOIN_ALIAS]:()=>{this.emit(te.events.navigation.JOIN_ALIAS_OPENED,e.term)},[te.actions.navigation.OPEN_INVITE_USER]:()=>{this.emit(te.events.navigation.INVITE_USER_OPENED,e.roomId,e.searchTerm)},[te.actions.navigation.OPEN_PROFILE_VIEWER]:()=>{this.emit(te.events.navigation.PROFILE_VIEWER_OPENED,e.userId,e.roomId)},[te.actions.navigation.OPEN_SETTINGS]:()=>{this.emit(te.events.navigation.SETTINGS_OPENED,e.tabText)},[te.actions.navigation.OPEN_NAVIGATION]:()=>{this.emit(te.events.navigation.NAVIGATION_OPENED)},[te.actions.navigation.TOGGLE_NAVIGATION]:()=>{this.emit(te.events.navigation.NAVIGATION_TOGGLED,this.navigationVisible)},[te.actions.navigation.OPEN_EMOJIBOARD]:()=>{this.emit(te.events.navigation.EMOJIBOARD_OPENED,e.cords,e.requestEmojiCallback)},[te.actions.navigation.OPEN_READRECEIPTS]:()=>{this.emit(te.events.navigation.READRECEIPTS_OPENED,e.roomId,e.userIds)},[te.actions.navigation.OPEN_VIEWSOURCE]:()=>{this.emit(te.events.navigation.VIEWSOURCE_OPENED,e.event)},[te.actions.navigation.OPEN_TEXTTRANSLATE]:()=>{this.emit(te.events.navigation.TEXTTRANSLATE_OPENED,e.event)},[te.actions.navigation.CLICK_REPLY_TO]:()=>{this.emit(te.events.navigation.REPLY_TO_CLICKED,e.userId,e.eventId,e.body,e.formattedBody)},[te.actions.navigation.OPEN_SEARCH]:()=>{this.emit(te.events.navigation.SEARCH_OPENED,e.term)},[te.actions.navigation.OPEN_REUSABLE_CONTEXT_MENU]:()=>{this.emit(te.events.navigation.REUSABLE_CONTEXT_MENU_OPENED,e.placement,e.cords,e.render,e.afterClose)},[te.actions.navigation.OPEN_REUSABLE_DIALOG]:()=>{this.emit(te.events.navigation.REUSABLE_DIALOG_OPENED,e.title,e.render,e.afterClose)},[te.actions.navigation.OPEN_EMOJI_VERIFICATION]:()=>{this.emit(te.events.navigation.EMOJI_VERIFICATION_OPENED,e.request,e.targetDevice)}};(r=n[e.type])==null||r.call(n)}};const je=new $Q;ct.register(je.navigate.bind(je));const Bf="data:image/svg+xml,%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20--%3e%20%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:a='http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/'%20x='0px'%20y='0px'%20width='18px'%20height='18px'%20viewBox='0%200%2018%2018'%20enable-background='new%200%200%2018%2018'%20xml:space='preserve'%3e%20%3cdefs%3e%20%3c/defs%3e%20%3cg%3e%20%3cg%3e%20%3ccircle%20fill='white'%20cx='9'%20cy='9'%20r='8.5'/%3e%20%3c/g%3e%20%3cg%3e%20%3cpath%20d='M9%2c0C4%2c0%2c0%2c4%2c0%2c9c0%2c5%2c4%2c9%2c9%2c9c5%2c0%2c9-4%2c9-9C18%2c4%2c14%2c0%2c9%2c0z%20M1.2%2c10.8l3.5-2.3c0-0.1%2c0-0.2%2c0-0.3c0-1.8%2c1.3-3.2%2c3.1-3.4%20c0.1%2c0%2c0.2%2c0%2c0.4%2c0c1.2%2c0%2c2.3%2c0.6%2c2.9%2c1.6c0.3-0.1%2c0.6-0.1%2c0.9-0.1c0.4%2c0%2c0.8%2c0%2c1.2%2c0.1c0.7%2c0.2%2c1.4%2c0.5%2c2%2c0.9%20C14.6%2c7.1%2c14%2c7%2c13.3%2c7c-1.2%2c0-2.2%2c0.4-2.9%2c1.4c-0.7%2c0.9-1.1%2c2-1.1%2c3.2c0%2c1.5-0.4%2c2.9-1.3%2c4.2c-0.3%2c0.4-0.5%2c0.7-0.8%2c1%20C4.2%2c16.1%2c1.9%2c13.8%2c1.2%2c10.8z'/%3e%20%3ccircle%20cx='9.5'%20cy='6.4'%20r='0.5'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",qQ="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cg%20clip-path='url(%23clip0_2707_2015)'%3e%20%3cpath%20d='M10.5867%2017.3522C10.0727%2017.4492%209.54226%2017.5%209%2017.5C4.30558%2017.5%200.5%2013.6944%200.5%209C0.5%204.30558%204.30558%200.5%209%200.5C13.6944%200.5%2017.5%204.30558%2017.5%209C17.5%209.54226%2017.4492%2010.0727%2017.3522%2010.5867C16.6511%2010.2123%2015.8503%2010%2015%2010C12.2386%2010%2010%2012.2386%2010%2015C10%2015.8503%2010.2123%2016.6511%2010.5867%2017.3522Z'%20fill='white'/%3e%20%3cpath%20d='M10%206.39999C10%206.67614%209.77614%206.89999%209.5%206.89999C9.22386%206.89999%209%206.67614%209%206.39999C9%206.12385%209.22386%205.89999%209.5%205.89999C9.77614%205.89999%2010%206.12385%2010%206.39999Z'%20fill='black'/%3e%20%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%200C4%200%200%204%200%209C0%2014%204%2018%209%2018C9.63967%2018%2010.263%2017.9345%2010.8636%2017.8099C10.3186%2017.0091%2010%2016.0417%2010%2015C10%2012.2386%2012.2386%2010%2015%2010C16.0417%2010%2017.0091%2010.3186%2017.8099%2010.8636C17.9345%2010.263%2018%209.63967%2018%209C18%204%2014%200%209%200ZM1.2%2010.8L4.7%208.5V8.2C4.7%206.4%206%205%207.8%204.8H8.2C9.4%204.8%2010.5%205.4%2011.1%206.4C11.4%206.3%2011.7%206.3%2012%206.3C12.4%206.3%2012.8%206.3%2013.2%206.4C13.9%206.6%2014.6%206.9%2015.2%207.3C14.6%207.1%2014%207%2013.3%207C12.1%207%2011.1%207.4%2010.4%208.4C9.7%209.3%209.3%2010.4%209.3%2011.6C9.3%2013.1%208.9%2014.5%208%2015.8C7.93744%2015.8834%207.87923%2015.9625%207.82356%2016.0381C7.6123%2016.325%207.43739%2016.5626%207.2%2016.8C4.2%2016.1%201.9%2013.8%201.2%2010.8Z'%20fill='black'/%3e%20%3cpath%20d='M18%2015C18%2016.6569%2016.6569%2018%2015%2018C13.3431%2018%2012%2016.6569%2012%2015C12%2013.3431%2013.3431%2012%2015%2012C16.6569%2012%2018%2013.3431%2018%2015Z'%20fill='%23989898'/%3e%20%3c/g%3e%20%3cdefs%3e%20%3cclipPath%20id='clip0_2707_2015'%3e%20%3crect%20width='18'%20height='18'%20fill='white'/%3e%20%3c/clipPath%3e%20%3c/defs%3e%20%3c/svg%3e",VQ="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cg%20clip-path='url(%23clip0_2707_1961)'%3e%20%3cpath%20d='M10.5867%2017.3522C10.0727%2017.4492%209.54226%2017.5%209%2017.5C4.30558%2017.5%200.5%2013.6944%200.5%209C0.5%204.30558%204.30558%200.5%209%200.5C13.6944%200.5%2017.5%204.30558%2017.5%209C17.5%209.54226%2017.4492%2010.0727%2017.3522%2010.5867C16.6511%2010.2123%2015.8503%2010%2015%2010C12.2386%2010%2010%2012.2386%2010%2015C10%2015.8503%2010.2123%2016.6511%2010.5867%2017.3522Z'%20fill='white'/%3e%20%3cpath%20d='M10%206.39999C10%206.67614%209.77614%206.89999%209.5%206.89999C9.22386%206.89999%209%206.67614%209%206.39999C9%206.12385%209.22386%205.89999%209.5%205.89999C9.77614%205.89999%2010%206.12385%2010%206.39999Z'%20fill='black'/%3e%20%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%200C4%200%200%204%200%209C0%2014%204%2018%209%2018C9.63967%2018%2010.263%2017.9345%2010.8636%2017.8099C10.3186%2017.0091%2010%2016.0417%2010%2015C10%2012.2386%2012.2386%2010%2015%2010C16.0417%2010%2017.0091%2010.3186%2017.8099%2010.8636C17.9345%2010.263%2018%209.63967%2018%209C18%204%2014%200%209%200ZM1.2%2010.8L4.7%208.5V8.2C4.7%206.4%206%205%207.8%204.8H8.2C9.4%204.8%2010.5%205.4%2011.1%206.4C11.4%206.3%2011.7%206.3%2012%206.3C12.4%206.3%2012.8%206.3%2013.2%206.4C13.9%206.6%2014.6%206.9%2015.2%207.3C14.6%207.1%2014%207%2013.3%207C12.1%207%2011.1%207.4%2010.4%208.4C9.7%209.3%209.3%2010.4%209.3%2011.6C9.3%2013.1%208.9%2014.5%208%2015.8C7.93744%2015.8834%207.87923%2015.9625%207.82356%2016.0381C7.6123%2016.325%207.43739%2016.5626%207.2%2016.8C4.2%2016.1%201.9%2013.8%201.2%2010.8Z'%20fill='black'/%3e%20%3cpath%20d='M18%2015C18%2016.6569%2016.6569%2018%2015%2018C13.3431%2018%2012%2016.6569%2012%2015C12%2013.3431%2013.3431%2012%2015%2012C16.6569%2012%2018%2013.3431%2018%2015Z'%20fill='%2345B83B'/%3e%20%3c/g%3e%20%3cdefs%3e%20%3cclipPath%20id='clip0_2707_1961'%3e%20%3crect%20width='18'%20height='18'%20fill='white'/%3e%20%3c/clipPath%3e%20%3c/defs%3e%20%3c/svg%3e";function $C(t){var n;const e=t.getType();return!(!te.supportEventTypes.includes(e)||e==="m.room.member"||t.isRedacted()||((n=t.getRelation())==null?void 0:n.rel_type)==="m.replace")}function g5(t){return t.actions[0]==="dont_notify"&&t.conditions[0].kind==="event_match"}function qC(t,e){return t.find(n=>n.rule_id===e&&g5(n))}class GQ extends Gn.exports{constructor(e){var n;super(),this.initialized=!1,this.favicon=Bf,this.matrixClient=e.matrixClient,this.roomList=e,this.roomIdToNoti=new Map,this.roomIdToPopupNotis=new Map,this.eventIdToPopupNoti=new Map,this._listenEvents(),(n=window.Notification)==null||n.requestPermission()}async _initNoti(){this.initialized=!1,this.roomIdToNoti=new Map;const e=n=>{const r=this.matrixClient.getRoom(n);if(this.getNotiType(r.roomId)===te.notifs.MUTE||this.doesRoomHaveUnread(r)===!1)return;const o=r.getUnreadNotificationCount("total"),i=r.getUnreadNotificationCount("highlight");this._setNoti(r.roomId,o??0,i??0)};[...this.roomList.rooms].forEach(e),[...this.roomList.directs].forEach(e),this.initialized=!0,this._updateFavicon()}doesRoomHaveUnread(e){var i;const n=this.matrixClient.getUserId(),r=e.getEventReadUpTo(n),o=e.getLiveTimeline().getEvents();if(((i=o[o.length-1])==null?void 0:i.getSender())===n)return!1;for(let a=o.length-1;a>=0;a-=1){const l=o[a];if(l.getId()===r)return!1;if($C(l))return!0}return!0}getNotiType(e){var o,i,a;const n=this.matrixClient;let r;try{r=n.getRoomPushRule("global",e)}catch{r=void 0}if(r===void 0){const l=(a=(i=(o=n.getAccountData("m.push_rules"))==null?void 0:o.getContent())==null?void 0:i.global)==null?void 0:a.override;return l===void 0?te.notifs.DEFAULT:qC(l,e)?te.notifs.MUTE:te.notifs.DEFAULT}return r.actions[0]==="notify"?te.notifs.ALL_MESSAGES:te.notifs.MENTIONS_AND_KEYWORDS}getNoti(e){return this.roomIdToNoti.get(e)||{total:0,highlight:0,from:null}}getTotalNoti(e){const{total:n}=this.getNoti(e);return n}getHighlightNoti(e){const{highlight:n}=this.getNoti(e);return n}getFromNoti(e){const{from:n}=this.getNoti(e);return n}hasNoti(e){return this.roomIdToNoti.has(e)}deleteNoti(e){if(this.hasNoti(e)){const n=this.getNoti(e);this._deleteNoti(e,n.total,n.highlight)}}async _updateFavicon(){if(!this.initialized)return;let e=!1,n=!1;[...this.roomIdToNoti.values()].find(o=>(e||(e=o.total>0||o.highlight>0),n=o.highlight>0,!!(e&&n)));let r=Bf;e&&!n&&(r=qQ),e&&n&&(r=VQ),r!==this.favicon&&(this.favicon=r,Kz(this.favicon))}_setNoti(e,n,r){const o=(d,s,g,c)=>{var F;const h=((F=this.roomIdToNoti.get(d))==null?void 0:F.total)??null,_=this.getNoti(d);_.total+=s,_.highlight+=g,c&&(_.from===null&&(_.from=new Set),_.from.add(c)),this.roomIdToNoti.set(d,_),this.emit(te.events.notifications.NOTI_CHANGED,d,_.total,h)},i=this.getNoti(e),a=(r>n?r:n)-i.total,l=r-i.highlight;if(a<0||l<0)return;o(e,a,l),this.roomList.getAllParentSpaces(e).forEach(d=>{o(d,a,l,e)}),this._updateFavicon()}_deleteNoti(e,n,r){const o=(a,l,u,d)=>{if(this.roomIdToNoti.has(a)===!1)return;const s=this.getNoti(a),g=s.total;s.total-=l,s.highlight-=u,s.total<0&&(s.total=0,s.highlight=0),d&&s.from!==null&&(this.hasNoti(d)||s.from.delete(d)),s.from===null||s.from.size===0?(this.roomIdToNoti.delete(a),this.emit(te.events.notifications.FULL_READ,a),this.emit(te.events.notifications.NOTI_CHANGED,a,null,g)):(this.roomIdToNoti.set(a,s),this.emit(te.events.notifications.NOTI_CHANGED,a,s.total,g))};o(e,n,r),this.roomList.getAllParentSpaces(e).forEach(a=>{o(a,n,r,e)}),this._updateFavicon()}async _displayPopupNoti(e,n){var o;if(!at.showNotifications&&!at.isNotificationSounds)return;const r=this.matrixClient.getPushActionsForEvent(e);if(r!=null&&r.notify&&!(je.selectedRoomId===n.roomId&&document.visibilityState==="visible"))if(e.isEncrypted()&&await e.attemptDecryption(this.matrixClient.crypto),at.showNotifications){let i;!e.sender||n.name===e.sender.name?i=n.name:e.sender&&(i=`${e.sender.name} (${n.name})`);const a=36,l=await CQ({text:e.sender.name,bgColor:s5(e.getSender()),imageSrc:(o=e.sender)==null?void 0:o.getAvatarUrl(this.matrixClient.baseUrl,a,a,"crop"),size:a,borderRadius:8,scale:8}),u=e.getContent(),d={kind:"notification",onlyPlain:!0};let s;u.format==="org.matrix.custom.html"?s=a5(u.formatted_body,d):s=CE(u.body,d);const g=new window.Notification(i,{body:s.plain,icon:l,tag:e.getId(),silent:at.isNotificationSounds});at.isNotificationSounds&&(g.onshow=()=>this._playNotiSound()),g.onclick=()=>An(n.roomId,e.getId()),this.eventIdToPopupNoti.set(e.getId(),g),this.roomIdToPopupNotis.has(n.roomId)?this.roomIdToPopupNotis.get(n.roomId).push(g):this.roomIdToPopupNotis.set(n.roomId,[g])}else this._playNotiSound()}_deletePopupNoti(e){var n;(n=this.eventIdToPopupNoti.get(e))==null||n.close(),this.eventIdToPopupNoti.delete(e)}_deletePopupRoomNotis(e){var n;(n=this.roomIdToPopupNotis.get(e))==null||n.forEach(r=>{this.eventIdToPopupNoti.delete(r.tag),r&&r.close()}),this.roomIdToPopupNotis.delete(e)}_playNotiSound(){this._notiAudio||(this._notiAudio=document.getElementById("notificationSound")),this._notiAudio.play()}_playInviteSound(){this._inviteAudio||(this._inviteAudio=document.getElementById("inviteSound")),this._inviteAudio.play()}_listenEvents(){this.matrixClient.on("Room.timeline",(e,n)=>{if(e.isRedaction()&&this._deletePopupNoti(e.event.redacts),n.isSpaceRoom()||!$C(e))return;const r=n.getLiveTimeline().getEvents();if(r[r.length-1].getId()!==e.getId()||e.getSender()===this.matrixClient.getUserId())return;const i=n.getUnreadNotificationCount("total"),a=n.getUnreadNotificationCount("highlight");if(this.getNotiType(n.roomId)===te.notifs.MUTE){this.deleteNoti(n.roomId,i??0,a??0);return}this._setNoti(n.roomId,i??0,a??0),this.matrixClient.getSyncState()==="SYNCING"&&this._displayPopupNoti(e,n)}),this.matrixClient.on("accountData",(e,n)=>{var r,o,i,a;if(e.getType()==="m.push_rules"){const l=(o=(r=e==null?void 0:e.getContent())==null?void 0:r.global)==null?void 0:o.override,u=(a=(i=n==null?void 0:n.getContent())==null?void 0:i.global)==null?void 0:a.override;if(!l||!u)return;const d=(c,h)=>{const _=c.rule_id,F=this.matrixClient.getRoom(_);return!(F===null||F.isSpaceRoom()||!g5(c)||qC(h,_))},s=l.filter(c=>d(c,u)),g=u.filter(c=>d(c,l));s.forEach(c=>{this.emit(te.events.notifications.MUTE_TOGGLED,c.rule_id,!0),this.deleteNoti(c.rule_id)}),g.forEach(c=>{this.emit(te.events.notifications.MUTE_TOGGLED,c.rule_id,!1);const h=this.matrixClient.getRoom(c.rule_id);if(!this.doesRoomHaveUnread(h))return;const _=h.getUnreadNotificationCount("total"),F=h.getUnreadNotificationCount("highlight");this._setNoti(h.roomId,_??0,F??0)})}}),this.matrixClient.on("Room.receipt",(e,n)=>{if(e.getType()!=="m.receipt"||n.isSpaceRoom())return;const r=e.getContent(),o=this.matrixClient.getUserId();Object.keys(r).forEach(i=>{Object.entries(r[i]).forEach(([a,l])=>{te.supportReceiptTypes.includes(a)&&Object.keys(l||{}).includes(o)&&(this.deleteNoti(n.roomId),this._deletePopupRoomNotis(n.roomId))})})}),this.matrixClient.on("Room.myMembership",(e,n)=>{n==="leave"&&this.hasNoti(e.roomId)&&this.deleteNoti(e.roomId),n==="invite"&&this._playInviteSound()})}}const Mc=new Map;function KQ(t,e){if(!(e instanceof Uint8Array))throw new Error("Unable to store, privateKey is invalid.");Mc.set(t,e)}function IE(t){return Mc.get(t)instanceof Uint8Array}function p5(t){return Mc.get(t)}function m5(t){delete Mc.delete(t)}function HQ(){Mc.clear()}async function zQ({keys:t}){const n=Object.keys(t).find(IE);if(!n)return;const r=p5(n);return[n,r]}function WQ(t,e,n){Mc.set(t,n)}const YQ={getSecretStorageKey:zQ,cacheSecretStorageKey:WQ};global.Olm=Jz;class JQ extends Gn.exports{constructor(){super(),je.initMatrix=this}async init(){await this.startClient(),this.setupSync(),this.listenEvents()}async startClient(){const e=new jh.IndexedDBStore({indexedDB:global.indexedDB,localStorage:global.localStorage,dbName:"web-sync-store"});await e.startup(),this.matrixClient=jh.createClient({baseUrl:Zg.baseUrl,accessToken:Zg.accessToken,userId:Zg.userId,store:e,cryptoStore:new jh.IndexedDBCryptoStore(global.indexedDB,"crypto-store"),deviceId:Zg.deviceId,timelineSupport:!0,cryptoCallbacks:YQ,verificationMethods:["m.sas.v1"]}),await this.matrixClient.initCrypto(),await this.matrixClient.startClient({lazyLoadMembers:!0}),this.matrixClient.setGlobalErrorOnUnknownDevices(!1)}setupSync(){const e={NULL:()=>{console.log("NULL state")},SYNCING:()=>{console.log("SYNCING state")},PREPARED:n=>{var r;console.log("PREPARED state"),console.log("Previous state: ",n),global.initMatrix=this,n===null?(this.roomList=new Xz(this.matrixClient),this.accountData=new Qz(this.roomList),this.roomsInput=new xQ(this.matrixClient,this.roomList),this.notifications=new GQ(this.roomList),this.emit("init_loading_finished"),this.notifications._initNoti()):(r=this.notifications)==null||r._initNoti()},RECONNECTING:()=>{console.log("RECONNECTING state")},CATCHUP:()=>{console.log("CATCHUP state")},ERROR:()=>{console.log("ERROR state")},STOPPED:()=>{console.log("STOPPED state")}};this.matrixClient.on("sync",(n,r)=>e[n](r))}listenEvents(){this.matrixClient.on("Session.logged_out",async()=>{this.matrixClient.stopClient(),await this.matrixClient.clearStores(),window.localStorage.clear(),window.location.reload()})}async logout(){this.matrixClient.stopClient();try{await this.matrixClient.logout()}catch{}await this.matrixClient.clearStores(),window.userLocalStorage.clear();const e=window.localStorage.getItem("currentUser"),n=new Set(JSON.parse(window.localStorage.getItem("loggedInUsers")));n.delete(e),window.localStorage.setItem("loggedInUsers",JSON.stringify(n)),window.localStorage.removeItem("currentUser"),window.location.reload()}clearCacheAndReload(){this.matrixClient.stopClient(),this.matrixClient.store.deleteAllData().then(()=>{window.location.reload()})}}const Fe=new JQ,RE="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M21%2c10V8h-5V3h-2v5h-4V3H8v5H3v2h5v4H3v2h5v5h2v-5h4v5h2v-5h5v-2h-5v-4H21z%20M14%2c14h-4v-4h4V14z'/%3e%20%3c/svg%3e",nF="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='16%2c12%2014%2c12%2014%2c14%2010%2c14%2010%2c10%2012%2c10%2012%2c8%2010%2c8%2010%2c3%208%2c3%208%2c8%203%2c8%203%2c10%208%2c10%208%2c14%203%2c14%203%2c16%208%2c16%208%2c21%2010%2c21%2010%2c16%2014%2c16%2014%2c21%2016%2c21%2016%2c16%2021%2c16%2021%2c14%2016%2c14%20'/%3e%20%3cpath%20d='M18.5%2c1C16%2c1%2c14%2c3%2c14%2c5.5s2%2c4.5%2c4.5%2c4.5S23%2c8%2c23%2c5.5S21%2c1%2c18.5%2c1z%20M17.5%2c7C17.5%2c7%2c17.5%2c7%2c17.5%2c7c-0.2-0.1-0.3-0.1-0.3-0.2%20c-0.6-0.5-1.7-1.1-1.8-2c-0.1-0.7%2c0.8-1.6%2c1.3-2c0.8-0.6%2c2.3-1.1%2c3.2-0.5c0.6%2c0.4-1.2%2c1-1.4%2c1.3c-0.3%2c0.4-0.3%2c0.9-0.3%2c1.4%20c0%2c0.5%2c0.1%2c1.2-0.2%2c1.6C17.9%2c6.9%2c17.7%2c7%2c17.5%2c7z%20M20.8%2c7.9c-0.4%2c0.3-0.9%2c0.2-1.3%2c0.5c-0.1%2c0.1-0.2%2c0.2-0.3%2c0.2%20c-0.2%2c0.1-0.5-0.1-0.5-0.3c-0.3-0.8%2c0.3-1.2%2c0.9-1.3c0.3%2c0%2c0.7%2c0%2c1%2c0c0.2%2c0%2c0.4%2c0.1%2c0.4%2c0.3C21.1%2c7.5%2c20.9%2c7.7%2c20.8%2c7.9z'/%3e%20%3c/g%3e%20%3c/svg%3e",up="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='16%2c12%2014%2c12%2014%2c14%2010%2c14%2010%2c10%2012%2c10%2012%2c8%2010%2c8%2010%2c3%208%2c3%208%2c8%203%2c8%203%2c10%208%2c10%208%2c14%203%2c14%203%2c16%208%2c16%208%2c21%2010%2c21%2010%2c16%2014%2c16%2014%2c21%2016%2c21%2016%2c16%2021%2c16%2021%2c14%2016%2c14%20'/%3e%20%3cpath%20d='M21%2c4V3c0-1.7-1.3-3-3-3s-3%2c1.3-3%2c3v1c-0.6%2c0-1%2c0.4-1%2c1v4c0%2c0.6%2c0.4%2c1%2c1%2c1h6c0.6%2c0%2c1-0.4%2c1-1V5C22%2c4.4%2c21.6%2c4%2c21%2c4z%20M19.5%2c4h-3V3c0-0.8%2c0.7-1.5%2c1.5-1.5s1.5%2c0.7%2c1.5%2c1.5V4z'/%3e%20%3c/g%3e%20%3c/svg%3e",AE="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M12%2c4.1c0.4%2c0.3%2c1.3%2c1.8%2c1.7%2c4.6L14%2c10l1.4%2c0.2c2.8%2c0.4%2c4.2%2c1.3%2c4.6%2c1.7c-0.3%2c0.4-1.8%2c1.3-4.6%2c1.7L14%2c14l-0.2%2c1.4%20c-0.4%2c2.8-1.3%2c4.2-1.7%2c4.6c-0.4-0.3-1.3-1.8-1.7-4.6L10%2c14l-1.4-0.2c-2.8-0.4-4.2-1.3-4.6-1.7c0.3-0.4%2c1.8-1.3%2c4.6-1.7L10%2c10%20l0.2-1.4C10.7%2c5.8%2c11.6%2c4.4%2c12%2c4.1%20M12%2c2c-1.7%2c0-3.1%2c2.6-3.7%2c6.3C4.6%2c8.9%2c2%2c10.3%2c2%2c12s2.6%2c3.1%2c6.3%2c3.7c0.6%2c3.7%2c2%2c6.3%2c3.7%2c6.3%20s3.1-2.6%2c3.7-6.3c3.7-0.6%2c6.3-2%2c6.3-3.7s-2.6-3.1-6.3-3.7C15.1%2c4.6%2c13.7%2c2%2c12%2c2L12%2c2z'/%3e%20%3c/svg%3e",OE="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M15.4%2c13.7L14%2c14l-0.2%2c1.4c-0.4%2c2.8-1.3%2c4.2-1.7%2c4.6c-0.4-0.3-1.3-1.8-1.7-4.6L10%2c14l-1.4-0.2c-2.8-0.4-4.2-1.3-4.6-1.7%20c0.3-0.4%2c1.8-1.3%2c4.6-1.7L10%2c10l0.2-1.4c0.4-2.8%2c1.3-4.2%2c1.7-4.6V2c-1.7%2c0-3.1%2c2.6-3.7%2c6.3C4.6%2c8.9%2c2%2c10.3%2c2%2c12s2.6%2c3.1%2c6.3%2c3.7%20c0.6%2c3.7%2c2%2c6.3%2c3.7%2c6.3s3.1-2.6%2c3.7-6.3c3.7-0.6%2c6.3-2%2c6.3-3.7h-2.1C19.6%2c12.4%2c18.2%2c13.3%2c15.4%2c13.7z'/%3e%20%3cpath%20d='M18.5%2c1C16%2c1%2c14%2c3%2c14%2c5.5s2%2c4.5%2c4.5%2c4.5S23%2c8%2c23%2c5.5S21%2c1%2c18.5%2c1z%20M17.5%2c7C17.5%2c7%2c17.5%2c7%2c17.5%2c7c-0.2-0.1-0.3-0.1-0.3-0.2%20c-0.6-0.5-1.7-1.1-1.8-2c-0.1-0.7%2c0.8-1.6%2c1.3-2c0.8-0.6%2c2.3-1.1%2c3.2-0.5c0.6%2c0.4-1.2%2c1-1.4%2c1.3c-0.3%2c0.4-0.3%2c0.9-0.3%2c1.4%20c0%2c0.5%2c0.1%2c1.2-0.2%2c1.6C17.9%2c6.9%2c17.7%2c7%2c17.5%2c7z%20M20.8%2c7.9c-0.4%2c0.3-0.9%2c0.2-1.3%2c0.5c-0.1%2c0.1-0.2%2c0.2-0.3%2c0.2%20c-0.2%2c0.1-0.5-0.1-0.5-0.3c-0.3-0.8%2c0.3-1.2%2c0.9-1.3c0.3%2c0%2c0.7%2c0%2c1%2c0c0.2%2c0%2c0.4%2c0.1%2c0.4%2c0.3C21.1%2c7.5%2c20.9%2c7.7%2c20.8%2c7.9z'/%3e%20%3c/g%3e%20%3c/svg%3e",cp="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M21%2c4V3c0-1.7-1.3-3-3-3s-3%2c1.3-3%2c3v1c-0.6%2c0-1%2c0.4-1%2c1v4c0%2c0.6%2c0.4%2c1%2c1%2c1h6c0.6%2c0%2c1-0.4%2c1-1V5C22%2c4.4%2c21.5%2c4%2c21%2c4z%20M19.5%2c4h-3V3c0-0.8%2c0.7-1.5%2c1.5-1.5s1.5%2c0.7%2c1.5%2c1.5V4z'/%3e%20%3cpath%20d='M15.4%2c13.7L14%2c14l-0.2%2c1.4c-0.4%2c2.8-1.3%2c4.2-1.7%2c4.6c-0.4-0.3-1.3-1.8-1.7-4.6L10%2c14l-1.4-0.2C5.8%2c13.3%2c4.4%2c12.4%2c4%2c12%20c0.3-0.4%2c1.8-1.3%2c4.6-1.7L10%2c10l0.2-1.4c0.4-2.8%2c1.3-4.2%2c1.7-4.6V2c-1.7%2c0-3.1%2c2.6-3.7%2c6.3C4.6%2c8.9%2c2%2c10.3%2c2%2c12s2.6%2c3.1%2c6.3%2c3.7%20c0.6%2c3.7%2c2%2c6.3%2c3.7%2c6.3s3.1-2.6%2c3.7-6.3c3.7-0.6%2c6.3-2%2c6.3-3.7h-2.1C19.6%2c12.4%2c18.2%2c13.3%2c15.4%2c13.7z'/%3e%20%3c/g%3e%20%3c/svg%3e",XQ="/.well-known/matrix/client";async function F5(t){var r;let e="https://";t.match(/^https?:\/\//)!==null&&(e="");const n=`${e}${t}${XQ}`;try{const o=await(await fetch(n,{method:"GET"})).json(),i=(r=o==null?void 0:o["m.homeserver"])==null?void 0:r.base_url;if(i===void 0)throw new Error;return i}catch{return`${e}${t}`}}function za(t){const n=Fe.matrixClient.getUser(t);if(n===null)return t;let r=n.displayName;return typeof r>"u"&&(r=t),r}function ts(t){return t.name||t.userId}async function _5(t){try{return(await Fe.matrixClient.resolveRoomAlias(t)).room_id,!1}catch(e){return e.errcode==="M_NOT_FOUND"}}function rF(t){return t>9e3?"Goku":t>100?"Founder":t===100?"Admin":t>=50?"Mod":null}function BE(t){if((t==null?void 0:t.indexOf(">"))!==0)return null;let e=t.slice(t.indexOf("<")+1);const n=e.slice(0,e.indexOf(">"));e=e.slice(e.indexOf(">")+2);const r=e.slice(0,e.indexOf(`

`));if(e=e.slice(e.indexOf(`

`)+2),n==="")return null;const o=n.match(/^@.+:.+/);return{userId:o?n:null,displayName:o?null:n,replyBody:r,body:e}}function QQ(t){if(!t)return t;const e="</mx-reply>",n=t.indexOf(e);return n<0?t:t.slice(n+e.length)}function PE(t){const e=Fe.matrixClient;return[...Fe.roomList.directs].find(r=>{const o=e.getRoom(r);return!!(o.getMembers().length<=2&&o.getMember(t))})}function bg(t,e){var n,r;return((r=(n={restricted:()=>e?AE:RE,knock:()=>e?cp:up,invite:()=>e?cp:up,public:()=>e?OE:nF})[t])==null?void 0:r.call(n))||null}function ZQ(t){var r;const e=(r=t.currentState.getStateEvents("m.room.power_levels",""))==null?void 0:r.getContent().users;let n=null;return e&&Object.keys(e).forEach(o=>{if(!(e[o]<50)){if(n===null){n=o;return}e[o]>e[n]&&(n=o)}}),n}function ac(t){return t.split(":")[1]}function eZ(t){const e=t.getMembers(),n={};return e==null||e.forEach(r=>{const{userId:o}=r,i=ac(o),a=n[i];if(a===void 0){n[i]=1;return}n[i]=a+1}),n}function tZ(t){const e=[],n=ZQ(t);if(n){const a=ac(n);a&&e.push(a)}const r=eZ(t),i=Object.keys(r).sort((a,l)=>r[l]-r[a]).slice(0,3);return e.length===0?i:(i.includes(e[0])&&i.splice(i.indexOf(e[0]),1),e.concat(i.slice(0,2)))}function dp(t){try{const e=Fe.matrixClient,n=e.getStoredCrossSigningForUser(e.getUserId()),r=e.getStoredDevice(e.getUserId(),t);return n.checkDeviceTrust(n,r,!1,!0).isCrossSigningVerified()}catch{return null}}function nZ(){return!!Fe.matrixClient.getAccountData("m.cross_signing.master")}function ME(){const t=Fe.matrixClient;try{return t.getAccountData("m.secret_storage.default_key").getContent().key}catch{return}}function rZ(t){const e=Fe.matrixClient;try{return e.getAccountData(`m.secret_storage.key.${t}`).getContent()}catch{return}}async function NE(t){const e=Fe.matrixClient;try{const n=await e.downloadKeys([t,e.getUserId()]);return Object.values(n).every(r=>Object.keys(r).length>0)}catch(n){return console.error("Error determining if it's possible to encrypt to all users: ",n),!1}}function ue({className:t,style:e,variant:n,weight:r,primary:o,span:i,children:a}){const l=[];t&&l.push(t),l.push(`text text-${n} text-${r}`),o&&l.push("font-primary");const u=l.join(" ");return i?E("span",{className:u,style:e,children:a}):n==="h1"?E("h1",{className:u,style:e,children:a}):n==="h2"?E("h2",{className:u,style:e,children:a}):n==="s1"?E("h4",{className:u,style:e,children:a}):E("p",{className:u,style:e,children:a})}ue.defaultProps={className:null,style:null,variant:"b1",weight:"normal",primary:!1,span:!1};ue.propTypes={className:J.exports.string,style:J.exports.shape({}),variant:J.exports.oneOf(["h1","h2","s1","b1","b2","b3"]),weight:J.exports.oneOf(["light","normal","medium","bold"]),primary:J.exports.bool,span:J.exports.bool,children:J.exports.node.isRequired};function It({color:t,size:e,src:n,isImage:r}){const o={};return t!==null&&(o.backgroundColor=t),r?(o.backgroundColor="transparent",o.backgroundImage=`url("${n}")`):(o.WebkitMaskImage=`url("${n}")`,o.maskImage=`url("${n}")`),E("span",{className:`ic-raw ic-raw-${e}`,style:o})}It.defaultProps={color:null,size:"normal",isImage:!1};It.propTypes={color:J.exports.string,size:J.exports.oneOf(["large","normal","small","extra-small"]),src:J.exports.string.isRequired,isImage:J.exports.bool};function bi(t,e){const n=t.nativeEvent.composedPath();for(let r=0;r<n.length;r+=1){if(n[r]===document){console.warn(bi,"blurOnBubbling: not found selector in bubbling path");break}if(n[r].matches(e))return setTimeout(()=>n[r].blur(),50),!0}return!1}const Me=nn.forwardRef(({id:t,className:e,variant:n,iconSrc:r,type:o,onClick:i,children:a,disabled:l},u)=>{const d=r===null?"":`btn-${n}--icon`;return re("button",{ref:u,id:t===""?void 0:t,className:`${e?`${e} `:""}btn-${n} ${d} noselect`,onMouseUp:s=>bi(s,`.btn-${n}`),onClick:i,type:o,disabled:l,children:[r!==null&&E(It,{size:"small",src:r}),typeof a=="string"&&E(ue,{variant:"b1",children:a}),typeof a!="string"&&a]})});Me.defaultProps={id:"",className:null,variant:"surface",iconSrc:null,type:"button",onClick:null,disabled:!1};Me.propTypes={id:J.exports.string,className:J.exports.string,variant:J.exports.oneOf(["surface","primary","positive","caution","danger"]),iconSrc:J.exports.string,type:J.exports.oneOf(["button","submit","reset"]),onClick:J.exports.func,children:J.exports.node.isRequired,disabled:J.exports.bool};var kr="top",co="bottom",ho="right",Sr="left",LE="auto",Eg=[kr,co,ho,Sr],sc="start",Pf="end",oZ="clippingParents",v5="viewport",rh="popper",iZ="reference",VC=Eg.reduce(function(t,e){return t.concat([e+"-"+sc,e+"-"+Pf])},[]),y5=[].concat(Eg,[LE]).reduce(function(t,e){return t.concat([e,e+"-"+sc,e+"-"+Pf])},[]),aZ="beforeRead",sZ="read",lZ="afterRead",uZ="beforeMain",cZ="main",dZ="afterMain",hZ="beforeWrite",fZ="write",gZ="afterWrite",pZ=[aZ,sZ,lZ,uZ,cZ,dZ,hZ,fZ,gZ];function gi(t){return t?(t.nodeName||"").toLowerCase():null}function po(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function al(t){var e=po(t).Element;return t instanceof e||t instanceof Element}function oo(t){var e=po(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function UE(t){if(typeof ShadowRoot>"u")return!1;var e=po(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function mZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!oo(i)||!gi(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var l=o[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function FZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(u,d){return u[d]="",u},{});!oo(o)||!gi(o)||(Object.assign(o.style,l),Object.keys(i).forEach(function(u){o.removeAttribute(u)}))})}}const b5={name:"applyStyles",enabled:!0,phase:"write",fn:mZ,effect:FZ,requires:["computeStyles"]};function ui(t){return t.split("-")[0]}var Js=Math.max,hp=Math.min,lc=Math.round;function Oy(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function E5(){return!/^((?!chrome|android).)*safari/i.test(Oy())}function uc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&oo(t)&&(o=t.offsetWidth>0&&lc(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&lc(r.height)/t.offsetHeight||1);var a=al(t)?po(t):window,l=a.visualViewport,u=!E5()&&n,d=(r.left+(u&&l?l.offsetLeft:0))/o,s=(r.top+(u&&l?l.offsetTop:0))/i,g=r.width/o,c=r.height/i;return{width:g,height:c,top:s,right:d+g,bottom:s+c,left:d,x:d,y:s}}function jE(t){var e=uc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function w5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&UE(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ki(t){return po(t).getComputedStyle(t)}function _Z(t){return["table","td","th"].indexOf(gi(t))>=0}function ns(t){return((al(t)?t.ownerDocument:t.document)||window.document).documentElement}function oF(t){return gi(t)==="html"?t:t.assignedSlot||t.parentNode||(UE(t)?t.host:null)||ns(t)}function GC(t){return!oo(t)||Ki(t).position==="fixed"?null:t.offsetParent}function vZ(t){var e=/firefox/i.test(Oy()),n=/Trident/i.test(Oy());if(n&&oo(t)){var r=Ki(t);if(r.position==="fixed")return null}var o=oF(t);for(UE(o)&&(o=o.host);oo(o)&&["html","body"].indexOf(gi(o))<0;){var i=Ki(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function wg(t){for(var e=po(t),n=GC(t);n&&_Z(n)&&Ki(n).position==="static";)n=GC(n);return n&&(gi(n)==="html"||gi(n)==="body"&&Ki(n).position==="static")?e:n||vZ(t)||e}function $E(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gh(t,e,n){return Js(t,hp(e,n))}function yZ(t,e,n){var r=Gh(t,e,n);return r>n?n:r}function D5(){return{top:0,right:0,bottom:0,left:0}}function k5(t){return Object.assign({},D5(),t)}function S5(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var bZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,k5(typeof e!="number"?e:S5(e,Eg))};function EZ(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ui(n.placement),u=$E(l),d=[Sr,ho].indexOf(l)>=0,s=d?"height":"width";if(!(!i||!a)){var g=bZ(o.padding,n),c=jE(i),h=u==="y"?kr:Sr,_=u==="y"?co:ho,F=n.rects.reference[s]+n.rects.reference[u]-a[u]-n.rects.popper[s],m=a[u]-n.rects.reference[u],p=wg(i),f=p?u==="y"?p.clientHeight||0:p.clientWidth||0:0,v=F/2-m/2,y=g[h],w=f-c[s]-g[_],b=f/2-c[s]/2+v,S=Gh(y,b,w),x=u;n.modifiersData[r]=(e={},e[x]=S,e.centerOffset=S-b,e)}}function wZ(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||w5(e.elements.popper,o)&&(e.elements.arrow=o))}const DZ={name:"arrow",enabled:!0,phase:"main",fn:EZ,effect:wZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cc(t){return t.split("-")[1]}var kZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SZ(t){var e=t.x,n=t.y,r=window,o=r.devicePixelRatio||1;return{x:lc(e*o)/o||0,y:lc(n*o)/o||0}}function KC(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,a=t.offsets,l=t.position,u=t.gpuAcceleration,d=t.adaptive,s=t.roundOffsets,g=t.isFixed,c=a.x,h=c===void 0?0:c,_=a.y,F=_===void 0?0:_,m=typeof s=="function"?s({x:h,y:F}):{x:h,y:F};h=m.x,F=m.y;var p=a.hasOwnProperty("x"),f=a.hasOwnProperty("y"),v=Sr,y=kr,w=window;if(d){var b=wg(n),S="clientHeight",x="clientWidth";if(b===po(n)&&(b=ns(n),Ki(b).position!=="static"&&l==="absolute"&&(S="scrollHeight",x="scrollWidth")),b=b,o===kr||(o===Sr||o===ho)&&i===Pf){y=co;var N=g&&b===w&&w.visualViewport?w.visualViewport.height:b[S];F-=N-r.height,F*=u?1:-1}if(o===Sr||(o===kr||o===co)&&i===Pf){v=ho;var U=g&&b===w&&w.visualViewport?w.visualViewport.width:b[x];h-=U-r.width,h*=u?1:-1}}var q=Object.assign({position:l},d&&kZ),P=s===!0?SZ({x:h,y:F}):{x:h,y:F};if(h=P.x,F=P.y,u){var G;return Object.assign({},q,(G={},G[y]=f?"0":"",G[v]=p?"0":"",G.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+F+"px)":"translate3d("+h+"px, "+F+"px, 0)",G))}return Object.assign({},q,(e={},e[y]=f?F+"px":"",e[v]=p?h+"px":"",e.transform="",e))}function xZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,d={placement:ui(e.placement),variation:cc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,KC(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,KC(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const CZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xZ,data:{}};var O1={passive:!0};function TZ(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,l=a===void 0?!0:a,u=po(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(s){s.addEventListener("scroll",n.update,O1)}),l&&u.addEventListener("resize",n.update,O1),function(){i&&d.forEach(function(s){s.removeEventListener("scroll",n.update,O1)}),l&&u.removeEventListener("resize",n.update,O1)}}const IZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TZ,data:{}};var RZ={left:"right",right:"left",bottom:"top",top:"bottom"};function d0(t){return t.replace(/left|right|bottom|top/g,function(e){return RZ[e]})}var AZ={start:"end",end:"start"};function HC(t){return t.replace(/start|end/g,function(e){return AZ[e]})}function qE(t){var e=po(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function VE(t){return uc(ns(t)).left+qE(t).scrollLeft}function OZ(t,e){var n=po(t),r=ns(t),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,u=0;if(o){i=o.width,a=o.height;var d=E5();(d||!d&&e==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:l+VE(t),y:u}}function BZ(t){var e,n=ns(t),r=qE(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=Js(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Js(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+VE(t),u=-r.scrollTop;return Ki(o||n).direction==="rtl"&&(l+=Js(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:u}}function GE(t){var e=Ki(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function x5(t){return["html","body","#document"].indexOf(gi(t))>=0?t.ownerDocument.body:oo(t)&&GE(t)?t:x5(oF(t))}function Kh(t,e){var n;e===void 0&&(e=[]);var r=x5(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=po(r),a=o?[i].concat(i.visualViewport||[],GE(r)?r:[]):r,l=e.concat(a);return o?l:l.concat(Kh(oF(a)))}function By(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function PZ(t,e){var n=uc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zC(t,e,n){return e===v5?By(OZ(t,n)):al(e)?PZ(e,n):By(BZ(ns(t)))}function MZ(t){var e=Kh(oF(t)),n=["absolute","fixed"].indexOf(Ki(t).position)>=0,r=n&&oo(t)?wg(t):t;return al(r)?e.filter(function(o){return al(o)&&w5(o,r)&&gi(o)!=="body"}):[]}function NZ(t,e,n,r){var o=e==="clippingParents"?MZ(t):[].concat(e),i=[].concat(o,[n]),a=i[0],l=i.reduce(function(u,d){var s=zC(t,d,r);return u.top=Js(s.top,u.top),u.right=hp(s.right,u.right),u.bottom=hp(s.bottom,u.bottom),u.left=Js(s.left,u.left),u},zC(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function C5(t){var e=t.reference,n=t.element,r=t.placement,o=r?ui(r):null,i=r?cc(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(o){case kr:u={x:a,y:e.y-n.height};break;case co:u={x:a,y:e.y+e.height};break;case ho:u={x:e.x+e.width,y:l};break;case Sr:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var d=o?$E(o):null;if(d!=null){var s=d==="y"?"height":"width";switch(i){case sc:u[d]=u[d]-(e[s]/2-n[s]/2);break;case Pf:u[d]=u[d]+(e[s]/2-n[s]/2);break}}return u}function Mf(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.strategy,a=i===void 0?t.strategy:i,l=n.boundary,u=l===void 0?oZ:l,d=n.rootBoundary,s=d===void 0?v5:d,g=n.elementContext,c=g===void 0?rh:g,h=n.altBoundary,_=h===void 0?!1:h,F=n.padding,m=F===void 0?0:F,p=k5(typeof m!="number"?m:S5(m,Eg)),f=c===rh?iZ:rh,v=t.rects.popper,y=t.elements[_?f:c],w=NZ(al(y)?y:y.contextElement||ns(t.elements.popper),u,s,a),b=uc(t.elements.reference),S=C5({reference:b,element:v,strategy:"absolute",placement:o}),x=By(Object.assign({},v,S)),N=c===rh?x:b,U={top:w.top-N.top+p.top,bottom:N.bottom-w.bottom+p.bottom,left:w.left-N.left+p.left,right:N.right-w.right+p.right},q=t.modifiersData.offset;if(c===rh&&q){var P=q[o];Object.keys(U).forEach(function(G){var C=[ho,co].indexOf(G)>=0?1:-1,I=[kr,co].indexOf(G)>=0?"y":"x";U[G]+=P[I]*C})}return U}function LZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,d=u===void 0?y5:u,s=cc(r),g=s?l?VC:VC.filter(function(_){return cc(_)===s}):Eg,c=g.filter(function(_){return d.indexOf(_)>=0});c.length===0&&(c=g);var h=c.reduce(function(_,F){return _[F]=Mf(t,{placement:F,boundary:o,rootBoundary:i,padding:a})[ui(F)],_},{});return Object.keys(h).sort(function(_,F){return h[_]-h[F]})}function UZ(t){if(ui(t)===LE)return[];var e=d0(t);return[HC(t),e,HC(e)]}function jZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,u=n.fallbackPlacements,d=n.padding,s=n.boundary,g=n.rootBoundary,c=n.altBoundary,h=n.flipVariations,_=h===void 0?!0:h,F=n.allowedAutoPlacements,m=e.options.placement,p=ui(m),f=p===m,v=u||(f||!_?[d0(m)]:UZ(m)),y=[m].concat(v).reduce(function(H,Q){return H.concat(ui(Q)===LE?LZ(e,{placement:Q,boundary:s,rootBoundary:g,padding:d,flipVariations:_,allowedAutoPlacements:F}):Q)},[]),w=e.rects.reference,b=e.rects.popper,S=new Map,x=!0,N=y[0],U=0;U<y.length;U++){var q=y[U],P=ui(q),G=cc(q)===sc,C=[kr,co].indexOf(P)>=0,I=C?"width":"height",M=Mf(e,{placement:q,boundary:s,rootBoundary:g,altBoundary:c,padding:d}),A=C?G?ho:Sr:G?co:kr;w[I]>b[I]&&(A=d0(A));var $=d0(A),Y=[];if(i&&Y.push(M[P]<=0),l&&Y.push(M[A]<=0,M[$]<=0),Y.every(function(H){return H})){N=q,x=!1;break}S.set(q,Y)}if(x)for(var T=_?3:1,D=function(Q){var L=y.find(function(le){var he=S.get(le);if(he)return he.slice(0,Q).every(function(De){return De})});if(L)return N=L,"break"},R=T;R>0;R--){var B=D(R);if(B==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const $Z={name:"flip",enabled:!0,phase:"main",fn:jZ,requiresIfExists:["offset"],data:{_skip:!1}};function WC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function YC(t){return[kr,ho,co,Sr].some(function(e){return t[e]>=0})}function qZ(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=Mf(e,{elementContext:"reference"}),l=Mf(e,{altBoundary:!0}),u=WC(a,r),d=WC(l,o,i),s=YC(u),g=YC(d);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:s,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":g})}const VZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qZ};function GZ(t,e,n){var r=ui(t),o=[Sr,kr].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*o,[Sr,ho].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function KZ(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,a=y5.reduce(function(s,g){return s[g]=GZ(g,e.rects,i),s},{}),l=a[e.placement],u=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const HZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KZ};function zZ(t){var e=t.state,n=t.name;e.modifiersData[n]=C5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const WZ={name:"popperOffsets",enabled:!0,phase:"read",fn:zZ,data:{}};function YZ(t){return t==="x"?"y":"x"}function JZ(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,u=n.boundary,d=n.rootBoundary,s=n.altBoundary,g=n.padding,c=n.tether,h=c===void 0?!0:c,_=n.tetherOffset,F=_===void 0?0:_,m=Mf(e,{boundary:u,rootBoundary:d,padding:g,altBoundary:s}),p=ui(e.placement),f=cc(e.placement),v=!f,y=$E(p),w=YZ(y),b=e.modifiersData.popperOffsets,S=e.rects.reference,x=e.rects.popper,N=typeof F=="function"?F(Object.assign({},e.rects,{placement:e.placement})):F,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(b){if(i){var G,C=y==="y"?kr:Sr,I=y==="y"?co:ho,M=y==="y"?"height":"width",A=b[y],$=A+m[C],Y=A-m[I],T=h?-x[M]/2:0,D=f===sc?S[M]:x[M],R=f===sc?-x[M]:-S[M],B=e.elements.arrow,H=h&&B?jE(B):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:D5(),L=Q[C],le=Q[I],he=Gh(0,S[M],H[M]),De=v?S[M]/2-T-he-L-U.mainAxis:D-he-L-U.mainAxis,ke=v?-S[M]/2+T+he+le+U.mainAxis:R+he+le+U.mainAxis,W=e.elements.arrow&&wg(e.elements.arrow),z=W?y==="y"?W.clientTop||0:W.clientLeft||0:0,oe=(G=q==null?void 0:q[y])!=null?G:0,ce=A+De-oe-z,_e=A+ke-oe,we=Gh(h?hp($,ce):$,A,h?Js(Y,_e):Y);b[y]=we,P[y]=we-A}if(l){var Oe,Le=y==="x"?kr:Sr,Ue=y==="x"?co:ho,de=b[w],fe=w==="y"?"height":"width",Se=de+m[Le],Ee=de-m[Ue],ye=[kr,Sr].indexOf(p)!==-1,Te=(Oe=q==null?void 0:q[w])!=null?Oe:0,Ne=ye?Se:de-S[fe]-x[fe]-Te+U.altAxis,ne=ye?de+S[fe]+x[fe]-Te-U.altAxis:Ee,j=h&&ye?yZ(Ne,de,ne):Gh(h?Ne:Se,de,h?ne:Ee);b[w]=j,P[w]=j-de}e.modifiersData[r]=P}}const XZ={name:"preventOverflow",enabled:!0,phase:"main",fn:JZ,requiresIfExists:["offset"]};function QZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ZZ(t){return t===po(t)||!oo(t)?qE(t):QZ(t)}function eee(t){var e=t.getBoundingClientRect(),n=lc(e.width)/t.offsetWidth||1,r=lc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function tee(t,e,n){n===void 0&&(n=!1);var r=oo(e),o=oo(e)&&eee(e),i=ns(e),a=uc(t,o,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((gi(e)!=="body"||GE(i))&&(l=ZZ(e)),oo(e)?(u=uc(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=VE(i))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function nee(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&o(u)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function ree(t){var e=nee(t);return pZ.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function oee(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iee(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var JC={placement:"bottom",modifiers:[],strategy:"absolute"};function XC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function aee(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?JC:o;return function(l,u,d){d===void 0&&(d=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},JC,i),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],c=!1,h={state:s,setOptions:function(p){var f=typeof p=="function"?p(s.options):p;F(),s.options=Object.assign({},i,s.options,f),s.scrollParents={reference:al(l)?Kh(l):l.contextElement?Kh(l.contextElement):[],popper:Kh(u)};var v=ree(iee([].concat(r,s.options.modifiers)));return s.orderedModifiers=v.filter(function(y){return y.enabled}),_(),h.update()},forceUpdate:function(){if(!c){var p=s.elements,f=p.reference,v=p.popper;if(XC(f,v)){s.rects={reference:tee(f,wg(v),s.options.strategy==="fixed"),popper:jE(v)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(U){return s.modifiersData[U.name]=Object.assign({},U.data)});for(var y=0;y<s.orderedModifiers.length;y++){if(s.reset===!0){s.reset=!1,y=-1;continue}var w=s.orderedModifiers[y],b=w.fn,S=w.options,x=S===void 0?{}:S,N=w.name;typeof b=="function"&&(s=b({state:s,options:x,name:N,instance:h})||s)}}}},update:oee(function(){return new Promise(function(m){h.forceUpdate(),m(s)})}),destroy:function(){F(),c=!0}};if(!XC(l,u))return h;h.setOptions(d).then(function(m){!c&&d.onFirstUpdate&&d.onFirstUpdate(m)});function _(){s.orderedModifiers.forEach(function(m){var p=m.name,f=m.options,v=f===void 0?{}:f,y=m.effect;if(typeof y=="function"){var w=y({state:s,name:p,instance:h,options:v}),b=function(){};g.push(w||b)}})}function F(){g.forEach(function(m){return m()}),g=[]}return h}}var see=[IZ,WZ,CZ,b5,HZ,$Z,XZ,DZ,VZ],lee=aee({defaultModifiers:see}),uee="tippy-box",T5="tippy-content",cee="tippy-backdrop",I5="tippy-arrow",R5="tippy-svg-arrow",Is={passive:!0,capture:!0},A5=function(){return document.body};function m2(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function KE(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function O5(t,e){return typeof t=="function"?t.apply(void 0,e):t}function QC(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function dee(t){return t.split(/\s+/).filter(Boolean)}function uu(t){return[].concat(t)}function ZC(t,e){t.indexOf(e)===-1&&t.push(e)}function hee(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function fee(t){return t.split("-")[0]}function fp(t){return[].slice.call(t)}function e9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Hh(){return document.createElement("div")}function iF(t){return["Element","Fragment"].some(function(e){return KE(t,e)})}function gee(t){return KE(t,"NodeList")}function pee(t){return KE(t,"MouseEvent")}function mee(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Fee(t){return iF(t)?[t]:gee(t)?fp(t):Array.isArray(t)?t:fp(document.querySelectorAll(t))}function F2(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function t9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function _ee(t){var e,n=uu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function vee(t,e){var n=e.clientX,r=e.clientY;return t.every(function(o){var i=o.popperRect,a=o.popperState,l=o.props,u=l.interactiveBorder,d=fee(a.placement),s=a.modifiersData.offset;if(!s)return!0;var g=d==="bottom"?s.top.y:0,c=d==="top"?s.bottom.y:0,h=d==="right"?s.left.x:0,_=d==="left"?s.right.x:0,F=i.top-r+g>u,m=r-i.bottom-c>u,p=i.left-n+h>u,f=n-i.right-_>u;return F||m||p||f})}function _2(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[r](o,n)})}function n9(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Zo={isTouch:!1},r9=0;function yee(){Zo.isTouch||(Zo.isTouch=!0,window.performance&&document.addEventListener("mousemove",B5))}function B5(){var t=performance.now();t-r9<20&&(Zo.isTouch=!1,document.removeEventListener("mousemove",B5)),r9=t}function bee(){var t=document.activeElement;if(mee(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Eee(){document.addEventListener("touchstart",yee,Is),window.addEventListener("blur",bee)}var wee=typeof window<"u"&&typeof document<"u",Dee=wee?!!window.msCrypto:!1,kee={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},See={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Co=Object.assign({appendTo:A5,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},kee,See),xee=Object.keys(Co),Cee=function(e){var n=Object.keys(e);n.forEach(function(r){Co[r]=e[r]})};function P5(t){var e=t.plugins||[],n=e.reduce(function(r,o){var i=o.name,a=o.defaultValue;if(i){var l;r[i]=t[i]!==void 0?t[i]:(l=Co[i])!=null?l:a}return r},{});return Object.assign({},t,n)}function Tee(t,e){var n=e?Object.keys(P5(Object.assign({},Co,{plugins:e}))):xee,r=n.reduce(function(o,i){var a=(t.getAttribute("data-tippy-"+i)||"").trim();if(!a)return o;if(i==="content")o[i]=a;else try{o[i]=JSON.parse(a)}catch{o[i]=a}return o},{});return r}function o9(t,e){var n=Object.assign({},e,{content:O5(e.content,[t])},e.ignoreAttributes?{}:Tee(t,e.plugins));return n.aria=Object.assign({},Co.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Iee=function(){return"innerHTML"};function Py(t,e){t[Iee()]=e}function i9(t){var e=Hh();return t===!0?e.className=I5:(e.className=R5,iF(t)?e.appendChild(t):Py(e,t)),e}function a9(t,e){iF(e.content)?(Py(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Py(t,e.content):t.textContent=e.content)}function My(t){var e=t.firstElementChild,n=fp(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(T5)}),arrow:n.find(function(r){return r.classList.contains(I5)||r.classList.contains(R5)}),backdrop:n.find(function(r){return r.classList.contains(cee)})}}function M5(t){var e=Hh(),n=Hh();n.className=uee,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Hh();r.className=T5,r.setAttribute("data-state","hidden"),a9(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props);function o(i,a){var l=My(e),u=l.box,d=l.content,s=l.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&a9(d,t.props),a.arrow?s?i.arrow!==a.arrow&&(u.removeChild(s),u.appendChild(i9(a.arrow))):u.appendChild(i9(a.arrow)):s&&u.removeChild(s)}return{popper:e,onUpdate:o}}M5.$$tippy=!0;var Ree=1,B1=[],v2=[];function Aee(t,e){var n=o9(t,Object.assign({},Co,P5(e9(e)))),r,o,i,a=!1,l=!1,u=!1,d=!1,s,g,c,h=[],_=QC(ce,n.interactiveDebounce),F,m=Ree++,p=null,f=hee(n.plugins),v={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:m,reference:t,popper:Hh(),popperInstance:p,props:n,state:v,plugins:f,clearDelayTimeouts:Ne,setProps:ne,setContent:j,show:V,hide:ie,hideWithInteractivity:pe,enable:ye,disable:Te,unmount:be,destroy:xe};if(!n.render)return y;var w=n.render(y),b=w.popper,S=w.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+y.id,y.popper=b,t._tippy=y,b._tippy=y;var x=f.map(function(me){return me.fn(y)}),N=t.hasAttribute("aria-expanded");return W(),T(),A(),$("onCreate",[y]),n.showOnCreate&&Se(),b.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&C().addEventListener("mousemove",_)}),y;function U(){var me=y.props.touch;return Array.isArray(me)?me:[me,0]}function q(){return U()[0]==="hold"}function P(){var me;return!!((me=y.props.render)!=null&&me.$$tippy)}function G(){return F||t}function C(){var me=G().parentNode;return me?_ee(me):document}function I(){return My(b)}function M(me){return y.state.isMounted&&!y.state.isVisible||Zo.isTouch||s&&s.type==="focus"?0:m2(y.props.delay,me?0:1,Co.delay)}function A(me){me===void 0&&(me=!1),b.style.pointerEvents=y.props.interactive&&!me?"":"none",b.style.zIndex=""+y.props.zIndex}function $(me,k,O){if(O===void 0&&(O=!0),x.forEach(function(Z){Z[me]&&Z[me].apply(Z,k)}),O){var K;(K=y.props)[me].apply(K,k)}}function Y(){var me=y.props.aria;if(me.content){var k="aria-"+me.content,O=b.id,K=uu(y.props.triggerTarget||t);K.forEach(function(Z){var se=Z.getAttribute(k);if(y.state.isVisible)Z.setAttribute(k,se?se+" "+O:O);else{var ge=se&&se.replace(O,"").trim();ge?Z.setAttribute(k,ge):Z.removeAttribute(k)}})}}function T(){if(!(N||!y.props.aria.expanded)){var me=uu(y.props.triggerTarget||t);me.forEach(function(k){y.props.interactive?k.setAttribute("aria-expanded",y.state.isVisible&&k===G()?"true":"false"):k.removeAttribute("aria-expanded")})}}function D(){C().removeEventListener("mousemove",_),B1=B1.filter(function(me){return me!==_})}function R(me){if(!(Zo.isTouch&&(u||me.type==="mousedown"))){var k=me.composedPath&&me.composedPath()[0]||me.target;if(!(y.props.interactive&&n9(b,k))){if(uu(y.props.triggerTarget||t).some(function(O){return n9(O,k)})){if(Zo.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[y,me]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),l=!0,setTimeout(function(){l=!1}),y.state.isMounted||L())}}}function B(){u=!0}function H(){u=!1}function Q(){var me=C();me.addEventListener("mousedown",R,!0),me.addEventListener("touchend",R,Is),me.addEventListener("touchstart",H,Is),me.addEventListener("touchmove",B,Is)}function L(){var me=C();me.removeEventListener("mousedown",R,!0),me.removeEventListener("touchend",R,Is),me.removeEventListener("touchstart",H,Is),me.removeEventListener("touchmove",B,Is)}function le(me,k){De(me,function(){!y.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&k()})}function he(me,k){De(me,k)}function De(me,k){var O=I().box;function K(Z){Z.target===O&&(_2(O,"remove",K),k())}if(me===0)return k();_2(O,"remove",g),_2(O,"add",K),g=K}function ke(me,k,O){O===void 0&&(O=!1);var K=uu(y.props.triggerTarget||t);K.forEach(function(Z){Z.addEventListener(me,k,O),h.push({node:Z,eventType:me,handler:k,options:O})})}function W(){q()&&(ke("touchstart",oe,{passive:!0}),ke("touchend",_e,{passive:!0})),dee(y.props.trigger).forEach(function(me){if(me!=="manual")switch(ke(me,oe),me){case"mouseenter":ke("mouseleave",_e);break;case"focus":ke(Dee?"focusout":"blur",we);break;case"focusin":ke("focusout",we);break}})}function z(){h.forEach(function(me){var k=me.node,O=me.eventType,K=me.handler,Z=me.options;k.removeEventListener(O,K,Z)}),h=[]}function oe(me){var k,O=!1;if(!(!y.state.isEnabled||Oe(me)||l)){var K=((k=s)==null?void 0:k.type)==="focus";s=me,F=me.currentTarget,T(),!y.state.isVisible&&pee(me)&&B1.forEach(function(Z){return Z(me)}),me.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||a)&&y.props.hideOnClick!==!1&&y.state.isVisible?O=!0:Se(me),me.type==="click"&&(a=!O),O&&!K&&Ee(me)}}function ce(me){var k=me.target,O=G().contains(k)||b.contains(k);if(!(me.type==="mousemove"&&O)){var K=fe().concat(b).map(function(Z){var se,ge=Z._tippy,Ce=(se=ge.popperInstance)==null?void 0:se.state;return Ce?{popperRect:Z.getBoundingClientRect(),popperState:Ce,props:n}:null}).filter(Boolean);vee(K,me)&&(D(),Ee(me))}}function _e(me){var k=Oe(me)||y.props.trigger.indexOf("click")>=0&&a;if(!k){if(y.props.interactive){y.hideWithInteractivity(me);return}Ee(me)}}function we(me){y.props.trigger.indexOf("focusin")<0&&me.target!==G()||y.props.interactive&&me.relatedTarget&&b.contains(me.relatedTarget)||Ee(me)}function Oe(me){return Zo.isTouch?q()!==me.type.indexOf("touch")>=0:!1}function Le(){Ue();var me=y.props,k=me.popperOptions,O=me.placement,K=me.offset,Z=me.getReferenceClientRect,se=me.moveTransition,ge=P()?My(b).arrow:null,Ce=Z?{getBoundingClientRect:Z,contextElement:Z.contextElement||G()}:t,Ie={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(qe){var Ze=qe.state;if(P()){var nt=I(),Be=nt.box;["placement","reference-hidden","escaped"].forEach(function(ot){ot==="placement"?Be.setAttribute("data-placement",Ze.placement):Ze.attributes.popper["data-popper-"+ot]?Be.setAttribute("data-"+ot,""):Be.removeAttribute("data-"+ot)}),Ze.attributes.popper={}}}},Ae=[{name:"offset",options:{offset:K}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!se}},Ie];P()&&ge&&Ae.push({name:"arrow",options:{element:ge,padding:3}}),Ae.push.apply(Ae,(k==null?void 0:k.modifiers)||[]),y.popperInstance=lee(Ce,b,Object.assign({},k,{placement:O,onFirstUpdate:c,modifiers:Ae}))}function Ue(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function de(){var me=y.props.appendTo,k,O=G();y.props.interactive&&me===A5||me==="parent"?k=O.parentNode:k=O5(me,[O]),k.contains(b)||k.appendChild(b),y.state.isMounted=!0,Le()}function fe(){return fp(b.querySelectorAll("[data-tippy-root]"))}function Se(me){y.clearDelayTimeouts(),me&&$("onTrigger",[y,me]),Q();var k=M(!0),O=U(),K=O[0],Z=O[1];Zo.isTouch&&K==="hold"&&Z&&(k=Z),k?r=setTimeout(function(){y.show()},k):y.show()}function Ee(me){if(y.clearDelayTimeouts(),$("onUntrigger",[y,me]),!y.state.isVisible){L();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(me.type)>=0&&a)){var k=M(!1);k?o=setTimeout(function(){y.state.isVisible&&y.hide()},k):i=requestAnimationFrame(function(){y.hide()})}}function ye(){y.state.isEnabled=!0}function Te(){y.hide(),y.state.isEnabled=!1}function Ne(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)}function ne(me){if(!y.state.isDestroyed){$("onBeforeUpdate",[y,me]),z();var k=y.props,O=o9(t,Object.assign({},k,e9(me),{ignoreAttributes:!0}));y.props=O,W(),k.interactiveDebounce!==O.interactiveDebounce&&(D(),_=QC(ce,O.interactiveDebounce)),k.triggerTarget&&!O.triggerTarget?uu(k.triggerTarget).forEach(function(K){K.removeAttribute("aria-expanded")}):O.triggerTarget&&t.removeAttribute("aria-expanded"),T(),A(),S&&S(k,O),y.popperInstance&&(Le(),fe().forEach(function(K){requestAnimationFrame(K._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[y,me])}}function j(me){y.setProps({content:me})}function V(){var me=y.state.isVisible,k=y.state.isDestroyed,O=!y.state.isEnabled,K=Zo.isTouch&&!y.props.touch,Z=m2(y.props.duration,0,Co.duration);if(!(me||k||O||K)&&!G().hasAttribute("disabled")&&($("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,P()&&(b.style.visibility="visible"),A(),Q(),y.state.isMounted||(b.style.transition="none"),P()){var se=I(),ge=se.box,Ce=se.content;F2([ge,Ce],0)}c=function(){var Ae;if(!(!y.state.isVisible||d)){if(d=!0,b.offsetHeight,b.style.transition=y.props.moveTransition,P()&&y.props.animation){var $e=I(),qe=$e.box,Ze=$e.content;F2([qe,Ze],Z),t9([qe,Ze],"visible")}Y(),T(),ZC(v2,y),(Ae=y.popperInstance)==null||Ae.forceUpdate(),$("onMount",[y]),y.props.animation&&P()&&he(Z,function(){y.state.isShown=!0,$("onShown",[y])})}},de()}}function ie(){var me=!y.state.isVisible,k=y.state.isDestroyed,O=!y.state.isEnabled,K=m2(y.props.duration,1,Co.duration);if(!(me||k||O)&&($("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,d=!1,a=!1,P()&&(b.style.visibility="hidden"),D(),L(),A(!0),P()){var Z=I(),se=Z.box,ge=Z.content;y.props.animation&&(F2([se,ge],K),t9([se,ge],"hidden"))}Y(),T(),y.props.animation?P()&&le(K,y.unmount):y.unmount()}}function pe(me){C().addEventListener("mousemove",_),ZC(B1,_),_(me)}function be(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Ue(),fe().forEach(function(me){me._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),v2=v2.filter(function(me){return me!==y}),y.state.isMounted=!1,$("onHidden",[y]))}function xe(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),z(),delete t._tippy,y.state.isDestroyed=!0,$("onDestroy",[y]))}}function Dg(t,e){e===void 0&&(e={});var n=Co.plugins.concat(e.plugins||[]);Eee();var r=Object.assign({},e,{plugins:n}),o=Fee(t),i=o.reduce(function(a,l){var u=l&&Aee(l,r);return u&&a.push(u),a},[]);return iF(t)?i[0]:i}Dg.defaultProps=Co;Dg.setDefaultProps=Cee;Dg.currentInput=Zo;Object.assign({},b5,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Dg.setDefaultProps({render:M5});function N5(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var L5=typeof window<"u"&&typeof document<"u";function Ny(t,e){t&&(typeof t=="function"&&t(e),{}.hasOwnProperty.call(t,"current")&&(t.current=e))}function s9(){return L5&&document.createElement("div")}function Oee(t){var e={"data-placement":t.placement};return t.referenceHidden&&(e["data-reference-hidden"]=""),t.escaped&&(e["data-escaped"]=""),e}function U5(t,e){if(t===e)return!0;if(typeof t=="object"&&t!=null&&typeof e=="object"&&e!=null){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(e.hasOwnProperty(n)){if(!U5(t[n],e[n]))return!1}else return!1;return!0}else return!1}function Bee(t){var e=[];return t.forEach(function(n){e.find(function(r){return U5(n,r)})||e.push(n)}),e}function Pee(t,e){var n,r;return Object.assign({},e,{popperOptions:Object.assign({},t.popperOptions,e.popperOptions,{modifiers:Bee([].concat(((n=t.popperOptions)==null?void 0:n.modifiers)||[],((r=e.popperOptions)==null?void 0:r.modifiers)||[]))})})}var y2=L5?X.exports.useLayoutEffect:X.exports.useEffect;function Mee(t){var e=X.exports.useRef();return e.current||(e.current=typeof t=="function"?t():t),e.current}function l9(t,e,n){n.split(/\s+/).forEach(function(r){r&&t.classList[e](r)})}var Nee={name:"className",defaultValue:"",fn:function(e){var n=e.popper.firstElementChild,r=function(){var l;return!!((l=e.props.render)!=null&&l.$$tippy)};function o(){e.props.className&&!r()||l9(n,"add",e.props.className)}function i(){r()&&l9(n,"remove",e.props.className)}return{onCreate:o,onBeforeUpdate:i,onAfterUpdate:o}}};function Lee(t){function e(n){var r=n.children,o=n.content,i=n.visible,a=n.singleton,l=n.render,u=n.reference,d=n.disabled,s=d===void 0?!1:d,g=n.ignoreAttributes,c=g===void 0?!0:g;n.__source,n.__self;var h=N5(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),_=i!==void 0,F=a!==void 0,m=X.exports.useState(!1),p=m[0],f=m[1],v=X.exports.useState({}),y=v[0],w=v[1],b=X.exports.useState(),S=b[0],x=b[1],N=Mee(function(){return{container:s9(),renders:1}}),U=Object.assign({ignoreAttributes:c},h,{content:N.container});_&&(U.trigger="manual",U.hideOnClick=!1),F&&(s=!0);var q=U,P=U.plugins||[];l&&(q=Object.assign({},U,{plugins:F&&a.data!=null?[].concat(P,[{fn:function(){return{onTrigger:function(M,A){var $=a.data.children.find(function(Y){var T=Y.instance;return T.reference===A.currentTarget});M.state.$$activeSingletonInstance=$.instance,x($.content)}}}}]):P,render:function(){return{popper:N.container}}}));var G=[u].concat(r?[r.type]:[]);return y2(function(){var C=u;u&&u.hasOwnProperty("current")&&(C=u.current);var I=t(C||N.ref||s9(),Object.assign({},q,{plugins:[Nee].concat(U.plugins||[])}));return N.instance=I,s&&I.disable(),i&&I.show(),F&&a.hook({instance:I,content:o,props:q,setSingletonContent:x}),f(!0),function(){I.destroy(),a==null||a.cleanup(I)}},G),y2(function(){var C;if(N.renders===1){N.renders++;return}var I=N.instance;I.setProps(Pee(I.props,q)),(C=I.popperInstance)==null||C.forceUpdate(),s?I.disable():I.enable(),_&&(i?I.show():I.hide()),F&&a.hook({instance:I,content:o,props:q,setSingletonContent:x})}),y2(function(){var C;if(l){var I=N.instance;I.setProps({popperOptions:Object.assign({},I.props.popperOptions,{modifiers:[].concat((((C=I.props.popperOptions)==null?void 0:C.modifiers)||[]).filter(function(M){var A=M.name;return A!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(A){var $,Y=A.state,T=($=Y.modifiersData)==null?void 0:$.hide;(y.placement!==Y.placement||y.referenceHidden!==(T==null?void 0:T.isReferenceHidden)||y.escaped!==(T==null?void 0:T.hasPopperEscaped))&&w({placement:Y.placement,referenceHidden:T==null?void 0:T.isReferenceHidden,escaped:T==null?void 0:T.hasPopperEscaped}),Y.attributes.popper={}}}])})})}},[y.placement,y.referenceHidden,y.escaped].concat(G)),nn.createElement(nn.Fragment,null,r?X.exports.cloneElement(r,{ref:function(I){N.ref=I,Ny(r.ref,I)}}):null,p&&Yp.exports.createPortal(l?l(Oee(y),S,N.instance):o,N.container))}return e}var Uee=function(t,e){return X.exports.forwardRef(function(r,o){var i=r.children,a=N5(r,["children"]);return nn.createElement(t,Object.assign({},e,a),i?X.exports.cloneElement(i,{ref:function(u){Ny(o,u),Ny(i.ref,u)}}):null)})},jee=Uee(Lee(Dg));const j5=jee;function kg({className:t,placement:e,content:n,delay:r,children:o}){return E(j5,{content:n,className:`tooltip ${t}`,touch:"hold",arrow:!1,maxWidth:250,placement:e,delay:r,duration:[100,0],children:o})}kg.defaultProps={placement:"top",className:"",delay:[200,0]};kg.propTypes={className:J.exports.string,placement:J.exports.string,content:J.exports.node.isRequired,delay:J.exports.arrayOf(J.exports.number),children:J.exports.node.isRequired};const Ye=nn.forwardRef(({variant:t,size:e,type:n,tooltip:r,tooltipPlacement:o,src:i,onClick:a,tabIndex:l,disabled:u,isImage:d,className:s},g)=>{const c=E("button",{ref:g,className:`ic-btn ic-btn-${t} ${s}`,onMouseUp:h=>bi(h,`.ic-btn-${t}`),onClick:a,type:n,tabIndex:l,disabled:u,children:E(It,{size:e,src:i,isImage:d})});return r===null?c:E(kg,{placement:o,content:E(ue,{variant:"b2",children:r}),children:c})});Ye.defaultProps={variant:"surface",size:"normal",type:"button",tooltip:null,tooltipPlacement:"top",onClick:null,tabIndex:0,disabled:!1,isImage:!1,className:""};Ye.propTypes={variant:J.exports.oneOf(["surface","primary","positive","caution","danger"]),size:J.exports.oneOf(["normal","small","extra-small"]),type:J.exports.oneOf(["button","submit","reset"]),tooltip:J.exports.string,tooltipPlacement:J.exports.oneOf(["top","right","bottom","left"]),src:J.exports.string.isRequired,onClick:J.exports.func,tabIndex:J.exports.number,disabled:J.exports.bool,isImage:J.exports.bool,className:J.exports.string};var $5={},HE={},Ly={exports:{}};(function(t,e){(function(n,r){r(t,e)})(Pe,function(n,r){var o=typeof Map=="function"?new Map:function(){var s=[],g=[];return{has:function(h){return s.indexOf(h)>-1},get:function(h){return g[s.indexOf(h)]},set:function(h,_){s.indexOf(h)===-1&&(s.push(h),g.push(_))},delete:function(h){var _=s.indexOf(h);_>-1&&(s.splice(_,1),g.splice(_,1))}}}(),i=function(g){return new Event(g,{bubbles:!0})};try{new Event("test")}catch{i=function(c){var h=document.createEvent("Event");return h.initEvent(c,!0,!1),h}}function a(s){if(!s||!s.nodeName||s.nodeName!=="TEXTAREA"||o.has(s))return;var g=null,c=null,h=null;function _(){var w=window.getComputedStyle(s,null);w.resize==="vertical"?s.style.resize="none":w.resize==="both"&&(s.style.resize="horizontal"),w.boxSizing==="content-box"?g=-(parseFloat(w.paddingTop)+parseFloat(w.paddingBottom)):g=parseFloat(w.borderTopWidth)+parseFloat(w.borderBottomWidth),isNaN(g)&&(g=0),f()}function F(w){{var b=s.style.width;s.style.width="0px",s.offsetWidth,s.style.width=b}s.style.overflowY=w}function m(w){for(var b=[];w&&w.parentNode&&w.parentNode instanceof Element;)w.parentNode.scrollTop&&b.push({node:w.parentNode,scrollTop:w.parentNode.scrollTop}),w=w.parentNode;return b}function p(){if(s.scrollHeight!==0){var w=m(s),b=document.documentElement&&document.documentElement.scrollTop;s.style.height="",s.style.height=s.scrollHeight+g+"px",c=s.clientWidth,w.forEach(function(S){S.node.scrollTop=S.scrollTop}),b&&(document.documentElement.scrollTop=b)}}function f(){p();var w=Math.round(parseFloat(s.style.height)),b=window.getComputedStyle(s,null),S=b.boxSizing==="content-box"?Math.round(parseFloat(b.height)):s.offsetHeight;if(S<w?b.overflowY==="hidden"&&(F("scroll"),p(),S=b.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(s,null).height)):s.offsetHeight):b.overflowY!=="hidden"&&(F("hidden"),p(),S=b.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(s,null).height)):s.offsetHeight),h!==S){h=S;var x=i("autosize:resized");try{s.dispatchEvent(x)}catch{}}}var v=function(){s.clientWidth!==c&&f()},y=function(w){window.removeEventListener("resize",v,!1),s.removeEventListener("input",f,!1),s.removeEventListener("keyup",f,!1),s.removeEventListener("autosize:destroy",y,!1),s.removeEventListener("autosize:update",f,!1),Object.keys(w).forEach(function(b){s.style[b]=w[b]}),o.delete(s)}.bind(s,{height:s.style.height,resize:s.style.resize,overflowY:s.style.overflowY,overflowX:s.style.overflowX,wordWrap:s.style.wordWrap});s.addEventListener("autosize:destroy",y,!1),"onpropertychange"in s&&"oninput"in s&&s.addEventListener("keyup",f,!1),window.addEventListener("resize",v,!1),s.addEventListener("input",f,!1),s.addEventListener("autosize:update",f,!1),s.style.overflowX="hidden",s.style.wordWrap="break-word",o.set(s,{destroy:y,update:f}),_()}function l(s){var g=o.get(s);g&&g.destroy()}function u(s){var g=o.get(s);g&&g.update()}var d=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(d=function(g){return g},d.destroy=function(s){return s},d.update=function(s){return s}):(d=function(g,c){return g&&Array.prototype.forEach.call(g.length?g:[g],function(h){return a(h)}),g},d.destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],l),s},d.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],u),s}),r.default=d,n.exports=r.default})})(Ly,Ly.exports);var $ee=function(t,e,n){return n=window.getComputedStyle,(n?n(t):t.currentStyle)[e.replace(/-(\w)/gi,function(r,o){return o.toUpperCase()})]},qee=$ee,b2=qee;function Vee(t){var e=b2(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var r=t.style.lineHeight;t.style.lineHeight=e+"em",e=b2(t,"line-height"),n=parseFloat(e,10),r?t.style.lineHeight=r:delete t.style.lineHeight}if(e.indexOf("pt")!==-1?(n*=4,n/=3):e.indexOf("mm")!==-1?(n*=96,n/=25.4):e.indexOf("cm")!==-1?(n*=96,n/=2.54):e.indexOf("in")!==-1?n*=96:e.indexOf("pc")!==-1&&(n*=16),n=Math.round(n),e==="normal"){var o=t.nodeName,i=document.createElement(o);i.innerHTML="&nbsp;",o.toUpperCase()==="TEXTAREA"&&i.setAttribute("rows","1");var a=b2(t,"font-size");i.style.fontSize=a,i.style.padding="0px",i.style.border="0px";var l=document.body;l.appendChild(i);var u=i.offsetHeight;n=u,l.removeChild(i)}return n}var Gee=Vee,Kee=Pe&&Pe.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uy=Pe&&Pe.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Hee=Pe&&Pe.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]]);return n};HE.__esModule=!0;var gp=X.exports,oh=J.exports,P1=Ly.exports,zee=Gee,Wee=zee,u9="autosize:resized",Yee=function(t){Kee(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={lineHeight:null},n.textarea=null,n.onResize=function(r){n.props.onResize&&n.props.onResize(r)},n.updateLineHeight=function(){n.textarea&&n.setState({lineHeight:Wee(n.textarea)})},n.onChange=function(r){var o=n.props.onChange;n.currentValue=r.currentTarget.value,o&&o(r)},n}return e.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.maxRows,i=r.async;typeof o=="number"&&this.updateLineHeight(),typeof o=="number"||i?setTimeout(function(){return n.textarea&&P1(n.textarea)}):this.textarea&&P1(this.textarea),this.textarea&&this.textarea.addEventListener(u9,this.onResize)},e.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(u9,this.onResize),P1.destroy(this.textarea))},e.prototype.render=function(){var n=this,r=this,o=r.props;o.onResize;var i=o.maxRows;o.onChange;var a=o.style;o.innerRef;var l=o.children,u=Hee(o,["onResize","maxRows","onChange","style","innerRef","children"]),d=r.state.lineHeight,s=i&&d?d*i:null;return gp.createElement("textarea",Uy({},u,{onChange:this.onChange,style:s?Uy({},a,{maxHeight:s}):a,ref:function(g){n.textarea=g,typeof n.props.innerRef=="function"?n.props.innerRef(g):n.props.innerRef&&(n.props.innerRef.current=g)}}),l)},e.prototype.componentDidUpdate=function(){this.textarea&&P1.update(this.textarea)},e.defaultProps={rows:1,async:!1},e.propTypes={rows:oh.number,maxRows:oh.number,onResize:oh.func,innerRef:oh.any,async:oh.bool},e}(gp.Component);HE.TextareaAutosize=gp.forwardRef(function(t,e){return gp.createElement(Yee,Uy({},t,{innerRef:e}))});(function(t){t.__esModule=!0;var e=HE;t.default=e.TextareaAutosize})($5);const q5=Wp($5);function dt({id:t,label:e,name:n,value:r,placeholder:o,required:i,type:a,onChange:l,forwardRef:u,resizable:d,minHeight:s,onResize:g,state:c,onKeyDown:h,disabled:_,autoFocus:F}){return re("div",{className:"input-container",children:[e!==""&&E("label",{className:"input__label text-b2",htmlFor:t,children:e}),d?E(q5,{dir:"auto",style:{minHeight:`${s}px`},name:n,id:t,className:`input input--resizable${c!=="normal"?` input--${c}`:""}`,ref:u,type:a,placeholder:o,required:i,defaultValue:r,autoComplete:"off",onChange:l,onResize:g,onKeyDown:h,disabled:_,autoFocus:F}):E("input",{dir:"auto",ref:u,id:t,name:n,className:`input ${c!=="normal"?` input--${c}`:""}`,type:a,placeholder:o,required:i,defaultValue:r,autoComplete:"off",onChange:l,onKeyDown:h,disabled:_,autoFocus:F})]})}dt.defaultProps={id:null,name:"",label:"",value:"",placeholder:"",type:"text",required:!1,onChange:null,forwardRef:null,resizable:!1,minHeight:46,onResize:null,state:"normal",onKeyDown:null,disabled:!1,autoFocus:!1};dt.propTypes={id:J.exports.string,name:J.exports.string,label:J.exports.string,value:J.exports.string,placeholder:J.exports.string,required:J.exports.bool,type:J.exports.string,onChange:J.exports.func,forwardRef:J.exports.shape({}),resizable:J.exports.bool,minHeight:J.exports.number,onResize:J.exports.func,state:J.exports.oneOf(["normal","success","error"]),onKeyDown:J.exports.func,disabled:J.exports.bool,autoFocus:J.exports.bool};function yt({size:t}){return E("div",{className:`donut-spinner donut-spinner--${t}`,children:" "})}yt.defaultProps={size:"normal"};yt.propTypes={size:J.exports.oneOf(["normal","small"])};const Kt=nn.forwardRef(({horizontal:t,vertical:e,autoHide:n,invisible:r,onScroll:o,children:i},a)=>{let l="";return t&&(l+=" scrollbar__h"),e&&(l+=" scrollbar__v"),n&&(l+=" scrollbar--auto-hide"),r&&(l+=" scrollbar--invisible"),E("div",{onScroll:o,ref:a,className:`scrollbar${l}`,children:i})});Kt.defaultProps={horizontal:!1,vertical:!0,autoHide:!1,invisible:!1,onScroll:null};Kt.propTypes={horizontal:J.exports.bool,vertical:J.exports.bool,autoHide:J.exports.bool,invisible:J.exports.bool,onScroll:J.exports.func,children:J.exports.node.isRequired};function Hi({children:t}){return E("div",{className:"header",children:t})}Hi.propTypes={children:J.exports.node.isRequired};function pi({children:t}){return E("div",{className:"header__title-wrapper",children:t})}pi.propTypes={children:J.exports.node.isRequired};const Jee="modulepreload",Xee=function(t,e){return new URL(t,e).href},c9={},Qee=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Xee(i,r),i in c9)return;c9[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let s=o.length-1;s>=0;s--){const g=o[s];if(g.href===i&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Jee,a||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),a)return new Promise((s,g)=>{d.addEventListener("load",s),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var d9="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kids kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum music mutual mv mw mx my mz na nab nagoya name natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest racing radio re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign vermgensberater vermgensberatung versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw".split(" "),h9="                                                                                                                                                      ".split(" "),dc=function(e,n){for(var r in n)e[r]=n[r];return e},jy="numeric",$y="ascii",qy="alpha",h0="asciinumeric",M1="alphanumeric",Vy="domain",V5="emoji",Zee="scheme",ete="slashscheme",f9="whitespace";function tte(t,e){return t in e||(e[t]=[]),e[t]}function Hs(t,e,n){e[jy]&&(e[h0]=!0,e[M1]=!0),e[$y]&&(e[h0]=!0,e[qy]=!0),e[h0]&&(e[M1]=!0),e[qy]&&(e[M1]=!0),e[M1]&&(e[Vy]=!0),e[V5]&&(e[Vy]=!0);for(var r in e){var o=tte(r,n);o.indexOf(t)<0&&o.push(t)}}function nte(t,e){var n={};for(var r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Or(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Or.groups={};Or.prototype={accepts:function(){return!!this.t},go:function(e){var n=this,r=n.j[e];if(r)return r;for(var o=0;o<n.jr.length;o++){var i=n.jr[o][0],a=n.jr[o][1];if(a&&i.test(e))return a}return n.jd},has:function(e,n){return n===void 0&&(n=!1),n?e in this.j:!!this.go(e)},ta:function(e,n,r,o){for(var i=0;i<e.length;i++)this.tt(e[i],n,r,o)},tr:function(e,n,r,o){o=o||Or.groups;var i;return n&&n.j?i=n:(i=new Or(n),r&&o&&Hs(n,r,o)),this.jr.push([e,i]),i},ts:function(e,n,r,o){var i=this,a=e.length;if(!a)return i;for(var l=0;l<a-1;l++)i=i.tt(e[l]);return i.tt(e[a-1],n,r,o)},tt:function(e,n,r,o){o=o||Or.groups;var i=this;if(n&&n.j)return i.j[e]=n,n;var a=n,l,u=i.go(e);if(u?(l=new Or,dc(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new Or,a){if(o)if(l.t&&typeof l.t=="string"){var d=dc(nte(l.t,o),r);Hs(a,d,o)}else r&&Hs(a,r,o);l.t=a}return i.j[e]=l,l}};var it=function(e,n,r,o,i){return e.ta(n,r,o,i)},Wr=function(e,n,r,o,i){return e.tr(n,r,o,i)},g9=function(e,n,r,o,i){return e.ts(n,r,o,i)},Ke=function(e,n,r,o,i){return e.tt(n,r,o,i)},Ti="WORD",Gy="UWORD",Nf="LOCALHOST",Ky="TLD",Hy="UTLD",f0="SCHEME",cu="SLASH_SCHEME",pp="NUM",G5="WS",zE="NL",bu="OPENBRACE",zh="OPENBRACKET",Wh="OPENANGLEBRACKET",Yh="OPENPAREN",Os="CLOSEBRACE",Eu="CLOSEBRACKET",wu="CLOSEANGLEBRACKET",Bs="CLOSEPAREN",mp="AMPERSAND",Fp="APOSTROPHE",_p="ASTERISK",Du="AT",vp="BACKSLASH",yp="BACKTICK",bp="CARET",ya="COLON",WE="COMMA",Ep="DOLLAR",Jo="DOT",wp="EQUALS",YE="EXCLAMATION",Xo="HYPHEN",Dp="PERCENT",kp="PIPE",Sp="PLUS",xp="POUND",Cp="QUERY",JE="QUOTE",XE="SEMI",Ri="SLASH",Jh="TILDE",Tp="UNDERSCORE",K5="EMOJI",Ip="SYM",H5=Object.freeze({__proto__:null,WORD:Ti,UWORD:Gy,LOCALHOST:Nf,TLD:Ky,UTLD:Hy,SCHEME:f0,SLASH_SCHEME:cu,NUM:pp,WS:G5,NL:zE,OPENBRACE:bu,OPENBRACKET:zh,OPENANGLEBRACKET:Wh,OPENPAREN:Yh,CLOSEBRACE:Os,CLOSEBRACKET:Eu,CLOSEANGLEBRACKET:wu,CLOSEPAREN:Bs,AMPERSAND:mp,APOSTROPHE:Fp,ASTERISK:_p,AT:Du,BACKSLASH:vp,BACKTICK:yp,CARET:bp,COLON:ya,COMMA:WE,DOLLAR:Ep,DOT:Jo,EQUALS:wp,EXCLAMATION:YE,HYPHEN:Xo,PERCENT:Dp,PIPE:kp,PLUS:Sp,POUND:xp,QUERY:Cp,QUOTE:JE,SEMI:XE,SLASH:Ri,TILDE:Jh,UNDERSCORE:Tp,EMOJI:K5,SYM:Ip}),eu=/[a-z]/,E2=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,w2=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,D2=/\d/,p9=/\s/,m9=`
`,rte="",ote="";function ite(t){var e,n,r,o,i,a;t===void 0&&(t=[]);var l={};Or.groups=l;var u=new Or;Ke(u,"'",Fp),Ke(u,"{",bu),Ke(u,"[",zh),Ke(u,"<",Wh),Ke(u,"(",Yh),Ke(u,"}",Os),Ke(u,"]",Eu),Ke(u,">",wu),Ke(u,")",Bs),Ke(u,"&",mp),Ke(u,"*",_p),Ke(u,"@",Du),Ke(u,"`",yp),Ke(u,"^",bp),Ke(u,":",ya),Ke(u,",",WE),Ke(u,"$",Ep),Ke(u,".",Jo),Ke(u,"=",wp),Ke(u,"!",YE),Ke(u,"-",Xo),Ke(u,"%",Dp),Ke(u,"|",kp),Ke(u,"+",Sp),Ke(u,"#",xp),Ke(u,"?",Cp),Ke(u,'"',JE),Ke(u,"/",Ri),Ke(u,";",XE),Ke(u,"~",Jh),Ke(u,"_",Tp),Ke(u,"\\",vp);var d=Wr(u,D2,pp,(e={},e[jy]=!0,e));Wr(d,D2,d);var s=Wr(u,eu,Ti,(n={},n[$y]=!0,n));Wr(s,eu,s);var g=Wr(u,E2,Gy,(r={},r[qy]=!0,r));Wr(g,eu),Wr(g,E2,g);var c=Wr(u,p9,G5,(o={},o[f9]=!0,o));Ke(u,m9,zE,(i={},i[f9]=!0,i)),Ke(c,m9),Wr(c,p9,c);var h=Wr(u,w2,K5,(a={},a[V5]=!0,a));Wr(h,w2,h),Ke(h,rte,h);var _=Ke(h,ote);Wr(_,w2,h);for(var F=[[eu,s]],m=[[eu,null],[E2,g]],p=0;p<d9.length;p++)ha(u,d9[p],Ky,Ti,F);for(var f=0;f<h9.length;f++)ha(u,h9[f],Hy,Gy,m);Hs(Ky,{tld:!0,ascii:!0},l),Hs(Hy,{utld:!0,alpha:!0},l),ha(u,"file",f0,Ti,F),ha(u,"mailto",f0,Ti,F),ha(u,"http",cu,Ti,F),ha(u,"https",cu,Ti,F),ha(u,"ftp",cu,Ti,F),ha(u,"ftps",cu,Ti,F),Hs(f0,{scheme:!0,ascii:!0},l),Hs(cu,{slashscheme:!0,ascii:!0},l),t=t.sort(function(N,U){return N[0]>U[0]?1:-1});for(var v=0;v<t.length;v++){var y,w,b=t[v][0],S=t[v][1],x=S?(y={},y[Zee]=!0,y):(w={},w[ete]=!0,w);b.indexOf("-")>=0?x[Vy]=!0:eu.test(b)?D2.test(b)?x[h0]=!0:x[$y]=!0:x[jy]=!0,g9(u,b,b,x)}return g9(u,"localhost",Nf,{ascii:!0}),u.jd=new Or(Ip),{start:u,tokens:dc({groups:l},H5)}}function ate(t,e){for(var n=ste(e.replace(/[A-Z]/g,function(h){return h.toLowerCase()})),r=n.length,o=[],i=0,a=0;a<r;){for(var l=t,u=null,d=0,s=null,g=-1,c=-1;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(g=0,c=0,s=l):g>=0&&(g+=n[a].length,c++),d+=n[a].length,i+=n[a].length,a++;i-=g,a-=c,d-=g,o.push({t:s.t,v:e.slice(i-d,i),s:i-d,e:i})}return o}function ste(t){for(var e=[],n=t.length,r=0;r<n;){var o=t.charCodeAt(r),i=void 0,a=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function ha(t,e,n,r,o){for(var i,a=e.length,l=0;l<a-1;l++){var u=e[l];t.j[u]?i=t.j[u]:(i=new Or(r),i.jr=o.slice(),t.j[u]=i),t=i}return i=new Or(n),i.jr=o.slice(),t.j[e[a-1]]=i,i}function lte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zy(t,e)}function zy(t,e){return zy=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},zy(t,e)}var Lf={defaultProtocol:"http",events:null,format:F9,formatHref:F9,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function QE(t,e){e===void 0&&(e=null);var n=dc({},Lf);t&&(n=dc(n,t instanceof QE?t.o:t));for(var r=n.ignoreTags,o=[],i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}QE.prototype={o:Lf,ignoreTags:[],defaultRender:function(e){return e},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,r){var o=n!=null,i=this.o[e];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Lf[e],typeof i=="function"&&o&&(i=i(n,r))):typeof i=="function"&&o&&(i=i(n,r.t,r)),i)},getObj:function(e,n,r){var o=this.o[e];return typeof o=="function"&&n!=null&&(o=o(n,r.t,r)),o},render:function(e){var n=e.render(this),r=this.get("render",null,e)||this.defaultRender;return r(n,e.t,e)}};function F9(t){return t}function z5(t,e){this.t="token",this.v=t,this.tk=e}z5.prototype={isLink:!1,toString:function(){return this.v},toHref:function(e){return this.toString()},toFormattedString:function(e){var n=this.toString(),r=e.get("truncate",n,this),o=e.get("format",n,this);return r&&o.length>r?o.substring(0,r)+"":o},toFormattedHref:function(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(e){return e===void 0&&(e=Lf.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject:function(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate:function(e){return e.get("validate",this.toString(),this)},render:function(e){var n=this,r=this.toFormattedHref(e),o=e.get("tagName",r,n),i=this.toFormattedString(e),a={},l=e.get("className",r,n),u=e.get("target",r,n),d=e.get("rel",r,n),s=e.getObj("attributes",r,n),g=e.getObj("events",r,n);return a.href=r,l&&(a.class=l),u&&(a.target=u),d&&(a.rel=d),s&&dc(a,s),{tagName:o,attributes:a,content:i,eventListeners:g}}};function aF(t,e){var n=function(o){lte(i,o);function i(a,l){var u;return u=o.call(this,a,l)||this,u.t=t,u}return i}(z5);for(var r in e)n.prototype[r]=e[r];return n.t=t,n}var _9=aF("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),v9=aF("text"),ute=aF("nl"),ws=aF("url",{isLink:!0,toHref:function(e){return e===void 0&&(e=Lf.defaultProtocol),this.hasProtocol()?this.v:e+"://"+this.v},hasProtocol:function(){var e=this.tk;return e.length>=2&&e[0].t!==Nf&&e[1].t===ya}}),mn=function(e){return new Or(e)};function cte(t){var e=t.groups,n=e.domain.concat([mp,_p,Du,vp,yp,bp,Ep,wp,Xo,pp,Dp,kp,Sp,xp,Ri,Ip,Jh,Tp]),r=[Fp,wu,Os,Eu,Bs,ya,WE,Jo,YE,Wh,bu,zh,Yh,Cp,JE,XE],o=[mp,Fp,_p,vp,yp,bp,Os,Ep,wp,Xo,pp,bu,Dp,kp,Sp,xp,Cp,Ri,Ip,Jh,Tp],i=mn(),a=Ke(i,Jh);it(a,o,a),it(a,e.domain,a);var l=mn(),u=mn(),d=mn();it(i,e.domain,l),it(i,e.scheme,u),it(i,e.slashscheme,d),it(l,o,a),it(l,e.domain,l);var s=Ke(l,Du);Ke(a,Du,s);var g=Ke(a,Jo);it(g,o,a),it(g,e.domain,a);var c=mn();it(s,e.domain,c),it(c,e.domain,c);var h=Ke(c,Jo);it(h,e.domain,c);var _=mn(_9);it(h,e.tld,_),it(h,e.utld,_),Ke(s,Nf,_);var F=Ke(c,Xo);it(F,e.domain,c),it(_,e.domain,c),Ke(_,Jo,h),Ke(_,Xo,F);var m=Ke(_,ya);it(m,e.numeric,_9);var p=Ke(l,Xo),f=Ke(l,Jo);it(p,e.domain,l),it(f,o,a),it(f,e.domain,l);var v=mn(ws);it(f,e.tld,v),it(f,e.utld,v),it(v,e.domain,l),it(v,o,a),Ke(v,Jo,f),Ke(v,Xo,p),Ke(v,Du,s);var y=Ke(v,ya),w=mn(ws);it(y,e.numeric,w);var b=mn(ws),S=mn();it(b,n,b),it(b,r,S),it(S,n,b),it(S,r,S),Ke(v,Ri,b),Ke(w,Ri,b);var x=Ke(u,ya),N=Ke(d,ya),U=Ke(N,Ri);Ke(U,Ri,x),it(u,e.domain,l),Ke(u,Jo,f),Ke(u,Xo,p),it(d,e.domain,l),Ke(d,Jo,f),Ke(d,Xo,p),it(x,e.domain,b),Ke(x,Ri,b);var q=Ke(b,bu),P=Ke(b,zh),G=Ke(b,Wh),C=Ke(b,Yh);Ke(S,bu,q),Ke(S,zh,P),Ke(S,Wh,G),Ke(S,Yh,C),Ke(q,Os,b),Ke(P,Eu,b),Ke(G,wu,b),Ke(C,Bs,b),Ke(q,Os,b);var I=mn(ws),M=mn(ws),A=mn(ws),$=mn(ws);it(q,n,I),it(P,n,M),it(G,n,A),it(C,n,$);var Y=mn(),T=mn(),D=mn(),R=mn();return it(q,r),it(P,r),it(G,r),it(C,r),it(I,n,I),it(M,n,M),it(A,n,A),it($,n,$),it(I,r,I),it(M,r,M),it(A,r,A),it($,r,$),it(Y,n,Y),it(T,n,M),it(D,n,A),it(R,n,$),it(Y,r,Y),it(T,r,T),it(D,r,D),it(R,r,R),Ke(M,Eu,b),Ke(A,wu,b),Ke($,Bs,b),Ke(I,Os,b),Ke(T,Eu,b),Ke(D,wu,b),Ke(R,Bs,b),Ke(Y,Bs,b),Ke(i,Nf,v),Ke(i,zE,ute),{start:i,tokens:H5}}function dte(t,e,n){for(var r=n.length,o=0,i=[],a=[];o<r;){for(var l=t,u=null,d=null,s=0,g=null,c=-1;o<r&&!(u=l.go(n[o].t));)a.push(n[o++]);for(;o<r&&(d=u||l.go(n[o].t));)u=null,l=d,l.accepts()?(c=0,g=l):c>=0&&c++,o++,s++;if(c<0)o-=s,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(k2(v9,e,a)),a=[]),o-=c,s-=c;var h=g.t,_=n.slice(o-s,o);i.push(k2(h,e,_))}}return a.length>0&&i.push(k2(v9,e,a)),i}function k2(t,e,n){var r=n[0].s,o=n[n.length-1].e,i=e.slice(r,o);return new t(i,n)}var Zn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function hte(){Zn.scanner=ite(Zn.customSchemes);for(var t=0;t<Zn.tokenQueue.length;t++)Zn.tokenQueue[t][1]({scanner:Zn.scanner});Zn.parser=cte(Zn.scanner.tokens);for(var e=0;e<Zn.pluginQueue.length;e++)Zn.pluginQueue[e][1]({scanner:Zn.scanner,parser:Zn.parser});Zn.initialized=!0}function fte(t){return Zn.initialized||hte(),dte(Zn.parser.start,t,ate(Zn.scanner.start,t))}var gte={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},pte=/^#[xX]([A-Fa-f0-9]+)$/,mte=/^#([0-9]+)$/,Fte=/^([A-Za-z0-9]+)$/,_te=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(pte);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(mte),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(Fte),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),vte=/[\t\n\f ]/,yte=/[A-Za-z]/,bte=/\r\n?/g;function Nn(t){return vte.test(t)}function y9(t){return yte.test(t)}function Ete(t){return t.replace(bte,`
`)}var wte=function(){function t(e,n,r){r===void 0&&(r="precompile"),this.delegate=e,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var i=this.peek();if(i==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&i===`
`){var a=this.tagNameBuffer.toLowerCase();(a==="pre"||a==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var i=this.peek(),a=this.tagNameBuffer;i==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):i==="&"&&a!=="script"&&a!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(i))},tagOpen:function(){var i=this.consume();i==="!"?this.transitionTo("markupDeclarationOpen"):i==="/"?this.transitionTo("endTagOpen"):(i==="@"||i===":"||y9(i))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(i))},markupDeclarationOpen:function(){var i=this.consume();if(i==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var a=i.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();a==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var i=this.consume();Nn(i)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var i=this.consume();Nn(i)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase()))},doctypeName:function(){var i=this.consume();Nn(i)?this.transitionTo("afterDoctypeName"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase())},afterDoctypeName:function(){var i=this.consume();if(!Nn(i))if(i===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var a=i.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),l=a.toUpperCase()==="PUBLIC",u=a.toUpperCase()==="SYSTEM";(l||u)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),l?this.transitionTo("afterDoctypePublicKeyword"):u&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var i=this.peek();Nn(i)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):i==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):i==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):i===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},doctypePublicIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},afterDoctypePublicIdentifier:function(){var i=this.consume();Nn(i)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var i=this.consume();Nn(i)||(i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},doctypeSystemIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},afterDoctypeSystemIdentifier:function(){var i=this.consume();Nn(i)||i===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var i=this.consume();i==="-"?this.transitionTo("commentStartDash"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(i),this.transitionTo("comment"))},commentStartDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var i=this.consume();i==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(i)},commentEndDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+i),this.transitionTo("comment"))},commentEnd:function(){var i=this.consume();i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+i),this.transitionTo("comment"))},tagName:function(){var i=this.consume();Nn(i)?this.transitionTo("beforeAttributeName"):i==="/"?this.transitionTo("selfClosingStartTag"):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(i)},endTagName:function(){var i=this.consume();Nn(i)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):i==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(i)},beforeAttributeName:function(){var i=this.peek();if(Nn(i)){this.consume();return}else i==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var i=this.peek();Nn(i)?(this.transitionTo("afterAttributeName"),this.consume()):i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==='"'||i==="'"||i==="<"?(this.delegate.reportSyntaxError(i+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(i)):(this.consume(),this.delegate.appendToAttributeName(i))},afterAttributeName:function(){var i=this.peek();if(Nn(i)){this.consume();return}else i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i))},beforeAttributeValue:function(){var i=this.peek();Nn(i)?this.consume():i==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(i))},attributeValueDoubleQuoted:function(){var i=this.consume();i==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueSingleQuoted:function(){var i=this.consume();i==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueUnquoted:function(){var i=this.peek();Nn(i)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):i===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(i))},afterAttributeValueQuoted:function(){var i=this.peek();Nn(i)?(this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var i=this.peek();i===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var i=this.consume();(i==="@"||i===":"||y9(i))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(i))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Ete(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),r=this.entityParser.parse(n);if(r){for(var o=n.length;o;)this.consume(),o--;return this.consume(),r}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Dte=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new wte(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function kte(t,e){var n=new Dte(new _te(gte),e);return n.tokenize(t)}var W5="LinkifyResult",Rp="StartTag",Y5="EndTag",Wy="Chars",Ste="Comment",xte="Doctype";function Cte(t,e){e===void 0&&(e={});for(var n=kte(t),r=[],o=[],i=new QE(e,Rte),a=0;a<n.length;a++){var l=n[a];if(l.type===Rp){r.push(l);var u=l.tagName.toUpperCase(),d=u==="A"||i.ignoreTags.indexOf(u)>=0;if(!d)continue;var s=r.length;Ite(u,n,++a,r),a+=r.length-s-1}else if(l.type!==Wy)r.push(l);else{var g=Tte(l.chars,i);r.push.apply(r,g)}}for(var c=0;c<r.length;c++){var h=r[c];switch(h.type){case W5:o.push(h.rendered);break;case Rp:{var _="<"+h.tagName;h.attributes.length>0&&(_+=" "+Ote(h.attributes).join(" ")),h.selfClosing&&(_+=" /"),_+=">",o.push(_);break}case Y5:o.push("</"+h.tagName+">");break;case Wy:o.push(Yy(h.chars));break;case Ste:o.push("<!--"+Yy(h.chars)+"-->");break;case xte:{var F="<!DOCTYPE "+h.name;h.publicIdentifier&&(F+=' PUBLIC "'+h.publicIdentifier+'"'),h.systemIdentifier&&(F+=' "'+h.systemIdentifier+'"'),F+=">",o.push(F);break}}}return o.join("")}function Tte(t,e){for(var n=fte(t),r=[],o=0;o<n.length;o++){var i=n[o];i.t==="nl"&&e.get("nl2br")?r.push({type:Rp,tagName:"br",attributes:[],selfClosing:!0}):!i.isLink||!e.check(i)?r.push({type:Wy,chars:i.toString()}):r.push({type:W5,rendered:e.render(i)})}return r}function Ite(t,e,n,r){for(var o=1;n<e.length&&o>0;){var i=e[n];i.type===Rp&&i.tagName.toUpperCase()===t?o++:i.type===Y5&&i.tagName.toUpperCase()===t&&o--,r.push(i),n++}return r}function Rte(t){var e=t.tagName,n=t.attributes,r=t.content;return"<"+e+" "+Ate(n)+">"+Yy(r)+"</"+e+">"}function Yy(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function J5(t){return t.replace(/"/g,"&quot;")}function Ate(t){var e=[];for(var n in t){var r=t[n]+"";e.push(n+'="'+J5(r)+'"')}return e.join(" ")}function Ote(t){for(var e=[],n=0;n<t.length;n++){var r=t[n][0],o=t[n][1]+"";e.push(r+'="'+J5(o)+'"')}return e}var xl={exports:{}},mo={},sF={},Bte=0;sF.SAME=Bte;var Pte=1;sF.CAMELCASE=Pte;sF.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(mo,"__esModule",{value:!0});function Mte(t,e){return Nte(t)||Lte(t,e)||Ute(t,e)||jte()}function Nte(t){if(Array.isArray(t))return t}function Lte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,a,l;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(u){i=!0,l=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function Ute(t,e){if(t){if(typeof t=="string")return b9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b9(t,e)}}function b9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X5=0,rs=1,lF=2,uF=3,ZE=4,Q5=5,Z5=6;function $te(t){return On.hasOwnProperty(t)?On[t]:null}function sr(t,e,n,r,o,i,a){this.acceptsBooleans=e===lF||e===uF||e===ZE,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var On={},qte=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];qte.forEach(function(t){On[t]=new sr(t,X5,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=Mte(t,2),n=e[0],r=e[1];On[n]=new sr(n,rs,!1,r,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new sr(t,lF,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new sr(t,lF,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(t){On[t]=new sr(t,uF,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new sr(t,uF,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new sr(t,ZE,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new sr(t,Z5,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new sr(t,Q5,!1,t.toLowerCase(),null,!1,!1)});var ew=/[\-\:]([a-z])/g,tw=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(t){var e=t.replace(ew,tw);On[e]=new sr(e,rs,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(t){var e=t.replace(ew,tw);On[e]=new sr(e,rs,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ew,tw);On[e]=new sr(e,rs,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new sr(t,rs,!1,t.toLowerCase(),null,!1,!1)});var Vte="xlinkHref";On[Vte]=new sr("xlinkHref",rs,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new sr(t,rs,!1,t.toLowerCase(),null,!0,!0)});var nw=sF,Gte=nw.CAMELCASE,Kte=nw.SAME,E9=nw.possibleStandardNames,Hte=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",zte=Hte+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Wte=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+zte+"]*$")),Yte=Object.keys(E9).reduce(function(t,e){var n=E9[e];return n===Kte?t[e]=e:n===Gte?t[e.toLowerCase()]=e:t[e]=n,t},{});mo.BOOLEAN=uF;mo.BOOLEANISH_STRING=lF;mo.NUMERIC=Q5;mo.OVERLOADED_BOOLEAN=ZE;mo.POSITIVE_NUMERIC=Z5;mo.RESERVED=X5;mo.STRING=rs;mo.getPropertyInfo=$te;mo.isCustomAttribute=Wte;mo.possibleStandardNames=Yte;var eB={},w9=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Jte=/\n/g,Xte=/^\s*/,Qte=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Zte=/^:\s*/,ene=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,tne=/^[;\s]*/,nne=/^\s+|\s+$/g,rne=`
`,D9="/",k9="*",Ps="",one="comment",ine="declaration",ane=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function o(_){var F=_.match(Jte);F&&(n+=F.length);var m=_.lastIndexOf(rne);r=~m?_.length-m:r+_.length}function i(){var _={line:n,column:r};return function(F){return F.position=new a(_),d(),F}}function a(_){this.start=_,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function l(_){var F=new Error(e.source+":"+n+":"+r+": "+_);if(F.reason=_,F.filename=e.source,F.line=n,F.column=r,F.source=t,!e.silent)throw F}function u(_){var F=_.exec(t);if(F){var m=F[0];return o(m),t=t.slice(m.length),F}}function d(){u(Xte)}function s(_){var F;for(_=_||[];F=g();)F!==!1&&_.push(F);return _}function g(){var _=i();if(!(D9!=t.charAt(0)||k9!=t.charAt(1))){for(var F=2;Ps!=t.charAt(F)&&(k9!=t.charAt(F)||D9!=t.charAt(F+1));)++F;if(F+=2,Ps===t.charAt(F-1))return l("End of comment missing");var m=t.slice(2,F-2);return r+=2,o(m),t=t.slice(F),r+=2,_({type:one,comment:m})}}function c(){var _=i(),F=u(Qte);if(F){if(g(),!u(Zte))return l("property missing ':'");var m=u(ene),p=_({type:ine,property:S9(F[0].replace(w9,Ps)),value:m?S9(m[0].replace(w9,Ps)):Ps});return u(tne),p}}function h(){var _=[];s(_);for(var F;F=c();)F!==!1&&(_.push(F),s(_));return _}return d(),h()};function S9(t){return t?t.replace(nne,Ps):Ps}var sne=ane;function lne(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,o=sne(t),i=typeof e=="function",a,l,u=0,d=o.length;u<d;u++)r=o[u],a=r.property,l=r.value,i?e(a,l,r):l&&(n||(n={}),n[a]=l);return n}var une=lne,cF={};cF.__esModule=!0;cF.camelCase=void 0;var cne=/^--[a-zA-Z0-9-]+$/,dne=/-([a-z])/g,hne=/^[^-]+$/,fne=/^-(webkit|moz|ms|o|khtml)-/,gne=/^-(ms)-/,pne=function(t){return!t||hne.test(t)||cne.test(t)},mne=function(t,e){return e.toUpperCase()},x9=function(t,e){return"".concat(e,"-")},Fne=function(t,e){return e===void 0&&(e={}),pne(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(gne,x9):t=t.replace(fne,x9),t.replace(dne,mne))};cF.camelCase=Fne;(function(t){var e=Pe&&Pe.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};t.__esModule=!0;var n=e(une),r=cF;function o(i,a){var l={};return!i||typeof i!="string"||(0,n.default)(i,function(u,d){u&&d&&(l[(0,r.camelCase)(u,a)]=d)}),l}t.default=o})(eB);var _ne=X.exports,vne=eB.default;function yne(t,e){if(!t||typeof t!="object")throw new TypeError("First argument must be an object");var n,r,o=typeof e=="function",i={},a={};for(n in t){if(r=t[n],o&&(i=e(n,r),i&&i.length===2)){a[i[0]]=i[1];continue}typeof r=="string"&&(a[r]=n)}return a}function bne(t,e){if(t.indexOf("-")===-1)return e&&typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ene={reactCompat:!0};function wne(t,e){if(t!=null)try{e.style=vne(t,Ene)}catch{e.style={}}}var Dne=_ne.version.split(".")[0]>=16,tB=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function kne(t){return!tB.has(t.name)}var nB={PRESERVE_CUSTOM_ATTRIBUTES:Dne,invertObject:yne,isCustomComponent:bne,setStyleProp:wne,canTextBeChildOfNode:kne,elementsWithNoTextChildren:tB},Eh=mo,C9=nB,rB=function(e){e=e||{};var n={reset:!0,submit:!0},r,o,i,a,l,u={},d=e.type&&n[e.type];for(r in e){if(i=e[r],Eh.isCustomAttribute(r)){u[r]=i;continue}if(o=r.toLowerCase(),a=T9(o),a){switch(l=Eh.getPropertyInfo(a),(a==="checked"||a==="value")&&!d&&(a=T9("default"+o)),u[a]=i,l&&l.type){case Eh.BOOLEAN:u[a]=!0;break;case Eh.OVERLOADED_BOOLEAN:i===""&&(u[a]=!0);break}continue}C9.PRESERVE_CUSTOM_ATTRIBUTES&&(u[r]=i)}return C9.setStyleProp(e.style,u),u};function T9(t){return Eh.possibleStandardNames[t]}var Sne=X.exports,xne=rB,Ap=nB,Cne=Ap.setStyleProp,Tne=Ap.canTextBeChildOfNode;function oB(t,e){e=e||{};for(var n=e.library||Sne,r=n.cloneElement,o=n.createElement,i=n.isValidElement,a=[],l,u,d=typeof e.replace=="function",s,g,c,h=e.trim,_=0,F=t.length;_<F;_++){if(l=t[_],d&&(s=e.replace(l),i(s))){F>1&&(s=r(s,{key:s.key||_})),a.push(s);continue}if(l.type==="text"){if(u=!l.data.trim().length,u&&l.parent&&!Tne(l.parent)||h&&u)continue;a.push(l.data);continue}switch(g=l.attribs,Ine(l)?Cne(g.style,g):g&&(g=xne(g)),c=null,l.type){case"script":case"style":l.children[0]&&(g.dangerouslySetInnerHTML={__html:l.children[0].data});break;case"tag":l.name==="textarea"&&l.children[0]?g.defaultValue=l.children[0].data:l.children&&l.children.length&&(c=oB(l.children,e));break;default:continue}F>1&&(g.key=_),a.push(o(l.name,g,c))}return a.length===1?a[0]:a}function Ine(t){return Ap.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&Ap.isCustomComponent(t.name,t.attribs)}var Rne=oB,I9="html",R9="head",N1="body",Ane=/<([a-zA-Z]+[0-9]?)/,A9=/<head[^]*>/i,O9=/<body[^]*>/i,Op=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Jy=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},B9=typeof window=="object"&&window.DOMParser;if(typeof B9=="function"){var One=new B9,Bne="text/html";Jy=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),One.parseFromString(t,Bne)},Op=Jy}if(typeof document=="object"&&document.implementation){var L1=document.implementation.createHTMLDocument();Op=function(t,e){if(e){var n=L1.documentElement.querySelector(e);return n.innerHTML=t,L1}return L1.documentElement.innerHTML=t,L1}}var S2=typeof document=="object"?document.createElement("template"):{},Xy;S2.content&&(Xy=function(t){return S2.innerHTML=t,S2.content.childNodes});function Pne(t){var e,n=t.match(Ane);n&&n[1]&&(e=n[1].toLowerCase());var r,o,i;switch(e){case I9:return r=Jy(t),A9.test(t)||(o=r.querySelector(R9),o&&o.parentNode.removeChild(o)),O9.test(t)||(o=r.querySelector(N1),o&&o.parentNode.removeChild(o)),r.querySelectorAll(I9);case R9:case N1:return r=Op(t),i=r.querySelectorAll(e),O9.test(t)&&A9.test(t)?i[0].parentNode.childNodes:i;default:return Xy?Xy(t):(o=Op(t,N1).querySelector(N1),o.childNodes)}}var Mne=Pne,rw={},iB={};iB.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var dF=yi,Nne=iB,P9=Nne.CASE_SENSITIVE_TAG_NAMES,Lne=dF.Comment,Une=dF.Element,jne=dF.ProcessingInstruction,$ne=dF.Text,aB={},x2;for(var C2=0,qne=P9.length;C2<qne;C2++)x2=P9[C2],aB[x2.toLowerCase()]=x2;function Vne(t){return aB[t]}function sB(t){for(var e={},n,r=0,o=t.length;r<o;r++)n=t[r],e[n.name]=n.value;return e}function Gne(t){t=t.toLowerCase();var e=Vne(t);return e||t}function lB(t,e,n){e=e||null;for(var r=[],o=0,i=t.length;o<i;o++){var a=t[o],l;switch(a.nodeType){case 1:l=new Une(Gne(a.nodeName),sB(a.attributes)),l.children=lB(a.childNodes,l);break;case 3:l=new $ne(a.nodeValue);break;case 8:l=new Lne(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=l),l.parent=e,l.prev=u,l.next=null,r.push(l)}return n&&(l=new jne(n.substring(0,n.indexOf(" ")).toLowerCase(),n),l.next=r[0]||null,l.parent=e,r.unshift(l),r[1]&&(r[1].prev=r[0])),r}rw.formatAttributes=sB;rw.formatDOM=lB;var Kne=Mne,Hne=rw,zne=Hne.formatDOM,Wne=/<(![a-zA-Z\s]+)>/;function Yne(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(t==="")return[];var e=t.match(Wne),n;return e&&e[1]&&(n=e[1]),zne(Kne(t),null,n)}var Jne=Yne,uB=Rne,Xne=rB,ku=Jne;ku=typeof ku.default=="function"?ku.default:ku;var Qne={lowerCaseAttributeNames:!1};function Nc(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");return t===""?[]:(e=e||{},uB(ku(t,e.htmlparser2||Qne),e))}Nc.domToReact=uB;Nc.htmlToDOM=ku;Nc.attributesToProps=Xne;Nc.Element=yi.Element;xl.exports=Nc;xl.exports.default=Nc;xl.exports.domToReact;xl.exports.htmlToDOM;xl.exports.attributesToProps;xl.exports.Element;const hF=xl.exports;var fF=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:f,toCodePoint:b},onerror:function(){this.parentNode&&this.parentNode.replaceChild(u(this.alt,!1),this)},parse:v,replace:y,test:w},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,o=String.fromCharCode(8205),i=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,l=String.fromCharCode;return t;function u(S,x){return document.createTextNode(x?S.replace(r,""):S)}function d(S){return S.replace(i,F)}function s(S,x){return"".concat(x.base,x.size,"/",S,x.ext)}function g(S,x){for(var N=S.childNodes,U=N.length,q,P;U--;)q=N[U],P=q.nodeType,P===3?x.push(q):P===1&&!("ownerSVGElement"in q)&&!a.test(q.nodeName.toLowerCase())&&g(q,x);return x}function c(S){return b(S.indexOf(o)<0?S.replace(r,""):S)}function h(S,x){for(var N=g(S,[]),U=N.length,q,P,G,C,I,M,A,$,Y,T,D,R,B;U--;){for(G=!1,C=document.createDocumentFragment(),I=N[U],M=I.nodeValue,$=0;A=n.exec(M);){if(Y=A.index,Y!==$&&C.appendChild(u(M.slice($,Y),!0)),D=A[0],R=c(D),$=Y+D.length,B=x.callback(R,x),R&&B){T=new Image,T.onerror=x.onerror,T.setAttribute("draggable","false"),q=x.attributes(D,R);for(P in q)q.hasOwnProperty(P)&&P.indexOf("on")!==0&&!T.hasAttribute(P)&&T.setAttribute(P,q[P]);T.className=x.className,T.alt=D,T.src=B,G=!0,C.appendChild(T)}T||C.appendChild(u(D,!1)),T=null}G&&($<M.length&&C.appendChild(u(M.slice($),!0)),I.parentNode.replaceChild(C,I))}return S}function _(S,x){return y(S,function(N){var U=N,q=c(N),P=x.callback(q,x),G,C;if(q&&P){U="<img ".concat('class="',x.className,'" ','draggable="false" ','alt="',N,'"',' src="',P,'"'),G=x.attributes(N,q);for(C in G)G.hasOwnProperty(C)&&C.indexOf("on")!==0&&U.indexOf(" "+C+"=")===-1&&(U=U.concat(" ",C,'="',d(G[C]),'"'));U=U.concat("/>")}return U})}function F(S){return e[S]}function m(){return null}function p(S){return typeof S=="number"?S+"x"+S:S}function f(S){var x=typeof S=="string"?parseInt(S,16):S;return x<65536?l(x):(x-=65536,l(55296+(x>>10),56320+(x&1023)))}function v(S,x){return(!x||typeof x=="function")&&(x={callback:x}),(typeof S=="string"?_:h)(S,{callback:x.callback||s,attributes:typeof x.attributes=="function"?x.attributes:m,base:typeof x.base=="string"?x.base:t.base,ext:x.ext||t.ext,size:x.folder||p(x.size||t.size),className:x.className||t.className,onerror:x.onerror||t.onerror})}function y(S,x){return String(S).replace(n,x)}function w(S){n.lastIndex=0;var x=n.test(S);return n.lastIndex=0,x}function b(S,x){for(var N=[],U=0,q=0,P=0;P<S.length;)U=S.charCodeAt(P++),q?(N.push((65536+(q-55296<<10)+(U-56320)).toString(16)),q=0):55296<=U&&U<=56319?q=U:N.push(U.toString(16));return N.join(x||"-")}}();const Uf="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/",Zne=X.exports.lazy(()=>Qee(()=>import("./Math-925b9553.js"),["./Math-925b9553.js","./Math-be8262ce.css"],import.meta.url)),ere={replace:t=>{var n;const e=(n=t.attribs)==null?void 0:n["data-mx-maths"];return e?E(X.exports.Suspense,{fallback:E("code",{children:e}),children:E(Zne,{content:e,throwOnError:!1,errorColor:"var(--tc-danger-normal)",displayMode:t.name==="div"})}):null}};function We(t,e,n=!1,r=!0,o=!1){if(typeof t!="string")return t;let i=t;const a=e??{base:Uf};return a.base||(a.base=Uf),r&&(i=Cy(i)),i=fF.parse(i,a),n&&(i=Cte(i,{target:"_blank",rel:"noreferrer noopener"})),hF(i,o?ere:null)}const tre="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cg%3e%20%3cpolygon%20fill='%237F7F7F'%20points='20%2c7%2020%2c5%2018%2c5%2018%2c7%2016%2c7%2016%2c5%2018%2c5%2018%2c3%2016%2c3%2016%2c2%203%2c2%203%2c22%2011%2c22%2011%2c20%2019%2c12%2021%2c12%2021%2c7%20'/%3e%20%3cpolygon%20fill='%237F7F7F'%20points='19%2c16%2021%2c16%2021%2c22%2015%2c22%2015%2c20%2019%2c20%20'/%3e%20%3c/g%3e%20%3cpolygon%20fill='%236FBEFF'%20points='19%2c9%2014%2c9%2014%2c4%205%2c4%205%2c20%2011%2c20%2013%2c20%2013%2c18%2015%2c18%2015%2c16%2017%2c16%2017%2c14%2019%2c14%20'/%3e%20%3cpolygon%20fill='white'%20points='7%2c10%2012%2c10%2012%2c8%2010%2c8%2010%2c7%208%2c7%208%2c8%207%2c8%20'/%3e%20%3cg%3e%20%3crect%20x='17'%20y='18'%20fill='%2300C72C'%20width='2'%20height='2'/%3e%20%3cpolygon%20fill='%2300C72C'%20points='5%2c20%205%2c18%207%2c18%207%2c16%209%2c16%209%2c14%2011%2c14%2011%2c12%2013%2c12%2013%2c14%2015%2c14%2015%2c18%2013%2c18%2013%2c20%20'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",Jt=nn.forwardRef(({text:t,bgColor:e,iconSrc:n,iconColor:r,imageSrc:o,size:i},a)=>{let l="s1";return i==="large"&&(l="h1"),i==="small"&&(l="b1"),i==="extra-small"&&(l="b3"),E("div",{ref:a,className:`avatar-container avatar-container__${i} noselect`,children:o!==null?E("img",{draggable:"false",src:o,onLoad:u=>{u.target.style.backgroundColor="transparent"},onError:u=>{u.target.src=tre},alt:""}):E("span",{style:{backgroundColor:n===null?e:"transparent"},className:`avatar__border${n!==null?"--active":""}`,children:n!==null?E(It,{size:i,src:n,color:r}):t!==null&&E(ue,{variant:l,primary:!0,children:We(LA(t))})})})});Jt.defaultProps={text:null,bgColor:"transparent",iconSrc:null,iconColor:null,imageSrc:null,size:"normal"};Jt.propTypes={text:J.exports.string,bgColor:J.exports.string,iconSrc:J.exports.string,iconColor:J.exports.string,imageSrc:J.exports.string,size:J.exports.oneOf(["large","normal","small","extra-small"])};function os({content:t,placement:e,maxWidth:n,render:r,afterToggle:o}){const[i,a]=X.exports.useState(!1),l=()=>a(!0),u=()=>a(!1);return X.exports.useEffect(()=>{o!==null&&o(i)},[i]),E(j5,{animation:"scale-extreme",className:"context-menu",visible:i,onClickOutside:u,content:E(Kt,{invisible:!0,children:typeof t=="function"?t(u):t}),placement:e,interactive:!0,arrow:!1,maxWidth:n,duration:200,children:r(i?u:l)})}os.defaultProps={maxWidth:"unset",placement:"right",afterToggle:null};os.propTypes={content:J.exports.oneOfType([J.exports.node,J.exports.func]).isRequired,placement:J.exports.oneOf(["top","right","bottom","left"]),maxWidth:J.exports.oneOfType([J.exports.string,J.exports.number]),render:J.exports.func.isRequired,afterToggle:J.exports.func};function ut({children:t}){return E("div",{className:"context-menu__header",children:E(ue,{variant:"b3",children:t})})}ut.propTypes={children:J.exports.node.isRequired};function ft({variant:t,iconSrc:e,type:n,onClick:r,children:o,disabled:i}){return E("div",{className:"context-menu__item",children:E(Me,{variant:t,iconSrc:e,type:n,onClick:r,disabled:i,children:o})})}ft.defaultProps={variant:"surface",iconSrc:null,type:"button",disabled:!1,onClick:null};ft.propTypes={variant:J.exports.oneOf(["surface","positive","caution","danger"]),iconSrc:J.exports.string,type:J.exports.oneOf(["button","submit"]),onClick:J.exports.func,children:J.exports.node.isRequired,disabled:J.exports.bool};function nre(){return E("div",{style:{borderBottom:"1px solid var(--bg-surface-border)"},children:" "})}const fn="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='4.2%2c9.2%205.6%2c7.8%2012%2c14.2%2018.4%2c7.8%2019.8%2c9.2%2012%2c17%20'/%3e%20%3c/g%3e%20%3c/svg%3e",Qy="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cpath%20d='M12%2019C7.6%2019%204%2015%202.7%2013.2C2.1%2012.5%202.1%2011.5%202.7%2010.8C4%209%207.6%205%2012%205C16.4%205%2020%209%2021.3%2010.8C21.9%2011.5%2021.9%2012.5%2021.3%2013.2C20%2015%2016.4%2019%2012%2019ZM12%207C8.4%207%205.1%2010.8%204.2%2012C5.1%2013.2%208.4%2017%2012%2017C15.6%2017%2018.9%2013.2%2019.8%2012C18.9%2010.8%2015.6%207%2012%207Z'%20fill='black'/%3e%20%3cpath%20d='M12%2015C13.6569%2015%2015%2013.6569%2015%2012C15%2010.3431%2013.6569%209%2012%209C10.3431%209%209%2010.3431%209%2012C9%2013.6569%2010.3431%2015%2012%2015Z'%20fill='black'/%3e%20%3c/svg%3e",Zy="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.92896%203.51471L3.51474%204.92892L5.97515%207.38933C4.46742%208.5776%203.32116%209.93994%202.7%2010.8C2.1%2011.5%202.1%2012.5%202.7%2013.2C4%2015%207.6%2019%2012%2019C13.5709%2019%2015.0398%2018.4902%2016.3384%2017.7526L19.0711%2020.4853L20.4853%2019.0711L4.92896%203.51471ZM4.2%2012C4.68291%2011.3561%205.85678%209.9637%207.39721%208.81139L9.29238%2010.7066C9.10496%2011.0982%209%2011.5368%209%2012C9%2013.6569%2010.3431%2015%2012%2015C12.4632%2015%2012.9018%2014.895%2013.2934%2014.7076L14.8573%2016.2715C13.9566%2016.7128%2012.9896%2017%2012%2017C8.4%2017%205.1%2013.2%204.2%2012Z'%20fill='black'/%3e%20%3cpath%20d='M9.6226%205.37995L11.2906%207.04797C11.5254%207.01661%2011.762%207%2012%207C15.6%207%2018.9%2010.8%2019.8%2012C19.493%2012.4094%2018.9066%2013.1213%2018.1244%2013.8817L19.5194%2015.2768C20.2973%2014.4974%2020.9049%2013.7471%2021.3%2013.2C21.9%2012.5%2021.9%2011.5%2021.3%2010.8C20%209%2016.4%205%2012%205C11.1762%205%2010.3805%205.14021%209.6226%205.37995Z'%20fill='black'/%3e%20%3c/svg%3e";function ow({type:t,identityProviders:e,baseUrl:n}){const r=Dl(n);function o(i){Lz(n,t,i)}return E("div",{className:"sso-buttons",children:e.sort((i,a)=>typeof i.icon!="string"?-1:i.name.toLowerCase()>a.name.toLowerCase()?1:-1).map(i=>i.icon?E("button",{type:"button",className:"sso-btn",onClick:()=>o(i.id),children:E("img",{className:"sso-btn__img",src:r.mxcUrlToHttp(i.icon),alt:i.name})},i.id):E(Me,{className:"sso-btn__text-only",onClick:()=>o(i.id),children:`Login with ${i.name}`},i.id))})}ow.propTypes={identityProviders:J.exports.arrayOf(J.exports.shape({})).isRequired,baseUrl:J.exports.string.isRequired,type:J.exports.oneOf(["sso","cas"]).isRequired};function Cl({avatarSrc:t,name:e,color:n,peopleRole:r,onClick:o}){return E("div",{className:"people-selector__container",children:re("button",{className:"people-selector",onMouseUp:i=>bi(i,".people-selector"),onClick:o,type:"button",children:[E(Jt,{imageSrc:t,text:e,bgColor:n,size:"extra-small"}),E(ue,{className:"people-selector__name",variant:"b1",children:We(e)}),r!==null&&E(ue,{className:"people-selector__role",variant:"b3",children:r})]})})}Cl.defaultProps={avatarSrc:null,peopleRole:null};Cl.propTypes={avatarSrc:J.exports.string,name:J.exports.string.isRequired,color:J.exports.string.isRequired,peopleRole:J.exports.string,onClick:J.exports.func.isRequired};const rre=/^[a-z0-9_\-.=/]+$/,ore="Username can only contain characters a-z, 0-9, or '=_-./'",ire="Your user ID, including the hostname, can't be more than 255 characters long.",are=/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\w\d\s:])([^\s]){8,127}$/,sre="Password must contain at least 1 lowercase, 1 uppercase, 1 number, 1 non-alphanumeric character, 8-127 characters with no space.",lre="Passwords don't match.",cB=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,dB="Invalid email address";function wh(t,e){return typeof e=="string"?e===t:e.test(t)}function ure(t){return(t.indexOf("@")===0?t.substr(1):t).trim()}let U1=null;function hB({onChange:t}){const[e,n]=X.exports.useState(null),[r]=X.exports.useState(new jm),[o,i]=X.exports.useState({isLoading:!0,message:"Loading homeserver list..."}),a=X.exports.useRef(),l=async d=>{i({isLoading:!0,message:"Looking for homeserver..."});let s=null;if(s=await F5(d),U1!==d)return;i({isLoading:!0,message:`Connecting to ${s}...`});const g=Dl(s);Promise.allSettled([g.loginFlows(),g.register()]).then(c=>{var F,m,p;const h=c[0].status==="fulfilled"?(F=c[0])==null?void 0:F.value:void 0,_=c[1].status==="rejected"?(p=(m=c[1])==null?void 0:m.reason)==null?void 0:p.data:void 0;if(h===void 0||_===void 0)throw new Error;U1===d&&(t({baseUrl:s,login:h,register:_}),i({isLoading:!1}))}).catch(()=>{U1===d&&(t(null),i({isLoading:!1,error:"Unable to connect. Please check your input."}))})};return X.exports.useEffect(()=>{t(null),!(e===null||(e==null?void 0:e.selected.trim())==="")&&(U1=e.selected,l(e.selected))},[e]),X.exports.useEffect(async()=>{const d=window.location.href,s=`${d}${d[d.length-1]==="/"?"":"/"}config.json`;try{const g=await(await fetch(s,{method:"GET"})).json(),c=g==null?void 0:g.defaultHomeserver,h=g==null?void 0:g.homeserverList,_=(g==null?void 0:g.allowCustomHomeservers)??!0;if(!(h!=null&&h.length)>0||c<0||c>=(h==null?void 0:h.length))throw new Error;n({selected:h[c],list:h,allowCustom:_})}catch{n({selected:"matrix.org",list:["matrix.org"],allowCustom:!0})}},[]),re(Qe,{children:[re("div",{className:"homeserver-form",children:[E(dt,{name:"homeserver",onChange:d=>{const{value:s}=d.target;i({isLoading:!1}),r._(async()=>{n({...e,selected:s.trim()})},700)()},value:e==null?void 0:e.selected,forwardRef:a,label:"Homeserver",disabled:e===null||!e.allowCustom}),E(os,{placement:"right",content:d=>re(Qe,{children:[E(ut,{children:"Homeserver list"}),e==null?void 0:e.list.map(s=>E(ft,{onClick:()=>{d(),a.current.value=s,n({...e,selected:s})},children:s},s))]}),render:d=>E(Ye,{onClick:d,src:fn})})]}),o.error!==void 0&&E(ue,{className:"homeserver-form__error",variant:"b3",children:o.error}),o.isLoading&&re("div",{className:"homeserver-form__status flex--center",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:o.message})]})]})}hB.propTypes={onChange:J.exports.func.isRequired};function fB({loginFlow:t,baseUrl:e}){const[n,r]=X.exports.useState(0),[o,i]=X.exports.useState(!1),a=["Username","Email"],l=t==null?void 0:t.filter(c=>c.type==="m.login.password")[0],u=t==null?void 0:t.filter(c=>c.type==="m.login.sso")[0];return re(Qe,{children:[re("div",{className:"auth-form__heading",children:[E(ue,{variant:"h2",weight:"medium",children:"Login"}),l&&E(os,{placement:"right",content:c=>a.map((h,_)=>E(ft,{onClick:()=>{c(),r(_)},children:h},h)),render:c=>E(Me,{onClick:c,iconSrc:fn,children:a[n]})})]}),l&&E(O3,{initialValues:{username:"",password:"",email:"",other:""},onSubmit:async(c,h)=>{let _=e,{username:F}=c;const m=F.match(/^@(.+):(.+\..+)$/);return n===0&&m&&([,F,_]=m,_=await F5(_)),Uz(_,n===0?ure(F):void 0,n===1?c.email:void 0,c.password).then(()=>{h.setSubmitting(!0),window.location.reload()}).catch(p=>{let f=p.message;f==="Unknown message"&&(f="Please check your credentials"),h.setErrors({password:f==="Invalid password"?f:void 0,other:f!=="Invalid password"?f:void 0}),h.setSubmitting(!1)})},validate:c=>{const h={};return n===1&&c.email.length>0&&!wh(c.email,cB)&&(h.email=dB),h},children:({values:c,errors:h,handleChange:_,handleSubmit:F,isSubmitting:m})=>re(Qe,{children:[m&&E(jf,{message:"Login in progress..."}),re("form",{className:"auth-form",onSubmit:F,children:[n===0&&E(dt,{values:c.username,name:"username",onChange:_,label:"Username",type:"username",required:!0}),h.username&&E(ue,{className:"auth-form__error",variant:"b3",children:h.username}),n===1&&E(dt,{values:c.email,name:"email",onChange:_,label:"Email",type:"email",required:!0}),h.email&&E(ue,{className:"auth-form__error",variant:"b3",children:h.email}),re("div",{className:"auth-form__pass-eye-wrapper",children:[E(dt,{values:c.password,name:"password",onChange:_,label:"Password",type:o?"text":"password",required:!0}),E(Ye,{onClick:()=>i(!o),src:o?Qy:Zy,size:"extra-small"})]}),h.password&&E(ue,{className:"auth-form__error",variant:"b3",children:h.password}),h.other&&E(ue,{className:"auth-form__error",variant:"b3",children:h.other}),E("div",{className:"auth-form__btns",children:E(Me,{variant:"primary",type:"submit",disabled:m,children:"Login"})})]})]})}),u&&l&&E(ue,{className:"sso__divider",children:"OR"}),u&&E(ow,{type:"sso",identityProviders:u.identity_providers,baseUrl:e})]})}fB.propTypes={loginFlow:J.exports.arrayOf(J.exports.shape({})).isRequired,baseUrl:J.exports.string.isRequired};let T2,j1;function gB({registerInfo:t,loginFlow:e,baseUrl:n}){const[r,o]=X.exports.useState({}),[i,a]=X.exports.useState(!1),[l,u]=X.exports.useState(!1),d=X.exports.useRef(),s=e==null?void 0:e.filter(P=>P.type==="m.login.sso")[0],g=t.errcode!==void 0,{flows:c,params:h,session:_}=t;let F=!1,m=!0,p=!1,f=!1,v=!1;c==null||c.forEach(P=>{m&&P.stages.indexOf("m.login.email.identity")===-1&&(m=!1),F||(F=P.stages.indexOf("m.login.email.identity")>-1),p||(p=P.stages.indexOf("m.login.recaptcha")>-1),f||(f=P.stages.indexOf("m.login.terms")>-1),v||(v=P.stages.indexOf("m.login.dummy")>-1)});const y={username:"",password:"",confirmPassword:"",email:"",other:""},w=P=>{const G={};return P.username.list>255&&(G.username=ire),P.username.length>0&&!wh(P.username,rre)&&(G.username=ore),P.password.length>0&&!wh(P.password,are)&&(G.password=sre),P.confirmPassword.length>0&&!wh(P.confirmPassword,P.password)&&(G.confirmPassword=lre),P.email.length>0&&!wh(P.email,cB)&&(G.email=dB),G},b=(P,G)=>{const C=Dl(n);return j1=C.generateClientSecret(),C.isUsernameAvailable(P.username).then(async I=>{if(!I){G.setErrors({username:"Username is already taken"}),G.setSubmitting(!1);return}if(F&&P.email.length>0){const M=await $z(n,P.email,j1,1);if(M.errcode){M.errcode==="M_THREEPID_IN_USE"?G.setErrors({email:M.error}):G.setErrors({others:M.error||M.message}),G.setSubmitting(!1);return}T2=M.sid}o({type:"processing",message:"Registration in progress...."}),G.setSubmitting(!1)}).catch(I=>{const M=I.message||I.error;["M_USER_IN_USE","M_INVALID_USERNAME","M_EXCLUSIVE"].indexOf(I.errcode)>-1?G.setErrors({username:I.errcode==="M_USER_IN_USE"?"Username is already taken":M}):M&&G.setErrors({other:M}),G.setSubmitting(!1)})},S=()=>window.location.reload(),x=()=>{var G;const P=d.current;return[P.username.value,P.password.value,(G=P==null?void 0:P.email)==null?void 0:G.value]};X.exports.useEffect(()=>{if(r.type!=="processing")return;(async()=>{const[G,C,I]=x(),M=await Zd(n,G,C,{session:_});if(p&&!M.completed.includes("m.login.recaptcha")){const A=h["m.login.recaptcha"].public_key;o({type:"m.login.recaptcha",sitekey:A});return}if(f&&!M.completed.includes("m.login.terms")){const A=h["m.login.terms"].policies.privacy_policy,$=(A==null?void 0:A.en.url)||A[Object.keys(A)[0]].url;o({type:"m.login.terms",url:$});return}if(F&&I.length>0){o({type:"m.login.email.identity",email:I});return}v&&(await Zd(n,G,C,{type:"m.login.dummy",session:_})).done&&S()})()},[r]);const N=async P=>{if(typeof P!="string")return;const[G,C]=x();(await Zd(n,G,C,{type:"m.login.recaptcha",response:P,session:_})).done?S():o({type:"processing",message:"Registration in progress..."})},U=async()=>{const[P,G]=x();(await Zd(n,P,G,{type:"m.login.terms",session:_})).done?S():o({type:"processing",message:"Registration in progress..."})},q=async()=>{const[P,G]=x();(await Zd(n,P,G,{type:"m.login.email.identity",threepidCreds:{sid:T2,client_secret:j1},threepid_creds:{sid:T2,client_secret:j1},session:_})).done?S():o({type:"processing",message:"Registration in progress..."})};return re(Qe,{children:[r.type==="processing"&&E(jf,{message:r.message}),r.type==="m.login.recaptcha"&&E(pB,{message:"Please check the box below to proceed.",sitekey:r.sitekey,onChange:N}),r.type==="m.login.terms"&&E(mB,{url:r.url,onSubmit:U}),r.type==="m.login.email.identity"&&E(FB,{email:r.email,onContinue:q}),re("div",{className:"auth-form__heading",children:[!g&&E(ue,{variant:"h2",weight:"medium",children:"Register"}),g&&E(ue,{className:"auth-form__error",children:t.error})]}),!g&&E(O3,{initialValues:y,onSubmit:b,validate:w,children:({values:P,errors:G,handleChange:C,handleSubmit:I,isSubmitting:M})=>re(Qe,{children:[r.type===void 0&&M&&E(jf,{message:"Registration in progress..."}),re("form",{className:"auth-form",ref:d,onSubmit:I,children:[E(dt,{values:P.username,name:"username",onChange:C,label:"Username",type:"username",required:!0}),G.username&&E(ue,{className:"auth-form__error",variant:"b3",children:G.username}),re("div",{className:"auth-form__pass-eye-wrapper",children:[E(dt,{values:P.password,name:"password",onChange:C,label:"Password",type:i?"text":"password",required:!0}),E(Ye,{onClick:()=>a(!i),src:i?Qy:Zy,size:"extra-small"})]}),G.password&&E(ue,{className:"auth-form__error",variant:"b3",children:G.password}),re("div",{className:"auth-form__pass-eye-wrapper",children:[E(dt,{values:P.confirmPassword,name:"confirmPassword",onChange:C,label:"Confirm password",type:l?"text":"password",required:!0}),E(Ye,{onClick:()=>u(!l),src:l?Qy:Zy,size:"extra-small"})]}),G.confirmPassword&&E(ue,{className:"auth-form__error",variant:"b3",children:G.confirmPassword}),F&&E(dt,{values:P.email,name:"email",onChange:C,label:`Email${m?"":" (optional)"}`,type:"email",required:m}),G.email&&E(ue,{className:"auth-form__error",variant:"b3",children:G.email}),G.other&&E(ue,{className:"auth-form__error",variant:"b3",children:G.other}),E("div",{className:"auth-form__btns",children:E(Me,{variant:"primary",type:"submit",disabled:M,children:"Register"})})]})]})}),g&&s&&E(ow,{type:"sso",identityProviders:s.identity_providers,baseUrl:n})]})}gB.propTypes={registerInfo:J.exports.shape({}).isRequired,loginFlow:J.exports.arrayOf(J.exports.shape({})).isRequired,baseUrl:J.exports.string.isRequired};function cre(){const[t,e]=X.exports.useState(null),[n,r]=X.exports.useState("login");return re(Qe,{children:[E(hB,{onChange:i=>{console.log(i),e(i)}}),t!==null&&(n==="login"?E(fB,{loginFlow:t.login.flows,baseUrl:t.baseUrl}):E(gB,{registerInfo:t.register,loginFlow:t.login.flows,baseUrl:t.baseUrl})),t!==null&&re(ue,{variant:"b2",className:"auth-card__switch flex--center",children:[`${n==="login"?"Don't have":"Already have"} an account?`,E("button",{type:"button",style:{color:"var(--tc-link)",cursor:"pointer",margin:"0 var(--sp-ultra-tight)"},onClick:()=>r(n==="login"?"register":"login"),children:n==="login"?" Register":" Login"})]})]})}function dre(){const[t,e]=X.exports.useState(Gz("loginToken"));return X.exports.useEffect(async()=>{if(!t)return;if(window.userLocalStorage.getItem(te.secretKey.BASE_URL)===void 0){e(null);return}const n=window.userLocalStorage.getItem(te.secretKey.BASE_URL);try{await jz(n,t);const{href:r}=window.location;window.location.replace(r.slice(0,r.indexOf("?")))}catch{e(null)}},[]),E(Kt,{invisible:!0,children:re("div",{className:"auth__base",children:[re("div",{className:"auth__wrapper",children:[t&&E(jf,{message:"Redirecting..."}),!t&&re("div",{className:"auth-card",children:[re(Hi,{children:[E(Jt,{size:"extra-small",imageSrc:Bf}),E(pi,{children:E(ue,{variant:"h2",weight:"medium",children:"Cinny"})})]}),(()=>{let n=JSON.parse(window.localStorage.getItem("loggedInUsers"));if(!n){const r=window.localStorage.getItem("cinny_user_id");r?(window.localStorage.setItem("loggedInUsers",JSON.stringify([r])),window.localStorage.setItem("currentUser",r),window.localStorage.setItem(`${r}.cinny_access_token`,window.localStorage.getItem("cinny_access_token")),window.localStorage.setItem(`${r}.cinny_device_id`,window.localStorage.getItem("cinny_device_id")),window.localStorage.setItem(`${r}.cinny_hs_base_url`,window.localStorage.getItem("cinny_hs_base_url")),window.localStorage.setItem(`${r}.cinny_user_id`,window.localStorage.getItem("cinny_user_id"))):n=[]}return n.map(r=>E(Cl,{onClick:()=>{window.localStorage.setItem("currentUser",r),window.location.reload()},name:r,color:ln(r)},r))})(),E("div",{className:"auth-card__content",children:E(cre,{})})]})]}),re("div",{className:"auth-footer",children:[E(ue,{variant:"b2",children:E("a",{href:"https://cinny.in",target:"_blank",rel:"noreferrer",children:"About"})}),E(ue,{variant:"b2",children:E("a",{href:"https://github.com/ajbura/cinny/releases",target:"_blank",rel:"noreferrer",children:`v${te.version}`})}),E(ue,{variant:"b2",children:E("a",{href:"https://twitter.com/cinnyapp",target:"_blank",rel:"noreferrer",children:"Twitter"})}),E(ue,{variant:"b2",children:E("a",{href:"https://matrix.org",target:"_blank",rel:"noreferrer",children:"Powered by Matrix"})})]})]})})}function jf({message:t}){return re(Sg,{children:[E(yt,{}),E("div",{style:{marginTop:"var(--sp-normal)"},children:E(ue,{variant:"b1",children:t})})]})}jf.propTypes={message:J.exports.string.isRequired};function pB({message:t,sitekey:e,onChange:n}){return re(Sg,{children:[E("div",{style:{marginBottom:"var(--sp-normal)"},children:E(ue,{variant:"s1",weight:"medium",children:t})}),E(PL,{sitekey:e,onChange:n})]})}pB.propTypes={message:J.exports.string.isRequired,sitekey:J.exports.string.isRequired,onChange:J.exports.func.isRequired};function mB({url:t,onSubmit:e}){return E(Sg,{children:E("form",{onSubmit:n=>{n.preventDefault(),e()},children:re("div",{style:{margin:"var(--sp-normal)",maxWidth:"450px"},children:[E(ue,{variant:"h2",weight:"medium",children:"Agree with terms"}),E("div",{style:{marginBottom:"var(--sp-normal)"}}),E(ue,{variant:"b1",children:"In order to complete registration, you need to agree to the terms and conditions."}),re("div",{style:{display:"flex",alignItems:"center",margin:"var(--sp-normal) 0"},children:[E("input",{style:{marginRight:"8px"},id:"termsCheckbox",type:"checkbox",required:!0}),re(ue,{variant:"b1",children:["I accept ",E("a",{style:{cursor:"pointer"},href:t,rel:"noreferrer",target:"_blank",children:"Terms and Conditions"})]})]}),E(Me,{id:"termsBtn",type:"submit",variant:"primary",children:"Submit"})]})})})}mB.propTypes={url:J.exports.string.isRequired,onSubmit:J.exports.func.isRequired};function FB({email:t,onContinue:e}){return E(Sg,{children:re("div",{style:{margin:"var(--sp-normal)",maxWidth:"450px"},children:[E(ue,{variant:"h2",weight:"medium",children:"Verify email"}),E("div",{style:{margin:"var(--sp-normal) 0"},children:re(ue,{variant:"b1",children:["Please check your email ",E("b",{children:`(${t})`})," and validate before continuing further."]})}),E(Me,{variant:"primary",onClick:e,children:"Continue"})]})})}FB.propTypes={email:J.exports.string.isRequired};function Sg({children:t}){return E("div",{className:"process-wrapper",children:t})}Sg.propTypes={children:J.exports.node.isRequired};const M9={Read:"m.read",ReadPrivate:"m.read.private"};async function ci(t){const e=Fe.matrixClient,n=e.getRoom(t);if(!n)return;Fe.notifications.deleteNoti(t);const r=n.getLiveTimeline().getEvents(),o=n.getEventReadUpTo(e.getUserId()),i=()=>{for(let u=r.length-1;u>=0;u-=1){const d=r[u];if(d.getId()===o)return null;if(!d.isSending())return d}return null};if(r.length===0)return;const a=i();if(a===null)return;const l=at.sendReadReceipts?M9.Read:M9.ReadPrivate;await e.sendReadReceipt(a,l)}function hre(t){return!(/^F\d+$/.test(t)||t.metaKey||t.startsWith("OS")||t.startsWith("Meta")||t.startsWith("Shift")||t.startsWith("Alt")||t.startsWith("Control")||t.startsWith("Arrow")||t==="Tab"||t==="Space"||t==="Enter"||t==="NumLock"||t==="ScrollLock")}function fre(t){if(t.ctrlKey||t.metaKey){if(t.key==="k"){if(t.preventDefault(),je.isRawModalVisible)return;f5()}if(t.key==="v"){if(je.isRawModalVisible)return;const e=document.getElementById("message-textarea"),{activeElement:n}=document;if(n!==e&&["input","textarea"].includes(n.tagName.toLowerCase()))return;e==null||e.focus()}}if(!t.ctrlKey&&!t.altKey&&!t.metaKey){if(je.isRawModalVisible)return;if(t.key==="Escape"){if(je.isRoomSettings){Vh();return}if(je.selectedRoomId){ci(je.selectedRoomId);return}}if(["input","textarea"].includes(document.activeElement.tagName.toLowerCase()))return;if(hre(t.code)){const e=document.getElementById("message-textarea");e==null||e.focus()}}}function gre(){document.body.addEventListener("keydown",fre)}function pre(t){const e=n=>{const r=t.roomIdToParents.get(n);if(r&&[...r].forEach(o=>{const i=je.spaceToRoom.get(o);(i==null?void 0:i.roomId)===n&&je.spaceToRoom.delete(o)}),je.selectedRoomId===n&&An(null),je.selectedSpacePath.includes(n)){const o=je.selectedSpacePath.indexOf(n);o===0?fi(te.tabs.HOME):TE(je.selectedSpacePath[o-1])}je.removeRecentRoom(n)};return t.on(te.events.roomList.ROOM_LEAVED,e),()=>{t.removeListener(te.events.roomList.ROOM_LEAVED,e)}}const _B=X.exports.createContext({dragDropManager:void 0});var Zr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Zr||(Zr={}));function _t(t,e,...n){if(mre()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function mre(){return typeof process<"u"&&process.env.NODE_ENV==="production"}const iw="dnd-core/INIT_COORDS",gF="dnd-core/BEGIN_DRAG",aw="dnd-core/PUBLISH_DRAG_SOURCE",pF="dnd-core/HOVER",mF="dnd-core/DROP",FF="dnd-core/END_DRAG";function N9(t,e){return{type:iw,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function Fre(t,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,t)}function _re(t,e){return t.filter(n=>n!==e)}function vB(t){return typeof t=="object"}function vre(t,e){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};t.forEach(r),e.forEach(r);const o=[];return n.forEach((i,a)=>{i===1&&o.push(a)}),o}function yre(t,e){return t.filter(n=>e.indexOf(n)>-1)}const bre={type:iw,payload:{clientOffset:null,sourceClientOffset:null}};function Ere(t){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:a}=r,l=t.getMonitor(),u=t.getRegistry();t.dispatch(N9(i)),wre(n,l,u);const d=Sre(n,l);if(d==null){t.dispatch(bre);return}let s=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");Dre(a),s=a(d)}t.dispatch(N9(i,s));const c=u.getSource(d).beginDrag(l,d);if(c==null)return;kre(c),u.pinSource(d);const h=u.getSourceType(d);return{type:gF,payload:{itemType:h,item:c,sourceId:d,clientOffset:i||null,sourceClientOffset:s||null,isSourcePublic:!!o}}}}function wre(t,e,n){_t(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){_t(n.getSource(r),"Expected sourceIds to be registered.")})}function Dre(t){_t(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function kre(t){_t(vB(t),"Item must be an object.")}function Sre(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function xre(t){return function(){if(t.getMonitor().isDragging())return{type:aw}}}function eb(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Cre(t){return function(n,{clientOffset:r}={}){Tre(n);const o=n.slice(0),i=t.getMonitor(),a=t.getRegistry();Ire(o,i,a);const l=i.getItemType();return Rre(o,a,l),Are(o,i,a),{type:pF,payload:{targetIds:o,clientOffset:r||null}}}}function Tre(t){_t(Array.isArray(t),"Expected targetIds to be an array.")}function Ire(t,e,n){_t(e.isDragging(),"Cannot call hover while not dragging."),_t(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const o=t[r];_t(t.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(o);_t(i,"Expected targetIds to be registered.")}}function Rre(t,e,n){for(let r=t.length-1;r>=0;r--){const o=t[r],i=e.getTargetType(o);eb(i,n)||t.splice(r,1)}}function Are(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function Ore(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Ore(t,o,n[o])})}return t}function Pre(t){return function(n={}){const r=t.getMonitor(),o=t.getRegistry();Mre(r),Ure(r).forEach((a,l)=>{const u=Nre(a,l,o,r),d={type:mF,payload:{dropResult:Bre({},n,u)}};t.dispatch(d)})}}function Mre(t){_t(t.isDragging(),"Cannot call drop while not dragging."),_t(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Nre(t,e,n,r){const o=n.getTarget(t);let i=o?o.drop(r,t):void 0;return Lre(i),typeof i>"u"&&(i=e===0?{}:r.getDropResult()),i}function Lre(t){_t(typeof t>"u"||vB(t),"Drop result must either be an object or undefined.")}function Ure(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function jre(t){return function(){const n=t.getMonitor(),r=t.getRegistry();$re(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:FF}}}function $re(t){_t(t.isDragging(),"Cannot call endDrag while not dragging.")}function qre(t){return{beginDrag:Ere(t),publishDragSource:xre(t),hover:Cre(t),drop:Pre(t),endDrag:jre(t)}}class Vre{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(i){return(...a)=>{const l=i.apply(e,a);typeof l<"u"&&n(l)}}const o=qre(this);return Object.keys(o).reduce((i,a)=>{const l=o[a];return i[a]=r(l),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function To(t){return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function Gre(t,e){if(To(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(To(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yB(t){var e=Gre(t,"string");return To(e)==="symbol"?e:String(e)}function is(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var L9=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),I2=function(){return Math.random().toString(36).substring(7).split("").join(".")},U9={INIT:"@@redux/INIT"+I2(),REPLACE:"@@redux/REPLACE"+I2(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+I2()}};function Kre(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bB(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yr(1));return n(bB)(t,e)}if(typeof t!="function")throw new Error(Yr(2));var o=t,i=e,a=[],l=a,u=!1;function d(){l===a&&(l=a.slice())}function s(){if(u)throw new Error(Yr(3));return i}function g(F){if(typeof F!="function")throw new Error(Yr(4));if(u)throw new Error(Yr(5));var m=!0;return d(),l.push(F),function(){if(m){if(u)throw new Error(Yr(6));m=!1,d();var f=l.indexOf(F);l.splice(f,1),a=null}}}function c(F){if(!Kre(F))throw new Error(Yr(7));if(typeof F.type>"u")throw new Error(Yr(8));if(u)throw new Error(Yr(9));try{u=!0,i=o(i,F)}finally{u=!1}for(var m=a=l,p=0;p<m.length;p++){var f=m[p];f()}return F}function h(F){if(typeof F!="function")throw new Error(Yr(10));o=F,c({type:U9.REPLACE})}function _(){var F,m=g;return F={subscribe:function(f){if(typeof f!="object"||f===null)throw new Error(Yr(11));function v(){f.next&&f.next(s())}v();var y=m(v);return{unsubscribe:y}}},F[L9]=function(){return this},F}return c({type:U9.INIT}),r={dispatch:c,subscribe:g,getState:s,replaceReducer:h},r[L9]=_,r}const Hre=(t,e)=>t===e;function zre(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Wre(t,e,n=Hre){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Yre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Yre(t,o,n[o])})}return t}const j9={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Xre(t=j9,e){const{payload:n}=e;switch(e.type){case iw:case gF:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case pF:return zre(t.clientOffset,n.clientOffset)?t:Jre({},t,{clientOffset:n.clientOffset});case FF:case mF:return j9;default:return t}}const sw="dnd-core/ADD_SOURCE",lw="dnd-core/ADD_TARGET",uw="dnd-core/REMOVE_SOURCE",_F="dnd-core/REMOVE_TARGET";function Qre(t){return{type:sw,payload:{sourceId:t}}}function Zre(t){return{type:lw,payload:{targetId:t}}}function eoe(t){return{type:uw,payload:{sourceId:t}}}function toe(t){return{type:_F,payload:{targetId:t}}}function noe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){noe(t,o,n[o])})}return t}const roe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ooe(t=roe,e){const{payload:n}=e;switch(e.type){case gF:return tu({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case aw:return tu({},t,{isSourcePublic:!0});case pF:return tu({},t,{targetIds:n.targetIds});case _F:return t.targetIds.indexOf(n.targetId)===-1?t:tu({},t,{targetIds:_re(t.targetIds,n.targetId)});case mF:return tu({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case FF:return tu({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function ioe(t=0,e){switch(e.type){case sw:case lw:return t+1;case uw:case _F:return t-1;default:return t}}const Xh=[],cw=[];Xh.__IS_NONE__=!0;cw.__IS_ALL__=!0;function aoe(t,e){return t===Xh?!1:t===cw||typeof e>"u"?!0:yre(e,t).length>0}function soe(t=Xh,e){switch(e.type){case pF:break;case sw:case lw:case _F:case uw:return Xh;case gF:case aw:case FF:case mF:default:return cw}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=vre(n,r);if(!(o.length>0||!Wre(n,r)))return Xh;const a=r[r.length-1],l=n[n.length-1];return a!==l&&(a&&o.push(a),l&&o.push(l)),o}function loe(t=0){return t+1}function uoe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){uoe(t,o,n[o])})}return t}function doe(t={},e){return{dirtyHandlerIds:soe(t.dirtyHandlerIds,{type:e.type,payload:coe({},e.payload,{prevTargetIds:Fre(t,"dragOperation.targetIds",[])})}),dragOffset:Xre(t.dragOffset,e),refCount:ioe(t.refCount,e),dragOperation:ooe(t.dragOperation,e),stateId:loe(t.stateId)}}function hoe(t,e){return{x:t.x+e.x,y:t.y+e.y}}function EB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function foe(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:EB(hoe(e,r),n)}function goe(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:EB(e,n)}class poe{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;_t(typeof e=="function","listener must be a function."),_t(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const a=this.store.getState(),l=a.stateId;try{l===o||l===o+1&&!aoe(a.dirtyHandlerIds,r)||e()}finally{o=l}};return this.store.subscribe(i)}subscribeToOffsetChange(e){_t(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return _t(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(_t(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return eb(r,o)&&n.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(_t(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!eb(o,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const l=a.indexOf(e);return r?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return foe(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return goe(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}let moe=0;function Foe(){return moe++}function _oe(t){_t(typeof t.canDrag=="function","Expected canDrag to be a function."),_t(typeof t.beginDrag=="function","Expected beginDrag to be a function."),_t(typeof t.endDrag=="function","Expected endDrag to be a function.")}function voe(t){_t(typeof t.canDrop=="function","Expected canDrop to be a function."),_t(typeof t.hover=="function","Expected hover to be a function."),_t(typeof t.drop=="function","Expected beginDrag to be a function.")}function tb(t,e){if(e&&Array.isArray(t)){t.forEach(n=>tb(n,!1));return}_t(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const $9=typeof global<"u"?global:self,wB=$9.MutationObserver||$9.WebKitMutationObserver;function DB(t){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),t()}}}function yoe(t){let e=1;const n=new wB(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const boe=typeof wB=="function"?yoe:DB;class Eoe{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=boe(this.flush),this.requestErrorThrow=DB(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class woe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Doe{create(e){const n=this.freeTasks,r=n.length?n.pop():new woe(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const kB=new Eoe,koe=new Doe(kB.registerPendingError);function Soe(t){kB.enqueueTask(koe.create(t))}function xoe(t){const e=Foe().toString();switch(t){case Zr.SOURCE:return`S${e}`;case Zr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function q9(t){switch(t[0]){case"S":return Zr.SOURCE;case"T":return Zr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function V9(t,e){const n=t.entries();let r=!1;do{const{done:o,value:[,i]}=n.next();if(i===e)return!0;r=!!o}while(!r);return!1}class Coe{addSource(e,n){tb(e),_oe(n);const r=this.addHandler(Zr.SOURCE,e,n);return this.store.dispatch(Qre(r)),r}addTarget(e,n){tb(e,!0),voe(n);const r=this.addHandler(Zr.TARGET,e,n);return this.store.dispatch(Zre(r)),r}containsHandler(e){return V9(this.dragSources,e)||V9(this.dropTargets,e)}getSource(e,n=!1){return _t(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return _t(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return _t(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return _t(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return q9(e)===Zr.SOURCE}isTargetId(e){return q9(e)===Zr.TARGET}removeSource(e){_t(this.getSource(e),"Expected an existing source."),this.store.dispatch(eoe(e)),Soe(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){_t(this.getTarget(e),"Expected an existing target."),this.store.dispatch(toe(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);_t(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){_t(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=xoe(e);return this.types.set(o,n),e===Zr.SOURCE?this.dragSources.set(o,r):e===Zr.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}function Toe(t,e=void 0,n={},r=!1){const o=Ioe(r),i=new poe(o,new Coe(o)),a=new Vre(o,i),l=t(a,e,n);return a.receiveBackend(l),a}function Ioe(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return bB(doe,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Roe(t,e){if(t==null)return{};var n=Aoe(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let G9=0;const g0=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ooe=X.exports.memo(function(e){var{children:n}=e,r=Roe(e,["children"]);const[o,i]=Boe(r);return X.exports.useEffect(()=>{if(i){const a=SB();return++G9,()=>{--G9===0&&(a[g0]=null)}}},[]),zf.exports.jsx(_B.Provider,{value:o,children:n})});function Boe(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Poe(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Poe(t,e=SB(),n,r){const o=e;return o[g0]||(o[g0]={dragDropManager:Toe(t,e,n,r)}),o[g0]}function SB(){return typeof global<"u"?global:window}let R2=!1,A2=!1;class Moe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){_t(!R2,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return R2=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{R2=!1}}isDragging(){if(!this.sourceId)return!1;_t(!A2,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return A2=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{A2=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let O2=!1;class Noe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;_t(!O2,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return O2=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{O2=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Loe(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Uoe(t){return(e=null,n=null)=>{if(!X.exports.isValidElement(e)){const i=e;return t(i,n),i}const r=e;return Loe(r),joe(r,n?i=>t(i,n):t)}}function xB(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const o=Uoe(r);e[n]=()=>o}}),e}function K9(t,e){typeof t=="function"?t(e):t.current=e}function joe(t,e){const n=t.ref;return _t(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?X.exports.cloneElement(t,{ref:r=>{K9(n,r),K9(e,r)}}):X.exports.cloneElement(t,{ref:e})}function nb(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rb(t,e,n,r){let o=n?n.call(r,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<i.length;u++){const d=i[u];if(!l(d))return!1;const s=t[d],g=e[d];if(o=n?n.call(r,s,g,d):void 0,o===!1||o===void 0&&s!==g)return!1}return!0}class $oe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!rb(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!rb(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=xB({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,nb(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,nb(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class qoe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!rb(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=xB({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,nb(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Voe(t,e,n){const r=n.getRegistry(),o=r.addTarget(t,e);return[o,()=>r.removeTarget(o)]}function Goe(t,e,n){const r=n.getRegistry(),o=r.addSource(t,e);return[o,()=>r.removeSource(o)]}const sl=typeof window<"u"?X.exports.useLayoutEffect:X.exports.useEffect;class Koe{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:i}=r;return i?i(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function Hoe(t,e,n){const r=X.exports.useMemo(()=>new Koe(t,e,n),[e,n]);return X.exports.useEffect(()=>{r.spec=t},[t]),r}function Lc(){const{dragDropManager:t}=X.exports.useContext(_B);return _t(t!=null,"Expected drag drop context"),t}function zoe(t){return X.exports.useMemo(()=>{const e=t.type;return _t(e!=null,"spec.type must be defined"),e},[t])}function Woe(t,e,n){const r=Lc(),o=Hoe(t,e,n),i=zoe(t);sl(function(){if(i!=null){const[l,u]=Goe(i,o,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),u}},[r,e,n,o,i])}function CB(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),X.exports.useMemo(()=>typeof t=="function"?t():t,n)}function Yoe(){const t=Lc();return X.exports.useMemo(()=>new Moe(t),[t])}function Joe(t,e){const n=Lc(),r=X.exports.useMemo(()=>new $oe(n.getBackend()),[n]);return sl(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),sl(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}var Xoe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};function Qoe(t,e,n){const[r,o]=X.exports.useState(()=>e(t)),i=X.exports.useCallback(()=>{const a=e(t);Xoe(r,a)||(o(a),n&&n())},[r,t,n]);return sl(i),[r,i]}function Zoe(t,e,n){const[r,o]=Qoe(t,e,n);return sl(function(){const a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(o,{handlerIds:[a]})},[t,o]),r}function TB(t,e,n){return Zoe(e,t||(()=>({})),()=>n.reconnect())}function eie(t){return X.exports.useMemo(()=>t.hooks.dragSource(),[t])}function tie(t){return X.exports.useMemo(()=>t.hooks.dragPreview(),[t])}function nie(t,e){const n=CB(t,e);_t(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Yoe(),o=Joe(n.options,n.previewOptions);return Woe(n,r,o),[TB(n.collect,r,o),eie(o),tie(o)]}function rie(t){const{accept:e}=t;return X.exports.useMemo(()=>(_t(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class oie{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function iie(t,e){const n=X.exports.useMemo(()=>new oie(t,e),[e]);return X.exports.useEffect(()=>{n.spec=t},[t]),n}function aie(t,e,n){const r=Lc(),o=iie(t,e),i=rie(t);sl(function(){const[l,u]=Voe(i,o,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),u},[r,e,o,n,i.map(a=>a.toString()).join("|")])}function sie(){const t=Lc();return X.exports.useMemo(()=>new Noe(t),[t])}function lie(t){const e=Lc(),n=X.exports.useMemo(()=>new qoe(e.getBackend()),[e]);return sl(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function uie(t){return X.exports.useMemo(()=>t.hooks.dropTarget(),[t])}function cie(t,e){const n=CB(t,e),r=sie(),o=lie(n.options);return aie(n,r,o),[TB(n.collect,r,o),uie(o)]}function IB(t){let e=null;return()=>(e==null&&(e=t()),e)}function die(t,e){return t.filter(n=>n!==e)}function hie(t,e){const n=new Set,r=i=>n.add(i);t.forEach(r),e.forEach(r);const o=[];return n.forEach(i=>o.push(i)),o}class fie{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=hie(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=die(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}const gie=IB(()=>/firefox/i.test(navigator.userAgent)),RB=IB(()=>Boolean(window.safari));class H9{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:i,c3s:a}=this;let l=n.length-1;if(e===n[l])return r[l];let u=0,d=a.length-1,s;for(;u<=d;){s=Math.floor(.5*(u+d));const h=n[s];if(h<e)u=s+1;else if(h>e)d=s-1;else return r[s]}l=Math.max(0,d);const g=e-n[l],c=g*g;return r[l]+o[l]*g+i[l]*c+a[l]*g*c}constructor(e,n){const{length:r}=e,o=[];for(let h=0;h<r;h++)o.push(h);o.sort((h,_)=>e[h]<e[_]?-1:1);const i=[],a=[];let l,u;for(let h=0;h<r-1;h++)l=e[h+1]-e[h],u=n[h+1]-n[h],i.push(l),a.push(u/l);const d=[a[0]];for(let h=0;h<i.length-1;h++){const _=a[h],F=a[h+1];if(_*F<=0)d.push(0);else{l=i[h];const m=i[h+1],p=l+m;d.push(3*p/((p+m)/_+(p+l)/F))}}d.push(a[a.length-1]);const s=[],g=[];let c;for(let h=0;h<d.length-1;h++){c=a[h];const _=d[h],F=1/i[h],m=_+d[h+1]-c-c;s.push((c-_-m)*F),g.push(m*F*F)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=s,this.c3s=g}}const pie=1;function AB(t){const e=t.nodeType===pie?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function $1(t){return{x:t.clientX,y:t.clientY}}function mie(t){var e;return t.nodeName==="IMG"&&(gie()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Fie(t,e,n,r){let o=t?e.width:n,i=t?e.height:r;return RB()&&t&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function _ie(t,e,n,r,o){const i=mie(e),l=AB(i?t:e),u={x:n.x-l.x,y:n.y-l.y},{offsetWidth:d,offsetHeight:s}=t,{anchorX:g,anchorY:c}=r,{dragPreviewWidth:h,dragPreviewHeight:_}=Fie(i,e,d,s),F=()=>{let b=new H9([0,.5,1],[u.y,u.y/s*_,u.y+_-s]).interpolate(c);return RB()&&i&&(b+=(window.devicePixelRatio-1)*_),b},m=()=>new H9([0,.5,1],[u.x,u.x/d*h,u.x+h-d]).interpolate(g),{offsetX:p,offsetY:f}=o,v=p===0||p,y=f===0||f;return{x:v?p:m(),y:y?f:F()}}const OB="__NATIVE_FILE__",BB="__NATIVE_URL__",PB="__NATIVE_TEXT__",MB="__NATIVE_HTML__",z9=Object.freeze(Object.defineProperty({__proto__:null,FILE:OB,URL:BB,TEXT:PB,HTML:MB},Symbol.toStringTag,{value:"Module"}));function B2(t,e,n){const r=e.reduce((o,i)=>o||t.getData(i),"");return r??n}const ob={[OB]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[MB]:{exposeProperties:{html:(t,e)=>B2(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[BB]:{exposeProperties:{urls:(t,e)=>B2(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[PB]:{exposeProperties:{text:(t,e)=>B2(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};class vie{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}function yie(t,e){const n=ob[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new vie(n);return r.loadDataTransfer(e),r}function P2(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(ob).filter(n=>{const r=ob[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}class bie{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function Eie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Eie(t,o,n[o])})}return t}class wie{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=a=>this.handleDragStart(a,e),i=a=>this.handleSelectStart(a);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=a=>this.handleDragEnter(a,e),o=a=>this.handleDragOver(a,e),i=a=>this.handleDrop(a,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return W9({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return W9({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(z9).some(n=>z9[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=yie(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&AB(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>Boolean(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const a=$1(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:l}=o,u=P2(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const s=this.monitor.getSourceId(),g=this.sourceNodes.get(s),c=this.sourcePreviewNodes.get(s)||g;if(c){const{anchorX:h,anchorY:_,offsetX:F,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),v=_ie(g,c,a,{anchorX:h,anchorY:_},{offsetX:F,offsetY:m});l.setDragImage(c,v.x,v.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(l&&!l.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:l}=o,u=P2(l);u&&this.beginDragNativeItem(u,l)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:$1(o)}),i.some(l=>this.monitor.canDropOnTarget(l))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=$1(o),this.scheduleHover(i),(i||[]).some(l=>this.monitor.canDropOnTarget(l))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else P2(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:$1(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new bie(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new fie(this.isNodeInDocument)}}const Die=function(e,n,r){return new wie(e,n,r)};function dw(t){ct.dispatch({type:te.actions.accountData.CREATE_SPACE_SHORTCUT,roomId:t})}function hw(t){ct.dispatch({type:te.actions.accountData.DELETE_SPACE_SHORTCUT,roomId:t})}function kie(t,e){ct.dispatch({type:te.actions.accountData.MOVE_SPACE_SHORTCUTS,roomId:t,toIndex:e})}function NB(t){ct.dispatch({type:te.actions.accountData.CATEGORIZE_SPACE,roomId:t})}function LB(t){ct.dispatch({type:te.actions.accountData.UNCATEGORIZE_SPACE,roomId:t})}function Wa({alert:t,content:e}){return E("div",{className:`notification-badge${t?" notification-badge--alert":""}`,children:e!==null&&E(ue,{variant:"b3",weight:"bold",children:e})})}Wa.defaultProps={alert:!1,content:null};Wa.propTypes={alert:J.exports.bool,content:J.exports.oneOfType([J.exports.string,J.exports.number])};const di=nn.forwardRef(({className:t,tooltip:e,active:n,onClick:r,onContextMenu:o,avatar:i,notificationBadge:a},l)=>{const u=["sidebar-avatar"];return n&&u.push("sidebar-avatar--active"),t&&u.push(t),E(kg,{content:E(ue,{variant:"b1",children:We(e)}),placement:"right",children:re("button",{ref:l,className:u.join(" "),type:"button",onMouseUp:d=>bi(d,".sidebar-avatar"),onClick:r,onContextMenu:o,children:[i,a]})})});di.defaultProps={className:null,active:!1,onClick:null,onContextMenu:null,notificationBadge:null};di.propTypes={className:J.exports.string,tooltip:J.exports.string.isRequired,active:J.exports.bool,onClick:J.exports.func,onContextMenu:J.exports.func,avatar:J.exports.node.isRequired,notificationBadge:J.exports.node};function vF(t,e){const n=Fe.matrixClient,r=n.getAccountData("m.direct");let o={};if(typeof r<"u"&&(o=r.getContent()),Object.keys(o).forEach(i=>{const a=o[i];if(i!==e){const l=a.indexOf(t);l>-1&&a.splice(l,1)}}),e){const i=o[e]||[];i.indexOf(t)===-1&&i.push(t),o[e]=i}return n.setAccountData("m.direct",o)}function UB(t,e){let n,r;return t.getJoinedMembers().forEach(o=>{o.userId!==e&&(typeof n>"u"||o.events.member&&o.events.member.getTs()<n)&&(r=o,n=o.events.member.getTs())}),r?r.userId:(t.currentState.getMembers().forEach(o=>{o.userId!==e&&(typeof n>"u"||o.events.member&&o.events.member.getTs()<n)&&(r=o,n=o.events.member.getTs())}),typeof r>"u"?e:r.userId)}function Sie(t){const e=Fe.matrixClient,n=e.getRoom(t);return vF(t,UB(n,e.getUserId()))}function xie(t){return vF(t,void 0)}async function Uc(t,e=!1,n=void 0){const r=Fe.matrixClient,o=t.split(":"),i=n||[o[1]];try{const a=await r.joinRoom(t,{viaServers:i});if(e){const l=UB(r.getRoom(a.roomId),r.getUserId());await vF(a.roomId,l)}return ct.dispatch({type:te.actions.room.JOIN,roomId:a.roomId,isDM:e}),a.roomId}catch(a){throw new Error(a)}}async function ll(t){const e=Fe.matrixClient,n=Fe.roomList.directs.has(t);try{await e.leave(t),ct.dispatch({type:te.actions.room.LEAVE,roomId:t,isDM:n})}catch{console.error("Unable to leave room.")}}async function jB(t,e=!1){var r;const n=Fe.matrixClient;try{const o=await n.createRoom(t);return e&&typeof((r=t.invite)==null?void 0:r[0])=="string"&&await vF(o.room_id,t.invite[0]),ct.dispatch({type:te.actions.room.CREATE,roomId:o.room_id,isDM:e}),o}catch(o){throw["M_UNKNOWN","M_BAD_JSON","M_ROOM_IN_USE","M_INVALID_ROOM_STATE","M_UNSUPPORTED_ROOM_VERSION"].includes(o.errcode)?new Error(o):new Error("Something went wrong!")}}async function fw(t,e=!0){const n={is_direct:!0,invite:Array.isArray(t)?t:[t],visibility:"private",preset:"trusted_private_chat",initial_state:[]};return e&&n.initial_state.push({type:"m.room.encryption",state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}}),await jB(n,!0)}async function Cie(t){var _;const{name:e,topic:n,joinRule:r}=t,o=t.alias??void 0,i=t.parentId??void 0,a=t.isSpace??!1,l=t.isEncrypted??!1,u=t.powerLevel??void 0,d=t.blockFederation??!1,s=Fe.matrixClient,c={creation_content:void 0,name:e,topic:n,visibility:r==="public"?"public":"private",room_alias_name:o,initial_state:[],power_level_content_override:void 0};if(a&&(c.creation_content={type:"m.space"}),d&&(c.creation_content={"m.federate":!1}),l&&c.initial_state.push({type:"m.room.encryption",state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}}),u&&(c.power_level_content_override={users:{[s.getUserId()]:u}}),i&&c.initial_state.push({type:"m.space.parent",state_key:i,content:{canonical:!0,via:[ac(s.getUserId())]}}),i&&r==="restricted"){const F=await s.getCapabilities();if(((_=F["m.room_versions"].available)==null?void 0:_["9"])!=="stable")throw new Error("ERROR: The server doesn't support restricted rooms");Number(F["m.room_versions"].default)<9&&(c.room_version="9"),c.initial_state.push({type:"m.room.join_rules",content:{join_rule:"restricted",allow:[{type:"m.room_membership",room_id:i}]}})}const h=await jB(c);return i&&await s.sendStateEvent(i,"m.space.child",{auto_join:!1,suggested:!1,via:[ac(s.getUserId())]},h.room_id),h}async function gw(t,e,n){return await Fe.matrixClient.invite(t,e,void 0,n)}async function Bp(t,e,n){return await Fe.matrixClient.kick(t,e,n)}async function $B(t,e,n){return await Fe.matrixClient.ban(t,e,n)}async function qB(t,e){return await Fe.matrixClient.unban(t,e)}async function pw(t){const e=Fe.matrixClient;let n=e.getIgnoredUsers().concat(t);n=[...new Set(n)],await e.setIgnoredUsers(n)}async function mw(t){const e=Fe.matrixClient,n=e.getIgnoredUsers();await e.setIgnoredUsers(n.filter(r=>!t.includes(r)))}async function Y9(t,e,n){const r=Fe.matrixClient,i=r.getRoom(t).currentState.getStateEvents("m.room.power_levels")[0];return await r.setPowerLevel(t,e,n,i)}async function Tie(t,e){const n=Fe.matrixClient,o=n.getRoom(t).currentState.getStateEvents("m.room.member",n.getUserId()),i=o==null?void 0:o.getContent();i&&await n.sendStateEvent(t,"m.room.member",{...i,displayname:e},n.getUserId())}async function Iie(t,e){const n=Fe.matrixClient,o=n.getRoom(t).currentState.getStateEvents("m.room.member",n.getUserId()),i=o==null?void 0:o.getContent();i&&await n.sendStateEvent(t,"m.room.member",{...i,avatar_url:e},n.getUserId())}const VB="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20fill='%23221F1F'%20d='M9%2c5v4H5V5H9%20M9%2c3H5C3.9%2c3%2c3%2c3.9%2c3%2c5v4c0%2c1.1%2c0.9%2c2%2c2%2c2h4c1.1%2c0%2c2-0.9%2c2-2V5C11%2c3.9%2c10.1%2c3%2c9%2c3L9%2c3z'/%3e%20%3cpath%20fill='%23221F1F'%20d='M19%2c5v4h-4V5H19%20M19%2c3h-4c-1.1%2c0-2%2c0.9-2%2c2v4c0%2c1.1%2c0.9%2c2%2c2%2c2h4c1.1%2c0%2c2-0.9%2c2-2V5C21%2c3.9%2c20.1%2c3%2c19%2c3L19%2c3%20z'/%3e%20%3cpath%20fill='%23221F1F'%20d='M9%2c15v4H5v-4H9%20M9%2c13H5c-1.1%2c0-2%2c0.9-2%2c2v4c0%2c1.1%2c0.9%2c2%2c2%2c2h4c1.1%2c0%2c2-0.9%2c2-2v-4C11%2c13.9%2c10.1%2c13%2c9%2c13%20L9%2c13z'/%3e%20%3cpath%20fill='%23221F1F'%20d='M19%2c15v4h-4v-4H19%20M19%2c13h-4c-1.1%2c0-2%2c0.9-2%2c2v4c0%2c1.1%2c0.9%2c2%2c2%2c2h4c1.1%2c0%2c2-0.9%2c2-2v-4%20C21%2c13.9%2c20.1%2c13%2c19%2c13L19%2c13z'/%3e%20%3c/g%3e%20%3c/svg%3e",GB="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20fill='%23231F20'%20d='M9%2c11H5c-1.1%2c0-2-0.9-2-2V5c0-1.1%2c0.9-2%2c2-2h4c1.1%2c0%2c2%2c0.9%2c2%2c2v4C11%2c10.1%2c10.1%2c11%2c9%2c11z'/%3e%20%3c/g%3e%20%3cg%3e%20%3cpath%20fill='%23231F20'%20d='M19%2c11h-4c-1.1%2c0-2-0.9-2-2V5c0-1.1%2c0.9-2%2c2-2h4c1.1%2c0%2c2%2c0.9%2c2%2c2v4C21%2c10.1%2c20.1%2c11%2c19%2c11z'/%3e%20%3c/g%3e%20%3cg%3e%20%3cpath%20fill='%23231F20'%20d='M9%2c21H5c-1.1%2c0-2-0.9-2-2v-4c0-1.1%2c0.9-2%2c2-2h4c1.1%2c0%2c2%2c0.9%2c2%2c2v4C11%2c20.1%2c10.1%2c21%2c9%2c21z'/%3e%20%3c/g%3e%20%3cg%3e%20%3cpath%20fill='%23231F20'%20d='M19%2c21h-4c-1.1%2c0-2-0.9-2-2v-4c0-1.1%2c0.9-2%2c2-2h4c1.1%2c0%2c2%2c0.9%2c2%2c2v4C21%2c20.1%2c20.1%2c21%2c19%2c21z'/%3e%20%3c/g%3e%20%3c/svg%3e",xg="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3crect%20x='13.6'%20y='6'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%2010.9064%20-7.6107)'%20width='2'%20height='6.7'/%3e%20%3crect%20x='1.8'%20y='12.9'%20transform='matrix(-0.7071%20-0.7071%200.7071%20-0.7071%200.1967%2027.7885)'%20width='8.1'%20height='2'/%3e%20%3cpolygon%20points='21.3%2c6.3%2013%2c14.6%208.7%2c10.3%207.3%2c11.7%2013%2c17.4%2022.7%2c7.7%20'/%3e%20%3c/g%3e%20%3c/svg%3e",hc="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M14%2c11c2.2%2c0%2c4-1.8%2c4-4c0-2.2-1.8-4-4-4s-4%2c1.8-4%2c4C10%2c9.2%2c11.8%2c11%2c14%2c11z%20M14%2c5c1.1%2c0%2c2%2c0.9%2c2%2c2c0%2c1.1-0.9%2c2-2%2c2%20s-2-0.9-2-2C12%2c5.9%2c12.9%2c5%2c14%2c5z'/%3e%20%3cpath%20d='M16%2c13h-4c-3.3%2c0-6%2c2.7-6%2c6v2h16v-2C22%2c15.7%2c19.3%2c13%2c16%2c13z%20M8%2c19c0-2.2%2c1.8-4%2c4-4h4c2.2%2c0%2c4%2c1.8%2c4%2c4H8z'/%3e%20%3cpolygon%20points='8%2c9%205%2c9%205%2c6%203%2c6%203%2c9%200%2c9%200%2c11%203%2c11%203%2c14%205%2c14%205%2c11%208%2c11%20'/%3e%20%3c/g%3e%20%3c/svg%3e",Fw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M13%2c4v0.6v1.3l1.2%2c0.5c0.5%2c0.2%2c1%2c0.5%2c1.4%2c0.8l1.1%2c0.8l1.2-0.7l0.5-0.3l1%2c1.7l-0.5%2c0.3l-1.2%2c0.7l0.2%2c1.3%20c0%2c0.3%2c0.1%2c0.6%2c0.1%2c0.8s0%2c0.5-0.1%2c0.8l-0.2%2c1.3l1.2%2c0.7l0.5%2c0.3l-1%2c1.7l-0.5-0.3l-1.2-0.7l-1.1%2c0.8c-0.4%2c0.3-0.9%2c0.6-1.4%2c0.8%20L13%2c18.1v1.3V20h-2v-0.6v-1.3l-1.2-0.5c-0.5-0.2-1-0.5-1.4-0.8l-1.1-0.8l-1.2%2c0.7l-0.5%2c0.3l-1-1.7l0.5-0.3l1.2-0.7l-0.2-1.3%20C6%2c12.5%2c6%2c12.2%2c6%2c12s0-0.5%2c0.1-0.8l0.2-1.3L5.1%2c9.2L4.6%2c8.9l1-1.7l0.5%2c0.3l1.2%2c0.7l1.1-0.8c0.4-0.3%2c0.9-0.6%2c1.4-0.8L11%2c5.9V4.6V4%20H13%20M13%2c2h-2C9.9%2c2%2c9%2c2.9%2c9%2c4v0.6C8.3%2c4.9%2c7.7%2c5.2%2c7.1%2c5.7L6.6%2c5.4c-0.3-0.2-0.7-0.3-1-0.3c-0.7%2c0-1.4%2c0.4-1.7%2c1l-1%2c1.7%20c-0.6%2c1-0.2%2c2.2%2c0.7%2c2.7l0.5%2c0.3C4%2c11.3%2c4%2c11.6%2c4%2c12s0%2c0.7%2c0.1%2c1.1l-0.5%2c0.3c-1%2c0.6-1.3%2c1.8-0.7%2c2.7l1%2c1.7c0.4%2c0.6%2c1%2c1%2c1.7%2c1%20c0.3%2c0%2c0.7-0.1%2c1-0.3l0.5-0.3c0.6%2c0.5%2c1.2%2c0.8%2c1.9%2c1.1V20c0%2c1.1%2c0.9%2c2%2c2%2c2h2c1.1%2c0%2c2-0.9%2c2-2v-0.6c0.7-0.3%2c1.3-0.7%2c1.9-1.1l0.5%2c0.3%20c0.3%2c0.2%2c0.7%2c0.3%2c1%2c0.3c0.7%2c0%2c1.4-0.4%2c1.7-1l1-1.7c0.6-1%2c0.2-2.2-0.7-2.7l-0.5-0.3C20%2c12.7%2c20%2c12.4%2c20%2c12s0-0.7-0.1-1.1l0.5-0.3%20c1-0.6%2c1.3-1.8%2c0.7-2.7l-1-1.7c-0.4-0.6-1-1-1.7-1c-0.3%2c0-0.7%2c0.1-1%2c0.3l-0.5%2c0.3c-0.6-0.5-1.2-0.8-1.9-1.1V4C15%2c2.9%2c14.1%2c2%2c13%2c2%20L13%2c2z'/%3e%20%3cg%3e%20%3cpath%20d='M12%2c16c-2.2%2c0-4-1.8-4-4s1.8-4%2c4-4s4%2c1.8%2c4%2c4S14.2%2c16%2c12%2c16z%20M12%2c10c-1.1%2c0-2%2c0.9-2%2c2s0.9%2c2%2c2%2c2s2-0.9%2c2-2S13.1%2c10%2c12%2c10z%20'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",_w="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='16.1%2c12%2014.1%2c12%2014.1%2c14%2010.1%2c14%2010.1%2c10%2012.1%2c10%2012.1%2c8%2010.1%2c8%2010.1%2c3%208.1%2c3%208.1%2c8%203.1%2c8%203.1%2c10%208.1%2c10%208.1%2c14%203.1%2c14%203.1%2c16%208.1%2c16%208.1%2c21%2010.1%2c21%2010.1%2c16%2014.1%2c16%2014.1%2c21%2016.1%2c21%2016.1%2c16%2021.1%2c16%2021.1%2c14%2016.1%2c14%20'/%3e%20%3cpath%20d='M24%2c9l-2.7-2.7c0.5-0.7%2c0.8-1.5%2c0.8-2.3c0-2.2-1.8-4-4-4s-4%2c1.8-4%2c4s1.8%2c4%2c4%2c4c0.8%2c0%2c1.5-0.2%2c2.2-0.6l2.7%2c2.7L24%2c9z%20M18.1%2c6.5c-1.4%2c0-2.5-1.1-2.5-2.5s1.1-2.5%2c2.5-2.5s2.5%2c1.1%2c2.5%2c2.5S19.5%2c6.5%2c18.1%2c6.5z'/%3e%20%3c/g%3e%20%3c/svg%3e",Cg="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M19.4%2c4.5l-1.2-1.2l-1.4%2c1.4L18%2c5.9c1.2%2c1.2%2c1.2%2c3.1%2c0%2c4.2c-0.6%2c0.6-1.3%2c0.9-2.1%2c0.9H7l2.3-2.3L7.8%2c7.3L3.1%2c12l4.7%2c4.7%20l1.4-1.4L7%2c13h8.9c1.3%2c0%2c2.6-0.5%2c3.5-1.5C21.4%2c9.6%2c21.4%2c6.4%2c19.4%2c4.5z'/%3e%20%3c/svg%3e",vw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M13.8%2c4.5l0.7%2c0.7l-3.4%2c3.4L7.7%2c9.7l-1-1l-1.4%2c1.4l3.5%2c3.5l-5.7%2c5.7l1.4%2c1.4l5.7-5.7l3.5%2c3.5l1.4-1.4l-1-1l1.1-3.4l3.4-3.4%20l0.7%2c0.7l1.4-1.4l-5.7-5.7L13.8%2c4.5z%20M13.7%2c11.8l-1%2c2.9l-3.4-3.4l2.9-1l3.7-3.7l1.4%2c1.4L13.7%2c11.8z'/%3e%20%3c/svg%3e",yw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M13.8%2c4.5l0.7%2c0.7l-3.4%2c3.4L7.7%2c9.7l-1-1l-1.4%2c1.4l3.5%2c3.5l-5.7%2c5.7l1.4%2c1.4l5.7-5.7l3.5%2c3.5l1.4-1.4l-1-1l1.1-3.4l3.4-3.4%20l0.7%2c0.7l1.4-1.4l-5.7-5.7L13.8%2c4.5z'/%3e%20%3c/svg%3e";function KB({desc:t,actionTitle:e,actionType:n,onComplete:r}){return re("div",{className:"confirm-dialog",children:[E(ue,{children:t}),re("div",{className:"confirm-dialog__btn",children:[E(Me,{variant:n,onClick:()=>r(!0),children:e}),E(Me,{onClick:()=>r(!1),children:"Cancel"})]})]})}KB.propTypes={desc:J.exports.string.isRequired,actionTitle:J.exports.string.isRequired,actionType:J.exports.oneOf(["primary","positive","danger","caution"]).isRequired,onComplete:J.exports.func.isRequired};const or=(t,e,n,r="primary")=>new Promise(o=>{let i=!1;Dr(E(ue,{variant:"s1",weight:"medium",children:t}),a=>E(KB,{desc:e,actionTitle:n,actionType:r,onComplete:l=>{i=!0,o(l),a()}}),()=>{i||o(!1)})});function jc({roomId:t,afterOptionSelect:e}){var F;const n=Fe.matrixClient,{roomList:r}=Fe,o=n.getRoom(t),i=o==null?void 0:o.canInvite(n.getUserId()),a=Fe.accountData.spaceShortcut.has(t),l=Fe.accountData.categorizedSpaces.has(t),u=()=>{const m=r.getCategorizedSpaces([t]);m==null||m.forEach(p=>{p==null||p.forEach(f=>{ci(f)})}),e()},d=()=>{vg(t),e()},s=()=>{a?hw(t):dw(t),e()},g=()=>{l?LB(t):NB(t),e()},c=()=>{RQ(t),e()},h=()=>{u5(t),e()},_=async()=>{e(),await or("Leave space",`Are you sure that you want to leave "${o.name}" space?`,"Leave","danger")&&ll(t)};return re("div",{style:{maxWidth:"calc(var(--navigation-drawer-width) - var(--sp-normal))"},children:[E(ut,{children:We(`Options for ${(F=Fe.matrixClient.getRoom(t))==null?void 0:F.name}`)}),E(ft,{iconSrc:xg,onClick:u,children:"Mark as read"}),E(ft,{onClick:g,iconSrc:l?GB:VB,children:l?"Uncategorize subspaces":"Categorize subspaces"}),E(ft,{onClick:s,iconSrc:a?yw:vw,children:a?"Unpin from sidebar":"Pin to sidebar"}),E(ft,{iconSrc:hc,onClick:d,disabled:!i,children:"Invite"}),E(ft,{onClick:h,iconSrc:_w,children:"Manage rooms"}),E(ft,{onClick:c,iconSrc:Fw,children:"Settings"}),E(ft,{variant:"danger",onClick:_,iconSrc:Cg,children:"Leave"})]})}jc.defaultProps={afterOptionSelect:null};jc.propTypes={roomId:J.exports.string.isRequired,afterOptionSelect:J.exports.func};const HB="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c3L2%2c12h3v7c0%2c1.1%2c0.9%2c2%2c2%2c2h10c1.1%2c0%2c2-0.9%2c2-2v-7h3L12%2c3z%20M17%2c12v7H7v-7v-1.8l5-4.5l5%2c4.5V12z'/%3e%20%3ccircle%20cx='12'%20cy='14'%20r='2'/%3e%20%3c/g%3e%20%3c/svg%3e",ul="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c11c2.2%2c0%2c4-1.8%2c4-4s-1.8-4-4-4S8%2c4.8%2c8%2c7S9.8%2c11%2c12%2c11z%20M12%2c5c1.1%2c0%2c2%2c0.9%2c2%2c2s-0.9%2c2-2%2c2s-2-0.9-2-2S10.9%2c5%2c12%2c5z'/%3e%20%3cpath%20d='M14%2c13h-4c-3.3%2c0-6%2c2.7-6%2c6v2h16v-2C20%2c15.7%2c17.3%2c13%2c14%2c13z%20M6%2c19c0-2.2%2c1.8-4%2c4-4h4c2.2%2c0%2c4%2c1.8%2c4%2c4H6z'/%3e%20%3c/g%3e%20%3c/svg%3e",Rie="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M13.8%2c4.7l0.7%2c0.7l-3.4%2c3.4L7.7%2c10l-1-1l-1.4%2c1.4l3.5%2c3.5l-5.7%2c5.7L4.6%2c21l5.7-5.7l3.5%2c3.5l1.4-1.4l-1-1l1.1-3.4l3.4-3.4%20l0.7%2c0.7L20.9%2c9l-5.7-5.7L13.8%2c4.7z%20M13.7%2c12l-1%2c2.9l-3.4-3.4l2.9-1l3.7-3.7l1.4%2c1.4L13.7%2c12z'/%3e%20%3cpolygon%20points='10%2c3.3%207.8%2c3.3%207.8%2c1%206.3%2c1%206.3%2c3.3%204%2c3.3%204%2c4.8%206.3%2c4.8%206.3%2c7%207.8%2c7%207.8%2c4.8%2010%2c4.8%20'/%3e%20%3c/g%3e%20%3c/svg%3e",zi="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M21.7%2c20.3l-5.4-5.4c1.1-1.4%2c1.7-3.1%2c1.7-4.9c0-4.4-3.6-8-8-8s-8%2c3.6-8%2c8s3.6%2c8%2c8%2c8c1.8%2c0%2c3.5-0.6%2c4.9-1.7l5.4%2c5.4%20L21.7%2c20.3z%20M10%2c16c-3.3%2c0-6-2.7-6-6s2.7-6%2c6-6s6%2c2.7%2c6%2c6S13.3%2c16%2c10%2c16z'/%3e%20%3c/svg%3e",Aie="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='19.8%2c16%2018.3%2c16%2018.3%2c18.3%2016%2c18.3%2016%2c19.8%2018.3%2c19.8%2018.3%2c22%2019.8%2c22%2019.8%2c19.8%2022%2c19.8%2022%2c18.3%2019.8%2c18.3%20'/%3e%20%3cpath%20d='M20%2c4H4C2.9%2c4%2c2%2c4.9%2c2%2c6v12c0%2c1.1%2c0.9%2c2%2c2%2c2h10v-2H4V9.9l8%2c5.3l8-5.3V14h2V6C22%2c4.9%2c21.1%2c4%2c20%2c4z%20M20%2c7.5l-8%2c5.3L4%2c7.5V6%20h16V7.5z'/%3e%20%3c/g%3e%20%3c/svg%3e",bw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c2L3%2c6v7c0%2c5%2c4%2c9%2c9%2c9c5%2c0%2c9-4%2c9-9V6L12%2c2z%20M19%2c13c0%2c3.9-3.1%2c7-7%2c7s-7-3.1-7-7V7.3l7-3.1l7%2c3.1V13z'/%3e%20%3ccircle%20cx='12'%20cy='9'%20r='2'/%3e%20%3cpath%20d='M15%2c16H9v-1c0-1.7%2c1.3-3%2c3-3h0c1.7%2c0%2c3%2c1.3%2c3%2c3V16z'/%3e%20%3c/g%3e%20%3c/svg%3e";function Ew(){const[t,e]=X.exports.useState(je.selectedTab);return X.exports.useEffect(()=>{const n=r=>{e(r)};return je.on(te.events.navigation.TAB_SELECTED,n),()=>{je.removeListener(te.events.navigation.TAB_SELECTED,n)}},[]),[t]}function zB(){const t=Fe.matrixClient,[e,n]=X.exports.useState(null);return X.exports.useEffect(()=>{let r=!0;const o=()=>t.getDevices().then(a=>{r&&n(a.devices||[])});o();const i=a=>{a.includes(t.getUserId())&&o()};return t.on("crypto.devicesUpdated",i),()=>{t.removeListener("crypto.devicesUpdated",i),r=!1}},[]),e}var WB=Je();function Oie(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var J9={};function ib(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&J9[e[0]]||(typeof e[0]=="string"&&(J9[e[0]]=new Date),Oie.apply(void 0,e))}function X9(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var r=function o(){setTimeout(function(){t.off("initialized",o)},0),n()};t.on("initialized",r)}})}function Bie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],o=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(u,d){var s=e.services.backendConnector.state["".concat(u,"|").concat(d)];return s===-1||s===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!o||a(i,t)))}function Pie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return ib("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{precheck:function(i,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,t))return!1}}):Bie(t,e,n)}var Mie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Nie={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Lie=function(e){return Nie[e]},Uie=function(e){return e.replace(Mie,Lie)};function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Z9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){WB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ab={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Uie};function jie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ab=Z9(Z9({},ab),t)}function $ie(){return ab}var YB;function qie(t){YB=t}function Vie(){return YB}function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yB(r.key),r)}}function _o(t,e,n){return e&&eT(t.prototype,e),n&&eT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Gie={type:"3rdParty",init:function(e){jie(e.options.react),qie(e)}},Kie=X.exports.createContext(),Hie=function(){function t(){Fo(this,t),this.usedNamespaces={}}return _o(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(o){r.usedNamespaces[o]||(r.usedNamespaces[o]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function JB(t){if(Array.isArray(t))return t}function zie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,a,l=[],u=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(s){d=!0,o=s}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XB(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function QB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(t,e){return JB(t)||zie(t,e)||XB(t,e)||QB()}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function M2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){WB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yie=function(e,n){var r=X.exports.useRef();return X.exports.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function ZB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=X.exports.useContext(Kie)||{},o=r.i18n,i=r.defaultNS,a=n||o||Vie();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Hie),!a){ib("You will need to pass in an i18next instance by using initReactI18next");var l=function(N){return Array.isArray(N)?N[N.length-1]:N},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}a.options.react&&a.options.react.wait!==void 0&&ib("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var d=M2(M2(M2({},$ie()),a.options.react),e),s=d.useSuspense,g=d.keyPrefix,c=t||i||a.options&&a.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(c);var h=(a.isInitialized||a.initializedStoreOnce)&&c.every(function(x){return Pie(x,a,d)});function _(){return a.getFixedT(null,d.nsMode==="fallback"?c:c[0],g)}var F=X.exports.useState(_),m=Wie(F,2),p=m[0],f=m[1],v=c.join(),y=Yie(v),w=X.exports.useRef(!0);X.exports.useEffect(function(){var x=d.bindI18n,N=d.bindI18nStore;w.current=!0,!h&&!s&&X9(a,c,function(){w.current&&f(_)}),h&&y&&y!==v&&w.current&&f(_);function U(){w.current&&f(_)}return x&&a&&a.on(x,U),N&&a&&a.store.on(N,U),function(){w.current=!1,x&&a&&x.split(" ").forEach(function(q){return a.off(q,U)}),N&&a&&N.split(" ").forEach(function(q){return a.store.off(q,U)})}},[a,v]);var b=X.exports.useRef(!0);X.exports.useEffect(function(){w.current&&!b.current&&f(_),b.current=!1},[a,g]);var S=[p,a,h];if(S.t=p,S.i18n=a,S.ready=h,h||!h&&!s)return S;throw new Promise(function(x){X9(a,c,function(){x()})})}function rT(){ct.dispatch({type:te.actions.settings.TOGGLE_SYSTEM_THEME})}function Jie(){ct.dispatch({type:te.actions.settings.TOGGLE_MARKDOWN})}function Xie(){ct.dispatch({type:te.actions.settings.TOGGLE_PEOPLE_DRAWER})}function Qie(){ct.dispatch({type:te.actions.settings.TOGGLE_MEMBERSHIP_EVENT})}function Zie(){ct.dispatch({type:te.actions.settings.TOGGLE_HIDE_NAVIGATION})}function eae(){ct.dispatch({type:te.actions.settings.TOGGLE_NICKAVATAR_EVENT})}function tae(){ct.dispatch({type:te.actions.settings.TOGGLE_SELF_TRANSLATE})}function nae(){ct.dispatch({type:te.actions.settings.TOGGLE_NOTIFICATIONS})}function rae(){ct.dispatch({type:te.actions.settings.TOGGLE_READ_RECEIPTS})}function oae(){ct.dispatch({type:te.actions.settings.TOGGLE_NOTIFICATION_SOUNDS})}function iae(t,e){const[n,r]=X.exports.useState(e);return X.exports.useEffect(()=>{var a;let o;const i=()=>r(o.state);return(a=navigator.permissions)!=null&&a.query&&navigator.permissions.query({name:t}).then(l=>{o=l,i(),o.addEventListener("change",i)}),()=>{o&&o.removeEventListener("change",i)}},[]),[n,r]}function _r({isActive:t,onToggle:e,disabled:n}){const r=`toggle${t?" toggle--active":""}`;return e===null?E("span",{className:r}):E("button",{onClick:()=>e(!t),className:r,type:"button",disabled:n})}_r.defaultProps={isActive:!1,disabled:!1,onToggle:null};_r.propTypes={isActive:J.exports.bool,onToggle:J.exports.func,disabled:J.exports.bool};function ww({selected:t,iconSrc:e,onClick:n,children:r,disabled:o}){return E(Me,{className:`tab-item ${t?"tab-item--selected":""}`,iconSrc:e,onClick:n,disabled:o,children:r})}ww.defaultProps={selected:!1,iconSrc:null,onClick:null,disabled:!1};ww.propTypes={selected:J.exports.bool,iconSrc:J.exports.string,onClick:J.exports.func,children:J.exports.node.isRequired,disabled:J.exports.bool};function Tg({items:t,defaultSelected:e,onSelect:n}){const[r,o]=X.exports.useState(t[e]),i=(a,l)=>{r!==a&&(o(a),n(a,l))};return E("div",{className:"tabs",children:E(Kt,{horizontal:!0,vertical:!1,invisible:!0,children:E("div",{className:"tabs__content",children:t.map((a,l)=>E(ww,{selected:r.text===a.text,iconSrc:a.iconSrc,disabled:a.disabled,onClick:()=>i(a,l),children:a.text},a.text))})})})}Tg.defaultProps={defaultSelected:0};Tg.propTypes={items:J.exports.arrayOf(J.exports.shape({iconSrc:J.exports.string,text:J.exports.string,disabled:J.exports.bool})).isRequired,defaultSelected:J.exports.number,onSelect:J.exports.func.isRequired};function fc({selected:t,segments:e,onSelect:n}){const[r,o]=X.exports.useState(t);function i(a){o(a),n(a)}return X.exports.useEffect(()=>{o(t)},[t]),E("div",{className:"segmented-controls",children:e.map((a,l)=>E("button",{className:`segment-btn${r===l?" segment-btn--active":""}`,type:"button",onClick:()=>i(l),onMouseUp:u=>bi(u,".segment-btn"),children:re("div",{className:"segment-btn__base",children:[a.iconSrc&&E(It,{size:"small",src:a.iconSrc}),a.text&&E(ue,{variant:"b2",children:a.text})]})},Math.random().toString(20).substr(2,6)))})}fc.propTypes={selected:J.exports.number.isRequired,segments:J.exports.arrayOf(J.exports.shape({iconSrc:J.exports.string,text:J.exports.string})).isRequired,onSelect:J.exports.func.isRequired};var sb={exports:{}},cl={},lb={exports:{}},No={},Pp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n="none",r="contents",o=/input|select|textarea|button|object|iframe/;function i(g,c){return c.getPropertyValue("overflow")!=="visible"||g.scrollWidth<=0&&g.scrollHeight<=0}function a(g){var c=g.offsetWidth<=0&&g.offsetHeight<=0;if(c&&!g.innerHTML)return!0;try{var h=window.getComputedStyle(g),_=h.getPropertyValue("display");return c?_!==r&&i(g,h):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(g){for(var c=g,h=g.getRootNode&&g.getRootNode();c&&c!==document.body;){if(h&&c===h&&(c=h.host.parentNode),a(c))return!1;c=c.parentNode}return!0}function u(g,c){var h=g.nodeName.toLowerCase(),_=o.test(h)&&!g.disabled||h==="a"&&g.href||c;return _&&l(g)}function d(g){var c=g.getAttribute("tabindex");c===null&&(c=void 0);var h=isNaN(c);return(h||c>=0)&&u(g,!h)}function s(g){var c=[].slice.call(g.querySelectorAll("*"),0).reduce(function(h,_){return h.concat(_.shadowRoot?s(_.shadowRoot):[_])},[]);return c.filter(d)}t.exports=e.default})(Pp,Pp.exports);Object.defineProperty(No,"__esModule",{value:!0});No.resetState=uae;No.log=cae;No.handleBlur=$f;No.handleFocus=qf;No.markForFocusLater=dae;No.returnFocus=hae;No.popWithoutFocus=fae;No.setupScopedFocus=gae;No.teardownScopedFocus=pae;var aae=Pp.exports,sae=lae(aae);function lae(t){return t&&t.__esModule?t:{default:t}}var gc=[],Su=null,ub=!1;function uae(){gc=[]}function cae(){}function $f(){ub=!0}function qf(){if(ub){if(ub=!1,!Su)return;setTimeout(function(){if(!Su.contains(document.activeElement)){var t=(0,sae.default)(Su)[0]||Su;t.focus()}},0)}}function dae(){gc.push(document.activeElement)}function hae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{gc.length!==0&&(e=gc.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function fae(){gc.length>0&&gc.pop()}function gae(t){Su=t,window.addEventListener?(window.addEventListener("blur",$f,!1),document.addEventListener("focus",qf,!0)):(window.attachEvent("onBlur",$f),document.attachEvent("onFocus",qf))}function pae(){Su=null,window.addEventListener?(window.removeEventListener("blur",$f),document.removeEventListener("focus",qf)):(window.detachEvent("onBlur",$f),document.detachEvent("onFocus",qf))}var cb={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=Pp.exports,r=o(n);function o(l){return l&&l.__esModule?l:{default:l}}function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?i(l.activeElement.shadowRoot):l.activeElement}function a(l,u){var d=(0,r.default)(l);if(!d.length){u.preventDefault();return}var s=void 0,g=u.shiftKey,c=d[0],h=d[d.length-1],_=i();if(l===_){if(!g)return;s=h}if(h===_&&!g&&(s=c),c===_&&g&&(s=h),s){u.preventDefault(),s.focus();return}var F=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),m=F!=null&&F[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(m){var p=d.indexOf(_);if(p>-1&&(p+=g?-1:1),s=d[p],typeof s>"u"){u.preventDefault(),s=g?h:c,s.focus();return}u.preventDefault(),s.focus()}}t.exports=e.default})(cb,cb.exports);var Lo={},mae=function(){},Fae=mae,Io={},e7={exports:{}};(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(e7);Object.defineProperty(Io,"__esModule",{value:!0});Io.canUseDOM=Io.SafeNodeList=Io.SafeHTMLCollection=void 0;var _ae=e7.exports,vae=yae(_ae);function yae(t){return t&&t.__esModule?t:{default:t}}var yF=vae.default,bae=yF.canUseDOM?window.HTMLElement:{};Io.SafeHTMLCollection=yF.canUseDOM?window.HTMLCollection:{};Io.SafeNodeList=yF.canUseDOM?window.NodeList:{};Io.canUseDOM=yF.canUseDOM;Io.default=bae;Object.defineProperty(Lo,"__esModule",{value:!0});Lo.resetState=Sae;Lo.log=xae;Lo.assertNodeList=t7;Lo.setElement=Cae;Lo.validateElement=Dw;Lo.hide=Tae;Lo.show=Iae;Lo.documentNotReadyOrSSRTesting=Rae;var Eae=Fae,wae=kae(Eae),Dae=Io;function kae(t){return t&&t.__esModule?t:{default:t}}var Qr=null;function Sae(){Qr&&(Qr.removeAttribute?Qr.removeAttribute("aria-hidden"):Qr.length!=null?Qr.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Qr).forEach(function(t){return t.removeAttribute("aria-hidden")})),Qr=null}function xae(){}function t7(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Cae(t){var e=t;if(typeof e=="string"&&Dae.canUseDOM){var n=document.querySelectorAll(e);t7(n,e),e=n}return Qr=e||Qr,Qr}function Dw(t){var e=t||Qr;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,wae.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Tae(t){var e=!0,n=!1,r=void 0;try{for(var o=Dw(t)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var a=i.value;a.setAttribute("aria-hidden","true")}}catch(l){n=!0,r=l}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}function Iae(t){var e=!0,n=!1,r=void 0;try{for(var o=Dw(t)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var a=i.value;a.removeAttribute("aria-hidden")}}catch(l){n=!0,r=l}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}function Rae(){Qr=null}var $c={};Object.defineProperty($c,"__esModule",{value:!0});$c.resetState=Aae;$c.log=Oae;var Qh={},Zh={};function oT(t,e){t.classList.remove(e)}function Aae(){var t=document.getElementsByTagName("html")[0];for(var e in Qh)oT(t,Qh[e]);var n=document.body;for(var r in Zh)oT(n,Zh[r]);Qh={},Zh={}}function Oae(){}var Bae=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Pae=function(e,n){return e[n]&&(e[n]-=1),n},Mae=function(e,n,r){r.forEach(function(o){Bae(n,o),e.add(o)})},Nae=function(e,n,r){r.forEach(function(o){Pae(n,o),n[o]===0&&e.remove(o)})};$c.add=function(e,n){return Mae(e.classList,e.nodeName.toLowerCase()=="html"?Qh:Zh,n.split(" "))};$c.remove=function(e,n){return Nae(e.classList,e.nodeName.toLowerCase()=="html"?Qh:Zh,n.split(" "))};var qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.log=Uae;qc.resetState=jae;function Lae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n7=function t(){var e=this;Lae(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Mp=new n7;function Uae(){console.log("portalOpenInstances ----------"),console.log(Mp.openInstances.length),Mp.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function jae(){Mp=new n7}qc.default=Mp;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.resetState=Gae;kw.log=Kae;var $ae=qc,qae=Vae($ae);function Vae(t){return t&&t.__esModule?t:{default:t}}var Ln=void 0,So=void 0,Xs=[];function Gae(){for(var t=[Ln,So],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Ln=So=null,Xs=[]}function Kae(){console.log("bodyTrap ----------"),console.log(Xs.length);for(var t=[Ln,So],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function iT(){Xs.length!==0&&Xs[Xs.length-1].focusContent()}function Hae(t,e){!Ln&&!So&&(Ln=document.createElement("div"),Ln.setAttribute("data-react-modal-body-trap",""),Ln.style.position="absolute",Ln.style.opacity="0",Ln.setAttribute("tabindex","0"),Ln.addEventListener("focus",iT),So=Ln.cloneNode(),So.addEventListener("focus",iT)),Xs=e,Xs.length>0?(document.body.firstChild!==Ln&&document.body.insertBefore(Ln,document.body.firstChild),document.body.lastChild!==So&&document.body.appendChild(So)):(Ln.parentElement&&Ln.parentElement.removeChild(Ln),So.parentElement&&So.parentElement.removeChild(So))}qae.default.subscribe(Hae);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var A in M)Object.prototype.hasOwnProperty.call(M,A)&&(C[A]=M[A])}return C},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},o=function(){function C(I,M){for(var A=0;A<M.length;A++){var $=M[A];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,M,A){return M&&C(I.prototype,M),A&&C(I,A),I}}(),i=X.exports,a=J.exports,l=w(a),u=No,d=y(u),s=cb.exports,g=w(s),c=Lo,h=y(c),_=$c,F=y(_),m=Io,p=w(m),f=qc,v=w(f);function y(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(I[M]=C[M]);return I.default=C,I}function w(C){return C&&C.__esModule?C:{default:C}}function b(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function S(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function x(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var N={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(I){return I.code==="Tab"||I.keyCode===9},q=function(I){return I.code==="Escape"||I.keyCode===27},P=0,G=function(C){x(I,C);function I(M){b(this,I);var A=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M));return A.setOverlayRef=function($){A.overlay=$,A.props.overlayRef&&A.props.overlayRef($)},A.setContentRef=function($){A.content=$,A.props.contentRef&&A.props.contentRef($)},A.afterClose=function(){var $=A.props,Y=$.appElement,T=$.ariaHideApp,D=$.htmlOpenClassName,R=$.bodyOpenClassName,B=$.parentSelector,H=B&&B().ownerDocument||document;R&&F.remove(H.body,R),D&&F.remove(H.getElementsByTagName("html")[0],D),T&&P>0&&(P-=1,P===0&&h.show(Y)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(d.returnFocus(A.props.preventScroll),d.teardownScopedFocus()):d.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),v.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(d.setupScopedFocus(A.node),d.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var $=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:$},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function($){U($)&&(0,g.default)(A.content,$),A.props.shouldCloseOnEsc&&q($)&&($.stopPropagation(),A.requestClose($))},A.handleOverlayOnClick=function($){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose($):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function($){!A.props.shouldCloseOnOverlayClick&&$.target==A.overlay&&$.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function($){return A.ownerHandlesClose()&&A.props.onRequestClose($)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function($,Y){var T=(typeof Y>"u"?"undefined":r(Y))==="object"?Y:{base:N[$],afterOpen:N[$]+"--after-open",beforeClose:N[$]+"--before-close"},D=T.base;return A.state.afterOpen&&(D=D+" "+T.afterOpen),A.state.beforeClose&&(D=D+" "+T.beforeClose),typeof Y=="string"&&Y?D+" "+Y:D},A.attributesFromObject=function($,Y){return Object.keys(Y).reduce(function(T,D){return T[$+"-"+D]=Y[D],T},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return o(I,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,$){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!$.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,$=A.appElement,Y=A.ariaHideApp,T=A.htmlOpenClassName,D=A.bodyOpenClassName,R=A.parentSelector,B=R&&R().ownerDocument||document;D&&F.add(B.body,D),T&&F.add(B.getElementsByTagName("html")[0],T),Y&&(P+=1,h.hide($)),v.default.register(this)}},{key:"render",value:function(){var A=this.props,$=A.id,Y=A.className,T=A.overlayClassName,D=A.defaultStyles,R=A.children,B=Y?{}:D.content,H=T?{}:D.overlay;if(this.shouldBeClosed())return null;var Q={ref:this.setOverlayRef,className:this.buildClassName("overlay",T),style:n({},H,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},L=n({id:$,ref:this.setContentRef,style:n({},B,this.props.style.content),className:this.buildClassName("content",Y),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),le=this.props.contentElement(L,R);return this.props.overlayElement(Q,le)}}]),I}(i.Component);G.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},G.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(p.default),l.default.instanceOf(m.SafeHTMLCollection),l.default.instanceOf(m.SafeNodeList),l.default.arrayOf(l.default.instanceOf(p.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},e.default=G,t.exports=e.default})(lb,lb.exports);function r7(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function o7(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function i7(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}r7.__suppressDeprecationWarning=!0;o7.__suppressDeprecationWarning=!0;i7.__suppressDeprecationWarning=!0;function zae(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=r7,e.componentWillReceiveProps=o7),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i7;var l=e.componentDidUpdate;e.componentDidUpdate=function(d,s,g){var c=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;l.call(this,d,s,c)}}return t}const Wae=Object.freeze(Object.defineProperty({__proto__:null,polyfill:zae},Symbol.toStringTag,{value:"Module"})),Yae=yb(Wae);Object.defineProperty(cl,"__esModule",{value:!0});cl.bodyOpenClassName=cl.portalClassName=void 0;var aT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jae=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a7=X.exports,Np=Ig(a7),Xae=Yp.exports,Lp=Ig(Xae),Qae=J.exports,mt=Ig(Qae),Zae=lb.exports,sT=Ig(Zae),ese=Lo,tse=rse(ese),Da=Io,lT=Ig(Da),nse=Yae;function rse(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ig(t){return t&&t.__esModule?t:{default:t}}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ise(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ase=cl.portalClassName="ReactModalPortal",sse=cl.bodyOpenClassName="ReactModal__Body--open",Rs=Da.canUseDOM&&Lp.default.createPortal!==void 0,cT=function(e){return document.createElement(e)},dT=function(){return Rs?Lp.default.createPortal:Lp.default.unstable_renderSubtreeIntoContainer};function q1(t){return t()}var Rg=function(t){ise(e,t);function e(){var n,r,o,i;ose(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return i=(r=(o=uT(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(l))),o),o.removePortal=function(){!Rs&&Lp.default.unmountComponentAtNode(o.node);var d=q1(o.props.parentSelector);d&&d.contains(o.node)?d.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(d){o.portal=d},o.renderPortal=function(d){var s=dT(),g=s(o,Np.default.createElement(sT.default,aT({defaultStyles:e.defaultStyles},d)),o.node);o.portalRef(g)},r),uT(o,i)}return Jae(e,[{key:"componentDidMount",value:function(){if(Da.canUseDOM){Rs||(this.node=cT("div")),this.node.className=this.props.portalClassName;var r=q1(this.props.parentSelector);r.appendChild(this.node),!Rs&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var o=q1(r.parentSelector),i=q1(this.props.parentSelector);return{prevParent:o,nextParent:i}}},{key:"componentDidUpdate",value:function(r,o,i){if(Da.canUseDOM){var a=this.props,l=a.isOpen,u=a.portalClassName;r.portalClassName!==u&&(this.node.className=u);var d=i.prevParent,s=i.nextParent;s!==d&&(d.removeChild(this.node),s.appendChild(this.node)),!(!r.isOpen&&!l)&&!Rs&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Da.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,o=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||o+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-o)):this.removePortal()}}},{key:"render",value:function(){if(!Da.canUseDOM||!Rs)return null;!this.node&&Rs&&(this.node=cT("div"));var r=dT();return r(Np.default.createElement(sT.default,aT({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){tse.setElement(r)}}]),e}(a7.Component);Rg.propTypes={isOpen:mt.default.bool.isRequired,style:mt.default.shape({content:mt.default.object,overlay:mt.default.object}),portalClassName:mt.default.string,bodyOpenClassName:mt.default.string,htmlOpenClassName:mt.default.string,className:mt.default.oneOfType([mt.default.string,mt.default.shape({base:mt.default.string.isRequired,afterOpen:mt.default.string.isRequired,beforeClose:mt.default.string.isRequired})]),overlayClassName:mt.default.oneOfType([mt.default.string,mt.default.shape({base:mt.default.string.isRequired,afterOpen:mt.default.string.isRequired,beforeClose:mt.default.string.isRequired})]),appElement:mt.default.oneOfType([mt.default.instanceOf(lT.default),mt.default.instanceOf(Da.SafeHTMLCollection),mt.default.instanceOf(Da.SafeNodeList),mt.default.arrayOf(mt.default.instanceOf(lT.default))]),onAfterOpen:mt.default.func,onRequestClose:mt.default.func,closeTimeoutMS:mt.default.number,ariaHideApp:mt.default.bool,shouldFocusAfterRender:mt.default.bool,shouldCloseOnOverlayClick:mt.default.bool,shouldReturnFocusAfterClose:mt.default.bool,preventScroll:mt.default.bool,parentSelector:mt.default.func,aria:mt.default.object,data:mt.default.object,role:mt.default.string,contentLabel:mt.default.string,shouldCloseOnEsc:mt.default.bool,overlayRef:mt.default.func,contentRef:mt.default.func,id:mt.default.string,overlayElement:mt.default.func,contentElement:mt.default.func};Rg.defaultProps={isOpen:!1,portalClassName:ase,bodyOpenClassName:sse,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Np.default.createElement("div",e,n)},contentElement:function(e,n){return Np.default.createElement("div",e,n)}};Rg.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,nse.polyfill)(Rg);cl.default=Rg;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=cl,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}e.default=r.default,t.exports=e.default})(sb,sb.exports);const s7=Wp(sb.exports);s7.setAppElement("#root");function Tl({className:t,overlayClassName:e,isOpen:n,size:r,onAfterOpen:o,onAfterClose:i,onRequestClose:a,closeFromOutside:l,children:u}){let d=t!==null?`${t} `:"";switch(r){case"large":d+="raw-modal__large ";break;case"medium":d+="raw-modal__medium ";break;case"small":default:d+="raw-modal__small "}X.exports.useEffect(()=>{je.setIsRawModalVisible(n)},[n]);const s=e!==null?`${e} `:"";return E(s7,{className:`${d}raw-modal`,overlayClassName:`${s}raw-modal__overlay`,isOpen:n,onAfterOpen:o,onAfterClose:i,onRequestClose:a,shouldCloseOnEsc:l,shouldCloseOnOverlayClick:l,shouldReturnFocusAfterClose:!1,children:u})}Tl.defaultProps={className:null,overlayClassName:null,size:"small",onAfterOpen:null,onAfterClose:null,onRequestClose:null,closeFromOutside:!0};Tl.propTypes={className:J.exports.string,overlayClassName:J.exports.string,isOpen:J.exports.bool.isRequired,size:J.exports.oneOf(["large","medium","small"]),onAfterOpen:J.exports.func,onAfterClose:J.exports.func,onRequestClose:J.exports.func,closeFromOutside:J.exports.bool,children:J.exports.node.isRequired};const l7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='14.8%2c4.2%2016.2%2c5.6%209.8%2c12%2016.2%2c18.4%2014.8%2c19.8%207%2c12%20'/%3e%20%3c/g%3e%20%3c/svg%3e";J.exports.bool,J.exports.oneOf(["surface","caution","danger"]),J.exports.string,J.exports.oneOf(["button","submit"]),J.exports.func.isRequired,J.exports.string.isRequired;function Ei({className:t,isOpen:e,title:n,contentTitle:r,drawer:o,drawerOptions:i,contentOptions:a,onAfterClose:l,onRequestClose:u,children:d}){const s=o!==null,g=r!==null?r:n;return E(Tl,{className:`${t===null?"":`${t} `}pw-modal`,overlayClassName:"pw-modal__overlay",isOpen:e,onAfterClose:l,onRequestClose:u,size:s?"large":"medium",children:re("div",{className:"pw",children:[s&&re("div",{className:"pw__drawer",children:[re(Hi,{children:[E(Ye,{size:"small",src:l7,onClick:u,tooltip:"Back"}),E(pi,{children:typeof n=="string"?E(ue,{variant:"s1",weight:"medium",primary:!0,children:We(n)}):n}),i]}),E("div",{className:"pw__drawer__content__wrapper",children:E(Kt,{invisible:!0,children:E("div",{className:"pw__drawer__content",children:o})})})]}),re("div",{className:"pw__content",children:[re(Hi,{children:[E(pi,{children:typeof g=="string"?E(ue,{variant:"h2",weight:"medium",primary:!0,children:We(g)}):g}),a]}),E("div",{className:"pw__content__wrapper",children:E(Kt,{autoHide:!0,children:E("div",{className:"pw__content-container",children:d})})})]})]})})}Ei.defaultProps={className:null,drawer:null,contentTitle:null,drawerOptions:null,contentOptions:null,onAfterClose:null,onRequestClose:null};Ei.propTypes={className:J.exports.string,isOpen:J.exports.bool.isRequired,title:J.exports.node.isRequired,contentTitle:J.exports.node,drawer:J.exports.node,drawerOptions:J.exports.node,contentOptions:J.exports.node,onAfterClose:J.exports.func,onRequestClose:J.exports.func,children:J.exports.node.isRequired};function Et({title:t,options:e,content:n}){return re("div",{className:"setting-tile",children:[re("div",{className:"setting-tile__content",children:[E("div",{className:"setting-tile__title",children:typeof t=="string"?E(ue,{variant:"b1",children:t}):t}),n]}),e!==null&&E("div",{className:"setting-tile__options",children:e})]})}Et.defaultProps={options:null,content:null};Et.propTypes={title:J.exports.node.isRequired,options:J.exports.node,content:J.exports.node};const ka=window.crypto.subtle||window.crypto.webkitSubtle;function eo(t,e){const n=new Error(t);return n.friendlyText=e,n}function Sa(){return"Your browser does not support the required cryptography extensions"}async function u7(t,e,n){const r=new Date;let o;try{o=await ka.importKey("raw",new TextEncoder().encode(n),{name:"PBKDF2"},!1,["deriveBits"])}catch(g){throw eo(`subtleCrypto.importKey failed: ${g}`,Sa())}let i;try{i=await ka.deriveBits({name:"PBKDF2",salt:t,iterations:e,hash:"SHA-512"},o,512)}catch(g){throw eo(`subtleCrypto.deriveBits failed: ${g}`,Sa())}const a=new Date;console.log(`E2e import/export: deriveKeys took ${a-r}ms`);const l=i.slice(0,32),u=i.slice(32),d=ka.importKey("raw",l,{name:"AES-CTR"},!1,["encrypt","decrypt"]).catch(g=>{throw eo(`subtleCrypto.importKey failed for AES key: ${g}`,Sa())}),s=ka.importKey("raw",u,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]).catch(g=>{throw eo(`subtleCrypto.importKey failed for HMAC key: ${g}`,Sa())});return await Promise.all([d,s])}function lse(t){const e=window.atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=1)n[r]=e.charCodeAt(r);return n}function use(t){const e=String.fromCharCode.apply(null,t);return window.btoa(e)}const c7="-----BEGIN MEGOLM SESSION DATA-----",d7="-----END MEGOLM SESSION DATA-----";function cse(t){const e=new TextDecoder().decode(new Uint8Array(t));let n=0;for(;;){const i=e.indexOf(`
`,n);if(i<0)throw new Error("Header line not found");const a=e.slice(n,i).trim();if(n=i+1,a===c7)break}const r=n;for(;;){const i=e.indexOf(`
`,n);if(e.slice(n,i<0?void 0:i).trim()===d7)break;if(i<0)throw new Error("Trailer line not found");n=i+1}const o=n;return lse(e.slice(r,o))}function dse(t){const n=Math.ceil(t.length/96),r=new Array(n+3);r[0]=c7;let o=0,i;for(i=1;i<=n;i+=1)r[i]=use(t.subarray(o,o+96)),o+=96;return r[i]=d7,i+=1,r[i]="",new TextEncoder().encode(r.join(`
`)).buffer}async function hse(t,e){const n=cse(t);if(n.length<1)throw eo("Invalid file: too short","Not a valid keyfile");if(n[0]!==1)throw eo("Unsupported version","Not a valid keyfile");const o=n.length-(1+16+16+4+32);if(o<0)throw eo("Invalid file: too short","Not a valid keyfile");const i=n.subarray(1,1+16),a=n.subarray(17,17+16),l=n[33]<<24|n[34]<<16|n[35]<<8|n[36],u=n.subarray(37,37+o),d=n.subarray(-32),[s,g]=await u7(i,l,e),c=n.subarray(0,-32);let h;try{h=await ka.verify({name:"HMAC"},g,d,c)}catch(F){throw eo(`subtleCrypto.verify failed: ${F}`,Sa())}if(!h)throw eo("hmac mismatch","Authentication check failed: Incorrect password?");let _;try{_=await ka.decrypt({name:"AES-CTR",counter:a,length:64},s,u)}catch(F){throw eo(`subtleCrypto.decrypt failed: ${F}`,Sa())}return new TextDecoder().decode(new Uint8Array(_))}async function fse(t,e,n){n=n||{};const r=n.kdf_rounds||5e5,o=new Uint8Array(16);window.crypto.getRandomValues(o);const i=new Uint8Array(16);window.crypto.getRandomValues(i),i[8]&=127;const[a,l]=await u7(o,r,e),u=new TextEncoder().encode(t);let d;try{d=await ka.encrypt({name:"AES-CTR",counter:i,length:64},a,u)}catch(p){throw eo("subtleCrypto.encrypt failed: "+p,Sa())}const s=new Uint8Array(d),g=1+o.length+i.length+4+s.length+32,c=new Uint8Array(g);let h=0;c[h++]=1,c.set(o,h),h+=o.length,c.set(i,h),h+=i.length,c[h++]=r>>24,c[h++]=r>>16&255,c[h++]=r>>8&255,c[h++]=r&255,c.set(s,h),h+=s.length;const _=c.subarray(0,h);let F;try{F=await ka.sign({name:"HMAC"},l,_)}catch(p){throw eo("subtleCrypto.sign failed: "+p,Sa())}const m=new Uint8Array(F);return c.set(m,h),dse(c)}const Sw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2z%20M12%2c20c-4.4%2c0-8-3.6-8-8s3.6-8%2c8-8s8%2c3.6%2c8%2c8%20S16.4%2c20%2c12%2c20z'/%3e%20%3cpolygon%20points='13%2c7%2011%2c7%2011%2c11%207%2c11%207%2c13%2011%2c13%2011%2c17%2013%2c17%2013%2c13%2017%2c13%2017%2c11%2013%2c11%20'/%3e%20%3c/g%3e%20%3c/svg%3e";function yn(...t){const e=X.exports.useRef(null),n=()=>e.current,r=o=>(e.current=o,e.current);return X.exports.useEffect(()=>(e.current=null,()=>{e.current=null}),t),{getItem:n,setItem:r}}function gse(){const t=yn(),[e,n]=X.exports.useState(null),[r,o]=X.exports.useState({isOngoing:!1,msg:null,type:te.status.PRE_FLIGHT}),i=X.exports.useRef(null),a=X.exports.useRef(null);async function l(g,c){try{const h=await g.arrayBuffer();t.getItem()&&o({isOngoing:!0,msg:"Decrypting file...",type:te.status.IN_FLIGHT});const _=await hse(h,c);t.getItem()&&o({isOngoing:!0,msg:"Decrypting messages...",type:te.status.IN_FLIGHT}),await Fe.matrixClient.importRoomKeys(JSON.parse(_)),t.getItem()&&(o({isOngoing:!1,msg:"Successfully imported all keys.",type:te.status.SUCCESS}),i.current.value=null,a.current.value=null)}catch(h){t.getItem()&&o({isOngoing:!1,msg:h.friendlyText||"Failed to decrypt keys. Please try again.",type:te.status.ERROR})}}const u=()=>{const g=a.current.value;g===""||e===null||r.isOngoing||l(e,g)},d=g=>{const c=g.target.files.item(0);a.current.value="",n(c),o({isOngoing:!1,msg:null,type:te.status.PRE_FLIGHT})},s=()=>{r.isOngoing||(i.current.value=null,a.current.value=null,n(null),o({isOngoing:!1,msg:null,type:te.status.PRE_FLIGHT}))};return X.exports.useEffect(()=>(t.setItem(!0),()=>{t.setItem(!1)}),[]),re("div",{className:"import-e2e-room-keys",children:[E("input",{ref:i,onChange:d,style:{display:"none"},type:"file"}),re("form",{className:"import-e2e-room-keys__form",onSubmit:g=>{g.preventDefault(),u()},children:[e!==null&&re("div",{className:"import-e2e-room-keys__file",children:[E(Ye,{onClick:s,src:Sw,tooltip:"Remove file"}),E(ue,{children:e.name})]}),e===null&&E(Me,{onClick:()=>i.current.click(),children:"Import keys"}),E(dt,{forwardRef:a,type:"password",placeholder:"Password",required:!0}),E(Me,{disabled:r.isOngoing,variant:"primary",type:"submit",children:"Decrypt"})]}),r.type===te.status.IN_FLIGHT&&re("div",{className:"import-e2e-room-keys__process",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:r.msg})]}),r.type===te.status.SUCCESS&&E(ue,{className:"import-e2e-room-keys__success",variant:"b2",children:r.msg}),r.type===te.status.ERROR&&E(ue,{className:"import-e2e-room-keys__error",variant:"b2",children:r.msg})]})}var h7={exports:{}};(function(t,e){(function(n,r){r()})(Pe,function(){function n(d,s){return typeof s>"u"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,s,g){var c=new XMLHttpRequest;c.open("GET",d),c.responseType="blob",c.onload=function(){u(c.response,s,g)},c.onerror=function(){console.error("could not download file")},c.send()}function o(d){var s=new XMLHttpRequest;s.open("HEAD",d,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(s)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pe=="object"&&Pe.global===Pe?Pe:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,s,g){var c=a.URL||a.webkitURL,h=document.createElement("a");s=s||d.name||"download",h.download=s,h.rel="noopener",typeof d=="string"?(h.href=d,h.origin===location.origin?i(h):o(h.href)?r(d,s,g):i(h,h.target="_blank")):(h.href=c.createObjectURL(d),setTimeout(function(){c.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(d,s,g){if(s=s||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,g),s);else if(o(d))r(d,s,g);else{var c=document.createElement("a");c.href=d,c.target="_blank",setTimeout(function(){i(c)})}}:function(d,s,g,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof d=="string")return r(d,s,g);var h=d.type==="application/octet-stream",_=/constructor/i.test(a.HTMLElement)||a.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||h&&_||l)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var v=m.result;v=F?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},m.readAsDataURL(d)}else{var p=a.URL||a.webkitURL,f=p.createObjectURL(d);c?c.location=f:location.href=f,c=null,setTimeout(function(){p.revokeObjectURL(f)},4e4)}});a.saveAs=u.saveAs=u,t.exports=u})})(h7);const xw=h7.exports;function pse(){const t=yn(),[e,n]=X.exports.useState({isOngoing:!1,msg:null,type:te.status.PRE_FLIGHT}),r=X.exports.useRef(null),o=X.exports.useRef(null),i=async()=>{const a=r.current.value;if(a!==o.current.value){n({isOngoing:!1,msg:"Password does not match.",type:te.status.ERROR});return}n({isOngoing:!0,msg:"Getting keys...",type:te.status.IN_FLIGHT});try{const l=await Fe.matrixClient.exportRoomKeys();t.getItem()&&n({isOngoing:!0,msg:"Encrypting keys...",type:te.status.IN_FLIGHT});const u=await fse(JSON.stringify(l),a),d=new Blob([u],{type:"text/plain;charset=us-ascii"});xw.saveAs(d,"cinny-keys.txt"),t.getItem()&&n({isOngoing:!1,msg:"Successfully exported all keys.",type:te.status.SUCCESS})}catch(l){t.getItem()&&n({isOngoing:!1,msg:l.friendlyText||"Failed to export keys. Please try again.",type:te.status.ERROR})}};return X.exports.useEffect(()=>(t.setItem(!0),()=>{t.setItem(!1)}),[]),re("div",{className:"export-e2e-room-keys",children:[re("form",{className:"export-e2e-room-keys__form",onSubmit:a=>{a.preventDefault(),i()},children:[E(dt,{forwardRef:r,type:"password",placeholder:"Password",required:!0}),E(dt,{forwardRef:o,type:"password",placeholder:"Confirm password",required:!0}),E(Me,{disabled:e.isOngoing,variant:"primary",type:"submit",children:"Export"})]}),e.type===te.status.IN_FLIGHT&&re("div",{className:"import-e2e-room-keys__process",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:e.msg})]}),e.type===te.status.SUCCESS&&E(ue,{className:"import-e2e-room-keys__success",variant:"b2",children:e.msg}),e.type===te.status.ERROR&&E(ue,{className:"import-e2e-room-keys__error",variant:"b2",children:e.msg})]})}function as({variant:t,isActive:e,onToggle:n,disabled:r,tabIndex:o}){const i=`checkbox checkbox-${t}${e?" checkbox--active":""}`;return n===null?E("span",{className:i}):E("button",{onClick:()=>n(!e),className:i,type:"button",disabled:r,tabIndex:o})}as.defaultProps={variant:"primary",isActive:!1,onToggle:null,disabled:!1,tabIndex:0};as.propTypes={variant:J.exports.oneOf(["primary","positive","caution","danger"]),isActive:J.exports.bool,onToggle:J.exports.func,disabled:J.exports.bool,tabIndex:J.exports.number};const pc="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpolygon%20points='19%2c11%2013%2c11%2013%2c5%2011%2c5%2011%2c11%205%2c11%205%2c13%2011%2c13%2011%2c19%2013%2c19%2013%2c13%2019%2c13%20'/%3e%20%3c/svg%3e";function Ag({text:t,bgColor:e,imageSrc:n,onUpload:r,onRequestRemove:o,size:i}){const[a,l]=X.exports.useState(null),u=X.exports.useRef(null);async function d(g){const c=g.target.files.item(0);if(c!==null){try{const h=Fe.matrixClient.uploadContent(c);l(h);const _=await h;typeof(_==null?void 0:_.content_uri)=="string"&&r(_.content_uri),l(null)}catch{l(null)}u.current.value=null}}function s(){Fe.matrixClient.cancelUpload(a),l(null),u.current.value=null}return re("div",{className:"img-upload__wrapper",children:[re("button",{type:"button",className:"img-upload",onClick:()=>{a===null&&u.current.click()},children:[E(Jt,{imageSrc:n,text:t,bgColor:e,size:i}),re("div",{className:`img-upload__process ${a===null?" img-upload__process--stopped":""}`,children:[a===null&&(i==="large"?E(ue,{variant:"b3",weight:"bold",children:"Upload"}):E(It,{src:pc,color:"white"})),a!==null&&E(yt,{size:"small"})]})]}),(typeof n=="string"||a!==null)&&E("button",{className:"img-upload__btn-cancel",type:"button",onClick:a===null?o:s,children:E(ue,{variant:"b3",children:a?"Cancel":"Remove"})}),E("input",{onChange:d,style:{display:"none"},ref:u,type:"file",accept:"image/*"})]})}Ag.defaultProps={text:null,bgColor:"transparent",imageSrc:null,size:"large"};Ag.propTypes={text:J.exports.string,bgColor:J.exports.string,imageSrc:J.exports.string,onUpload:J.exports.func.isRequired,onRequestRemove:J.exports.func.isRequired,size:J.exports.oneOf(["large","normal"])};const Qs="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpolygon%20points='9.5%2c14.1%206%2c10.6%204.6%2c12%208.1%2c15.5%209.5%2c16.9%2019.4%2c7%2018%2c5.6%20'/%3e%20%3c/svg%3e";function Cw({usage:t,onSelect:e}){return re("div",{children:[E(ut,{children:"Usage"}),E(ft,{iconSrc:t==="emoticon"?Qs:void 0,variant:t==="emoticon"?"positive":"surface",onClick:()=>e("emoticon"),children:"Emoji"}),E(ft,{iconSrc:t==="sticker"?Qs:void 0,variant:t==="sticker"?"positive":"surface",onClick:()=>e("sticker"),children:"Sticker"}),E(ft,{iconSrc:t==="both"?Qs:void 0,variant:t==="both"?"positive":"surface",onClick:()=>e("both"),children:"Both"})]})}Cw.propTypes={usage:J.exports.oneOf(["emoticon","sticker","both"]).isRequired,onSelect:J.exports.func.isRequired};const Vc="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M20.6%2c5.6l-2.2-2.2C18%2c3%2c17.5%2c2.8%2c17%2c2.8S16%2c3%2c15.6%2c3.4L3%2c16v5h5L20.6%2c8.4C21.4%2c7.6%2c21.4%2c6.4%2c20.6%2c5.6z%20M7.2%2c19H5v-2.2%20l9.2-9.2l2.2%2c2.2L7.2%2c19z%20M15.6%2c6.2L17%2c4.8c0%2c0%2c0%2c0%2c0%2c0L19.2%2c7l-1.4%2c1.4L15.6%2c6.2z'/%3e%20%3c/svg%3e";function bF({avatarUrl:t,displayName:e,attribution:n,usage:r,onUsageChange:o,onAvatarChange:i,onEditProfile:a}){const[l,u]=X.exports.useState(!1);return re("div",{className:"image-pack-profile",children:[i?E(Ag,{bgColor:"#555",text:e,imageSrc:t,size:"normal",onUpload:i,onRequestRemove:()=>i(void 0)}):E(Jt,{bgColor:"#555",text:e,imageSrc:t,size:"normal"}),E("div",{className:"image-pack-profile__content",children:l?re("form",{onSubmit:g=>{g.preventDefault();const{nameInput:c,attributionInput:h}=g.target,_=c.value.trim()||void 0,F=h.value.trim()||void 0;a(_,F),u(!1)},children:[E(dt,{name:"nameInput",label:"Name",value:e,required:!0}),E(dt,{name:"attributionInput",label:"Attribution",value:n,resizable:!0}),re("div",{children:[E(Me,{variant:"primary",type:"submit",children:"Save"}),E(Me,{onClick:()=>u(!1),children:"Cancel"})]})]}):re(Qe,{children:[re("div",{children:[E(ue,{children:e}),a&&E(Ye,{size:"extra-small",onClick:()=>u(!0),src:Vc,tooltip:"Edit"})]}),n&&E(ue,{variant:"b3",children:n})]})}),re("div",{className:"image-pack-profile__usage",children:[E(ue,{variant:"b3",children:"Pack usage"}),E(Me,{onClick:o?g=>{rr("bottom",Rn(g,".btn-surface"),c=>E(Cw,{usage:r,onSelect:h=>{o(h),c()}}))}:void 0,iconSrc:o?fn:null,children:re(ue,{children:[r==="emoticon"&&"Emoji",r==="sticker"&&"Sticker",r==="both"&&"Both"]})})]})]})}bF.defaultProps={avatarUrl:null,attribution:null,onUsageChange:null,onAvatarChange:null,onEditProfile:null};bF.propTypes={avatarUrl:J.exports.string,displayName:J.exports.string.isRequired,attribution:J.exports.string,usage:J.exports.oneOf(["emoticon","sticker","both"]).isRequired,onUsageChange:J.exports.func,onAvatarChange:J.exports.func,onEditProfile:J.exports.func};const EF="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cg%3e%20%3cg%3e%20%3crect%20x='9'%20y='8'%20width='2'%20height='8'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='13'%20y='8'%20width='2'%20height='8'/%3e%20%3c/g%3e%20%3c/g%3e%20%3cpath%20d='M21%2c3h-5l-1.4-1.4C14.2%2c1.2%2c13.7%2c1%2c13.2%2c1h-2.3c-0.5%2c0-1%2c0.2-1.4%2c0.6L8%2c3H3v2h2v14c0%2c1.1%2c0.9%2c2%2c2%2c2h10c1.1%2c0%2c2-0.9%2c2-2V5h2%20V3z%20M17%2c19H7V5h10V19z'/%3e%20%3c/g%3e%20%3c/svg%3e";function wF({url:t,shortcode:e,usage:n,onUsageChange:r,onDelete:o,onRename:i}){return re("div",{className:"image-pack-item",children:[E(Jt,{imageSrc:t,size:"extra-small",text:e,bgColor:"black"}),E("div",{className:"image-pack-item__content",children:E(ue,{children:e})}),re("div",{className:"image-pack-item__usage",children:[re("div",{className:"image-pack-item__btn",children:[i&&E(Ye,{tooltip:"Rename",size:"extra-small",src:Vc,onClick:()=>i(e)}),o&&E(Ye,{tooltip:"Delete",size:"extra-small",src:EF,onClick:()=>o(e)})]}),re(Me,{onClick:r?l=>{rr("bottom",Rn(l,".btn-surface"),u=>E(Cw,{usage:n,onSelect:d=>{r(e,d),u()}}))}:void 0,children:[r&&E(It,{src:fn,size:"extra-small"}),re(ue,{variant:"b2",children:[n==="emoticon"&&"Emoji",n==="sticker"&&"Sticker",n==="both"&&"Both"]})]})]})]})}wF.defaultProps={onUsageChange:null,onDelete:null,onRename:null};wF.propTypes={url:J.exports.string.isRequired,shortcode:J.exports.string.isRequired,usage:J.exports.oneOf(["emoticon","sticker","both"]).isRequired,onUsageChange:J.exports.func,onDelete:J.exports.func,onRename:J.exports.func};function Tw({onUpload:t}){const e=Fe.matrixClient,n=X.exports.useRef(null),r=X.exports.useRef(null),[o,i]=X.exports.useState(null),[a,l]=X.exports.useState(!1);return re("form",{onSubmit:async g=>{if(g.preventDefault(),!o)return;const{shortcodeInput:c}=g.target,h=c.value.trim();if(h==="")return;l(!0);const _=await zz(o,512,512),{content_uri:F}=await e.uploadContent(_);t(h,F),l(!1),i(null),r.current.value=""},className:"image-pack-upload",children:[E("input",{ref:n,onChange:g=>{const c=g.target.files[0];c&&(i(c),r.current.value=c.name.slice(0,c.name.indexOf(".")),r.current.focus())},style:{display:"none"},type:"file",accept:".png, .gif, .webp",required:!0}),o?re("div",{className:"image-pack-upload__file",children:[E(Ye,{onClick:()=>{i(null),n.current.value=null,r.current.value=""},src:Sw,tooltip:"Remove file"}),E(ue,{children:o.name})]}):E(Me,{onClick:()=>n.current.click(),children:"Import image"}),E(dt,{forwardRef:r,name:"shortcodeInput",placeholder:"shortcode",required:!0}),E(Me,{disabled:a,variant:"primary",type:"submit",children:a?"Uploading...":"Upload"})]})}Tw.propTypes={onUpload:J.exports.func.isRequired};const mse=t=>new Promise(e=>{let n=!1;Dr(E(ue,{variant:"s1",weight:"medium",children:"Rename"}),r=>E("div",{style:{padding:"var(--sp-normal)"},children:re("form",{onSubmit:o=>{o.preventDefault();const i=o.target.shortcode.value;i.trim()!==""&&(n=!0,e(i.trim()),r())},children:[E(dt,{value:t,name:"shortcode",label:"Shortcode",autoFocus:!0,required:!0}),E("div",{style:{height:"var(--sp-normal)"}}),E(Me,{variant:"primary",type:"submit",children:"Rename"})]})}),()=>{n||e(null)})});function Up(t){return t.includes("emoticon")&&t.includes("sticker")?"both":t.includes("emoticon")?"emoticon":t.includes("sticker")?"sticker":"both"}function Fse(t,e){var i,a;const r=(i=Fe.matrixClient.getAccountData("im.ponies.emote_rooms"))==null?void 0:i.getContent();if(typeof r!="object")return!1;const{rooms:o}=r;return typeof o!="object"?!1:((a=o[t])==null?void 0:a[e])!==void 0}function _se(t,e){const n=Fe.matrixClient,r=n.getRoom(t),o=r.currentState.getStateEvents("im.ponies.room_emotes",e);return{pack:X.exports.useMemo(()=>kl.parsePack(o.getId(),o.getContent()),[r,e]),sendPackContent:l=>{n.sendStateEvent(t,"im.ponies.room_emotes",l,e)}}}function vse(){const t=Fe.matrixClient,e=t.getAccountData("im.ponies.user_emotes");return{pack:X.exports.useMemo(()=>kl.parsePack(t.getUserId(),(e==null?void 0:e.getContent())??{pack:{display_name:"Personal"},images:{}}),[]),sendPackContent:o=>{t.setAccountData("im.ponies.user_emotes",o)}}}function f7(t,e){const[,n]=X.exports.useReducer(g=>g+1,0),r=g=>{if(typeof g!="string")return;let c=g==null?void 0:g.replace(/\s/g,"_");return t.getImages().get(c)&&(c=UA(c,h=>t.getImages().get(h))),c};return{handleAvatarChange:g=>{t.setAvatarUrl(g),e(t.getContent()),n()},handleEditProfile:(g,c)=>{t.setDisplayName(g),t.setAttribution(c),e(t.getContent()),n()},handleUsageChange:g=>{const c=[];(g==="emoticon"||g==="both")&&c.push("emoticon"),(g==="sticker"||g==="both")&&c.push("sticker"),t.setUsage(c),t.getImages().forEach(h=>t.setImageUsage(h.shortcode,void 0)),e(t.getContent()),n()},handleRenameItem:async g=>{const c=r(await mse(g));!c||c===g||(t.updateImageKey(g,c),e(t.getContent()),n())},handleDeleteItem:async g=>{await or("Delete",`Are you sure that you want to delete "${g}"?`,"Delete","danger")&&(t.removeImage(g),e(t.getContent()),n())},handleUsageItem:(g,c)=>{const h=[];(c==="emoticon"||c==="both")&&h.push("emoticon"),(c==="sticker"||c==="both")&&h.push("sticker"),t.setImageUsage(g,h),e(t.getContent()),n()},handleAddItem:(g,c)=>{const h=r(g);!h||!c||(t.addImage(h,{url:c}),e(t.getContent()),n())}}}function yse(t,e,n){var o;const r=((o=t.getAccountData("im.ponies.emote_rooms"))==null?void 0:o.getContent())??{};return r.rooms||(r.rooms={}),r.rooms[e]||(r.rooms[e]={}),r.rooms[e][n]={},t.setAccountData("im.ponies.emote_rooms",r)}function g7(t,e,n){var o;const r=((o=t.getAccountData("im.ponies.emote_rooms"))==null?void 0:o.getContent())??{};return!r.rooms||!r.rooms[e]?Promise.resolve():(delete r.rooms[e][n],Object.keys(r.rooms[e]).length===0&&delete r.rooms[e],t.setAccountData("im.ponies.emote_rooms",r))}function Iw({roomId:t,stateKey:e,handlePackDelete:n}){var S;const r=Fe.matrixClient,o=r.getRoom(t),[i,a]=X.exports.useState(!1),[l,u]=X.exports.useState(Fse(t,e)),{pack:d,sendPackContent:s}=_se(t,e),{handleAvatarChange:g,handleEditProfile:c,handleUsageChange:h,handleRenameItem:_,handleDeleteItem:F,handleUsageItem:m,handleAddItem:p}=f7(d,s),f=x=>{u(x),x?yse(r,t,e):g7(r,t,e)},v=((S=o.getMember(r.getUserId()))==null?void 0:S.powerLevel)||0,y=o.currentState.hasSufficientPowerLevelFor("state_default",v),w=async()=>{await or("Delete Pack",`Are you sure that you want to delete "${d.displayName}"?`,"Delete","danger")&&n(e)},b=[...d.images].slice(0,i?d.images.size:2);return re("div",{className:"image-pack",children:[E(bF,{avatarUrl:d.avatarUrl?r.mxcUrlToHttp(d.avatarUrl,42,42,"crop"):null,displayName:d.displayName??"Unknown",attribution:d.attribution,usage:Up(d.usage),onUsageChange:y?h:null,onAvatarChange:y?g:null,onEditProfile:y?c:null}),y&&E(Tw,{onUpload:p}),b.length===0?null:re("div",{children:[re("div",{className:"image-pack__header",children:[E(ue,{variant:"b3",children:"Image"}),E(ue,{variant:"b3",children:"Shortcode"}),E(ue,{variant:"b3",children:"Usage"})]}),b.map(([x,N])=>E(wF,{url:r.mxcUrlToHttp(N.mxc),shortcode:x,usage:Up(N.usage),onUsageChange:y?m:void 0,onDelete:y?F:void 0,onRename:y?_:void 0},x))]}),(d.images.size>2||n)&&re("div",{className:"image-pack__footer",children:[d.images.size>2&&E(Me,{onClick:()=>a(!i),children:i?"View less":`View ${d.images.size-2} more`}),n&&E(Me,{variant:"danger",onClick:w,children:"Delete Pack"})]}),re("div",{className:"image-pack__global",children:[E(as,{variant:"positive",onToggle:f,isActive:l}),re("div",{children:[E(ue,{variant:"b2",children:"Use globally"}),E(ue,{variant:"b3",children:"Add this pack to your account to use in all rooms."})]})]})]})}Iw.defaultProps={handlePackDelete:null};Iw.propTypes={roomId:J.exports.string.isRequired,stateKey:J.exports.string.isRequired,handlePackDelete:J.exports.func};function bse(){const t=Fe.matrixClient,[e,n]=X.exports.useState(!1),{pack:r,sendPackContent:o}=vse(),{handleAvatarChange:i,handleEditProfile:a,handleUsageChange:l,handleRenameItem:u,handleDeleteItem:d,handleUsageItem:s,handleAddItem:g}=f7(r,o),c=[...r.images].slice(0,e?r.images.size:2);return re("div",{className:"image-pack",children:[E(bF,{avatarUrl:r.avatarUrl?t.mxcUrlToHttp(r.avatarUrl,42,42,"crop"):null,displayName:r.displayName??"Personal",attribution:r.attribution,usage:Up(r.usage),onUsageChange:l,onAvatarChange:i,onEditProfile:a}),E(Tw,{onUpload:g}),c.length===0?null:re("div",{children:[re("div",{className:"image-pack__header",children:[E(ue,{variant:"b3",children:"Image"}),E(ue,{variant:"b3",children:"Shortcode"}),E(ue,{variant:"b3",children:"Usage"})]}),c.map(([h,_])=>E(wF,{url:t.mxcUrlToHttp(_.mxc),shortcode:h,usage:Up(_.usage),onUsageChange:s,onDelete:d,onRename:u},h))]}),r.images.size>2&&E("div",{className:"image-pack__footer",children:E(Me,{onClick:()=>n(!e),children:e?"View less":`View ${r.images.size-2} more`})})]})}function Ese(){var i;const[,t]=X.exports.useReducer(a=>a+1,0),e=Fe.matrixClient,n=new Map,r=((i=e.getAccountData("im.ponies.emote_rooms"))==null?void 0:i.getContent())??{rooms:{}},{rooms:o}=r;return Object.keys(o).forEach(a=>{if(typeof o[a]!="object")return;const l=e.getRoom(a),u=Object.keys(o[a]);!l||u.length===0||n.set(a,u)}),X.exports.useEffect(()=>{const a=l=>{l.getType()==="im.ponies.emote_rooms"&&t()};return e.addListener("accountData",a),()=>{e.removeListener("accountData",a)}},[]),n}function wse(){const t=Fe.matrixClient,e=Ese(),n=(r,o)=>{g7(t,r,o)};return re("div",{className:"image-pack-global",children:[E(ut,{children:"Global packs"}),E("div",{children:e.size>0?[...e].map(([r,o])=>{const i=t.getRoom(r);return o.map(a=>{const l=i.currentState.getStateEvents("im.ponies.room_emotes",a),u=kl.parsePack(l==null?void 0:l.getId(),l==null?void 0:l.getContent());return u?re("div",{className:"image-pack__global",children:[E(as,{variant:"positive",onToggle:()=>n(r,a),isActive:!0}),re("div",{children:[E(ue,{variant:"b2",children:u.displayName??"Unknown"}),E(ue,{variant:"b3",children:i.name})]})]},u.id):null})}):E("div",{className:"image-pack-global__empty",children:E(ue,{children:"No global packs"})})})]})}function Rw({value:t,onSelect:e}){return re("div",{children:[E(ut,{children:"Notification"}),E(ft,{iconSrc:t==="off"?Qs:null,variant:t==="off"?"positive":"surface",onClick:()=>e("off"),children:"Off"}),E(ft,{iconSrc:t==="on"?Qs:null,variant:t==="on"?"positive":"surface",onClick:()=>e("on"),children:"On"}),E(ft,{iconSrc:t==="noisy"?Qs:null,variant:t==="noisy"?"positive":"surface",onClick:()=>e("noisy"),children:"Noisy"})]})}Rw.propTypes={value:J.exports.oneOf(["off","on","noisy"]).isRequired,onSelect:J.exports.func.isRequired};function Aw(t){const e=Fe.matrixClient,[n,r]=X.exports.useState(e.getAccountData(t));return X.exports.useEffect(()=>{const o=i=>{i.getType()===t&&r(i)};return e.on("accountData",o),()=>{e.removeListener("accountData",o)}},[t]),n}const _n={ON:"on",OFF:"off",NOISY:"noisy"},xa={[_n.ON]:"On",[_n.OFF]:"Off",[_n.NOISY]:"Noisy"};Object.freeze(_n);const xu=".m.rule.room_one_to_one",Ms=".m.rule.encrypted_room_one_to_one",ef=".m.rule.message",Cu=".m.rule.encrypted";function Ca(t){const{actions:e}=t;return e.find(n=>(n==null?void 0:n.set_tweak)==="sound")?_n.NOISY:e.find(n=>(n==null?void 0:n.set_tweak)==="highlight")?_n.ON:(e.find(n=>n==="dont_notify"),_n.OFF)}function du(t,e=!1){if(t===_n.OFF)return["dont_notify"];const n={set_tweak:"highlight"};return typeof e=="boolean"&&(n.value=e),t===_n.ON?["notify",n]:["notify",{set_tweak:"sound",value:"default"},n]}function Dse(){var s,g;const t=Fe.matrixClient,e=(s=Aw("m.push_rules"))==null?void 0:s.getContent(),n=((g=e==null?void 0:e.global)==null?void 0:g.underride)??[],r={[xu]:_n.ON,[Ms]:_n.ON,[ef]:_n.NOISY,[Cu]:_n.NOISY},o=c=>{const h=[];return(c===xu||c===Ms)&&h.push({kind:"room_member_count",is:"2"}),h.push({kind:"event_match",key:"type",pattern:[Ms,Cu].includes(c)?"m.room.encrypted":"m.room.message"}),h},i=(c,h)=>{const _=e??{};_.global||(_.global={}),_.global.underride||(_.global.underride=[]);const F=_.global.underride;let m=F.find(p=>(p==null?void 0:p.rule_id)===c);m||(m={conditions:o(h),actions:[],rule_id:c,default:!0,enabled:!0},F.push(m)),m.actions=du(h),t.setAccountData("m.push_rules",_)},a=n.find(c=>c.rule_id===xu),l=n.find(c=>c.rule_id===Ms),u=n.find(c=>c.rule_id===ef),d=n.find(c=>c.rule_id===Cu);return a&&(r[xu]=Ca(a)),l&&(r[Ms]=Ca(l)),u&&(r[ef]=Ca(u)),d&&(r[Cu]=Ca(d)),[r,i]}function kse(){const[t,e]=Dse(),n=(r,o)=>{rr("bottom",Rn(r,".btn-surface"),i=>E(Rw,{value:t[o],onSelect:a=>{t[o]!==a&&e(o,a),i()}}))};return re("div",{className:"global-notification",children:[E(ut,{children:"Global Notifications"}),E(Et,{title:"Direct messages",options:E(Me,{onClick:r=>n(r,xu),iconSrc:fn,children:xa[t[xu]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all direct message."})}),E(Et,{title:"Encrypted direct messages",options:E(Me,{onClick:r=>n(r,Ms),iconSrc:fn,children:xa[t[Ms]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all encrypted direct message."})}),E(Et,{title:"Rooms messages",options:E(Me,{onClick:r=>n(r,ef),iconSrc:fn,children:xa[t[ef]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all room message."})}),E(Et,{title:"Encrypted rooms messages",options:E(Me,{onClick:r=>n(r,Cu),iconSrc:fn,children:xa[t[Cu]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all encrypted room message."})})]})}function Og({iconSrc:t,iconColor:e,text:n,children:r,onClick:o}){return re("button",{className:"chip",type:"button",onClick:o,children:[t!=null&&E(It,{src:t,color:e,size:"extra-small"}),n!=null&&n!==""&&E(ue,{variant:"b3",children:n}),r]})}Og.propTypes={iconSrc:J.exports.string,iconColor:J.exports.string,text:J.exports.string,children:J.exports.element,onClick:J.exports.func};Og.defaultProps={iconSrc:null,iconColor:null,text:null,children:null,onClick:null};const Ht="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpolygon%20points='17.7%2c16.2%2013.4%2c12%2017.7%2c7.8%2016.2%2c6.3%2012%2c10.6%207.8%2c6.3%206.3%2c7.8%2010.6%2c12%206.3%2c16.2%207.8%2c17.7%2012%2c13.4%2016.2%2c17.7%20'/%3e%20%3c/svg%3e",Ns=".m.rule.contains_display_name",Tu=".m.rule.roomnotif",Bi=".m.rule.contains_user_name",tf="keyword";function Sse(){var c,h,_;const t=Fe.matrixClient,e=(c=Aw("m.push_rules"))==null?void 0:c.getContent(),n=((h=e==null?void 0:e.global)==null?void 0:h.override)??[],r=((_=e==null?void 0:e.global)==null?void 0:_.content)??[],o={[Ns]:_n.NOISY,[Tu]:_n.NOISY,[Bi]:_n.NOISY},i=(F,m)=>{var y;const p=e??{};p.global||(p.global={}),p.global.override||(p.global.override=[]),p.global.content||(p.global.content=[]);const f=p.global.override,v=p.global.content;if(F===Ns||F===Tu){let w=f.find(b=>(b==null?void 0:b.rule_id)===F);w||(w={conditions:[],actions:[],rule_id:F,default:!0,enabled:!0},f.push(w)),F===Ns?(w.conditions=[{kind:"contains_display_name"}],w.actions=du(m,!0)):(w.conditions=[{kind:"event_match",key:"content.body",pattern:"@room"},{kind:"sender_notification_permission",key:"room"}],w.actions=du(m,!0))}else if(F===Bi){let w=v.find(b=>(b==null?void 0:b.rule_id)===F);if(!w){const b=t.getUserId(),S=((y=b.match(/^@?(\S+):(\S+)$/))==null?void 0:y[1])??b;w={actions:[],default:!0,enabled:!0,pattern:S,rule_id:F},v.push(w)}w.actions=du(m,!0)}else v.filter(b=>b.rule_id!==Bi).forEach(b=>{b.actions=du(m,!0)});t.setAccountData("m.push_rules",p)},a=F=>{r.find(m=>m.rule_id===F)||(r.push({rule_id:F,pattern:F,enabled:!0,default:!1,actions:du(o[tf]??_n.NOISY,!0)}),t.setAccountData("m.push_rules",e))},l=F=>{e.global.content=r.filter(m=>m.rule_id!==F.rule_id),t.setAccountData("m.push_rules",e)},u=n.find(F=>F.rule_id===Ns),d=n.find(F=>F.rule_id===Tu),s=r.find(F=>F.rule_id===Bi),g=r.find(F=>F.rule_id!==Bi);return u&&(o[Ns]=Ca(u)),d&&(o[Tu]=Ca(d)),s&&(o[Bi]=Ca(s)),g&&(o[tf]=Ca(g)),{rulesToType:o,pushRules:e,setRule:i,addKeyword:a,removeKeyword:l}}function xse(){var u;const{rulesToType:t,pushRules:e,setRule:n,addKeyword:r,removeKeyword:o}=Sse(),i=((u=e==null?void 0:e.global)==null?void 0:u.content.filter(d=>d.rule_id!==Bi))??[],a=(d,s)=>{rr("bottom",Rn(d,".btn-surface"),g=>E(Rw,{value:t[s],onSelect:c=>{t[s]!==c&&n(s,c),g()}}))},l=d=>{d.preventDefault();const{keywordInput:s}=d.target.elements,g=s.value.trim();g!==""&&(r(g),s.value="")};return re("div",{className:"keyword-notification",children:[E(ut,{children:"Mentions & keywords"}),E(Et,{title:"Message containing my display name",options:E(Me,{onClick:d=>a(d,Ns),iconSrc:fn,children:xa[t[Ns]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all message containing your display name."})}),E(Et,{title:"Message containing my username",options:E(Me,{onClick:d=>a(d,Bi),iconSrc:fn,children:xa[t[Bi]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all message containing your username."})}),E(Et,{title:"Message containing @room",options:E(Me,{onClick:d=>a(d,Tu),iconSrc:fn,children:xa[t[Tu]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all messages containing @room."})}),t[tf]&&E(Et,{title:"Message containing keywords",options:E(Me,{onClick:d=>a(d,tf),iconSrc:fn,children:xa[t[tf]]}),content:E(ue,{variant:"b3",children:"Default notification settings for all message containing keywords."})}),E(Et,{title:"Keywords",content:re("div",{className:"keyword-notification__keyword",children:[E(ue,{variant:"b3",children:"Get notification when a message contains keyword."}),re("form",{onSubmit:l,children:[E(dt,{name:"keywordInput",required:!0}),E(Me,{variant:"primary",type:"submit",children:"Add"})]}),i.length>0&&E("div",{children:i.map(d=>E(Og,{iconSrc:Ht,text:d.pattern,iconColor:Ht,onClick:()=>o(d)},d.rule_id))})]})})]})}function Cse(){Aw("m.ignored_user_list");const t=Fe.matrixClient.getIgnoredUsers();return re("div",{className:"ignore-user-list",children:[E(ut,{children:"Ignored users"}),E(Et,{title:"Ignore user",content:re("div",{className:"ignore-user-list__users",children:[E(ue,{variant:"b3",children:"Ignore userId if you do not want to receive their messages or invites."}),re("form",{onSubmit:n=>{n.preventDefault();const{ignoreInput:r}=n.target.elements,i=r.value.trim().split(" ").filter(a=>a.match(/^@\S+:\S+$/));i.length!==0&&(r.value="",pw(i))},children:[E(dt,{name:"ignoreInput",required:!0}),E(Me,{variant:"primary",type:"submit",children:"Ignore"})]}),t.length>0&&E("div",{children:t.map(n=>E(Og,{iconSrc:Ht,text:n,iconColor:Ht,onClick:()=>mw([n])},n))})]})})]})}function Ow({userId:t}){const[e,n]=X.exports.useState(!1),r=Fe.matrixClient,o=r.getUser(r.getUserId()),i=X.exports.useRef(null),[a,l]=X.exports.useState(o.avatarUrl?r.mxcUrlToHttp(o.avatarUrl,80,80,"crop"):null),[u,d]=X.exports.useState(o.displayName),[s,g]=X.exports.useState(!0);X.exports.useEffect(()=>{let f=!0;return r.getProfileInfo(r.getUserId()).then(v=>{f&&(l(v.avatar_url?r.mxcUrlToHttp(v.avatar_url,80,80,"crop"):null),d(v.displayname))}),()=>{f=!1}},[t]);const c=async f=>{if(f===null){await or("Remove avatar","Are you sure that you want to remove avatar?","Remove","caution")&&(r.setAvatarUrl(""),l(null));return}r.setAvatarUrl(f),l(r.mxcUrlToHttp(f,80,80,"crop"))},h=()=>{const f=i.current.value;f!==null&&f!==u&&(r.setDisplayName(f),d(f),g(!0),n(!1))},_=()=>{g(u===i.current.value||i.current.value==null)},F=()=>{i.current.value=u,_(),n(!1)},m=()=>re("form",{className:"profile-editor__form",style:{marginBottom:a?"24px":"0"},onSubmit:f=>{f.preventDefault(),h()},children:[E(dt,{label:`Display name of ${r.getUserId()}`,onChange:_,value:r.getUser(r.getUserId()).displayName,forwardRef:i}),E(Me,{variant:"primary",type:"submit",disabled:s,children:"Save"}),E(Me,{onClick:F,children:"Cancel"})]}),p=()=>re("div",{className:"profile-editor__info",style:{marginBottom:a?"24px":"0"},children:[re("div",{children:[E(ue,{variant:"h2",primary:!0,weight:"medium",children:We(u)??t}),E(Ye,{src:Vc,size:"extra-small",tooltip:"Edit",onClick:()=>n(!0)})]}),E(ue,{variant:"b2",children:r.getUserId()})]});return re("div",{className:"profile-editor",children:[E(Ag,{text:u??t,bgColor:ln(t),imageSrc:a,onUpload:c,onRequestRemove:()=>c(null)}),e?m():p()]})}Ow.defaultProps={userId:null};Ow.propTypes={userId:J.exports.string};let nf;const p7=t=>({type:"m.login.password",password:t,identifier:{type:"m.id.user",user:Fe.matrixClient.getUserId()}});function m7({onComplete:t,makeRequest:e}){const[n,r]=X.exports.useState(!1),o=yn();return E("div",{className:"auth-request",children:re("form",{onSubmit:async l=>{o.setItem(!0),l.preventDefault();const u=l.target.password.value;if(u.trim()!=="")try{if(r({ongoing:!0}),await e(p7(u)),nf=u,!o.getItem())return;t(!0)}catch(d){if(nf=void 0,!o.getItem())return;if(d.errcode==="M_FORBIDDEN"){r({error:"Wrong password. Please enter correct password."});return}r({error:"Request failed!"})}},children:[E(dt,{name:"password",label:"Account password",type:"password",onChange:()=>{r(!1)},required:!0}),n.ongoing&&E(yt,{size:"small"}),n.error&&E(ue,{variant:"b3",children:n.error}),(n===!1||n.error)&&E(Me,{variant:"primary",type:"submit",disabled:!!n.error,children:"Continue"})]})})}m7.propTypes={onComplete:J.exports.func.isRequired,makeRequest:J.exports.func.isRequired};const F7=async(t,e)=>{var n;try{const r=nf?p7(nf):void 0;return await e(r),!0}catch(r){if(nf=void 0,r.httpStatus!==401||((n=r.data)==null?void 0:n.flows)===void 0)return!1;const{flows:o}=r.data;return o.find(a=>a.stages.includes("m.login.password"))?new Promise(a=>{let l=!1;Dr(E(ue,{variant:"s1",weight:"medium",children:t}),u=>E(m7,{onComplete:d=>{l=!0,a(d),u()},makeRequest:e}),()=>{l||a(!1)})}):!1}};function Bw(){const t=Fe.matrixClient,[e,n]=X.exports.useState(nZ());return X.exports.useEffect(()=>{if(e)return null;const r=o=>{o.getType()==="m.cross_signing.master"&&n(!0)};return t.on("accountData",r),()=>{t.removeListener("accountData",r)}},[e===!1]),e}const Tse=()=>{Dr(E(ue,{variant:"s1",weight:"medium",children:"Setup cross signing"}),e=>re("div",{className:"cross-signing__failure",children:[E(ue,{variant:"h1",children:We("")}),E(ue,{weight:"medium",children:"Failed to setup cross signing. Please try again."}),E(Me,{onClick:e,children:"Close"})]}))},Ise=t=>{const e=()=>{const o=new Blob([t.encodedPrivateKey],{type:"text/plain;charset=us-ascii"});xw.saveAs(o,"security-key.txt")},n=()=>{Hz(t.encodedPrivateKey)},r=()=>re("div",{className:"cross-signing__key",children:[E(ue,{weight:"medium",children:"Please save this security key somewhere safe."}),E(ue,{className:"cross-signing__key-text",children:t.encodedPrivateKey}),re("div",{className:"cross-signing__key-btn",children:[E(Me,{variant:"primary",onClick:()=>n(),children:"Copy"}),E(Me,{onClick:()=>e(),children:"Download"})]})]});e(),Dr(E(ue,{variant:"s1",weight:"medium",children:"Security Key"}),()=>r())};function Rse(){const t={phrase:"",confirmPhrase:""},[e,n]=X.exports.useState(void 0),r=async(i=void 0)=>{const a=Fe.matrixClient;n(typeof i=="string");const l=await a.createRecoveryKeyFromPassphrase(i);HQ(),await a.bootstrapSecretStorage({createSecretStorageKey:async()=>l,setupNewKeyBackup:!0,setupNewSecretStorage:!0});const u=async d=>{const s=await F7("Setup cross signing",async g=>{await d(g)});setTimeout(()=>{s?Ise(l):Tse()})};await a.bootstrapCrossSigning({authUploadDeviceSigningKeys:u,setupNewCrossSigning:!0})};return re("div",{className:"cross-signing__setup",children:[re("div",{className:"cross-signing__setup-entry",children:[re(ue,{children:["We will generate a ",E("b",{children:"Security Key"}),", which you can use to manage messages backup and session verification."]}),e!==!1&&E(Me,{variant:"primary",onClick:()=>r(),disabled:e!==void 0,children:"Generate Key"}),e===!1&&E(yt,{size:"small"})]}),E(ue,{className:"cross-signing__setup-divider",children:"OR"}),E(O3,{initialValues:t,onSubmit:i=>r(i.phrase),validate:i=>{const a={};i.phrase==="12345678"&&(a.phrase="How about 87654321 ?"),i.phrase==="87654321"&&(a.phrase="Your are playing with ");const l=/^([^\s]){8,127}$/;return i.phrase.length>0&&!l.test(i.phrase)&&(a.phrase="Phrase must contain 8-127 characters with no space."),i.confirmPhrase.length>0&&i.confirmPhrase!==i.phrase&&(a.confirmPhrase="Phrase don't match."),a},children:({values:i,errors:a,handleChange:l,handleSubmit:u})=>re("form",{className:"cross-signing__setup-entry",onSubmit:u,disabled:e!==void 0,children:[re(ue,{children:["Alternatively you can also set a ",E("b",{children:"Security Phrase "}),"so you don't have to remember long Security Key, and optionally save the Key as backup."]}),E(dt,{name:"phrase",value:i.phrase,onChange:l,label:"Security Phrase",type:"password",required:!0,disabled:e!==void 0}),a.phrase&&E(ue,{variant:"b3",className:"cross-signing__error",children:a.phrase}),E(dt,{name:"confirmPhrase",value:i.confirmPhrase,onChange:l,label:"Confirm Security Phrase",type:"password",required:!0,disabled:e!==void 0}),a.confirmPhrase&&E(ue,{variant:"b3",className:"cross-signing__error",children:a.confirmPhrase}),e!==!0&&E(Me,{variant:"primary",type:"submit",disabled:e!==void 0,children:"Set Phrase & Generate Key"}),e===!0&&E(yt,{size:"small"})]})})]})}const _7=()=>{Dr(E(ue,{variant:"s1",weight:"medium",children:"Setup cross signing"}),()=>E(Rse,{}))};function Ase(){return re("div",{className:"cross-signing__reset",children:[E(ue,{variant:"h1",children:We("")}),E(ue,{weight:"medium",children:"Resetting cross-signing keys is permanent."}),re(ue,{children:["Anyone you have verified with will see security alerts and your message backup will lost. You almost certainly do not want to do this, unless you have lost ",E("b",{children:"Security Key"})," or ",E("b",{children:"Phrase"})," and every session you can cross-sign from."]}),E(Me,{variant:"danger",onClick:_7,children:"Reset"})]})}const Ose=()=>{Dr(E(ue,{variant:"s1",weight:"medium",children:"Reset cross signing"}),()=>E(Ase,{}))};function Bse(){const t=Bw();return E(Et,{title:"Cross signing",content:E(ue,{variant:"b3",children:"Setup to verify and keep track of all your sessions. Also required to backup encrypted message."}),options:t?E(Me,{variant:"danger",onClick:Ose,children:"Reset"}):E(Me,{variant:"primary",onClick:_7,children:"Setup"})})}function DF({className:t,style:e,variant:n,iconSrc:r,title:o,content:i,rounded:a,requestClose:l}){const u=[`info-card info-card--${n}`];return a&&u.push("info-card--rounded"),t&&u.push(t),re("div",{className:u.join(" "),style:e,children:[r&&E("div",{className:"info-card__icon",children:E(It,{color:`var(--ic-${n}-high)`,src:r})}),re("div",{className:"info-card__content",children:[E(ue,{children:o}),i]}),l&&E(Ye,{src:Ht,variant:n,onClick:l})]})}DF.defaultProps={className:null,style:null,variant:"surface",iconSrc:null,content:null,rounded:!1,requestClose:null};DF.propTypes={className:J.exports.string,style:J.exports.shape({}),variant:J.exports.oneOf(["surface","primary","positive","caution","danger"]),iconSrc:J.exports.string,title:J.exports.string.isRequired,content:J.exports.node,rounded:J.exports.bool,requestClose:J.exports.func};var Pse=Pm();function v7({onComplete:t}){const e=Fe.matrixClient,n=ME(),r=rZ(n),o=!!r.passphrase,[i,a]=X.exports.useState(o),[l,u]=X.exports.useState(!1),[d,s]=X.exports.useState(null),g=yn(),c=()=>a(!i),h=async({key:m,phrase:p})=>{g.setItem(!0),u(!0);try{const{salt:f,iterations:v}=r.passphrase||{},y=m?e.keyBackupKeyFromRecoveryKey(m):await Pse.deriveKey(p,f,v),w=await e.checkSecretStorageKey(y,r);if(!g.getItem())return;if(!w){s(`Incorrect Security ${m?"Key":"Phrase"}`),u(!1);return}t({keyId:n,key:m,phrase:p,privateKey:y})}catch{if(!g.getItem())return;s(`Incorrect Security ${m?"Key":"Phrase"}`),u(!1)}};return re("div",{className:"secret-storage-access",children:[re("form",{onSubmit:async m=>{m.preventDefault();const p=m.target.password.value;if(p.trim()==="")return;const f={};i?f.phrase=p:f.key=p,h(f)},children:[E(dt,{name:"password",label:`Security ${i?"Phrase":"Key"}`,type:"password",onChange:()=>{s(null),u(!1)},required:!0}),d&&E(ue,{variant:"b3",children:d}),!l&&re("div",{className:"secret-storage-access__btn",children:[E(Me,{variant:"primary",type:"submit",children:"Continue"}),o&&E(Me,{onClick:c,children:`Use Security ${i?"Key":"Phrase"}`})]})]}),l&&E(yt,{size:"small"})]})}v7.propTypes={onComplete:J.exports.func.isRequired};const jp=t=>new Promise(e=>{let n=!1;const r=ME();if(IE(r)){e({keyId:r,privateKey:p5(r)});return}const o=i=>{n=!0,KQ(i.keyId,i.privateKey),e(i)};Dr(E(ue,{variant:"s1",weight:"medium",children:t}),i=>E(v7,{onComplete:a=>{o(a),i(i)}}),()=>{n||e(null)})}),kF="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2z%20M12%2c20c-4.4%2c0-8-3.6-8-8s3.6-8%2c8-8s8%2c3.6%2c8%2c8%20S16.4%2c20%2c12%2c20z'/%3e%20%3cg%3e%20%3cpolygon%20points='12.8%2c15.5%2012.8%2c10%2012.2%2c10%2011.3%2c10%2010%2c10%2010%2c11%2011.3%2c11.5%2011.3%2c15.5%2010%2c16%2010%2c17%2014%2c17%2014%2c16%20'/%3e%20%3ccircle%20cx='12'%20cy='8'%20r='1'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",Pw="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cg%3e%20%3cpath%20d='M19%2c21H5c-1.1%2c0-2-0.9-2-2v-3h2v3h14v-3h2v3C21%2c20.1%2c20.1%2c21%2c19%2c21z'/%3e%20%3c/g%3e%20%3cpolygon%20points='15.3%2c11.3%2013%2c13.6%2013%2c3%2011%2c3%2011%2c13.6%208.7%2c11.3%207.3%2c12.7%2012%2c17.4%2016.7%2c12.7%20'/%3e%20%3c/g%3e%20%3c/svg%3e";function y7({keyData:t}){const[e,n]=X.exports.useState(!1),r=Fe.matrixClient,o=yn(),i=async()=>{n(!1);let a;try{if(a=await r.prepareKeyBackupVersion(null,{secureSecretStorage:!0}),a=await r.createKeyBackupVersion(a),await r.scheduleAllGroupSessionsForBackup(),!o.getItem())return;n(!0)}catch{if(m5(t.keyId),await r.deleteKeyBackupVersion(a.version),!o.getItem())return;n(null)}};return X.exports.useEffect(()=>{o.setItem(!0),i()},[]),re("div",{className:"key-backup__create",children:[e===!1&&re("div",{children:[E(yt,{size:"small"}),E(ue,{children:"Creating backup..."})]}),e===!0&&re(Qe,{children:[E(ue,{variant:"h1",children:We("")}),E(ue,{children:"Successfully created backup"})]}),e===null&&re(Qe,{children:[E(ue,{children:"Failed to create backup"}),E(Me,{onClick:i,children:"Retry"})]})]})}y7.propTypes={keyData:J.exports.shape({}).isRequired};function b7({keyData:t}){const[e,n]=X.exports.useState(!1),r=Fe.matrixClient,o=yn(),i=async()=>{n(!1);let a=!0;const l=u=>{u.successes&&a!==!1&&(a=!1,setTimeout(()=>{a=!0},200),n({message:`Restoring backup keys... (${u.successes}/${u.total})`}))};try{const u=await r.getKeyBackupVersion(),d=await r.restoreKeyBackupWithSecretStorage(u,void 0,void 0,{progressCallback:l});if(!o.getItem())return;n({done:`Successfully restored backup keys (${d.imported}/${d.total}).`})}catch(u){if(!o.getItem())return;u.errcode==="RESTORE_BACKUP_ERROR_BAD_KEY"?(m5(t.keyId),n({error:"Failed to restore backup. Key is invalid!",errorCode:"BAD_KEY"})):n({error:"Failed to restore backup.",errCode:"UNKNOWN"})}};return X.exports.useEffect(()=>{o.setItem(!0),i()},[]),re("div",{className:"key-backup__restore",children:[(e===!1||e.message)&&re("div",{children:[E(yt,{size:"small"}),E(ue,{children:e.message??"Restoring backup keys..."})]}),e.done&&re(Qe,{children:[E(ue,{variant:"h1",children:We("")}),E(ue,{children:e.done})]}),e.error&&re(Qe,{children:[E(ue,{children:e.error}),E(Me,{onClick:i,children:"Retry"})]})]})}b7.propTypes={keyData:J.exports.shape({}).isRequired};function E7({requestClose:t}){const[e,n]=X.exports.useState(!1),r=Fe.matrixClient,o=yn(),i=async()=>{o.setItem(!0),n(!0);try{const a=await r.getKeyBackupVersion();if(a&&await r.deleteKeyBackupVersion(a.version),!o.getItem())return;t(!0)}catch{if(!o.getItem())return;n(!1)}};return re("div",{className:"key-backup__delete",children:[E(ue,{variant:"h1",children:We("")}),E(ue,{weight:"medium",children:"Deleting key backup is permanent."}),E(ue,{children:"All encrypted messages keys stored on server will be deleted."}),e?E(yt,{size:"small"}):E(Me,{variant:"danger",onClick:i,children:"Delete"})]})}E7.propTypes={requestClose:J.exports.func.isRequired};function Mse(){const t=Fe.matrixClient,e=Bw(),[n,r]=X.exports.useState(void 0),o=yn(),i=async()=>{const s=await t.getKeyBackupVersion();o.getItem()&&r(s)};X.exports.useEffect(()=>{o.setItem(!0),i();const s=g=>{g.getType()==="m.megolm_backup.v1"&&i()};return t.on("accountData",s),()=>{t.removeListener("accountData",s)}},[e]);const a=async()=>{const s=await jp("Create Key Backup");s!==null&&Dr(E(ue,{variant:"s1",weight:"medium",children:"Create Key Backup"}),()=>E(y7,{keyData:s}),()=>i())},l=async()=>{const s=await jp("Restore Key Backup");s!==null&&Dr(E(ue,{variant:"s1",weight:"medium",children:"Restore Key Backup"}),()=>E(b7,{keyData:s}))},u=()=>Dr(E(ue,{variant:"s1",weight:"medium",children:"Delete Key Backup"}),s=>E(E7,{requestClose:g=>{g&&r(null),s()}}));return E(Et,{title:"Encrypted messages backup",content:re(Qe,{children:[E(ue,{variant:"b3",children:"Online backup your encrypted messages keys with your account data in case you lose access to your sessions. Your keys will be secured with a unique Security Key."}),!e&&E(DF,{style:{marginTop:"var(--sp-ultra-tight)"},rounded:!0,variant:"caution",iconSrc:kF,title:"Setup cross signing to backup your encrypted messages."})]}),options:e?(()=>n===void 0?E(yt,{size:"small"}):n===null?E(Me,{variant:"primary",onClick:a,children:"Create Backup"}):re(Qe,{children:[E(Ye,{src:Pw,variant:"positive",onClick:l,tooltip:"Restore backup"}),E(Ye,{src:EF,onClick:u,tooltip:"Delete backup"})]}))():null})}var Nse=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Lse=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Use=/[^-+\dA-Z]/g;function Vf(t,e,n,r){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(hT[e]||e||hT.default);var o=e.slice(0,4);(o==="UTC:"||o==="GMT:")&&(e=e.slice(4),n=!0,o==="GMT:"&&(r=!0));var i=function(){return n?"getUTC":"get"},a=function(){return t[i()+"Date"]()},l=function(){return t[i()+"Day"]()},u=function(){return t[i()+"Month"]()},d=function(){return t[i()+"FullYear"]()},s=function(){return t[i()+"Hours"]()},g=function(){return t[i()+"Minutes"]()},c=function(){return t[i()+"Seconds"]()},h=function(){return t[i()+"Milliseconds"]()},_=function(){return n?0:t.getTimezoneOffset()},F=function(){return jse(t)},m=function(){return $se(t)},p={d:function(){return a()},dd:function(){return Rr(a())},ddd:function(){return fr.dayNames[l()]},DDD:function(){return fT({y:d(),m:u(),d:a(),_:i(),dayName:fr.dayNames[l()],short:!0})},dddd:function(){return fr.dayNames[l()+7]},DDDD:function(){return fT({y:d(),m:u(),d:a(),_:i(),dayName:fr.dayNames[l()+7]})},m:function(){return u()+1},mm:function(){return Rr(u()+1)},mmm:function(){return fr.monthNames[u()]},mmmm:function(){return fr.monthNames[u()+12]},yy:function(){return String(d()).slice(2)},yyyy:function(){return Rr(d(),4)},h:function(){return s()%12||12},hh:function(){return Rr(s()%12||12)},H:function(){return s()},HH:function(){return Rr(s())},M:function(){return g()},MM:function(){return Rr(g())},s:function(){return c()},ss:function(){return Rr(c())},l:function(){return Rr(h(),3)},L:function(){return Rr(Math.floor(h()/10))},t:function(){return s()<12?fr.timeNames[0]:fr.timeNames[1]},tt:function(){return s()<12?fr.timeNames[2]:fr.timeNames[3]},T:function(){return s()<12?fr.timeNames[4]:fr.timeNames[5]},TT:function(){return s()<12?fr.timeNames[6]:fr.timeNames[7]},Z:function(){return r?"GMT":n?"UTC":qse(t)},o:function(){return(_()>0?"-":"+")+Rr(Math.floor(Math.abs(_())/60)*100+Math.abs(_())%60,4)},p:function(){return(_()>0?"-":"+")+Rr(Math.floor(Math.abs(_())/60),2)+":"+Rr(Math.floor(Math.abs(_())%60),2)},S:function(){return["th","st","nd","rd"][a()%10>3?0:(a()%100-a()%10!=10)*a()%10]},W:function(){return F()},WW:function(){return Rr(F())},N:function(){return m()}};return e.replace(Nse,function(f){return f in p?p[f]():f.slice(1,f.length-1)})}var hT={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},fr={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},Rr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(n,"0")},fT=function(e){var n=e.y,r=e.m,o=e.d,i=e._,a=e.dayName,l=e.short,u=l===void 0?!1:l,d=new Date,s=new Date;s.setDate(s[i+"Date"]()-1);var g=new Date;g.setDate(g[i+"Date"]()+1);var c=function(){return d[i+"Date"]()},h=function(){return d[i+"Month"]()},_=function(){return d[i+"FullYear"]()},F=function(){return s[i+"Date"]()},m=function(){return s[i+"Month"]()},p=function(){return s[i+"FullYear"]()},f=function(){return g[i+"Date"]()},v=function(){return g[i+"Month"]()},y=function(){return g[i+"FullYear"]()};return _()===n&&h()===r&&c()===o?u?"Tdy":"Today":p()===n&&m()===r&&F()===o?u?"Ysd":"Yesterday":y()===n&&v()===r&&f()===o?u?"Tmw":"Tomorrow":a},jse=function(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=new Date(n.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var o=n.getTimezoneOffset()-r.getTimezoneOffset();n.setHours(n.getHours()-o);var i=(n-r)/(864e5*7);return 1+Math.floor(i)},$se=function(e){var n=e.getDay();return n===0&&(n=7),n},qse=function(e){return(String(e).match(Lse)||[""]).pop().replace(Use,"").replace(/GMT\+0000/g,"UTC")};const Vse=async t=>new Promise(e=>{let n=!1;const r=o=>re("form",{className:"device-manage__rename",onSubmit:a=>{a.preventDefault();const l=a.target.session.value;typeof l!="string"&&o(null),o(l)},children:[E(dt,{value:t,label:"Session name",name:"session"}),re("div",{className:"device-manage__rename-btn",children:[E(Me,{variant:"primary",type:"submit",children:"Save"}),E(Me,{onClick:()=>o(null),children:"Cancel"})]})]});Dr(E(ue,{variant:"s1",weight:"medium",children:"Edit session name"}),o=>r(i=>{n=!0,e(i),o()}),()=>{n||e(null)})});function Gse(){const e=Fe.matrixClient,n=Bw(),r=zB(),[o,i]=X.exports.useState([]),[a,l]=X.exports.useState(!0),u=yn();u.setItem(!0);const d=dp(e.deviceId);X.exports.useEffect(()=>{i([])},[r]);const s=w=>{const b=[...o];b.push(w.device_id),i(b)},g=()=>{i([])};if(r===null)return E("div",{className:"device-manage",children:re("div",{className:"device-manage__loading",children:[E(yt,{size:"small"}),E(ue,{children:"Loading devices..."})]})});const c=async w=>{const b=await Vse(w.display_name);if(!(b===null||b.trim()==="")&&b.trim()!==w.display_name){s(w);try{await e.setDeviceDetails(w.device_id,{display_name:b})}catch{if(!u.getItem())return;g()}}},h=async w=>{await or(`Logout ${w.display_name}`,`You are about to logout "${w.display_name}" session.`,"Logout","danger")&&(s(w),await F7(`Logout "${w.display_name}"`,async S=>{await e.deleteDevice(w.device_id,S)}),u.getItem()&&g())},_=async w=>{await jp("Session verification")&&(s(w),await e.checkOwnCrossSigningTrust())},F=async w=>{const b=await e.requestVerification(e.getUserId(),[w]);jQ(b,{userId:e.getUserId(),deviceId:w})},m=(w,b)=>{if(b){_(w);return}F(w)},p=(w,b)=>{const S=w.device_id,x=w.display_name,N=w.last_seen_ip,U=w.last_seen_ts,q=e.deviceId===S,P=b===!1&&(d||q);return E(Et,{title:re(ue,{style:{color:b!==!1?"":"var(--tc-danger-high)"},children:[x,E(ue,{variant:"b3",span:!0,children:`${x?"  ":""}${S}`}),q&&E(ue,{span:!0,className:"device-manage__current-label",variant:"b3",children:"Current"})]}),options:o.includes(S)?E(yt,{size:"small"}):re(Qe,{children:[n&&P&&E(Me,{onClick:()=>m(S,q),variant:"positive",children:"Verify"}),E(Ye,{size:"small",onClick:()=>c(w),src:Vc,tooltip:"Rename"}),E(Ye,{size:"small",onClick:()=>h(w),src:EF,tooltip:"Remove session"})]}),content:re(Qe,{children:[U&&re(ue,{variant:"b3",children:["Last activity",E("span",{style:{color:"var(--tc-surface-normal)"},children:Vf(new Date(U)," hh:MM TT, dd/mm/yyyy")}),N?` at ${N}`:""]}),q&&E(ue,{style:{marginTop:"var(--sp-ultra-tight)"},variant:"b3",children:`Session Key: ${Fe.matrixClient.getDeviceEd25519Key().match(/.{1,4}/g).join(" ")}`})]})},S)},f=[],v=[],y=[];return r.sort((w,b)=>b.last_seen_ts-w.last_seen_ts).forEach(w=>{const b=dp(w.device_id);b===!0?v.push(w):b===!1?f.push(w):y.push(w)}),re("div",{className:"device-manage",children:[re("div",{children:[E(ut,{children:"Unverified sessions"}),!n&&E("div",{style:{padding:"var(--sp-extra-tight) var(--sp-normal)"},children:E(DF,{rounded:!0,variant:"caution",iconSrc:kF,title:"Setup cross signing in case you lose all your sessions."})}),f.length>0?f.map(w=>p(w,!1)):E(ue,{className:"device-manage__info",children:"No unverified sessions"})]}),y.length>0&&re("div",{children:[E(ut,{children:"Sessions without encryption support"}),y.map(w=>p(w,null))]}),re("div",{children:[E(ut,{children:"Verified sessions"}),v.length>0?v.map((w,b)=>a&&b>=4?null:p(w,!0)):E(ue,{className:"device-manage__info",children:"No verified sessions"}),v.length>4&&E(Me,{className:"device-manage__info",onClick:()=>l(!a),children:a?`View ${v.length-4} more`:"View less"}),r.length>0&&E(ue,{className:"device-manage__info",variant:"b3",children:"Session names are visible to everyone, so do not put any private info here."})]})]})}const Kse="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c9c1.7%2c0%2c3%2c1.3%2c3%2c3s-1.3%2c3-3%2c3s-3-1.3-3-3S10.3%2c9%2c12%2c9%20M12%2c7c-2.8%2c0-5%2c2.2-5%2c5s2.2%2c5%2c5%2c5s5-2.2%2c5-5S14.8%2c7%2c12%2c7L12%2c7z'%20/%3e%20%3cg%3e%20%3crect%20x='11'%20y='2'%20width='2'%20height='3'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='19'%20y='11'%20width='3'%20height='2'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='11'%20y='19'%20width='2'%20height='3'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='2'%20y='11'%20width='3'%20height='2'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='17'%20y='4.5'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%209.5104%20-10.9811)'%20width='2'%20height='3'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='16.5'%20y='17'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%2018.0105%20-7.4602)'%20width='3'%20height='2'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='5'%20y='16.5'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%2014.4896%201.0399)'%20width='2'%20height='3'/%3e%20%3c/g%3e%20%3cg%3e%20%3crect%20x='4.5'%20y='5'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%205.9895%20-2.4809)'%20width='3'%20height='2'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",Bg="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2z%20M12%2c20c-4.4%2c0-8-3.6-8-8s3.6-8%2c8-8s8%2c3.6%2c8%2c8%20S16.4%2c20%2c12%2c20z'/%3e%20%3ccircle%20cx='9.5'%20cy='8.5'%20r='1.5'/%3e%20%3ccircle%20cx='14.5'%20cy='8.5'%20r='1.5'/%3e%20%3cpath%20d='M16%2c12c0%2c2.2-1.8%2c4-4%2c4s-4-1.8-4-4H6c0%2c3.3%2c2.7%2c6%2c6%2c6s6-2.7%2c6-6H16z'/%3e%20%3c/g%3e%20%3c/svg%3e",w7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M18%2c10h-1V7.2c0-2.6-1.9-4.9-4.5-5.2C9.5%2c1.7%2c7%2c4.1%2c7%2c7v3H6c-1.1%2c0-2%2c0.9-2%2c2v8c0%2c1.1%2c0.9%2c2%2c2%2c2h12c1.1%2c0%2c2-0.9%2c2-2v-8%20C20%2c10.9%2c19.1%2c10%2c18%2c10z%20M9%2c7c0-1.7%2c1.3-3%2c3-3c1.7%2c0%2c3%2c1.3%2c3%2c3v3H9V7z%20M18%2c20H6v-8h12V20z'/%3e%20%3ccircle%20cx='12'%20cy='16'%20r='2'/%3e%20%3c/g%3e%20%3c/svg%3e",D7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c22c1.1%2c0%2c2-0.9%2c2-2h-4C10%2c21.1%2c10.9%2c22%2c12%2c22z'/%3e%20%3cpath%20d='M18%2c16v-6c0-3-2.2-5.4-5-5.9V3h-2v1.1C8.2%2c4.6%2c6%2c7%2c6%2c10v6H4v2h16v-2H18z%20M16%2c16H8v-6c0-2.2%2c1.8-4%2c4-4s4%2c1.8%2c4%2c4V16z'/%3e%20%3c/g%3e%20%3c/svg%3e",Hse="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M17.6%2c5l-1.3%2c1.6C18%2c7.8%2c19%2c9.8%2c19%2c12c0%2c3.9-3.1%2c7-7%2c7s-7-3.1-7-7c0-2.2%2c1-4.2%2c2.6-5.5L6.4%2c5C4.3%2c6.6%2c3%2c9.2%2c3%2c12%20c0%2c5%2c4%2c9%2c9%2c9c5%2c0%2c9-4%2c9-9C21%2c9.2%2c19.7%2c6.6%2c17.6%2c5z'/%3e%20%3crect%20x='11'%20y='2'%20width='2'%20height='10'/%3e%20%3c/g%3e%20%3c/svg%3e";function Na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},db(t,e)}function SF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function Pg(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Na(t)}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mi(t)}function zse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wse(t){return JB(t)||zse(t)||XB(t)||QB()}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function pT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yse={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},Jse=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fo(this,t),this.init(e,n)}return _o(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||Yse,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,o,i){return i&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(o).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,pT(pT({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),oi=new Jse,Ya=function(){function t(){Fo(this,t),this.observers={}}return _o(t,[{key:"on",value:function(n,r){var o=this;return n.split(" ").forEach(function(i){o.observers[i]=o.observers[i]||[],o.observers[i].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(o){return o!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(u){u.apply(void 0,o)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(u){u.apply(u,[n].concat(o))})}}}]),t}();function ih(){var t,e,n=new Promise(function(r,o){t=r,e=o});return n.resolve=t,n.reject=e,n}function mT(t){return t==null?"":""+t}function Xse(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function Mw(t,e,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function o(){return!t||typeof t=="string"}for(var i=typeof e!="string"?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return o()?{}:{obj:t,k:r(i.shift())}}function FT(t,e,n){var r=Mw(t,e,Object),o=r.obj,i=r.k;o[i]=n}function Qse(t,e,n,r){var o=Mw(t,e,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}function $p(t,e){var n=Mw(t,e),r=n.obj,o=n.k;if(r)return r[o]}function _T(t,e,n){var r=$p(t,n);return r!==void 0?r:$p(e,n)}function k7(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):k7(t[r],e[r],n):t[r]=e[r]);return t}function nu(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Zse={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ele(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return Zse[e]}):t}var xF=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,tle=[" ",",","?","!",";"];function nle(t,e,n){e=e||"",n=n||"";var r=tle.filter(function(l){return e.indexOf(l)<0&&n.indexOf(l)<0});if(r.length===0)return!0;var o=new RegExp("(".concat(r.map(function(l){return l==="?"?"\\?":l}).join("|"),")")),i=!o.test(t);if(!i){var a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(i=!0)}return i}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t){var e=ole();return function(){var r=mi(t),o;if(e){var i=mi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Pg(this,o)}}function ole(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),o=t,i=0;i<r.length;++i){if(!o||typeof o[r[i]]=="string"&&i+1<r.length)return;if(o[r[i]]===void 0){for(var a=2,l=r.slice(i,i+a).join(n),u=o[l];u===void 0&&r.length>i+a;)a++,l=r.slice(i,i+a).join(n),u=o[l];if(u===void 0)return;if(u===null)return null;if(e.endsWith(l)){if(typeof u=="string")return u;if(l&&typeof u[l]=="string")return u[l]}var d=r.slice(i+a).join(n);return d?S7(u,d,n):void 0}o=o[r[i]]}return o}}var ile=function(t){SF(n,t);var e=rle(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Fo(this,n),o=e.call(this),xF&&Ya.call(Na(o)),o.data=r||{},o.options=i,o.options.keySeparator===void 0&&(o.options.keySeparator="."),o.options.ignoreJSONStructure===void 0&&(o.options.ignoreJSONStructure=!0),o}return _o(n,[{key:"addNamespaces",value:function(o){this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}},{key:"removeNamespaces",value:function(o){var i=this.options.ns.indexOf(o);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(o,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[o,i];a&&typeof a!="string"&&(s=s.concat(a)),a&&typeof a=="string"&&(s=s.concat(u?a.split(u):a)),o.indexOf(".")>-1&&(s=o.split("."));var g=$p(this.data,s);return g||!d||typeof a!="string"?g:S7(this.data&&this.data[o]&&this.data[o][i],a,u)}},{key:"addResource",value:function(o,i,a,l){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},d=this.options.keySeparator;d===void 0&&(d=".");var s=[o,i];a&&(s=s.concat(d?a.split(d):a)),o.indexOf(".")>-1&&(s=o.split("."),l=i,i=s[1]),this.addNamespaces(i),FT(this.data,s,l),u.silent||this.emit("added",o,i,a,l)}},{key:"addResources",value:function(o,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(o,i,u,a[u],{silent:!0});l.silent||this.emit("added",o,i,a)}},{key:"addResourceBundle",value:function(o,i,a,l,u){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},s=[o,i];o.indexOf(".")>-1&&(s=o.split("."),l=a,a=i,i=s[1]),this.addNamespaces(i);var g=$p(this.data,s)||{};l?k7(g,a,u):g=V1(V1({},g),a),FT(this.data,s,g),d.silent||this.emit("added",o,i,a)}},{key:"removeResourceBundle",value:function(o,i){this.hasResourceBundle(o,i)&&delete this.data[o][i],this.removeNamespaces(i),this.emit("removed",o,i)}},{key:"hasResourceBundle",value:function(o,i){return this.getResource(o,i)!==void 0}},{key:"getResourceBundle",value:function(o,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?V1(V1({},{}),this.getResource(o,i)):this.getResource(o,i)}},{key:"getDataByLanguage",value:function(o){return this.data[o]}},{key:"hasLanguageSomeTranslations",value:function(o){var i=this.getDataByLanguage(o),a=i&&Object.keys(i)||[];return!!a.find(function(l){return i[l]&&Object.keys(i[l]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ya),x7={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,o,i){var a=this;return e.forEach(function(l){a.processors[l]&&(n=a.processors[l].process(n,r,o,i))}),n}};function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ale(t){var e=sle();return function(){var r=mi(t),o;if(e){var i=mi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Pg(this,o)}}function sle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var bT={},ET=function(t){SF(n,t);var e=ale(n);function n(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fo(this,n),o=e.call(this),xF&&Ya.call(Na(o)),Xse(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Na(o)),o.options=i,o.options.keySeparator===void 0&&(o.options.keySeparator="."),o.logger=oi.create("translator"),o}return _o(n,[{key:"changeLanguage",value:function(o){o&&(this.language=o)}},{key:"exists",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(o==null)return!1;var a=this.resolve(o,i);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(o,i){var a=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ns||this.options.defaultNS||[],d=a&&o.indexOf(a)>-1,s=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!nle(o,a,l);if(d&&!s){var g=o.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:o,namespaces:u};var c=o.split(a);(a!==l||a===l&&this.options.ns.indexOf(c[0])>-1)&&(u=c.shift()),o=c.join(l)}return typeof u=="string"&&(u=[u]),{key:o,namespaces:u}}},{key:"translate",value:function(o,i,a){var l=this;if(To(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),o==null)return"";Array.isArray(o)||(o=[String(o)]);var u=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,d=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=this.extractFromKey(o[o.length-1],i),g=s.key,c=s.namespaces,h=c[c.length-1],_=i.lng||this.language,F=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(_&&_.toLowerCase()==="cimode"){if(F){var m=i.nsSeparator||this.options.nsSeparator;return u?(p.res="".concat(h).concat(m).concat(g),p):"".concat(h).concat(m).concat(g)}return u?(p.res=g,p):g}var p=this.resolve(o,i),f=p&&p.res,v=p&&p.usedKey||g,y=p&&p.exactUsedKey||g,w=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],S=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,N=typeof f!="string"&&typeof f!="boolean"&&typeof f!="number";if(x&&f&&N&&b.indexOf(w)<0&&!(typeof S=="string"&&w==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,f,Yn(Yn({},i),{},{ns:c})):"key '".concat(g," (").concat(this.language,")' returned an object instead of string.");return u?(p.res=U,p):U}if(d){var q=w==="[object Array]",P=q?[]:{},G=q?y:v;for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var I="".concat(G).concat(d).concat(C);P[C]=this.translate(I,Yn(Yn({},i),{joinArrays:!1,ns:c})),P[C]===I&&(P[C]=f[C])}f=P}}else if(x&&typeof S=="string"&&w==="[object Array]")f=f.join(S),f&&(f=this.extendTranslation(f,o,i,a));else{var M=!1,A=!1,$=i.count!==void 0&&typeof i.count!="string",Y=n.hasDefaultValue(i),T=$?this.pluralResolver.getSuffix(_,i.count,i):"",D=i["defaultValue".concat(T)]||i.defaultValue;!this.isValidLookup(f)&&Y&&(M=!0,f=D),this.isValidLookup(f)||(A=!0,f=g);var R=i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,B=R&&A?void 0:f,H=Y&&D!==f&&this.options.updateMissing;if(A||M||H){if(this.logger.log(H?"updateKey":"missingKey",_,h,g,H?D:f),d){var Q=this.resolve(g,Yn(Yn({},i),{},{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var L=[],le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(var he=0;he<le.length;he++)L.push(le[he]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(i.lng||this.language):L.push(i.lng||this.language);var De=function(W,z,oe){var ce=Y&&oe!==f?oe:B;l.options.missingKeyHandler?l.options.missingKeyHandler(W,h,z,ce,H,i):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(W,h,z,ce,H,i),l.emit("missingKey",W,h,z,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?L.forEach(function(ke){l.pluralResolver.getSuffixes(ke,i).forEach(function(W){De([ke],g+W,i["defaultValue".concat(W)]||D)})}):De(L,g,D))}f=this.extendTranslation(f,o,i,p,a),A&&f===g&&this.options.appendNamespaceToMissingKey&&(f="".concat(h,":").concat(g)),(A||M)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(g):g,M?f:void 0):f=this.options.parseMissingKeyHandler(f))}return u?(p.res=f,p):f}},{key:"extendTranslation",value:function(o,i,a,l,u){var d=this;if(this.i18nFormat&&this.i18nFormat.parse)o=this.i18nFormat.parse(o,Yn(Yn({},this.options.interpolation.defaultVariables),a),l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Yn(Yn({},a),{interpolation:Yn(Yn({},this.options.interpolation),a.interpolation)}));var s=typeof o=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),g;if(s){var c=o.match(this.interpolator.nestingRegexp);g=c&&c.length}var h=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(h=Yn(Yn({},this.options.interpolation.defaultVariables),h)),o=this.interpolator.interpolate(o,h,a.lng||this.language,a),s){var _=o.match(this.interpolator.nestingRegexp),F=_&&_.length;g<F&&(a.nest=!1)}a.nest!==!1&&(o=this.interpolator.nest(o,function(){for(var f=arguments.length,v=new Array(f),y=0;y<f;y++)v[y]=arguments[y];return u&&u[0]===v[0]&&!a.context?(d.logger.warn("It seems you are nesting recursively key: ".concat(v[0]," in key: ").concat(i[0])),null):d.translate.apply(d,v.concat([i]))},a)),a.interpolation&&this.interpolator.reset()}var m=a.postProcess||this.options.postProcess,p=typeof m=="string"?[m]:m;return o!=null&&p&&p.length&&a.applyPostProcessor!==!1&&(o=x7.handle(p,o,i,this.options&&this.options.postProcessPassResolved?Yn({i18nResolved:l},a):a,this)),o}},{key:"resolve",value:function(o){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,u,d,s,g;return typeof o=="string"&&(o=[o]),o.forEach(function(c){if(!i.isValidLookup(l)){var h=i.extractFromKey(c,a),_=h.key;u=_;var F=h.namespaces;i.options.fallbackNS&&(F=F.concat(i.options.fallbackNS));var m=a.count!==void 0&&typeof a.count!="string",p=m&&!a.ordinal&&a.count===0&&i.pluralResolver.shouldUseIntlApi(),f=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",v=a.lngs?a.lngs:i.languageUtils.toResolveHierarchy(a.lng||i.language,a.fallbackLng);F.forEach(function(y){i.isValidLookup(l)||(g=y,!bT["".concat(v[0],"-").concat(y)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(g)&&(bT["".concat(v[0],"-").concat(y)]=!0,i.logger.warn('key "'.concat(u,'" for languages "').concat(v.join(", "),`" won't get resolved as namespace "`).concat(g,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(function(w){if(!i.isValidLookup(l)){s=w;var b=[_];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(b,_,w,y,a);else{var S;m&&(S=i.pluralResolver.getSuffix(w,a.count,a));var x="".concat(i.options.pluralSeparator,"zero");if(m&&(b.push(_+S),p&&b.push(_+x)),f){var N="".concat(_).concat(i.options.contextSeparator).concat(a.context);b.push(N),m&&(b.push(N+S),p&&b.push(N+x))}}for(var U;U=b.pop();)i.isValidLookup(l)||(d=U,l=i.getResource(w,y,U,a))}}))})}}),{res:l,usedKey:u,exactUsedKey:d,usedLng:s,usedNS:g}}},{key:"isValidLookup",value:function(o){return o!==void 0&&!(!this.options.returnNull&&o===null)&&!(!this.options.returnEmptyString&&o==="")}},{key:"getResource",value:function(o,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(o,i,a,l):this.resourceStore.getResource(o,i,a,l)}}],[{key:"hasDefaultValue",value:function(o){var i="defaultValue";for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)&&i===a.substring(0,i.length)&&o[a]!==void 0)return!0;return!1}}]),n}(Ya);function N2(t){return t.charAt(0).toUpperCase()+t.slice(1)}var wT=function(){function t(e){Fo(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=oi.create("languageUtils")}return _o(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],o=n.split("-");return this.options.lowerCaseLng?o=o.map(function(i){return i.toLowerCase()}):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),r.indexOf(o[1].toLowerCase())>-1&&(o[1]=N2(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),r.indexOf(o[1].toLowerCase())>-1&&(o[1]=N2(o[1].toLowerCase())),r.indexOf(o[2].toLowerCase())>-1&&(o[2]=N2(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var o;return n.forEach(function(i){if(!o){var a=r.formatLanguageCode(i);(!r.options.supportedLngs||r.isSupportedCode(a))&&(o=a)}}),!o&&this.options.supportedLngs&&n.forEach(function(i){if(!o){var a=r.getLanguagePartFromCode(i);if(r.isSupportedCode(a))return o=a;o=r.options.supportedLngs.find(function(l){if(l.indexOf(a)===0)return l})}}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var o=n[r];return o||(o=n[this.getScriptPartFromCode(r)]),o||(o=n[this.formatLanguageCode(r)]),o||(o=n[this.getLanguagePartFromCode(r)]),o||(o=n.default),o||[]}},{key:"toResolveHierarchy",value:function(n,r){var o=this,i=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],l=function(d){d&&(o.isSupportedCode(d)?a.push(d):o.logger.warn("rejecting language code not found in supportedLngs: ".concat(d)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):typeof n=="string"&&l(this.formatLanguageCode(n)),i.forEach(function(u){a.indexOf(u)<0&&l(o.formatLanguageCode(u))}),a}}]),t}(),lle=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ule={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},cle=["v1","v2","v3"],DT={zero:0,one:1,two:2,few:3,many:4,other:5};function dle(){var t={};return lle.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:ule[e.fc]}})}),t}var hle=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fo(this,t),this.languageUtils=e,this.options=n,this.logger=oi.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=dle()}return _o(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(n,r);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,o).map(function(i){return"".concat(r).concat(i)})}},{key:"getSuffixes",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,o);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(a,l){return DT[a]-DT[l]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):i.numbers.map(function(a){return r.getSuffix(n,a,o)}):[]}},{key:"getSuffix",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(n,o);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var o=this,i=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[i];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var l=function(){return o.options.prepend&&a.toString()?o.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?l():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!cle.includes(this.options.compatibilityJSON)}}]),t}();function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var fle=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fo(this,t),this.logger=oi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return _o(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:ele,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?nu(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?nu(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?nu(r.nestingPrefix):r.nestingPrefixEscaped||nu("$t("),this.nestingSuffix=r.nestingSuffix?nu(r.nestingSuffix):r.nestingSuffixEscaped||nu(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var o="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(o,"g")}},{key:"interpolate",value:function(n,r,o,i){var a=this,l,u,d,s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function g(m){return m.replace(/\$/g,"$$$$")}var c=function(p){if(p.indexOf(a.formatSeparator)<0){var f=_T(r,s,p);return a.alwaysFormat?a.format(f,void 0,o,Do(Do(Do({},i),r),{},{interpolationkey:p})):f}var v=p.split(a.formatSeparator),y=v.shift().trim(),w=v.join(a.formatSeparator).trim();return a.format(_T(r,s,y),w,o,Do(Do(Do({},i),r),{},{interpolationkey:y}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,_=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,F=[{regex:this.regexpUnescape,safeValue:function(p){return g(p)}},{regex:this.regexp,safeValue:function(p){return a.escapeValue?g(a.escape(p)):g(p)}}];return F.forEach(function(m){for(d=0;l=m.regex.exec(n);){var p=l[1].trim();if(u=c(p),u===void 0)if(typeof h=="function"){var f=h(n,l,i);u=typeof f=="string"?f:""}else if(i&&i.hasOwnProperty(p))u="";else if(_){u=l[0];continue}else a.logger.warn("missed to pass in variable ".concat(p," for interpolating ").concat(n)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=mT(u));var v=m.safeValue(u);if(n=n.replace(l[0],v),_?(m.regex.lastIndex+=u.length,m.regex.lastIndex-=l[0].length):m.regex.lastIndex=0,d++,d>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var o=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,u;function d(h,_){var F=this.nestingOptionsSeparator;if(h.indexOf(F)<0)return h;var m=h.split(new RegExp("".concat(F,"[ ]*{"))),p="{".concat(m[1]);h=m[0],p=this.interpolate(p,u);var f=p.match(/'/g),v=p.match(/"/g);(f&&f.length%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{u=JSON.parse(p),_&&(u=Do(Do({},_),u))}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(h),y),"".concat(h).concat(F).concat(p)}return delete u.defaultValue,h}for(;a=this.nestingRegexp.exec(n);){var s=[];u=Do({},i),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var c=a[1].split(this.formatSeparator).map(function(h){return h.trim()});a[1]=c.shift(),s=c,g=!0}if(l=r(d.call(this,a[1].trim(),u),u),l&&a[0]===n&&typeof l!="string")return l;typeof l!="string"&&(l=mT(l)),l||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),l=""),g&&(l=s.reduce(function(h,_){return o.format(h,_,i.lng,Do(Do({},i),{},{interpolationkey:a[1].trim()}))},l.trim())),n=n.replace(a[0],l),this.regexp.lastIndex=0}return n}}]),t}();function ST(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);if(e==="currency"&&o.indexOf(":")<0)n.currency||(n.currency=o.trim());else if(e==="relativetime"&&o.indexOf(":")<0)n.range||(n.range=o.trim());else{var i=o.split(";");i.forEach(function(a){if(a){var l=a.split(":"),u=Wse(l),d=u[0],s=u.slice(1),g=s.join(":").trim().replace(/^'+|'+$/g,"");n[d.trim()]||(n[d.trim()]=g),g==="false"&&(n[d.trim()]=!1),g==="true"&&(n[d.trim()]=!0),isNaN(g)||(n[d.trim()]=parseInt(g,10))}})}}return{formatName:e,formatOptions:n}}function ru(t){var e={};return function(r,o,i){var a=o+JSON.stringify(i),l=e[a];return l||(l=t(o,i),e[a]=l),l(r)}}var ple=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fo(this,t),this.logger=oi.create("formatter"),this.options=e,this.formats={number:ru(function(n,r){var o=new Intl.NumberFormat(n,r);return function(i){return o.format(i)}}),currency:ru(function(n,r){var o=new Intl.NumberFormat(n,fa(fa({},r),{},{style:"currency"}));return function(i){return o.format(i)}}),datetime:ru(function(n,r){var o=new Intl.DateTimeFormat(n,fa({},r));return function(i){return o.format(i)}}),relativetime:ru(function(n,r){var o=new Intl.RelativeTimeFormat(n,fa({},r));return function(i){return o.format(i,r.range||"day")}}),list:ru(function(n,r){var o=new Intl.ListFormat(n,fa({},r));return function(i){return o.format(i)}})},this.init(e)}return _o(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},o=r.interpolation;this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=ru(r)}},{key:"format",value:function(n,r,o,i){var a=this,l=r.split(this.formatSeparator),u=l.reduce(function(d,s){var g=gle(s),c=g.formatName,h=g.formatOptions;if(a.formats[c]){var _=d;try{var F=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=F.locale||F.lng||i.locale||i.lng||o;_=a.formats[c](d,m,fa(fa(fa({},h),i),F))}catch(p){a.logger.warn(p)}return _}else a.logger.warn("there was no format function for ".concat(c));return d},n);return u}}]),t}();function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t){var e=Fle();return function(){var r=mi(t),o;if(e){var i=mi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Pg(this,o)}}function Fle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _le(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var vle=function(t){SF(n,t);var e=mle(n);function n(r,o,i){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Fo(this,n),a=e.call(this),xF&&Ya.call(Na(a)),a.backend=r,a.store=o,a.services=i,a.languageUtils=i.languageUtils,a.options=l,a.logger=oi.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=l.maxParallelReads||10,a.readingCalls=0,a.maxRetries=l.maxRetries>=0?l.maxRetries:5,a.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,l.backend,l),a}return _o(n,[{key:"queueLoad",value:function(o,i,a,l){var u=this,d={},s={},g={},c={};return o.forEach(function(h){var _=!0;i.forEach(function(F){var m="".concat(h,"|").concat(F);!a.reload&&u.store.hasResourceBundle(h,F)?u.state[m]=2:u.state[m]<0||(u.state[m]===1?s[m]===void 0&&(s[m]=!0):(u.state[m]=1,_=!1,s[m]===void 0&&(s[m]=!0),d[m]===void 0&&(d[m]=!0),c[F]===void 0&&(c[F]=!0)))}),_||(g[h]=!0)}),(Object.keys(d).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(d),pending:Object.keys(s),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(o,i,a){var l=o.split("|"),u=l[0],d=l[1];i&&this.emit("failedLoading",u,d,i),a&&this.store.addResourceBundle(u,d,a),this.state[o]=i?-1:2;var s={};this.queue.forEach(function(g){Qse(g.loaded,[u],d),_le(g,o),i&&g.errors.push(i),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(function(c){s[c]||(s[c]={});var h=g.loaded[c];h.length&&h.forEach(function(_){s[c][_]===void 0&&(s[c][_]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(function(g){return!g.done})}},{key:"read",value:function(o,i,a){var l=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!o.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:o,ns:i,fcName:a,tried:u,wait:d,callback:s});return}this.readingCalls++;var g=function(F,m){if(l.readingCalls--,l.waitingReads.length>0){var p=l.waitingReads.shift();l.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(F&&m&&u<l.maxRetries){setTimeout(function(){l.read.call(l,o,i,a,u+1,d*2,s)},d);return}s(F,m)},c=this.backend[a].bind(this.backend);if(c.length===2){try{var h=c(o,i);h&&typeof h.then=="function"?h.then(function(_){return g(null,_)}).catch(g):g(null,h)}catch(_){g(_)}return}return c(o,i,g)}},{key:"prepareLoading",value:function(o,i){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof o=="string"&&(o=this.languageUtils.toResolveHierarchy(o)),typeof i=="string"&&(i=[i]);var d=this.queueLoad(o,i,l,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(function(s){a.loadOne(s)})}},{key:"load",value:function(o,i,a){this.prepareLoading(o,i,{},a)}},{key:"reload",value:function(o,i,a){this.prepareLoading(o,i,{reload:!0},a)}},{key:"loadOne",value:function(o){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=o.split("|"),u=l[0],d=l[1];this.read(u,d,"read",void 0,void 0,function(s,g){s&&i.logger.warn("".concat(a,"loading namespace ").concat(d," for language ").concat(u," failed"),s),!s&&g&&i.logger.log("".concat(a,"loaded namespace ").concat(d," for language ").concat(u),g),i.loaded(o,s,g)})}},{key:"saveMissing",value:function(o,i,a,l,u){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var g=CT(CT({},d),{},{isUpdate:u}),c=this.backend.create.bind(this.backend);if(c.length<6)try{var h;c.length===5?h=c(o,i,a,l,g):h=c(o,i,a,l),h&&typeof h.then=="function"?h.then(function(_){return s(null,_)}).catch(s):s(null,h)}catch(_){s(_)}else c(o,i,a,l,s,g)}!o||!o[0]||this.store.addResource(o[0],i,a,l)}}}]),n}(Ya);function TT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(To(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),To(e[2])==="object"||To(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(o){n[o]=r[o]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function IT(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t){var e=ble();return function(){var r=mi(t),o;if(e){var i=mi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Pg(this,o)}}function ble(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G1(){}function Ele(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var qp=function(t){SF(n,t);var e=yle(n);function n(){var r,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Fo(this,n),r=e.call(this),xF&&Ya.call(Na(r)),r.options=IT(o),r.services={},r.logger=oi,r.modules={external:[]},Ele(Na(r)),i&&!r.isInitialized&&!o.isClone){if(!r.options.initImmediate)return r.init(o,i),Pg(r,Na(r));setTimeout(function(){r.init(o,i)},0)}return r}return _o(n,[{key:"init",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(a=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));var l=TT();this.options=zo(zo(zo({},l),this.options),IT(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=zo(zo({},l.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function u(p){return p?typeof p=="function"?new p:p:null}if(!this.options.isClone){this.modules.logger?oi.init(u(this.modules.logger),this.options):oi.init(null,this.options);var d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=ple);var s=new wT(this.options);this.store=new ile(this.options.resources,this.options);var g=this.services;g.logger=oi,g.resourceStore=this.store,g.languageUtils=s,g.pluralResolver=new hle(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(g.formatter=u(d),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new fle(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new vle(u(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(p){for(var f=arguments.length,v=new Array(f>1?f-1:0),y=1;y<f;y++)v[y-1]=arguments[y];o.emit.apply(o,[p].concat(v))}),this.modules.languageDetector&&(g.languageDetector=u(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=u(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new ET(this.services,this.options),this.translator.on("*",function(p){for(var f=arguments.length,v=new Array(f>1?f-1:0),y=1;y<f;y++)v[y-1]=arguments[y];o.emit.apply(o,[p].concat(v))}),this.modules.external.forEach(function(p){p.init&&p.init(o)})}if(this.format=this.options.interpolation.format,a||(a=G1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach(function(p){o[p]=function(){var f;return(f=o.store)[p].apply(f,arguments)}});var _=["addResource","addResources","addResourceBundle","removeResourceBundle"];_.forEach(function(p){o[p]=function(){var f;return(f=o.store)[p].apply(f,arguments),o}});var F=ih(),m=function(){var f=function(y,w){o.isInitialized&&!o.initializedStoreOnce&&o.logger.warn("init: i18next is already initialized. You should call init just once!"),o.isInitialized=!0,o.options.isClone||o.logger.log("initialized",o.options),o.emit("initialized",o.options),F.resolve(w),a(y,w)};if(o.languages&&o.options.compatibilityAPI!=="v1"&&!o.isInitialized)return f(null,o.t.bind(o));o.changeLanguage(o.options.lng,f)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),F}},{key:"loadResources",value:function(o){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G1,l=a,u=typeof o=="string"?o:this.language;if(typeof o=="function"&&(l=o),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return l();var d=[],s=function(h){if(h){var _=i.services.languageUtils.toResolveHierarchy(h);_.forEach(function(F){d.indexOf(F)<0&&d.push(F)})}};if(u)s(u);else{var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.forEach(function(c){return s(c)})}this.options.preload&&this.options.preload.forEach(function(c){return s(c)}),this.services.backendConnector.load(d,this.options.ns,function(c){!c&&!i.resolvedLanguage&&i.language&&i.setResolvedLanguage(i.language),l(c)})}else l(null)}},{key:"reloadResources",value:function(o,i,a){var l=ih();return o||(o=this.languages),i||(i=this.options.ns),a||(a=G1),this.services.backendConnector.reload(o,i,function(u){l.resolve(),a(u)}),l}},{key:"use",value:function(o){if(!o)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!o.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return o.type==="backend"&&(this.modules.backend=o),(o.type==="logger"||o.log&&o.warn&&o.error)&&(this.modules.logger=o),o.type==="languageDetector"&&(this.modules.languageDetector=o),o.type==="i18nFormat"&&(this.modules.i18nFormat=o),o.type==="postProcessor"&&x7.addPostProcessor(o),o.type==="formatter"&&(this.modules.formatter=o),o.type==="3rdParty"&&this.modules.external.push(o),this}},{key:"setResolvedLanguage",value:function(o){if(!(!o||!this.languages)&&!(["cimode","dev"].indexOf(o)>-1))for(var i=0;i<this.languages.length;i++){var a=this.languages[i];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(o,i){var a=this;this.isLanguageChangingTo=o;var l=ih();this.emit("languageChanging",o);var u=function(c){a.language=c,a.languages=a.services.languageUtils.toResolveHierarchy(c),a.resolvedLanguage=void 0,a.setResolvedLanguage(c)},d=function(c,h){h?(u(h),a.translator.changeLanguage(h),a.isLanguageChangingTo=void 0,a.emit("languageChanged",h),a.logger.log("languageChanged",h)):a.isLanguageChangingTo=void 0,l.resolve(function(){return a.t.apply(a,arguments)}),i&&i(c,function(){return a.t.apply(a,arguments)})},s=function(c){!o&&!c&&a.services.languageDetector&&(c=[]);var h=typeof c=="string"?c:a.services.languageUtils.getBestMatchFromCodes(c);h&&(a.language||u(h),a.translator.language||a.translator.changeLanguage(h),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(h)),a.loadResources(h,function(_){d(_,h)})};return!o&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!o&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(o),l}},{key:"getFixedT",value:function(o,i,a){var l=this,u=function d(s,g){var c;if(To(g)!=="object"){for(var h=arguments.length,_=new Array(h>2?h-2:0),F=2;F<h;F++)_[F-2]=arguments[F];c=l.options.overloadTranslationOptionHandler([s,g].concat(_))}else c=zo({},g);c.lng=c.lng||d.lng,c.lngs=c.lngs||d.lngs,c.ns=c.ns||d.ns,c.keyPrefix=c.keyPrefix||a||d.keyPrefix;var m=l.options.keySeparator||".",p;return c.keyPrefix&&Array.isArray(s)?p=s.map(function(f){return"".concat(c.keyPrefix).concat(m).concat(f)}):p=c.keyPrefix?"".concat(c.keyPrefix).concat(m).concat(s):s,l.t(p,c)};return typeof o=="string"?u.lng=o:u.lngs=o,u.ns=i,u.keyPrefix=a,u}},{key:"t",value:function(){var o;return this.translator&&(o=this.translator).translate.apply(o,arguments)}},{key:"exists",value:function(){var o;return this.translator&&(o=this.translator).exists.apply(o,arguments)}},{key:"setDefaultNamespace",value:function(o){this.options.defaultNS=o}},{key:"hasLoadedNamespace",value:function(o){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var s=function(h,_){var F=i.services.backendConnector.state["".concat(h,"|").concat(_)];return F===-1||F===2};if(a.precheck){var g=a.precheck(this,s);if(g!==void 0)return g}return!!(this.hasResourceBundle(l,o)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(l,o)&&(!u||s(d,o)))}},{key:"loadNamespaces",value:function(o,i){var a=this,l=ih();return this.options.ns?(typeof o=="string"&&(o=[o]),o.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){l.resolve(),i&&i(u)}),l):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(o,i){var a=ih();typeof o=="string"&&(o=[o]);var l=this.options.preload||[],u=o.filter(function(d){return l.indexOf(d)<0});return u.length?(this.options.preload=l.concat(u),this.loadResources(function(d){a.resolve(),i&&i(d)}),a):(i&&i(),Promise.resolve())}},{key:"dir",value:function(o){if(o||(o=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!o)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new wT(TT());return i.indexOf(a.getLanguagePartFromCode(o))>-1||o.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G1,l=zo(zo(zo({},this.options),i),{isClone:!0}),u=new n(l);(i.debug!==void 0||i.prefix!==void 0)&&(u.logger=u.logger.clone(i));var d=["store","services","language"];return d.forEach(function(s){u[s]=o[s]}),u.services=zo({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new ET(u.services,u.options),u.translator.on("*",function(s){for(var g=arguments.length,c=new Array(g>1?g-1:0),h=1;h<g;h++)c[h-1]=arguments[h];u.emit.apply(u,[s].concat(c))}),u.init(l,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ya);is(qp,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new qp(t,e)});var Hn=qp.createInstance();Hn.createInstance=qp.createInstance;Hn.createInstance;Hn.dir;Hn.init;Hn.loadResources;Hn.reloadResources;Hn.use;Hn.changeLanguage;Hn.getFixedT;Hn.t;Hn.exists;Hn.setDefaultNamespace;Hn.hasLoadedNamespace;Hn.loadNamespaces;Hn.loadLanguages;var C7=[],wle=C7.forEach,Dle=C7.slice;function kle(t){return wle.call(Dle.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var AT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Sle=function(e,n,r){var o=r||{};o.path=o.path||"/";var i=encodeURIComponent(n),a="".concat(e,"=").concat(i);if(o.maxAge>0){var l=o.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(l))}if(o.domain){if(!AT.test(o.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(o.domain)}if(o.path){if(!AT.test(o.path))throw new TypeError("option path is invalid");a+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(a+="; HttpOnly"),o.secure&&(a+="; Secure"),o.sameSite){var u=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},OT={create:function(e,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),o&&(i.domain=o),document.cookie=Sle(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},xle={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=OT.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&OT.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Cle={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=r.substring(1),i=o.split("&"),a=0;a<i.length;a++){var l=i[a].indexOf("=");if(l>0){var u=i[a].substring(0,l);u===e.lookupQuerystring&&(n=i[a].substring(l+1))}}}return n}},ah=null,BT=function(){if(ah!==null)return ah;try{ah=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ah=!1}return ah},Tle={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&BT()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&BT()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},sh=null,PT=function(){if(sh!==null)return sh;try{sh=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{sh=!1}return sh},Ile={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&PT()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&PT()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},Rle={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Ale={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Ole={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Ble={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function Ple(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var T7=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fo(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return _o(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=kle(r,this.options||{},Ple()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(xle),this.addDetector(Cle),this.addDetector(Tle),this.addDetector(Ile),this.addDetector(Rle),this.addDetector(Ale),this.addDetector(Ole),this.addDetector(Ble)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var o=[];return n.forEach(function(i){if(r.detectors[i]){var a=r.detectors[i].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(o=o.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var o=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(i){o.detectors[i]&&o.detectors[i].cacheUserLanguage(n,o.options)}))}}]),t}();T7.type="languageDetector";function hb(t){return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}var I7=[],Mle=I7.forEach,Nle=I7.slice;function fb(t){return Mle.call(Nle.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}function R7(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":hb(XMLHttpRequest))==="object"}function Lle(t){return!!t&&typeof t.then=="function"}function Ule(t){return Lle(t)?t:Promise.resolve(t)}function jle(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vp={exports:{}},K1={exports:{}},MT;function $le(){return MT||(MT=1,function(t,e){var n=typeof self<"u"?self:Pe,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var l={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function u(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(C){return C&&d.indexOf(Object.prototype.toString.call(C))>-1};function g(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function c(C){return typeof C!="string"&&(C=String(C)),C}function h(C){var I={next:function(){var M=C.shift();return{done:M===void 0,value:M}}};return l.iterable&&(I[Symbol.iterator]=function(){return I}),I}function _(C){this.map={},C instanceof _?C.forEach(function(I,M){this.append(M,I)},this):Array.isArray(C)?C.forEach(function(I){this.append(I[0],I[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(I){this.append(I,C[I])},this)}_.prototype.append=function(C,I){C=g(C),I=c(I);var M=this.map[C];this.map[C]=M?M+", "+I:I},_.prototype.delete=function(C){delete this.map[g(C)]},_.prototype.get=function(C){return C=g(C),this.has(C)?this.map[C]:null},_.prototype.has=function(C){return this.map.hasOwnProperty(g(C))},_.prototype.set=function(C,I){this.map[g(C)]=c(I)},_.prototype.forEach=function(C,I){for(var M in this.map)this.map.hasOwnProperty(M)&&C.call(I,this.map[M],M,this)},_.prototype.keys=function(){var C=[];return this.forEach(function(I,M){C.push(M)}),h(C)},_.prototype.values=function(){var C=[];return this.forEach(function(I){C.push(I)}),h(C)},_.prototype.entries=function(){var C=[];return this.forEach(function(I,M){C.push([M,I])}),h(C)},l.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function F(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function m(C){return new Promise(function(I,M){C.onload=function(){I(C.result)},C.onerror=function(){M(C.error)}})}function p(C){var I=new FileReader,M=m(I);return I.readAsArrayBuffer(C),M}function f(C){var I=new FileReader,M=m(I);return I.readAsText(C),M}function v(C){for(var I=new Uint8Array(C),M=new Array(I.length),A=0;A<I.length;A++)M[A]=String.fromCharCode(I[A]);return M.join("")}function y(C){if(C.slice)return C.slice(0);var I=new Uint8Array(C.byteLength);return I.set(new Uint8Array(C)),I.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&u(C)?(this._bodyArrayBuffer=y(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||s(C))?this._bodyArrayBuffer=y(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=F(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?F(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var C=F(this);if(C)return C;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(C){var I=C.toUpperCase();return b.indexOf(I)>-1?I:C}function x(C,I){I=I||{};var M=I.body;if(C instanceof x){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,I.headers||(this.headers=new _(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!M&&C._bodyInit!=null&&(M=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new _(I.headers)),this.method=S(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(M)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function N(C){var I=new FormData;return C.trim().split("&").forEach(function(M){if(M){var A=M.split("="),$=A.shift().replace(/\+/g," "),Y=A.join("=").replace(/\+/g," ");I.append(decodeURIComponent($),decodeURIComponent(Y))}}),I}function U(C){var I=new _,M=C.replace(/\r?\n[\t ]+/g," ");return M.split(/\r?\n/).forEach(function(A){var $=A.split(":"),Y=$.shift().trim();if(Y){var T=$.join(":").trim();I.append(Y,T)}}),I}w.call(x.prototype);function q(C,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new _(I.headers),this.url=I.url||"",this._initBody(C)}w.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},q.error=function(){var C=new q(null,{status:0,statusText:""});return C.type="error",C};var P=[301,302,303,307,308];q.redirect=function(C,I){if(P.indexOf(I)===-1)throw new RangeError("Invalid status code");return new q(null,{status:I,headers:{location:C}})},a.DOMException=i.DOMException;try{new a.DOMException}catch{a.DOMException=function(I,M){this.message=I,this.name=M;var A=Error(I);this.stack=A.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function G(C,I){return new Promise(function(M,A){var $=new x(C,I);if($.signal&&$.signal.aborted)return A(new a.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function T(){Y.abort()}Y.onload=function(){var D={status:Y.status,statusText:Y.statusText,headers:U(Y.getAllResponseHeaders()||"")};D.url="responseURL"in Y?Y.responseURL:D.headers.get("X-Request-URL");var R="response"in Y?Y.response:Y.responseText;M(new q(R,D))},Y.onerror=function(){A(new TypeError("Network request failed"))},Y.ontimeout=function(){A(new TypeError("Network request failed"))},Y.onabort=function(){A(new a.DOMException("Aborted","AbortError"))},Y.open($.method,$.url,!0),$.credentials==="include"?Y.withCredentials=!0:$.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&l.blob&&(Y.responseType="blob"),$.headers.forEach(function(D,R){Y.setRequestHeader(R,D)}),$.signal&&($.signal.addEventListener("abort",T),Y.onreadystatechange=function(){Y.readyState===4&&$.signal.removeEventListener("abort",T)}),Y.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return G.polyfill=!0,i.fetch||(i.fetch=G,i.Headers=_,i.Request=x,i.Response=q),a.Headers=_,a.Request=x,a.Response=q,a.fetch=G,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(K1,K1.exports)),K1.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Pe<"u"&&Pe.fetch?n=Pe.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof jle<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||$le();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(Vp,Vp.exports);const A7=Vp.exports,NT=jP({__proto__:null,default:A7},[Vp.exports]);function Gp(t){return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}var Vi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Vi=global.fetch:typeof window<"u"&&window.fetch?Vi=window.fetch:Vi=fetch);var Gf;R7()&&(typeof global<"u"&&global.XMLHttpRequest?Gf=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Gf=window.XMLHttpRequest));var Kp;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Kp=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Kp=window.ActiveXObject));!Vi&&NT&&!Gf&&!Kp&&(Vi=A7||NT);typeof Vi!="function"&&(Vi=void 0);var gb=function(e,n){if(n&&Gp(n)==="object"){var r="";for(var o in n)r+="&"+encodeURIComponent(o)+"="+encodeURIComponent(n[o]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},LT=function(e,n,r){Vi(e,n).then(function(o){if(!o.ok)return r(o.statusText||"Error",{status:o.status});o.text().then(function(i){r(null,{status:o.status,data:i})}).catch(r)}).catch(r)},UT=!1,qle=function(e,n,r,o){e.queryStringParams&&(n=gb(n,e.queryStringParams));var i=fb({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);r&&(i["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,l=fb({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:i},UT?{}:a);try{LT(n,l,o)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return o(u);try{Object.keys(a).forEach(function(d){delete l[d]}),LT(n,l,o),UT=!0}catch(d){o(d)}}},Vle=function(e,n,r,o){r&&Gp(r)==="object"&&(r=gb("",r).slice(1)),e.queryStringParams&&(n=gb(n,e.queryStringParams));try{var i;Gf?i=new Gf:i=new Kp("MSXML2.XMLHTTP.3.0"),i.open(r?"POST":"GET",n,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,r&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var l in a)i.setRequestHeader(l,a[l]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(r)}catch(u){console&&console.log(u)}},Gle=function(e,n,r,o){if(typeof r=="function"&&(o=r,r=void 0),o=o||function(){},Vi&&n.indexOf("file:")!==0)return qle(e,n,r,o);if(R7()||typeof ActiveXObject=="function")return Vle(e,n,r,o);o(new Error("No fetch and no xhr implementation found!"))};function Kf(t){return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O7(r.key),r)}}function Hle(t,e,n){return e&&jT(t.prototype,e),n&&jT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zle(t,e,n){return e=O7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7(t){var e=Wle(t,"string");return Kf(e)==="symbol"?e:String(e)}function Wle(t,e){if(Kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yle=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,o){return zle({},r,o||"")},request:Gle,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},B7=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Kle(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return Hle(t,[{key:"init",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=fb(o,this.options||{},Yle()),this.allOptions=i,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,o){this._readAny(n,n,r,r,o)}},{key:"read",value:function(n,r,o){this._readAny([n],n,[r],r,o)}},{key:"_readAny",value:function(n,r,o,i,a){var l=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(n,o)),u=Ule(u),u.then(function(d){if(!d)return a(null,{});var s=l.services.interpolator.interpolate(d,{lng:n.join("+"),ns:o.join("+")});l.loadUrl(s,a,r,i)})}},{key:"loadUrl",value:function(n,r,o,i){var a=this;this.options.request(this.options,n,void 0,function(l,u){if(u&&(u.status>=500&&u.status<600||!u.status))return r("failed loading "+n+"; status code: "+u.status,!0);if(u&&u.status>=400&&u.status<500)return r("failed loading "+n+"; status code: "+u.status,!1);if(!u&&l&&l.message&&l.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+l.message,!0);if(l)return r(l,!1);var d,s;try{typeof u.data=="string"?d=a.options.parse(u.data,o,i):d=u.data}catch{s="failed parsing "+n+" to json"}if(s)return r(s,!1);r(null,d)})}},{key:"create",value:function(n,r,o,i,a){var l=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var u=this.options.parsePayload(r,o,i),d=0,s=[],g=[];n.forEach(function(c){var h=l.options.addPath;typeof l.options.addPath=="function"&&(h=l.options.addPath(c,r));var _=l.services.interpolator.interpolate(h,{lng:c,ns:r});l.options.request(l.options,_,u,function(F,m){d+=1,s.push(F),g.push(m),d===n.length&&typeof a=="function"&&a(s,g)})})}}},{key:"reload",value:function(){var n=this,r=this.services,o=r.backendConnector,i=r.languageUtils,a=r.logger,l=o.language;if(!(l&&l.toLowerCase()==="cimode")){var u=[],d=function(g){var c=i.toResolveHierarchy(g);c.forEach(function(h){u.indexOf(h)<0&&u.push(h)})};d(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(s){return d(s)}),u.forEach(function(s){n.allOptions.ns.forEach(function(g){o.read(s,g,"read",null,null,function(c,h){c&&a.warn("loading namespace ".concat(g," for language ").concat(s," failed"),c),!c&&h&&a.log("loaded namespace ".concat(g," for language ").concat(s),h),o.loaded("".concat(s,"|").concat(g),c,h)})})})}}}]),t}();B7.type="backend";Hn.use(B7).use(T7).use(Gie).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:"/public/locales/{{lng}}/translation.json"}});let pb={privateReadReceipts:!1};function Jle(){const[,t]=X.exports.useState({}),{t:e}=ZB(),n=o=>{o.preventDefault();const{keywordInput:i}=o.target.elements,a=i.value.trim();a!==""&&(at.setTranslationLanguage(a),document.getElementById("set-button").getElementsByClassName("text-normal")[0].textContent="Done!")},r=o=>{o.preventDefault();const{keywordInput:i}=o.target.elements,a=i.value.trim();a!==""&&(at.setTranslationSelfLanguage(a),document.getElementById("set-self-button").getElementsByClassName("text-normal")[0].textContent="Done!")};return re("div",{className:"settings-appearance",children:[re("div",{className:"settings-appearance__card",children:[E(ut,{children:e("Theme")}),E(Et,{title:"Follow system theme",options:E(_r,{isActive:at.useSystemTheme,onToggle:()=>{rT(),t({})}}),content:E(ue,{variant:"b3",children:"Use light or dark mode based on the system settings."})}),E(Et,{title:"Theme",content:E(fc,{selected:at.useSystemTheme?-1:at.getThemeIndex(),segments:[{text:"Light"},{text:"Silver"},{text:"Dark"},{text:"Butter"},{text:"NGA"}],onSelect:o=>{at.useSystemTheme&&rT(),at.setTheme(o),t({})}})})]}),re("div",{className:"settings-appearance__card",children:[E(ut,{children:"Room messages"}),E(Et,{title:"Markdown formatting",options:E(_r,{isActive:at.isMarkdown,onToggle:()=>{Jie(),t({})}}),content:E(ue,{variant:"b3",children:"Format messages with markdown syntax before sending."})}),E(Et,{title:"Hide membership events",options:E(_r,{isActive:at.hideMembershipEvents,onToggle:()=>{Qie(),t({})}}),content:E(ue,{variant:"b3",children:"Hide membership change messages from room timeline. (Join, Leave, Invite, Kick and Ban)"})}),E(Et,{title:"Hide navigation by default",options:E(_r,{isActive:at.hideNavigation,onToggle:()=>{Zie(),t({})}}),content:E(ue,{variant:"b3",children:"Hide the navigation bar by default, when cinny is opened."})}),E(Et,{title:"Hide nick/avatar events",options:E(_r,{isActive:at.hideNickAvatarEvents,onToggle:()=>{eae(),t({})}}),content:E(ue,{variant:"b3",children:"Hide nick and avatar change messages from room timeline."})})]}),re("div",{className:"settings-appearance__card",children:[E(ut,{children:"Translation"}),E(Et,{title:"Select API",content:E(fc,{selected:at.getTranslationAPIIndex(),segments:[{text:"Google"},{text:"DeepL"}],onSelect:o=>{at.setTranslationAPI(o),t({})}})}),E(Et,{title:"Custom target language",content:re("div",{children:[E(ue,{variant:"b3",children:"Set a language which you prefer. e.g.: English=EN"}),re("form",{onSubmit:n,children:[E(dt,{name:"keywordInput",required:!0,value:at.getTranslationLanguage()}),E(Me,{variant:"primary",type:"submit",id:"set-button",children:"Set"})]})]})}),E(Et,{title:"Translate self messages",options:E(_r,{isActive:at.enableSelfTranslate,onToggle:()=>{tae(),t({})}}),content:E(ue,{variant:"b3",children:"When you send message, we will automaticly translate to you prefered language"})}),E(Et,{title:"Self message target language",content:re("div",{children:[E(ue,{variant:"b3",children:"Set a language which you prefer. e.g.: English=EN"}),re("form",{onSubmit:r,children:[E(dt,{name:"keywordInput",required:!0,value:at.getTranslationSelfLanguage(),disabled:!at.enableSelfTranslate}),E(Me,{variant:"primary",type:"submit",id:"set-self-button",disabled:!at.enableSelfTranslate,children:"Set"})]})]})})]})]})}function Xle(){var o;const[t,e]=iae("notifications",(o=window.Notification)==null?void 0:o.permission),[,n]=X.exports.useState({});return re(Qe,{children:[re("div",{className:"settings-notifications",children:[E(ut,{children:"Notification & Sound"}),E(Et,{title:"Desktop notification",options:(()=>window.Notification===void 0?E(ue,{className:"settings-notifications__not-supported",children:"Not supported in this browser."}):t==="granted"?E(_r,{isActive:at._showNotifications,onToggle:()=>{var i;nae(),e((i=window.Notification)==null?void 0:i.permission),n({})}}):E(Me,{variant:"primary",onClick:()=>window.Notification.requestPermission().then(e),children:"Request permission"}))(),content:E(ue,{variant:"b3",children:"Show desktop notification when new messages arrive."})}),E(Et,{title:"Notification Sound",options:E(_r,{isActive:at.isNotificationSounds,onToggle:()=>{oae(),n({})}}),content:E(ue,{variant:"b3",children:"Play sound when new messages arrive."})})]}),E(kse,{}),E(xse,{}),E(Cse,{})]})}function Qle(){return re(Qe,{children:[E("div",{className:"settings-emoji__card",children:E(bse,{})}),E("div",{className:"settings-emoji__card",children:E(wse,{})})]})}function Zle(){const[,t]=X.exports.useState({});return re("div",{className:"settings-security",children:[re("div",{className:"settings-security__card",children:[E(ut,{children:"Cross signing and backup"}),E(Bse,{}),E(Mse,{})]}),E(Gse,{}),re("div",{className:"settings-security__card",children:[E(ut,{children:"Export/Import encryption keys"}),E(Et,{title:"Export E2E room keys",content:re(Qe,{children:[E(ue,{variant:"b3",children:"Export end-to-end encryption room keys to decrypt old messages in other session. In order to encrypt keys you need to set a password, which will be used while importing."}),E(pse,{})]})}),E(Et,{title:"Import E2E room keys",content:re(Qe,{children:[E(ue,{variant:"b3",children:"To decrypt older messages, Export E2EE room keys from Element (Settings > Security & Privacy > Encryption > Cryptography) and import them here. Imported keys are encrypted so you'll have to enter the password you set in order to decrypt it."}),E(gse,{})]})})]}),re("div",{className:"settings-security__card",children:[E(ut,{children:"Presence"}),E(Et,{title:"Send read receipts",options:E(_r,{disabled:!pb.privateReadReceipts&&at.sendReadReceipts,isActive:at.sendReadReceipts,onToggle:()=>{rae(),t({})}}),content:re(Qe,{children:[E(ue,{variant:"b3",children:"Let other people know what messages you read."}),!pb.privateReadReceipts&&E(ue,{variant:"b3",children:"Making your read receipts private requires a compatible homeserver."})]})})]})]})}function eue(){return re("div",{className:"settings-about",children:[re("div",{className:"settings-about__card",children:[E(ut,{children:"Application"}),re("div",{className:"settings-about__branding",children:[E("img",{width:"60",height:"60",src:Bf,alt:"Cinny logo"}),re("div",{children:[re(ue,{variant:"h2",weight:"medium",children:["Cinny Mod",E("span",{className:"text text-b3",style:{margin:"0 var(--sp-extra-tight)"},children:`v${te.version}.52.50`})]}),E(ue,{children:"Yet another matrix client"}),E(ue,{children:"Modded By WHK with magic & love"}),re("div",{className:"settings-about__btns",children:[E(Me,{onClick:()=>window.open("https://github.com/ajbura/cinny"),children:"Source code"}),E(Me,{onClick:()=>window.open("https://cinny.in/#sponsor"),children:"Support"}),E(Me,{onClick:()=>Fe.clearCacheAndReload(),variant:"danger",children:"Clear cache & reload"})]})]})]})]}),re("div",{className:"settings-about__card",children:[E(ut,{children:"Credits"}),E("div",{className:"settings-about__credits",children:re("ul",{children:[E("li",{children:re(ue,{children:["The ",E("a",{href:"https://github.com/matrix-org/matrix-js-sdk",rel:"noreferrer noopener",target:"_blank",children:"matrix-js-sdk"})," is  ",E("a",{href:"https://matrix.org/foundation",rel:"noreferrer noopener",target:"_blank",children:"The Matrix.org Foundation C.I.C"})," used under the terms of ",E("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",rel:"noreferrer noopener",target:"_blank",children:"Apache 2.0"}),"."]})}),E("li",{children:re(ue,{children:["The ",E("a",{href:"https://twemoji.twitter.com",target:"_blank",rel:"noreferrer noopener",children:"Twemoji"})," emoji art is  ",E("a",{href:"https://twemoji.twitter.com",target:"_blank",rel:"noreferrer noopener",children:"Twitter, Inc and other contributors"})," used under the terms of ",E("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noreferrer noopener",children:"CC-BY 4.0"}),"."]})}),E("li",{children:re(ue,{children:["The ",E("a",{href:"https://material.io/design/sound/sound-resources.html",target:"_blank",rel:"noreferrer noopener",children:"Material sound resources"})," are  ",E("a",{href:"https://google.com",target:"_blank",rel:"noreferrer noopener",children:"Google"})," used under the terms of ",E("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noreferrer noopener",children:"CC-BY 4.0"}),"."]})})]})})]})]})}const hu={APPEARANCE:"Appearance",NOTIFICATIONS:"Notifications",EMOJI:"Emoji",SECURITY:"Security",ABOUT:"About"},p0=[{text:hu.APPEARANCE,iconSrc:Kse,disabled:!1,render:()=>E(Jle,{})},{text:hu.NOTIFICATIONS,iconSrc:D7,disabled:!1,render:()=>E(Xle,{})},{text:hu.EMOJI,iconSrc:Bg,disabled:!1,render:()=>E(Qle,{})},{text:hu.SECURITY,iconSrc:w7,disabled:!1,render:()=>E(Zle,{})},{text:hu.ABOUT,iconSrc:kF,disabled:!1,render:()=>E(eue,{})}];function tue(t){const[e,n]=X.exports.useState(!1);return X.exports.useEffect(()=>{const o=i=>{const a=p0.find(l=>l.text===i);a&&t(a),n(!0)};return je.on(te.events.navigation.SETTINGS_OPENED,o),()=>{je.removeListener(te.events.navigation.SETTINGS_OPENED,o)}},[]),[e,()=>n(!1)]}async function nue(){const t=Fe.matrixClient;pb={privateReadReceipts:(await Promise.all([t.doesServerSupportUnstableFeature("org.matrix.msc2285.stable"),t.isVersionSupported("v1.4")])).some(e=>e===!0)}}function rue(){const[t,e]=X.exports.useState(p0[0]),[n,r]=tue(e);X.exports.useEffect(nue,[]);const{t:o}=ZB(),i=u=>e(u),a=async()=>{await or("Logout","Are you sure that you want to logout your session?","Logout","danger")&&Fe.logout()},l=async()=>{const u=JSON.parse(window.localStorage.getItem("loggedInUsers"));await Dr(E(ue,{variant:"s1",weight:"medium",children:"Switch users"}),()=>re("div",{children:[u.map(s=>{const g=Fe.matrixClient,c=g.getUser(s),h=c.avatarUrl?g.mxcUrlToHttp(c.avatarUrl,80,80,"crop"):null;return E(Cl,{onClick:()=>{s!==window.localStorage.getItem("currentUser")&&(window.localStorage.setItem("currentUser",s),window.location.reload())},name:c.displayName,avatarSrc:h,color:ln(s)},s)}),E(Me,{variant:"caution",iconSrc:hc,onClick:()=>{window.localStorage.removeItem("currentUser"),window.location.reload()},children:"Add user"})]}))};return E(Ei,{isOpen:n,className:"settings-window",title:E(ue,{variant:"s1",weight:"medium",primary:!0,children:o("Settings")}),contentOptions:re(Qe,{children:[E(Me,{variant:"caution",iconSrc:hc,onClick:l,children:"Switch users"}),E(Me,{variant:"danger",iconSrc:Hse,onClick:a,children:"Logout"}),E(Ye,{src:Ht,onClick:r,tooltip:"Close"})]}),onRequestClose:r,children:n&&re("div",{className:"settings-window__content",children:[E(Ow,{userId:Fe.matrixClient.getUserId()}),E(Tg,{items:p0,defaultSelected:p0.findIndex(u=>u.text===t.text),onSelect:i}),E("div",{className:"settings-window__cards-wrapper",children:t.render()})]})})}function P7(){const{notifications:t}=Fe,[,e]=X.exports.useState({});X.exports.useEffect(()=>{function n(r,o,i){o!==i&&e({})}return t.on(te.events.notifications.NOTI_CHANGED,n),()=>{t.removeListener(te.events.notifications.NOTI_CHANGED,n)}},[])}function oue(){const t=Fe.matrixClient,[e,n]=X.exports.useState({avatarUrl:null,displayName:t.getUser(t.getUserId()).displayName});return X.exports.useEffect(()=>{const r=t.getUser(t.getUserId()),o=(a,l)=>n({avatarUrl:a||null,displayName:l||e.displayName}),i=(a,l)=>{o(l.avatarUrl,l.displayName)};return t.getProfileInfo(t.getUserId()).then(a=>{o(a.avatar_url,a.displayname)}),r.on("User.avatarUrl",i),()=>{r.removeListener("User.avatarUrl",i)}},[]),E(di,{onClick:c5,tooltip:"Settings",avatar:E(Jt,{text:e.displayName,bgColor:ln(t.getUserId()),size:"normal",imageSrc:e.avatarUrl!==null?t.mxcUrlToHttp(e.avatarUrl,42,42,"crop"):null})})}function iue(){const t=zB(),e=t==null?void 0:t.filter(n=>dp(n.device_id)===!1);return e!=null&&e.length?E(di,{className:"sidebar__cross-signin-alert",tooltip:`${e.length} unverified sessions`,onClick:()=>c5(hu.SECURITY),avatar:E(Jt,{iconSrc:bw,iconColor:"var(--ic-danger-normal)",size:"normal"})}):null}function aue(){const{roomList:t,accountData:e,notifications:n}=Fe,[r]=Ew();P7();function o(){const u=t.getOrphans();let d=null;return u.forEach(s=>{if(e.spaceShortcut.has(s)||!n.hasNoti(s))return;d===null&&(d={total:0,highlight:0});const g=n.getNoti(s);d.total+=g.total,d.highlight+=g.highlight}),d}function i(){if(t.directs.size===0)return null;let u=null;return[...t.directs].forEach(d=>{if(!n.hasNoti(d))return;u===null&&(u={total:0,highlight:0});const s=n.getNoti(d);u.total+=s.total,u.highlight+=s.highlight}),u}const a=i(),l=o();return re(Qe,{children:[E(di,{tooltip:"Home",active:r===te.tabs.HOME,onClick:()=>fi(te.tabs.HOME),avatar:E(Jt,{iconSrc:HB,size:"normal"}),notificationBadge:l?E(Wa,{alert:(l==null?void 0:l.highlight)>0,content:kf(l.total)||null}):null}),E(di,{tooltip:"People",active:r===te.tabs.DIRECTS,onClick:()=>fi(te.tabs.DIRECTS),avatar:E(Jt,{iconSrc:ul,size:"normal"}),notificationBadge:a?E(Wa,{alert:(a==null?void 0:a.highlight)>0,content:kf(a.total)||null}):null})]})}function M7({isActive:t,spaceId:e,index:n,moveShortcut:r,onDrop:o}){const i=Fe.matrixClient,{notifications:a}=Fe,l=i.getRoom(e),u=X.exports.useRef(null),d=X.exports.useRef(null),s=(_,F)=>{_.preventDefault(),rr("right",Rn(_,".sidebar-avatar"),m=>E(jc,{roomId:F,afterOptionSelect:m}))},[,g]=cie({accept:"SPACE_SHORTCUT",collect(_){return{handlerId:_.getHandlerId()}},drop(_){o(_.index,_.spaceId)},hover(_,F){var b;if(!u.current)return;const m=_.index,p=n;if(m===p)return;const f=(b=u.current)==null?void 0:b.getBoundingClientRect(),v=(f.bottom-f.top)/2,w=F.getClientOffset().y-f.top;m<p&&w<v||m>p&&w>v||(r(m,p),_.index=p)}}),[{isDragging:c},h]=nie({type:"SPACE_SHORTCUT",item:()=>({spaceId:e,index:n}),collect:_=>({isDragging:_.isDragging()})});return h(d),g(u),u.current&&(c?u.current.style.opacity=0:u.current.style.opacity=1),E(di,{ref:u,active:t,tooltip:l.name,onClick:()=>fi(e),onContextMenu:_=>s(_,e),avatar:E(Jt,{ref:d,text:l.name,bgColor:ln(l.roomId),size:"normal",imageSrc:l.getAvatarUrl(Fe.matrixClient.baseUrl,42,42,"crop")||null}),notificationBadge:a.hasNoti(e)?E(Wa,{alert:a.getHighlightNoti(e)>0,content:kf(a.getTotalNoti(e))||null}):null})}M7.propTypes={spaceId:J.exports.string.isRequired,isActive:J.exports.bool.isRequired,index:J.exports.number.isRequired,moveShortcut:J.exports.func.isRequired,onDrop:J.exports.func.isRequired};function sue(){const{accountData:t}=Fe,[e]=Ew();P7();const[n,r]=X.exports.useState([...t.spaceShortcut]);X.exports.useEffect(()=>{const a=()=>r([...t.spaceShortcut]);return t.on(te.events.accountData.SPACE_SHORTCUT_UPDATED,a),()=>{t.removeListener(te.events.accountData.SPACE_SHORTCUT_UPDATED,a)}},[]);const o=(a,l)=>{const u=n[a],d=[...n];d.splice(a,1),d.splice(l,0,u),r(d)},i=(a,l)=>{[...t.spaceShortcut][a]!==l&&kie(l,a)};return E(Ooe,{backend:Die,children:n.map((a,l)=>E(M7,{index:l,spaceId:a,isActive:e===a,moveShortcut:o,onDrop:i},a))})}function lue(){const{roomList:t}=Fe,e=()=>t.inviteRooms.size+t.inviteSpaces.size+t.inviteDirects.size,[n,r]=X.exports.useState(e());return X.exports.useEffect(()=>{const o=()=>{r(e())};return t.on(te.events.roomList.INVITELIST_UPDATED,o),()=>{t.removeListener(te.events.roomList.INVITELIST_UPDATED,o)}},[]),[n]}function uue(){const[t]=lue();return re("div",{className:"sidebar",children:[E("div",{className:"sidebar__scrollable",children:E(Kt,{invisible:!0,children:re("div",{className:"scrollable-content",children:[E("div",{className:"featured-container",children:E(aue,{})}),E("div",{className:"sidebar-divider"}),re("div",{className:"space-container",children:[E(sue,{}),E(di,{tooltip:"Pin spaces",onClick:()=>OQ(),avatar:E(Jt,{iconSrc:Rie,size:"normal"})})]})]})})}),re("div",{className:"sidebar__sticky",children:[E("div",{className:"sidebar-divider"}),re("div",{className:"sticky-container",children:[E(di,{tooltip:"Search",onClick:()=>f5(),avatar:E(Jt,{iconSrc:zi,size:"normal"})}),t!==0&&E(di,{tooltip:"Invites",onClick:()=>BQ(),avatar:E(Jt,{iconSrc:Aie,size:"normal"}),notificationBadge:E(Wa,{alert:!0,content:t})}),E(iue,{}),E(oue,{})]})]})]})}const N7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='16%2c12%2014%2c12%2014%2c14%2010%2c14%2010%2c10%2012%2c10%2012%2c8%2010%2c8%2010%2c3%208%2c3%208%2c8%203%2c8%203%2c10%208%2c10%208%2c14%203%2c14%203%2c16%208%2c16%208%2c21%2010%2c21%2010%2c16%2014%2c16%2014%2c21%2016%2c21%2016%2c16%2021%2c16%2021%2c14%2016%2c14%20'/%3e%20%3cg%3e%20%3cpath%20d='M19%2c0c-2.8%2c0-5%2c2.2-5%2c5s2.2%2c5%2c5%2c5s5-2.2%2c5-5S21.8%2c0%2c19%2c0z%20M22%2c5.8h-2.3V8h-1.5V5.8H16V4.3h2.3V2h1.5v2.3H22V5.8z'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",L7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M15.4%2c13.7L14%2c14l-0.2%2c1.4c-0.4%2c2.8-1.3%2c4.2-1.7%2c4.6c-0.4-0.3-1.3-1.8-1.7-4.6L10%2c14l-1.4-0.2c-2.8-0.4-4.2-1.3-4.6-1.7%20c0.3-0.4%2c1.8-1.3%2c4.6-1.7L10%2c10l0.2-1.4c0.4-2.8%2c1.3-4.2%2c1.7-4.6V2c-1.7%2c0-3.1%2c2.6-3.7%2c6.3C4.6%2c8.9%2c2%2c10.3%2c2%2c12s2.6%2c3.1%2c6.3%2c3.7%20c0.6%2c3.7%2c2%2c6.3%2c3.7%2c6.3s3.1-2.6%2c3.7-6.3c3.7-0.6%2c6.3-2%2c6.3-3.7h-2.1C19.6%2c12.4%2c18.2%2c13.3%2c15.4%2c13.7z'/%3e%20%3cpath%20d='M19%2c0c-2.8%2c0-5%2c2.2-5%2c5s2.2%2c5%2c5%2c5s5-2.2%2c5-5S21.8%2c0%2c19%2c0z%20M22%2c5.8h-2.3V8h-1.5V5.8H16V4.3h2.3V2h1.5v2.3H22V5.8z'/%3e%20%3c/g%3e%20%3c/svg%3e";function CF({spaceId:t,afterOptionSelect:e}){const n=Fe.matrixClient,r=n.getRoom(t),o=r?r.currentState.maySendStateEvent("m.space.child",n.getUserId()):!0;return re(Qe,{children:[E(ut,{children:"Add rooms or spaces"}),E(ft,{iconSrc:L7,onClick:()=>{e(),jC(!0,t)},disabled:!o,children:"Create new space"}),E(ft,{iconSrc:N7,onClick:()=>{e(),jC(!1,t)},disabled:!o,children:"Create new room"}),!t&&E(ft,{iconSrc:nF,onClick:()=>{e(),PQ()},children:"Explore public rooms"}),!t&&E(ft,{iconSrc:pc,onClick:()=>{e(),MQ()},children:"Join with address"}),t&&E(ft,{iconSrc:pc,onClick:()=>{e(),AQ(t)},disabled:!o,children:"Add existing"}),t&&E(ft,{onClick:()=>{e(),u5(t)},iconSrc:_w,children:"Manage rooms"})]})}CF.defaultProps={spaceId:null};CF.propTypes={spaceId:J.exports.string,afterOptionSelect:J.exports.func.isRequired};function Nw({selectedTab:t,spaceId:e}){const n=Fe.matrixClient,r=t!==te.tabs.DIRECTS?"Home":"Direct messages",o=t===te.tabs.DIRECTS,i=n.getRoom(e),a=o?null:(i==null?void 0:i.name)||null,l=d=>{d.preventDefault(),rr("bottom",Rn(d,".header"),s=>E(jc,{roomId:e,afterOptionSelect:s}))},u=d=>{d.preventDefault(),rr("right",Rn(d,".ic-btn"),s=>E(CF,{spaceId:e,afterOptionSelect:s}))};return re(Hi,{children:[a?re("button",{className:"drawer-header__btn",onClick:l,type:"button",onMouseUp:d=>bi(d,".drawer-header__btn"),children:[E(pi,{children:E(ue,{variant:"s1",weight:"medium",primary:!0,children:We(a)})}),E(It,{size:"small",src:fn})]}):E(pi,{children:E(ue,{variant:"s1",weight:"medium",primary:!0,children:r})}),o&&E(Ye,{onClick:()=>vg(),tooltip:"Start DM",src:pc,size:"small"}),!o&&E(Ye,{onClick:u,tooltip:"Add rooms/spaces",src:pc,size:"small"})]})}Nw.defaultProps={spaceId:null};Nw.propTypes={selectedTab:J.exports.string.isRequired,spaceId:J.exports.string};const TF="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='9.2%2c4.2%207.8%2c5.6%2014.2%2c12%207.8%2c18.4%209.2%2c19.8%2017%2c12%20'/%3e%20%3c/g%3e%20%3c/svg%3e";function Lw({spaceId:t}){const[,e]=X.exports.useState({}),n=X.exports.useRef(null),{roomList:r,notifications:o,accountData:i}=Fe,a=Fe.matrixClient,l=je.selectedSpacePath;function u(g,c,h){if(c!==h&&(je.selectedSpacePath.includes(g)&&e({}),je.selectedSpacePath[0]===te.tabs.HOME)){if(!r.isOrphan(g)||r.directs.has(g))return;e({})}}X.exports.useEffect(()=>(requestAnimationFrame(()=>{(n==null?void 0:n.current)!==null&&(n.current.scrollLeft=n.current.scrollWidth)}),o.on(te.events.notifications.NOTI_CHANGED,u),()=>{o.removeListener(te.events.notifications.NOTI_CHANGED,u)}),[t]);function d(g){const c=r.getOrphans().filter(_=>_!==g).filter(_=>!i.spaceShortcut.has(_));let h=null;return c.forEach(_=>{if(!o.hasNoti(_))return;h===null&&(h={total:0,highlight:0});const F=o.getNoti(_);h.total+=F.total,h.highlight+=F.highlight}),h}function s(g,c){if(!o.hasNoti(g))return null;const h=o.getNoti(g);if(!o.hasNoti(c)||h.from===null)return h;const _=o.getNoti(c);let F=!0,m=0,p=0;return h.from.forEach(f=>{if(_.from.has(f))return;F=!1;const v=o.getNoti(f);m+=v.total,p+=v.highlight}),F?null:{total:m,highlight:p}}return E("div",{className:"drawer-breadcrumb__wrapper",children:E(Kt,{ref:n,horizontal:!0,vertical:!1,invisible:!0,children:re("div",{className:"drawer-breadcrumb",children:[l.map((g,c)=>{const h=g!==te.tabs.HOME&&c<l.length?s(g,c===l.length-1?null:l[c+1]):d(c===l.length-1?null:l[c+1]);return re(nn.Fragment,{children:[c!==0&&E(It,{size:"extra-small",src:TF}),re(Me,{className:c===l.length-1?"drawer-breadcrumb__btn--selected":"",onClick:()=>{g===te.tabs.HOME?fi(g):TE(g)},children:[E(ue,{variant:"b2",children:g===te.tabs.HOME?"Home":We(a.getRoom(g).name)}),h!==null&&E(Wa,{alert:h.highlight!==0,content:h.total>0?kf(h.total):null})]})]},g)}),E("div",{style:{width:"var(--sp-extra-tight)",height:"100%"}})]})})})}Lw.defaultProps={spaceId:null};Lw.propTypes={spaceId:J.exports.string};class U7{constructor(){this._topics=new Map}_getSubscribers(e){const n=this._topics.get(e);if(n===void 0)throw new Error(`Topic:"${e}" doesn't exist.`);return n}_getInboxes(e,n){const o=this._getSubscribers(e).get(n);if(o===void 0)throw new Error(`Inbox on topic:"${e}" at address:"${n}" doesn't exist.`);return o}hasTopic(e){return this._topics.get(e)!==void 0}hasSubscriber(e,n){return this._getSubscribers(e).get(n)!==void 0}hasTopicAndSubscriber(e,n){return this.hasTopic(e)?this.hasSubscriber(e,n):!1}subscribe(e,n,r){if(typeof r!="function")throw new TypeError("Inbox  must be a function.");this._topics.has(e)===!1&&this._topics.set(e,new Map);const o=this._topics.get(e),i=o.get(n)??new Set;return i.add(r),o.set(n,i),()=>this.unsubscribe(e,n,r)}unsubscribe(e,n,r){const o=this._getSubscribers(e);if(!o)throw new Error(`Unable to unsubscribe. Topic: "${e}" doesn't exist.`);const i=o.get(n);if(!i)throw new Error(`Unable to unsubscribe. Subscriber on topic:"${e}" at address:"${n}" doesn't exist`);if(!i.delete(r))throw new Error("Unable to unsubscribe. Inbox doesn't exist");i.size===0&&o.delete(n),o.size===0&&this._topics.delete(e)}post(e,n,r){const o=(a,l)=>{if(a===void 0)throw new Error(`Unable to post on topic:"${e}" at address:"${l}". Subscriber doesn't exist.`);a.forEach(u=>u(r))};if(typeof n=="string"){o(this._getInboxes(e,n),n);return}const i=this._getSubscribers(e);n.forEach(a=>{o(i.get(a),a)})}}function Hp(t,e){const n=Fe.matrixClient.getRoom(t);return Fe.matrixClient.getRoom(e).getLastActiveTimestamp()-n.getLastActiveTimestamp()}function Dh(t,e){let n=Fe.matrixClient.getRoom(t).name,r=Fe.matrixClient.getRoom(e).name;return n=n.replace(/#/g,""),r=r.replace(/#/g,""),n.toLowerCase()<r.toLowerCase()?-1:n.toLowerCase()>r.toLowerCase()?1:0}function j7(t,e){const n=t.name,r=e.name;return n.toLowerCase()<r.toLowerCase()?-1:n.toLowerCase()>r.toLowerCase()?1:0}function $7(t,e){const n=t.powerLevel,r=e.powerLevel;return n>r?-1:n<r?1:0}function Uw({isSelected:t,isMuted:e,isUnread:n,onClick:r,content:o,options:i,onContextMenu:a}){const l=["room-selector"];return e&&l.push("room-selector--muted"),n&&l.push("room-selector--unread"),t&&l.push("room-selector--selected"),re("div",{className:l.join(" "),children:[E("button",{className:"room-selector__content",type:"button",onClick:r,onMouseUp:u=>bi(u,".room-selector__content"),onContextMenu:a,children:o}),E("div",{className:"room-selector__options",children:i})]})}Uw.defaultProps={isMuted:!1,options:null,onContextMenu:null};Uw.propTypes={isSelected:J.exports.bool.isRequired,isMuted:J.exports.bool,isUnread:J.exports.bool.isRequired,onClick:J.exports.func.isRequired,content:J.exports.node.isRequired,options:J.exports.node,onContextMenu:J.exports.func};function Gc({name:t,parentName:e,roomId:n,imageSrc:r,iconSrc:o,isSelected:i,isMuted:a,isUnread:l,notificationCount:u,isAlert:d,options:s,onClick:g,onContextMenu:c}){return E(Uw,{isSelected:i,isMuted:a,isUnread:l,content:re(Qe,{children:[E(Jt,{text:t,bgColor:ln(n),imageSrc:r,iconColor:"var(--ic-surface-low)",iconSrc:o,size:"extra-small"}),re(ue,{variant:"b1",weight:l?"medium":"normal",children:[We(t),e&&re(ue,{variant:"b3",span:!0,children:["  ",We(e)]})]}),l&&E(Wa,{alert:d,content:u!==0?u:null})]}),options:s,onClick:g,onContextMenu:c})}Gc.defaultProps={parentName:null,isSelected:!1,imageSrc:null,iconSrc:null,isMuted:!1,options:null,onContextMenu:null};Gc.propTypes={name:J.exports.string.isRequired,parentName:J.exports.string,roomId:J.exports.string.isRequired,imageSrc:J.exports.string,iconSrc:J.exports.string,isSelected:J.exports.bool,isMuted:J.exports.bool,isUnread:J.exports.bool.isRequired,notificationCount:J.exports.oneOfType([J.exports.string,J.exports.number]).isRequired,isAlert:J.exports.bool.isRequired,options:J.exports.node,onClick:J.exports.func.isRequired,onContextMenu:J.exports.func};function Mg({isActive:t,onToggle:e,disabled:n}){return e===null?E("span",{className:`radio-btn${t?" radio-btn--active":""}`}):E("button",{onClick:()=>e(!t),className:`radio-btn${t?" radio-btn--active":""}`,type:"button",disabled:n})}Mg.defaultProps={isActive:!1,onToggle:null,disabled:!1};Mg.propTypes={isActive:J.exports.bool,onToggle:J.exports.func,disabled:J.exports.bool};const cue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c22c1.1%2c0%2c2-0.9%2c2-2h-4C10%2c21.1%2c10.9%2c22%2c12%2c22z'/%3e%20%3cpath%20d='M18%2c10c0-3-2.2-5.4-5-5.9V3h-2v1.1C8.2%2c4.6%2c6%2c7%2c6%2c10v6H4v2h16v-2h-2V10z%20M16%2c16H8v-6c0-2.2%2c1.8-4%2c4-4s4%2c1.8%2c4%2c4V16z'/%3e%20%3cpath%20d='M6.3%2c4.3L4.9%2c2.9C3.1%2c4.7%2c2%2c7.2%2c2%2c10h2C4%2c7.8%2c4.9%2c5.8%2c6.3%2c4.3z'/%3e%20%3cpath%20d='M19.1%2c2.9l-1.4%2c1.4C19.1%2c5.8%2c20%2c7.8%2c20%2c10h2C22%2c7.2%2c20.9%2c4.7%2c19.1%2c2.9z'/%3e%20%3c/g%3e%20%3c/svg%3e",due="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3ccircle%20cx='17'%20cy='8'%20r='3'/%3e%20%3cpath%20d='M12%2c22c1.1%2c0%2c2-0.9%2c2-2h-4C10%2c21.1%2c10.9%2c22%2c12%2c22z'/%3e%20%3cpath%20d='M18%2c12.9C17.7%2c13%2c17.3%2c13%2c17%2c13s-0.7%2c0-1-0.1V16H8v-6c0-2.2%2c1.8-4%2c4-4c0.1%2c0%2c0.3%2c0%2c0.4%2c0c0.3-0.7%2c0.7-1.3%2c1.3-1.8%20c-0.2-0.1-0.5-0.1-0.7-0.2V3h-2v1.1C8.2%2c4.6%2c6%2c7%2c6%2c10v6H4v2h16v-2h-2V12.9z'/%3e%20%3cpath%20d='M6.3%2c4.3L4.9%2c2.9C3.1%2c4.7%2c2%2c7.2%2c2%2c10h2C4%2c7.8%2c4.9%2c5.8%2c6.3%2c4.3z'/%3e%20%3c/g%3e%20%3c/svg%3e",hue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c22c1.1%2c0%2c2-0.9%2c2-2h-4C10%2c21.1%2c10.9%2c22%2c12%2c22z'/%3e%20%3cpath%20d='M20.1%2c18.1L20.1%2c18.1L16%2c14L9.2%2c7.2L7.8%2c5.8L5.9%2c3.9L4.5%2c5.3l2.1%2c2.1C6.2%2c8.2%2c6%2c9.1%2c6%2c10v6H4v2h13.2l1.5%2c1.5L20.1%2c18.1z%20M8%2c16v-6c0-0.4%2c0.1-0.7%2c0.1-1l7%2c7H8z'/%3e%20%3cpath%20d='M12%2c6c2.2%2c0%2c4%2c1.8%2c4%2c4v1.2l2%2c2V10c0-3-2.2-5.4-5-5.9V3h-2v1.1c-0.6%2c0.1-1.1%2c0.3-1.6%2c0.5L11%2c6.1C11.3%2c6.1%2c11.6%2c6%2c12%2c6z'/%3e%20%3c/g%3e%20%3c/svg%3e",fue=[{iconSrc:D7,text:"Global",type:te.notifs.DEFAULT},{iconSrc:cue,text:"All messages",type:te.notifs.ALL_MESSAGES},{iconSrc:due,text:"Mentions & Keywords",type:te.notifs.MENTIONS_AND_KEYWORDS},{iconSrc:hue,text:"Mute",type:te.notifs.MUTE}];function gue(t,e){const n=Fe.matrixClient,{notifications:r}=Fe;let o;try{o=n.getRoomPushRule("global",t)}catch{o=void 0}const i=[];return e===te.notifs.MUTE?(o&&i.push(n.deletePushRule("global","room",o.rule_id)),i.push(n.addPushRule("global","override",t,{conditions:[{kind:"event_match",key:"room_id",pattern:t}],actions:["dont_notify"]})),i):(r.getNotiType(t)===te.notifs.MUTE&&i.push(n.deletePushRule("global","override",t)),e===te.notifs.DEFAULT?(o&&i.push(n.deletePushRule("global","room",o.rule_id)),Promise.all(i)):e===te.notifs.MENTIONS_AND_KEYWORDS?(i.push(n.addPushRule("global","room",t,{actions:["dont_notify"]})),i.push(n.setPushRuleEnabled("global","room",t,!0)),Promise.all(i)):(i.push(n.addPushRule("global","room",t,{actions:["notify",{set_tweak:"sound",value:"default"}]})),i.push(n.setPushRuleEnabled("global","room",t,!0)),Promise.all(i)))}function pue(t){const{notifications:e}=Fe,[n,r]=X.exports.useState(e.getNotiType(t));X.exports.useEffect(()=>r(e.getNotiType(t)),[t]);const o=X.exports.useCallback(i=>{i.type!==n.type&&(r(i.type),gue(t,i.type))},[n,t]);return[n,o]}function jw({roomId:t}){const[e,n]=pue(t);return E("div",{className:"room-notification",children:fue.map(r=>E(ft,{variant:e===r.type?"positive":"surface",iconSrc:r.iconSrc,onClick:()=>n(r),children:re(ue,{varient:"b1",children:[E("span",{children:r.text}),E(Mg,{isActive:e===r.type})]})},r.type))})}jw.propTypes={roomId:J.exports.string.isRequired};function IF({roomId:t,afterOptionSelect:e}){var u;const n=Fe.matrixClient,r=n.getRoom(t),o=r==null?void 0:r.canInvite(n.getUserId()),i=()=>{ci(t),e()},a=()=>{vg(t),e()},l=async()=>{e(),await or("Leave room",`Are you sure that you want to leave "${r.name}" room?`,"Leave","danger")&&ll(t)};return re("div",{style:{maxWidth:"256px"},children:[E(ut,{children:We(`Options for ${(u=Fe.matrixClient.getRoom(t))==null?void 0:u.name}`)}),E(ft,{iconSrc:xg,onClick:i,children:"Mark as read"}),E(ft,{iconSrc:hc,onClick:a,disabled:!o,children:"Invite"}),E(ft,{iconSrc:Cg,variant:"danger",onClick:l,children:"Leave"}),E(ut,{children:"Notification"}),E(jw,{roomId:t})]})}IF.defaultProps={afterOptionSelect:null};IF.propTypes={roomId:J.exports.string.isRequired,afterOptionSelect:J.exports.func};const RF="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3ccircle%20cx='12'%20cy='5'%20r='2'/%3e%20%3ccircle%20cx='12'%20cy='12'%20r='2'/%3e%20%3ccircle%20cx='12'%20cy='19'%20r='2'/%3e%20%3c/g%3e%20%3c/svg%3e";function jr(){const[t,e]=X.exports.useState(null);return[t,function(){e({})}]}function $w({roomId:t,isDM:e,drawerPostie:n,onClick:r}){var g;const o=Fe.matrixClient,i=Fe.notifications,a=o.getRoom(t),l=(e?(g=a.getAvatarFallbackMember())==null?void 0:g.getAvatarUrl(o.baseUrl,24,24,"crop"):a.getAvatarUrl(o.baseUrl,24,24,"crop"))||null,u=i.getNotiType(t)===te.notifs.MUTE,[,d]=jr();X.exports.useEffect(()=>{const c=n.subscribe("selector-change",t,d),h=n.subscribe("unread-change",t,d);return()=>{c(),h()}},[]);const s=c=>{c.preventDefault(),rr("right",Rn(c,".room-selector"),a.isSpaceRoom()?h=>E(jc,{roomId:t,afterOptionSelect:h}):h=>E(IF,{roomId:t,afterOptionSelect:h}))};return E(Gc,{name:a.name,roomId:t,imageSrc:l,iconSrc:l?null:bg(a.getJoinRule(),a.isSpaceRoom()),isSelected:je.selectedRoomId===t,isMuted:u,isUnread:!u&&i.hasNoti(t),notificationCount:kf(i.getTotalNoti(t)),isAlert:i.getHighlightNoti(t)!==0,onClick:r,onContextMenu:s,options:E(Ye,{size:"extra-small",tooltip:"Options",tooltipPlacement:"right",src:RF,onClick:s})},t)}$w.defaultProps={isDM:!0};$w.propTypes={roomId:J.exports.string.isRequired,isDM:J.exports.bool,drawerPostie:J.exports.shape({}).isRequired,onClick:J.exports.func.isRequired};const mue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3ccircle%20cx='5'%20cy='12'%20r='2'/%3e%20%3ccircle%20cx='12'%20cy='12'%20r='2'/%3e%20%3ccircle%20cx='19'%20cy='12'%20r='2'/%3e%20%3c/g%3e%20%3c/svg%3e";function zs({spaceId:t,name:e,hideHeader:n,roomIds:r,drawerPostie:o}){const{spaces:i,directs:a}=Fe.roomList,[l,u]=X.exports.useState(!0),d=c=>{c.preventDefault(),rr("bottom",Rn(c,".header"),h=>E(jc,{roomId:t,afterOptionSelect:h}))},s=c=>{c.preventDefault(),rr("right",Rn(c,".ic-btn"),h=>E(CF,{spaceId:t,afterOptionSelect:h}))},g=c=>{const h=i.has(c),_=a.has(c);return E($w,{roomId:c,isDM:_,drawerPostie:o,onClick:()=>h?TE(c):An(c)},c)};return re("div",{className:"room-category",children:[!n&&re("div",{className:"room-category__header",children:[re("button",{className:"room-category__toggle",onClick:()=>u(!l),type:"button",children:[E(It,{src:l?fn:TF,size:"extra-small"}),E(ue,{className:"cat-header",variant:"b3",weight:"medium",children:e})]}),t&&E(Ye,{onClick:d,tooltip:"Space options",src:mue,size:"extra-small"}),t&&E(Ye,{onClick:s,tooltip:"Add rooms/spaces",src:pc,size:"extra-small"})]}),(l||n)&&E("div",{className:"room-category__content",children:r.map(g)})]})}zs.defaultProps={spaceId:null,hideHeader:!1};zs.propTypes={spaceId:J.exports.string,name:J.exports.string.isRequired,hideHeader:J.exports.bool,roomIds:J.exports.arrayOf(J.exports.string).isRequired,drawerPostie:J.exports.shape({}).isRequired};function Fue(){const{accountData:t}=Fe,[e,n]=X.exports.useState([...t.categorizedSpaces]);return X.exports.useEffect(()=>{const r=()=>{n([...t.categorizedSpaces])};return t.on(te.events.accountData.CATEGORIZE_SPACE_UPDATED,r),()=>{t.removeListener(te.events.accountData.CATEGORIZE_SPACE_UPDATED,r)}},[]),[e]}const Wo=new U7;function qw({spaceId:t}){const e=Fe.matrixClient,{roomList:n,notifications:r,accountData:o}=Fe,{spaces:i,rooms:a,directs:l}=n;Fue();const u=o.categorizedSpaces.has(t);let d=null,s=[],g=[],c=[];if(t){const h=n.getSpaceChildren(t)??[];s=h.filter(_=>i.has(_)),g=h.filter(_=>a.has(_)),c=h.filter(_=>l.has(_))}else s=n.getOrphanSpaces().filter(h=>!o.spaceShortcut.has(h)),g=n.getOrphanRooms();return u&&(d=n.getCategorizedSpaces(s),d.delete(t)),X.exports.useEffect(()=>{const h=(F,m)=>{if(!Wo.hasTopic("selector-change"))return;const p=[];Wo.hasSubscriber("selector-change",F)&&p.push(F),Wo.hasSubscriber("selector-change",m)&&p.push(m),p.length!==0&&Wo.post("selector-change",p,F)},_=(F,m,p)=>{m!==p&&Wo.hasTopicAndSubscriber("unread-change",F)&&Wo.post("unread-change",F)};return je.on(te.events.navigation.ROOM_SELECTED,h),r.on(te.events.notifications.NOTI_CHANGED,_),r.on(te.events.notifications.MUTE_TOGGLED,_),()=>{je.removeListener(te.events.navigation.ROOM_SELECTED,h),r.removeListener(te.events.notifications.NOTI_CHANGED,_),r.removeListener(te.events.notifications.MUTE_TOGGLED,_)}},[]),re(Qe,{children:[!u&&s.length!==0&&E(zs,{name:"Spaces",roomIds:s.sort(Dh),drawerPostie:Wo}),g.length!==0&&E(zs,{name:"Rooms",roomIds:g.sort(Dh),drawerPostie:Wo}),c.length!==0&&E(zs,{name:"People",roomIds:c.sort(Hp),drawerPostie:Wo}),u&&[...d.keys()].sort(Dh).map(h=>{const _=[],F=[];return d.get(h).forEach(m=>{l.has(m)?F.push(m):_.push(m)}),_.sort(Dh),F.sort(Hp),E(zs,{spaceId:h,name:e.getRoom(h).name,roomIds:_.concat(F),drawerPostie:Wo},h)})]})}qw.defaultProps={spaceId:null};qw.propTypes={spaceId:J.exports.string};const Ds=new U7;function q7({size:t}){const e=Fe.matrixClient,{roomList:n,notifications:r}=Fe,[o,i]=X.exports.useState([]);return X.exports.useEffect(()=>i([...n.directs].sort(Hp)),[t]),X.exports.useEffect(()=>{const a=(l,u,d,s,g)=>{if(!n.directs.has(u.roomId)||!g.liveEvent||o[0]===u.roomId)return;const c=[u.roomId];o.forEach(h=>{h!==u.roomId&&c.push(h)}),i(c)};return e.on("Room.timeline",a),()=>{e.removeListener("Room.timeline",a)}},[o]),X.exports.useEffect(()=>{const a=(u,d)=>{if(!Ds.hasTopic("selector-change"))return;const s=[];Ds.hasSubscriber("selector-change",u)&&s.push(u),Ds.hasSubscriber("selector-change",d)&&s.push(d),s.length!==0&&Ds.post("selector-change",s,u)},l=(u,d,s)=>{d!==s&&Ds.hasTopicAndSubscriber("unread-change",u)&&Ds.post("unread-change",u)};return je.on(te.events.navigation.ROOM_SELECTED,a),r.on(te.events.notifications.NOTI_CHANGED,l),r.on(te.events.notifications.MUTE_TOGGLED,l),()=>{je.removeListener(te.events.navigation.ROOM_SELECTED,a),r.removeListener(te.events.notifications.NOTI_CHANGED,l),r.removeListener(te.events.notifications.MUTE_TOGGLED,l)}},[]),E(zs,{name:"People",hideHeader:!0,roomIds:o,drawerPostie:Ds})}q7.propTypes={size:J.exports.number.isRequired};function _ue(){const[t,e]=X.exports.useState(je.selectedSpaceId);return X.exports.useEffect(()=>{const n=r=>{e(r)};return je.on(te.events.navigation.SPACE_SELECTED,n),()=>{je.removeListener(te.events.navigation.SPACE_SELECTED,n)}},[]),[t]}function vue(){const[t,e]=X.exports.useState(null);return X.exports.useEffect(()=>{const n=r=>{(r==="ERROR"||r==="RECONNECTING"||r==="STOPPED")&&e({status:"Connection lost!"}),t!==null&&e(null)};return Fe.matrixClient.on("sync",n),()=>{Fe.matrixClient.removeListener("sync",n)}},[t]),[t]}function yue(){const[t]=vue(),[e]=Ew(),[n]=_ue(),[,r]=jr(),o=X.exports.useRef(null),{roomList:i}=Fe;return X.exports.useEffect(()=>{const a=()=>{r()};return i.on(te.events.roomList.ROOMLIST_UPDATED,a),()=>{i.removeListener(te.events.roomList.ROOMLIST_UPDATED,a)}},[]),X.exports.useEffect(()=>{requestAnimationFrame(()=>{o.current&&(o.current.scrollTop=0)})},[e]),re("div",{className:"drawer",children:[E(Nw,{selectedTab:e,spaceId:n}),re("div",{className:"drawer__content-wrapper",children:[je.selectedSpacePath.length>1&&e!==te.tabs.DIRECTS&&E(Lw,{spaceId:n}),E("div",{className:"rooms__wrapper",children:E(Kt,{ref:o,autoHide:!0,children:E("div",{className:"rooms-container",children:e!==te.tabs.DIRECTS?E(qw,{spaceId:n}):E(q7,{size:i.directs.size})})})})]}),t!==null&&E("div",{className:"drawer__state",children:E(ue,{children:t.status})})]})}function bue(){return re("div",{className:"navigation",children:[E(uue,{}),E(yue,{})]})}let ks=null;function Eue(){const[t,e]=X.exports.useState(null),n=X.exports.useRef(null),r=()=>{ks=null,t&&n.current.click()};return X.exports.useEffect(()=>{if(t){const{cords:a}=t;n.current.style.transform=`translate(${a.x}px, ${a.y}px)`,n.current.style.width=`${a.width}px`,n.current.style.height=`${a.height}px`,n.current.click()}const i=(a,l,u,d)=>{if(ks){r();return}e({placement:a,cords:l,render:u,afterClose:d})};return je.on(te.events.navigation.REUSABLE_CONTEXT_MENU_OPENED,i),()=>{je.removeListener(te.events.navigation.REUSABLE_CONTEXT_MENU_OPENED,i)}},[t]),E(os,{afterToggle:i=>{var l;if(i){ks=Math.random();return}if((l=t==null?void 0:t.afterClose)==null||l.call(t),e&&e(null),ks===null)return;const a=ks;setTimeout(()=>{ks===a&&(ks=null)},200)},placement:(t==null?void 0:t.placement)||"right",content:(t==null?void 0:t.render(r))??"",render:i=>E("input",{ref:n,onClick:i,type:"button",style:{width:"32px",height:"32px",backgroundColor:"transparent",position:"fixed",top:0,left:0,padding:0,border:"none",visibility:"hidden",appearance:"none"}})})}function L2(t){var e;return((e=t.getRelation())==null?void 0:e.rel_type)==="m.replace"}function U2(t){return t.getType()==="m.reaction"}function $T(t){const e=t.getContent(),n=t.getPrevContent(),{membership:r}=e;return!!(at.hideMembershipEvents&&(r==="invite"||r==="ban"||r==="leave"||n.membership!=="join")||at.hideNickAvatarEvents&&r==="join"&&n.membership==="join")}function wue(t){const e=t.getRelation();return e&&e.event_id}function qT(t,e){const n=wue(e);if(n===null)return null;const r=e.getId();typeof t.get(n)>"u"&&t.set(n,[]);const o=t.get(n);return o.find(i=>i.getId()===r)||o.push(e),e}function m0(t){let e=t;for(;e.prevTimeline;)e=e.prevTimeline;return e}function VT(t){let e=t;for(;e.nextTimeline;)e=e.nextTimeline;return e}function Due(t,e,n){let r=t;for(;r;)n(r),e?r=r.prevTimeline:r=r.nextTimeline}function kue(t,e){let n=m0(t);for(;n;){if(n===e)return!0;n=n.nextTimeline}return!1}class Sue extends Gn.exports{constructor(e){super(),this.timeline=[],this.editedTimeline=new Map,this.reactionTimeline=new Map,this.typingMembers=new Set,this.matrixClient=Fe.matrixClient,this.roomId=e,this.room=this.matrixClient.getRoom(e),this.liveTimeline=this.room.getLiveTimeline(),this.activeTimeline=this.liveTimeline,this.isOngoingPagination=!1,this.ongoingDecryptionCount=0,this.initialized=!1,setTimeout(()=>this.room.loadMembersIfNeeded()),window.selectedRoom=this}isServingLiveTimeline(){return VT(this.activeTimeline)===this.liveTimeline}canPaginateBackward(){var n;return((n=this.timeline[0])==null?void 0:n.getType())==="m.room.create"?!1:m0(this.activeTimeline).getPaginationToken("b")!==null}canPaginateForward(){return!this.isServingLiveTimeline()}isEncrypted(){return this.matrixClient.isRoomEncrypted(this.roomId)}clearLocalTimelines(){this.timeline=[]}addToTimeline(e){if(!(e.getType()==="m.room.member"&&$T(e))&&!e.isRedacted()){if(U2(e)){qT(this.reactionTimeline,e);return}if(te.supportEventTypes.includes(e.getType())){if(L2(e)){qT(this.editedTimeline,e);return}this.timeline.push(e)}}}_populateAllLinkedEvents(e){const n=m0(e);Due(n,!1,r=>{r.getEvents().forEach(o=>this.addToTimeline(o))})}_populateTimelines(){this.clearLocalTimelines(),this._populateAllLinkedEvents(this.activeTimeline)}async _reset(){this.isEncrypted()&&await this.decryptAllEventsOfTimeline(this.activeTimeline),this._populateTimelines(),this.initialized||(this.initialized=!0,this._listenEvents())}async loadLiveTimeline(){return this.activeTimeline=this.liveTimeline,await this._reset(),this.emit(te.events.roomTimeline.READY,null),!0}async loadEventTimeline(e){const n=this.getUnfilteredTimelineSet();try{const r=await this.matrixClient.getEventTimeline(n,e);return this.activeTimeline=r,await this._reset(),this.emit(te.events.roomTimeline.READY,e),!0}catch{return!1}}async paginateTimeline(e=!1,n=30){if(this.initialized===!1||this.isOngoingPagination)return!1;this.isOngoingPagination=!0;const r=e?m0(this.activeTimeline):VT(this.activeTimeline);if(r.getPaginationToken(e?"b":"f")===null)return this.emit(te.events.roomTimeline.PAGINATED,e,0),this.isOngoingPagination=!1,!1;const o=this.timeline.length;try{await this.matrixClient.paginateEventTimeline(r,{backwards:e,limit:n}),this.isEncrypted()&&await this.decryptAllEventsOfTimeline(this.activeTimeline),this._populateTimelines();const i=this.timeline.length-o;return this.emit(te.events.roomTimeline.PAGINATED,e,i),this.isOngoingPagination=!1,!0}catch{return this.emit(te.events.roomTimeline.PAGINATED,e,0),this.isOngoingPagination=!1,!1}}decryptAllEventsOfTimeline(e){const n=e.getEvents().filter(r=>r.isEncrypted()&&!r.clearEvent).reverse().map(r=>r.attemptDecryption(this.matrixClient.crypto,{isRetry:!0}));return Promise.allSettled(n)}hasEventInTimeline(e,n=this.activeTimeline){const o=this.getUnfilteredTimelineSet().getTimelineForEvent(e);return o?kue(o,n):!1}getUnfilteredTimelineSet(){return this.room.getUnfilteredTimelineSet()}getEventReaders(e){const n=this.liveTimeline.getEvents(),r=[];if(!e)return[];for(let o=n.length-1;o>=0&&(r.splice(r.length,0,...this.room.getUsersReadUpTo(n[o])),e!==n[o]);o-=1);return[...new Set(r)]}getLiveReaders(){const e=this.liveTimeline.getEvents(),n=()=>{for(let r=e.length-1;r>=0;r-=1){const o=e[r];if(!(o.getType()==="m.room.member"&&$T(o))&&!o.isRedacted()&&!U2(o)&&!L2(o)&&te.supportEventTypes.includes(o.getType()))return o}return e[e.length-1]};return this.getEventReaders(n())}getUnreadEventIndex(e){if(!this.hasEventInTimeline(e))return-1;const n=this.findEventByIdInTimelineSet(e);if(!n)return-1;const r=n.getTs(),o=this.timeline.length;for(let i=0;i<o;i+=1)if(this.timeline[i].getTs()>r)return i;return-1}getReadUpToEventId(){return this.room.getEventReadUpTo(this.matrixClient.getUserId())}getEventIndex(e){return this.timeline.findIndex(n=>n.getId()===e)}findEventByIdInTimelineSet(e,n=this.getUnfilteredTimelineSet()){return n.findEventById(e)}findEventById(e){return this.timeline[this.getEventIndex(e)]??null}deleteFromTimeline(e){const n=this.getEventIndex(e);if(n!==-1)return this.timeline.splice(n,1)[0]}_listenEvents(){this._listenRoomTimeline=(e,n,r,o,i)=>{if(n.roomId===this.roomId&&!this.isOngoingPagination&&!(this.isServingLiveTimeline()===!1&&!U2(e)&&!L2(e))&&i.liveEvent){if(e.isEncrypted()){this.ongoingDecryptionCount+=1;return}this.addToTimeline(e),this.emit(te.events.roomTimeline.EVENT,e)}},this._listenDecryptEvent=e=>{e.getRoomId()===this.roomId&&(this.isOngoingPagination||this.ongoingDecryptionCount!==0&&(this.ongoingDecryptionCount>0&&(this.ongoingDecryptionCount-=1),this.addToTimeline(e),this.emit(te.events.roomTimeline.EVENT,e)))},this._listenRedaction=(e,n)=>{if(n.roomId!==this.roomId)return;const r=this.deleteFromTimeline(e.event.redacts);this.editedTimeline.delete(e.event.redacts),this.reactionTimeline.delete(e.event.redacts),this.emit(te.events.roomTimeline.EVENT_REDACTED,r,e)},this._listenTypingEvent=(e,n)=>{if(n.roomId!==this.roomId)return;n.typing?this.typingMembers.add(n.userId):this.typingMembers.delete(n.userId),this.emit(te.events.roomTimeline.TYPING_MEMBERS_UPDATED,new Set([...this.typingMembers]))},this._listenReciptEvent=(e,n)=>{if(n.roomId!==this.roomId)return;const r=e.getContent(),o=this.liveTimeline.getEvents(),a=o[o.length-1].getId(),l=r[a];typeof l>"u"||l["m.read"]&&this.emit(te.events.roomTimeline.LIVE_RECEIPT)},this.matrixClient.on("Room.timeline",this._listenRoomTimeline),this.matrixClient.on("Room.redaction",this._listenRedaction),this.matrixClient.on("Event.decrypted",this._listenDecryptEvent),this.matrixClient.on("RoomMember.typing",this._listenTypingEvent),this.matrixClient.on("Room.receipt",this._listenReciptEvent)}removeInternalListeners(){this.initialized&&(this.matrixClient.removeListener("Room.timeline",this._listenRoomTimeline),this.matrixClient.removeListener("Room.redaction",this._listenRedaction),this.matrixClient.removeListener("Event.decrypted",this._listenDecryptEvent),this.matrixClient.removeListener("RoomMember.typing",this._listenTypingEvent),this.matrixClient.removeListener("Room.receipt",this._listenReciptEvent))}}function xue(){return E("div",{className:"app-welcome flex--center",children:re("div",{children:[E("img",{className:"app-welcome__logo noselect",src:Bf,alt:"Cinny logo"}),E(ue,{className:"app-welcome__heading",variant:"h1",weight:"medium",primary:!0,children:"Welcome to Cinny"}),E(ue,{className:"app-welcome__subheading",variant:"s1",children:"Yet another matrix client"})]})})}function Vw({roomId:t}){var S,x;const e=yn(),[n,r]=X.exports.useState(!1),[,o]=jr(),[i,a]=X.exports.useState({msg:null,type:te.status.PRE_FLIGHT}),l=Fe.matrixClient,u=Fe.roomList.directs.has(t);let d=l.getRoom(t).getAvatarUrl(l.baseUrl,36,36,"crop");d=u?(S=l.getRoom(t).getAvatarFallbackMember())==null?void 0:S.getAvatarUrl(l.baseUrl,36,36,"crop"):d;const s=l.getRoom(t),{currentState:g}=s,c=s.name,h=(x=g.getStateEvents("m.room.topic")[0])==null?void 0:x.getContent().topic,_=l.getUserId(),F=g.maySendStateEvent("m.room.avatar",_),m=g.maySendStateEvent("m.room.name",_),p=g.maySendStateEvent("m.room.topic",_);X.exports.useEffect(()=>{e.setItem(!0);const{roomList:N}=Fe,U=q=>{t===q&&o()};return N.on(te.events.roomList.ROOM_PROFILE_UPDATED,U),()=>{N.removeListener(te.events.roomList.ROOM_PROFILE_UPDATED,U),e.setItem(!1),a({msg:null,type:te.status.PRE_FLIGHT}),r(!1)}},[t]);const f=async N=>{N.preventDefault();const{target:U}=N,q=U.elements["room-name"],P=U.elements["room-topic"];try{if(m){const G=q.value;G!==c&&c.trim()!==""&&(a({msg:"Saving room name...",type:te.status.IN_FLIGHT}),await l.setRoomName(t,G))}if(p){const G=P.value;G!==h&&(e.getItem()&&a({msg:"Saving room topic...",type:te.status.IN_FLIGHT}),await l.setRoomTopic(t,G))}if(!e.getItem())return;a({msg:"Saved successfully",type:te.status.SUCCESS})}catch(G){if(!e.getItem())return;a({msg:G.message||"Unable to save.",type:te.status.ERROR})}},v=()=>{a({msg:null,type:te.status.PRE_FLIGHT}),r(!1)},y=async N=>{N===null?await or("Remove avatar","Are you sure that you want to remove room avatar?","Remove","caution")&&await l.sendStateEvent(t,"m.room.avatar",{url:N},""):await l.sendStateEvent(t,"m.room.avatar",{url:N},"")},w=()=>re("form",{className:"room-profile__edit-form",onSubmit:f,children:[m&&E(dt,{value:c,name:"room-name",disabled:i.type===te.status.IN_FLIGHT,label:"Name"}),p&&E(dt,{value:h,name:"room-topic",disabled:i.type===te.status.IN_FLIGHT,minHeight:100,resizable:!0,label:"Topic"}),(!m||!p)&&E(ue,{variant:"b3",children:`You have permission to change ${s.isSpaceRoom()?"space":"room"} ${m?"name":"topic"} only.`}),i.type===te.status.IN_FLIGHT&&E(ue,{variant:"b2",children:i.msg}),i.type===te.status.SUCCESS&&E(ue,{style:{color:"var(--tc-positive-high)"},variant:"b2",children:i.msg}),i.type===te.status.ERROR&&E(ue,{style:{color:"var(--tc-danger-high)"},variant:"b2",children:i.msg}),i.type!==te.status.IN_FLIGHT&&re("div",{children:[E(Me,{type:"submit",variant:"primary",children:"Save"}),E(Me,{onClick:v,children:"Cancel"})]})]}),b=()=>re("div",{className:"room-profile__display",style:{marginBottom:d&&F?"24px":"0"},children:[re("div",{children:[E(ue,{variant:"h2",weight:"medium",primary:!0,children:We(c)}),(m||p)&&E(Ye,{src:Vc,size:"extra-small",tooltip:"Edit",onClick:()=>r(!0)})]}),E(ue,{variant:"b3",children:s.getCanonicalAlias()||s.roomId}),h&&E(ue,{variant:"b2",children:We(h,void 0,!0)})]});return E("div",{className:"room-profile",children:re("div",{className:"room-profile__content",children:[!F&&E(Jt,{imageSrc:d,text:c,bgColor:ln(t),size:"large"}),F&&E(Ag,{text:c,bgColor:ln(t),imageSrc:d,onUpload:y,onRequestRemove:()=>y(null)}),!n&&b(),n&&w()]})})}Vw.propTypes={roomId:J.exports.string.isRequired};async function V7(t,e,n){const r=Fe.matrixClient;try{return await r.redactEvent(t,e,void 0,typeof n>"u"?void 0:{reason:n}),!0}catch(o){throw new Error(o)}}async function Cue(t,e,n,r){const o=Fe.matrixClient,i={"m.relates_to":{event_id:e,key:n,rel_type:"m.annotation"}};typeof r=="string"&&(i.shortcode=r);try{await o.sendEvent(t,"m.reaction",i)}catch(a){throw new Error(a)}}function AF({timestamp:t,fullTime:e}){const n=new Date(t),r=Vf(n,"dd mmmm yyyy, hh:MM TT");let o=r;if(!e){const i=new Date,a=ly(n,i);i.setDate(i.getDate()-1);const l=ly(n,i);o=Vf(n,a||l?"hh:MM TT":"dd/mm/yyyy"),l&&(o=`Yesterday, ${o}`)}return E("time",{dateTime:n.toISOString(),title:r,children:o})}AF.defaultProps={fullTime:!1};AF.propTypes={timestamp:J.exports.number.isRequired,fullTime:J.exports.bool};var Tue=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mb=globalThis&&globalThis.__assign||function(){return mb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},mb.apply(this,arguments)},Iue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Gw=function(t){Tue(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.canvas=null,n.handleRef=function(r){n.canvas=r,n.draw()},n.draw=function(){var r=n.props,o=r.hash,i=r.height,a=r.punch,l=r.width;if(n.canvas){var u=uW(o,l,i,a),d=n.canvas.getContext("2d"),s=d.createImageData(l,i);s.data.set(u),d.putImageData(s,0,0)}},n}return e.prototype.componentDidUpdate=function(){this.draw()},e.prototype.render=function(){var n=this.props;n.hash;var r=n.height,o=n.width,i=Iue(n,["hash","height","width"]);return X.exports.createElement("canvas",mb({},i,{height:r,width:o,ref:this.handleRef}))},e.defaultProps={height:128,width:128},e}(X.exports.PureComponent),Rue=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rf=globalThis&&globalThis.__assign||function(){return rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},rf.apply(this,arguments)},Aue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Oue={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"};(function(t){Rue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidUpdate=function(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")},e.prototype.render=function(){var n=this.props,r=n.hash,o=n.height,i=n.width,a=n.punch,l=n.resolutionX,u=n.resolutionY,d=n.style,s=Aue(n,["hash","height","width","punch","resolutionX","resolutionY","style"]);return X.exports.createElement("div",rf({},s,{style:rf(rf({display:"inline-block",height:o,width:i},d),{position:"relative"})}),X.exports.createElement(Gw,{hash:r,height:u,width:l,punch:a,style:Oue}))},e.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32},e})(X.exports.PureComponent);const G7="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cpath%20d='M14%203V5H17.8L12.9%209.9L14.3%2011.3L19%206.6V10.2H21V3H14Z'%20fill='black'/%3e%20%3cpath%20d='M5%205H10V3H5C3.9%203%203%203.9%203%205V19C3%2020.1%203.9%2021%205%2021H19C20.1%2021%2021%2020.1%2021%2019V14.2H19V19H5V5Z'%20fill='black'/%3e%20%3c/svg%3e";function K7({url:t,alt:e,isOpen:n,onRequestClose:r}){return re(Tl,{className:"image-lightbox__modal",overlayClassName:"image-lightbox__overlay",isOpen:n,onRequestClose:r,size:"large",children:[re("div",{className:"image-lightbox__header",children:[E(ue,{variant:"b2",weight:"medium",children:e}),E(Ye,{onClick:()=>window.open(t),size:"small",src:G7}),E(Ye,{onClick:()=>{xw.saveAs(t,e)},size:"small",src:Pw})]}),E("div",{className:"image-lightbox__content",children:E("img",{src:t,alt:e})})]})}K7.propTypes={url:J.exports.string.isRequired,alt:J.exports.string.isRequired,isOpen:J.exports.bool.isRequired,onRequestClose:J.exports.func.isRequired};const H7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c4c4.4%2c0%2c8%2c3.6%2c8%2c8s-3.6%2c8-8%2c8s-8-3.6-8-8S7.6%2c4%2c12%2c4%20M12%2c2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2%20L12%2c2z'/%3e%20%3cpolygon%20points='10%2c8%2010%2c16%2016%2c12%20'/%3e%20%3c/g%3e%20%3c/svg%3e";async function Bue(t,e,n){const r=await t.arrayBuffer(),o=await J0.decryptAttachment(r,n);return new Blob([o],{type:hg(e)})}async function mc(t,e,n){try{const r=await fetch(t,{method:"GET"});if(n!==null)return URL.createObjectURL(await Bue(r,e,n));const o=await r.blob();return URL.createObjectURL(o)}catch{return t}}function Kw(t,e,n=296){return n/t*e}function Ng({name:t,link:e,external:n,file:r,type:o}){const[i,a]=X.exports.useState(null);async function l(){const d=await mc(e,o,r);a(d)}async function u(d){r!==null&&i===null&&(d.preventDefault(),await l(),d.target.click())}return re("div",{className:"file-header",children:[E(ue,{className:"file-name",variant:"b3",children:t}),e!==null&&re(Qe,{children:[n&&E(Ye,{size:"extra-small",tooltip:"Open in new tab",src:G7,onClick:()=>window.open(i||e)}),E("a",{href:i||e,download:t,target:"_blank",rel:"noreferrer",children:E(Ye,{size:"extra-small",tooltip:"Download",src:Pw,onClick:u})})]})]})}Ng.defaultProps={external:!1,file:null,link:null};Ng.propTypes={name:J.exports.string.isRequired,link:J.exports.string,external:J.exports.bool,file:J.exports.shape({}),type:J.exports.string.isRequired};function Hw({name:t,link:e,file:n,type:r}){return E("div",{className:"file-container",children:E(Ng,{name:t,link:e,file:n,type:r})})}Hw.defaultProps={file:null,type:""};Hw.propTypes={name:J.exports.string.isRequired,link:J.exports.string.isRequired,type:J.exports.string,file:J.exports.shape({})};function zw({name:t,width:e,height:n,link:r,file:o,type:i,blurhash:a}){const[l,u]=X.exports.useState(null),[d,s]=X.exports.useState(!0),[g,c]=X.exports.useState(!1);X.exports.useEffect(()=>{let _=!1;async function F(){const m=await mc(r,i,o);_||u(m)}return F(),()=>{_=!0}},[]);const h=()=>{l&&c(!g)};return re(Qe,{children:[E("div",{className:"file-container",children:re("div",{style:{height:e!==null?Kw(e,n):"unset"},className:"image-container",role:"button",tabIndex:"0",onClick:h,onKeyDown:h,children:[a&&d&&E(Gw,{hash:a,punch:1}),l!==null&&E("img",{style:{display:d?"none":"unset"},onLoad:()=>s(!1),src:l||r,alt:t})]})}),l&&E(K7,{url:l,alt:t,isOpen:g,onRequestClose:h})]})}zw.defaultProps={file:null,width:null,height:null,type:"",blurhash:""};zw.propTypes={name:J.exports.string.isRequired,width:J.exports.number,height:J.exports.number,link:J.exports.string.isRequired,file:J.exports.shape({}),type:J.exports.string,blurhash:J.exports.string};function Ww({name:t,height:e,width:n,link:r,file:o,type:i}){const[a,l]=X.exports.useState(null);return X.exports.useEffect(()=>{let u=!1;async function d(){const s=await mc(r,i,o);u||l(s)}return d(),()=>{u=!0}},[]),E("div",{className:"sticker-container",style:{height:n!==null?Kw(n,e,256):"unset"},children:a!==null&&E("img",{src:a||r,title:t,alt:t})})}Ww.defaultProps={file:null,type:"",width:null,height:null};Ww.propTypes={name:J.exports.string.isRequired,width:J.exports.number,height:J.exports.number,link:J.exports.string.isRequired,file:J.exports.shape({}),type:J.exports.string};function Yw({name:t,link:e,type:n,file:r}){const[o,i]=X.exports.useState(!1),[a,l]=X.exports.useState(null);async function u(){const s=await mc(e,n,r);l(s),i(!1)}function d(){i(!0),u()}return re("div",{className:"file-container",children:[E(Ng,{name:t,link:r!==null?a:a||e,type:n,external:!0}),re("div",{className:"audio-container",children:[a===null&&o&&E(yt,{size:"small"}),a===null&&!o&&E(Ye,{onClick:d,tooltip:"Play audio",src:H7}),a!==null&&E("audio",{autoPlay:!0,controls:!0,children:E("source",{src:a,type:hg(n)})})]})]})}Yw.defaultProps={file:null,type:""};Yw.propTypes={name:J.exports.string.isRequired,link:J.exports.string.isRequired,type:J.exports.string,file:J.exports.shape({})};function Jw({name:t,link:e,thumbnail:n,thumbnailFile:r,thumbnailType:o,width:i,height:a,file:l,type:u,blurhash:d}){const[s,g]=X.exports.useState(!1),[c,h]=X.exports.useState(null),[_,F]=X.exports.useState(null),[m,p]=X.exports.useState(!0);X.exports.useEffect(()=>{let y=!1;async function w(){const b=await mc(n,o,r);y||F(b)}return n!==null&&w(),()=>{y=!0}},[]);const f=async()=>{const y=await mc(e,u,l);h(y),g(!1)},v=()=>{g(!0),f()};return re("div",{className:"file-container",children:[E(Ng,{name:t,link:l!==null?c:c||e,type:u,external:!0}),E("div",{style:{height:i!==null?Kw(i,a):"unset"},className:"video-container",children:c===null?re(Qe,{children:[d&&m&&E(Gw,{hash:d,punch:1}),_!==null&&E("img",{style:{display:m?"none":"unset"},src:_,onLoad:()=>p(!1),alt:t}),s&&E(yt,{size:"small"}),!s&&E(Ye,{onClick:v,tooltip:"Play video",src:H7})]}):E("video",{autoPlay:!0,controls:!0,poster:_,children:E("source",{src:c,type:hg(u)})})})]})}Jw.defaultProps={width:null,height:null,file:null,thumbnail:null,thumbnailType:null,thumbnailFile:null,type:"",blurhash:null};Jw.propTypes={name:J.exports.string.isRequired,link:J.exports.string.isRequired,thumbnail:J.exports.string,thumbnailFile:J.exports.shape({}),thumbnailType:J.exports.string,width:J.exports.number,height:J.exports.number,file:J.exports.shape({}),type:J.exports.string,blurhash:J.exports.string};const z7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M21%2c13v-2H9c-1.1%2c0-2%2c0.9-2%2c2v4.6l-2.3-2.3l-1.4%2c1.4L8%2c21.4l4.7-4.7l-1.4-1.4L9%2c17.6V13H21z'/%3e%20%3c/svg%3e",W7="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c20c-4.4%2c0-8-3.6-8-8s3.6-8%2c8-8V2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10h-2C20%2c16.4%2c16.4%2c20%2c12%2c20z'/%3e%20%3ccircle%20cx='9.5'%20cy='8.5'%20r='1.5'/%3e%20%3ccircle%20cx='14.5'%20cy='8.5'%20r='1.5'/%3e%20%3cpath%20d='M6%2c12c0%2c3.3%2c2.7%2c6%2c6%2c6s6-2.7%2c6-6h-2c0%2c2.2-1.8%2c4-4%2c4s-4-1.8-4-4H6z'/%3e%20%3cpolygon%20points='20.8%2c3.3%2020.8%2c0%2019.3%2c0%2019.3%2c3.3%2016%2c3.3%2016%2c4.8%2019.3%2c4.8%2019.3%2c8%2020.8%2c8%2020.8%2c4.8%2024%2c4.8%2024%2c3.3%20'/%3e%20%3c/g%3e%20%3c/svg%3e",Pue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M20%2c4H4C2.9%2c4%2c2%2c4.9%2c2%2c6v12c0%2c1.1%2c0.9%2c2%2c2%2c2h16c1.1%2c0%2c2-0.9%2c2-2V6C22%2c4.9%2c21.1%2c4%2c20%2c4z%20M20%2c18H4V6h16V18z'/%3e%20%3cpolygon%20points='7.5%2c16.5%2012.1%2c12%207.5%2c7.5%206.5%2c8.5%209.9%2c12%206.5%2c15.5%20'/%3e%20%3crect%20x='13'%20y='14.5'%20width='5'%20height='1.5'/%3e%20%3c/g%3e%20%3c/svg%3e",Mue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%3c!--%20Uploaded%20to:%20SVG%20Repo%2c%20www.svgrepo.com%2c%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%20%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cpath%20d='M5%208L10%2013M4%2014L10%208L12%205M2%205H14M7%202H8M12.913%2017H20.087M12.913%2017L11%2021M12.913%2017L15.7783%2011.009C16.0092%2010.5263%2016.1246%2010.2849%2016.2826%2010.2086C16.4199%2010.1423%2016.5801%2010.1423%2016.7174%2010.2086C16.8754%2010.2849%2016.9908%2010.5263%2017.2217%2011.009L20.087%2017M20.087%2017L22%2021'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%20%3c/svg%3e",Nue="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2026.0.3%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3csvg%20version='1.1'%20id='%e5%9b%be%e5%b1%82_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20800%20800'%20style='enable-background:new%200%200%20800%20800%3b'%20xml:space='preserve'%3e%20%3cstyle%20type='text/css'%3e%20.st0%7bstroke:black%3bstroke-width:9%3bstroke-miterlimit:10%3b%7d%20%3c/style%3e%20%3cg%3e%20%3cpath%20class='st0'%20d='M405%2c442.5H244.8v160.2h-67.1V442.5H17.5v-67.1h160.2V215.2h67.1v160.2H405V442.5z'/%3e%20%3cpath%20class='st0'%20d='M757%2c697.8h-75.1V237.2c-30.4%2c20.2-77.4%2c30.4-141%2c30.4v-59.1c91.9%2c0%2c144.6-35.4%2c158.2-106.3H757V697.8z'/%3e%20%3c/g%3e%20%3c/svg%3e";function Lue(){return re("div",{className:"ph-msg",children:[E("div",{className:"ph-msg__avatar-container",children:E("div",{className:"ph-msg__avatar"})}),re("div",{className:"ph-msg__main-container",children:[E("div",{className:"ph-msg__header"}),re("div",{className:"ph-msg__body",children:[E("div",{}),E("div",{}),E("div",{}),E("div",{})]})]})]})}const Uue=nn.memo(({roomId:t,avatarSrc:e,userId:n,username:r})=>E("div",{className:"message__avatar-container",children:E("button",{type:"button",onClick:()=>yg(n,t),children:E(Jt,{imageSrc:e,text:r,bgColor:ln(n),size:"small"})})})),Xw=nn.memo(({userId:t,username:e,timestamp:n,fullTime:r})=>re("div",{className:"message__header",children:[re(ue,{style:{color:ln(t)},className:"message__profile",variant:"b1",weight:"medium",span:!0,children:[E("span",{children:We(e)}),E("span",{children:We(t)})]}),E("div",{className:"message__time",children:E(ue,{variant:"b3",children:E(AF,{timestamp:n,fullTime:r})})})]}));Xw.defaultProps={fullTime:!1};Xw.propTypes={userId:J.exports.string.isRequired,username:J.exports.string.isRequired,timestamp:J.exports.number.isRequired,fullTime:J.exports.bool};function Qw({name:t,color:e,body:n}){return E("div",{className:"message__reply",children:re(ue,{variant:"b2",children:[E(It,{color:e,size:"extra-small",src:z7}),E("span",{style:{color:e},children:We(t)})," ",We(n)]})})}Qw.propTypes={name:J.exports.string.isRequired,color:J.exports.string.isRequired,body:J.exports.string.isRequired};const Y7=nn.memo(({roomTimeline:t,eventId:e})=>{const[n,r]=X.exports.useState(null),o=X.exports.useRef(!0);X.exports.useEffect(()=>{const a=Fe.matrixClient,l=t.getUnfilteredTimelineSet();return(async()=>{var d;try{const s=await a.getEventTimeline(l,e);await t.decryptAllEventsOfTimeline(s);let g=s.getTimelineSet().findEventById(e);const c=t.editedTimeline.get(g.getId());c&&(g=c[c.length-1]);const h=g.getContent().body,_=ts(g.sender);if(o.current===!1)return;const F=g.isRedacted()?"*** This message has been deleted ***":"*** Unable to load reply ***";let m=((d=BE(h))==null?void 0:d.body)??h??F;c&&m.startsWith(" * ")&&(m=m.slice(3)),r({to:_,color:ln(g.getSender()),body:m,event:g})}catch{r({to:"** Unknown user **",color:"var(--tc-danger-normal)",body:"*** Unable to load reply ***",event:null})}})(),()=>{o.current=!1}},[]);const i=a=>{if(!a.key||a.key===" "||a.key==="Enter"){if(a.key&&a.preventDefault(),(n==null?void 0:n.event)===null||n!=null&&n.event.isRedacted())return;t.loadEventTimeline(e)}};return E("div",{className:"message__reply-wrapper",onClick:i,onKeyDown:i,role:"button",tabIndex:"0",children:n!==null&&E(Qw,{name:n.to,color:n.color,body:n.body})})});Y7.propTypes={roomTimeline:J.exports.shape({}).isRequired,eventId:J.exports.string.isRequired};const Zw=nn.memo(({senderName:t,body:e,isCustomHTML:n,isEdited:r,msgType:o})=>{if(typeof e!="string")return E("div",{className:"message__body",children:e});let i=null;if(n)try{i=We(YX(Fe.matrixClient,e),void 0,!0,!1,!0)}catch{console.error("Malformed custom html: ",e),i=We(e,void 0)}else i=We(e,void 0,!0);let a=!1;return(i.type==="img"||i.constructor.name==="Array"&&i.filter(u=>u.type==="img").length<=10&&i.every(u=>typeof u=="object"&&u.type==="img"||typeof u=="string"&&/^[\s\ufe0f]*$/g.test(u)))&&(a=!0),n||(i=E("p",{className:"message__body-plain",children:i})),re("div",{className:"message__body",children:[re("div",{dir:"auto",className:`text ${a?"text-h1":"text-b1"}`,children:[o==="m.emote"&&re(Qe,{children:["* ",We(t)," "]}),i]}),r&&E(ue,{className:"message__body-edited",variant:"b3",children:"(edited)"})]})});Zw.defaultProps={isCustomHTML:!1,isEdited:!1,msgType:null};Zw.propTypes={senderName:J.exports.string.isRequired,body:J.exports.node.isRequired,isCustomHTML:J.exports.bool,isEdited:J.exports.bool,msgType:J.exports.string};function J7({body:t,onSave:e,onCancel:n}){const r=X.exports.useRef(null);return X.exports.useEffect(()=>{r.current.value="",r.current.value=t},[]),re("form",{className:"message__edit",onSubmit:i=>{i.preventDefault(),e(r.current.value,t)},children:[E(dt,{forwardRef:r,onKeyDown:i=>{i.key==="Escape"&&(i.preventDefault(),n()),i.key==="Enter"&&i.shiftKey===!1&&(i.preventDefault(),e(r.current.value,t))},value:t,placeholder:"Edit message",required:!0,resizable:!0,autoFocus:!0}),re("div",{className:"message__edit-btns",children:[E(Me,{type:"submit",variant:"primary",children:"Save"}),E(Me,{onClick:n,children:"Cancel"})]})]})}J7.propTypes={body:J.exports.string.isRequired,onSave:J.exports.func.isRequired,onCancel:J.exports.func.isRequired};function jue(t,e,n){const r=Fe.matrixClient,o=n.reactionTimeline.get(e);let i=null;return o==null||o.find(a=>a.getRelation()===null?!1:a.getRelation().key===t&&a.getSender()===r.getUserId()?(i=a,!0):!1),i}function X7(t,e,n,r,o){const i=jue(n,e,o);if(i){const a=i.getId();if(a.startsWith("~"))return;V7(t,a);return}Cue(t,e,n,r)}function Q7(t,e,n,r){d5(Rn(t),o=>{X7(e,n,o.mxc??o.unicode,o.shortcodes[0],r),t.target.click()})}function $ue(t,e,n){return re(Qe,{children:[t.map((r,o)=>re(nn.Fragment,{children:[We(za(r)),o<t.length-1&&E("span",{style:{opacity:".6"},children:o===t.length-2?" and ":", "})]},r)),E("span",{style:{opacity:".6"},children:" reacted with "}),We(n?`:${n}:`:e,{className:"react-emoji"})]})}function eD({reaction:t,shortcode:e,count:n,users:r,isActive:o,onClick:i}){let a=null;return t.match(/^mxc:\/\/\S+$/)&&(a=Fe.matrixClient.mxcUrlToHttp(t)),E(kg,{className:"msg__reaction-tooltip",content:E(ue,{variant:"b2",children:r.length>0?$ue(r,t,e):"Unable to load who has reacted"}),children:re("button",{onClick:i,type:"button",className:`msg__reaction${o?" msg__reaction--active":""}`,children:[a?E("img",{className:"react-emoji",draggable:"false",alt:e??t,src:a}):We(t,{className:"react-emoji"}),E(ue,{variant:"b3",className:"msg__reaction-count",children:n})]})})}eD.defaultProps={shortcode:void 0};eD.propTypes={reaction:J.exports.node.isRequired,shortcode:J.exports.string,count:J.exports.number.isRequired,users:J.exports.arrayOf(J.exports.string).isRequired,isActive:J.exports.bool.isRequired,onClick:J.exports.func.isRequired};function Z7({roomTimeline:t,mEvent:e}){var s;const{roomId:n,room:r,reactionTimeline:o}=t,i=Fe.matrixClient,a={},l=r.currentState.maySendEvent("m.reaction",i.getUserId()),u=o.get(e.getId()),d=(g,c,h,_,F)=>{let m=a[g];m===void 0&&(m={count:0,users:[],isActive:!1}),c&&(m.shortcode=c),h?m.count=h:(m.users.push(_),m.count=m.users.length,F&&(m.isActive=F)),a[g]=m};if(u)u.forEach(g=>{if(g.getRelation()===null)return;const c=g.getRelation(),h=g.getSender(),{shortcode:_}=g.getContent(),F=h===i.getUserId();d(c.key,_,void 0,h,F)});else{const g=(s=e.getServerAggregatedRelation("m.annotation"))==null?void 0:s.chunk;if(!g)return null;g.forEach(c=>{c.type==="m.reaction"&&d(c.key,void 0,c.count,void 0,!1)})}return re("div",{className:"message__reactions text text-b3 noselect",children:[Object.keys(a).map(g=>E(eD,{reaction:g,shortcode:a[g].shortcode,count:a[g].count,users:a[g].users,isActive:a[g].isActive,onClick:()=>{X7(n,e.getId(),g,a[g].shortcode,t)}},g)),l&&E(Ye,{onClick:g=>{Q7(g,n,e.getId(),t)},src:W7,size:"extra-small",tooltip:"Add reaction"})]})}Z7.propTypes={roomTimeline:J.exports.shape({}).isRequired,mEvent:J.exports.shape({}).isRequired};function eP(t){var e,n,r,o;return((e=t.getContent())==null?void 0:e.msgtype)==="m.file"||((n=t.getContent())==null?void 0:n.msgtype)==="m.image"||((r=t.getContent())==null?void 0:r.msgtype)==="m.audio"||((o=t.getContent())==null?void 0:o.msgtype)==="m.video"||t.getType()==="m.sticker"}function que(t,e){const n=t.getId(),{editedTimeline:r}=e??{};let o;if(r!=null&&r.has(n)){const i=r.get(n);o=i[i.length-1]}NQ(o!==void 0?o:t)}function Vue(t){LQ(t)}async function Gue(t){console.log(t);const e={};e.msgType="m.text",Fe.roomsInput.setMessage(t.sender.roomId,t.clearEvent.content.body),await Fe.roomsInput.sendInput(t.sender.roomId,e)}const tP=nn.memo(({roomTimeline:t,mEvent:e,edit:n,reply:r})=>{var g;const{roomId:o,room:i}=t,a=Fe.matrixClient,l=e.getSender(),u=(g=i.getMember(a.getUserId()))==null?void 0:g.powerLevel,d=i.currentState.hasSufficientPowerLevelFor("redact",u),s=i.currentState.maySendEvent("m.reaction",a.getUserId());return re("div",{className:"message__options",children:[s&&E(Ye,{onClick:c=>Q7(c,o,e.getId(),t),src:W7,size:"extra-small",tooltip:"Add reaction"}),E(Ye,{onClick:()=>r(),src:z7,size:"extra-small",tooltip:"Reply"}),l===a.getUserId()&&!eP(e)&&E(Ye,{onClick:()=>n(!0),src:Vc,size:"extra-small",tooltip:"Edit"}),E(os,{content:()=>re(Qe,{children:[E(ut,{children:"Options"}),E(ft,{iconSrc:xg,onClick:()=>h5(o,t.getEventReaders(e)),children:"Read receipts"}),E(ft,{iconSrc:Pue,onClick:()=>que(e,t),children:"View source"}),E(ft,{iconSrc:Mue,onClick:()=>Vue(e),children:"Translate"}),E(ft,{iconSrc:Nue,onClick:()=>Gue(e),children:"Repeat"}),(d||l===a.getUserId())&&re(Qe,{children:[E(nre,{}),E(ft,{variant:"danger",iconSrc:EF,onClick:async()=>{await or("Delete message","Are you sure that you want to delete this message?","Delete","danger")&&V7(o,e.getId())},children:"Delete"})]})]}),render:c=>E(Ye,{onClick:c,src:RF,size:"extra-small",tooltip:"Options"})})]})});tP.propTypes={roomTimeline:J.exports.shape({}).isRequired,mEvent:J.exports.shape({}).isRequired,edit:J.exports.func.isRequired,reply:J.exports.func.isRequired};function Kue(t){var d,s,g,c,h,_,F,m,p,f,v,y,w,b,S,x,N,U,q,P,G,C,I,M,A,$,Y;const e=Fe.matrixClient,n=t.getContent();if(!n||!n.body)return E("span",{style:{color:"var(--bg-danger)"},children:"Malformed event"});let r=n==null?void 0:n.url;const o=typeof r>"u";o&&(r=(d=n==null?void 0:n.file)==null?void 0:d.url);let i=(s=n==null?void 0:n.info)==null?void 0:s.thumbnail_url;if(typeof r>"u"||r==="")return E("span",{style:{color:"var(--bg-danger)"},children:"Malformed event"});let a=(g=t.getContent())==null?void 0:g.msgtype;const l=hg((c=n.info)==null?void 0:c.mimetype);t.getType()==="m.sticker"?a="m.sticker":l==="application/octet-stream"&&(a="m.file");const u=(h=n==null?void 0:n.info)==null?void 0:h["xyz.amorgan.blurhash"];switch(a){case"m.file":return E(Hw,{name:n.body,link:e.mxcUrlToHttp(r),type:(_=n.info)==null?void 0:_.mimetype,file:n.file||null});case"m.image":return E(zw,{name:n.body,width:typeof((F=n.info)==null?void 0:F.w)=="number"?(m=n.info)==null?void 0:m.w:null,height:typeof((p=n.info)==null?void 0:p.h)=="number"?(f=n.info)==null?void 0:f.h:null,link:e.mxcUrlToHttp(r),file:o?n.file:null,type:(v=n.info)==null?void 0:v.mimetype,blurhash:u});case"m.sticker":return E(Ww,{name:n.body,width:typeof((y=n.info)==null?void 0:y.w)=="number"?(w=n.info)==null?void 0:w.w:null,height:typeof((b=n.info)==null?void 0:b.h)=="number"?(S=n.info)==null?void 0:S.h:null,link:e.mxcUrlToHttp(r),file:o?n.file:null,type:(x=n.info)==null?void 0:x.mimetype});case"m.audio":return E(Yw,{name:n.body,link:e.mxcUrlToHttp(r),type:(N=n.info)==null?void 0:N.mimetype,file:n.file||null});case"m.video":return typeof i>"u"&&(i=((q=(U=n.info)==null?void 0:U.thumbnail_file)==null?void 0:q.url)||null),E(Jw,{name:n.body,link:e.mxcUrlToHttp(r),thumbnail:i===null?null:e.mxcUrlToHttp(i),thumbnailFile:o?(P=n.info)==null?void 0:P.thumbnail_file:null,thumbnailType:((C=(G=n.info)==null?void 0:G.thumbnail_info)==null?void 0:C.mimetype)||null,width:typeof((I=n.info)==null?void 0:I.w)=="number"?(M=n.info)==null?void 0:M.w:null,height:typeof((A=n.info)==null?void 0:A.h)=="number"?($=n.info)==null?void 0:$.h:null,file:o?n.file:null,type:(Y=n.info)==null?void 0:Y.mimetype,blurhash:u});default:return E("span",{style:{color:"var(--bg-danger)"},children:"Malformed event"})}}function Hue(t){const e=t.getContent()["m.new_content"];if(typeof e>"u")return[null,!1,null];const n=e.format==="org.matrix.custom.html",r=BE(e.body);return r===null?[e.body,n,e.formatted_body??null]:[r.body,n,e.formatted_body??null]}function OF({mEvent:t,isBodyOnly:e,roomTimeline:n,focus:r,fullTime:o,isEdit:i,setEdit:a,cancelEdit:l}){var U,q;const u=t.getRoomId(),{editedTimeline:d,reactionTimeline:s}=n??{},g=["message",e?"message--body-only":"message--full"];r&&g.push("message--focus");const c=t.getContent(),h=t.getId(),_=c==null?void 0:c.msgtype,F=t.getSender();let{body:m}=c;const p=t.sender?ts(t.sender):za(F),f=((U=t.sender)==null?void 0:U.getAvatarUrl(Fe.matrixClient.baseUrl,36,36,"crop"))??null;let v=c.format==="org.matrix.custom.html",y=v?c.formatted_body:null;const w=X.exports.useCallback(()=>{a(h)},[]),b=X.exports.useCallback(()=>{UQ(F,t.getId(),m,y)},[m,y]);_==="m.emote"&&g.push("message--type-emote");const S=n?d.has(h):!1,x=n?s.has(h)||!!t.getServerAggregatedRelation("m.annotation"):!1,N=!!t.replyEventId;if(S){const P=d.get(h),G=P[P.length-1];[m,v,y]=Hue(G)}return N&&(m=((q=BE(m))==null?void 0:q.body)??m,y=QQ(y)),typeof m!="string"&&(m=""),re("div",{className:g.join(" "),children:[e?E("div",{className:"message__avatar-container"}):E(Uue,{roomId:u,avatarSrc:f,userId:F,username:p}),re("div",{className:"message__main-container",children:[!e&&E(Xw,{userId:F,username:p,timestamp:t.getTs(),fullTime:o}),n&&N&&E(Y7,{roomTimeline:n,eventId:t.replyEventId}),!i&&E(Zw,{senderName:p,isCustomHTML:v,body:eP(t)?Kue(t):y??m,msgType:_,isEdited:S}),i&&E(J7,{body:y?a5(y,{kind:"edit",onlyPlain:!0}).plain:CE(m,{kind:"edit",onlyPlain:!0}).plain,onSave:(P,G)=>{P!==G&&Fe.roomsInput.sendEditedMessage(u,t,P),l()},onCancel:l}),x&&E(Z7,{roomTimeline:n,mEvent:t}),n&&!i&&E(tP,{roomTimeline:n,mEvent:t,edit:w,reply:b})]})]})}OF.defaultProps={isBodyOnly:!1,focus:!1,roomTimeline:null,fullTime:!1,isEdit:!1,setEdit:null,cancelEdit:null};OF.propTypes={mEvent:J.exports.shape({}).isRequired,isBodyOnly:J.exports.bool,roomTimeline:J.exports.shape({}),focus:J.exports.bool,fullTime:J.exports.bool,isEdit:J.exports.bool,setEdit:J.exports.func,cancelEdit:J.exports.func};const j2=new Map;function zue(t){const[e,n]=X.exports.useState(j2.get(t)??null),[r,o]=X.exports.useState({type:te.status.PRE_FLIGHT,term:null}),i=yn(t),a=Fe.matrixClient;return X.exports.useEffect(()=>i.setItem(!0),[t]),X.exports.useEffect(()=>{var d;((d=e==null?void 0:e.results)==null?void 0:d.length)>0?j2.set(t,e):j2.delete(t)},[e]),[e,async d=>{if(n(null),d===""){o({type:te.status.PRE_FLIGHT,term:null});return}o({type:te.status.IN_FLIGHT,term:d});const s={search_categories:{room_events:{search_term:d,filter:{limit:10,rooms:[t]},order_by:"recent",event_context:{before_limit:0,after_limit:0,include_profile:!0}}}};try{const g=await a.search({body:s}),c=a.processRoomEventsSearch({_query:s,results:[],highlights:[]},g);if(!i.getItem()||(o({type:te.status.SUCCESS,term:d}),n(c),!i.getItem()))return}catch{n(null),o({type:te.status.ERROR,term:d})}},async()=>{if(e===null)return;const d=e._query.search_categories.room_events.search_term;o({type:te.status.IN_FLIGHT,term:d});try{const s=await a.backPaginateRoomEventsSearch(e);if(!i.getItem())return;o({type:te.status.SUCCESS,term:d}),n(s)}catch{if(!i.getItem())return;n(null),o({type:te.status.ERROR,term:d})}},r]}function nP({roomId:t}){const[e,n,r,o]=zue(t),a=Fe.matrixClient.isRoomEncrypted(t),l=(e==null?void 0:e._query.search_categories.room_events.search_term)??"",u=s=>{if(s.preventDefault(),a)return;const c=s.target.elements["room-search-input"].value.trim();n(c)},d=s=>E("div",{className:"room-search__result-item",children:s.map(g=>{const c=g.getId();return re(nn.Fragment,{children:[E(OF,{mEvent:g,isBodyOnly:!1,fullTime:!0}),E(Me,{onClick:()=>An(t,c),children:"View"})]},c)})},s[0].getId());return re("div",{className:"room-search",children:[re("form",{className:"room-search__form",onSubmit:u,children:[E(ut,{children:"Room search"}),re("div",{children:[E(dt,{placeholder:"Search for keywords",name:"room-search-input",disabled:a,autoFocus:!0}),E(Me,{iconSrc:zi,variant:"primary",type:"submit",children:"Search"})]}),(e==null?void 0:e.results.length)>0&&E(ue,{children:`${e.count} results for "${l}"`}),!a&&e===null&&re("div",{className:"room-search__help",children:[o.type===te.status.IN_FLIGHT&&E(yt,{}),o.type===te.status.IN_FLIGHT&&E(ue,{children:"Searching room messages..."}),o.type===te.status.PRE_FLIGHT&&E(It,{src:zi,size:"large"}),o.type===te.status.PRE_FLIGHT&&E(ue,{children:"Search room messages"}),o.type===te.status.ERROR&&E(ue,{children:"Failed to search messages"})]}),!a&&(e==null?void 0:e.results.length)===0&&E("div",{className:"room-search__help",children:E(ue,{children:"No results found"})}),a&&E("div",{className:"room-search__help",children:E(ue,{children:"Search does not work in encrypted room"})})]}),(e==null?void 0:e.results.length)>0&&re(Qe,{children:[E("div",{className:"room-search__content",children:e.results.map(s=>{const{timeline:g}=s.context;return d(g)})}),(e==null?void 0:e.next_batch)&&re("div",{className:"room-search__more",children:[o.type!==te.status.IN_FLIGHT&&E(Me,{onClick:r,children:"Load more"}),o.type===te.status.IN_FLIGHT&&E(yt,{})]})]})]})}nP.propTypes={roomId:J.exports.string.isRequired};const F0={INVITE:"invite",RESTRICTED:"restricted",PUBLIC:"public"};function Wue(t,e){const n=Fe.matrixClient;let r;if(e===F0.RESTRICTED){const{currentState:o}=n.getRoom(t),i=o.getStateEvents("m.space.parent")[0];if(!i)return Promise.resolve(void 0);r=[{room_id:i.getStateKey(),type:"m.room_membership"}]}return n.sendStateEvent(t,"m.room.join_rules",{join_rule:e,allow:r})}function Yue(t){const n=Fe.matrixClient.getRoom(t),[r,o]=X.exports.useState(n.getJoinRule());X.exports.useEffect(()=>o(n.getJoinRule()),[t]);const i=X.exports.useCallback(a=>{a.type!==r.type&&(o(a.type),Wue(t,a.type))},[r,t]);return[r,i]}function tD({roomId:t}){var h,_;const[e,n]=Yue(t),r=Fe.matrixClient,o=r.getRoom(t),i=o.isSpaceRoom(),{currentState:a}=o,l=a.getStateEvents("m.space.parent").length===0,u=(h=a.getStateEvents("m.room.create")[0])==null?void 0:h.getContent(),d=Number((u==null?void 0:u.room_version)??0),s=((_=o.getMember(r.getUserId()))==null?void 0:_.powerLevel)||0,g=o.currentState.hasSufficientPowerLevelFor("state_default",s),c=[{iconSrc:i?cp:up,text:"Private (invite only)",type:F0.INVITE,unsupported:!1},{iconSrc:i?AE:RE,text:d<8?"Restricted (unsupported: required room upgrade)":"Restricted (space member can join)",type:F0.RESTRICTED,unsupported:d<8||l},{iconSrc:i?OE:nF,text:"Public (anyone can join)",type:F0.PUBLIC,unsupported:!1}];return E("div",{className:"room-visibility",children:c.map(F=>E(ft,{variant:e===F.type?"positive":"surface",iconSrc:F.iconSrc,onClick:()=>n(F),disabled:!g||F.unsupported,children:re(ue,{varient:"b1",children:[E("span",{children:F.text}),E(Mg,{isActive:e===F.type})]})},F.type))})}tD.propTypes={roomId:J.exports.string.isRequired};function Jue(t){const[e]=X.exports.useState(new jm),[n,r]=X.exports.useState({alias:null,status:te.status.PRE_FLIGHT}),o=()=>{r({alias:null,status:te.status.PRE_FLIGHT})},i=l=>l.trim()===""?(o(),!1):l.match(/^[a-zA-Z0-9_-]+$/)?!0:(r({alias:null,status:te.status.ERROR,msg:"Invalid character: only letter, numbers and _- are allowed."}),!1);return[n,o,l=>{const u=l.target;n.status!==te.status.PRE_FLIGHT&&o(),i(u.value)!==!1&&e._(async()=>{const{value:d}=u,s=`#${d}:${t}`;if(i(d)===!1)return;r({alias:s,status:te.status.IN_FLIGHT,msg:`validating ${s}...`});const g=await _5(s);r(()=>l.target.value!==d?{alias:null,status:te.status.PRE_FLIGHT}:{alias:s,status:g?te.status.SUCCESS:te.status.ERROR,msg:g?`${s} is available.`:`${s} is already in use.`})},600)()}]}function Xue(t){const n=Fe.matrixClient.getRoom(t),r=n.getCanonicalAlias(),o=n.getAltAliases();return r&&!o.includes(r)&&o.splice(0,0,r),{main:r,published:[...new Set(o)],local:[]}}function nD({roomId:t}){const e=Fe.matrixClient,n=e.getRoom(t),r=e.getUserId(),o=r.slice(r.indexOf(":")+1),i=yn(),[a,l]=X.exports.useState(!1),[u,d]=X.exports.useState(!1),[s,g]=X.exports.useState(Xue(t)),[c,h]=X.exports.useState(null),[_,F]=X.exports.useState(null),[m,p,f]=Jue(o),v=n.currentState.maySendStateEvent("m.room.canonical_alias",r);X.exports.useEffect(()=>i.setItem(!0),[]),X.exports.useEffect(()=>{let C=!1;const I=async()=>{let A=[];try{A=(await e.getLocalAliases(t)).aliases.filter(Y=>!s.published.includes(Y))}catch{A=[]}s.local=[...new Set(A.reverse())],!C&&g({...s})},M=async()=>{const A=await e.getRoomDirectoryVisibility(t);C||l(A.visibility==="public")};return I(),M(),()=>{C=!0}},[t]);const y=()=>{e.setRoomDirectoryVisibility(t,a?"private":"public"),l(!a)},w=async C=>{if(C.preventDefault(),m.status===te.status.ERROR||!m.alias)return;const{alias:I}=m,M=C.target.elements["alias-input"];M.value="",p();try{s.local.push(I),g({...s}),await e.createAlias(I,t)}catch{if(i.getItem()){const A=I.local.indexOf(I);if(A===-1)return;s.local.splice(A,1),g({...s})}}},b=C=>{h(C===c?null:C)},S=C=>{const{main:I,published:M}=s;let{local:A}=s;M.includes(s)||(M.push(C),A=A.filter($=>$!==C),e.sendStateEvent(t,"m.room.canonical_alias",{alias:I,alt_aliases:M.filter($=>$!==I)}),g({main:I,published:M,local:A}),h(null))},x=C=>{let{main:I,published:M}=s;const{local:A}=s;(M.includes(C)||I===C)&&(I===C&&(I=null),M=M.filter($=>$!==C),A.push(C),e.sendStateEvent(t,"m.room.canonical_alias",{alias:I,alt_aliases:M.filter($=>$!==I)}),g({main:I,published:M,local:A}),h(null))},N=C=>{let{main:I,local:M}=s;const{published:A}=s;I!==C&&(I=C,A.includes(C)||A.splice(0,0,C),M=M.filter($=>$!==C),e.sendStateEvent(t,"m.room.canonical_alias",{alias:I,alt_aliases:A.filter($=>$!==I)}),g({main:I,published:A,local:M}),h(null))},U=async C=>{try{F({alias:C,status:te.status.IN_FLIGHT,msg:"deleting..."}),await e.deleteAlias(C);let{main:I,published:M,local:A}=s;M.includes(C)&&(x(C),I===C&&(I=null),M=M.filter($=>$!==C)),A=A.filter($=>$!==C),g({main:I,published:M,local:A}),F(null),h(null)}catch(I){F({alias:C,status:te.status.ERROR,msg:I.message})}},q=C=>{const I=s.published.includes(C),M=s.main===C;if((_==null?void 0:_.alias)===C){const A=_.status===te.status.ERROR;return E("div",{className:"room-aliases__item-btns",children:E(ue,{variant:"b2",children:E("span",{style:{color:A?"var(--tc-danger-high":"inherit"},children:_.msg})})})}return re("div",{className:"room-aliases__item-btns",children:[v&&!M&&E(Me,{onClick:()=>N(C),variant:"primary",children:"Set as Main"}),!I&&v&&E(Me,{onClick:()=>S(C),variant:"positive",children:"Publish"}),I&&v&&E(Me,{onClick:()=>x(C),variant:"caution",children:"Un-Publish"}),E(Me,{onClick:()=>U(C),variant:"danger",children:"Delete"})]})},P=C=>{const I=c===C,M=!v&&s.published.includes(C),A=s.main===C;return re(nn.Fragment,{children:[re("div",{className:"room-aliases__alias-item",children:[E(as,{variant:"positive",disabled:M,isActive:I,onToggle:()=>b(C)}),re(ue,{children:[C,A&&E("span",{children:"Main"})]})]},C),I&&q(C)]},`${C}-wrapper`)};let G="normal";return m.status===te.status.ERROR&&(G="error"),m.status===te.status.SUCCESS&&(G="success"),re("div",{className:"room-aliases",children:[E(Et,{title:"Publish to room directory",content:E(ue,{variant:"b3",children:`Publish this ${n.isSpaceRoom()?"space":"room"} to the ${o}'s public room directory?`}),options:E(_r,{isActive:a,onToggle:y,disabled:!v})}),re("div",{className:"room-aliases__content",children:[E(ut,{children:"Published addresses"}),s.published.length===0&&E(ue,{className:"room-aliases__message",children:"No published addresses"}),s.published.length>0&&!s.main&&E(ue,{className:"room-aliases__message",children:"No Main address (select one from below)"}),s.published.map(P),E(ue,{className:"room-aliases__message",variant:"b3",children:`Published addresses can be used by anyone on any server to join your ${n.isSpaceRoom()?"space":"room"}. To publish an address, it needs to be set as a local address first.`})]}),u&&re("div",{className:"room-aliases__content",children:[E(ut,{children:"Local addresses"}),s.local.length===0&&E(ue,{className:"room-aliases__message",children:"No local addresses"}),s.local.map(P),E(ue,{className:"room-aliases__message",variant:"b3",children:`Set local addresses for this ${n.isSpaceRoom()?"space":"room"} so users can find this ${n.isSpaceRoom()?"space":"room"} through your homeserver.`}),E(ue,{className:"room-aliases__form-label",variant:"b2",children:"Add local address"}),re("form",{className:"room-aliases__form",onSubmit:w,children:[E("div",{className:"room-aliases__input-wrapper",children:E(dt,{name:"alias-input",state:G,onChange:f,placeholder:`my_${n.isSpaceRoom()?"space":"room"}_address`,required:!0})}),E(Me,{variant:"primary",type:"submit",children:"Add"})]}),re("div",{className:"room-aliases__input-status",children:[m.status===te.status.SUCCESS&&E(ue,{className:"room-aliases__valid",variant:"b2",children:m.msg}),m.status===te.status.ERROR&&E(ue,{className:"room-aliases__invalid",variant:"b2",children:m.msg})]})]}),E("div",{className:"room-aliases__content",children:E(Me,{onClick:()=>d(!u),children:`${u?"Hide":"Add / View"} local address`})})]})}nD.propTypes={roomId:J.exports.string.isRequired};const H1={WORLD_READABLE:"world_readable",SHARED:"shared",INVITED:"invited",JOINED:"joined"},Que=[{iconSrc:null,text:"Anyone (including guests)",type:H1.WORLD_READABLE},{iconSrc:null,text:"Members (all messages)",type:H1.SHARED},{iconSrc:null,text:"Members (messages after invite)",type:H1.INVITED},{iconSrc:null,text:"Members (messages after join)",type:H1.JOINED}];function Zue(t,e){return Fe.matrixClient.sendStateEvent(t,"m.room.history_visibility",{history_visibility:e})}function ece(t){const n=Fe.matrixClient.getRoom(t),[r,o]=X.exports.useState(n.getHistoryVisibility());X.exports.useEffect(()=>o(n.getHistoryVisibility()),[t]);const i=X.exports.useCallback(a=>{a.type!==r.type&&(o(a.type),Zue(t,a.type))},[r,t]);return[r,i]}function rP({roomId:t}){const[e,n]=ece(t),r=Fe.matrixClient,o=r.getUserId(),i=r.getRoom(t),{currentState:a}=i,l=a.maySendStateEvent("m.room.history_visibility",o);return re("div",{className:"room-history-visibility",children:[Que.map(u=>E(ft,{variant:e===u.type?"positive":"surface",iconSrc:u.iconSrc,onClick:()=>n(u),disabled:!l,children:re(ue,{varient:"b1",children:[E("span",{children:u.text}),E(Mg,{isActive:e===u.type})]})},u.type)),E(ue,{variant:"b3",children:"Changes to history visibility will only apply to future messages. The visibility of existing history will have no effect."})]})}rP.propTypes={roomId:J.exports.string.isRequired};function oP({roomId:t}){const e=Fe.matrixClient,n=e.getRoom(t),r=n.currentState.getStateEvents("m.room.encryption"),[o,i]=X.exports.useState(r.length>0),a=n.currentState.maySendStateEvent("m.room.encryption",e.getUserId());return E("div",{className:"room-encryption",children:E(Et,{title:"Enable room encryption",content:E(ue,{variant:"b3",children:"Once enabled, encryption cannot be disabled."}),options:E(_r,{isActive:o,onToggle:async()=>{const u=n.getJoinRule(),d="It is not recommended to add encryption in public room. Anyone can find and join public rooms, so anyone can read messages in them.",s="Once enabled, encryption for a room cannot be disabled. Messages sent in an encrypted room cannot be seen by the server, only by the participants of the room. Enabling encryption may prevent many bots and bridges from working correctly";(u!=="public"||await or("Enable encryption",d,"Continue","caution"))&&await or("Enable encryption",s,"Enable","caution")&&(i(!0),e.sendStateEvent(t,"m.room.encryption",{algorithm:"m.megolm.v1.aes-sha2"}))},disabled:o||!a})})})}oP.propTypes={roomId:J.exports.string.isRequired};function rD({value:t,max:e,onSelect:n}){const r=o=>{var a;const i=(a=o.target.elements["power-level"])==null?void 0:a.value;i&&n(Number(i))};return re("div",{className:"power-level-selector",children:[E(ut,{children:"Power level selector"}),re("form",{onSubmit:o=>{o.preventDefault(),r(o)},children:[E("input",{className:"input",defaultValue:t,type:"number",name:"power-level",placeholder:"Power level",max:e,autoComplete:"off",required:!0}),E(Ye,{variant:"primary",src:Qs,type:"submit"})]}),e>=0&&E(ut,{children:"Presets"}),e>=100&&E(ft,{variant:t===100?"positive":"surface",onClick:()=>n(100),children:"Admin - 100"}),e>=50&&E(ft,{variant:t===50?"positive":"surface",onClick:()=>n(50),children:"Mod - 50"}),e>=0&&E(ft,{variant:t===0?"positive":"surface",onClick:()=>n(0),children:"Member - 0"})]})}rD.propTypes={value:J.exports.number.isRequired,max:J.exports.number.isRequired,onSelect:J.exports.func.isRequired};const tce={users_default:{name:"Default role",description:"Set default role for all members.",default:0},events_default:{name:"Send messages",description:"Set minimum power level to send messages in room.",default:0},"m.reaction":{parent:"events",name:"Send reactions",description:"Set minimum power level to send reactions in room.",default:0},redact:{name:"Delete messages sent by others",description:"Set minimum power level to delete messages in room.",default:50},notifications:{name:"Ping room",description:"Set minimum power level to ping room.",default:{room:50}},"m.space.child":{parent:"events",name:"Manage rooms in space",description:"Set minimum power level to manage rooms in space.",default:50},invite:{name:"Invite",description:"Set minimum power level to invite members.",default:50},kick:{name:"Kick",description:"Set minimum power level to kick members.",default:50},ban:{name:"Ban",description:"Set minimum power level to ban members.",default:50},"m.room.avatar":{parent:"events",name:"Change avatar",description:"Set minimum power level to change room/space avatar.",default:50},"m.room.name":{parent:"events",name:"Change name",description:"Set minimum power level to change room/space name.",default:50},"m.room.topic":{parent:"events",name:"Change topic",description:"Set minimum power level to change room/space topic.",default:50},state_default:{name:"Change settings",description:"Set minimum power level to change settings.",default:50},"m.room.canonical_alias":{parent:"events",name:"Change published address",description:"Set minimum power level to publish and set main address.",default:50},"m.room.power_levels":{parent:"events",name:"Change permissions",description:"Set minimum power level to change permissions.",default:50},"m.room.encryption":{parent:"events",name:"Enable room encryption",description:"Set minimum power level to enable room encryption.",default:50},"m.room.history_visibility":{parent:"events",name:"Change history visibility",description:"Set minimum power level to change room messages history visibility.",default:50},"m.room.tombstone":{parent:"events",name:"Upgrade room",description:"Set minimum power level to upgrade room.",default:50},"m.room.pinned_events":{parent:"events",name:"Pin messages",description:"Set minimum power level to pin messages in room.",default:50},"m.room.server_acl":{parent:"events",name:"Change server ACLs",description:"Set minimum power level to change server ACLs.",default:50},"im.vector.modular.widgets":{parent:"events",name:"Modify widgets",description:"Set minimum power level to modify room widgets.",default:50}},nce={"General Permissions":["users_default","events_default","m.reaction","redact","notifications"],"Manage members permissions":["invite","kick","ban"],"Room profile permissions":["m.room.avatar","m.room.name","m.room.topic"],"Settings permissions":["state_default","m.room.canonical_alias","m.room.power_levels","m.room.encryption","m.room.history_visibility"],"Other permissions":["m.room.tombstone","m.room.pinned_events","m.room.server_acl","im.vector.modular.widgets"]},rce={"General Permissions":["users_default","m.space.child"],"Manage members permissions":["invite","kick","ban"],"Space profile permissions":["m.room.avatar","m.room.name","m.room.topic"],"Settings permissions":["state_default","m.room.canonical_alias","m.room.power_levels"]};function oce(t){const[,e]=jr(),n=Fe.matrixClient;X.exports.useEffect(()=>{const r=o=>{o.getRoomId()===t&&e()};return n.on("RoomState.events",r),()=>{n.removeListener("RoomState.events",r)}},[t])}function oD({roomId:t}){var d;oce(t);const e=Fe.matrixClient,n=e.getRoom(t),o=n.currentState.getStateEvents("m.room.power_levels")[0].getContent(),i=n.currentState.maySendStateEvent("m.room.power_levels",e.getUserId()),a=((d=n.getMember(e.getUserId()))==null?void 0:d.powerLevel)??100,l=(s,g,c,h)=>{const _=F=>{if(h===F)return;const m={...o};c?m[c]={...o[c],[g]:F}:g==="notifications"?m[g]={...o[g],room:F}:m[g]=F,e.sendStateEvent(t,"m.room.power_levels",m)};rr("bottom",Rn(s,".btn-surface"),F=>E(rD,{value:h,max:a,onSelect:m=>{F(),_(m)}}))},u=n.isSpaceRoom()?rce:nce;return E("div",{className:"room-permissions",children:Object.keys(u).map(s=>{const g=u[s];return re("div",{className:"room-permissions__card",children:[E(ut,{children:s}),g.map(c=>{var m;const h=tce[c];let _=0,F=h.parent?(m=o[h.parent])==null?void 0:m[c]:o[c];return F===void 0&&(F=h.default),typeof F=="number"?_=F:c==="notifications"&&(_=F.room??50),E(Et,{title:h.name,content:E(ue,{variant:"b3",children:h.description}),options:E(Me,{onClick:i?p=>l(p,c,h.parent,_):null,iconSrc:i?fn:null,children:E(ue,{variant:"b2",children:`${rF(_)||"Member"} - ${_}`})})},c)})]},s)})})}oD.propTypes={roomId:J.exports.string.isRequired};class Lg extends Gn.exports{constructor(){super(),this._reset(),this.RESULT_SENT="RESULT_SENT"}_reset(){this.dataList=null,this.term=null,this.searchKeys=null,this.isContain=!1,this.isCaseSensitive=!1,this.normalizeUnicode=!0,this.ignoreWhitespace=!0,this.limit=null,this.findingList=[],this.searchUptoIndex=0,this.sessionStartTimestamp=0}_softReset(){this.term=null,this.findingList=[],this.searchUptoIndex=0,this.sessionStartTimestamp=0}setup(e,n){this._reset(),this.dataList=e,this.searchKeys=(n==null?void 0:n.keys)||null,this.isContain=(n==null?void 0:n.isContain)||!1,this.isCaseSensitive=(n==null?void 0:n.isCaseSensitive)||!1,this.normalizeUnicode=(n==null?void 0:n.normalizeUnicode)||!0,this.ignoreWhitespace=(n==null?void 0:n.ignoreWhitespace)||!0,this.limit=(n==null?void 0:n.limit)||null}search(e){if(this._softReset(),this.term=this._normalize(e),this.term===""){this._sendFindings();return}this._find(this.sessionStartTimestamp,0)}_find(e,n){if(e===this.sessionStartTimestamp){this.sessionStartTimestamp=window.performance.now();for(let r=this.searchUptoIndex;r<this.dataList.length&&!(this._match(this.dataList[r])&&(this.findingList.push(this.dataList[r]),typeof this.limit=="number"&&this.findingList.length>=this.limit));r+=1)if(window.performance.now()-this.sessionStartTimestamp>8){const i=this.findingList.length,a=this.sessionStartTimestamp;n!==i&&this._sendFindings(),this.searchUptoIndex=r+1,setTimeout(()=>this._find(a,i));return}(n!==this.findingList.length||n===0)&&this._sendFindings(),this._softReset()}}_match(e){if(typeof e=="string")return this._compare(e);if(typeof e=="object"){if(Array.isArray(this.searchKeys))return!!this.searchKeys.find(n=>this._compare(e[n]));if(typeof this.searchKeys=="string")return this._compare(e[this.searchKeys])}return!1}_compare(e){if(typeof e!="string")return!1;const n=this._normalize(e);return this.isContain?n.indexOf(this.term)!==-1:n.startsWith(this.term)}_normalize(e){let n=e.normalize(this.normalizeUnicode?"NFKC":"NFC");return this.isCaseSensitive||(n=n.toLocaleLowerCase()),this.ignoreWhitespace&&(n=n.replace(/\s/g,"")),n}_sendFindings(){this.emit(this.RESULT_SENT,this.findingList,this.term)}}const _0=50;function ice(t){const e=Fe.matrixClient;return t.map(n=>({userId:n.userId,name:ts(n),username:n.userId.slice(1,n.userId.indexOf(":")),avatarSrc:n.getAvatarUrl(e.baseUrl,24,24,"crop"),peopleRole:rF(n.powerLevel),powerLevel:t.powerLevel}))}function ace(t,e){const n=Fe.matrixClient,r=n.getRoom(t),[o,i]=X.exports.useState([]);return X.exports.useEffect(()=>{let a=!0,l=!1;const u=d=>{if(l||d&&(d==null?void 0:d.getRoomId())!==t)return;const s=ice(r.getMembersWithMembership(e).sort(j7).sort($7));i(s)};return u(),l=!0,r.loadMembersIfNeeded().then(()=>{l=!1,a&&u()}),n.on("RoomMember.membership",u),n.on("RoomMember.powerLevel",u),()=>{a=!1,n.removeListener("RoomMember.membership",u),n.removeListener("RoomMember.powerLevel",u)}},[e]),[o]}function sce(t){const[e,n]=X.exports.useState(null),[r]=X.exports.useState(new Lg),o=X.exports.useCallback(()=>{e&&r.search(e.term)},[e,r]);return X.exports.useEffect(()=>{r.setup(t,{keys:["name","username","userId"],limit:_0}),o()},[t,r]),X.exports.useEffect(()=>{const a=(l,u)=>n({data:l,term:u});return r.on(r.RESULT_SENT,a),()=>{r.removeListener(r.RESULT_SENT,a)}},[r]),[e,a=>{const l=a.target.value;l===""||l===void 0?n(null):r.search(l)}]}function iD({roomId:t}){const[e,n]=X.exports.useState(_0),[r,o]=X.exports.useState("join"),[i]=ace(t,r),[a,l]=sce(i);X.exports.useEffect(()=>{n(_0)},[a]);const u=()=>{n(e+_0)},d=a?a.data:i.slice(0,e);return re("div",{className:"room-members",children:[E(ut,{children:"Search member"}),E(dt,{onChange:l,placeholder:"Search for name",autoFocus:!0}),re("div",{className:"room-members__header",children:[E(ut,{children:`${a?`Found  ${d.length}`:i.length} members`}),E(fc,{selected:(()=>({join:0,invite:1,ban:2})[r])(),segments:[{text:"Joined"},{text:"Invited"},{text:"Banned"}],onSelect:s=>{o(["join","invite","ban"][s])}})]}),re("div",{className:"room-members__list",children:[d.map(s=>E(Cl,{onClick:()=>yg(s.userId,t),avatarSrc:s.avatarSrc,name:s.name,color:ln(s.userId),peopleRole:s.peopleRole},s.userId)),((a==null?void 0:a.data.length)===0||i.length===0)&&E("div",{className:"room-members__status",children:E(ue,{variant:"b2",children:a?`No results found for "${a.term}"`:"No members to display"})}),d.length!==0&&i.length>e&&a===null&&E(Me,{onClick:u,children:"View more"})]})]})}iD.propTypes={roomId:J.exports.string.isRequired};function lce(t){const e=Fe.matrixClient,[,n]=X.exports.useReducer(d=>d+1,0),r=t.currentState.getStateEvents("im.ponies.room_emotes"),o=[],i=r.filter(d=>{var s;return typeof((s=d.getContent())==null?void 0:s.images)!="object"?(o.push(d),!1):!0});X.exports.useEffect(()=>{const d=(s,g,c)=>{var h;s.getRoomId()===t.roomId&&s.getType()==="im.ponies.room_emotes"&&(!((h=c==null?void 0:c.getContent())!=null&&h.images)||!s.getContent().images)&&n()};return e.on("RoomState.events",d),()=>{e.removeListener("RoomState.events",d)}},[t,e]);const a=d=>!t.currentState.getStateEvents("im.ponies.room_emotes",d);return{usablePacks:i,createPack:async d=>{const s={pack:{display_name:d},images:{}};let g="";o.length>0?g=o[0].getStateKey():(g=s.pack.display_name.replace(/\s/g,"-"),a(g)||(g=UA(g,a))),await e.sendStateEvent(t.roomId,"im.ponies.room_emotes",s,g)},deletePack:async d=>{await e.sendStateEvent(t.roomId,"im.ponies.room_emotes",{},d)}}}function aD({roomId:t}){const e=Fe.matrixClient,n=e.getRoom(t),{usablePacks:r,createPack:o,deletePack:i}=lce(n),a=n.currentState.maySendStateEvent("im.ponies.room_emote",e.getUserId());return re("div",{className:"room-emojis",children:[a&&re("div",{className:"room-emojis__add-pack",children:[E(ut,{children:"Create Pack"}),re("form",{onSubmit:u=>{u.preventDefault();const{nameInput:d}=u.target,s=d.value.trim();s!==""&&(d.value="",o(s))},children:[E(dt,{name:"nameInput",placeholder:"Pack Name",required:!0}),E(Me,{variant:"primary",type:"submit",children:"Create pack"})]})]}),r.length>0?r.reverse().map(u=>E(Iw,{roomId:t,stateKey:u.getStateKey(),handlePackDelete:a?i:void 0},u.getId())):E("div",{className:"room-emojis__empty",children:E(ue,{children:"No emoji or sticker pack."})})]})}aD.propTypes={roomId:J.exports.string.isRequired};const uce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='4.2%2c14.8%205.6%2c16.2%2012%2c9.8%2018.4%2c16.2%2019.8%2c14.8%2012%2c7%20'/%3e%20%3c/g%3e%20%3c/svg%3e";function iP({roomId:t}){var g,c,h;const e=Fe.matrixClient,n=e.getRoom(t),r=e.getUserId(),o=(h=(c=(g=n.currentState.getStateEvents("in.cinny.shared_timezone",r))==null?void 0:g.event)==null?void 0:c.content)==null?void 0:h.user_timezone_event,i=n.findEventById(o),a=i==null?void 0:i.getContent(),[l,u]=X.exports.useState(a==null?void 0:a.user_timezone),d=()=>{var F,m,p;const _=(p=(m=(F=n.currentState.getStateEvents("in.cinny.shared_timezone",r))==null?void 0:F.event)==null?void 0:m.content)==null?void 0:p.user_timezone_event;e.redactEvent(t,_),e.sendStateEvent(t,"in.cinny.shared_timezone",{},r),u(null)},s=()=>{const _=Intl.DateTimeFormat().resolvedOptions().timeZone;u(_);const F={user_timezone:_,msgtype:"in.cinny.share_timezone"};e.sendEvent(t,"in.cinny.share_timezone",F).then(m=>{e.sendStateEvent(t,"in.cinny.shared_timezone",{user_timezone_event:m.event_id},r)})};return re("div",{className:"room-timezone__content",children:[E(ue,{className:"room-timezone__message",children:"Share your timezone"}),E(ue,{className:"room-timezone__message",variant:"b3",children:"Sharing your timezone will allow other users in this room to see your local time. Keep in mind that sharing your timezone will share your approximate location."}),E(ue,{className:"room-timezone__message",variant:"b2",children:l?`Currently shared timezone: ${l}`:"You are not currently sharing a timezone"}),E(Me,{onClick:()=>s(),variant:l?"surface":"danger",children:l?"Update Timezone":"Share Timezone"}),E(Me,{onClick:()=>d(),disabled:!l,children:"Clear Shared Timezone"})]})}iP.propTypes={roomId:J.exports.string.isRequired};const vr={GENERAL:"General",SEARCH:"Search",MEMBERS:"Members",EMOJIS:"Emojis",PERMISSIONS:"Permissions",SECURITY:"Security"},z1=[{iconSrc:Fw,text:vr.GENERAL,disabled:!1},{iconSrc:zi,text:vr.SEARCH,disabled:!1},{iconSrc:ul,text:vr.MEMBERS,disabled:!1},{iconSrc:Bg,text:vr.EMOJIS,disabled:!1},{iconSrc:bw,text:vr.PERMISSIONS,disabled:!1},{iconSrc:w7,text:vr.SECURITY,disabled:!1}];function aP({roomId:t}){const e=Fe.matrixClient,n=e.getRoom(t),r=n.canInvite(e.getUserId());return re(Qe,{children:[re("div",{className:"room-settings__card",children:[E(ut,{children:"Options"}),E(ft,{disabled:!r,onClick:()=>vg(t),iconSrc:hc,children:"Invite"}),E(ft,{variant:"danger",onClick:async()=>{await or("Leave room",`Are you sure that you want to leave "${n.name}" room?`,"Leave","danger")&&ll(t)},iconSrc:Cg,children:"Leave"})]}),re("div",{className:"room-settings__card",children:[E(ut,{children:"Notification (Changing this will only affect you)"}),E(jw,{roomId:t})]}),re("div",{className:"room-settings__card",children:[E(ut,{children:"Room visibility (who can join)"}),E(tD,{roomId:t})]}),re("div",{className:"room-settings__card",children:[E(ut,{children:"Room addresses"}),E(nD,{roomId:t})]}),re("div",{className:"room-settings__card",children:[E(ut,{children:"Timezones"}),E(iP,{roomId:t})]})]})}aP.propTypes={roomId:J.exports.string.isRequired};function sP({roomId:t}){return re(Qe,{children:[re("div",{className:"room-settings__card",children:[E(ut,{children:"Encryption"}),E(oP,{roomId:t})]}),re("div",{className:"room-settings__card",children:[E(ut,{children:"Message history visibility"}),E(rP,{roomId:t})]})]})}sP.propTypes={roomId:J.exports.string.isRequired};function lP({roomId:t}){const[,e]=jr(),[n,r]=X.exports.useState(z1[0]),o=Fe.matrixClient.getRoom(t),i=a=>{r(a)};return X.exports.useEffect(()=>{let a=!0;const l=(u,d)=>{if(a)if(u){const s=z1.find(g=>g.text===d);s&&r(s),e()}else setTimeout(()=>e(),200)};return je.on(te.events.navigation.ROOM_SETTINGS_TOGGLED,l),()=>{a=!1,je.removeListener(te.events.navigation.ROOM_SETTINGS_TOGGLED,l)}},[]),je.isRoomSettings?E("div",{className:"room-settings",children:E(Kt,{autoHide:!0,children:re("div",{className:"room-settings__content",children:[E(Hi,{children:re("button",{className:"room-settings__header-btn",onClick:()=>Vh(),type:"button",onMouseUp:a=>bi(a,".room-settings__header-btn"),children:[E(pi,{children:re(ue,{variant:"s1",weight:"medium",primary:!0,children:[`${o.name}`,E("span",{style:{color:"var(--tc-surface-low)"},children:"  room settings"})]})}),E(It,{size:"small",src:uce})]})}),E(Vw,{roomId:t}),E(Tg,{items:z1,defaultSelected:z1.findIndex(a=>a.text===n.text),onSelect:i}),re("div",{className:"room-settings__cards-wrapper",children:[n.text===vr.GENERAL&&E(aP,{roomId:t}),n.text===vr.SEARCH&&E(nP,{roomId:t}),n.text===vr.MEMBERS&&E(iD,{roomId:t}),n.text===vr.EMOJIS&&E(aD,{roomId:t}),n.text===vr.PERMISSIONS&&E(oD,{roomId:t}),n.text===vr.SECURITY&&E(sP,{roomId:t})]})]})})}):null}lP.propTypes={roomId:J.exports.string.isRequired};function uP({roomId:t}){var d;const[,e]=jr(),n=Fe.matrixClient,r=Fe.roomList.directs.has(t),o=n.getRoom(t);let i=o.getAvatarUrl(n.baseUrl,36,36,"crop");i=r?(d=o.getAvatarFallbackMember())==null?void 0:d.getAvatarUrl(n.baseUrl,36,36,"crop"):i;const a=o.name,l=X.exports.useRef(null);X.exports.useEffect(()=>{const s=g=>{const c=l.current.lastElementChild;c.style.transform=g?"rotateX(180deg)":"rotateX(0deg)"};return je.on(te.events.navigation.ROOM_SETTINGS_TOGGLED,s),()=>{je.removeListener(te.events.navigation.ROOM_SETTINGS_TOGGLED,s)}},[]),X.exports.useEffect(()=>{const{roomList:s}=Fe,g=c=>{t===c&&e()};return s.on(te.events.roomList.ROOM_PROFILE_UPDATED,g),()=>{s.removeListener(te.events.roomList.ROOM_PROFILE_UPDATED,g)}},[t]);const u=s=>{rr("bottom",Rn(s,".ic-btn"),g=>E(IF,{roomId:t,afterOptionSelect:g}))};return re(Hi,{children:[E(Ye,{src:HB,className:"room-header__back-btn",tooltip:"Return to navigation",onClick:()=>l5()}),E(Ye,{src:l7,className:"room-header__hide-navigation-btn",tooltip:"Hide Navigation",onClick:()=>IQ()}),re("button",{ref:l,className:"room-header__btn",onClick:()=>Vh(),type:"button",onMouseUp:s=>bi(s,".room-header__btn"),children:[E(Jt,{imageSrc:i,text:a,bgColor:ln(t),size:"small"}),E(pi,{children:E(ue,{variant:"h2",weight:"medium",primary:!0,children:We(a)})}),E(It,{src:fn})]}),n.isRoomEncrypted(t)===!1&&E(Ye,{onClick:()=>Vh(vr.SEARCH),tooltip:"Search",src:zi}),E(Ye,{className:"room-header__drawer-btn",onClick:Xie,tooltip:"People",src:ul}),E(Ye,{className:"room-header__members-btn",onClick:()=>Vh(vr.MEMBERS),tooltip:"Members",src:ul}),E(Ye,{onClick:u,tooltip:"Options",src:RF})]})}uP.propTypes={roomId:J.exports.string.isRequired};function zp({text:t,variant:e,align:n}){const r=` divider--${e} divider--${n}`;return E("div",{className:`divider${r}`,children:t!==null&&E(ue,{className:"divider__text",variant:"b3",weight:"bold",children:t})})}zp.defaultProps={text:null,variant:"surface",align:"center"};zp.propTypes={text:J.exports.string,variant:J.exports.oneOf(["surface","primary","positive","caution","danger"]),align:J.exports.oneOf(["left","center","right"])};function sD({roomId:t,avatarSrc:e,name:n,heading:r,desc:o,time:i}){return re("div",{className:"room-intro",children:[E(Jt,{imageSrc:e,text:n,bgColor:ln(t),size:"large"}),re("div",{className:"room-intro__content",children:[E(ue,{className:"room-intro__name",variant:"h1",weight:"medium",primary:!0,children:r}),E(ue,{className:"room-intro__desc",variant:"b1",children:o}),i!==null&&E(ue,{className:"room-intro__time",variant:"b3",children:i})]})]})}sD.defaultProps={avatarSrc:null,time:null};sD.propTypes={roomId:J.exports.string.isRequired,avatarSrc:J.exports.oneOfType([J.exports.string,J.exports.bool]),name:J.exports.string.isRequired,heading:J.exports.node.isRequired,desc:J.exports.node.isRequired,time:J.exports.node};const GT="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M4.6%2c4.5l1.2-1.2l1.4%2c1.4L6%2c5.9C4.8%2c7%2c4.8%2c9%2c6%2c10.1C6.6%2c10.7%2c7.3%2c11%2c8.1%2c11H17l-2.3-2.3l1.4-1.4l4.7%2c4.7l-4.7%2c4.7l-1.4-1.4%20L17%2c13H8.1c-1.3%2c0-2.6-0.5-3.5-1.5C2.6%2c9.6%2c2.6%2c6.4%2c4.6%2c4.5z'/%3e%20%3c/svg%3e",cce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M16.3%2c7.3l-1.4%2c1.4l2.3%2c2.3H8.2c-0.8%2c0-1.6-0.3-2.1-0.9C5.6%2c9.6%2c5.2%2c8.8%2c5.2%2c8s0.3-1.6%2c0.9-2.1l1.2-1.2L5.9%2c3.3L4.7%2c4.5%20c-1.9%2c1.9-1.9%2c5.1%2c0%2c7.1C5.7%2c12.5%2c6.9%2c13%2c8.2%2c13h8.9l-2.3%2c2.3l1.4%2c1.4L21%2c12L16.3%2c7.3z'/%3e%20%3cpolygon%20points='9%2c17.3%206.8%2c17.3%206.8%2c15%205.3%2c15%205.3%2c17.3%203%2c17.3%203%2c18.8%205.3%2c18.8%205.3%2c21%206.8%2c21%206.8%2c18.8%209%2c18.8%20'/%3e%20%3c/g%3e%20%3c/svg%3e",dce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M16.3%2c7.3l-1.4%2c1.4l2.3%2c2.3H8.2c-0.8%2c0-1.6-0.3-2.1-0.9C5.6%2c9.6%2c5.2%2c8.8%2c5.2%2c8s0.3-1.6%2c0.9-2.1l1.2-1.2L5.9%2c3.3L4.7%2c4.5%20c-1.9%2c1.9-1.9%2c5.1%2c0%2c7.1C5.7%2c12.5%2c6.9%2c13%2c8.2%2c13h8.9l-2.3%2c2.3l1.4%2c1.4L21%2c12L16.3%2c7.3z'/%3e%20%3cpolygon%20points='8.7%2c19.6%207.1%2c18%208.7%2c16.4%207.6%2c15.4%206%2c17%204.4%2c15.4%203.3%2c16.4%204.9%2c18%203.3%2c19.6%204.4%2c20.7%206%2c19.1%207.6%2c20.7%20'/%3e%20%3c/g%3e%20%3c/svg%3e";function lD({variant:t,content:e,timestamp:n,onClick:r}){let o;switch(t){case"join":o=GT;break;case"leave":o=Cg;break;case"invite":o=cce;break;case"invite-cancel":o=dce;break;case"avatar":o=ul;break;default:o=GT;break}return re("button",{style:{cursor:r===null?"default":"pointer"},onClick:r,type:"button",className:"timeline-change",children:[E("div",{className:"timeline-change__avatar-container",children:E(It,{src:o,size:"extra-small"})}),E("div",{className:"timeline-change__content",children:E(ue,{variant:"b2",children:e})}),E("div",{className:"timeline-change__time",children:E(ue,{variant:"b3",children:E(AF,{timestamp:n})})})]})}lD.defaultProps={variant:"other",onClick:null};lD.propTypes={variant:J.exports.oneOf(["join","leave","invite","invite-cancel","avatar","other"]),content:J.exports.oneOfType([J.exports.string,J.exports.node]).isRequired,timestamp:J.exports.number.isRequired,onClick:J.exports.func};function hce(){return{join(t){return re(Qe,{children:[E("b",{children:We(t)})," joined the room"]})},leave(t,e){const n=typeof e=="string"?`: ${e}`:"";return re(Qe,{children:[E("b",{children:We(t)})," left the room",We(n)]})},invite(t,e){return re(Qe,{children:[E("b",{children:We(t)})," invited ",E("b",{children:We(e)})]})},cancelInvite(t,e){return re(Qe,{children:[E("b",{children:We(t)})," canceled ",E("b",{children:We(e)}),"'s invite"]})},rejectInvite(t){return re(Qe,{children:[E("b",{children:We(t)})," rejected the invitation"]})},kick(t,e,n){const r=typeof n=="string"?`: ${n}`:"";return re(Qe,{children:[E("b",{children:We(t)})," kicked ",E("b",{children:We(e)}),We(r)]})},ban(t,e,n){const r=typeof n=="string"?`: ${n}`:"";return re(Qe,{children:[E("b",{children:We(t)})," banned ",E("b",{children:We(e)}),We(r)]})},unban(t,e){return re(Qe,{children:[E("b",{children:We(t)})," unbanned ",E("b",{children:We(e)})]})},avatarSets(t){return re(Qe,{children:[E("b",{children:We(t)})," set a avatar"]})},avatarChanged(t){return re(Qe,{children:[E("b",{children:We(t)})," changed their avatar"]})},avatarRemoved(t){return re(Qe,{children:[E("b",{children:We(t)})," removed their avatar"]})},nameSets(t,e){return re(Qe,{children:[E("b",{children:We(t)})," set display name to ",E("b",{children:We(e)})]})},nameChanged(t,e){return re(Qe,{children:[E("b",{children:We(t)})," changed their display name to ",E("b",{children:We(e)})]})},nameRemoved(t,e){return re(Qe,{children:[E("b",{children:We(t)})," removed their display name ",E("b",{children:We(e)})]})}}}function cP(t,e,n){const r=Fe.matrixClient.getRoom(t),o=g=>r!=null&&r.getMember(g)?ts(r.getMember(g)):za(g),i=g=>E("b",{children:We(o(g))});if(!Array.isArray(e)||e.length===0)return"Idle";const a=3,l=i(e[0]);if(e.length===1)return re(Qe,{children:[l," is ",n]});const u=i(e[1]);if(e.length===2)return re(Qe,{children:[l," and ",u," are ",n]});const d=i(e[2]);if(e.length===3)return re(Qe,{children:[l,", ",u," and ",d," are ",n]});const s=e.length-a;return re(Qe,{children:[l,", ",u,", ",d," and ",s," others are ",n]})}function fce(t){const e=hce(),n=(u,d)=>({variant:u,content:d}),r=t.getContent(),o=t.getPrevContent(),i=t.getSender(),a=za(i),l=za(t.getStateKey());switch(r.membership){case"invite":return n("invite",e.invite(a,l));case"ban":return n("leave",e.ban(a,l,r.reason));case"join":return o.membership==="join"?r.displayname!==o.displayname?typeof r.displayname>"u"?n("avatar",e.nameRemoved(i,o.displayname)):typeof o.displayname>"u"?n("avatar",e.nameSets(i,r.displayname)):n("avatar",e.nameChanged(o.displayname,r.displayname)):r.avatar_url!==o.avatar_url?typeof r.avatar_url>"u"?n("avatar",e.avatarRemoved(r.displayname)):typeof o.avatar_url>"u"?n("avatar",e.avatarSets(r.displayname)):n("avatar",e.avatarChanged(r.displayname)):null:n("join",e.join(a));case"leave":if(i===t.getStateKey())switch(o.membership){case"invite":return n("invite-cancel",e.rejectInvite(a));default:return n("leave",e.leave(a,r.reason))}switch(o.membership){case"invite":return n("invite-cancel",e.cancelInvite(a,l));case"ban":return n("other",e.unban(a,l));default:return n("leave",e.kick(a,l,r.reason))}default:return null}}class gce{constructor(e){if(e===null)throw new Error("Can not initialize TimelineScroll, target HTMLElement in null");this.scroll=e,this.backwards=!1,this.inTopHalf=!1,this.isScrollable=!1,this.top=0,this.bottom=0,this.height=0,this.viewHeight=0,this.topMsg=null,this.bottomMsg=null,this.diff=0}scrollToBottom(){const e=F1(this.scroll),n=e.height-e.viewHeight;this._scrollTo(e,n)}tryRestoringScroll(){var o,i;const e=F1(this.scroll);let n=0;const r=this.inTopHalf?(o=this.topMsg)==null?void 0:o.offsetTop:(i=this.bottomMsg)==null?void 0:i.offsetTop;r?n=r-this.diff:n=Math.round(this.height-this.viewHeight),this._scrollTo(e,n)}scrollToIndex(e,n=0){var l;const r=F1(this.scroll),i=(l=this.scroll.lastElementChild.lastElementChild.children[e])==null?void 0:l.offsetTop;if(i===void 0||i>r.top&&i<r.top+r.viewHeight)return;const a=i-n;this._scrollTo(r,a)}_scrollTo(e,n){this.scroll.scrollTop=n,n!==this.top&&(this.scrolledByCode=!0);const r={...e},o=e.height-e.viewHeight;r.top=n>o?o:n,this._updateCalc(r)}_updateTopBottomMsg(){var o,i;const e=this.scroll.lastElementChild.lastElementChild.children,n=e.length-1,r=2;this.topMsg=((o=e[0])==null?void 0:o.className)==="ph-msg"?e[r]:e[0],this.bottomMsg=((i=e[n])==null?void 0:i.className)==="ph-msg"?e[n-r]:e[n]}_calcDiff(e){return!this.topMsg||!this.bottomMsg?0:this.inTopHalf?this.topMsg.offsetTop-e.top:this.bottomMsg.offsetTop-e.top}_updateCalc(e){const n=Math.round(e.viewHeight/2),r=e.top+n,o=this.top+n;this.backwards=r<o,this.inTopHalf=r<e.height/2,this.isScrollable=e.isScrollable,this.top=e.top,this.bottom=e.height-(e.top+e.viewHeight),this.height=e.height,this.viewHeight=e.viewHeight,this._updateTopBottomMsg(),this.diff=this._calcDiff(e)}calcScroll(){if(this.scrolledByCode){this.scrolledByCode=!1;return}const e=F1(this.scroll);return this._updateCalc(e),this.backwards}}class pce{constructor(){this._from=0,this.SMALLEST_EVT_HEIGHT=32,this.PAGES_COUNT=4}get maxEvents(){return Math.round(document.body.clientHeight/this.SMALLEST_EVT_HEIGHT)*this.PAGES_COUNT}get from(){return this._from}get length(){return this._from+this.maxEvents}setFrom(e){this._from=e<0?0:e}paginate(e,n,r){this._from=e?this._from-n:this._from+n,!e&&this.length>r&&(this._from=r-this.maxEvents),this._from<0&&(this._from=0)}}const lh=30,mce=5,v0=2,Fce=96*v0,Fb=Fce*4;function $2(t,e=2){const n=[],r=()=>{for(let o=0;o<e;o+=1)n.push(E(Lue,{},`placeholder-${o}${t}`));return n};return E(nn.Fragment,{children:r()},`placeholder-container${t}`)}function KT({event:t,timeline:e}){var h,_;const[,n]=jr(),r=Fe.matrixClient,{roomList:o}=Fe,{room:i}=e,a=(h=i.currentState.getStateEvents("m.room.topic")[0])==null?void 0:h.getContent().topic,l=o.directs.has(e.roomId);let u=i.getAvatarUrl(r.baseUrl,80,80,"crop");u=l?(_=i.getAvatarFallbackMember())==null?void 0:_.getAvatarUrl(r.baseUrl,80,80,"crop"):u;const d=l?i.name:`Welcome to ${i.name}`,s=We(a||"",void 0,!0),g=We(i.name),c=l?re(Qe,{children:["This is the beginning of your direct message history with @",E("b",{children:g}),". ",s]}):re(Qe,{children:["This is the beginning of the ",E("b",{children:g})," room. ",s]});return X.exports.useEffect(()=>{const F=()=>n();return o.on(te.events.roomList.ROOM_PROFILE_UPDATED,F),()=>{o.removeListener(te.events.roomList.ROOM_PROFILE_UPDATED,F)}},[]),E(sD,{roomId:e.roomId,avatarSrc:u,name:i.name,heading:We(d),desc:c,time:t?`Created at ${Vf(t.getDate(),"dd mmmm yyyy, hh:MM TT")}`:null})}function _ce(t){const{target:e,nativeEvent:n}=t,r=e.getAttribute("data-mx-pill");if(r){const i=je.selectedRoomId;yg(r,i)}const o=n.composedPath().find(i=>{var a;return(a=i==null?void 0:i.hasAttribute)==null?void 0:a.call(i,"data-mx-spoiler")});o&&o.classList.toggle("data-mx-spoiler--visible")}function vce(t,e,n,r,o,i,a){const l=n!==null&&n.getSender()===e.getSender()&&n.getType()!=="m.room.member"&&n.getType()!=="m.room.create"&&qz(e.getDate(),n.getDate())<=mce,u=e.getTs();if(e.getType()==="m.room.member"){const d=fce(e);return d===null?E("div",{},e.getId()):E(lD,{variant:d.variant,content:d.content,timestamp:u},e.getId())}return E(OF,{mEvent:e,isBodyOnly:l,roomTimeline:t,focus:r,fullTime:!1,isEdit:o,setEdit:i,cancelEdit:a},e.getId())}function yce(t,e,n,r){const[o,i]=X.exports.useState(null),a=async l=>{typeof l=="string"&&await t.loadEventTimeline(l)||t.loadLiveTimeline()};return X.exports.useEffect(()=>{const l=r.current,u=d=>{const s=t.getReadUpToEventId();let g=-1;const c=d&&d!==s;c&&(g=t.getEventIndex(d)),!n.getItem()&&t.hasEventInTimeline(s)&&n.setItem(t.findEventByIdInTimelineSet(s)),n.getItem()&&!c&&(g=t.getUnreadEventIndex(n.getItem().getId())),g>-1?l.setFrom(g-Math.round(l.maxEvents/2)):l.setFrom(t.timeline.length-l.maxEvents),i({focusEventId:c?d:null})};return t.on(te.events.roomTimeline.READY,u),a(e),()=>{t.removeListener(te.events.roomTimeline.READY,u),l.setFrom(0)}},[t,e]),o}function bce(t,e,n,r,o){const[i,a]=X.exports.useState(null);X.exports.useEffect(()=>{const u=(d,s)=>{const g=o.current;if(s!==0){if(!e.getItem()){const c=t.getReadUpToEventId();e.setItem(t.findEventByIdInTimelineSet(c))}g.paginate(d,lh,t.timeline.length),setTimeout(()=>a({backwards:d,loaded:s}))}};return t.on(te.events.roomTimeline.PAGINATED,u),()=>{t.removeListener(te.events.roomTimeline.PAGINATED,u)}},[t]);const l=X.exports.useCallback(async()=>{const u=r.current,d=o.current;if(t.isOngoingPagination)return;const s=t.timeline.length;if(u.bottom<Fb){if(d.length<s)d.paginate(!1,lh,s),n();else if(t.canPaginateForward()){await t.paginateTimeline(!1,lh);return}}u.top<Fb&&(d.from>0?(d.paginate(!0,lh,s),n()):t.canPaginateBackward()&&await t.paginateTimeline(!0,lh))},[t]);return[i,l]}function Ece(t,e,n,r,o,i){const a=X.exports.useCallback(()=>{const u=o.current,d=i.current;requestAnimationFrame(()=>{const s=u.bottom<16&&!t.canPaginateForward()&&d.length>=t.timeline.length;t.emit(te.events.roomTimeline.AT_BOTTOM,s),s&&n.getItem()&&requestAnimationFrame(()=>ci(t.roomId))}),e()},[t]),l=X.exports.useCallback(()=>{const u=o.current,d=i.current;if(n.getItem()&&requestAnimationFrame(()=>ci(t.roomId)),t.isServingLiveTimeline()){d.setFrom(t.timeline.length-d.maxEvents),u.scrollToBottom(),r();return}t.loadLiveTimeline()},[t]);return[a,l]}function wce(t,e,n,r){const o=Fe.matrixClient.getUserId(),[i,a]=X.exports.useState(null);return X.exports.useEffect(()=>{const l=n.current,u=r.current,d=c=>{if(o===c.getSender()){requestAnimationFrame(()=>ci(t.roomId));return}const h=e.getItem(),_=t.getReadUpToEventId();if((h?(h==null?void 0:h.getId())===_:!0)===!1){document.visibilityState==="visible"&&l.bottom<16?requestAnimationFrame(()=>ci(t.roomId)):e.setItem(t.findEventByIdInTimelineSet(_));return}const{timeline:m}=t;m[m.length-2].getId()===_&&requestAnimationFrame(()=>ci(t.roomId))},s=c=>{var p;const h=t.timeline.length,_=t.isServingLiveTimeline()&&u.length>=h-1,F=l.bottom<Fb;if(_&&F){u.setFrom(h-u.maxEvents),d(c),a(c);return}if(c.getType()==="m.reaction"||((p=c.getRelation())==null?void 0:p.rel_type)==="m.replace"){a(c);return}_&&a(c)},g=c=>a(c);return t.on(te.events.roomTimeline.EVENT,s),t.on(te.events.roomTimeline.EVENT_REDACTED,g),()=>{t.removeListener(te.events.roomTimeline.EVENT,s),t.removeListener(te.events.roomTimeline.EVENT_REDACTED,g)}},[t]),i}let Ss=-1;function uD({eventId:t,roomTimeline:e}){const[n]=X.exports.useState(new Vz),r=X.exports.useRef(null),o=X.exports.useRef(null),i=X.exports.useRef(null),[a,l]=X.exports.useState(null),u=()=>l(null),d=yn(e),[s,g]=jr(),c=yce(e,t,d,i),[h,_]=bce(e,d,g,o,i),[F,m]=Ece(e,_,d,g,o,i),p=wce(e,d,o,i),{timeline:f}=e;X.exports.useLayoutEffect(()=>{e.initialized||(o.current=new gce(r.current),i.current=new pce)}),X.exports.useEffect(()=>{var S;if(!e.initialized)return;const b=o.current;if(f.length>0){if(Ss===-1?b.scrollToBottom():b.scrollToIndex(Ss,80),b.bottom<16&&!e.canPaginateForward()){const x=e.getReadUpToEventId();(((S=d.getItem())==null?void 0:S.getId())===x||x===null)&&requestAnimationFrame(()=>ci(e.roomId))}Ss=-1}return _(),e.on(te.events.roomTimeline.SCROLL_TO_LIVE,m),()=>{r.current!==null&&e.removeListener(te.events.roomTimeline.SCROLL_TO_LIVE,m)}},[c]),X.exports.useEffect(()=>{if(!e.initialized)return;o.current.tryRestoringScroll(),_()},[h]),X.exports.useEffect(()=>{if(!e.initialized)return;o.current.tryRestoringScroll()},[s]),X.exports.useEffect(()=>{const b=o.current;e.initialized&&(b.bottom<16&&!e.canPaginateForward()&&document.visibilityState==="visible"?b.scrollToBottom():b.tryRestoringScroll())},[p]);const v=X.exports.useCallback(b=>{var G;if(b.ctrlKey||b.altKey||b.metaKey||b.key!=="ArrowUp"||je.isRawModalVisible||document.activeElement.id!=="message-textarea"||document.activeElement.value!=="")return;const{timeline:S,activeTimeline:x,liveTimeline:N,matrixClient:U}=e,q=i.current;if(x!==N||S.length>q.length)return;const P=["m.text"];for(let C=S.length-1;C>=0;C-=1){const I=S[C];if(I.getSender()===U.getUserId()&&I.getType()==="m.room.message"&&P.includes((G=I.getContent())==null?void 0:G.msgtype)){l(I.getId());return}}},[e]);X.exports.useEffect(()=>(document.body.addEventListener("keydown",v),()=>{document.body.removeEventListener("keydown",v)}),[v]);const y=b=>{const S=o.current;b.target&&n._(()=>{const x=S==null?void 0:S.calcScroll();typeof x=="boolean"&&F(x)},200)()},w=()=>{const b=[],S=i.current;let x=0;Ss=-1;const N=d.getItem();let U=!1;(e.canPaginateBackward()||S.from>0)&&(b.push($2(1,v0)),x+=v0);for(let q=S.from;q<S.length&&!(q>=f.length);q+=1){const P=f[q],G=f[q-1]??null;if(q===0&&!e.canPaginateBackward())if(P.getType()==="m.room.create"){b.push(E(KT,{event:P,timeline:e},P.getId())),x+=1;continue}else b.push(E(KT,{event:null,timeline:e},"room-intro")),x+=1;let C=!1;U||(U=N&&(G==null?void 0:G.getTs())<=N.getTs()&&N.getTs()<P.getTs(),U&&(C=!0,b.push(E(zp,{variant:"positive",text:"New messages"},`new-${P.getId()}`)),x+=1,Ss===-1&&(Ss=x))),G&&!ly(P.getDate(),G.getDate())&&(b.push(E(zp,{text:`${Vf(P.getDate(),"mmmm dd, yyyy")}`},`divider-${P.getId()}`)),x+=1);const A=c.focusEventId===P.getId();A&&(Ss=x),b.push(vce(e,P,C?null:G,A,a===P.getId(),l,u)),x+=1}return(e.canPaginateForward()||S.length<f.length)&&b.push($2(2,v0)),b};return E(Kt,{onScroll:y,ref:r,autoHide:!0,children:E("div",{className:"room-view__content",onClick:_ce,children:E("div",{className:"timeline__wrapper",children:e.initialized?w():$2("loading",3)})})})}uD.defaultProps={eventId:null};uD.propTypes={eventId:J.exports.string,roomTimeline:J.exports.shape({}).isRequired};const Dce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20fill='%23010101'%20d='M19%2c6v11.6l-2.4-1.3L16.1%2c16h-0.5H5V6H19%20M19.2%2c4H4.8C3.8%2c4%2c3%2c4.9%2c3%2c6v10c0%2c1.1%2c0.8%2c2%2c1.8%2c2h10.8l5.4%2c3V6%20C21%2c4.9%2c20.2%2c4%2c19.2%2c4L19.2%2c4z'/%3e%20%3crect%20x='7'%20y='8'%20fill='%23010101'%20width='10'%20height='2'/%3e%20%3crect%20x='7'%20y='12'%20fill='%23010101'%20width='10'%20height='2'/%3e%20%3c/g%3e%20%3c/svg%3e",kce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3crect%20x='7'%20y='12'%20fill='%23010101'%20width='10'%20height='2'/%3e%20%3cg%3e%20%3ccircle%20fill='%23010101'%20cx='19'%20cy='6'%20r='4'/%3e%20%3c/g%3e%20%3cpath%20fill='%23010101'%20d='M13.3%2c8H7v2h7.5C14%2c9.4%2c13.6%2c8.7%2c13.3%2c8z'/%3e%20%3cpath%20fill='%23010101'%20d='M19%2c12v5.6l-2.4-1.3L16.1%2c16h-0.5H5V6h8c0-0.7%2c0.1-1.4%2c0.3-2H4.8C3.8%2c4%2c3%2c4.9%2c3%2c6v10c0%2c1.1%2c0.8%2c2%2c1.8%2c2%20h10.8l5.4%2c3v-9.3C20.4%2c11.9%2c19.7%2c12%2c19%2c12z'/%3e%20%3c/g%3e%20%3c/svg%3e";function Sce(t){const[e,n]=X.exports.useState(null),r=()=>{t.loadEventTimeline(e)},o=()=>{ci(t.roomId),n(null)};return X.exports.useEffect(()=>{const i=t.getReadUpToEventId();!(i!=null&&i.startsWith("~"))&&!t.hasEventInTimeline(i)&&n(i);const{notifications:a}=Fe,l=()=>n(null);return a.on(te.events.notifications.FULL_READ,l),()=>{a.removeListener(te.events.notifications.FULL_READ,l),n(null)}},[t]),[!!e,r,o]}function xce(t){const[e,n]=X.exports.useState(new Set),r=o=>{const i=Fe.matrixClient;o.delete(i.getUserId()),n(o)};return X.exports.useEffect(()=>(n(new Set),t.on(te.events.roomTimeline.TYPING_MEMBERS_UPDATED,r),()=>{t==null||t.removeListener(te.events.roomTimeline.TYPING_MEMBERS_UPDATED,r)}),[t]),[e]}function Cce(t){const[e,n]=X.exports.useState(!0),r=o=>n(o);return X.exports.useEffect(()=>(n(!0),t.on(te.events.roomTimeline.AT_BOTTOM,r),()=>t.removeListener(te.events.roomTimeline.AT_BOTTOM,r)),[t]),[e,n]}function dP({roomId:t,roomTimeline:e}){const[n,r,o]=Sce(e),[i]=xce(e),[a,l]=Cce(e),u=()=>{e.emit(te.events.roomTimeline.SCROLL_TO_LIVE),l(!0)};return re(Qe,{children:[re("div",{className:`room-view__unread ${n?"room-view__unread--open":""}`,children:[E(Me,{iconSrc:kce,onClick:r,variant:"primary",children:E(ue,{variant:"b3",weight:"medium",children:"Jump to unread messages"})}),E(Me,{iconSrc:xg,onClick:o,variant:"primary",children:E(ue,{variant:"b3",weight:"bold",children:"Mark as read"})})]}),re("div",{className:`room-view__typing${i.size>0?" room-view__typing--open":""}`,children:[E("div",{className:"bouncing-loader",children:E("div",{})}),E(ue,{variant:"b2",children:cP(t,[...i],"typing...")})]}),E("div",{className:`room-view__STB${a?"":" room-view__STB--open"}`,children:E(Me,{iconSrc:Dce,onClick:u,children:E(ue,{variant:"b3",weight:"medium",children:"Jump to latest"})})})]})}dP.propTypes={roomId:J.exports.string.isRequired,roomTimeline:J.exports.shape({}).isRequired};var Hf={exports:{}};(()=>{var t={d:(_,F)=>{for(var m in F)t.o(F,m)&&!t.o(_,m)&&Object.defineProperty(_,m,{enumerable:!0,get:F[m]})},o:(_,F)=>Object.prototype.hasOwnProperty.call(_,F),r:_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})}},e={};function n(_){for(var F=[],m=0,p=0;p<_.length;p++){var f=_.charCodeAt(p);128>f?F[m++]=f:(2048>f?F[m++]=f>>6|192:((64512&f)==55296&&p+1<_.length&&(64512&_.charCodeAt(p+1))==56320?(f=65536+((1023&f)<<10)+(1023&_.charCodeAt(++p)),F[m++]=f>>18|240,F[m++]=f>>12&63|128):F[m++]=f>>12|224,F[m++]=f>>6&63|128),F[m++]=63&f|128)}var v=0;for(m=0;m<F.length;m++)v+=F[m],v=r(v,"+-a^+6");return v=r(v,"+-3^+b+-f"),0>(v^=0)&&(v=2147483648+(2147483647&v)),(v%=1e6).toString()+"."+v.toString()}t.r(e),t.d(e,{default:()=>h,generateRequestUrl:()=>a,isSupported:()=>u,normaliseResponse:()=>d,setCORS:()=>g,translate:()=>c});var r=function(_,F){for(var m=0;m<F.length-2;m+=3){var p=F.charAt(m+2);p="a"<=p?p.charCodeAt(0)-87:Number(p),p=F.charAt(m+1)=="+"?_>>>p:_<<p,_=F.charAt(m)=="+"?_+p:_^p}return _},o=function(){return o=Object.assign||function(_){for(var F,m=1,p=arguments.length;m<p;m++)for(var f in F=arguments[m])Object.prototype.hasOwnProperty.call(F,f)&&(_[f]=F[f]);return _},o.apply(this,arguments)},i={client:"gtx",from:"auto",to:"en",hl:"en",tld:"com"};function a(_,F){var m=o(o({},i),F),p={client:m.client,sl:m.from,tl:m.to,hl:m.hl,ie:"UTF-8",oe:"UTF-8",otf:"1",ssel:"0",tsel:"0",kc:"7",q:_,tk:n(_)},f=new URLSearchParams(p);return["at","bd","ex","ld","md","qca","rw","rm","ss","t"].forEach(function(v){return f.append("dt",v)}),"https://translate.google.".concat(m.tld,"/translate_a/single?").concat(f)}var l={auto:"Automatic",af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa",zh:"Chinese Simplified","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",rw:"Kinyarwanda",ko:"Korean",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",or:"Odia (Oriya)",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"},u=function(_){return Boolean(l[_])};function d(_,F){F===void 0&&(F=!1);var m={text:"",pronunciation:"",from:{language:{didYouMean:!1,iso:""},text:{autoCorrected:!1,value:"",didYouMean:!1}}};if(_[0].forEach(function(f){f[0]?m.text+=f[0]:f[2]&&(m.pronunciation+=f[2])}),_[2]===_[8][0][0]?m.from.language.iso=_[2]:(m.from.language.didYouMean=!0,m.from.language.iso=_[8][0][0]),_[7]&&_[7][0]){var p=_[7][0];p=(p=p.replace(/<b><i>/g,"[")).replace(/<\/i><\/b>/g,"]"),m.from.text.value=p,_[7][5]===!0?m.from.text.autoCorrected=!0:m.from.text.didYouMean=!0}return F&&(m.raw=_),m}var s="",g=function(_){return s=_,c};function c(_,F){return F===void 0&&(F={}),m=this,p=void 0,v=function(){var y,w;return function(b,S){var x,N,U,q,P={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return q={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function G(C){return function(I){return function(M){if(x)throw new TypeError("Generator is already executing.");for(;P;)try{if(x=1,N&&(U=2&M[0]?N.return:M[0]?N.throw||((U=N.return)&&U.call(N),0):N.next)&&!(U=U.call(N,M[1])).done)return U;switch(N=0,U&&(M=[2&M[0],U.value]),M[0]){case 0:case 1:U=M;break;case 4:return P.label++,{value:M[1],done:!1};case 5:P.label++,N=M[1],M=[0];continue;case 7:M=P.ops.pop(),P.trys.pop();continue;default:if(!((U=(U=P.trys).length>0&&U[U.length-1])||M[0]!==6&&M[0]!==2)){P=0;continue}if(M[0]===3&&(!U||M[1]>U[0]&&M[1]<U[3])){P.label=M[1];break}if(M[0]===6&&P.label<U[1]){P.label=U[1],U=M;break}if(U&&P.label<U[2]){P.label=U[2],P.ops.push(M);break}U[2]&&P.ops.pop(),P.trys.pop();continue}M=S.call(b,P)}catch(A){M=[6,A],N=0}finally{x=U=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}([C,I])}}}(this,function(b){switch(b.label){case 0:return y=a(_,F),[4,fetch("".concat(s).concat(y))];case 1:if(!(w=b.sent()).ok)throw new Error("Request failed");return[4,w.json()];case 2:return[2,d(b.sent(),F.raw)]}})},new((f=void 0)||(f=Promise))(function(y,w){function b(N){try{x(v.next(N))}catch(U){w(U)}}function S(N){try{x(v.throw(N))}catch(U){w(U)}}function x(N){var U;N.done?y(N.value):(U=N.value,U instanceof f?U:new f(function(q){q(U)})).then(b,S)}x((v=v.apply(m,p||[])).next())});var m,p,f,v}const h=c;Hf.exports=e})();function hP({roomId:t,onSelect:e}){const n=Fe.matrixClient,r=n.getRoom(t),o=X.exports.useRef(null),a=[...Fe.roomList.getAllParentSpaces(r.roomId)].map(h=>n.getRoom(h)),l=$m(n,[r,...a]).filter(h=>h.getStickers().length!==0);function u(h){return h.classList.contains("sticker-board__sticker")===!1}function d(h){const _=h.getAttribute("data-mx-sticker"),F=h.getAttribute("title"),m=h.getAttribute("src");return{mxc:_,body:F,httpUrl:m}}const s=h=>{if(u(h.target))return;const _=d(h.target);e(_)},g=h=>{o.current.firstElementChild.children[h].scrollIntoView()},c=h=>re("div",{className:"sticker-board__pack",children:[E(ue,{className:"sticker-board__pack-header",variant:"b2",weight:"bold",children:h.displayName??"Unknown"}),E("div",{className:"sticker-board__pack-items",children:h.getStickers().map(_=>E("img",{className:"sticker-board__sticker",src:n.mxcUrlToHttp(_.mxc),alt:_.shortcode,title:_.body??_.shortcode,"data-mx-sticker":_.mxc,loading:"lazy"},_.shortcode))})]},h.id);return re("div",{className:"sticker-board",children:[l.length>0&&E(Kt,{invisible:!0,children:E("div",{className:"sticker-board__sidebar",children:l.map((h,_)=>{const F=n.mxcUrlToHttp(h.avatarUrl??h.getStickers()[0].mxc);return E(Ye,{onClick:()=>g(_),src:F,tooltip:h.displayName||"Unknown",tooltipPlacement:"left",isImage:!0},h.id)})})}),E("div",{className:"sticker-board__container",children:E(Kt,{autoHide:!0,ref:o,children:E("div",{onClick:s,className:"sticker-board__content",children:l.length>0?l.map(c):E("div",{className:"sticker-board__empty",children:E(ue,{children:"There is no sticker pack."})})})})}),E("div",{})]})}hP.propTypes={roomId:J.exports.string.isRequired,onSelect:J.exports.func.isRequired};const Tce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M4%2c5.2L17.5%2c12L4%2c18.8v-4.3l1.6-0.5l5.7-1.9l-5.7-1.9L4%2c9.6V5.2%20M2%2c2v11v-2l3%2c1l-3%2c1v9l20-10L2%2c2L2%2c2z'/%3e%20%3c/svg%3e",Ice="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%20%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16%203L21%208V19C21%2020.1046%2020.1046%2021%2019%2021H5C3.89543%2021%203%2020.1046%203%2019V5C3%203.89543%203.89543%203%205%203H16ZM19%209H17C15.8954%209%2015%208.10457%2015%207V5H5V19H19V9Z'%20fill='black'/%3e%20%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%2012C9%2013.6569%2010.3431%2015%2012%2015C13.6569%2015%2015%2013.6569%2015%2012H17C17%2014.7614%2014.7614%2017%2012%2017C9.23858%2017%207%2014.7614%207%2012H9Z'%20fill='black'/%3e%20%3c/svg%3e",Rce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M12%2c2L3%2c6v7c0%2c5%2c4%2c9%2c9%2c9c5%2c0%2c9-4%2c9-9V6L12%2c2z%20M19%2c13c0%2c3.9-3.1%2c7-7%2c7s-7-3.1-7-7V7.3l7-3.1l7%2c3.1V13z'/%3e%20%3cpath%20d='M10%2c11c0%2c0.7%2c0.4%2c1.4%2c1%2c1.7V16h2v-3.3c0.6-0.3%2c1-1%2c1-1.7c0-1.1-0.9-2-2-2S10%2c9.9%2c10%2c11z'/%3e%20%3c/g%3e%20%3c/svg%3e",Ace="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M19.4%2c20L14%2c2h-4L4.6%2c20H2v2h2h16h2v-2H19.4z%20M15.8%2c15H8.2l0.9-3h5.8L15.8%2c15z%20M11.5%2c4h1l1.8%2c6H9.7L11.5%2c4z%20M6.7%2c20l0.9-3%20h8.8l0.9%2c3H6.7z'/%3e%20%3c/svg%3e",Oce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M9%2c7.8v8.3L6.8%2c14H4v-4h2.8L9%2c7.8%20M11%2c3L6%2c8H4c-1.1%2c0-2%2c0.9-2%2c2v4c0%2c1.1%2c0.9%2c2%2c2%2c2h2l5%2c5V3L11%2c3z'/%3e%20%3cpath%20d='M13%2c3v2c3.9%2c0%2c7%2c3.1%2c7%2c7s-3.1%2c7-7%2c7v2c5%2c0%2c9-4%2c9-9S18%2c3%2c13%2c3z'/%3e%20%3cg%3e%20%3cpath%20d='M13%2c17v-2c1.7%2c0%2c3-1.3%2c3-3s-1.3-3-3-3V7c2.8%2c0%2c5%2c2.2%2c5%2c5S15.8%2c17%2c13%2c17z'/%3e%20%3c/g%3e%20%3c/g%3e%20%3c/svg%3e",Bce="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M13.8%2c2H6C4.9%2c2%2c4%2c2.9%2c4%2c4v16c0%2c1.1%2c0.9%2c2%2c2%2c2h12c1.1%2c0%2c2-0.9%2c2-2V8.2L13.8%2c2z%20M18%2c20H6V4h7v3c0%2c1.1%2c0.9%2c2%2c2%2c2h3V20z'/%3e%20%3c/svg%3e";const kh=/^@\S+:\S+$/,Pce=/^(#|!)\S+:\S+$/,Mce=/^!\S+:\S+$/,Nce=/^mxc:\/\/\S+$/;function W1(t){let e,n=t;const r=t.match(/\s-r\s/);return r&&(n=t.slice(0,r.index),e=t.slice(r.index+r[0].length),e.trim()===""&&(e=void 0)),{userIds:n.split(" ").filter(a=>a.match(kh)),reason:e}}function Lce(t){const e=[255,0,0],n=[0,255,0],r=[0,0,255],o=t.length-1,i=Math.round(o/2),a=o-i,l=[(n[0]-e[0])/i,(n[1]-e[1])/i,(n[2]-e[2])/i],u=[(r[0]-n[0])/a,(r[1]-n[1])/a,(r[2]-n[2])/a];let d="";const s=e.slice();for(let g=0;g<t.length;g++){const h=`<font color="${`#${s.map(_=>{const F=Math.round(_).toString(16);return F.length===1?`0${F}`:F}).join("")}`}">${t[g]}</font>`;d+=h,g<i?(s[0]+=l[0],s[1]+=l[1],s[2]+=l[2]):(s[0]+=u[0],s[1]+=u[1],s[2]+=u[2])}return d}const La={me:{name:"me",description:"Display action",exe:(t,e,n)=>{const r=e.trim();r!==""&&n(r,{msgType:"m.emote"})}},shrug:{name:"shrug",description:"Send \\_()_/ as message",exe:(t,e,n)=>n(`\\_()_/${e.trim()!==""?` ${e}`:""}`,{msgType:"m.text"})},plain:{name:"plain",description:"Send plain text message",exe:(t,e,n)=>{const r=e.trim();r!==""&&n(r,{msgType:"m.text",autoMarkdown:!1})}},help:{name:"help",description:"View all commands",exe:()=>Uce()},startdm:{name:"startdm",description:"Start direct message with user. Example: /startdm userId1",exe:async(t,e)=>{const n=Fe.matrixClient,o=e.split(" ").filter(u=>u.match(kh)&&u!==n.getUserId());if(o.length===0)return;if(o.length===1){const u=PE(o[0]);if(u){An(u);return}}const a=(await Promise.all(o.map(NE))).every(u=>u),l=await fw(o,a);An(l.room_id)}},join:{name:"join",description:"Join room with address. Example: /join address1 address2",exe:(t,e)=>{e.split(" ").filter(o=>o.match(Pce)).map(o=>Uc(o))}},leave:{name:"leave",description:"Leave current room.",exe:(t,e)=>{if(e.trim()===""){ll(t);return}e.split(" ").filter(o=>o.match(Mce)).map(o=>ll(o))}},invite:{name:"invite",description:"Invite user to room. Example: /invite userId1 userId2 [-r reason]",exe:(t,e)=>{const{userIds:n,reason:r}=W1(e);n.map(o=>gw(t,o,r))}},disinvite:{name:"disinvite",description:"Disinvite user to room. Example: /disinvite userId1 userId2 [-r reason]",exe:(t,e)=>{const{userIds:n,reason:r}=W1(e);n.map(o=>Bp(t,o,r))}},kick:{name:"kick",description:"Kick user from room. Example: /kick userId1 userId2 [-r reason]",exe:(t,e)=>{const{userIds:n,reason:r}=W1(e);n.map(o=>Bp(t,o,r))}},ban:{name:"ban",description:"Ban user from room. Example: /ban userId1 userId2 [-r reason]",exe:(t,e)=>{const{userIds:n,reason:r}=W1(e);n.map(o=>$B(t,o,r))}},unban:{name:"unban",description:"Unban user from room. Example: /unban userId1 userId2",exe:(t,e)=>{e.split(" ").filter(o=>o.match(kh)).map(o=>qB(t,o))}},ignore:{name:"ignore",description:"Ignore user. Example: /ignore userId1 userId2",exe:(t,e)=>{const r=e.split(" ").filter(o=>o.match(kh));r.length>0&&pw(r)}},unignore:{name:"unignore",description:"Unignore user. Example: /unignore userId1 userId2",exe:(t,e)=>{const r=e.split(" ").filter(o=>o.match(kh));r.length>0&&mw(r)}},myroomnick:{name:"myroomnick",description:"Change nick in current room.",exe:(t,e)=>{const n=e.trim();n!==""&&Tie(t,n)}},myroomavatar:{name:"myroomavatar",description:"Change profile picture in current room. Example /myroomavatar mxc://xyzabc",exe:(t,e)=>{e.match(Nce)&&Iie(t,e)}},converttodm:{name:"converttodm",description:"Convert room to direct message",exe:t=>{Sie(t)}},converttoroom:{name:"converttoroom",description:"Convert direct message to room",exe:t=>{xie(t)}},rainbow:{name:"rainbow",description:"Rainbow text",exe:(t,e,n)=>n(e,{msgtype:"m.text",format:"org.matrix.custom.html",formatted_body:Lce(e)})}};function Uce(){Dr(E(ue,{variant:"s1",weight:"medium",children:"Commands"}),()=>E("div",{className:"commands-dialog",children:Object.keys(La).map(t=>E(Et,{title:t,content:E(ue,{variant:"b3",children:La[t].description})},t))}))}const HT=/(^\/|:|@)(\S*)$/;let uh=!1,ou=!1,q2=null;function fP({roomId:t,roomTimeline:e,viewEvent:n}){const[r,o]=X.exports.useState(null),[i,a]=X.exports.useState(null),l=X.exports.useRef(null),u=X.exports.useRef(null),d=X.exports.useRef(null),s=X.exports.useRef(null),g=X.exports.useRef(null),c=5e3,h=Fe.matrixClient,{roomsInput:_}=Fe;function F(){l!==null&&l.current.focus()}X.exports.useEffect(()=>(_.on(te.events.roomsInput.ATTACHMENT_SET,o),n.on("focus_msg_input",F),()=>{_.removeListener(te.events.roomsInput.ATTACHMENT_SET,o),n.removeListener("focus_msg_input",F)}),[]);const m=ke=>{h.sendTyping(t,ke,ke?c:void 0),uh=ke,ke===!0&&setTimeout(()=>{uh&&m(!1)},c)};function p(ke,{loaded:W,total:z}){if(ke!==t)return;const oe=Math.round(W*100/z);s.current.textContent=`Uploading: ${l2(W)}/${l2(z)} (${oe}%)`,u.current.style.backgroundImage=`linear-gradient(90deg, var(--bg-surface-hover) ${oe}%, var(--bg-surface-low) ${oe}%)`}function f(ke){t===ke&&(o(null),u.current.style.backgroundImage="unset",d.current.value=null)}function v(ke){const W=g.current.children;for(let z=0;z<W.length;z+=1)W[z].tabIndex=ke?0:-1}function y(ke){ou=!0,v(!1),n.emit("cmd_activate",ke)}function w(){ou=!1,q2=null,v(!0)}function b(){w(),n.emit("cmd_deactivate")}function S(ke){setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(ke,ke)},0)}function x(ke,W,z){if(ke===null)return null;const ce=ke.slice(0,W).match(HT),_e=ke.slice(0,ce.index);return z.length>0&&S(_e.length+z.length),_e+z+ke.slice(W)}function N(ke){const W=l.current.value;l.current.value=x(W,q2,typeof(ke==null?void 0:ke.replace)<"u"?ke.replace:""),w()}function U(){at.isTouchScreenDevice||l.current.focus()}function q(ke,W,z,oe){a({userId:ke,eventId:W,body:z}),_.setReplyTo(t,{userId:ke,eventId:W,body:z,formattedBody:oe}),U()}X.exports.useEffect(()=>(_.on(te.events.roomsInput.UPLOAD_PROGRESS_CHANGES,p),_.on(te.events.roomsInput.ATTACHMENT_CANCELED,f),_.on(te.events.roomsInput.FILE_UPLOADED,f),n.on("cmd_fired",N),je.on(te.events.navigation.REPLY_TO_CLICKED,q),(l==null?void 0:l.current)!==null&&(uh=!1,l.current.value=_.getMessage(t),o(_.getAttachment(t)),a(_.getReplyTo(t))),()=>{if(_.removeListener(te.events.roomsInput.UPLOAD_PROGRESS_CHANGES,p),_.removeListener(te.events.roomsInput.ATTACHMENT_CANCELED,f),_.removeListener(te.events.roomsInput.FILE_UPLOADED,f),n.removeListener("cmd_fired",N),je.removeListener(te.events.navigation.REPLY_TO_CLICKED,q),ou&&w(),(l==null?void 0:l.current)===null)return;const ke=l.current.value;if(l.current.style.height="unset",u.current.style.backgroundImage="unset",ke.trim()===""){_.setMessage(t,"");return}_.setMessage(t,ke)}),[t]);const P=async(ke,W)=>{console.log(W);const z=W??{};z.msgType||(z.msgType="m.text"),typeof z.autoMarkdown!="boolean"&&(z.autoMarkdown=!0),!_.isSending(t)&&(m(!1),_.setMessage(t,ke),r!==null&&_.setAttachment(t,r),l.current.disabled=!0,l.current.style.cursor="not-allowed",await _.sendInput(t,z),l.current.disabled=!1,l.current.style.cursor="unset",U(),l.current.value=_.getMessage(t),l.current.style.height="unset",i!==null&&a(null))},G=ke=>{const W=ke.indexOf(" "),z=ke.slice(1,W>-1?W:void 0),oe=W>-1?ke.slice(W+1):"";if(!La[z]){or("Invalid Command",`"${z}" is not a valid command.`,"Alright");return}if(["me","shrug","plain","rainbow"].includes(z)){La[z].exe(t,oe,P);return}La[z].exe(t,oe)};async function C(ke){const W=await fetch(`${ke}`);if(!W.ok)throw new Error("Request failed");const z=await W.json();if(at.getTranslationAPIIndex()===1){let oe="";for(let ce=0;ce<z.translations.length;ce+=1)oe+=z.translations[ce].text;return oe===void 0&&(oe=z.message),oe}return Hf.exports.normaliseResponse(z,at.getTranslationSelfLanguage())}async function I(ke){const W=ke.replace(/> <.*> .*\n/gms,"").trim();let z=Hf.exports.generateRequestUrl(W,{to:at.getTranslationSelfLanguage()}).replace("https://translate.google.com/","https://panel.icarus.today/");return at.getTranslationAPIIndex()===1&&(z=`https://rwwhwqaduuvdbswpmq6p.icarus.today/&text=${W}&target_lang=${at.getTranslationSelfLanguage()}`),C(z)}const M=async()=>{requestAnimationFrame(()=>b());const ke=l.current.value.trim();if(ke.startsWith("/")){G(ke.trim()),l.current.value="",l.current.style.height="unset";return}if(!(ke===""&&r===null)){if(ke.length>0&&at.enableSelfTranslate){document.getElementById("message-textarea").disabled=!0,I(ke).then(W=>{let z="";at.getTranslationAPIIndex()===0?z=W.text:z=W,z+=` (Translated to: ${at.getTranslationSelfLanguage()})`,z+=`
Original Text: 
\`${ke}\``,P(z),document.getElementById("message-textarea").disabled=!1});return}P(ke)}},A=async ke=>{_.sendSticker(t,ke)};function $(ke){const W=ke==="";if(W&&uh){m(!1);return}!W&&!uh&&m(!0)}function Y(){return l.current.selectionStart}function T(ke){const W=Y(),z=ke.slice(0,W),oe=z.match(HT);if(oe===null){ou&&b();return}const ce=oe[1],_e=oe[2];if(ce===":"&&z.slice(0,oe.index).match(/(http|https|mailto|matrix|ircs|irc)$/)){b();return}if(q2=W,_e===""){y(ce);return}ou||y(ce),n.emit("cmd_process",ce,_e)}const D=ke=>{const W=ke.target.value;T(ke.target.value),ou||$(W)},R=ke=>{ke.key==="Escape"&&(ke.preventDefault(),_.cancelReplyTo(t),a(null)),ke.key==="Enter"&&ke.shiftKey===!1&&(ke.preventDefault(),M())},B=ke=>{if(ke.clipboardData!==!1&&ke.clipboardData.items!==void 0)for(let W=0;W<ke.clipboardData.items.length;W+=1){const z=ke.clipboardData.items[W];if(z.type.indexOf("image")!==-1){const oe=z.getAsFile();if(r===null){if(o(oe),oe!==null){_.setAttachment(t,oe);return}}else return}}};function H(ke){l.current.value+=ke.unicode,l.current.focus()}const Q=()=>{r===null?d.current.click():_.cancelAttachment(t)};function L(ke){const W=ke.target.files.item(0);o(W),W!==null&&_.setAttachment(t,W)}function le(){var z;const ke=e.room.currentState.maySendMessage(h.getUserId()),W=e.room.currentState.getStateEvents("m.room.tombstone")[0];return!ke||W?E(ue,{className:"room-input__alert",children:W?((z=W.getContent())==null?void 0:z.body)??"This room has been replaced and is no longer active.":"You do not have permission to post to this room"}):re(Qe,{children:[re("div",{className:`room-input__option-container${r===null?"":" room-attachment__option"}`,children:[E("input",{onChange:L,style:{display:"none"},ref:d,type:"file"}),E(Ye,{onClick:Q,tooltip:r===null?"Upload":"Cancel",src:Sw})]}),re("div",{ref:u,className:"room-input__input-container",children:[e.isEncrypted()&&E(It,{size:"extra-small",src:Rce}),E(Kt,{autoHide:!0,children:E(ue,{className:"room-input__textarea-wrapper",children:E(q5,{dir:"auto",id:"message-textarea",ref:l,onChange:D,onPaste:B,onKeyDown:R,placeholder:"Send a message..."})})})]}),re("div",{ref:g,className:"room-input__option-container",children:[E(Ye,{onClick:oe=>{rr("top",(()=>{const ce=Rn(oe);return ce.y-=20,ce})(),ce=>E(hP,{roomId:t,onSelect:_e=>{A(_e),ce()}}))},tooltip:"Sticker",src:Ice}),E(Ye,{onClick:oe=>{const ce=Rn(oe);ce.x+=document.dir==="rtl"?-80:80,ce.y-=250,d5(ce,H)},tooltip:"Emoji",src:Bg}),E(Ye,{onClick:M,tooltip:"Send",src:Tce})]})]})}function he(){const ke=r.type.slice(0,r.type.indexOf("/"));return re("div",{className:"room-attachment",children:[re("div",{className:`room-attachment__preview${ke!=="image"?" room-attachment__icon":""}`,children:[ke==="image"&&E("img",{alt:r.name,src:URL.createObjectURL(r)}),ke==="video"&&E(It,{src:Ace}),ke==="audio"&&E(It,{src:Oce}),ke!=="image"&&ke!=="video"&&ke!=="audio"&&E(It,{src:Bce})]}),re("div",{className:"room-attachment__info",children:[E(ue,{variant:"b1",children:r.name}),E(ue,{variant:"b3",children:E("span",{ref:s,children:`size: ${l2(r.size)}`})})]})]})}function De(){return re("div",{className:"room-reply",children:[E(Ye,{onClick:()=>{_.cancelReplyTo(t),a(null)},src:Ht,tooltip:"Cancel reply",size:"extra-small"}),E(Qw,{userId:i.userId,onKeyDown:R,name:za(i.userId),color:ln(i.userId),body:i.body})]})}return re(Qe,{children:[i!==null&&De(),r!==null&&he(),E("form",{className:"room-input",onSubmit:ke=>{ke.preventDefault()},children:le()})]})}fP.propTypes={roomId:J.exports.string.isRequired,roomTimeline:J.exports.shape({}).isRequired,viewEvent:J.exports.shape({}).isRequired};function gP({roomTimeline:t}){const[e,n]=X.exports.useState([]),{roomId:r}=t,o=Fe.matrixClient,{roomsInput:i}=Fe,a=o.getUserId(),l=()=>n([]);X.exports.useEffect(()=>{const d=()=>{n(t.getLiveReaders())};return d(),t.on(te.events.roomTimeline.LIVE_RECEIPT,d),i.on(te.events.roomsInput.MESSAGE_SENT,l),()=>{t.removeListener(te.events.roomTimeline.LIVE_RECEIPT,d),i.removeListener(te.events.roomsInput.MESSAGE_SENT,l)}},[t]);const u=e.filter(d=>d!==a);return u.length!==0&&re("button",{className:"following-members",onClick:()=>h5(r,e),type:"button",children:[E(It,{size:"extra-small",src:xg}),E(ue,{variant:"b2",children:cP(r,u,"following the conversation.")})]})}gP.propTypes={roomTimeline:J.exports.shape({}).isRequired};const pP="io.element.recent_emoji";function mP(){var t;return((t=Fe.matrixClient.getAccountData(pP))==null?void 0:t.getContent().recent_emoji)??[]}function FP(t){const e=[];return mP().sort((n,r)=>r[1]-n[1]).find(([n])=>{const r=dg.find(o=>o.unicode===n);return r?e.push(r)>=t:!1}),e}function _P(t){const e=mP(),n=e.findIndex(([o])=>o===t);let r;n<0?r=[t,1]:([r]=e.splice(n,1),r[1]+=1),e.unshift(r),Fe.matrixClient.setAccountData(pP,{recent_emoji:e.slice(0,100)})}function y0({onClick:t,children:e}){return E("button",{className:"cmd-item",onClick:t,type:"button",children:e})}y0.propTypes={onClick:J.exports.func.isRequired,children:J.exports.node.isRequired};function jce({prefix:t,option:e,suggestions:n},r){var u;function o(d,s){const g=typeof e=="string"?`/${e}`:"/?";return s.map(c=>E(y0,{onClick:()=>{r({prefix:d,option:e,result:La[c]})},children:E(ue,{variant:"b2",children:`${c}${c.isOptions?g:""}`})},c))}function i(d,s){const g=Fe.matrixClient;function c(F){return hF(fF.parse(F.unicode,{attributes:()=>{var m;return{unicode:F.unicode,shortcodes:(m=F.shortcodes)==null?void 0:m.toString()}},base:Uf}))}function h(F){return E("img",{className:"emoji",src:g.mxcUrlToHttp(F.mxc),"data-mx-emoticon":"",alt:`:${F.shortcode}:`})}function _(F){return F.mxc?h(F):c(F)}return s.map(F=>re(y0,{onClick:()=>r({prefix:d,result:F}),children:[E(ue,{variant:"b1",children:_(F)}),E(ue,{variant:"b2",children:`:${F.shortcode}:`})]},F.shortcode))}function a(d,s){return s.map(g=>E(y0,{onClick:()=>{r({prefix:d,result:g})},children:E(ue,{variant:"b2",children:We(g.name)})},g.userId))}const l={"/":d=>o(t,d),":":d=>i(t,d),"@":d=>a(t,d)};return(u=l[t])==null?void 0:u.call(l,n)}const ga=new Lg;let iu,Y1;function vP({roomId:t,roomTimeline:e,viewEvent:n}){const[r,o]=X.exports.useState(null);function i(c){if(c.length===0){o({prefix:(r==null?void 0:r.prefix)||iu,error:"No suggestion found."}),n.emit("cmd_error");return}o({prefix:(r==null?void 0:r.prefix)||iu,suggestions:c,option:Y1})}function a(c,h){let _=h;Y1=void 0,iu=c,c==="/"&&([_,Y1]=h.split("/")),c===":"&&_.length<=3&&(_.match(/^[-]?(\))$/)?_="smile":_.match(/^[-]?(s|S)$/)?_="confused":_.match(/^[-]?(o|O|0)$/)?_="astonished":_.match(/^[-]?(\|)$/)?_="neutral_face":_.match(/^[-]?(d|D)$/)?_="grin":_.match(/^[-]?(\/)$/)?_="frown":_.match(/^[-]?(p|P)$/)?_="stuck_out_tongue":_.match(/^'[-]?(\()$/)?_="cry":_.match(/^[-]?(x|X)$/)?_="dizzy_face":_.match(/^[-]?(\()$/)?_="pleading_face":_.match(/^[-]?(\$)$/)?_="money":_.match(/^(<3)$/)?_="heart":_.match(/^(c|ca|cat)$/)&&(_="_cat")),ga.search(_)}function l(c){var F;iu=c,iu=void 0;const h=Fe.matrixClient,_={"/":()=>{ga.setup(Object.keys(La),{isContain:!0}),o({prefix:c,suggestions:Object.keys(La)})},":":()=>{const p=[...Fe.roomList.getAllParentSpaces(t)].map(y=>h.getRoom(y)),f=wW(h,[h.getRoom(t),...p]),v=FP(20);ga.setup(f,{keys:["shortcode"],isContain:!0,limit:20}),o({prefix:c,suggestions:v.length>0?v:f.slice(26,46)})},"@":()=>{const m=h.getRoom(t).getJoinedMembers().map(f=>({name:f.name,userId:f.userId.slice(1)}));ga.setup(m,{keys:["name","userId"],limit:20});const p=m.length>20?20:m.length;o({prefix:c,suggestions:m.slice(0,p)})}};(F=_[c])==null||F.call(_)}function u(){o(null),Y1=void 0,iu=void 0}function d(c){c.prefix==="/"&&n.emit("cmd_fired",{replace:`/${c.result.name}`}),c.prefix===":"&&(c.result.mxc||_P(c.result.unicode),n.emit("cmd_fired",{replace:c.result.mxc?`:${c.result.shortcode}: `:c.result.unicode})),c.prefix==="@"&&n.emit("cmd_fired",{replace:`@${c.result.userId}`}),u()}function s(c){const{activeElement:h}=document,_=document.activeElement.parentNode.lastElementChild;if(c.key==="Escape"){if(h.className!=="cmd-item")return;n.emit("focus_msg_input")}if(c.key==="Tab"){if(_.className!=="cmd-item"||_!==h||c.shiftKey)return;n.emit("focus_msg_input"),c.preventDefault()}}X.exports.useEffect(()=>(n.on("cmd_activate",l),n.on("cmd_deactivate",u),()=>{u(),n.removeListener("cmd_activate",l),n.removeListener("cmd_deactivate",u)}),[t]),X.exports.useEffect(()=>(r!==null&&document.body.addEventListener("keydown",s),n.on("cmd_process",a),ga.on(ga.RESULT_SENT,i),()=>{r!==null&&document.body.removeEventListener("keydown",s),n.removeListener("cmd_process",a),ga.removeListener(ga.RESULT_SENT,i)}),[r]);const g=typeof(r==null?void 0:r.error)=="string";return r===null||g?E("div",{className:"cmd-bar",children:E(gP,{roomTimeline:e})}):re("div",{className:"cmd-bar",children:[E("div",{className:"cmd-bar__info",children:E(ue,{variant:"b3",children:"TAB"})}),E("div",{className:"cmd-bar__content",children:E(Kt,{horizontal:!0,vertical:!1,invisible:!0,children:E("div",{className:"cmd-bar__content-suggestions",children:jce(r,d)})})})]})}vP.propTypes={roomId:J.exports.string.isRequired,roomTimeline:J.exports.shape({}).isRequired,viewEvent:J.exports.shape({}).isRequired};const yP="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpolygon%20points='11%2c7%2011%2c13%2014.5%2c16.5%2015.9%2c15.1%2013%2c12.2%2013%2c7%20'/%3e%20%3cpath%20d='M12%2c2C8.7%2c2%2c5.8%2c3.6%2c4%2c6V4H2.5v5h5V7.5H5.4C6.9%2c5.4%2c9.3%2c4%2c12%2c4c4.4%2c0%2c8%2c3.6%2c8%2c8s-3.6%2c8-8%2c8s-8-3.6-8-8H2%20c0%2c5.5%2c4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2z'/%3e%20%3c/g%3e%20%3cg%3e%20%3cpolygon%20points='49%2c44%2049%2c50%2053.2%2c54.2%2054.7%2c52.8%2051%2c49.2%2051%2c44%20'/%3e%20%3cpolygon%20points='45.5%2c47%2040.5%2c47%2040.5%2c42%2042%2c42%2042%2c45.5%2045.5%2c45.5%20'/%3e%20%3cpath%20d='M50%2c40c-4.1%2c0-7.6%2c2.5-9.2%2c6h2.2c1.4-2.4%2c4-4%2c6.9-4c4.4%2c0%2c8%2c3.6%2c8%2c8s-3.6%2c8-8%2c8s-8-3.6-8-8h-2c0%2c5.5%2c4.5%2c10%2c10%2c10%20s10-4.5%2c10-10S55.5%2c40%2c50%2c40z'/%3e%20%3c/g%3e%20%3c/svg%3e";function bP({roomId:t}){var g,c,h,_;const e=Fe.matrixClient,n=Fe.roomList.directs.has(t),r=e.getRoom(t),[o,i]=X.exports.useState(null);let a=null;n&&(a=r.getAvatarFallbackMember());const l=(h=(c=(g=r.currentState.getStateEvents("in.cinny.shared_timezone",a==null?void 0:a.userId))==null?void 0:g.event)==null?void 0:c.content)==null?void 0:h.user_timezone_event,u=r.findEventById(l);let d=null;const s=()=>{if(n){const F=d==null?void 0:d.user_timezone,m=new Date;try{const p=m.toLocaleTimeString([],{timeZone:F,hour:"2-digit",minute:"2-digit"});m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})!==p&&i(`${ts(a)}'s local time is: ${p}`)}catch{i(null)}}};return u&&(u.getClearContent()||u.attemptDecryption(e.crypto),d=u.getContent(),(_=u.getDecryptionPromise())==null||_.then(()=>{d=u.getContent(),s()})),X.exports.useEffect(()=>{s();const F=setInterval(()=>s(),2e4);return()=>{i(null),clearInterval(F)}},[r]),E("div",{children:o?re("div",{className:"room-view__banner",children:[E(It,{src:yP,size:"small"}),E(ue,{children:We(o)})]}):null})}bP.propTypes={roomId:J.exports.string.isRequired};const zT=new Gn.exports;function cD({roomTimeline:t,eventId:e}){const n=X.exports.useRef(null),{roomId:r}=t;return X.exports.useEffect(()=>{const o=i=>{const a=n.current;a.classList.toggle("room-view--dropped");const l=a.children[1];i?setTimeout(()=>{je.isRoomSettings&&(l.style.visibility="hidden")},200):l.style.visibility="visible"};return je.on(te.events.navigation.ROOM_SETTINGS_TOGGLED,o),()=>{je.removeListener(te.events.navigation.ROOM_SETTINGS_TOGGLED,o)}},[]),re("div",{className:"room-view",ref:n,children:[E(uP,{roomId:r}),E(bP,{roomId:r}),re("div",{className:"room-view__content-wrapper",children:[re("div",{className:"room-view__scrollable",children:[E(uD,{eventId:e,roomTimeline:t}),E(dP,{roomId:r,roomTimeline:t})]}),re("div",{className:"room-view__sticky",children:[E(fP,{roomId:r,roomTimeline:t,viewEvent:zT}),E(vP,{roomId:r,roomTimeline:t,viewEvent:zT})]})]})]})}cD.defaultProps={eventId:null};cD.propTypes={roomTimeline:J.exports.shape({}).isRequired,eventId:J.exports.string};function $ce(t){const e=Fe.matrixClient;return t.map(n=>({userId:n.userId,name:ts(n),username:n.userId.slice(1,n.userId.indexOf(":")),avatarSrc:n.getAvatarUrl(e.baseUrl,24,24,"crop"),peopleRole:rF(n.powerLevel),powerLevel:t.powerLevel}))}const au=new Lg;function EP({roomId:t}){const n=Fe.matrixClient,r=n.getRoom(t),o=r==null?void 0:r.canInvite(n.getUserId()),[i,a]=X.exports.useState(50),[l,u]=X.exports.useState("join"),[d,s]=X.exports.useState([]),[g,c]=X.exports.useState(null),h=X.exports.useRef(null),_=X.exports.useCallback(v=>r.getMembersWithMembership(v),[t,l]);function F(){a(i+50)}function m(v){c({data:v}),a(50)}function p(v){const y=v.target.value;y===""||y===void 0?(h.current.value="",h.current.focus(),c(null),a(50)):au.search(y)}X.exports.useEffect(()=>{au.setup(d,{keys:["name","username","userId"],limit:50})},[d]),X.exports.useEffect(()=>{let v=!1,y=!1;const w=b=>{v||b&&(b==null?void 0:b.getRoomId())!==t||s($ce(_(l).sort(j7).sort($7)))};return h.current.value="",w(),v=!0,r.loadMembersIfNeeded().then(()=>{v=!1,!y&&w()}),au.on(au.RESULT_SENT,m),n.on("RoomMember.membership",w),n.on("RoomMember.powerLevel",w),()=>{y=!0,s([]),c(null),a(50),au.removeListener(au.RESULT_SENT,m),n.removeListener("RoomMember.membership",w),n.removeListener("RoomMember.powerLevel",w)}},[t,l]),X.exports.useEffect(()=>{u("join")},[t]);const f=g!==null?g.data:d.slice(0,i);return re("div",{className:"people-drawer",children:[re(Hi,{children:[E(pi,{children:re(ue,{variant:"s1",primary:!0,children:["People",E(ue,{className:"people-drawer__member-count",variant:"b3",children:`${r.getJoinedMemberCount()} members`})]})}),E(Ye,{onClick:()=>vg(t),tooltip:"Invite",src:hc,disabled:!o})]}),re("div",{className:"people-drawer__content-wrapper",children:[E("div",{className:"people-drawer__scrollable",children:E(Kt,{autoHide:!0,children:re("div",{className:"people-drawer__content",children:[E(fc,{selected:(()=>({join:0,invite:1,ban:2})[l])(),segments:[{text:"Joined"},{text:"Invited"},{text:"Banned"}],onSelect:v=>{var w;const y=[()=>u("join"),()=>u("invite"),()=>u("ban")];(w=y[v])==null||w.call(y)}}),f.map(v=>E(Cl,{onClick:()=>yg(v.userId,t),avatarSrc:v.avatarSrc,name:v.name,color:ln(v.userId),peopleRole:v.peopleRole},v.userId)),((g==null?void 0:g.data.length)===0||d.length===0)&&E("div",{className:"people-drawer__noresult",children:E(ue,{variant:"b2",children:"No results found!"})}),E("div",{className:"people-drawer__load-more",children:f.length!==0&&d.length>i&&g===null&&E(Me,{onClick:F,children:"View more"})})]})})}),E("div",{className:"people-drawer__sticky",children:re("form",{onSubmit:v=>v.preventDefault(),className:"people-search",children:[E(It,{size:"small",src:zi}),E(dt,{forwardRef:h,type:"text",onChange:p,placeholder:"Search",required:!0}),g!==null&&E(Ye,{onClick:p,size:"small",src:Ht})]})})]})]})}EP.propTypes={roomId:J.exports.string.isRequired};function qce(){const[t,e]=X.exports.useState({roomTimeline:null,eventId:null}),[n,r]=X.exports.useState(at.isPeopleDrawer),o=Fe.matrixClient;X.exports.useEffect(()=>{const l=(u,d,s)=>{var g;(g=t.roomTimeline)==null||g.removeInternalListeners(),o.getRoom(u)?e({roomTimeline:new Sue(u),eventId:s??null}):e({roomTimeline:null,eventId:null})};return je.on(te.events.navigation.ROOM_SELECTED,l),()=>{je.removeListener(te.events.navigation.ROOM_SELECTED,l)}},[t]),X.exports.useEffect(()=>{const l=u=>r(u);return at.on(te.events.settings.PEOPLE_DRAWER_TOGGLED,l),()=>{at.removeListener(te.events.settings.PEOPLE_DRAWER_TOGGLED,l)}},[]);const{roomTimeline:i,eventId:a}=t;return i===null?(setTimeout(()=>l5()),E(xue,{})):re("div",{className:"room",children:[re("div",{className:"room__content",children:[E(lP,{roomId:i.roomId}),E(cD,{roomTimeline:i,eventId:a})]}),n&&E(EP,{roomId:i.roomId})]})}function Fc({avatarSrc:t,name:e,id:n,inviterName:r,memberCount:o,desc:i,options:a}){return re("div",{className:"room-tile",children:[E("div",{className:"room-tile__avatar",children:E(Jt,{imageSrc:t,bgColor:ln(n),text:e})}),re("div",{className:"room-tile__content",children:[E(ue,{variant:"s1",children:We(e)}),E(ue,{variant:"b3",children:r!==null?`Invited by ${r} to ${n}${o===null?"":`  ${o} members`}`:n+(o===null?"":`  ${o} members`)}),i!==null&&typeof i=="string"?E(ue,{className:"room-tile__content__desc",variant:"b2",children:We(i,void 0,!0)}):i]}),a!==null&&E("div",{className:"room-tile__options",children:a})]})}Fc.defaultProps={avatarSrc:null,inviterName:null,options:null,desc:null,memberCount:null};Fc.propTypes={avatarSrc:J.exports.string,name:J.exports.string.isRequired,id:J.exports.string.isRequired,inviterName:J.exports.string,memberCount:J.exports.oneOfType([J.exports.string,J.exports.number]),desc:J.exports.node,options:J.exports.node};function wP({isOpen:t,onRequestClose:e}){const[n,r]=X.exports.useState(new Set);function o(u,d){n.add(u),r(new Set(Array.from(n))),Uc(u,d)}function i(u,d){n.add(u),r(new Set(Array.from(n))),ll(u)}function a(u){n.has(u)&&n.delete(u),r(new Set(Array.from(n)));const d=Fe.roomList,s=d.inviteDirects.size+d.inviteRooms.size+d.inviteSpaces.size,g=Fe.matrixClient.getRoom(u);g===null||(g==null?void 0:g.getMyMembership())!=="join"||(g.isSpaceRoom()?fi(u):An(u),e()),s===0&&e()}X.exports.useEffect(()=>(Fe.roomList.on(te.events.roomList.INVITELIST_UPDATED,a),()=>{Fe.roomList.removeListener(te.events.roomList.INVITELIST_UPDATED,a)}),[n]);function l(u){var _,F,m,p;const d=Fe.matrixClient,s=d.getRoom(u);if(!s)return null;const g=s.name;let c=s.getCanonicalAlias();c||(c=s.roomId);const h=((p=(m=(F=(_=s.getMember(d.getUserId()))==null?void 0:_.events)==null?void 0:F.member)==null?void 0:m.getSender)==null?void 0:p.call(m))??"";return E(Fc,{name:g,avatarSrc:Fe.matrixClient.getRoom(u).getAvatarUrl(Fe.matrixClient.baseUrl,42,42,"crop"),id:c,inviterName:h,options:n.has(s.roomId)?E(yt,{size:"small"}):re("div",{className:"invite-btn__container",children:[E(Me,{onClick:()=>i(s.roomId),children:"Reject"}),E(Me,{onClick:()=>o(s.roomId),variant:"primary",children:"Accept"})]})},s.roomId)}return E(Ei,{isOpen:t,title:"Invites",contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:re("div",{className:"invites-content",children:[Fe.roomList.inviteDirects.size!==0&&E("div",{className:"invites-content__subheading",children:E(ue,{variant:"b3",weight:"bold",children:"Direct Messages"})}),Array.from(Fe.roomList.inviteDirects).map(u=>{const d=Fe.matrixClient.getRoom(u);if(d===null)return null;const s=d.name;return E(Fc,{name:s,id:d.getDMInviter()||u,options:n.has(d.roomId)?E(yt,{size:"small"}):re("div",{className:"invite-btn__container",children:[E(Me,{onClick:()=>i(d.roomId),children:"Reject"}),E(Me,{onClick:()=>o(d.roomId,!0),variant:"primary",children:"Accept"})]})},d.roomId)}),Fe.roomList.inviteSpaces.size!==0&&E("div",{className:"invites-content__subheading",children:E(ue,{variant:"b3",weight:"bold",children:"Spaces"})}),Array.from(Fe.roomList.inviteSpaces).map(l),Fe.roomList.inviteRooms.size!==0&&E("div",{className:"invites-content__subheading",children:E(ue,{variant:"b3",weight:"bold",children:"Rooms"})}),Array.from(Fe.roomList.inviteRooms).map(l)]})})}wP.propTypes={isOpen:J.exports.bool.isRequired,onRequestClose:J.exports.func.isRequired};const WT=20;function DP({alias:t,onRequestClose:e}){const[n,r]=X.exports.useState({isJoining:!1,error:null,roomId:null,tempRoomId:null});function o(a){n.tempRoomId!==null&&n.tempRoomId!==a||r({isJoining:!1,error:null,roomId:a,tempRoomId:null})}X.exports.useEffect(()=>(Fe.roomList.on(te.events.roomList.ROOM_JOINED,o),()=>{Fe.roomList.removeListener(te.events.roomList.ROOM_JOINED,o)}),[n]);async function i(){r({isJoining:!0,error:null,roomId:null,tempRoomId:null});try{const a=await Uc(t,!1);r({isJoining:!0,error:null,roomId:null,tempRoomId:a})}catch{r({isJoining:!1,error:`Unable to join ${t}. Either room is private or doesn't exist.`,roomId:null,tempRoomId:null})}}return re("div",{className:"try-join-with-alias",children:[n.roomId===null&&!n.isJoining&&n.error===null&&E(Me,{onClick:()=>i(),children:`Try joining ${t}`}),n.isJoining&&re(Qe,{children:[E(yt,{size:"small"}),E(ue,{children:`Joining ${t}...`})]}),n.roomId!==null&&E(Me,{onClick:()=>{e(),An(n.roomId)},children:"Open"}),n.error!==null&&E(ue,{variant:"b2",children:E("span",{style:{color:"var(--bg-danger)"},children:n.error})})]})}DP.propTypes={alias:J.exports.string.isRequired,onRequestClose:J.exports.func.isRequired};function dD({isOpen:t,searchTerm:e,onRequestClose:n}){const[r,o]=X.exports.useState(!1),[i,a]=X.exports.useState(!1),[l,u]=X.exports.useState([]),[d,s]=X.exports.useState(void 0),[g,c]=X.exports.useState({}),[h,_]=X.exports.useState(new Set),F=X.exports.useRef(null),m=X.exports.useRef(null),p=Fe.matrixClient.getUserId();async function f(S){var P,G;let x=((P=F==null?void 0:F.current)==null?void 0:P.value)||e,N=!1;typeof x=="string"&&(N=x[0]==="#"&&x.indexOf(":")>1);let q=(N?x.slice(x.indexOf(":")+1):null)||((G=m==null?void 0:m.current)==null?void 0:G.value);if(typeof q!="string"&&(q=p.slice(p.indexOf(":")+1)),typeof x!="string"&&(x=""),!r&&!(S!==!0&&x===g.name&&q===g.homeserver)){c({name:x,homeserver:q}),i!==S&&a(S),o(!0);try{const C=await Fe.matrixClient.publicRooms({server:q,limit:WT,since:S?d:void 0,include_all_networks:!0,filter:{generic_search_term:x}}),I=S?l.concat(C.chunk):C.chunk;u(I),s(C.next_batch),o(!1),a(!1),I.length===0&&c({error:x===""?`No public rooms on ${q}`:`No result found for "${x}" on ${q}`,alias:N?x:null})}catch(C){u([]);let I="Something went wrong!";(C==null?void 0:C.httpStatus)>=400&&(C==null?void 0:C.httpStatus)<500&&(I=C.message),c({error:I,alias:N?x:null}),o(!1),s(void 0),a(!1)}}}X.exports.useEffect(()=>{t&&f()},[t]);function v(S){h.has(S)&&(h.delete(S),_(new Set(Array.from(h))))}X.exports.useEffect(()=>(Fe.roomList.on(te.events.roomList.ROOM_JOINED,v),()=>{Fe.roomList.removeListener(te.events.roomList.ROOM_JOINED,v)}),[h]);function y(S){Fe.matrixClient.getRoom(S).isSpaceRoom()?fi(S):An(S),n()}function w(S){h.add(S),_(new Set(Array.from(h))),Uc(S,!1)}function b(S){return S.map(x=>{var P;const N=typeof x.canonical_alias=="string"?x.canonical_alias:x.room_id,U=typeof x.name=="string"?x.name:N,q=((P=Fe.matrixClient.getRoom(x.room_id))==null?void 0:P.getMyMembership())==="join";return E(Fc,{avatarSrc:typeof x.avatar_url=="string"?Fe.matrixClient.mxcUrlToHttp(x.avatar_url,42,42,"crop"):null,name:U,id:N,memberCount:x.num_joined_members,desc:typeof x.topic=="string"?x.topic:null,options:re(Qe,{children:[q&&E(Me,{onClick:()=>y(x.room_id),children:"Open"}),!q&&(h.has(x.room_id)?E(yt,{size:"small"}):E(Me,{onClick:()=>{var G;return w(((G=x.aliases)==null?void 0:G[0])||x.room_id)},variant:"primary",children:"Join"}))]})},x.room_id)})}return E(Ei,{isOpen:t,title:"Public rooms",contentOptions:E(Ye,{src:Ht,onClick:n,tooltip:"Close"}),onRequestClose:n,children:re("div",{className:"public-rooms",children:[re("form",{className:"public-rooms__form",onSubmit:S=>{S.preventDefault(),f()},children:[re("div",{className:"public-rooms__input-wrapper",children:[E(dt,{value:e,forwardRef:F,label:"Room name or alias"}),E(dt,{forwardRef:m,value:p.slice(p.indexOf(":")+1),label:"Homeserver",required:!0})]}),E(Me,{disabled:r,iconSrc:_w,variant:"primary",type:"submit",children:"Search"})]}),re("div",{className:"public-rooms__search-status",children:[typeof g.name<"u"&&r&&(g.name===""?re("div",{className:"flex--center",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:`Loading public rooms from ${g.homeserver}...`})]}):re("div",{className:"flex--center",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:`Searching for "${g.name}" on ${g.homeserver}...`})]})),typeof g.name<"u"&&!r&&(g.name===""?E(ue,{variant:"b2",children:`Public rooms on ${g.homeserver}.`}):E(ue,{variant:"b2",children:`Search result for "${g.name}" on ${g.homeserver}.`})),g.error&&re(Qe,{children:[E(ue,{className:"public-rooms__search-error",variant:"b2",children:g.error}),typeof g.alias=="string"&&E(DP,{onRequestClose:n,alias:g.alias})]})]}),l.length!==0&&E("div",{className:"public-rooms__content",children:b(l)}),l.length!==0&&l.length%WT===0&&re("div",{className:"public-rooms__view-more",children:[i!==!0&&E(Me,{onClick:()=>f(!0),children:"View more"}),i&&E(yt,{})]})]})})}dD.defaultProps={searchTerm:void 0};dD.propTypes={isOpen:J.exports.bool.isRequired,searchTerm:J.exports.string,onRequestClose:J.exports.func.isRequired};function hD({isOpen:t,roomId:e,searchTerm:n,onRequestClose:r}){const[o,i]=X.exports.useState(!1),[a,l]=X.exports.useState({}),[u,d]=X.exports.useState([]),[s,g]=X.exports.useState(new Set),[c,h]=X.exports.useState(new Map),[_,F]=X.exports.useState(new Map),[m,p]=X.exports.useState(new Map),[f,v]=X.exports.useState(new Set),y=X.exports.useRef(null),w=Fe.matrixClient;function b(C){const I=new Map;return C.forEach((M,A)=>{I.set(A,M)}),I}function S(C){s.add(C),g(new Set(Array.from(s)))}function x(C){s.delete(C),g(new Set(Array.from(s)))}function N(C){const I=m.get(C);typeof I>"u"||(_.set(I,C),m.delete(C),x(I),F(b(_)),p(b(m)))}async function U(C){const I=C.trim();if(o||I===""||I===a.username)return;const M=I[0]==="@"&&I.indexOf(":")>1;if(i(!0),l({username:I}),M)try{const A=await w.getProfileInfo(I);d([{user_id:I,display_name:A.displayname,avatar_url:A.avatar_url}])}catch{l({error:`${I} not found!`})}else try{const A=await w.searchUserDirectory({term:I,limit:20});if(A.results.length===0){l({error:`No matches found for "${I}"!`}),i(!1);return}d(A.results)}catch{l({error:"Something went wrong!"})}i(!1)}async function q(C){if(w.getUserId()===C)return;const I=PE(C);if(I){An(I),r();return}try{S(C),c.delete(C),h(b(c));const M=await fw(C,await NE(C));m.set(M.room_id,C),p(b(m))}catch(M){x(C),typeof M.message=="string"?c.set(C,M.message):c.set(C,"Something went wrong!"),h(b(c))}}async function P(C){if(!(typeof e>"u"))try{S(C),c.delete(C),h(b(c)),await gw(e,C),f.add(C),v(new Set(Array.from(f))),x(C)}catch(I){x(C),typeof I.message=="string"?c.set(C,I.message):c.set(C,"Something went wrong!"),h(b(c))}}function G(){const C=M=>{const A=($,Y)=>E(ue,{variant:"b2",children:E("span",{style:{color:Y?"var(--bg-positive)":"var(--bg-negative)"},children:$})});if(w.getUserId()===M)return null;if(s.has(M))return E(yt,{size:"small"});if(_.has(M))return E(Me,{onClick:()=>{An(_.get(M)),r()},children:"Open"});if(f.has(M))return A("Invited",!0);if(typeof e=="string"){const $=w.getRoom(e).getMember(M);if($!==null)switch($.membership){case"join":return A("Already joined",!0);case"invite":return A("Already Invited",!0);case"ban":return A("Banned",!1)}}return typeof e=="string"?E(Me,{onClick:()=>P(M),variant:"primary",children:"Invite"}):E(Me,{onClick:()=>q(M),variant:"primary",children:"Message"})},I=M=>c.has(M)?E(ue,{variant:"b2",children:E("span",{style:{color:"var(--bg-danger)"},children:c.get(M)})}):null;return u.map(M=>{const A=M.user_id,$=typeof M.display_name=="string"?M.display_name:A;return E(Fc,{avatarSrc:typeof M.avatar_url=="string"?w.mxcUrlToHttp(M.avatar_url,42,42,"crop"):null,name:$,id:A,options:C(A),desc:I(A)},A)})}return X.exports.useEffect(()=>(t&&typeof n=="string"&&U(n),()=>{i(!1),l({}),d([]),g(new Set),h(new Map),F(new Map),p(new Map),v(new Set)}),[t,n]),X.exports.useEffect(()=>(Fe.roomList.on(te.events.roomList.ROOM_CREATED,N),()=>{Fe.roomList.removeListener(te.events.roomList.ROOM_CREATED,N)}),[t,s,_,m]),E(Ei,{isOpen:t,title:typeof e=="string"?`Invite to ${w.getRoom(e).name}`:"Direct message",contentOptions:E(Ye,{src:Ht,onClick:r,tooltip:"Close"}),onRequestClose:r,children:re("div",{className:"invite-user",children:[re("form",{className:"invite-user__form",onSubmit:C=>{C.preventDefault(),U(y.current.value)},children:[E(dt,{value:n,forwardRef:y,label:"Name or userId"}),E(Me,{disabled:o,iconSrc:ul,variant:"primary",type:"submit",children:"Search"})]}),re("div",{className:"invite-user__search-status",children:[typeof a.username<"u"&&o&&re("div",{className:"flex--center",children:[E(yt,{size:"small"}),E(ue,{variant:"b2",children:`Searching for user "${a.username}"...`})]}),typeof a.username<"u"&&!o&&E(ue,{variant:"b2",children:`Search result for user "${a.username}"`}),a.error&&E(ue,{className:"invite-user__search-error",variant:"b2",children:a.error})]}),u.length!==0&&E("div",{className:"invite-user__content",children:G()})]})})}hD.defaultProps={roomId:void 0,searchTerm:void 0};hD.propTypes={isOpen:J.exports.bool.isRequired,roomId:J.exports.string,searchTerm:J.exports.string,onRequestClose:J.exports.func.isRequired};const $i={GENERAL:"General",MEMBERS:"Members",EMOJIS:"Emojis",PERMISSIONS:"Permissions"},b0=[{iconSrc:Fw,text:$i.GENERAL,disabled:!1},{iconSrc:ul,text:$i.MEMBERS,disabled:!1},{iconSrc:Bg,text:$i.EMOJIS,disabled:!1},{iconSrc:bw,text:$i.PERMISSIONS,disabled:!1}];function kP({roomId:t}){var i;const e=Fe.accountData.spaceShortcut.has(t),n=Fe.accountData.categorizedSpaces.has(t),r=(i=Fe.matrixClient.getRoom(t))==null?void 0:i.name,[,o]=jr();return re(Qe,{children:[re("div",{className:"room-settings__card",children:[E(ut,{children:"Options"}),E(ft,{onClick:()=>{n?LB(t):NB(t),o()},iconSrc:n?GB:VB,children:n?"Uncategorize subspaces":"Categorize subspaces"}),E(ft,{onClick:()=>{e?hw(t):dw(t),o()},iconSrc:e?yw:vw,children:e?"Unpin from sidebar":"Pin to sidebar"}),E(ft,{variant:"danger",onClick:async()=>{await or("Leave space",`Are you sure that you want to leave "${r}" space?`,"Leave","danger")&&ll(t)},iconSrc:Cg,children:"Leave"})]}),re("div",{className:"space-settings__card",children:[E(ut,{children:"Space visibility (who can join)"}),E(tD,{roomId:t})]}),re("div",{className:"space-settings__card",children:[E(ut,{children:"Space addresses"}),E(nD,{roomId:t})]})]})}kP.propTypes={roomId:J.exports.string.isRequired};function Vce(t){const[e,n]=X.exports.useState(null);return X.exports.useEffect(()=>{const o=(i,a)=>{n({roomId:i,tabText:$i});const l=b0.find(u=>u.text===a);l&&t(l)};return je.on(te.events.navigation.SPACE_SETTINGS_OPENED,o),()=>{je.removeListener(te.events.navigation.SPACE_SETTINGS_OPENED,o)}},[]),[e,()=>n(null)]}function Gce(){const[t,e]=X.exports.useState(b0[0]),[n,r]=Vce(e),o=n!==null,i=n==null?void 0:n.roomId,l=Fe.matrixClient.getRoom(i),u=d=>{e(d)};return E(Ei,{isOpen:o,className:"space-settings",title:re(ue,{variant:"s1",weight:"medium",primary:!0,children:[o&&We(l.name),E("span",{style:{color:"var(--tc-surface-low)"},children:"  space settings"})]}),contentOptions:E(Ye,{src:Ht,onClick:r,tooltip:"Close"}),onRequestClose:r,children:o&&re("div",{className:"space-settings__content",children:[E(Vw,{roomId:i}),E(Tg,{items:b0,defaultSelected:b0.findIndex(d=>d.text===t.text),onSelect:u}),re("div",{className:"space-settings__cards-wrapper",children:[t.text===$i.GENERAL&&E(kP,{roomId:i}),t.text===$i.MEMBERS&&E(iD,{roomId:i}),t.text===$i.EMOJIS&&E(aD,{roomId:i}),t.text===$i.PERMISSIONS&&E(oD,{roomId:i})]})]})})}var fD={},Kce=ze.exports;Object.defineProperty(fD,"__esModule",{value:!0});var SP=fD.RoomHierarchy=void 0,xs=Kce(Je()),Hce=et;class zce{constructor(e,n,r,o=!1){this.root=e,this.pageSize=n,this.maxDepth=r,this.suggestedOnly=o,(0,xs.default)(this,"viaMap",new Map),(0,xs.default)(this,"backRefs",new Map),(0,xs.default)(this,"roomMap",new Map),(0,xs.default)(this,"loadRequest",void 0),(0,xs.default)(this,"nextBatch",void 0),(0,xs.default)(this,"_rooms",void 0),(0,xs.default)(this,"serverSupportError",void 0)}get noSupport(){return!!this.serverSupportError}get canLoadMore(){return!!this.serverSupportError||!!this.nextBatch||!this._rooms}get loading(){return!!this.loadRequest}get rooms(){return this._rooms}async load(e=this.pageSize){if(this.loadRequest)return this.loadRequest.then(r=>r.rooms);this.loadRequest=this.root.client.getRoomHierarchy(this.root.roomId,e,this.maxDepth,this.suggestedOnly,this.nextBatch);let n;try{({rooms:n,next_batch:this.nextBatch}=await this.loadRequest)}catch(r){if(r.errcode==="M_UNRECOGNIZED")this.serverSupportError=r;else throw r;return[]}finally{this.loadRequest=void 0}return this._rooms?this._rooms=this._rooms.concat(n):this._rooms=n,n.forEach(r=>{this.roomMap.set(r.room_id,r),r.children_state.forEach(o=>{if(o.type!==Hce.EventType.SpaceChild)return;const i=o.state_key;if(this.backRefs.has(i)||this.backRefs.set(i,[]),this.backRefs.get(i).push(r.room_id),Array.isArray(o.content.via)){this.viaMap.has(i)||this.viaMap.set(i,new Set);const a=this.viaMap.get(i);o.content.via.forEach(l=>a.add(l))}})}),n}getRelation(e,n){var r;return(r=this.roomMap.get(e))===null||r===void 0?void 0:r.children_state.find(o=>o.state_key===n)}isSuggested(e,n){var r;return(r=this.getRelation(e,n))===null||r===void 0?void 0:r.content.suggested}removeRelation(e,n){const r=this.backRefs.get(n);(r==null?void 0:r.length)===1?this.backRefs.delete(n):r!=null&&r.length&&this.backRefs.set(n,r.filter(i=>i!==e));const o=this.roomMap.get(e);o&&(o.children_state=o.children_state.filter(i=>i.state_key!==n))}}SP=fD.RoomHierarchy=zce;class Wce{constructor(e,n=20,r=1,o=!1){this.matrixClient=e,this._maxDepth=r,this._suggestedOnly=o,this._limit=n,this.roomIdToHierarchy=new Map}getHierarchy(e){return this.roomIdToHierarchy.get(e)}removeHierarchy(e){return this.roomIdToHierarchy.delete(e)}canLoadMore(e){const n=this.getHierarchy(e);return n?n.canLoadMore:!0}async load(e,n=this._limit){let r=this.getHierarchy(e);r||(r=new SP({roomId:e,client:this.matrixClient},n,this._maxDepth,this._suggestedOnly),this.roomIdToHierarchy.set(e,r));try{return await r.load(n),r.rooms}catch{return r.rooms}}}function xP({path:t,onSelect:e}){return E("div",{className:"space-manage-breadcrumb__wrapper",children:E(Kt,{horizontal:!0,vertical:!1,invisible:!0,children:E("div",{className:"space-manage-breadcrumb",children:t.map((n,r)=>re(nn.Fragment,{children:[r>0&&E(It,{size:"extra-small",src:TF}),E(Me,{onClick:()=>e(n.roomId,n.name),children:E(ue,{variant:"b2",children:We(n.name)})})]},n.roomId))})})})}xP.propTypes={path:J.exports.arrayOf(J.exports.exact({roomId:J.exports.string,name:J.exports.string})).isRequired,onSelect:J.exports.func.isRequired};function CP({parentId:t,roomInfo:e,onSpaceClick:n,requestClose:r,isSelected:o,onSelect:i,roomHierarchy:a}){var P,G;const[l,u]=X.exports.useState(!1),[d,s]=X.exports.useState(!1),{directs:g}=Fe.roomList,c=Fe.matrixClient,h=c.getRoom(t),_=e.room_type==="m.space",F=e.room_id,m=(h==null?void 0:h.currentState.maySendStateEvent("m.space.child",c.getUserId()))||!1,p=((P=h==null?void 0:h.currentState.getStateEvents("m.space.child",F))==null?void 0:P.getContent().suggested)===!0,f=c.getRoom(F),v=(f==null?void 0:f.getMyMembership())==="join",y=(f==null?void 0:f.name)||e.name||e.canonical_alias||F;let w=c.mxcUrlToHttp(e.avatar_url,24,24,"crop")||null;!w&&f&&(w=((G=f.getAvatarFallbackMember())==null?void 0:G.getAvatarUrl(c.baseUrl,24,24,"crop"))||null,w===null&&(w=f.getAvatarUrl(c.baseUrl,24,24,"crop")||null));const b=g.has(F),S=()=>{_?fi(F):An(F),r()},x=()=>{const C=a.viaMap.get(F),I=C?[...C]:void 0;Uc(F,!1,I),s(!0)},N=E(Jt,{text:y,bgColor:ln(F),imageSrc:b?w:null,iconColor:"var(--ic-surface-low)",iconSrc:b?null:bg(e.join_rules||e.join_rule,_),size:"extra-small"}),U=re(ue,{children:[We(y),E(ue,{variant:"b3",span:!0,children:`  ${e.num_joined_members} members`})]}),q=E(Ye,{variant:l?"primary":"surface",size:"extra-small",src:kF,tooltip:"Topic",tooltipPlacement:"top",onClick:()=>u(!l)});return re("div",{className:`space-manage-item${_?"--space":""}`,children:[re("div",{children:[m&&E(as,{isActive:o,onToggle:()=>i(F),variant:"positive"}),re("button",{className:"space-manage-item__btn",onClick:_?()=>n(F,y):null,type:"button",children:[N,U,p&&E(ue,{variant:"b2",children:"Suggested"})]}),e.topic&&q,v?E(Me,{onClick:S,children:"Open"}):E(Me,{variant:"primary",onClick:x,disabled:d,children:d?"Joining...":"Join"})]}),l&&e.topic&&E(ue,{variant:"b2",children:We(e.topic,void 0,!0)})]})}CP.propTypes={parentId:J.exports.string.isRequired,roomHierarchy:J.exports.shape({}).isRequired,roomInfo:J.exports.shape({}).isRequired,onSpaceClick:J.exports.func.isRequired,requestClose:J.exports.func.isRequired,isSelected:J.exports.bool.isRequired,onSelect:J.exports.func.isRequired};function TP({parentId:t,selected:e}){const[n,r]=X.exports.useState(null),o=Fe.matrixClient,i=o.getRoom(t),{currentState:a}=i,l=e.every(s=>{var c;const g=a.getStateEvents("m.space.child",s);return!!((c=g==null?void 0:g.getContent())!=null&&c.suggested)}),u=()=>{r(`Removing ${e.length} items`),e.forEach(s=>{o.sendStateEvent(t,"m.space.child",{},s)})},d=s=>{r(s?`Marking as suggested ${e.length} items`:`Marking as not suggested ${e.length} items`),e.forEach(g=>{const c=i.currentState.getStateEvents("m.space.child",g);if(!c)return;const h={...c.getContent()};s&&h.suggested||!s&&!h.suggested||(h.suggested=s,o.sendStateEvent(t,"m.space.child",h,g))})};return re("div",{className:"space-manage__footer",children:[n&&E(yt,{size:"small"}),E(ue,{weight:"medium",children:n||`${e.length} item selected`}),!n&&re(Qe,{children:[E(Me,{onClick:u,variant:"danger",children:"Remove"}),E(Me,{onClick:()=>d(!l),variant:l?"surface":"primary",children:l?"Mark as not suggested":"Mark as suggested"})]})]})}TP.propTypes={parentId:J.exports.string.isRequired,selected:J.exports.arrayOf(J.exports.string).isRequired};function Yce(t){const n=Fe.matrixClient.getRoom(t),[r,o]=X.exports.useState([{roomId:t,name:n.name}]);return[r,(a,l)=>{const u=[...r],d=u.findIndex(s=>s.roomId===a);if(d<0){u.push({roomId:a,name:l}),o(u);return}u.splice(d+1),o(u)}]}function Jce(t){const[,e]=jr(),{roomList:n}=Fe;X.exports.useEffect(()=>{const r=()=>e();return n.on(te.events.roomList.ROOM_JOINED,r),n.on(te.events.roomList.ROOM_LEAVED,r),()=>{n.removeListener(te.events.roomList.ROOM_JOINED,r),n.removeListener(te.events.roomList.ROOM_LEAVED,r)}},[t])}function Xce(t,e){const[,n]=jr(),[r]=X.exports.useState(new jm),o=Fe.matrixClient;X.exports.useEffect(()=>{let i=!0;const a=l=>{l.getRoomId()===t&&l.getType()==="m.space.child"&&r._(()=>{i&&(e.removeHierarchy(t),n())},500)()};return o.on("RoomState.events",a),()=>{i=!1,o.removeListener("RoomState.events",a)}},[t,e])}function IP({roomId:t,requestClose:e}){var m,p;const n=Fe.matrixClient;Jce(t);const[,r]=jr(),[o]=X.exports.useState(new Wce(n,30)),[i,a]=Yce(t),[l,u]=X.exports.useState(!0),[d,s]=X.exports.useState([]),g=yn(),c=i[i.length-1];Xce(c.roomId,o);const h=o.getHierarchy(c.roomId);X.exports.useEffect(()=>(g.setItem(!0),()=>{g.setItem(!1)}),[t]),X.exports.useEffect(()=>s([]),[i]);const _=f=>{const v=[...d],y=v.indexOf(f);if(y>-1){v.splice(y,1),s(v);return}v.push(f),s(v)},F=async()=>{if(o.canLoadMore(c.roomId)){o.getHierarchy(c.roomId)||s([]),u(!0);try{if(await o.load(c.roomId),!g.getItem())return;u(!1),r()}catch{if(!g.getItem())return;u(!1),r()}}};return h||F(),re("div",{className:"space-manage__content",children:[i.length>1&&E(xP,{path:i,onSelect:a}),E(ue,{variant:"b3",weight:"bold",children:"Rooms and spaces"}),re("div",{className:"space-manage__content-items",children:[!l&&((m=h==null?void 0:h.rooms)==null?void 0:m.length)===1&&E(ue,{children:"Either the space contains private rooms or you need to join space to view it's rooms."}),h&&((p=h.rooms)==null?void 0:p.map(f=>f.room_id===c.roomId?null:E(CP,{isSelected:d.includes(f.room_id),roomHierarchy:h,parentId:c.roomId,roomInfo:f,onSpaceClick:a,requestClose:e,onSelect:_},f.room_id))),!h&&E(ue,{children:"loading..."})]}),(h==null?void 0:h.canLoadMore)&&!l&&E(Me,{onClick:F,children:"Load more"}),l&&re("div",{className:"space-manage__content-loading",children:[E(yt,{size:"small"}),E(ue,{children:"Loading rooms..."})]}),d.length>0&&E(TP,{parentId:c.roomId,selected:d})]})}IP.propTypes={roomId:J.exports.string.isRequired,requestClose:J.exports.func.isRequired};function Qce(){const[t,e]=X.exports.useState(null);return X.exports.useEffect(()=>{const r=o=>{e(o)};return je.on(te.events.navigation.SPACE_MANAGE_OPENED,r),()=>{je.removeListener(te.events.navigation.SPACE_MANAGE_OPENED,r)}},[]),[t,()=>e(null)]}function Zce(){const t=Fe.matrixClient,[e,n]=Qce(),r=t.getRoom(e);return E(Ei,{isOpen:e!==null,className:"space-manage",title:re(ue,{variant:"s1",weight:"medium",primary:!0,children:[e&&We(r.name),E("span",{style:{color:"var(--tc-surface-low)"},children:"  manage rooms"})]}),contentOptions:E(Ye,{src:Ht,onClick:n,tooltip:"Close"}),onRequestClose:n,children:e?E(IP,{roomId:e,requestClose:n}):E("div",{})})}function ede(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState({isOpen:!1,searchTerm:void 0}),[o,i]=X.exports.useState({isOpen:!1,roomId:void 0,term:void 0});function a(){e(!0)}function l(d){r({isOpen:!0,searchTerm:d})}function u(d,s){i({isOpen:!0,roomId:d,searchTerm:s})}return X.exports.useEffect(()=>(je.on(te.events.navigation.INVITE_LIST_OPENED,a),je.on(te.events.navigation.PUBLIC_ROOMS_OPENED,l),je.on(te.events.navigation.INVITE_USER_OPENED,u),()=>{je.removeListener(te.events.navigation.INVITE_LIST_OPENED,a),je.removeListener(te.events.navigation.PUBLIC_ROOMS_OPENED,l),je.removeListener(te.events.navigation.INVITE_USER_OPENED,u)}),[]),re(Qe,{children:[E(wP,{isOpen:t,onRequestClose:()=>e(!1)}),E(dD,{isOpen:n.isOpen,searchTerm:n.searchTerm,onRequestClose:()=>r({isOpen:!1,searchTerm:void 0})}),E(hD,{isOpen:o.isOpen,roomId:o.roomId,searchTerm:o.searchTerm,onRequestClose:()=>i({isOpen:!1,roomId:void 0})}),E(rue,{}),E(Gce,{}),E(Zce,{})]})}function wi({className:t,isOpen:e,title:n,onAfterOpen:r,onAfterClose:o,contentOptions:i,onRequestClose:a,closeFromOutside:l,children:u,invisibleScroll:d}){return E(Tl,{className:`${t===null?"":`${t} `}dialog-modal`,isOpen:e,onAfterOpen:r,onAfterClose:o,onRequestClose:a,closeFromOutside:l,size:"small",children:E("div",{className:"dialog",children:re("div",{className:"dialog__content",children:[re(Hi,{children:[E(pi,{children:typeof n=="string"?E(ue,{variant:"h2",weight:"medium",primary:!0,children:We(n)}):n}),i]}),E("div",{className:"dialog__content__wrapper",children:E(Kt,{autoHide:!d,invisible:d,children:E("div",{className:"dialog__content-container",children:u})})})]})})})}wi.defaultProps={className:null,contentOptions:null,onAfterOpen:null,onAfterClose:null,onRequestClose:null,closeFromOutside:!0,invisibleScroll:!1};wi.propTypes={className:J.exports.string,isOpen:J.exports.bool.isRequired,title:J.exports.node.isRequired,contentOptions:J.exports.node,onAfterOpen:J.exports.func,onAfterClose:J.exports.func,onRequestClose:J.exports.func,closeFromOutside:J.exports.bool,children:J.exports.node.isRequired,invisibleScroll:J.exports.bool};function tde(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState([]),[o,i]=X.exports.useState(null);X.exports.useEffect(()=>{const u=(d,s)=>{r(s),i(d),e(!0)};return je.on(te.events.navigation.READRECEIPTS_OPENED,u),()=>{je.removeListener(te.events.navigation.READRECEIPTS_OPENED,u)}},[]);const a=()=>{r([]),i(null)};function l(u){const d=Fe.matrixClient.getRoom(o),s=d.getMember(u),g=()=>d!=null&&d.getMember(u)?ts(d.getMember(u)):za(u);return E(Cl,{onClick:()=>{e(!1),yg(u,o)},avatarSrc:s==null?void 0:s.getAvatarUrl(Fe.matrixClient.baseUrl,24,24,"crop"),name:g(),color:ln(u)},u)}return E(wi,{isOpen:t,title:"Seen by",onAfterClose:a,onRequestClose:()=>e(!1),contentOptions:E(Ye,{src:Ht,onClick:()=>e(!1),tooltip:"Close"}),children:E("div",{style:{marginTop:"var(--sp-tight)",marginBottom:"var(--sp-extra-loose)"},children:n.map(l)})})}const nde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M12%2c2L3%2c6v7c0%2c5%2c4%2c9%2c9%2c9c5%2c0%2c9-4%2c9-9V6L12%2c2z%20M19%2c13c0%2c3.9-3.1%2c7-7%2c7s-7-3.1-7-7V7.3l7-3.1l7%2c3.1V13z'/%3e%20%3c/svg%3e";function RP({roomId:t,userId:e}){var g;const n=Fe.matrixClient,r=n.getRoom(t),o=r.getMember(e),i=((g=r.getMember(n.getUserId()))==null?void 0:g.powerLevel)||0,a=(o==null?void 0:o.powerLevel)||0,l=(o==null?void 0:o.membership)==="join"&&r.currentState.hasSufficientPowerLevelFor("kick",i)&&a<i,u=["join","leave"].includes(o==null?void 0:o.membership)&&r.currentState.hasSufficientPowerLevelFor("ban",i)&&a<i;return re("div",{className:"moderation-tools",children:[l&&re("form",{onSubmit:c=>{var _;c.preventDefault();const h=(_=c.target.elements["kick-reason"])==null?void 0:_.value.trim();Bp(t,e,h!==""?h:void 0)},children:[E(dt,{label:"Kick reason",name:"kick-reason"}),E(Me,{type:"submit",children:"Kick"})]}),u&&re("form",{onSubmit:c=>{var _;c.preventDefault();const h=(_=c.target.elements["ban-reason"])==null?void 0:_.value.trim();$B(t,e,h!==""?h:void 0)},children:[E(dt,{label:"Ban reason",name:"ban-reason"}),E(Me,{type:"submit",children:"Ban"})]})]})}RP.propTypes={roomId:J.exports.string.isRequired,userId:J.exports.string.isRequired};function AP({userId:t}){const[e,n]=X.exports.useState(null),[r,o]=X.exports.useState(!1),i=Fe.matrixClient;X.exports.useEffect(()=>{let l=!1;async function u(){try{await i.downloadKeys([t],!0);const d=i.getStoredDevicesForUser(t);if(l)return;n(d)}catch{n([])}}return u(),()=>{l=!0}},[t]);function a(){return r?re("div",{className:"session-info__chips",children:[e===null&&E(ue,{variant:"b2",children:"Loading sessions..."}),(e==null?void 0:e.length)===0&&E(ue,{variant:"b2",children:"No session found."}),e!==null&&e.map(l=>E(Og,{iconSrc:nde,text:l.getDisplayName()||l.deviceId},l.deviceId))]}):null}return re("div",{className:"session-info",children:[E(ft,{onClick:()=>o(!r),iconSrc:r?fn:TF,children:E(ue,{variant:"b2",children:`View ${(e==null?void 0:e.length)>0?`${e.length} `:""}sessions`})}),a()]})}AP.propTypes={userId:J.exports.string.isRequired};function OP({roomId:t,userId:e,onRequestClose:n}){var U,q;const[r,o]=X.exports.useState(!1),[i,a]=X.exports.useState(!1),[l,u]=X.exports.useState(Fe.matrixClient.isUserIgnored(e)),d=X.exports.useRef(!0),s=Fe.matrixClient,g=s.getRoom(t),c=g.getMember(e),h=(c==null?void 0:c.membership)!=="join"&&(c==null?void 0:c.membership)!=="ban",[_,F]=X.exports.useState(!1),[m,p]=X.exports.useState((c==null?void 0:c.membership)==="invite"),f=((U=g.getMember(s.getUserId()))==null?void 0:U.powerLevel)||0,v=((q=g.getMember(e))==null?void 0:q.powerLevel)||0,y=g.currentState.hasSufficientPowerLevelFor("kick",f)&&v<f,w=(c==null?void 0:c.membership)==="ban",b=P=>{d.current!==!1&&(o(!1),An(P),n())};X.exports.useEffect(()=>{const{roomList:P}=Fe;return P.on(te.events.roomList.ROOM_CREATED,b),()=>{d.current=!1,P.removeListener(te.events.roomList.ROOM_CREATED,b)}},[]),X.exports.useEffect(()=>{u(Fe.matrixClient.isUserIgnored(e)),a(!1),F(!1)},[e]);const S=async()=>{const P=PE(e);if(P){An(P),n();return}try{o(!0),await fw(e,await NE(e))}catch{if(d.current===!1)return;o(!1)}},x=async()=>{const P=s.getIgnoredUsers().includes(e);try{if(a(!0),P?await mw([e]):await pw([e]),d.current===!1)return;u(!P),a(!1)}catch{a(!1)}},N=async()=>{try{F(!0);let P=!1;if(m?await Bp(t,e):(await gw(t,e),P=!0),d.current===!1)return;p(P),F(!1)}catch{F(!1)}};return re("div",{className:"profile-viewer__buttons",children:[E(Me,{variant:"primary",onClick:S,disabled:r,children:r?"Creating room...":"Message"}),w&&y&&E(Me,{variant:"positive",onClick:()=>qB(t,e),children:"Unban"}),(m?y:g.canInvite(s.getUserId()))&&h&&E(Me,{onClick:N,disabled:_,children:m?`${_?"Disinviting...":"Disinvite"}`:`${_?"Inviting...":"Invite"}`}),E(Me,{variant:l?"positive":"danger",onClick:x,disabled:i,children:l?`${i?"Unignoring...":"Unignore"}`:`${i?"Ignoring...":"Ignore"}`})]})}OP.propTypes={roomId:J.exports.string.isRequired,userId:J.exports.string.isRequired,onRequestClose:J.exports.func.isRequired};function rde(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState(null),[o,i]=X.exports.useState(null);return X.exports.useEffect(()=>{const u=(d,s)=>{e(!0),i(d),r(s)};return je.on(te.events.navigation.PROFILE_VIEWER_OPENED,u),()=>{je.removeListener(te.events.navigation.PROFILE_VIEWER_OPENED,u)}},[]),[t,n,o,()=>e(!1),()=>{i(null),r(null)}]}function ode(t,e){const n=Fe.matrixClient,[,r]=jr();X.exports.useEffect(()=>{const o=(i,a)=>{i.getRoomId()===t&&(a.userId===e||a.userId===n.getUserId())&&r()};return n.on("RoomMember.powerLevel",o),n.on("RoomMember.membership",o),()=>{n.removeListener("RoomMember.powerLevel",o),n.removeListener("RoomMember.membership",o)}},[t,e])}function ide(){const[t,e,n,r,o]=rde();ode(e,n);const i=Fe.matrixClient,a=i.getRoom(e),l=()=>{var p,f,v;const u=a.getMember(n),d=u?ts(u):za(n),s=((p=u==null?void 0:u.getMxcAvatarUrl)==null?void 0:p.call(u))||((f=i.getUser(n))==null?void 0:f.avatarUrl),g=s&&s!=="null"?i.mxcUrlToHttp(s,80,80,"crop"):null,c=(u==null?void 0:u.powerLevel)||0,h=((v=a.getMember(i.getUserId()))==null?void 0:v.powerLevel)||0,_=a.currentState.maySendEvent("m.room.power_levels",i.getUserId())&&(c<h||n===i.getUserId()),F=async y=>{if(y===c)return;const w="You will not be able to undo this change as you are promoting the user to have the same power level as yourself. Are you sure?",b="You will not be able to undo this change as you are demoting yourself. Are you sure?",S=y===h,x=n===i.getUserId();if(S||x){if(!await or("Change power level",S?w:b,"Change","caution"))return;Y9(e,n,y)}else Y9(e,n,y)},m=y=>{rr("bottom",Rn(y,".btn-surface"),w=>E(rD,{value:c,max:h,onSelect:b=>{w(),F(b)}}))};return re("div",{className:"profile-viewer",children:[re("div",{className:"profile-viewer__user",children:[E(Jt,{imageSrc:g,text:d,bgColor:ln(n),size:"large"}),re("div",{className:"profile-viewer__user__info",children:[E(ue,{variant:"s1",weight:"medium",children:We(d)}),E(ue,{variant:"b2",children:We(n)})]}),re("div",{className:"profile-viewer__user__role",children:[E(ue,{variant:"b3",children:"Role"}),E(Me,{onClick:_?m:null,iconSrc:_?fn:null,children:`${rF(c)||"Member"} - ${c}`})]})]}),E(RP,{roomId:e,userId:n}),E(AP,{userId:n}),n!==i.getUserId()&&E(OP,{roomId:e,userId:n,onRequestClose:r})]})};return E(wi,{className:"profile-viewer__dialog",isOpen:t,title:(a==null?void 0:a.name)??"",onAfterClose:o,onRequestClose:r,contentOptions:E(Ye,{src:Ht,onClick:r,tooltip:"Close"}),children:e?l():E("div",{})})}function ade(){const{accountData:t}=Fe,[e,n]=X.exports.useState([...t.spaceShortcut]);return X.exports.useEffect(()=>{const r=()=>{n([...t.spaceShortcut])};return t.on(te.events.accountData.SPACE_SHORTCUT_UPDATED,r),()=>{t.removeListener(te.events.accountData.SPACE_SHORTCUT_UPDATED,r)}},[]),[e]}function sde(){const t=Fe.matrixClient,{spaces:e,roomIdToParents:n}=Fe.roomList,[r]=ade(),o=[...e].filter(c=>!r.includes(c)).sort(Dh),[i,a]=X.exports.useState(null),[l,u]=X.exports.useState([]);X.exports.useEffect(()=>{i!==null&&(a(null),u([]))},[r]);const d=c=>{if(i!==null)return;const h=[...l],_=h.indexOf(c);if(_>-1){h.splice(_,1),u(h);return}h.push(c),u(h)},s=()=>{a(`Pinning ${l.length} spaces...`),dw(l)},g=(c,h)=>{const _=t.getRoom(c);if(!_)return null;const F=n.get(c),m=F?[...F].map(y=>t.getRoom(y).name):void 0,p=m?m.join(", "):null,f=()=>d(c),v=()=>hw(c);return E(Gc,{name:_.name,parentName:p,roomId:c,imageSrc:null,iconSrc:bg(_.getJoinRule(),!0),isUnread:!1,notificationCount:0,isAlert:!1,onClick:h?v:f,options:h?E(Ye,{src:h?yw:vw,size:"small",onClick:v,disabled:i!==null}):E(as,{isActive:l.includes(c),variant:"positive",onToggle:f,tabIndex:-1,disabled:i!==null})},c)};return re(Qe,{children:[E(ue,{className:"shortcut-spaces__header",variant:"b3",weight:"bold",children:"Pinned spaces"}),r.length===0&&E(ue,{children:"No pinned spaces"}),r.map(c=>g(c,!0)),E(ue,{className:"shortcut-spaces__header",variant:"b3",weight:"bold",children:"Unpinned spaces"}),o.length===0&&E(ue,{children:"No unpinned spaces"}),o.map(c=>g(c,!1)),l.length!==0&&re("div",{className:"shortcut-spaces__footer",children:[i&&E(yt,{size:"small"}),E(ue,{weight:"medium",children:i||`${l.length} spaces selected`}),!i&&E(Me,{onClick:s,variant:"primary",children:"Pin"})]})]})}function lde(){const[t,e]=X.exports.useState(!1);return X.exports.useEffect(()=>{const r=()=>e(!0);return je.on(te.events.navigation.SHORTCUT_SPACES_OPENED,r),()=>{je.removeListener(te.events.navigation.SHORTCUT_SPACES_OPENED,r)}},[]),[t,()=>e(!1)]}function ude(){const[t,e]=lde();return E(wi,{isOpen:t,className:"shortcut-spaces",title:E(ue,{variant:"s1",weight:"medium",primary:!0,children:"Pin spaces"}),contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:t?E(sde,{}):E("div",{})})}function BP({roomId:t}){const e=yn(t),[n]=X.exports.useState(new jm),[r,o]=X.exports.useState(null),[i,a]=X.exports.useState([]),[l,u]=X.exports.useState([]),[d,s]=X.exports.useState(null),g=Fe.matrixClient,{spaces:c,rooms:h,directs:_,roomIdToParents:F}=Fe.roomList;X.exports.useEffect(()=>{const y=[...c,...h,..._].filter(w=>{var b;return w!==t&&!((b=F.get(w))!=null&&b.has(t))});a(y)},[t]);const m=y=>{if(r!==null)return;const w=[...l],b=w.indexOf(y);if(b>-1){w.splice(b,1),u(w);return}w.push(y),u(w)},p=async()=>{o(`Adding ${l.length} items...`);const y=l.map(b=>{const S=g.getRoom(b),x=tZ(S);return x.length===0&&x.push(ac(b)),g.sendStateEvent(t,"m.space.child",{auto_join:!1,suggested:!1,via:x},b)});if(e.setItem(!0),await Promise.allSettled(y),e.getItem()!==!0)return;const w=[...c,...h,..._].filter(b=>{var S;return b!==t&&!((S=F.get(b))!=null&&S.has(t))&&!l.includes(b)});a(w),o(null),u([])};return re(Qe,{children:[re("form",{onSubmit:y=>{y.preventDefault()},children:[E(It,{size:"small",src:zi}),E(dt,{name:"searchInput",onChange:y=>{const w=y.target.value.toLocaleLowerCase().replace(/\s/g,"");if(w===""){s(null);return}n._(()=>{const b=i.filter(S=>{var N;let x=(N=g.getRoom(S))==null?void 0:N.name;return x?(x=x.normalize("NFKC").toLocaleLowerCase().replace(/\s/g,""),x.includes(w)):!1});s(b)},200)()},placeholder:"Search room",autoFocus:!0}),E(Ye,{size:"small",type:"button",onClick:y=>{const w=y.currentTarget;w.parentElement.searchInput.value="",s(null)},src:Ht})]}),(d==null?void 0:d.length)===0&&E(ue,{children:"No results found"}),(d||i).map(y=>{var q;const w=g.getRoom(y);let b=((q=w.getAvatarFallbackMember())==null?void 0:q.getAvatarUrl(g.baseUrl,24,24,"crop"))||null;b===null&&(b=w.getAvatarUrl(g.baseUrl,24,24,"crop")||null);const S=F.get(y),x=S?[...S].map(P=>g.getRoom(P).name):void 0,N=x?x.join(", "):null,U=()=>m(y);return E(Gc,{name:w.name,parentName:N,roomId:y,imageSrc:_.has(y)?b:null,iconSrc:_.has(y)?null:bg(w.getJoinRule(),w.isSpaceRoom()),isUnread:!1,notificationCount:0,isAlert:!1,onClick:U,options:E(as,{isActive:l.includes(y),variant:"positive",onToggle:U,tabIndex:-1,disabled:r!==null})},y)}),l.length!==0&&re("div",{className:"space-add-existing__footer",children:[r&&E(yt,{size:"small"}),E(ue,{weight:"medium",children:r||`${l.length} item selected`}),!r&&E(Me,{onClick:p,variant:"primary",children:"Add"})]})]})}BP.propTypes={roomId:J.exports.string.isRequired};function cde(){const[t,e]=X.exports.useState(null);return X.exports.useEffect(()=>{const r=o=>e(o);return je.on(te.events.navigation.SPACE_ADDEXISTING_OPENED,r),()=>{je.removeListener(te.events.navigation.SPACE_ADDEXISTING_OPENED,r)}},[]),[t,()=>e(null)]}function dde(){const[t,e]=cde(),r=Fe.matrixClient.getRoom(t);return E(wi,{isOpen:t!==null,className:"space-add-existing",title:re(ue,{variant:"s1",weight:"medium",primary:!0,children:[t&&We(r.name),E("span",{style:{color:"var(--tc-surface-low)"},children:"  add existing rooms"})]}),contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:t?E(BP,{roomId:t}):E("div",{})})}function hde(t){const[e,n]=X.exports.useState(!1);return X.exports.useEffect(()=>{const o=i=>{t({term:i,chunk:[]}),n(!0)};return je.on(te.events.navigation.SEARCH_OPENED,o),()=>{je.removeListener(te.events.navigation.SEARCH_OPENED,o)}},[]),X.exports.useEffect(()=>{e===!1&&t(void 0)},[e]),[e,()=>n(!1)]}function YT(t){const e=Fe.matrixClient,{directs:n,roomIdToParents:r}=Fe.roomList;return t.map(o=>{const i=e.getRoom(o),a=r.get(o),l=a?[]:void 0;a==null||a.forEach(s=>l.push(e.getRoom(s).name));const u=l?l.join(", "):null;let d="room";return i.isSpaceRoom()?d="space":n.has(o)&&(d="direct"),{type:d,name:i.name,parents:u,roomId:o,room:i}})}function fde(){const[t,e]=X.exports.useState(null),[n]=X.exports.useState(new Lg),[r,o]=hde(e),i=X.exports.useRef(null),a=Fe.matrixClient,l=(f,v)=>{e({term:v,chunk:f})},u=f=>{var N;const v=(N=f.match(/^[#@*]/))==null?void 0:N[0];if(f.length>1){n.search(v?f.slice(1):f);return}const{spaces:y,rooms:w,directs:b}=Fe.roomList;let S=null;v?v==="#"?S=[...w]:v==="@"?S=[...b]:S=[...y]:S=[...w].concat([...b],[...y]),S.sort(Hp);const x=YT(S);n.setup(x,{keys:"name",isContain:!0,limit:20}),v?l(x,v):n.search(f)},d=()=>{const{recentRooms:f}=je;l(YT(f).reverse())},s=()=>{i.current.focus(),d(),n.on(n.RESULT_SENT,l),typeof t.term=="string"&&(u(t.term),i.current.value=t.term)},g=()=>{n.removeListener(n.RESULT_SENT,l)},c=()=>{const{value:f}=i.current;if(f.length===0){d();return}u(f)},h=f=>{f.preventDefault();const{value:v}=i.current;v.length===0?o():(i.current.value="",i.current.focus(),d())},_=(f,v)=>{v==="space"?fi(f):An(f),o()},F=()=>{const{chunk:f}=t;if((f==null?void 0:f.length)>0){const v=f[0];_(v.roomId,v.type)}},m=Fe.notifications,p=f=>{var w;let v=null,y=null;return f.type==="direct"?v=((w=f.room.getAvatarFallbackMember())==null?void 0:w.getAvatarUrl(a.baseUrl,24,24,"crop"))||null:y=bg(f.room.getJoinRule(),f.type==="space"),E(Gc,{name:f.name,parentName:f.parents,roomId:f.roomId,imageSrc:v,iconSrc:y,isUnread:m.hasNoti(f.roomId),notificationCount:m.getTotalNoti(f.roomId),isAlert:m.getHighlightNoti(f.roomId)>0,onClick:()=>_(f.roomId,f.type)},f.roomId)};return E(Tl,{className:"search-dialog__modal dialog-modal",isOpen:r,onAfterOpen:s,onAfterClose:g,onRequestClose:o,size:"small",children:re("div",{className:"search-dialog",children:[re("form",{className:"search-dialog__input",onSubmit:f=>{f.preventDefault(),F()},children:[E(It,{src:zi,size:"small"}),E(dt,{onChange:c,forwardRef:i,placeholder:"Search"}),E(Ye,{size:"small",src:Ht,type:"reset",onClick:h,tabIndex:-1})]}),E("div",{className:"search-dialog__content-wrapper",children:E(Kt,{autoHide:!0,children:E("div",{className:"search-dialog__content",children:Array.isArray(t==null?void 0:t.chunk)&&t.chunk.map(p)})})}),E("div",{className:"search-dialog__footer",children:E(ue,{variant:"b3",children:"Type # for rooms, @ for DMs and * for spaces. Hotkey: Ctrl + k"})})]})})}function _b({title:t,json:e}){return re("div",{className:"view-source__card",children:[E(ut,{children:t}),E(Kt,{horizontal:!0,vertical:!1,autoHide:!0,children:E("pre",{className:"text text-b1",children:E("code",{className:"language-json",children:JSON.stringify(e,null,2)})})})]})}_b.propTypes={title:J.exports.string.isRequired,json:J.exports.shape({}).isRequired};function gde(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState(null);return X.exports.useEffect(()=>{const a=l=>{r(l),e(!0)};return je.on(te.events.navigation.VIEWSOURCE_OPENED,a),()=>{je.removeListener(te.events.navigation.VIEWSOURCE_OPENED,a)}},[]),E(Ei,{isOpen:t,title:"View source",onAfterClose:()=>{r(null)},onRequestClose:()=>e(!1),contentOptions:E(Ye,{src:Ht,onClick:()=>e(!1),tooltip:"Close"}),children:n?(()=>re("div",{className:"view-source",children:[n.isEncrypted()&&E(_b,{title:"Decrypted source",json:n.getEffectiveEvent()}),E(_b,{title:"Original source",json:n.event})]}))():E("div",{})})}function gD({isSpace:t,parentId:e,onRequestClose:n}){const[r,o]=X.exports.useState(e?"restricted":"invite"),[i,a]=X.exports.useState(!0),[l,u]=X.exports.useState(!1),[d,s]=X.exports.useState(null),[g,c]=X.exports.useState(null),[h,_]=X.exports.useState(void 0),[F,m]=X.exports.useState(0),p=X.exports.useRef(null),f=Fe.matrixClient,v=ac(f.getUserId());X.exports.useEffect(()=>{const{roomList:P}=Fe,G=C=>{var I;u(!1),s(null),c(null),_(void 0),(I=f.getRoom(C))!=null&&I.isSpaceRoom()||An(C),n()};return P.on(te.events.roomList.ROOM_CREATED,G),()=>{P.removeListener(te.events.roomList.ROOM_CREATED,G)}},[]);const y=async P=>{var $;P.preventDefault();const{target:G}=P;if(l)return;u(!0),s(null);const C=G.name.value;let I=G.topic.value;I.trim()===""&&(I=void 0);let M;r==="public"&&(M=($=p==null?void 0:p.current)==null?void 0:$.value,M.trim()===""&&(M=void 0));const A=F===1?101:void 0;try{await Cie({name:C,topic:I,joinRule:r,alias:M,isEncrypted:t||r==="public"?!1:i,powerLevel:A,isSpace:t,parentId:e})}catch(Y){Y.message==="M_UNKNOWN: Invalid characters in room alias"?(s("ERROR: Invalid characters in address"),c(!1)):Y.message==="M_ROOM_IN_USE: Room alias already taken"?(s("ERROR: This address is already in use"),c(!1)):s(Y.message),u(!1)}},w=P=>{const G=P.target.value;c(null),_(P.target.value),s(null),setTimeout(async()=>{if(G!==p.current.value)return;const C=p.current.value;if(C==="")return;const I=`#${C}:${v}`;await _5(I)?c(!0):c(!1)},1e3)},b=["invite","restricted","public"],S=["Private","Restricted","Public"],x=["Private (invite only)","Restricted (space member can join)","Public (anyone can join)"],N=[up,RE,nF],U=[cp,AE,OE];return E("div",{className:"create-room",children:re("form",{className:"create-room__form",onSubmit:y,children:[E(Et,{title:"Visibility",options:E(Me,{onClick:P=>{rr("bottom",Rn(P,".btn-surface"),G=>re(Qe,{children:[E(ut,{children:"Visibility (who can join)"}),b.map(C=>E(ft,{variant:C===r?"positive":"surface",iconSrc:t?U[b.indexOf(C)]:N[b.indexOf(C)],onClick:()=>{G(),o(C)},disabled:!e&&C==="restricted",children:x[b.indexOf(C)]},C))]}))},iconSrc:fn,children:S[b.indexOf(r)]}),content:E(ue,{variant:"b3",children:`Select who can join this ${t?"space":"room"}.`})}),r==="public"&&re("div",{children:[E(ue,{className:"create-room__address__label",variant:"b2",children:t?"Space address":"Room address"}),re("div",{className:"create-room__address",children:[E(ue,{variant:"b1",children:"#"}),E(dt,{value:h,onChange:w,state:g===!1?"error":"normal",forwardRef:p,placeholder:"my_address",required:!0}),E(ue,{variant:"b1",children:`:${v}`})]}),g===!1&&E(ue,{className:"create-room__address__tip",variant:"b3",children:E("span",{style:{color:"var(--bg-danger)"},children:`#${h}:${v} is already in use`})})]}),!t&&r!=="public"&&E(Et,{title:"Enable end-to-end encryption",options:E(_r,{isActive:i,onToggle:a}),content:E(ue,{variant:"b3",children:"You cant disable this later. Bridges & most bots wont work yet."})}),E(Et,{title:"Select your role",options:E(fc,{selected:F,segments:[{text:"Admin"},{text:"Founder"}],onSelect:m}),content:E(ue,{variant:"b3",children:"Selecting Admin sets 100 power level whereas Founder sets 101."})}),E(dt,{name:"topic",minHeight:174,resizable:!0,label:"Topic (optional)"}),re("div",{className:"create-room__name-wrapper",children:[E(dt,{name:"name",label:`${t?"Space":"Room"} name`,required:!0}),E(Me,{disabled:g===!1||l,iconSrc:t?L7:N7,type:"submit",variant:"primary",children:"Create"})]}),l&&re("div",{className:"create-room__loading",children:[E(yt,{size:"small"}),E(ue,{children:`Creating ${t?"space":"room"}...`})]}),typeof d=="string"&&E(ue,{className:"create-room__error",variant:"b3",children:d})]})})}gD.defaultProps={parentId:null};gD.propTypes={isSpace:J.exports.bool.isRequired,parentId:J.exports.string,onRequestClose:J.exports.func.isRequired};function pde(){const[t,e]=X.exports.useState(null);return X.exports.useEffect(()=>{const r=(o,i)=>{e({isSpace:o,parentId:i})};return je.on(te.events.navigation.CREATE_ROOM_OPENED,r),()=>{je.removeListener(te.events.navigation.CREATE_ROOM_OPENED,r)}},[]),[t,()=>e(null)]}function mde(){const[t,e]=pde(),{isSpace:n,parentId:r}=t??{},i=Fe.matrixClient.getRoom(r);return E(wi,{isOpen:t!==null,title:re(ue,{variant:"s1",weight:"medium",primary:!0,children:[r?We(i.name):"Home",E("span",{style:{color:"var(--tc-surface-low)"},children:`  create ${n?"space":"room"}`})]}),contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:t?E(gD,{isSpace:n,parentId:r,onRequestClose:e}):E("div",{})})}const Fde=/^[#|!].+:.+\..+$/;function pD({term:t,requestClose:e}){const[n,r]=X.exports.useState(!1),[o,i]=X.exports.useState(void 0),[a,l]=X.exports.useState(void 0),u=Fe.matrixClient,d=yn(),s=c=>{const h=u.getRoom(c);h&&(h.isSpaceRoom()?fi(c):An(c),e())};return X.exports.useEffect(()=>{const c=h=>{a===h&&s(h)};return Fe.roomList.on(te.events.roomList.ROOM_JOINED,c),()=>{Fe.roomList.removeListener(te.events.roomList.ROOM_JOINED,c)}},[a]),re("form",{className:"join-alias",onSubmit:async c=>{c.preventDefault(),d.setItem(!0);const h=c.target.alias.value;if((h==null?void 0:h.trim())==="")return;if(h.match(Fde)===null){i("Invalid address.");return}r("Looking for address..."),i(void 0);let _;if(h.startsWith("#"))try{const F=await u.resolveRoomAlias(h);_=(F==null?void 0:F.servers.slice(0,3))||[],d.getItem()&&r(`Joining ${h}...`)}catch{if(!d.getItem())return;r(!1),i(`Unable to find room/space with ${h}. Either room/space is private or doesn't exist.`)}try{const F=await Uc(h,!1,_);if(!d.getItem())return;l(F),s(F)}catch{if(!d.getItem())return;r(!1),i(`Unable to join ${h}. Either room/space is private or doesn't exist.`)}},children:[E(dt,{label:"Address",value:t,name:"alias",required:!0}),o&&E(ue,{className:"join-alias__error",variant:"b3",children:o}),E("div",{className:"join-alias__btn",children:n?re(Qe,{children:[E(yt,{size:"small"}),E(ue,{children:n})]}):E(Me,{variant:"primary",type:"submit",children:"Join"})})]})}pD.defaultProps={term:void 0};pD.propTypes={term:J.exports.string,requestClose:J.exports.func.isRequired};function _de(){const[t,e]=X.exports.useState(null);return X.exports.useEffect(()=>{const r=o=>{e({term:o})};return je.on(te.events.navigation.JOIN_ALIAS_OPENED,r),()=>{je.removeListener(te.events.navigation.JOIN_ALIAS_OPENED,r)}},[]),[t,()=>e(null)]}function vde(){const[t,e]=_de();return E(wi,{isOpen:t!==null,title:E(ue,{variant:"s1",weight:"medium",primary:!0,children:"Join with address"}),contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:t?E(pD,{term:t.term,requestClose:e}):E("div",{})})}function PP({data:t,requestClose:e}){const[n,r]=X.exports.useState(null),[o,i]=X.exports.useState(!1),{request:a,targetDevice:l}=t,u=Fe.matrixClient,d=yn(),s=yn(),g=async()=>{if(dp(u.deviceId)&&(u.getCrossSigningId()===null||await u.crypto.crossSigningInfo.isStoredInKeyCache("self_signing")===!1)){if(!IE(ME())&&!await jp("Emoji verification")){a.cancel();return}await u.checkOwnCrossSigningTrust()}i(!0),await a.accept();const F=a.beginKeyVerification("m.sas.v1",l),m=p=>{F.off("show_sas",m),d.getItem()&&(r(p),i(!1))};F.on("show_sas",m),await F.verify()},c=()=>{n.mismatch(),i(!0)},h=()=>{n.confirm(),i(!0)};X.exports.useEffect(()=>{d.setItem(!0);const F=()=>{if(a.done||a.cancelled){e();return}l&&!s.getItem()&&(s.setItem(!0),g())};if(a===null)return null;const m=a;return m.on("change",F),()=>{m.off("change",F),m.cancelled===!1&&m.done===!1&&m.cancel()}},[a]);const _=()=>re(Qe,{children:[E(yt,{size:"small"}),E(ue,{children:"Waiting for response from other device..."})]});return n!==null?re("div",{className:"emoji-verification__content",children:[E(ue,{children:"Confirm the emoji below are displayed on both devices, in the same order:"}),E("div",{className:"emoji-verification__emojis",children:n.sas.emoji.map((F,m)=>re("div",{className:"emoji-verification__emoji-block",children:[E(ue,{variant:"h1",children:We(F[0])}),E(ue,{children:F[1]})]},`${F[1]}-${m}`))}),E("div",{className:"emoji-verification__buttons",children:o?_():re(Qe,{children:[E(Me,{variant:"primary",onClick:h,children:"They match"}),E(Me,{onClick:c,children:"They don't match"})]})})]}):l?re("div",{className:"emoji-verification__content",children:[E(ue,{children:"Please accept the request from other device."}),E("div",{className:"emoji-verification__buttons",children:_()})]}):re("div",{className:"emoji-verification__content",children:[E(ue,{children:"Click accept to start the verification process."}),E("div",{className:"emoji-verification__buttons",children:o?_():E(Me,{variant:"primary",onClick:g,children:"Accept"})})]})}PP.propTypes={data:J.exports.shape({}).isRequired,requestClose:J.exports.func.isRequired};function yde(){const[t,e]=X.exports.useState(null),n=Fe.matrixClient;return X.exports.useEffect(()=>{const o=(i,a)=>{e({request:i,targetDevice:a})};return je.on(te.events.navigation.EMOJI_VERIFICATION_OPENED,o),n.on("crypto.verification.request",o),()=>{je.removeListener(te.events.navigation.EMOJI_VERIFICATION_OPENED,o),n.removeListener("crypto.verification.request",o)}},[]),[t,()=>e(null)]}function bde(){const[t,e]=yde();return E(wi,{isOpen:t!==null,className:"emoji-verification",title:E(ue,{variant:"s1",weight:"medium",primary:!0,children:"Emoji verification"}),contentOptions:E(Ye,{src:Ht,onClick:e,tooltip:"Close"}),onRequestClose:e,children:t!==null?E(PP,{data:t,requestClose:e}):E("div",{})})}function Ede(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState(null);X.exports.useEffect(()=>{const a=(l,u,d)=>{e(!0),r({title:l,render:u,afterClose:d})};return je.on(te.events.navigation.REUSABLE_DIALOG_OPENED,a),()=>{je.removeListener(te.events.navigation.REUSABLE_DIALOG_OPENED,a)}},[]);const o=()=>{var a;(a=n.afterClose)==null||a.call(n),r(null)},i=()=>{e(!1)};return E(wi,{isOpen:t,title:(n==null?void 0:n.title)||"",onAfterClose:o,onRequestClose:i,contentOptions:E(Ye,{src:Ht,onClick:i,tooltip:"Close"}),invisibleScroll:!0,children:(n==null?void 0:n.render(i))||E("div",{})})}function MP({title:t,json:e}){return re("div",{className:"view-source__card",children:[E(ut,{children:t}),E(Kt,{horizontal:!0,vertical:!1,autoHide:!0,children:E("pre",{className:"text text-b1",children:E("code",{className:"language-json",children:e})})})]})}MP.propTypes={title:J.exports.string.isRequired,json:J.exports.shape({}).isRequired};function NP({title:t,json:e}){return re("div",{className:"view-source__card",children:[E(ut,{children:t}),E(Kt,{horizontal:!0,vertical:!1,autoHide:!0,children:E("pre",{className:"text text-b1",children:E("code",{className:"language-json",id:"translatedText",children:e})})})]})}NP.propTypes={title:J.exports.string.isRequired,json:J.exports.shape({}).isRequired};function wde(){const[t,e]=X.exports.useState(!1),[n,r]=X.exports.useState(null);X.exports.useEffect(()=>{const u=d=>{r(d),e(!0)};return je.on(te.events.navigation.TEXTTRANSLATE_OPENED,u),()=>{je.removeListener(te.events.navigation.TEXTTRANSLATE_OPENED,u)}},[]);const o=()=>{r(null)};async function i(u){const d=await fetch(`${u}`);if(!d.ok)throw new Error("Request failed");const s=await d.json();if(at.getTranslationAPIIndex()===1){let g="";for(let c=0;c<s.translations.length;c+=1)g+=s.translations[c].text;return g===void 0&&(g=s.message),g}return Hf.exports.normaliseResponse(s,at.getTranslationLanguage())}const a=u=>{const d=u.replace(/> <.*> .*\n/gms,"").trim();let s=Hf.exports.generateRequestUrl(d,{to:at.getTranslationLanguage()}).replace("https://translate.google.com/","https://panel.icarus.today/");return at.getTranslationAPIIndex()===1&&(s=`https://rwwhwqaduuvdbswpmq6p.icarus.today/&text=${d}&target_lang=${at.getTranslationLanguage()}`),i(s).then(g=>(at.getTranslationAPIIndex()===0?document.getElementById("translatedText").innerHTML=g.text:document.getElementById("translatedText").innerHTML=g,"Setting Error!")),"Translating..."};return E(Ei,{isOpen:t,title:"Translate",onAfterClose:o,onRequestClose:()=>e(!1),contentOptions:E(Ye,{src:Ht,onClick:()=>e(!1),tooltip:"Close"}),children:n?(()=>re("div",{className:"text-translate",children:[E(MP,{title:"Original text",json:n.getEffectiveEvent().content.body}),E(NP,{title:at.getTranslationAPIIndex()===1?"DeepL Translated Text":"Google Translated Text",json:a(n.getEffectiveEvent().content.body)})]}))():E("div",{})})}function Dde(){return re(Qe,{children:[E(tde,{}),E(gde,{}),E(wde,{}),E(ide,{}),E(ude,{}),E(mde,{}),E(vde,{}),E(dde,{}),E(fde,{}),E(bde,{}),E(Ede,{})]})}const kde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3ccircle%20cx='10'%20cy='11'%20r='1'/%3e%20%3ccircle%20cx='14'%20cy='11'%20r='1'/%3e%20%3cpath%20d='M20.3%2c16.2C20%2c14.7%2c19.6%2c13%2c19%2c11.3c0.6-2.1%2c1.6-6.7%2c0.4-8.4c-0.3-0.5-0.8-0.7-1.4-0.7c-1.2%2c0-2.8%2c1.3-3.7%2c2.3%20C13.6%2c4.2%2c12.8%2c4%2c12%2c4s-1.6%2c0.2-2.3%2c0.6c-1-1-2.5-2.3-3.7-2.3c-0.6%2c0-1.1%2c0.2-1.4%2c0.7C3.4%2c4.6%2c4.4%2c9.2%2c5%2c11.3%20c-0.6%2c1.7-1%2c3.4-1.3%2c4.9C3.2%2c18.7%2c5.1%2c21%2c7.6%2c21h8.7C18.9%2c21%2c20.8%2c18.7%2c20.3%2c16.2z%20M5.8%2c3.8C5.9%2c3.8%2c5.9%2c3.8%2c6%2c3.8%20c0.5%2c0%2c1.5%2c0.8%2c2.5%2c1.7C7.5%2c6.3%2c6.7%2c7.6%2c6%2c9C5.6%2c6.8%2c5.3%2c4.5%2c5.8%2c3.8z%20M17.9%2c18.3c-0.4%2c0.5-1%2c0.7-1.6%2c0.7H7.6%20c-0.6%2c0-1.2-0.3-1.6-0.7c-0.2-0.3-0.6-0.8-0.4-1.6C7%2c10%2c9.4%2c6%2c12%2c6s5%2c4%2c6.3%2c10.6C18.5%2c17.4%2c18.1%2c18%2c17.9%2c18.3z%20M18%2c9%20c-0.7-1.4-1.5-2.6-2.5-3.5c0.9-0.9%2c2-1.7%2c2.5-1.7c0.1%2c0%2c0.1%2c0%2c0.2%2c0.1C18.7%2c4.5%2c18.5%2c6.6%2c18%2c9z'/%3e%20%3cpath%20d='M12.6%2c14h-1.2c-0.8%2c0-1.4%2c0.6-1.4%2c1.4v0c0%2c0.4%2c0.1%2c0.7%2c0.4%2c1l0.9%2c0.9c0.4%2c0.4%2c1%2c0.4%2c1.4%2c0l0.9-0.9c0.3-0.3%2c0.4-0.6%2c0.4-1v0%20C14%2c14.6%2c13.4%2c14%2c12.6%2c14z'/%3e%20%3c/g%3e%20%3c/svg%3e",Sde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M23%2c12c0-2.4-1.7-4.4-4-4.9V5c0-1.1-0.9-2-2-2H5C3.9%2c3%2c3%2c3.9%2c3%2c5v10c0%2c3.3%2c2.7%2c6%2c6%2c6h4c2.6%2c0%2c4.9-1.7%2c5.7-4.1%20C21.1%2c16.6%2c23%2c14.5%2c23%2c12z%20M17%2c5v2H5V5H17z%20M13%2c19H9c-2.2%2c0-4-1.8-4-4V9h12v6C17%2c17.2%2c15.2%2c19%2c13%2c19z%20M19%2c14.8V9.2%20c1.2%2c0.4%2c2%2c1.5%2c2%2c2.8S20.2%2c14.4%2c19%2c14.8z'/%3e%20%3c/svg%3e",xde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M19.5%2c5.4c-0.5-0.5-1-1-1.5-1.4c-1.7-1.3-3.8-2-6-2S7.7%2c2.8%2c6%2c4C5.5%2c4.4%2c5%2c4.9%2c4.5%2c5.4C2.9%2c7.2%2c2%2c9.5%2c2%2c12%20c0%2c2.5%2c0.9%2c4.8%2c2.5%2c6.6c0.5%2c0.5%2c1%2c1%2c1.5%2c1.4c1.7%2c1.3%2c3.8%2c2%2c6%2c2s4.3-0.8%2c6-2c0.5-0.4%2c1-0.9%2c1.5-1.4c1.6-1.8%2c2.5-4.1%2c2.5-6.6%20C22%2c9.5%2c21.1%2c7.2%2c19.5%2c5.4z%20M4%2c12c0-2%2c0.8-3.9%2c2-5.3C7.2%2c8.1%2c8%2c10%2c8%2c12c0%2c2-0.8%2c3.9-2%2c5.3C4.8%2c15.9%2c4%2c14%2c4%2c12z%20M12%2c20%20c-1.7%2c0-3.2-0.5-4.5-1.4C9.1%2c16.8%2c10%2c14.5%2c10%2c12c0-2.5-0.9-4.8-2.5-6.6C8.8%2c4.5%2c10.3%2c4%2c12%2c4s3.2%2c0.5%2c4.5%2c1.4C14.9%2c7.2%2c14%2c9.5%2c14%2c12%20c0%2c2.5%2c0.9%2c4.8%2c2.5%2c6.6C15.2%2c19.5%2c13.7%2c20%2c12%2c20z%20M18%2c17.3c-1.2-1.4-2-3.3-2-5.3c0-2%2c0.8-3.9%2c2-5.3c1.2%2c1.4%2c2%2c3.3%2c2%2c5.3%20C20%2c14%2c19.2%2c15.9%2c18%2c17.3z'/%3e%20%3c/svg%3e",Cde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cg%3e%20%3cpath%20d='M19%2c3H5C3.9%2c3%2c3%2c3.9%2c3%2c5v14c0%2c1.1%2c0.9%2c2%2c2%2c2h14c1.1%2c0%2c2-0.9%2c2-2V5C21%2c3.9%2c20.1%2c3%2c19%2c3z%20M19%2c5v12.7l-5-5.8l-2%2c2L8.9%2c9.6%20l-3.9%2c7V5H19z%20M18.2%2c19H5.4l3.7-6.6l2.8%2c3.8l2-2L18.2%2c19z'/%3e%20%3ccircle%20cx='14.5'%20cy='8.5'%20r='1.5'/%3e%20%3c/g%3e%20%3c/svg%3e",Tde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M12%2c2c-0.3%2c0-0.6%2c0-0.9%2c0.1c-3.5%2c0.4-6.4%2c3.2-7%2c6.7c-0.5%2c3.1%2c0.8%2c6%2c3.1%2c7.7C7.7%2c16.8%2c8%2c17.4%2c8%2c18v4h8v-4%20c0-0.6%2c0.3-1.2%2c0.8-1.6c1.9-1.5%2c3.2-3.8%2c3.2-6.4C20%2c5.6%2c16.4%2c2%2c12%2c2z%20M15.6%2c14.8c-1%2c0.7-1.6%2c1.9-1.6%2c3.2v2h-1.3v-8.1%20c0.7-0.3%2c1.3-1%2c1.3-1.9c0-1.1-0.9-2-2-2s-2%2c0.9-2%2c2c0%2c0.8%2c0.5%2c1.6%2c1.3%2c1.9V20H10v-2c0-1.2-0.6-2.4-1.6-3.2C6.6%2c13.4%2c5.7%2c11.3%2c6.1%2c9%20c0.4-2.6%2c2.6-4.7%2c5.2-5c0.2%2c0%2c0.5%2c0%2c0.7%2c0c3.3%2c0%2c6%2c2.7%2c6%2c6C18%2c11.9%2c17.1%2c13.7%2c15.6%2c14.8z'/%3e%20%3c/svg%3e",Ide="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M12%2c2C6.5%2c2%2c2%2c6.5%2c2%2c12s4.5%2c10%2c10%2c10s10-4.5%2c10-10S17.5%2c2%2c12%2c2z%20M20%2c12c0%2c1.6-0.5%2c3.1-1.3%2c4.3L13%2c10.6V4.1%20C16.9%2c4.6%2c20%2c7.9%2c20%2c12z%20M11%2c19.9c-1.7-0.2-3.2-1-4.4-2.1l4.4-4.4V19.9z%20M13%2c13.4l4.4%2c4.4c-1.2%2c1.1-2.7%2c1.9-4.4%2c2.1V13.4z%20M11%2c4.1%20v6.5l-5.7%2c5.7C4.5%2c15.1%2c4%2c13.6%2c4%2c12C4%2c7.9%2c7.1%2c4.6%2c11%2c4.1z'/%3e%20%3c/svg%3e",Rde="data:image/svg+xml,%3c%3fxml%20version='1.0'%20encoding='utf-8'%3f%3e%20%3c!--%20Generator:%20Adobe%20Illustrator%2018.0.0%2c%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%20%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%20%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2024%2024'%20enable-background='new%200%200%2024%2024'%20xml:space='preserve'%3e%20%3cpath%20d='M18.5%2c5l-2.1%2c2.8L15.5%2c9l0.9%2c1.2l2.1%2c2.8H9H7v2v4H5V5H18.5%20M21%2c3H5C3.9%2c3%2c3%2c3.9%2c3%2c5v14c0%2c1.1%2c0.9%2c2%2c2%2c2h2c1.1%2c0%2c2-0.9%2c2-2%20v-4h12v-2l-3-4l3-4V3L21%2c3z'/%3e%20%3c/svg%3e",vb=7,of=nn.memo(({name:t,groupEmojis:e})=>{function n(){const r=[],o=e.length;for(let i=0;i<o;i+=vb){const a=[];for(let l=i;l<i+vb;l+=1){const u=l;if(u>=o)break;const d=e[u];a.push(E("span",{children:d.hexcode?hF(fF.parse(d.unicode,{attributes:()=>{var s;return{unicode:d.unicode,shortcodes:(s=d.shortcodes)==null?void 0:s.toString(),hexcode:d.hexcode,loading:"lazy"}},base:Uf})):E("img",{className:"emoji",draggable:"false",loading:"lazy",alt:d.shortcode,unicode:`:${d.shortcode}:`,shortcodes:d.shortcode,src:Fe.matrixClient.mxcUrlToHttp(d.mxc),"data-mx-emoticon":d.mxc})},u))}r.push(E("div",{className:"emoji-row",children:a},i))}return r}return re("div",{className:"emoji-group",children:[E(ue,{className:"emoji-group__header",variant:"b2",weight:"bold",children:t}),e.length!==0&&E("div",{className:"emoji-set noselect",children:n()})]})});of.propTypes={name:J.exports.string.isRequired,groupEmojis:J.exports.arrayOf(J.exports.shape({length:J.exports.number,unicode:J.exports.string,hexcode:J.exports.string,mxc:J.exports.string,shortcode:J.exports.string,shortcodes:J.exports.oneOfType([J.exports.string,J.exports.arrayOf(J.exports.string)])})).isRequired};const Iu=new Lg;Iu.setup(dg,{keys:["shortcode"],isContain:!0,limit:40});function Ade(){const[t,e]=X.exports.useState(null);function n(r,o){if(o===""||r.length===0){e(o===""?null:{emojis:[]});return}e({emojis:r})}return X.exports.useEffect(()=>(Iu.on(Iu.RESULT_SENT,n),()=>{Iu.removeListener(Iu.RESULT_SENT,n)}),[]),t===null?!1:E(of,{name:t.emojis.length===0?"No search result found":"Search results",groupEmojis:t.emojis},"-1")}function LP({onSelect:t,searchRef:e}){const n=X.exports.useRef(null),r=X.exports.useRef(null);function o(m){return m.classList.contains("emoji")===!1}function i(m){const p=m.getAttribute("unicode"),f=m.getAttribute("hexcode"),v=m.getAttribute("data-mx-emoticon");let y=m.getAttribute("shortcodes");return typeof y>"u"?y=void 0:y=y.split(","),{unicode:p,hexcode:f,shortcodes:y,mxc:v}}function a(m){if(o(m.target))return;const p=i(m.target);t(p),p.hexcode&&_P(p.unicode)}function l(m){const p=r.current.firstElementChild.firstElementChild,f=r.current.lastElementChild;p.src=m.src,p.alt=m.unicode,f.textContent=`:${m.shortcode}:`}function u(m){if(o(m.target))return;const p=m.target,{shortcodes:f,unicode:v}=i(p),{src:y}=m.target;if(typeof f>"u"){e.current.placeholder="Search",l({unicode:"",shortcode:"slight_smile",src:"https://twemoji.maxcdn.com/v/13.1.0/72x72/1f642.png"});return}e.current.placeholder!==f[0]&&(e.current.setAttribute("placeholder",f[0]),l({shortcode:f[0],src:y,unicode:v}))}function d(){const m=e.current.value;Iu.search(m),n.current.scrollTop=0}const[s,g]=X.exports.useState([]),[c,h]=X.exports.useState([]),_=c.length>0?1:0;X.exports.useEffect(()=>{const m=f=>{if(!f){g([]);return}const v=Fe.matrixClient,y=v.getRoom(f),b=[...Fe.roomList.getAllParentSpaces(y.roomId)].map(S=>v.getRoom(S));if(y){const S=$m(y.client,[y,...b]).filter(x=>x.getEmojis().length!==0);for(let x=0;x<S.length;x+=1)S[x].packIndex=x;g(S)}},p=()=>{e.current.value="",d(),h(FP(3*vb))};return je.on(te.events.navigation.ROOM_SELECTED,m),je.on(te.events.navigation.EMOJIBOARD_OPENED,p),()=>{je.removeListener(te.events.navigation.ROOM_SELECTED,m),je.removeListener(te.events.navigation.EMOJIBOARD_OPENED,p)}},[]);function F(m){let p=m;const f=n.current.firstElementChild,v=f.childElementCount;v>$h.length&&(p+=v-$h.length-s.length-_),f.children[p].scrollIntoView()}return re("div",{id:"emoji-board",className:"emoji-board",children:[E(Kt,{invisible:!0,children:re("div",{className:"emoji-board__nav",children:[c.length>0&&E(Ye,{onClick:()=>F(0),src:yP,tooltip:"Recent",tooltipPlacement:"left"}),E("div",{className:"emoji-board__nav-custom",children:s.map(m=>{const p=Fe.matrixClient.mxcUrlToHttp(m.avatarUrl??m.getEmojis()[0].mxc);return E(Ye,{onClick:()=>F(_+m.packIndex),src:p,tooltip:m.displayName??"Unknown",tooltipPlacement:"left",isImage:!0},m.packIndex)})}),E("div",{className:"emoji-board__nav-twemoji",children:[[0,Bg,"Smilies"],[1,kde,"Animals"],[2,Sde,"Food"],[3,xde,"Activities"],[4,Cde,"Travel"],[5,Tde,"Objects"],[6,Ide,"Symbols"],[7,Rde,"Flags"]].map(([m,p,f])=>E(Ye,{onClick:()=>F(_+s.length+m),src:p,tooltip:f,tooltipPlacement:"left"},m))})]})}),re("div",{className:"emoji-board__content",children:[re("div",{className:"emoji-board__content__search",children:[E(It,{size:"small",src:zi}),E(dt,{onChange:d,forwardRef:e,placeholder:"Search"})]}),E("div",{className:"emoji-board__content__emojis",children:E(Kt,{ref:n,autoHide:!0,children:re("div",{onMouseMove:u,onClick:a,children:[E(Ade,{}),c.length>0&&E(of,{name:"Recently used",groupEmojis:c}),s.map(m=>E(of,{name:m.displayName??"Unknown",groupEmojis:m.getEmojis(),className:"custom-emoji-group"},m.packIndex)),$h.map(m=>E(of,{name:m.name,groupEmojis:m.emojis},m.name))]})})}),re("div",{ref:r,className:"emoji-board__content__info",children:[E("div",{children:hF(fF.parse("",{base:Uf}))}),E(ue,{children:":slight_smile:"})]})]})]})}LP.propTypes={onSelect:J.exports.func.isRequired,searchRef:J.exports.shape({}).isRequired};let ch=null,V2=!1;function Ode(){const t=X.exports.useRef(null),e=X.exports.useRef(null);function n(i,a){if(ch!==null||V2){ch=null,i.detail===0&&t.current.click();return}t.current.style.transform=`translate(${i.x}px, ${i.y}px)`,ch=a,t.current.click()}function r(i){V2=i,i?at.isTouchScreenDevice||e.current.focus():setTimeout(()=>{V2||(ch=null)},500)}function o(i){ch(i)}return X.exports.useEffect(()=>(je.on(te.events.navigation.EMOJIBOARD_OPENED,n),()=>{je.removeListener(te.events.navigation.EMOJIBOARD_OPENED,n)}),[]),E(os,{content:E(LP,{onSelect:o,searchRef:e}),afterToggle:r,render:i=>E("input",{ref:t,onClick:i,type:"button",style:{width:"32px",height:"32px",backgroundColor:"transparent",position:"absolute",top:0,left:0,padding:0,border:"none",visibility:"hidden"}})})}function UP({isOpen:t}){return E(Tl,{className:"drag-drop__modal",overlayClassName:"drag-drop__overlay",isOpen:t,children:E(ue,{variant:"h2",weight:"medium",children:"Drop file to upload"})})}UP.propTypes={isOpen:J.exports.bool.isRequired};function Bde(){const[t,e]=X.exports.useState(!0),[n,r]=X.exports.useState(!1),[o,i]=X.exports.useState("Heating up"),[a,l]=X.exports.useState(0),u="client__item-hidden",d="toggle-hidden",s=X.exports.useRef(null),g=X.exports.useRef(null);function c(){var w,b,S;(w=s.current)==null||w.classList.add(u),(b=g.current)==null||b.classList.remove(u),at.hideNavigation&&(r(je.selectedRoomId),(S=s.current)==null||S.classList.add(d))}function h(){var w,b,S;(w=s.current)==null||w.classList.remove(u),(b=s.current)==null||b.classList.remove(d),(S=g.current)==null||S.classList.add(u)}function _(){var w;(w=s.current)==null||w.classList.toggle(d)}if(X.exports.useEffect(()=>(je.on(te.events.navigation.ROOM_SELECTED,c),je.on(te.events.navigation.NAVIGATION_OPENED,h),je.on(te.events.navigation.NAVIGATION_TOGGLED,_),()=>{je.removeListener(te.events.navigation.ROOM_SELECTED,c),je.removeListener(te.events.navigation.NAVIGATION_OPENED,h),je.removeListener(te.events.navigation.NAVIGATION_TOGGLED,_)}),[]),X.exports.useEffect(()=>{let w=0;const b=setInterval(()=>{const S=["Almost there...","Looks like you have a lot of stuff to heat up!"];if(w===S.length-1){i(S[S.length-1]),clearInterval(b);return}i(S[w]),w+=1},15e3);Fe.once("init_loading_finished",()=>{clearInterval(b),gre(),pre(Fe.roomList),e(!1)}),Fe.init()},[]),t)return re("div",{className:"loading-display",children:[E("div",{className:"loading__menu",children:E(os,{placement:"bottom",content:re(Qe,{children:[E(ft,{onClick:()=>Fe.clearCacheAndReload(),children:"Clear cache & reload"}),E(ft,{onClick:()=>Fe.logout(),children:"Logout"})]}),render:w=>E(Ye,{size:"extra-small",onClick:w,src:RF})})}),E(yt,{}),E(ue,{className:"loading__message",variant:"b2",children:o}),E("div",{className:"loading__appname",children:E(ue,{variant:"h2",weight:"medium",children:"Cinny"})})]});function F(w){if(!w.dataTransfer.types)return!1;for(let b=0;b<w.dataTransfer.types.length;b+=1)if(w.dataTransfer.types[b]==="Files")return!0;return!1}function m(){return je.isRawModalVisible&&a<=0}function p(w){F(w)&&(w.preventDefault(),(!je.selectedRoomId||m())&&(w.dataTransfer.dropEffect="none"))}function f(w){w.preventDefault(),je.selectedRoomId&&!m()&&F(w)&&l(a+1)}function v(w){w.preventDefault(),je.selectedRoomId&&!m()&&F(w)&&l(a-1)}function y(w){if(w.preventDefault(),l(0),m())return;const b=je.selectedRoomId;if(!b)return;const{files:S}=w.dataTransfer;if(!(S!=null&&S.length))return;const x=S[0];Fe.roomsInput.setAttachment(b,x),Fe.roomsInput.emit(te.events.roomsInput.ATTACHMENT_SET,x)}return re("div",{className:"client-container",onDragOver:p,onDragEnter:f,onDragLeave:v,onDrop:y,children:[E("div",{className:`navigation__wrapper ${at.hideNavigation&&n?d:""}`,ref:s,children:E(bue,{})}),E("div",{className:`room__wrapper ${u}`,ref:g,children:E(qce,{})}),E(ede,{}),E(Dde,{}),E(Ode,{}),E(Eue,{}),E(UP,{isOpen:a!==0})]})}function Pde(){return lL()?E(Bde,{}):E(dre,{})}at.applyTheme();WN.render(E(Pde,{}),document.getElementById("root"));export{nn as R,E as j,J as p,X as r};
//# sourceMappingURL=index-2eaaa95d.js.map
